
if (typeof(Storage) !== "undefined") {

  let mySource = document.currentScript.src;
  let sscript = document.getElementById("saito");
  let data = null;
  let options = null;
  let bundle = null;

  data = localStorage.getItem("options");
  if (data) { options = JSON.parse(data); }
  if (options) { bundle = options.bundle; }

  
  if (bundle != null && bundle != "") {
    if (bundle != mySource) {
      document.body.removeChild(sscript);

      let sscript2 = document.createElement('script');
      sscript2.onload = function () { };
      sscript2.src = bundle;
      document.body.appendChild(sscript2);

      throw new Error('Exiting before we load bad javascript...!');
    }
  }

}

!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=665)}([function(e,t,r){"use strict";function n(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=0;function a(e){return"__private_"+n+++"_"+e}},,function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t,r){var n=r(13),a=r(42),i=r(32),s=r(33),o=r(43),c=function(e,t,r){var u,l,d,h,p=e&c.F,f=e&c.G,m=e&c.S,g=e&c.P,y=e&c.B,b=f?n:m?n[t]||(n[t]={}):(n[t]||{}).prototype,v=f?a:a[t]||(a[t]={}),_=v.prototype||(v.prototype={});for(u in f&&(r=t),r)d=((l=!p&&b&&void 0!==b[u])?b:r)[u],h=y&&l?o(d,n):g&&"function"==typeof d?o(Function.call,d):d,b&&s(b,u,d,e&c.U),v[u]!=d&&i(v,u,h),g&&_[u]!=d&&(_[u]=d)};n.core=a,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},,,function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){(function(e){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function a(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(917).Buffer}catch(e){}function o(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var n=o(e,r);return r-1>=t&&(n|=o(e,r-1)<<4),n}function u(e,t,r,n){for(var a=0,i=Math.min(e.length,r),s=t;s<i;s++){var o=e.charCodeAt(s)-48;a*=n,a+=o>=49?o-49+10:o>=17?o-17+10:o}return a}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var a=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(a++,this.negative=1),a<e.length&&(16===t?this._parseHex(e,a,r):(this._parseBase(e,t,a),"le"===r&&this._initArray(this.toArray(),t,r)))},i.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var i,s,o=0;if("be"===r)for(a=e.length-1,i=0;a>=0;a-=3)s=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);else if("le"===r)for(a=0,i=0;a<e.length;a+=3)s=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var a,i=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)a=c(e,t,n)<<i,this.words[s]|=67108863&a,i>=18?(i-=18,s+=1,this.words[s]|=a>>>26):i+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)a=c(e,t,n)<<i,this.words[s]|=67108863&a,i>=18?(i-=18,s+=1,this.words[s]|=a>>>26):i+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,a=1;a<=67108863;a*=t)n++;n--,a=a/t|0;for(var i=e.length-r,s=i%n,o=Math.min(i,i-s)+r,c=0,l=r;l<o;l+=n)c=u(e,l,l+n,t),this.imuln(a),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(e,l,e.length,t),l=0;l<s;l++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var a=0|e.words[0],i=0|t.words[0],s=a*i,o=67108863&s,c=s/67108864|0;r.words[0]=o;for(var u=1;u<n;u++){for(var l=c>>>26,d=67108863&c,h=Math.min(u,t.length-1),p=Math.max(0,u-e.length+1);p<=h;p++){var f=u-p|0;l+=(s=(a=0|e.words[f])*(i=0|t.words[p])+d)/67108864|0,d=67108863&s}r.words[u]=0|d,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}i.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var a=0,i=0,s=0;s<this.length;s++){var o=this.words[s],c=(16777215&(o<<a|i)).toString(16);r=0!==(i=o>>>24-a&16777215)||s!==this.length-1?l[6-c.length]+c+r:c+r,(a+=2)>=26&&(a-=26,s--)}for(0!==i&&(r=i.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],p=h[e];r="";var f=this.clone();for(f.negative=0;!f.isZero();){var m=f.modn(p).toString(e);r=(f=f.idivn(p)).isZero()?m+r:l[u-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return n(void 0!==s),this.toArrayLike(s,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,r){var a=this.byteLength(),i=r||Math.max(1,a);n(a<=i,"byte array longer than desired length"),n(i>0,"Requested array length <= 0"),this.strip();var s,o,c="le"===t,u=new e(i),l=this.clone();if(c){for(o=0;!l.isZero();o++)s=l.andln(255),l.iushrn(8),u[o]=s;for(;o<i;o++)u[o]=0}else{for(o=0;o<i-a;o++)u[o]=0;for(o=0;!l.isZero();o++)s=l.andln(255),l.iushrn(8),u[i-o-1]=s}return u},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var a=0;a<t;a++)this.words[a]=67108863&~this.words[a];return r>0&&(this.words[a]=~this.words[a]&67108863>>26-r),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,a=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<a:this.words[r]&~(1<<a),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var a=0,i=0;i<n.length;i++)t=(0|r.words[i])+(0|n.words[i])+a,this.words[i]=67108863&t,a=t>>>26;for(;0!==a&&i<r.length;i++)t=(0|r.words[i])+a,this.words[i]=67108863&t,a=t>>>26;if(this.length=r.length,0!==a)this.words[this.length]=a,this.length++;else if(r!==this)for(;i<r.length;i++)this.words[i]=r.words[i];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,a=this.cmp(e);if(0===a)return this.negative=0,this.length=1,this.words[0]=0,this;a>0?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)i=(t=(0|r.words[s])-(0|n.words[s])+i)>>26,this.words[s]=67108863&t;for(;0!==i&&s<r.length;s++)i=(t=(0|r.words[s])+i)>>26,this.words[s]=67108863&t;if(0===i&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var f=function(e,t,r){var n,a,i,s=e.words,o=t.words,c=r.words,u=0,l=0|s[0],d=8191&l,h=l>>>13,p=0|s[1],f=8191&p,m=p>>>13,g=0|s[2],y=8191&g,b=g>>>13,v=0|s[3],_=8191&v,w=v>>>13,x=0|s[4],k=8191&x,S=x>>>13,O=0|s[5],P=8191&O,E=O>>>13,A=0|s[6],C=8191&A,T=A>>>13,D=0|s[7],j=8191&D,M=D>>>13,I=0|s[8],R=8191&I,B=I>>>13,N=0|s[9],F=8191&N,q=N>>>13,L=0|o[0],H=8191&L,U=L>>>13,z=0|o[1],V=8191&z,G=z>>>13,W=0|o[2],K=8191&W,Y=W>>>13,X=0|o[3],J=8191&X,Q=X>>>13,Z=0|o[4],$=8191&Z,ee=Z>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ae=0|o[6],ie=8191&ae,se=ae>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,le=0|o[8],de=8191&le,he=le>>>13,pe=0|o[9],fe=8191&pe,me=pe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(u+(n=Math.imul(d,H))|0)+((8191&(a=(a=Math.imul(d,U))+Math.imul(h,H)|0))<<13)|0;u=((i=Math.imul(h,U))+(a>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(f,H),a=(a=Math.imul(f,U))+Math.imul(m,H)|0,i=Math.imul(m,U);var ye=(u+(n=n+Math.imul(d,V)|0)|0)+((8191&(a=(a=a+Math.imul(d,G)|0)+Math.imul(h,V)|0))<<13)|0;u=((i=i+Math.imul(h,G)|0)+(a>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,H),a=(a=Math.imul(y,U))+Math.imul(b,H)|0,i=Math.imul(b,U),n=n+Math.imul(f,V)|0,a=(a=a+Math.imul(f,G)|0)+Math.imul(m,V)|0,i=i+Math.imul(m,G)|0;var be=(u+(n=n+Math.imul(d,K)|0)|0)+((8191&(a=(a=a+Math.imul(d,Y)|0)+Math.imul(h,K)|0))<<13)|0;u=((i=i+Math.imul(h,Y)|0)+(a>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(_,H),a=(a=Math.imul(_,U))+Math.imul(w,H)|0,i=Math.imul(w,U),n=n+Math.imul(y,V)|0,a=(a=a+Math.imul(y,G)|0)+Math.imul(b,V)|0,i=i+Math.imul(b,G)|0,n=n+Math.imul(f,K)|0,a=(a=a+Math.imul(f,Y)|0)+Math.imul(m,K)|0,i=i+Math.imul(m,Y)|0;var ve=(u+(n=n+Math.imul(d,J)|0)|0)+((8191&(a=(a=a+Math.imul(d,Q)|0)+Math.imul(h,J)|0))<<13)|0;u=((i=i+Math.imul(h,Q)|0)+(a>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,H),a=(a=Math.imul(k,U))+Math.imul(S,H)|0,i=Math.imul(S,U),n=n+Math.imul(_,V)|0,a=(a=a+Math.imul(_,G)|0)+Math.imul(w,V)|0,i=i+Math.imul(w,G)|0,n=n+Math.imul(y,K)|0,a=(a=a+Math.imul(y,Y)|0)+Math.imul(b,K)|0,i=i+Math.imul(b,Y)|0,n=n+Math.imul(f,J)|0,a=(a=a+Math.imul(f,Q)|0)+Math.imul(m,J)|0,i=i+Math.imul(m,Q)|0;var _e=(u+(n=n+Math.imul(d,$)|0)|0)+((8191&(a=(a=a+Math.imul(d,ee)|0)+Math.imul(h,$)|0))<<13)|0;u=((i=i+Math.imul(h,ee)|0)+(a>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,H),a=(a=Math.imul(P,U))+Math.imul(E,H)|0,i=Math.imul(E,U),n=n+Math.imul(k,V)|0,a=(a=a+Math.imul(k,G)|0)+Math.imul(S,V)|0,i=i+Math.imul(S,G)|0,n=n+Math.imul(_,K)|0,a=(a=a+Math.imul(_,Y)|0)+Math.imul(w,K)|0,i=i+Math.imul(w,Y)|0,n=n+Math.imul(y,J)|0,a=(a=a+Math.imul(y,Q)|0)+Math.imul(b,J)|0,i=i+Math.imul(b,Q)|0,n=n+Math.imul(f,$)|0,a=(a=a+Math.imul(f,ee)|0)+Math.imul(m,$)|0,i=i+Math.imul(m,ee)|0;var we=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(a=(a=a+Math.imul(d,ne)|0)+Math.imul(h,re)|0))<<13)|0;u=((i=i+Math.imul(h,ne)|0)+(a>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(C,H),a=(a=Math.imul(C,U))+Math.imul(T,H)|0,i=Math.imul(T,U),n=n+Math.imul(P,V)|0,a=(a=a+Math.imul(P,G)|0)+Math.imul(E,V)|0,i=i+Math.imul(E,G)|0,n=n+Math.imul(k,K)|0,a=(a=a+Math.imul(k,Y)|0)+Math.imul(S,K)|0,i=i+Math.imul(S,Y)|0,n=n+Math.imul(_,J)|0,a=(a=a+Math.imul(_,Q)|0)+Math.imul(w,J)|0,i=i+Math.imul(w,Q)|0,n=n+Math.imul(y,$)|0,a=(a=a+Math.imul(y,ee)|0)+Math.imul(b,$)|0,i=i+Math.imul(b,ee)|0,n=n+Math.imul(f,re)|0,a=(a=a+Math.imul(f,ne)|0)+Math.imul(m,re)|0,i=i+Math.imul(m,ne)|0;var xe=(u+(n=n+Math.imul(d,ie)|0)|0)+((8191&(a=(a=a+Math.imul(d,se)|0)+Math.imul(h,ie)|0))<<13)|0;u=((i=i+Math.imul(h,se)|0)+(a>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(j,H),a=(a=Math.imul(j,U))+Math.imul(M,H)|0,i=Math.imul(M,U),n=n+Math.imul(C,V)|0,a=(a=a+Math.imul(C,G)|0)+Math.imul(T,V)|0,i=i+Math.imul(T,G)|0,n=n+Math.imul(P,K)|0,a=(a=a+Math.imul(P,Y)|0)+Math.imul(E,K)|0,i=i+Math.imul(E,Y)|0,n=n+Math.imul(k,J)|0,a=(a=a+Math.imul(k,Q)|0)+Math.imul(S,J)|0,i=i+Math.imul(S,Q)|0,n=n+Math.imul(_,$)|0,a=(a=a+Math.imul(_,ee)|0)+Math.imul(w,$)|0,i=i+Math.imul(w,ee)|0,n=n+Math.imul(y,re)|0,a=(a=a+Math.imul(y,ne)|0)+Math.imul(b,re)|0,i=i+Math.imul(b,ne)|0,n=n+Math.imul(f,ie)|0,a=(a=a+Math.imul(f,se)|0)+Math.imul(m,ie)|0,i=i+Math.imul(m,se)|0;var ke=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(a=(a=a+Math.imul(d,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((i=i+Math.imul(h,ue)|0)+(a>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(R,H),a=(a=Math.imul(R,U))+Math.imul(B,H)|0,i=Math.imul(B,U),n=n+Math.imul(j,V)|0,a=(a=a+Math.imul(j,G)|0)+Math.imul(M,V)|0,i=i+Math.imul(M,G)|0,n=n+Math.imul(C,K)|0,a=(a=a+Math.imul(C,Y)|0)+Math.imul(T,K)|0,i=i+Math.imul(T,Y)|0,n=n+Math.imul(P,J)|0,a=(a=a+Math.imul(P,Q)|0)+Math.imul(E,J)|0,i=i+Math.imul(E,Q)|0,n=n+Math.imul(k,$)|0,a=(a=a+Math.imul(k,ee)|0)+Math.imul(S,$)|0,i=i+Math.imul(S,ee)|0,n=n+Math.imul(_,re)|0,a=(a=a+Math.imul(_,ne)|0)+Math.imul(w,re)|0,i=i+Math.imul(w,ne)|0,n=n+Math.imul(y,ie)|0,a=(a=a+Math.imul(y,se)|0)+Math.imul(b,ie)|0,i=i+Math.imul(b,se)|0,n=n+Math.imul(f,ce)|0,a=(a=a+Math.imul(f,ue)|0)+Math.imul(m,ce)|0,i=i+Math.imul(m,ue)|0;var Se=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(a=(a=a+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;u=((i=i+Math.imul(h,he)|0)+(a>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(F,H),a=(a=Math.imul(F,U))+Math.imul(q,H)|0,i=Math.imul(q,U),n=n+Math.imul(R,V)|0,a=(a=a+Math.imul(R,G)|0)+Math.imul(B,V)|0,i=i+Math.imul(B,G)|0,n=n+Math.imul(j,K)|0,a=(a=a+Math.imul(j,Y)|0)+Math.imul(M,K)|0,i=i+Math.imul(M,Y)|0,n=n+Math.imul(C,J)|0,a=(a=a+Math.imul(C,Q)|0)+Math.imul(T,J)|0,i=i+Math.imul(T,Q)|0,n=n+Math.imul(P,$)|0,a=(a=a+Math.imul(P,ee)|0)+Math.imul(E,$)|0,i=i+Math.imul(E,ee)|0,n=n+Math.imul(k,re)|0,a=(a=a+Math.imul(k,ne)|0)+Math.imul(S,re)|0,i=i+Math.imul(S,ne)|0,n=n+Math.imul(_,ie)|0,a=(a=a+Math.imul(_,se)|0)+Math.imul(w,ie)|0,i=i+Math.imul(w,se)|0,n=n+Math.imul(y,ce)|0,a=(a=a+Math.imul(y,ue)|0)+Math.imul(b,ce)|0,i=i+Math.imul(b,ue)|0,n=n+Math.imul(f,de)|0,a=(a=a+Math.imul(f,he)|0)+Math.imul(m,de)|0,i=i+Math.imul(m,he)|0;var Oe=(u+(n=n+Math.imul(d,fe)|0)|0)+((8191&(a=(a=a+Math.imul(d,me)|0)+Math.imul(h,fe)|0))<<13)|0;u=((i=i+Math.imul(h,me)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(F,V),a=(a=Math.imul(F,G))+Math.imul(q,V)|0,i=Math.imul(q,G),n=n+Math.imul(R,K)|0,a=(a=a+Math.imul(R,Y)|0)+Math.imul(B,K)|0,i=i+Math.imul(B,Y)|0,n=n+Math.imul(j,J)|0,a=(a=a+Math.imul(j,Q)|0)+Math.imul(M,J)|0,i=i+Math.imul(M,Q)|0,n=n+Math.imul(C,$)|0,a=(a=a+Math.imul(C,ee)|0)+Math.imul(T,$)|0,i=i+Math.imul(T,ee)|0,n=n+Math.imul(P,re)|0,a=(a=a+Math.imul(P,ne)|0)+Math.imul(E,re)|0,i=i+Math.imul(E,ne)|0,n=n+Math.imul(k,ie)|0,a=(a=a+Math.imul(k,se)|0)+Math.imul(S,ie)|0,i=i+Math.imul(S,se)|0,n=n+Math.imul(_,ce)|0,a=(a=a+Math.imul(_,ue)|0)+Math.imul(w,ce)|0,i=i+Math.imul(w,ue)|0,n=n+Math.imul(y,de)|0,a=(a=a+Math.imul(y,he)|0)+Math.imul(b,de)|0,i=i+Math.imul(b,he)|0;var Pe=(u+(n=n+Math.imul(f,fe)|0)|0)+((8191&(a=(a=a+Math.imul(f,me)|0)+Math.imul(m,fe)|0))<<13)|0;u=((i=i+Math.imul(m,me)|0)+(a>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(F,K),a=(a=Math.imul(F,Y))+Math.imul(q,K)|0,i=Math.imul(q,Y),n=n+Math.imul(R,J)|0,a=(a=a+Math.imul(R,Q)|0)+Math.imul(B,J)|0,i=i+Math.imul(B,Q)|0,n=n+Math.imul(j,$)|0,a=(a=a+Math.imul(j,ee)|0)+Math.imul(M,$)|0,i=i+Math.imul(M,ee)|0,n=n+Math.imul(C,re)|0,a=(a=a+Math.imul(C,ne)|0)+Math.imul(T,re)|0,i=i+Math.imul(T,ne)|0,n=n+Math.imul(P,ie)|0,a=(a=a+Math.imul(P,se)|0)+Math.imul(E,ie)|0,i=i+Math.imul(E,se)|0,n=n+Math.imul(k,ce)|0,a=(a=a+Math.imul(k,ue)|0)+Math.imul(S,ce)|0,i=i+Math.imul(S,ue)|0,n=n+Math.imul(_,de)|0,a=(a=a+Math.imul(_,he)|0)+Math.imul(w,de)|0,i=i+Math.imul(w,he)|0;var Ee=(u+(n=n+Math.imul(y,fe)|0)|0)+((8191&(a=(a=a+Math.imul(y,me)|0)+Math.imul(b,fe)|0))<<13)|0;u=((i=i+Math.imul(b,me)|0)+(a>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(F,J),a=(a=Math.imul(F,Q))+Math.imul(q,J)|0,i=Math.imul(q,Q),n=n+Math.imul(R,$)|0,a=(a=a+Math.imul(R,ee)|0)+Math.imul(B,$)|0,i=i+Math.imul(B,ee)|0,n=n+Math.imul(j,re)|0,a=(a=a+Math.imul(j,ne)|0)+Math.imul(M,re)|0,i=i+Math.imul(M,ne)|0,n=n+Math.imul(C,ie)|0,a=(a=a+Math.imul(C,se)|0)+Math.imul(T,ie)|0,i=i+Math.imul(T,se)|0,n=n+Math.imul(P,ce)|0,a=(a=a+Math.imul(P,ue)|0)+Math.imul(E,ce)|0,i=i+Math.imul(E,ue)|0,n=n+Math.imul(k,de)|0,a=(a=a+Math.imul(k,he)|0)+Math.imul(S,de)|0,i=i+Math.imul(S,he)|0;var Ae=(u+(n=n+Math.imul(_,fe)|0)|0)+((8191&(a=(a=a+Math.imul(_,me)|0)+Math.imul(w,fe)|0))<<13)|0;u=((i=i+Math.imul(w,me)|0)+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(F,$),a=(a=Math.imul(F,ee))+Math.imul(q,$)|0,i=Math.imul(q,ee),n=n+Math.imul(R,re)|0,a=(a=a+Math.imul(R,ne)|0)+Math.imul(B,re)|0,i=i+Math.imul(B,ne)|0,n=n+Math.imul(j,ie)|0,a=(a=a+Math.imul(j,se)|0)+Math.imul(M,ie)|0,i=i+Math.imul(M,se)|0,n=n+Math.imul(C,ce)|0,a=(a=a+Math.imul(C,ue)|0)+Math.imul(T,ce)|0,i=i+Math.imul(T,ue)|0,n=n+Math.imul(P,de)|0,a=(a=a+Math.imul(P,he)|0)+Math.imul(E,de)|0,i=i+Math.imul(E,he)|0;var Ce=(u+(n=n+Math.imul(k,fe)|0)|0)+((8191&(a=(a=a+Math.imul(k,me)|0)+Math.imul(S,fe)|0))<<13)|0;u=((i=i+Math.imul(S,me)|0)+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(F,re),a=(a=Math.imul(F,ne))+Math.imul(q,re)|0,i=Math.imul(q,ne),n=n+Math.imul(R,ie)|0,a=(a=a+Math.imul(R,se)|0)+Math.imul(B,ie)|0,i=i+Math.imul(B,se)|0,n=n+Math.imul(j,ce)|0,a=(a=a+Math.imul(j,ue)|0)+Math.imul(M,ce)|0,i=i+Math.imul(M,ue)|0,n=n+Math.imul(C,de)|0,a=(a=a+Math.imul(C,he)|0)+Math.imul(T,de)|0,i=i+Math.imul(T,he)|0;var Te=(u+(n=n+Math.imul(P,fe)|0)|0)+((8191&(a=(a=a+Math.imul(P,me)|0)+Math.imul(E,fe)|0))<<13)|0;u=((i=i+Math.imul(E,me)|0)+(a>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(F,ie),a=(a=Math.imul(F,se))+Math.imul(q,ie)|0,i=Math.imul(q,se),n=n+Math.imul(R,ce)|0,a=(a=a+Math.imul(R,ue)|0)+Math.imul(B,ce)|0,i=i+Math.imul(B,ue)|0,n=n+Math.imul(j,de)|0,a=(a=a+Math.imul(j,he)|0)+Math.imul(M,de)|0,i=i+Math.imul(M,he)|0;var De=(u+(n=n+Math.imul(C,fe)|0)|0)+((8191&(a=(a=a+Math.imul(C,me)|0)+Math.imul(T,fe)|0))<<13)|0;u=((i=i+Math.imul(T,me)|0)+(a>>>13)|0)+(De>>>26)|0,De&=67108863,n=Math.imul(F,ce),a=(a=Math.imul(F,ue))+Math.imul(q,ce)|0,i=Math.imul(q,ue),n=n+Math.imul(R,de)|0,a=(a=a+Math.imul(R,he)|0)+Math.imul(B,de)|0,i=i+Math.imul(B,he)|0;var je=(u+(n=n+Math.imul(j,fe)|0)|0)+((8191&(a=(a=a+Math.imul(j,me)|0)+Math.imul(M,fe)|0))<<13)|0;u=((i=i+Math.imul(M,me)|0)+(a>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(F,de),a=(a=Math.imul(F,he))+Math.imul(q,de)|0,i=Math.imul(q,he);var Me=(u+(n=n+Math.imul(R,fe)|0)|0)+((8191&(a=(a=a+Math.imul(R,me)|0)+Math.imul(B,fe)|0))<<13)|0;u=((i=i+Math.imul(B,me)|0)+(a>>>13)|0)+(Me>>>26)|0,Me&=67108863;var Ie=(u+(n=Math.imul(F,fe))|0)+((8191&(a=(a=Math.imul(F,me))+Math.imul(q,fe)|0))<<13)|0;return u=((i=Math.imul(q,me))+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,c[0]=ge,c[1]=ye,c[2]=be,c[3]=ve,c[4]=_e,c[5]=we,c[6]=xe,c[7]=ke,c[8]=Se,c[9]=Oe,c[10]=Pe,c[11]=Ee,c[12]=Ae,c[13]=Ce,c[14]=Te,c[15]=De,c[16]=je,c[17]=Me,c[18]=Ie,0!==u&&(c[19]=u,r.length++),r};function m(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(f=p),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?f(this,e,t):r<63?p(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,a=0,i=0;i<r.length-1;i++){var s=a;a=0;for(var o=67108863&n,c=Math.min(i,t.length-1),u=Math.max(0,i-e.length+1);u<=c;u++){var l=i-u,d=(0|e.words[l])*(0|t.words[u]),h=67108863&d;o=67108863&(h=h+o|0),a+=(s=(s=s+(d/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[i]=o,n=s,s=a}return 0!==n?r.words[i]=n:r.length--,r.strip()}(this,e,t):m(this,e,t)},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,a=0;a<t;a++)n|=(1&e)<<t-a-1,e>>=1;return n},g.prototype.permute=function(e,t,r,n,a,i){for(var s=0;s<i;s++)n[s]=t[e[s]],a[s]=r[e[s]]},g.prototype.transform=function(e,t,r,n,a,i){this.permute(i,e,t,r,n,a);for(var s=1;s<a;s<<=1)for(var o=s<<1,c=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),l=0;l<a;l+=o)for(var d=c,h=u,p=0;p<s;p++){var f=r[l+p],m=n[l+p],g=r[l+p+s],y=n[l+p+s],b=d*g-h*y;y=d*y+h*g,g=b,r[l+p]=f+g,n[l+p]=m+y,r[l+p+s]=f-g,n[l+p+s]=m-y,p!==o&&(b=c*d-u*h,h=c*h+u*d,d=b)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,a=0;for(r=r/2|0;r;r>>>=1)a++;return 1<<a+1+n},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var a=e[n];e[n]=e[r-n-1],e[r-n-1]=a,a=t[n],t[n]=-t[r-n-1],t[r-n-1]=-a}},g.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var a=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&a,r=a<67108864?0:a/67108864|0}return e},g.prototype.convert13b=function(e,t,r,a){for(var i=0,s=0;s<t;s++)i+=0|e[s],r[2*s]=8191&i,i>>>=13,r[2*s+1]=8191&i,i>>>=13;for(s=2*t;s<a;++s)r[s]=0;n(0===i),n(0==(-8192&i))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),a=this.makeRBT(n),i=this.stub(n),s=new Array(n),o=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),d=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,i,o,c,n,a),this.transform(u,i,l,d,n,a);for(var p=0;p<n;p++){var f=o[p]*l[p]-c[p]*d[p];c[p]=o[p]*d[p]+c[p]*l[p],o[p]=f}return this.conjugate(o,c,n),this.transform(o,c,h,i,n,a),this.conjugate(h,i,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),m(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var a=(0|this.words[r])*e,i=(67108863&a)+(67108863&t);t>>=26,t+=a/67108864|0,t+=i>>>26,this.words[r]=67108863&i}return 0!==t&&(this.words[r]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,a=r%26;t[r]=(e.words[n]&1<<a)>>>a}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},i.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,a=(e-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&i,c=(0|this.words[t])-o<<r;this.words[t]=c|s,s=o>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==a){for(t=this.length-1;t>=0;t--)this.words[t+a]=this.words[t];for(t=0;t<a;t++)this.words[t]=0;this.length+=a}return this.strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,r){var a;n("number"==typeof e&&e>=0),a=t?(t-t%26)/26:0;var i=e%26,s=Math.min((e-i)/26,this.length),o=67108863^67108863>>>i<<i,c=r;if(a-=s,a=Math.max(0,a),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=a);u--){var d=0|this.words[u];this.words[u]=l<<26-i|d>>>i,l=d&o}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,a=1<<t;return!(this.length<=r)&&!!(this.words[r]&a)},i.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var a=67108863^67108863>>>t<<t;this.words[this.length-1]&=a}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,r){var a,i,s=e.length+r;this._expand(s);var o=0;for(a=0;a<e.length;a++){i=(0|this.words[a+r])+o;var c=(0|e.words[a])*t;o=((i-=67108863&c)>>26)-(c/67108864|0),this.words[a+r]=67108863&i}for(;a<this.length-r;a++)o=(i=(0|this.words[a+r])+o)>>26,this.words[a+r]=67108863&i;if(0===o)return this.strip();for(n(-1===o),o=0,a=0;a<this.length;a++)o=(i=-(0|this.words[a])+o)>>26,this.words[a]=67108863&i;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),a=e,s=0|a.words[a.length-1];0!==(r=26-this._countBits(s))&&(a=a.ushln(r),n.iushln(r),s=0|a.words[a.length-1]);var o,c=n.length-a.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var l=n.clone()._ishlnsubmul(a,1,c);0===l.negative&&(n=l,o&&(o.words[c]=1));for(var d=c-1;d>=0;d--){var h=67108864*(0|n.words[a.length+d])+(0|n.words[a.length+d-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(a,h,d);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(a,1,d),n.isZero()||(n.negative^=1);o&&(o.words[d]=h)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},i.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var a,s,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),a=e.andln(1),i=r.cmp(n);return i<0||1===a&&0===i?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,a=this.length-1;a>=0;a--)r=(t*r+(0|this.words[a]))%e;return r},i.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var a=(0|this.words[r])+67108864*t;this.words[r]=a/e|0,t=a%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),s=new i(0),o=new i(0),c=new i(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),d=t.clone();!t.isZero();){for(var h=0,p=1;0==(t.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(l),s.isub(d)),a.iushrn(1),s.iushrn(1);for(var f=0,m=1;0==(r.words[0]&m)&&f<26;++f,m<<=1);if(f>0)for(r.iushrn(f);f-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(l),c.isub(d)),o.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o),s.isub(c)):(r.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:r.iushln(u)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,s=new i(1),o=new i(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,h=1;0==(r.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(r.iushrn(d);d-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(o)):(r.isub(t),o.isub(s))}return(a=0===t.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var a=t.cmp(r);if(a<0){var i=t;t=r,r=i}else if(0===a||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,a=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=a,this;for(var i=a,s=r;0!==i&&s<this.length;s++){var o=0|this.words[s];i=(o+=i)>>>26,o&=67108863,this.words[s]=o}return 0!==i&&(this.words[s]=i,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var a=0|this.words[0];t=a===e?0:a<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],a=0|e.words[r];if(n!==a){n<a?t=-1:n>a&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new k(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},a(v,b),v.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=4194303&a,n=10;n<e.length;n++){var i=0|e.words[n];e.words[n-10]=(4194303&i)<<4|a>>>22,a=i}a>>>=22,e.words[n-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},a(_,b),a(w,b),a(x,b),x.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,a=67108863&n;n>>>=26,e.words[r]=a,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new _;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return y[e]=t,t},k.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new i(1)).iushrn(2);return this.pow(e,r)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);n(!a.isZero());var o=new i(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var d=this.pow(l,a),h=this.pow(e,a.addn(1).iushrn(1)),p=this.pow(e,a),f=s;0!==p.cmp(o);){for(var m=p,g=0;0!==m.cmp(o);g++)m=m.redSqr();n(g<f);var y=this.pow(d,new i(1).iushln(f-g-1));h=h.redMul(y),d=y.redSqr(),p=p.redMul(d),f=g}return h},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var d=u>>l&1;a!==r[0]&&(a=this.sqr(a)),0!==d||0!==s?(s<<=1,s|=d,(4===++o||0===n&&0===l)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}c=26}return a},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new S(e)},a(S,k),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),i=a;return a.cmp(this.m)>=0?i=a.isub(this.m):a.cmpn(0)<0&&(i=a.iadd(this.m)),i._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,r(92)(e))},function(e,t,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(11),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s),s.prototype=Object.create(a.prototype),i(a,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){var n=r(15);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(135),a=r(876),i=r(414);function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return u(this,e,t,r)}function u(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=h(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|f(t,r),a=(e=o(e,n)).write(t,r);a!==n&&(e=e.slice(0,a));return e}(e,t,r):function(e,t){if(c.isBuffer(t)){var r=0|p(t.length);return 0===(e=o(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?o(e,0):h(e,t);if("Buffer"===t.type&&i(t.data))return h(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=o(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function h(e,t){var r=t.length<0?0:0|p(t.length);e=o(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function f(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(e).length;default:if(n)return L(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return P(this,t,r);case"ascii":return E(this,t,r);case"latin1":case"binary":return A(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,a){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,a);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,a);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,a){var i,s=1,o=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,o/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(a){var l=-1;for(i=r;i<o;i++)if(u(e,i)===u(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*s}else-1!==l&&(i-=i-l),l=-1}else for(r+c>o&&(r=o-c),i=r;i>=0;i--){for(var d=!0,h=0;h<c;h++)if(u(e,i+h)!==u(t,h)){d=!1;break}if(d)return i}return-1}function v(e,t,r,n){r=Number(r)||0;var a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;++s){var o=parseInt(t.substr(2*s,2),16);if(isNaN(o))return s;e[r+s]=o}return s}function _(e,t,r,n){return U(L(t,e.length-r),e,r,n)}function w(e,t,r,n){return U(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return w(e,t,r,n)}function k(e,t,r,n){return U(H(t),e,r,n)}function S(e,t,r,n){return U(function(e,t){for(var r,n,a,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,a=r%256,i.push(a),i.push(n);return i}(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function P(e,t,r){r=Math.min(e.length,r);for(var n=[],a=t;a<r;){var i,s,o,c,u=e[a],l=null,d=u>239?4:u>223?3:u>191?2:1;if(a+d<=r)switch(d){case 1:u<128&&(l=u);break;case 2:128==(192&(i=e[a+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=e[a+1],s=e[a+2],128==(192&i)&&128==(192&s)&&(c=(15&u)<<12|(63&i)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=e[a+1],s=e[a+2],o=e[a+3],128==(192&i)&&128==(192&s)&&128==(192&o)&&(c=(15&u)<<18|(63&i)<<12|(63&s)<<6|63&o)>65535&&c<1114112&&(l=c)}null===l?(l=65533,d=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),a+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return u(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?o(e,t):void 0!==r?"string"==typeof n?o(e,t).fill(r,n):o(e,t).fill(r):o(e,t)}(null,e,t,r)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,a=0,i=Math.min(r,n);a<i;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var s=e[r];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,a),a+=s.length}return n},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,a){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||r>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=r)return 0;if(n>=a)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),o=Math.min(i,s),u=this.slice(n,a),l=e.slice(t,r),d=0;d<o;++d)if(u[d]!==l[d]){i=u[d],s=l[d];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return x(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(127&e[a]);return n}function A(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(e[a]);return n}function C(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var a="",i=t;i<r;++i)a+=q(e[i]);return a}function T(e,t,r){for(var n=e.slice(t,r),a="",i=0;i<n.length;i+=2)a+=String.fromCharCode(n[i]+256*n[i+1]);return a}function D(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,r,n,a,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-r,2);a<i;++a)e[r+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function I(e,t,r,n){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-r,4);a<i;++a)e[r+a]=t>>>8*(n?a:3-a)&255}function R(e,t,r,n,a,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,i){return i||R(e,0,r,4),a.write(e,t,r,n,23,4),r+4}function N(e,t,r,n,i){return i||R(e,0,r,8),a.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var a=t-e;r=new c(a,void 0);for(var i=0;i<a;++i)r[i]=this[i+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},c.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||D(e,t,this.length);for(var n=t,a=1,i=this[e+--n];n>0&&(a*=256);)i+=this[e+--n]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),a.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),a.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),a.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),a.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||j(this,e,t,r,Math.pow(2,8*r)-1,0);var a=1,i=0;for(this[t]=255&e;++i<r&&(a*=256);)this[t+i]=e/a&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||j(this,e,t,r,Math.pow(2,8*r)-1,0);var a=r-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);j(this,e,t,r,a-1,-a)}var i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);j(this,e,t,r,a-1,-a)}var i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var a,i=n-r;if(this===e&&r<t&&t<n)for(a=i-1;a>=0;--a)e[a+t]=this[a+r];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=c.isBuffer(e)?e:L(new c(e,n).toString()),o=s.length;for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function q(e){return e<16?"0"+e.toString(16):e.toString(16)}function L(e,t){var r;t=t||1/0;for(var n=e.length,a=null,i=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function H(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,r,n){for(var a=0;a<n&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}}).call(this,r(26))},function(e,t,r){var n=t;n.block=r(869),n.blockchain=r(870),n.browser=r(871),n.burnfee=r(873),n.connection=r(874),n.crypto=r(875),n.goldenticket=r(975),n.key=r(976),n.keychain=r(977),n.miner=r(1062),n.modules=r(1063),n.mempool=r(1064),n.network=r(1065),n.networkapi=r(1066),n.path=r(1068),n.peer=r(1069),n.storage=r(491),n.shashmap=r(1092),n.slip=r(1093),n.storage=r(491),n.transaction=r(1094),n.wallet=r(1095)},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(25),a=r(632),i=r(183),s=r(55),o=r(73),c=r(192),u=r(136);function l(e){return e?Object(s.a)(e)?Object(a.a)(e):Object(o.a)(e)?Object(u.a)(e):Array.isArray(e)||Object(i.a)(e)?new Uint8Array(e):(Object(n.a)(Object(c.a)(e),()=>`Unable to convert ${e.toString()} (typeof ${typeof e}) to a Uint8Array`),e):new Uint8Array}},function(e,t,r){var n=r(116)("wks"),a=r(81),i=r(13).Symbol,s="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=s&&i[e]||(s?i:a)("Symbol."+e))}).store=n},function(e,t,r){var n=r(45),a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},function(e,t){var r,n,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c,u=[],l=!1,d=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&p())}function p(){if(!l){var e=o(h);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1!==u.length||l||o(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,r){e.exports=!r(14)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(10),a=r(378),i=r(48),s=Object.defineProperty;t.f=r(20)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),a)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},,function(e,t,r){var n=r(49);e.exports=function(e){return Object(n(e))}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s}));var n=r(74),a=r(76);function i(e,t){if(!e)throw new Error(Object(n.a)(t)?t():t)}function s(e,t){return i(!Object(a.a)(e),t),e}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){(function(t){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r(978);var s=r(53),o=(r(979),function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t||{},this.dirname="",this.appname="",this.name="",this.slug="",this.link="",this.events=[],this.alerts=0,this.categories="",this.db_tables=[],this.default_html=0,this.browser_active=0}var r,n,o,c,u,l,d,h,p,f,m,g;return r=e,(n=[{key:"onlyOnActiveBrowser",value:function(e){return function(){if(this.app.BROWSER&&this.browser_active){var t=e.apply(this,arguments);return t}}}},{key:"onlyInBrowser",value:function(e){return function(){if(this.app.BROWSER){var t=e.apply(this,arguments);return t}}}},{key:"onlyOnServer",value:function(e){return function(){if(!this.app.BROWSER){var t=e.apply(this,arguments);return t}}}},{key:"installModule",value:(g=a(regeneratorRuntime.mark((function e(r){var n,a,i,o,c,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=this.app.BROWSER){e.next=2;break}return e.abrupt("return");case 2:if(n="".concat(t,"/../../mods/").concat(this.dirname,"/sql"),a=r.storage.returnFileSystem(),i=encodeURI(this.returnSlug()),null==a){e.next=24;break}if(!a.existsSync(s.normalize(n))){e.next=24;break}o=a.readdirSync(n).sort(),c=0;case 9:if(!(c<o.length)){e.next=24;break}return e.prev=10,u=s.join(n,o[c]),l=a.readFileSync(u,"utf8"),console.log("Creating database for: "+i),e.next=16,r.storage.executeDatabase(l,{},i);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),console.log(e.t0);case 21:c++,e.next=9;break;case 24:case"end":return e.stop()}}),e,this,[[10,18]])}))),function(e){return g.apply(this,arguments)})},{key:"initialize",value:(m=a(regeneratorRuntime.mark((function e(r){var n,a,i,o,c,u,l,d=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=function(e){r.connection.on(d.events[e],(function(t){d.receiveEvent(d.events[e],t)}))},a=0;a<this.events.length;a++)n(a);if(i="".concat(t,"/../../mods/").concat(this.dirname,"/sql"),null!=(o=r.storage.returnFileSystem())&&o.existsSync(s.normalize(i)))for(c=o.readdirSync(i),u=0;u<c.length;u++)l=(l=c[u].slice(0,-4)).replace(/\d+$/,""),this.db_tables.push(l);""==this.appname&&(this.appname=this.name);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"initializeHTML",value:function(e){}},{key:"attachEvents",value:function(e){}},{key:"render",value:function(e){}},{key:"onConfirmation",value:(f=a(regeneratorRuntime.mark((function e(t,r,n,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e,t,r,n){return f.apply(this,arguments)})},{key:"onNewBlock",value:function(e,t){}},{key:"onChainReorganization",value:function(e,t,r,n){}},{key:"onConnectionUnstable",value:function(e,t){}},{key:"onConnectionStable",value:function(e,t){}},{key:"onWalletReset",value:function(){}},{key:"onPeerHandshakeComplete",value:function(e,t){}},{key:"shouldAffixCallbackToModule",value:function(e){return e==this.name?1:0}},{key:"webServer",value:function(e,r,n){var a="".concat(t,"/../../mods/").concat(this.dirname,"/web"),i=e.storage.returnFileSystem();null!=i&&(i.existsSync(a)?r.use("/"+encodeURI(this.returnSlug()),n.static(a)):this.default_html&&r.use("/"+encodeURI(this.returnSlug()),n.static(t+"/../../lib/templates/html")))}},{key:"updateBlockchainSync",value:function(e,t,r){}},{key:"respondTo",value:function(){return null}},{key:"receiveEvent",value:function(e,t){}},{key:"sendEvent",value:function(e,t){this.app.connection.emit(e,t)}},{key:"handlePeerRequest",value:(p=a(regeneratorRuntime.mark((function e(t,r,n){var a,i,s,o,c,u,l,d,h,p,f,m,g,y,b,v=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=v.length>3&&void 0!==v[3]?v[3]:null,i=0;case 2:if(!(i<this.db_tables.length)){e.next=28;break}if(s=this.name.toLowerCase()+" load "+this.db_tables[i],r.request!==s){e.next=25;break}if(o=r.data.select,c=r.data.dbname,u=r.data.tablename,l=r.data.where,/^[a-z"`'=_*()\.\n\t\r ,0-9A-Z]+$/.test(o)){e.next=11;break}return e.abrupt("return");case 11:if(/^[a-z"`'=_()\. ,0-9A-Z]+$/.test(c)){e.next=13;break}return e.abrupt("return");case 13:if(/^[a-z"`'=_()\. ,0-9A-Z]+$/.test(u)){e.next=15;break}return e.abrupt("return");case 15:return d="SELECT ".concat(o," FROM ").concat(u),""!=l&&(d+=" WHERE ".concat(l)),h={},e.next=20,this.app.storage.queryDatabase(d,h,r.data.dbname);case 20:p=e.sent,(f={}).err="",f.rows=p,a(f);case 25:i++,e.next=2;break;case 28:if("rawSQL"!=r.request){e.next=40;break}if(r.data.module!=this.name){e.next=40;break}return m=r.data.sql,g={},e.next=34,this.app.storage.queryDatabase(m,g,r.data.dbname);case 34:return y=e.sent,(b={}).err="",b.rows=y,a(b),e.abrupt("return");case 40:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return p.apply(this,arguments)})},{key:"sendPeerDatabaseRequest",value:(h=a(regeneratorRuntime.mark((function e(t,r){var n,a,i,s,o,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.length>2&&void 0!==c[2]?c[2]:"",a=c.length>3&&void 0!==c[3]?c[3]:"",i=c.length>4&&void 0!==c[4]?c[4]:null,s=c.length>5&&void 0!==c[5]?c[5]:null,(o={}).request=t+" load "+r,o.data={},o.data.dbname=t,o.data.tablename=r,o.data.select=n,o.data.where=a,null==i?this.app.network.sendRequestWithCallback(o.request,o.data,(function(e){console.log("callback data1: "+JSON.stringify(e)),s(e)})):i.sendRequestWithCallback(o.request,o.data,(function(e){console.log("callback data2: "+JSON.stringify(e)),s(e)}));case 12:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"sendPeerDatabaseRequestWithFilter",value:(d=a(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:"",r=s.length>1&&void 0!==s[1]?s[1]:"",n=s.length>2&&void 0!==s[2]?s[2]:null,a=s.length>3&&void 0!==s[3]?s[3]:null,""!=r){e.next=6;break}return e.abrupt("return");case 6:if(""!=t){e.next=8;break}return e.abrupt("return");case 8:(i={}).request="rawSQL",i.data={},i.data.sql=r,i.data.module=t,i.data.dbname=t.toLowerCase(),this.sendPeerRequestWithFilter((function(){return i}),n,a);case 15:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"sendPeerRequestWithServiceFilter",value:(l=a(regeneratorRuntime.mark((function e(t,r){var n,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.length>2&&void 0!==a[2]?a[2]:function(e){},this.sendPeerRequestWithFilter((function(){return r}),n,(function(e){if(e.peer.services)for(var r=0;r<e.peer.services.length;r++)if(e.peer.services[r].service===t)return 1}));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"sendPeerRequestWithFilter",value:(u=a(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:null,r=o.length>1&&void 0!==o[1]?o[1]:null,n=o.length>2&&void 0!==o[2]?o[2]:null,null!=(a=t())){e.next=6;break}return e.abrupt("return");case 6:if(i=[],null==n)i=this.app.network.peers;else for(s=0;s<this.app.network.peers.length;s++)n(this.app.network.peers[s])&&i.push(this.app.network.peers[s]);if(0!=i.length){e.next=10;break}return e.abrupt("return");case 10:i.forEach((function(e){e.sendRequestWithCallback(a.request,a.data,(function(e){null!=r&&r(e)}))}));case 11:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"sendPeerDatabaseRequestRaw",value:(c=a(regeneratorRuntime.mark((function e(t,r){var n,a,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.length>2&&void 0!==i[2]?i[2]:null,(a={}).request="rawSQL",a.data={},a.data.sql=r,a.data.dbname=t,a.data.module=this.name,this.app.network.sendRequestWithCallback(a.request,a.data,(function(e){n(e)}));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return c.apply(this,arguments)})},{key:"returnSlug",value:function(){return""!=this.slug||(this.appname?this.slug=this.appname.toLowerCase():this.slug=this.name.toLowerCase(),this.slug=this.slug.replace(/\t/g,"_")),this.slug}},{key:"returnLink",value:function(){return""!=this.link||(this.link="/"+this.returnSlug()),this.link}},{key:"returnServices",value:function(){return[]}},{key:"handleUrlParams",value:function(e){}},{key:"showAlert",value:function(){this.alerts++;try{var e="#"+this.returnSlug()+" > .redicon";document.querySelector(e).style.display="block"}catch(e){}}}])&&i(r.prototype,n),o&&i(r,o),e}());e.exports=o}).call(this,"/")},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return i}));var n=r(109);const a=new(0,r.n(n).a.ec)("secp256k1"),i={bitLength:256,isLe:!1}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},a=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var s=t(),o=t([1]),c=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),p=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function f(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function m(e,t,r,n,a){var i,s=0;for(i=0;i<a;i++)s|=e[t+i]^r[n+i];return(1&s-1>>>8)-1}function g(e,t,r,n){return m(e,t,r,n,16)}function y(e,t,r,n){return m(e,t,r,n,32)}function b(e,t,r,n){!function(e,t,r,n){for(var a,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,f=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,b=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,_=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=i,x=s,k=o,S=c,O=u,P=l,E=d,A=h,C=p,T=f,D=m,j=g,M=y,I=b,R=v,B=_,N=0;N<20;N+=2)w^=(a=(M^=(a=(C^=(a=(O^=(a=w+M|0)<<7|a>>>25)+w|0)<<9|a>>>23)+O|0)<<13|a>>>19)+C|0)<<18|a>>>14,P^=(a=(x^=(a=(I^=(a=(T^=(a=P+x|0)<<7|a>>>25)+P|0)<<9|a>>>23)+T|0)<<13|a>>>19)+I|0)<<18|a>>>14,D^=(a=(E^=(a=(k^=(a=(R^=(a=D+E|0)<<7|a>>>25)+D|0)<<9|a>>>23)+R|0)<<13|a>>>19)+k|0)<<18|a>>>14,B^=(a=(j^=(a=(A^=(a=(S^=(a=B+j|0)<<7|a>>>25)+B|0)<<9|a>>>23)+S|0)<<13|a>>>19)+A|0)<<18|a>>>14,w^=(a=(S^=(a=(k^=(a=(x^=(a=w+S|0)<<7|a>>>25)+w|0)<<9|a>>>23)+x|0)<<13|a>>>19)+k|0)<<18|a>>>14,P^=(a=(O^=(a=(A^=(a=(E^=(a=P+O|0)<<7|a>>>25)+P|0)<<9|a>>>23)+E|0)<<13|a>>>19)+A|0)<<18|a>>>14,D^=(a=(T^=(a=(C^=(a=(j^=(a=D+T|0)<<7|a>>>25)+D|0)<<9|a>>>23)+j|0)<<13|a>>>19)+C|0)<<18|a>>>14,B^=(a=(R^=(a=(I^=(a=(M^=(a=B+R|0)<<7|a>>>25)+B|0)<<9|a>>>23)+M|0)<<13|a>>>19)+I|0)<<18|a>>>14;w=w+i|0,x=x+s|0,k=k+o|0,S=S+c|0,O=O+u|0,P=P+l|0,E=E+d|0,A=A+h|0,C=C+p|0,T=T+f|0,D=D+m|0,j=j+g|0,M=M+y|0,I=I+b|0,R=R+v|0,B=B+_|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=x>>>0&255,e[5]=x>>>8&255,e[6]=x>>>16&255,e[7]=x>>>24&255,e[8]=k>>>0&255,e[9]=k>>>8&255,e[10]=k>>>16&255,e[11]=k>>>24&255,e[12]=S>>>0&255,e[13]=S>>>8&255,e[14]=S>>>16&255,e[15]=S>>>24&255,e[16]=O>>>0&255,e[17]=O>>>8&255,e[18]=O>>>16&255,e[19]=O>>>24&255,e[20]=P>>>0&255,e[21]=P>>>8&255,e[22]=P>>>16&255,e[23]=P>>>24&255,e[24]=E>>>0&255,e[25]=E>>>8&255,e[26]=E>>>16&255,e[27]=E>>>24&255,e[28]=A>>>0&255,e[29]=A>>>8&255,e[30]=A>>>16&255,e[31]=A>>>24&255,e[32]=C>>>0&255,e[33]=C>>>8&255,e[34]=C>>>16&255,e[35]=C>>>24&255,e[36]=T>>>0&255,e[37]=T>>>8&255,e[38]=T>>>16&255,e[39]=T>>>24&255,e[40]=D>>>0&255,e[41]=D>>>8&255,e[42]=D>>>16&255,e[43]=D>>>24&255,e[44]=j>>>0&255,e[45]=j>>>8&255,e[46]=j>>>16&255,e[47]=j>>>24&255,e[48]=M>>>0&255,e[49]=M>>>8&255,e[50]=M>>>16&255,e[51]=M>>>24&255,e[52]=I>>>0&255,e[53]=I>>>8&255,e[54]=I>>>16&255,e[55]=I>>>24&255,e[56]=R>>>0&255,e[57]=R>>>8&255,e[58]=R>>>16&255,e[59]=R>>>24&255,e[60]=B>>>0&255,e[61]=B>>>8&255,e[62]=B>>>16&255,e[63]=B>>>24&255}(e,t,r,n)}function v(e,t,r,n){!function(e,t,r,n){for(var a,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,o=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,p=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,f=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,b=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,_=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=0;w<20;w+=2)i^=(a=(y^=(a=(p^=(a=(u^=(a=i+y|0)<<7|a>>>25)+i|0)<<9|a>>>23)+u|0)<<13|a>>>19)+p|0)<<18|a>>>14,l^=(a=(s^=(a=(b^=(a=(f^=(a=l+s|0)<<7|a>>>25)+l|0)<<9|a>>>23)+f|0)<<13|a>>>19)+b|0)<<18|a>>>14,m^=(a=(d^=(a=(o^=(a=(v^=(a=m+d|0)<<7|a>>>25)+m|0)<<9|a>>>23)+v|0)<<13|a>>>19)+o|0)<<18|a>>>14,_^=(a=(g^=(a=(h^=(a=(c^=(a=_+g|0)<<7|a>>>25)+_|0)<<9|a>>>23)+c|0)<<13|a>>>19)+h|0)<<18|a>>>14,i^=(a=(c^=(a=(o^=(a=(s^=(a=i+c|0)<<7|a>>>25)+i|0)<<9|a>>>23)+s|0)<<13|a>>>19)+o|0)<<18|a>>>14,l^=(a=(u^=(a=(h^=(a=(d^=(a=l+u|0)<<7|a>>>25)+l|0)<<9|a>>>23)+d|0)<<13|a>>>19)+h|0)<<18|a>>>14,m^=(a=(f^=(a=(p^=(a=(g^=(a=m+f|0)<<7|a>>>25)+m|0)<<9|a>>>23)+g|0)<<13|a>>>19)+p|0)<<18|a>>>14,_^=(a=(v^=(a=(b^=(a=(y^=(a=_+v|0)<<7|a>>>25)+_|0)<<9|a>>>23)+y|0)<<13|a>>>19)+b|0)<<18|a>>>14;e[0]=i>>>0&255,e[1]=i>>>8&255,e[2]=i>>>16&255,e[3]=i>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=m>>>0&255,e[9]=m>>>8&255,e[10]=m>>>16&255,e[11]=m>>>24&255,e[12]=_>>>0&255,e[13]=_>>>8&255,e[14]=_>>>16&255,e[15]=_>>>24&255,e[16]=d>>>0&255,e[17]=d>>>8&255,e[18]=d>>>16&255,e[19]=d>>>24&255,e[20]=h>>>0&255,e[21]=h>>>8&255,e[22]=h>>>16&255,e[23]=h>>>24&255,e[24]=p>>>0&255,e[25]=p>>>8&255,e[26]=p>>>16&255,e[27]=p>>>24&255,e[28]=f>>>0&255,e[29]=f>>>8&255,e[30]=f>>>16&255,e[31]=f>>>24&255}(e,t,r,n)}var _=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,r,n,a,i,s){var o,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=i[c];for(;a>=64;){for(b(l,u,s,_),c=0;c<64;c++)e[t+c]=r[n+c]^l[c];for(o=1,c=8;c<16;c++)o=o+(255&u[c])|0,u[c]=255&o,o>>>=8;a-=64,t+=64,n+=64}if(a>0)for(b(l,u,s,_),c=0;c<a;c++)e[t+c]=r[n+c]^l[c];return 0}function x(e,t,r,n,a){var i,s,o=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)o[s]=0;for(s=0;s<8;s++)o[s]=n[s];for(;r>=64;){for(b(c,o,a,_),s=0;s<64;s++)e[t+s]=c[s];for(i=1,s=8;s<16;s++)i=i+(255&o[s])|0,o[s]=255&i,i>>>=8;r-=64,t+=64}if(r>0)for(b(c,o,a,_),s=0;s<r;s++)e[t+s]=c[s];return 0}function k(e,t,r,n,a){var i=new Uint8Array(32);v(i,n,a,_);for(var s=new Uint8Array(8),o=0;o<8;o++)s[o]=n[o+16];return x(e,t,r,s,i)}function S(e,t,r,n,a,i,s){var o=new Uint8Array(32);v(o,i,s,_);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=i[u+16];return w(e,t,r,n,a,c,o)}var O=function(e){var t,r,n,a,i,s,o,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),a=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|a<<9),i=255&e[8]|(255&e[9])<<8,this.r[4]=255&(a>>>4|i<<12),this.r[5]=i>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(i>>>14|s<<2),o=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|o<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(o>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function P(e,t,r,n,a,i){var s=new O(i);return s.update(r,n,a),s.finish(e,t),0}function E(e,t,r,n,a,i){var s=new Uint8Array(16);return P(s,0,r,n,a,i),g(e,t,s,0)}function A(e,t,r,n,a){var i;if(r<32)return-1;for(S(e,0,t,0,r,n,a),P(e,16,e,32,r-32,e),i=0;i<16;i++)e[i]=0;return 0}function C(e,t,r,n,a){var i,s=new Uint8Array(32);if(r<32)return-1;if(k(s,0,32,n,a),0!==E(t,16,t,32,r-32,s))return-1;for(S(e,0,t,0,r,n,a),i=0;i<32;i++)e[i]=0;return 0}function T(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function D(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function j(e,t,r){for(var n,a=~(r-1),i=0;i<16;i++)n=a&(e[i]^t[i]),e[i]^=n,t[i]^=n}function M(e,r){var n,a,i,s=t(),o=t();for(n=0;n<16;n++)o[n]=r[n];for(D(o),D(o),D(o),a=0;a<2;a++){for(s[0]=o[0]-65517,n=1;n<15;n++)s[n]=o[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=o[15]-32767-(s[14]>>16&1),i=s[15]>>16&1,s[14]&=65535,j(o,s,1-i)}for(n=0;n<16;n++)e[2*n]=255&o[n],e[2*n+1]=o[n]>>8}function I(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return M(r,e),M(n,t),y(r,0,n,0)}function R(e){var t=new Uint8Array(32);return M(t,e),1&t[0]}function B(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function N(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function F(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function q(e,t,r){var n,a,i=0,s=0,o=0,c=0,u=0,l=0,d=0,h=0,p=0,f=0,m=0,g=0,y=0,b=0,v=0,_=0,w=0,x=0,k=0,S=0,O=0,P=0,E=0,A=0,C=0,T=0,D=0,j=0,M=0,I=0,R=0,B=r[0],N=r[1],F=r[2],q=r[3],L=r[4],H=r[5],U=r[6],z=r[7],V=r[8],G=r[9],W=r[10],K=r[11],Y=r[12],X=r[13],J=r[14],Q=r[15];i+=(n=t[0])*B,s+=n*N,o+=n*F,c+=n*q,u+=n*L,l+=n*H,d+=n*U,h+=n*z,p+=n*V,f+=n*G,m+=n*W,g+=n*K,y+=n*Y,b+=n*X,v+=n*J,_+=n*Q,s+=(n=t[1])*B,o+=n*N,c+=n*F,u+=n*q,l+=n*L,d+=n*H,h+=n*U,p+=n*z,f+=n*V,m+=n*G,g+=n*W,y+=n*K,b+=n*Y,v+=n*X,_+=n*J,w+=n*Q,o+=(n=t[2])*B,c+=n*N,u+=n*F,l+=n*q,d+=n*L,h+=n*H,p+=n*U,f+=n*z,m+=n*V,g+=n*G,y+=n*W,b+=n*K,v+=n*Y,_+=n*X,w+=n*J,x+=n*Q,c+=(n=t[3])*B,u+=n*N,l+=n*F,d+=n*q,h+=n*L,p+=n*H,f+=n*U,m+=n*z,g+=n*V,y+=n*G,b+=n*W,v+=n*K,_+=n*Y,w+=n*X,x+=n*J,k+=n*Q,u+=(n=t[4])*B,l+=n*N,d+=n*F,h+=n*q,p+=n*L,f+=n*H,m+=n*U,g+=n*z,y+=n*V,b+=n*G,v+=n*W,_+=n*K,w+=n*Y,x+=n*X,k+=n*J,S+=n*Q,l+=(n=t[5])*B,d+=n*N,h+=n*F,p+=n*q,f+=n*L,m+=n*H,g+=n*U,y+=n*z,b+=n*V,v+=n*G,_+=n*W,w+=n*K,x+=n*Y,k+=n*X,S+=n*J,O+=n*Q,d+=(n=t[6])*B,h+=n*N,p+=n*F,f+=n*q,m+=n*L,g+=n*H,y+=n*U,b+=n*z,v+=n*V,_+=n*G,w+=n*W,x+=n*K,k+=n*Y,S+=n*X,O+=n*J,P+=n*Q,h+=(n=t[7])*B,p+=n*N,f+=n*F,m+=n*q,g+=n*L,y+=n*H,b+=n*U,v+=n*z,_+=n*V,w+=n*G,x+=n*W,k+=n*K,S+=n*Y,O+=n*X,P+=n*J,E+=n*Q,p+=(n=t[8])*B,f+=n*N,m+=n*F,g+=n*q,y+=n*L,b+=n*H,v+=n*U,_+=n*z,w+=n*V,x+=n*G,k+=n*W,S+=n*K,O+=n*Y,P+=n*X,E+=n*J,A+=n*Q,f+=(n=t[9])*B,m+=n*N,g+=n*F,y+=n*q,b+=n*L,v+=n*H,_+=n*U,w+=n*z,x+=n*V,k+=n*G,S+=n*W,O+=n*K,P+=n*Y,E+=n*X,A+=n*J,C+=n*Q,m+=(n=t[10])*B,g+=n*N,y+=n*F,b+=n*q,v+=n*L,_+=n*H,w+=n*U,x+=n*z,k+=n*V,S+=n*G,O+=n*W,P+=n*K,E+=n*Y,A+=n*X,C+=n*J,T+=n*Q,g+=(n=t[11])*B,y+=n*N,b+=n*F,v+=n*q,_+=n*L,w+=n*H,x+=n*U,k+=n*z,S+=n*V,O+=n*G,P+=n*W,E+=n*K,A+=n*Y,C+=n*X,T+=n*J,D+=n*Q,y+=(n=t[12])*B,b+=n*N,v+=n*F,_+=n*q,w+=n*L,x+=n*H,k+=n*U,S+=n*z,O+=n*V,P+=n*G,E+=n*W,A+=n*K,C+=n*Y,T+=n*X,D+=n*J,j+=n*Q,b+=(n=t[13])*B,v+=n*N,_+=n*F,w+=n*q,x+=n*L,k+=n*H,S+=n*U,O+=n*z,P+=n*V,E+=n*G,A+=n*W,C+=n*K,T+=n*Y,D+=n*X,j+=n*J,M+=n*Q,v+=(n=t[14])*B,_+=n*N,w+=n*F,x+=n*q,k+=n*L,S+=n*H,O+=n*U,P+=n*z,E+=n*V,A+=n*G,C+=n*W,T+=n*K,D+=n*Y,j+=n*X,M+=n*J,I+=n*Q,_+=(n=t[15])*B,s+=38*(x+=n*F),o+=38*(k+=n*q),c+=38*(S+=n*L),u+=38*(O+=n*H),l+=38*(P+=n*U),d+=38*(E+=n*z),h+=38*(A+=n*V),p+=38*(C+=n*G),f+=38*(T+=n*W),m+=38*(D+=n*K),g+=38*(j+=n*Y),y+=38*(M+=n*X),b+=38*(I+=n*J),v+=38*(R+=n*Q),i=(n=(i+=38*(w+=n*N))+(a=1)+65535)-65536*(a=Math.floor(n/65536)),s=(n=s+a+65535)-65536*(a=Math.floor(n/65536)),o=(n=o+a+65535)-65536*(a=Math.floor(n/65536)),c=(n=c+a+65535)-65536*(a=Math.floor(n/65536)),u=(n=u+a+65535)-65536*(a=Math.floor(n/65536)),l=(n=l+a+65535)-65536*(a=Math.floor(n/65536)),d=(n=d+a+65535)-65536*(a=Math.floor(n/65536)),h=(n=h+a+65535)-65536*(a=Math.floor(n/65536)),p=(n=p+a+65535)-65536*(a=Math.floor(n/65536)),f=(n=f+a+65535)-65536*(a=Math.floor(n/65536)),m=(n=m+a+65535)-65536*(a=Math.floor(n/65536)),g=(n=g+a+65535)-65536*(a=Math.floor(n/65536)),y=(n=y+a+65535)-65536*(a=Math.floor(n/65536)),b=(n=b+a+65535)-65536*(a=Math.floor(n/65536)),v=(n=v+a+65535)-65536*(a=Math.floor(n/65536)),_=(n=_+a+65535)-65536*(a=Math.floor(n/65536)),i=(n=(i+=a-1+37*(a-1))+(a=1)+65535)-65536*(a=Math.floor(n/65536)),s=(n=s+a+65535)-65536*(a=Math.floor(n/65536)),o=(n=o+a+65535)-65536*(a=Math.floor(n/65536)),c=(n=c+a+65535)-65536*(a=Math.floor(n/65536)),u=(n=u+a+65535)-65536*(a=Math.floor(n/65536)),l=(n=l+a+65535)-65536*(a=Math.floor(n/65536)),d=(n=d+a+65535)-65536*(a=Math.floor(n/65536)),h=(n=h+a+65535)-65536*(a=Math.floor(n/65536)),p=(n=p+a+65535)-65536*(a=Math.floor(n/65536)),f=(n=f+a+65535)-65536*(a=Math.floor(n/65536)),m=(n=m+a+65535)-65536*(a=Math.floor(n/65536)),g=(n=g+a+65535)-65536*(a=Math.floor(n/65536)),y=(n=y+a+65535)-65536*(a=Math.floor(n/65536)),b=(n=b+a+65535)-65536*(a=Math.floor(n/65536)),v=(n=v+a+65535)-65536*(a=Math.floor(n/65536)),_=(n=_+a+65535)-65536*(a=Math.floor(n/65536)),i+=a-1+37*(a-1),e[0]=i,e[1]=s,e[2]=o,e[3]=c,e[4]=u,e[5]=l,e[6]=d,e[7]=h,e[8]=p,e[9]=f,e[10]=m,e[11]=g,e[12]=y,e[13]=b,e[14]=v,e[15]=_}function L(e,t){q(e,t,t)}function H(e,r){var n,a=t();for(n=0;n<16;n++)a[n]=r[n];for(n=253;n>=0;n--)L(a,a),2!==n&&4!==n&&q(a,a,r);for(n=0;n<16;n++)e[n]=a[n]}function U(e,r){var n,a=t();for(n=0;n<16;n++)a[n]=r[n];for(n=250;n>=0;n--)L(a,a),1!==n&&q(a,a,r);for(n=0;n<16;n++)e[n]=a[n]}function z(e,r,n){var a,i,s=new Uint8Array(32),o=new Float64Array(80),u=t(),l=t(),d=t(),h=t(),p=t(),f=t();for(i=0;i<31;i++)s[i]=r[i];for(s[31]=127&r[31]|64,s[0]&=248,B(o,n),i=0;i<16;i++)l[i]=o[i],h[i]=u[i]=d[i]=0;for(u[0]=h[0]=1,i=254;i>=0;--i)j(u,l,a=s[i>>>3]>>>(7&i)&1),j(d,h,a),N(p,u,d),F(u,u,d),N(d,l,h),F(l,l,h),L(h,p),L(f,u),q(u,d,u),q(d,l,p),N(p,u,d),F(u,u,d),L(l,u),F(d,h,f),q(u,d,c),N(u,u,h),q(d,d,u),q(u,h,f),q(h,l,o),L(l,p),j(u,l,a),j(d,h,a);for(i=0;i<16;i++)o[i+16]=u[i],o[i+32]=d[i],o[i+48]=l[i],o[i+64]=h[i];var m=o.subarray(32),g=o.subarray(16);return H(m,m),q(g,g,m),M(e,g),0}function V(e,t){return z(e,t,i)}function G(e,t){return n(t,32),V(e,t)}function W(e,t,r){var n=new Uint8Array(32);return z(n,r,t),v(e,a,n,_)}O.prototype.blocks=function(e,t,r){for(var n,a,i,s,o,c,u,l,d,h,p,f,m,g,y,b,v,_,w,x=this.fin?0:2048,k=this.h[0],S=this.h[1],O=this.h[2],P=this.h[3],E=this.h[4],A=this.h[5],C=this.h[6],T=this.h[7],D=this.h[8],j=this.h[9],M=this.r[0],I=this.r[1],R=this.r[2],B=this.r[3],N=this.r[4],F=this.r[5],q=this.r[6],L=this.r[7],H=this.r[8],U=this.r[9];r>=16;)h=d=0,h+=(k+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*M,h+=(S+=8191&(n>>>13|(a=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*U),h+=(O+=8191&(a>>>10|(i=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*H),h+=(P+=8191&(i>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*L),d=(h+=(E+=8191&(s>>>4|(o=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*q))>>>13,h&=8191,h+=(A+=o>>>1&8191)*(5*F),h+=(C+=8191&(o>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*N),h+=(T+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*B),h+=(D+=8191&(u>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*R),p=d+=(h+=(j+=l>>>5|x)*(5*I))>>>13,p+=k*I,p+=S*M,p+=O*(5*U),p+=P*(5*H),d=(p+=E*(5*L))>>>13,p&=8191,p+=A*(5*q),p+=C*(5*F),p+=T*(5*N),p+=D*(5*B),d+=(p+=j*(5*R))>>>13,p&=8191,f=d,f+=k*R,f+=S*I,f+=O*M,f+=P*(5*U),d=(f+=E*(5*H))>>>13,f&=8191,f+=A*(5*L),f+=C*(5*q),f+=T*(5*F),f+=D*(5*N),m=d+=(f+=j*(5*B))>>>13,m+=k*B,m+=S*R,m+=O*I,m+=P*M,d=(m+=E*(5*U))>>>13,m&=8191,m+=A*(5*H),m+=C*(5*L),m+=T*(5*q),m+=D*(5*F),g=d+=(m+=j*(5*N))>>>13,g+=k*N,g+=S*B,g+=O*R,g+=P*I,d=(g+=E*M)>>>13,g&=8191,g+=A*(5*U),g+=C*(5*H),g+=T*(5*L),g+=D*(5*q),y=d+=(g+=j*(5*F))>>>13,y+=k*F,y+=S*N,y+=O*B,y+=P*R,d=(y+=E*I)>>>13,y&=8191,y+=A*M,y+=C*(5*U),y+=T*(5*H),y+=D*(5*L),b=d+=(y+=j*(5*q))>>>13,b+=k*q,b+=S*F,b+=O*N,b+=P*B,d=(b+=E*R)>>>13,b&=8191,b+=A*I,b+=C*M,b+=T*(5*U),b+=D*(5*H),v=d+=(b+=j*(5*L))>>>13,v+=k*L,v+=S*q,v+=O*F,v+=P*N,d=(v+=E*B)>>>13,v&=8191,v+=A*R,v+=C*I,v+=T*M,v+=D*(5*U),_=d+=(v+=j*(5*H))>>>13,_+=k*H,_+=S*L,_+=O*q,_+=P*F,d=(_+=E*N)>>>13,_&=8191,_+=A*B,_+=C*R,_+=T*I,_+=D*M,w=d+=(_+=j*(5*U))>>>13,w+=k*U,w+=S*H,w+=O*L,w+=P*q,d=(w+=E*F)>>>13,w&=8191,w+=A*N,w+=C*B,w+=T*R,w+=D*I,k=h=8191&(d=(d=((d+=(w+=j*M)>>>13)<<2)+d|0)+(h&=8191)|0),S=p+=d>>>=13,O=f&=8191,P=m&=8191,E=g&=8191,A=y&=8191,C=b&=8191,T=v&=8191,D=_&=8191,j=w&=8191,t+=16,r-=16;this.h[0]=k,this.h[1]=S,this.h[2]=O,this.h[3]=P,this.h[4]=E,this.h[5]=A,this.h[6]=C,this.h[7]=T,this.h[8]=D,this.h[9]=j},O.prototype.finish=function(e,t){var r,n,a,i,s=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=r,r=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,i=1;i<10;i++)s[i]=this.h[i]+r,r=s[i]>>>13,s[i]&=8191;for(s[9]-=8192,n=(1^r)-1,i=0;i<10;i++)s[i]&=n;for(n=~n,i=0;i<10;i++)this.h[i]=this.h[i]&n|s[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),a=this.h[0]+this.pad[0],this.h[0]=65535&a,i=1;i<8;i++)a=(this.h[i]+this.pad[i]|0)+(a>>>16)|0,this.h[i]=65535&a;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},O.prototype.update=function(e,t,r){var n,a;if(this.leftover){for((a=16-this.leftover)>r&&(a=r),n=0;n<a;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=a,t+=a,this.leftover+=a,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(a=r-r%16,this.blocks(e,t,a),t+=a,r-=a),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var K=A,Y=C;var X=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(e,t,r,n){for(var a,i,s,o,c,u,l,d,h,p,f,m,g,y,b,v,_,w,x,k,S,O,P,E,A,C,T=new Int32Array(16),D=new Int32Array(16),j=e[0],M=e[1],I=e[2],R=e[3],B=e[4],N=e[5],F=e[6],q=e[7],L=t[0],H=t[1],U=t[2],z=t[3],V=t[4],G=t[5],W=t[6],K=t[7],Y=0;n>=128;){for(x=0;x<16;x++)k=8*x+Y,T[x]=r[k+0]<<24|r[k+1]<<16|r[k+2]<<8|r[k+3],D[x]=r[k+4]<<24|r[k+5]<<16|r[k+6]<<8|r[k+7];for(x=0;x<80;x++)if(a=j,i=M,s=I,o=R,c=B,u=N,l=F,q,h=L,p=H,f=U,m=z,g=V,y=G,b=W,K,P=65535&(O=K),E=O>>>16,A=65535&(S=q),C=S>>>16,P+=65535&(O=(V>>>14|B<<18)^(V>>>18|B<<14)^(B>>>9|V<<23)),E+=O>>>16,A+=65535&(S=(B>>>14|V<<18)^(B>>>18|V<<14)^(V>>>9|B<<23)),C+=S>>>16,P+=65535&(O=V&G^~V&W),E+=O>>>16,A+=65535&(S=B&N^~B&F),C+=S>>>16,P+=65535&(O=X[2*x+1]),E+=O>>>16,A+=65535&(S=X[2*x]),C+=S>>>16,S=T[x%16],E+=(O=D[x%16])>>>16,A+=65535&S,C+=S>>>16,A+=(E+=(P+=65535&O)>>>16)>>>16,P=65535&(O=w=65535&P|E<<16),E=O>>>16,A=65535&(S=_=65535&A|(C+=A>>>16)<<16),C=S>>>16,P+=65535&(O=(L>>>28|j<<4)^(j>>>2|L<<30)^(j>>>7|L<<25)),E+=O>>>16,A+=65535&(S=(j>>>28|L<<4)^(L>>>2|j<<30)^(L>>>7|j<<25)),C+=S>>>16,E+=(O=L&H^L&U^H&U)>>>16,A+=65535&(S=j&M^j&I^M&I),C+=S>>>16,d=65535&(A+=(E+=(P+=65535&O)>>>16)>>>16)|(C+=A>>>16)<<16,v=65535&P|E<<16,P=65535&(O=m),E=O>>>16,A=65535&(S=o),C=S>>>16,E+=(O=w)>>>16,A+=65535&(S=_),C+=S>>>16,M=a,I=i,R=s,B=o=65535&(A+=(E+=(P+=65535&O)>>>16)>>>16)|(C+=A>>>16)<<16,N=c,F=u,q=l,j=d,H=h,U=p,z=f,V=m=65535&P|E<<16,G=g,W=y,K=b,L=v,x%16==15)for(k=0;k<16;k++)S=T[k],P=65535&(O=D[k]),E=O>>>16,A=65535&S,C=S>>>16,S=T[(k+9)%16],P+=65535&(O=D[(k+9)%16]),E+=O>>>16,A+=65535&S,C+=S>>>16,_=T[(k+1)%16],P+=65535&(O=((w=D[(k+1)%16])>>>1|_<<31)^(w>>>8|_<<24)^(w>>>7|_<<25)),E+=O>>>16,A+=65535&(S=(_>>>1|w<<31)^(_>>>8|w<<24)^_>>>7),C+=S>>>16,_=T[(k+14)%16],E+=(O=((w=D[(k+14)%16])>>>19|_<<13)^(_>>>29|w<<3)^(w>>>6|_<<26))>>>16,A+=65535&(S=(_>>>19|w<<13)^(w>>>29|_<<3)^_>>>6),C+=S>>>16,C+=(A+=(E+=(P+=65535&O)>>>16)>>>16)>>>16,T[k]=65535&A|C<<16,D[k]=65535&P|E<<16;P=65535&(O=L),E=O>>>16,A=65535&(S=j),C=S>>>16,S=e[0],E+=(O=t[0])>>>16,A+=65535&S,C+=S>>>16,C+=(A+=(E+=(P+=65535&O)>>>16)>>>16)>>>16,e[0]=j=65535&A|C<<16,t[0]=L=65535&P|E<<16,P=65535&(O=H),E=O>>>16,A=65535&(S=M),C=S>>>16,S=e[1],E+=(O=t[1])>>>16,A+=65535&S,C+=S>>>16,C+=(A+=(E+=(P+=65535&O)>>>16)>>>16)>>>16,e[1]=M=65535&A|C<<16,t[1]=H=65535&P|E<<16,P=65535&(O=U),E=O>>>16,A=65535&(S=I),C=S>>>16,S=e[2],E+=(O=t[2])>>>16,A+=65535&S,C+=S>>>16,C+=(A+=(E+=(P+=65535&O)>>>16)>>>16)>>>16,e[2]=I=65535&A|C<<16,t[2]=U=65535&P|E<<16,P=65535&(O=z),E=O>>>16,A=65535&(S=R),C=S>>>16,S=e[3],E+=(O=t[3])>>>16,A+=65535&S,C+=S>>>16,C+=(A+=(E+=(P+=65535&O)>>>16)>>>16)>>>16,e[3]=R=65535&A|C<<16,t[3]=z=65535&P|E<<16,P=65535&(O=V),E=O>>>16,A=65535&(S=B),C=S>>>16,S=e[4],E+=(O=t[4])>>>16,A+=65535&S,C+=S>>>16,C+=(A+=(E+=(P+=65535&O)>>>16)>>>16)>>>16,e[4]=B=65535&A|C<<16,t[4]=V=65535&P|E<<16,P=65535&(O=G),E=O>>>16,A=65535&(S=N),C=S>>>16,S=e[5],E+=(O=t[5])>>>16,A+=65535&S,C+=S>>>16,C+=(A+=(E+=(P+=65535&O)>>>16)>>>16)>>>16,e[5]=N=65535&A|C<<16,t[5]=G=65535&P|E<<16,P=65535&(O=W),E=O>>>16,A=65535&(S=F),C=S>>>16,S=e[6],E+=(O=t[6])>>>16,A+=65535&S,C+=S>>>16,C+=(A+=(E+=(P+=65535&O)>>>16)>>>16)>>>16,e[6]=F=65535&A|C<<16,t[6]=W=65535&P|E<<16,P=65535&(O=K),E=O>>>16,A=65535&(S=q),C=S>>>16,S=e[7],E+=(O=t[7])>>>16,A+=65535&S,C+=S>>>16,C+=(A+=(E+=(P+=65535&O)>>>16)>>>16)>>>16,e[7]=q=65535&A|C<<16,t[7]=K=65535&P|E<<16,Y+=128,n-=128}return n}function Q(e,t,r){var n,a=new Int32Array(8),i=new Int32Array(8),s=new Uint8Array(256),o=r;for(a[0]=1779033703,a[1]=3144134277,a[2]=1013904242,a[3]=2773480762,a[4]=1359893119,a[5]=2600822924,a[6]=528734635,a[7]=1541459225,i[0]=4089235720,i[1]=2227873595,i[2]=4271175723,i[3]=1595750129,i[4]=2917565137,i[5]=725511199,i[6]=4215389547,i[7]=327033209,J(a,i,t,r),r%=128,n=0;n<r;n++)s[n]=t[o-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,f(s,r-8,o/536870912|0,o<<3),J(a,i,s,r),n=0;n<8;n++)f(e,8*n,a[n],i[n]);return 0}function Z(e,r){var n=t(),a=t(),i=t(),s=t(),o=t(),c=t(),u=t(),d=t(),h=t();F(n,e[1],e[0]),F(h,r[1],r[0]),q(n,n,h),N(a,e[0],e[1]),N(h,r[0],r[1]),q(a,a,h),q(i,e[3],r[3]),q(i,i,l),q(s,e[2],r[2]),N(s,s,s),F(o,a,n),F(c,s,i),N(u,s,i),N(d,a,n),q(e[0],o,c),q(e[1],d,u),q(e[2],u,c),q(e[3],o,d)}function $(e,t,r){var n;for(n=0;n<4;n++)j(e[n],t[n],r)}function ee(e,r){var n=t(),a=t(),i=t();H(i,r[2]),q(n,r[0],i),q(a,r[1],i),M(e,a),e[31]^=R(n)<<7}function te(e,t,r){var n,a;for(T(e[0],s),T(e[1],o),T(e[2],o),T(e[3],s),a=255;a>=0;--a)$(e,t,n=r[a/8|0]>>(7&a)&1),Z(t,e),Z(e,e),$(e,t,n)}function re(e,r){var n=[t(),t(),t(),t()];T(n[0],d),T(n[1],h),T(n[2],o),q(n[3],d,h),te(e,n,r)}function ne(e,r,a){var i,s=new Uint8Array(64),o=[t(),t(),t(),t()];for(a||n(r,32),Q(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,re(o,s),ee(e,o),i=0;i<32;i++)r[i+32]=e[i];return 0}var ae=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var r,n,a,i;for(n=63;n>=32;--n){for(r=0,a=n-32,i=n-12;a<i;++a)t[a]+=r-16*t[n]*ae[a-(n-32)],r=Math.floor((t[a]+128)/256),t[a]-=256*r;t[a]+=r,t[n]=0}for(r=0,a=0;a<32;a++)t[a]+=r-(t[31]>>4)*ae[a],r=t[a]>>8,t[a]&=255;for(a=0;a<32;a++)t[a]-=r*ae[a];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function se(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,r)}function oe(e,r,n,a){var i,s,o=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),d=[t(),t(),t(),t()];Q(o,a,32),o[0]&=248,o[31]&=127,o[31]|=64;var h=n+64;for(i=0;i<n;i++)e[64+i]=r[i];for(i=0;i<32;i++)e[32+i]=o[32+i];for(Q(u,e.subarray(32),n+32),se(u),re(d,u),ee(e,d),i=32;i<64;i++)e[i]=a[i];for(Q(c,e,n+64),se(c),i=0;i<64;i++)l[i]=0;for(i=0;i<32;i++)l[i]=u[i];for(i=0;i<32;i++)for(s=0;s<32;s++)l[i+s]+=c[i]*o[s];return ie(e.subarray(32),l),h}function ce(e,r,n,a){var i,c=new Uint8Array(32),l=new Uint8Array(64),d=[t(),t(),t(),t()],h=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),a=t(),i=t(),c=t(),l=t(),d=t(),h=t();return T(e[2],o),B(e[1],r),L(i,e[1]),q(c,i,u),F(i,i,e[2]),N(c,e[2],c),L(l,c),L(d,l),q(h,d,l),q(n,h,i),q(n,n,c),U(n,n),q(n,n,i),q(n,n,c),q(n,n,c),q(e[0],n,c),L(a,e[0]),q(a,a,c),I(a,i)&&q(e[0],e[0],p),L(a,e[0]),q(a,a,c),I(a,i)?-1:(R(e[0])===r[31]>>7&&F(e[0],s,e[0]),q(e[3],e[0],e[1]),0)}(h,a))return-1;for(i=0;i<n;i++)e[i]=r[i];for(i=0;i<32;i++)e[i+32]=a[i];if(Q(l,e,n),se(l),te(d,h,l),re(h,r.subarray(32)),Z(d,h),ee(c,d),n-=64,y(r,0,c,0)){for(i=0;i<n;i++)e[i]=0;return-1}for(i=0;i<n;i++)e[i]=r[i+64];return n}function ue(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function le(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function de(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:v,crypto_stream_xor:S,crypto_stream:k,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:x,crypto_onetimeauth:P,crypto_onetimeauth_verify:E,crypto_verify_16:g,crypto_verify_32:y,crypto_secretbox:A,crypto_secretbox_open:C,crypto_scalarmult:z,crypto_scalarmult_base:V,crypto_box_beforenm:W,crypto_box_afternm:K,crypto_box:function(e,t,r,n,a,i){var s=new Uint8Array(32);return W(s,a,i),K(e,t,r,n,s)},crypto_box_open:function(e,t,r,n,a,i){var s=new Uint8Array(32);return W(s,a,i),Y(e,t,r,n,s)},crypto_box_keypair:G,crypto_hash:Q,crypto_sign:oe,crypto_sign_keypair:ne,crypto_sign_open:ce,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:u,L:ae,pack25519:M,unpack25519:B,M:q,A:N,S:L,Z:F,pow2523:U,add:Z,set25519:T,modL:ie,scalarmult:te,scalarbase:re},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){le(e,t,r),ue(r,t);for(var n=new Uint8Array(32+e.length),a=new Uint8Array(n.length),i=0;i<e.length;i++)n[i+32]=e[i];return A(a,n,n.length,t,r),a.subarray(16)},e.secretbox.open=function(e,t,r){le(e,t,r),ue(r,t);for(var n=new Uint8Array(16+e.length),a=new Uint8Array(n.length),i=0;i<e.length;i++)n[i+16]=e[i];return n.length<32||0!==C(a,n,n.length,t,r)?null:a.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(le(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return z(r,e,t),r},e.scalarMult.base=function(e){if(le(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return V(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,a){var i=e.box.before(n,a);return e.secretbox(t,r,i)},e.box.before=function(e,t){le(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return W(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,a){var i=e.box.before(n,a);return e.secretbox.open(t,r,i)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return G(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(le(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return V(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(le(e,t),64!==t.length)throw new Error("bad secret key size");var r=new Uint8Array(64+e.length);return oe(r,e,e.length,t),r},e.sign.open=function(e,t){if(le(e,t),32!==t.length)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ce(r,e,e.length,t);if(n<0)return null;for(var a=new Uint8Array(n),i=0;i<a.length;i++)a[i]=r[i];return a},e.sign.detached=function(t,r){for(var n=e.sign(t,r),a=new Uint8Array(64),i=0;i<a.length;i++)a[i]=n[i];return a},e.sign.detached.verify=function(e,t,r){if(le(e,t,r),64!==t.length)throw new Error("bad signature size");if(32!==r.length)throw new Error("bad public key size");var n,a=new Uint8Array(64+e.length),i=new Uint8Array(64+e.length);for(n=0;n<64;n++)a[n]=t[n];for(n=0;n<e.length;n++)a[n+64]=e[n];return ce(i,a,a.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return ne(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(le(e),64!==e.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(le(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return ne(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){le(e);var t=new Uint8Array(64);return Q(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return le(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===m(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,a=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(a.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=a[n];de(a)}))}else(t=r(1227))&&t.randomBytes&&e.setPRNG((function(e,r){var n,a=t.randomBytes(r);for(n=0;n<r;n++)e[n]=a[n];de(a)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return n}));const n="undefined"!=typeof globalThis?globalThis:void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")}).call(this,r(26))},function(e,t,r){var n=r(21),a=r(80);e.exports=r(20)?function(e,t,r){return n.f(e,t,a(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(13),a=r(32),i=r(35),s=r(81)("src"),o=r(669),c=(""+o).split("toString");r(42).inspectSource=function(e){return o.call(e)},(e.exports=function(e,t,r,o){var u="function"==typeof r;u&&(i(r,"name")||a(r,"name",t)),e[t]!==r&&(u&&(i(r,s)||a(r,s,e[t]?""+e[t]:c.join(String(t)))),e===n?e[t]=r:o?e[t]?e[t]=r:a(e,t,r):(delete e[t],a(e,t,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||o.call(this)}))},function(e,t,r){var n=r(4),a=r(14),i=r(49),s=/"/g,o=function(e,t,r,n){var a=String(i(e)),o="<"+t;return""!==r&&(o+=" "+r+'="'+String(n).replace(s,"&quot;")+'"'),o+">"+a+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(o),n(n.P+n.F*a((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",r)}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(117),a=r(49);e.exports=function(e){return n(a(e))}},function(e,t,r){var n=r(118),a=r(80),i=r(36),s=r(48),o=r(35),c=r(378),u=Object.getOwnPropertyDescriptor;t.f=r(20)?u:function(e,t){if(e=i(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(o(e,t))return a(!n.f.call(e,t),e[t])}},function(e,t,r){var n=r(35),a=r(23),i=r(199)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=r,r.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},function(e,t,r){"use strict";var n=t,a=r(8),i=r(39),s=r(448);n.assert=i,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var a=1<<t+1,i=e.clone(),s=0;s<n.length;s++){var o,c=i.andln(a-1);i.isOdd()?(o=c>(a>>1)-1?(a>>1)-c:c,i.isubn(o)):o=0,n[s]=o,i.iushrn(1)}return n},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,a=0,i=0;e.cmpn(-a)>0||t.cmpn(-i)>0;){var s,o,c=e.andln(3)+a&3,u=t.andln(3)+i&3;3===c&&(c=-1),3===u&&(u=-1),s=0==(1&c)?0:3!==(n=e.andln(7)+a&7)&&5!==n||2!==u?c:-c,r[0].push(s),o=0==(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[1].push(o),2*a===s+1&&(a=1-a),2*i===o+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new a(e,"hex","le")}},,function(e,t){var r=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},function(e,t,r){var n=r(29);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){"use strict";var n=r(14);e.exports=function(e,t){return!!e&&n((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,r){var n;!function(a){"use strict";var i,s="[big.js] ",o=s+"Invalid ",c=o+"decimal places",u={},l=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function d(e,t,r,n){var a=e.c,i=e.e+t+1;if(i<a.length){if(1===r)n=a[i]>=5;else if(2===r)n=a[i]>5||5==a[i]&&(n||i<0||void 0!==a[i+1]||1&a[i-1]);else if(3===r)n=n||!!a[0];else if(n=!1,0!==r)throw Error("[big.js] Invalid rounding mode");if(i<1)a.length=1,n?(e.e=-t,a[0]=1):a[0]=e.e=0;else{if(a.length=i--,n)for(;++a[i]>9;)a[i]=0,i--||(++e.e,a.unshift(1));for(i=a.length;!a[--i];)a.pop()}}else if(r<0||r>3||r!==~~r)throw Error("[big.js] Invalid rounding mode");return e}function h(e,t,r,n){var a,i,s=e.constructor,u=!e.c[0];if(void 0!==r){if(r!==~~r||r<(3==t)||r>1e6)throw Error(3==t?o+"precision":c);for(r=n-(e=new s(e)).e,e.c.length>++n&&d(e,r,s.RM),2==t&&(n=e.e+r+1);e.c.length<n;)e.c.push(0)}if(a=e.e,r=(i=e.c.join("")).length,2!=t&&(1==t||3==t&&n<=a||a<=s.NE||a>=s.PE))i=i.charAt(0)+(r>1?"."+i.slice(1):"")+(a<0?"e":"e+")+a;else if(a<0){for(;++a;)i="0"+i;i="0."+i}else if(a>0)if(++a>r)for(a-=r;a--;)i+="0";else a<r&&(i=i.slice(0,a)+"."+i.slice(a));else r>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&(!u||4==t)?"-"+i:i}u.abs=function(){var e=new this.constructor(this);return e.s=1,e},u.cmp=function(e){var t,r=this,n=r.c,a=(e=new r.constructor(e)).c,i=r.s,s=e.s,o=r.e,c=e.e;if(!n[0]||!a[0])return n[0]?i:a[0]?-s:0;if(i!=s)return i;if(t=i<0,o!=c)return o>c^t?1:-1;for(s=(o=n.length)<(c=a.length)?o:c,i=-1;++i<s;)if(n[i]!=a[i])return n[i]>a[i]^t?1:-1;return o==c?0:o>c^t?1:-1},u.div=function(e){var t=this,r=t.constructor,n=t.c,a=(e=new r(e)).c,i=t.s==e.s?1:-1,s=r.DP;if(s!==~~s||s<0||s>1e6)throw Error(c);if(!a[0])throw Error("[big.js] Division by zero");if(!n[0])return new r(0*i);var o,u,l,h,p,f=a.slice(),m=o=a.length,g=n.length,y=n.slice(0,o),b=y.length,v=e,_=v.c=[],w=0,x=s+(v.e=t.e-e.e)+1;for(v.s=i,i=x<0?0:x,f.unshift(0);b++<o;)y.push(0);do{for(l=0;l<10;l++){if(o!=(b=y.length))h=o>b?1:-1;else for(p=-1,h=0;++p<o;)if(a[p]!=y[p]){h=a[p]>y[p]?1:-1;break}if(!(h<0))break;for(u=b==o?a:f;b;){if(y[--b]<u[b]){for(p=b;p&&!y[--p];)y[p]=9;--y[p],y[b]+=10}y[b]-=u[b]}for(;!y[0];)y.shift()}_[w++]=h?l:++l,y[0]&&h?y[b]=n[m]||0:y=[n[m]]}while((m++<g||void 0!==y[0])&&i--);return _[0]||1==w||(_.shift(),v.e--),w>x&&d(v,s,r.RM,void 0!==y[0]),v},u.eq=function(e){return!this.cmp(e)},u.gt=function(e){return this.cmp(e)>0},u.gte=function(e){return this.cmp(e)>-1},u.lt=function(e){return this.cmp(e)<0},u.lte=function(e){return this.cmp(e)<1},u.minus=u.sub=function(e){var t,r,n,a,i=this,s=i.constructor,o=i.s,c=(e=new s(e)).s;if(o!=c)return e.s=-c,i.plus(e);var u=i.c.slice(),l=i.e,d=e.c,h=e.e;if(!u[0]||!d[0])return d[0]?(e.s=-c,e):new s(u[0]?i:0);if(o=l-h){for((a=o<0)?(o=-o,n=u):(h=l,n=d),n.reverse(),c=o;c--;)n.push(0);n.reverse()}else for(r=((a=u.length<d.length)?u:d).length,o=c=0;c<r;c++)if(u[c]!=d[c]){a=u[c]<d[c];break}if(a&&(n=u,u=d,d=n,e.s=-e.s),(c=(r=d.length)-(t=u.length))>0)for(;c--;)u[t++]=0;for(c=t;r>o;){if(u[--r]<d[r]){for(t=r;t&&!u[--t];)u[t]=9;--u[t],u[r]+=10}u[r]-=d[r]}for(;0===u[--c];)u.pop();for(;0===u[0];)u.shift(),--h;return u[0]||(e.s=1,u=[h=0]),e.c=u,e.e=h,e},u.mod=function(e){var t,r=this,n=r.constructor,a=r.s,i=(e=new n(e)).s;if(!e.c[0])throw Error("[big.js] Division by zero");return r.s=e.s=1,t=1==e.cmp(r),r.s=a,e.s=i,t?new n(r):(a=n.DP,i=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=a,n.RM=i,this.minus(r.times(e)))},u.plus=u.add=function(e){var t,r=this,n=r.constructor,a=r.s,i=(e=new n(e)).s;if(a!=i)return e.s=-i,r.minus(e);var s=r.e,o=r.c,c=e.e,u=e.c;if(!o[0]||!u[0])return u[0]?e:new n(o[0]?r:0*a);if(o=o.slice(),a=s-c){for(a>0?(c=s,t=u):(a=-a,t=o),t.reverse();a--;)t.push(0);t.reverse()}for(o.length-u.length<0&&(t=u,u=o,o=t),a=u.length,i=0;a;o[a]%=10)i=(o[--a]=o[a]+u[a]+i)/10|0;for(i&&(o.unshift(i),++c),a=o.length;0===o[--a];)o.pop();return e.c=o,e.e=c,e},u.pow=function(e){var t=this,r=new t.constructor(1),n=r,a=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(o+"exponent");for(a&&(e=-e);1&e&&(n=n.times(t)),e>>=1;)t=t.times(t);return a?r.div(n):n},u.round=function(e,t){var r=this.constructor;if(void 0===e)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(c);return d(new r(this),e,void 0===t?r.RM:t)},u.sqrt=function(){var e,t,r,n=this,a=n.constructor,i=n.s,o=n.e,c=new a(.5);if(!n.c[0])return new a(n);if(i<0)throw Error(s+"No square root");0===(i=Math.sqrt(n+""))||i===1/0?((t=n.c.join("")).length+o&1||(t+="0"),o=((o+1)/2|0)-(o<0||1&o),e=new a(((i=Math.sqrt(t))==1/0?"1e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):e=new a(i),o=e.e+(a.DP+=4);do{r=e,e=c.times(r.plus(n.div(r)))}while(r.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return d(e,a.DP-=4,a.RM)},u.times=u.mul=function(e){var t,r=this,n=r.constructor,a=r.c,i=(e=new n(e)).c,s=a.length,o=i.length,c=r.e,u=e.e;if(e.s=r.s==e.s?1:-1,!a[0]||!i[0])return new n(0*e.s);for(e.e=c+u,s<o&&(t=a,a=i,i=t,u=s,s=o,o=u),t=new Array(u=s+o);u--;)t[u]=0;for(c=o;c--;){for(o=0,u=s+c;u>c;)o=t[u]+i[c]*a[u-c-1]+o,t[u--]=o%10,o=o/10|0;t[u]=(t[u]+o)%10}for(o?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e},u.toExponential=function(e){return h(this,1,e,e)},u.toFixed=function(e){return h(this,2,e,this.e+e)},u.toPrecision=function(e){return h(this,3,e,e-1)},u.toString=function(){return h(this)},u.valueOf=u.toJSON=function(){return h(this,4)},(i=function e(){function t(r){var n=this;if(!(n instanceof t))return void 0===r?e():new t(r);r instanceof t?(n.s=r.s,n.e=r.e,n.c=r.c.slice()):function(e,t){var r,n,a;if(0===t&&1/t<0)t="-0";else if(!l.test(t+=""))throw Error(o+"number");e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".",""));(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length);for(a=t.length,n=0;n<a&&"0"==t.charAt(n);)++n;if(n==a)e.c=[e.e=0];else{for(;a>0&&"0"==t.charAt(--a););for(e.e=r-n-1,e.c=[],r=0;n<=a;)e.c[r++]=+t.charAt(n++)}}(n,r),n.constructor=t}return t.prototype=u,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.version="5.2.2",t}()).default=i.Big=i,void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){var n=r(15);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(4),a=r(42),i=r(14);e.exports=function(e,t){var r=(a.Object||{})[e]||Object[e],s={};s[e]=t(r),n(n.S+n.F*i((function(){r(1)})),"Object",s)}},function(e,t,r){var n=r(43),a=r(117),i=r(23),s=r(18),o=r(215);e.exports=function(e,t){var r=1==e,c=2==e,u=3==e,l=4==e,d=6==e,h=5==e||d,p=t||o;return function(t,o,f){for(var m,g,y=i(t),b=a(y),v=n(o,f,3),_=s(b.length),w=0,x=r?p(t,_):c?p(t,0):void 0;_>w;w++)if((h||w in b)&&(g=v(m=b[w],w,y),e))if(r)x[w]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:x.push(m)}else if(l)return!1;return d?-1:u||l?l:x}}},function(e,t,r){"use strict";var n=r(39),a=r(7);function i(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=a,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),a=0;a<e.length;a+=2)r.push(parseInt(e[a]+e[a+1],16))}else for(var n=0,a=0;a<e.length;a++){var s=e.charCodeAt(a);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):i(e,a)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++a)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(a=0;a<e.length;a++)r[a]=0|e[a];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=o(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var a=e[n];"little"===t&&(a=s(a)),r+=c(a.toString(16))}return r},t.zero2=o,t.zero8=c,t.join32=function(e,t,r,a){var i=r-t;n(i%4==0);for(var s=new Array(i/4),o=0,c=t;o<s.length;o++,c+=4){var u;u="big"===a?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],s[o]=u>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,a=0;n<e.length;n++,a+=4){var i=e[n];"big"===t?(r[a]=i>>>24,r[a+1]=i>>>16&255,r[a+2]=i>>>8&255,r[a+3]=255&i):(r[a+3]=i>>>24,r[a+2]=i>>>16&255,r[a+1]=i>>>8&255,r[a]=255&i)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,a){return e+t+r+n+a>>>0},t.sum64=function(e,t,r,n){var a=e[t],i=n+e[t+1]>>>0,s=(i<n?1:0)+r+a;e[t]=s>>>0,e[t+1]=i},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,a,i,s,o){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+i>>>0)<i?1:0,e+r+a+s+(c+=(u=u+o>>>0)<o?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,a,i,s,o){return t+n+i+o>>>0},t.sum64_5_hi=function(e,t,r,n,a,i,s,o,c,u){var l=0,d=t;return l+=(d=d+n>>>0)<t?1:0,l+=(d=d+i>>>0)<i?1:0,l+=(d=d+o>>>0)<o?1:0,e+r+a+s+c+(l+=(d=d+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,a,i,s,o,c,u){return t+n+i+o+u>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var a=e[n];"."===a?e.splice(n,1):".."===a?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",a=!1,i=arguments.length-1;i>=-1&&!a;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,a="/"===s.charAt(0))}return(a?"/":"")+(t=r(n(t.split("/"),(function(e){return!!e})),!a).join("/"))||"."},t.normalize=function(e){var i=t.isAbsolute(e),s="/"===a(e,-1);return(e=r(n(e.split("/"),(function(e){return!!e})),!i).join("/"))||i||(e="."),e&&s&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(n(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var a=n(e.split("/")),i=n(r.split("/")),s=Math.min(a.length,i.length),o=s,c=0;c<s;c++)if(a[c]!==i[c]){o=c;break}var u=[];for(c=o;c<a.length;c++)u.push("..");return(u=u.concat(i.slice(o))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,a=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!a){n=i;break}}else a=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=function(e){"string"!=typeof e&&(e+="");var t,r=0,n=-1,a=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!a){r=t+1;break}}else-1===n&&(a=!1,n=t+1);return-1===n?"":e.slice(r,n)}(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,a=!0,i=0,s=e.length-1;s>=0;--s){var o=e.charCodeAt(s);if(47!==o)-1===n&&(a=!1,n=s+1),46===o?-1===t?t=s:1!==i&&(i=1):-1!==t&&(i=-1);else if(!a){r=s+1;break}}return-1===t||-1===n||0===i||1===i&&t===n-1&&t===r+1?"":e.slice(t,n)};var a="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r(19))},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(1098),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.closebox=!0}var t,r,i;return t=e,(r=[{key:"render",value:function(e,t){document.querySelector(".saito-overlay-backdrop")||e.browser.addElementToDom(a(this.closebox))}},{key:"attachEvents",value:function(e,t){}},{key:"showOverlay",value:function(e,t,r){var n=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.render(e,t);var i=this,s=document.querySelector(".saito-overlay"),o=document.querySelector(".saito-overlay-backdrop"),c=document.querySelector(".saito-overlay-closebox");s.innerHTML=c?c.outerHTML+r:r,s.style.display="block",o.style.display="block",o.onclick=function(e){i.hideOverlay(a)},(c=document.querySelector(".saito-overlay-closebox"))&&(c.style.display="block",c.onclick=function(e){n.hideOverlay(a)})}},{key:"showOverlayBlocking",value:function(e,t,r){this.showOverlay(e,t,r,null);var n=document.querySelector(".saito-overlay-closebox");n.style.display="none"}},{key:"hideOverlay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.querySelector(".saito-overlay"),r=document.querySelector(".saito-overlay-backdrop"),n=document.querySelector(".saito-overlay-closebox");t.style.display="none",r.style.display="none",n&&(n.style.display="none"),null!=e&&e()}}])&&n(t.prototype,r),i&&n(t,i),e}();e.exports=i},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));const n=/^0x[a-fA-F0-9]+$/;function a(e,t=-1,r=!1){return!("string"!=typeof e||"0x"!==e&&!n.test(e))&&(-1===t?e.length%2==0||r:e.length===2+Math.ceil(t/4))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(185);function a(e=32){return Object(n.a)(new Uint8Array(e))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return Oe}));var n=r(3);function a(e){return!e}var i=r(112),s=r(25),o=r(16),c=r(78),u=r(195),l=r(638),d=r(639),h=r(1304),p=r(79),f=r(75),m=r(651);const g=["blake2","keccak"];function y(e,t){if("blake2"===e)return Object(f.a)(t);if("keccak"===e)return Object(m.a)(t);throw new Error(`Unsupported secp256k1 hasher '${e}', expected one of ${g.join(", ")}`)}var b=r(28);function v(e,{secretKey:t},r="blake2"){Object(s.a)(32===(null==t?void 0:t.length),"Expected valid secp256k1 secretKey, 32-bytes");const n=b.b.keyFromPrivate(t).sign(y(r,e));return Object(i.a)(Object(p.a)(n.r,b.a),Object(p.a)(n.s,b.a),new Uint8Array([n.recoveryParam||0]))}var _=r(30),w=r.n(_),x=r(62);var k=r(370),S=r(1307);var O=r(371),P=r.n(O);function E(e){return P.a.convertSecretKey(e)}function A(e){return P.a.convertPublicKey(e)}var C=r(649),T=r(1311),D=r(56);const j=Object(o.a)("Ethereum Signed Message:\n"),M=Object(o.a)("<Bytes>"),I=Object(o.a)("</Bytes>"),R=M.length+I.length;function B(e,t){return e.length>=R&&Object(u.a)(e.subarray(0,M.length),M)&&Object(u.a)(e.slice(-I.length),I)||t&&e.length>=j.length&&Object(u.a)(e.subarray(0,j.length),j)}var N=r(191);function F(e,t,r,n=!1){const a=Object(o.a)(e),i=Object(o.a)(r),c=Object(o.a)(t);return Object(s.a)(32===i.length,()=>`Invalid publicKey, received ${i.length}, expected 32`),Object(s.a)(64===c.length,()=>`Invalid signature, received ${c.length} bytes, expected 64`),Object(x.i)()&&!n?Object(x.h)(c,a,i):w.a.sign.detached.verify(a,c,i)}function q(e,t,r){const n=Object(o.a)(r),a=Object(o.a)(t);return Object(s.a)(32===n.length,()=>`Invalid publicKey, received ${n.length} bytes, expected 32`),Object(s.a)(64===a.length,()=>`Invalid signature, received ${a.length} bytes, expected 64`),Object(x.q)(a,Object(o.a)(e),n)}const L=e=>(t,r,n)=>function(e,t,r,n="blake2"){const a="keccak"===n,i=Object(o.a)(t);Object(s.a)(65===i.length,`Expected signature with 65 bytes, ${i.length} found instead`);const c=new Uint8Array(b.b.recoverPubKey(y(n,e),{r:i.slice(0,32),s:i.slice(32,64)},i[64]).encodeCompressed()),l=y(n,a?Object(k.a)(c):c),d=Object(o.a)(r);return a?Object(u.a)(l.slice(-20),d.slice(-20)):Object(u.a)(l,d)}(t,r,n,e),H=[["ecdsa",L("blake2")],["ethereum",L("keccak")]],U=[["ed25519",F],["sr25519",q],...H],z=["ed25519","sr25519","ecdsa"];function V(e,{message:t,publicKey:r,signature:n},a=U){return e.isValid=a.some(([a,i])=>{try{if(i(t,n,r))return e.crypto=a,!0}catch(e){}return!1}),e}function G(e,{message:t,publicKey:r,signature:n}){Object(s.a)([0,1,2].includes(n[0]),()=>"Unknown crypto type, expected signature prefix [0..2], found "+n[0]);const a=z[n[0]]||"none";e.crypto=a;try{e.isValid={ecdsa:()=>V(e,{message:t,publicKey:r,signature:n.subarray(1)},H).isValid,ed25519:()=>F(t,n.subarray(1),r),none:()=>{throw Error("no verify for `none` crypto type")},sr25519:()=>q(t,n.subarray(1),r)}[a]()}catch(e){}return e}function W(e,t,r){const n=Object(o.a)(t);Object(s.a)([64,65,66].includes(n.length),()=>"Invalid signature length, expected [64..66] bytes, found "+n.length);const a=Object(N.a)(r),c={message:Object(o.a)(e),publicKey:a,signature:n},u={crypto:"none",isValid:!1,isWrapped:B(c.message,!0),publicKey:a},l=B(c.message,!1),d=function(e){return[0,1,2].includes(e[0])&&[65,66].includes(e.length)?G:V}(n);return d(u,c),"none"!==u.crypto||u.isWrapped&&!l?u:(c.message=l?function(e){const t=Object(o.a)(e);return B(t,!1)?t.subarray(M.length,t.length-I.length):t}(c.message):function(e){const t=Object(o.a)(e);return B(t,!0)?t:Object(i.a)(M,t,I)}(c.message),d(u,c))}const K=new Uint8Array;const Y=new Uint8Array;var X=r(76),J=r(136);var Q=r(1305);const Z={N:32768,p:1,r:8};var $=r(640),ee=r.n($),te=r(1301),re=r(1306);function ne(e,t=Object(D.a)(),r=Z){return{params:r,password:Object(x.i)()?Object(x.l)(Object(o.a)(e),t,Math.log2(r.N),r.r,r.p):Object(te.a)(ee()(Object(re.a)(Object(o.a)(e)),Object(re.a)(t),r.N,r.r,r.p,64)),salt:t}}const ae=["scrypt","xsalsa20-poly1305"],ie=["none"];function se(e,t,r=ae){Object(s.a)(e,"No encrypted data available to decode"),Object(s.a)(t||!r.includes("xsalsa20-poly1305"),"Password required to decode encrypted data");let n=e;if(t){let a;if(r.includes("scrypt")){const{params:r,salt:n}=function(e){const t=e.subarray(0,32),r=Object(Q.a)(e.subarray(32,36),{isLe:!0}).toNumber(),n=Object(Q.a)(e.subarray(36,40),{isLe:!0}).toNumber(),a=Object(Q.a)(e.subarray(40,44),{isLe:!0}).toNumber();return Object(s.a)(r===Z.N&&n===Z.p&&a===Z.r,"Invalid injected scrypt params found"),{params:{N:r,p:n,r:a},salt:t}}(e);a=ne(t,n,r).password,e=e.subarray(44)}else a=Object(J.a)(t);n=function(e,t,r){return w.a.secretbox.open(e,t,r)||null}(e.subarray(24),e.subarray(0,24),function(e,t=-1,r=!1){const n=Math.ceil(t/8);if(-1===t||e.length===n)return e;if(e.length>n)return e.subarray(0,n);const a=new Uint8Array(n);return a.set(e,r?0:n-e.length),a}(a,256,!0))}return Object(s.a)(n,"Unable to decode using the supplied passphrase"),n}const oe=new Uint8Array([161,35,3,33,0]),ce=new Uint8Array([48,83,2,1,1,48,5,6,3,43,101,112,4,34,4,32]),ue=ce.length;function le({publicKey:e,secretKey:t},r){Object(s.a)(t,"Expected a valid secretKey to be passed to encode");const n=Object(i.a)(ce,t,oe,e);if(!r)return n;const{params:a,password:o,salt:c}=ne(r),{encrypted:u,nonce:l}=function(e,t,r=Object(D.a)(24)){return{encrypted:w.a.secretbox(e,r,t),nonce:r}}(n,o.subarray(0,32));return Object(i.a)(function(e,{N:t,p:r,r:n}){return Object(i.a)(e,Object(p.a)(t,{bitLength:32,isLe:!0}),Object(p.a)(r,{bitLength:32,isLe:!0}),Object(p.a)(n,{bitLength:32,isLe:!0}))}(c,a),l,u)}var de=r(135),he=r.n(de);function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function me(e,{address:t,meta:r},n,a){return fe(fe({},function(e,t,r){return{encoded:(n=e,he.a.fromByteArray(Object(o.a)(n))),encoding:{content:t,type:r?ae:ie,version:"3"}};var n}(n,["pkcs8",e],a)),{},{address:t,meta:r})}function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const be=new Uint8Array,ve={ecdsa:l.a,ed25519:d.a,ethereum:l.a,sr25519:h.a},_e={ecdsa:new Uint8Array([2]),ed25519:new Uint8Array([0]),ethereum:new Uint8Array([2]),sr25519:new Uint8Array([1])},we={ecdsa:(e,t)=>v(e,t,"blake2"),ed25519:function(e,{publicKey:t,secretKey:r},n=!1){Object(s.a)(r,"Expected a valid secretKey");const a=Object(o.a)(e);return Object(x.i)()&&!n?Object(x.g)(t,r.subarray(0,32),a):w.a.sign.detached(a,r)},ethereum:(e,t)=>v(e,t,"keccak"),sr25519:function(e,{publicKey:t,secretKey:r}){return Object(s.a)(32===(null==t?void 0:t.length),"Expected a valid publicKey, 32-bytes"),Object(s.a)(64===(null==r?void 0:r.length),"Expected a valid secretKey, 64-bytes"),Object(x.p)(t,r,Object(o.a)(e))}},xe={ecdsa:e=>e.length>32?Object(f.a)(e):e,ed25519:e=>e,ethereum:e=>20===e.length?e:Object(m.a)(Object(k.a)(e)),sr25519:e=>e};function ke(e){return!e||(0===(t=e).length||t.every(a));var t}function Se(e,t,r){return Object(f.a)(Object(i.a)(t||"",r||"",e))}function Oe({toSS58:e,type:t},{publicKey:r,secretKey:n},a={},l=null,d){const h=(e,a)=>{const i=function(e,t,r){const n=se(t,e,Array.isArray(r)||Object(X.a)(r)?r:[r]),a=n.subarray(0,ce.length);Object(s.a)(Object(u.a)(a,ce),"Invalid Pkcs8 header found in body");let i=n.subarray(ue,ue+64),o=ue+64,c=n.subarray(o,o+oe.length);Object(u.a)(c,oe)||(o=ue+32,i=n.subarray(ue,o),c=n.subarray(o,o+oe.length),Object(s.a)(Object(u.a)(c,oe),"Invalid Pkcs8 divider found in body"));const l=o+oe.length;return{publicKey:n.subarray(l,l+32),secretKey:i}}(e,a||l,d);if(64===i.secretKey.length)r=i.publicKey,n=i.secretKey;else{const e=ve[t](i.secretKey);r=e.publicKey,n=e.secretKey}},p=e=>(ke(n)&&l&&h(e,l),l=le({publicKey:r,secretKey:n},e),d=void 0,l),f=()=>{const n=xe[t](r);return"ethereum"===t?Object(S.a)(n):e(n)};return{get address(){return f()},get addressRaw(){const e=xe[t](r);return"ethereum"===t?e.slice(-20):e},get isLocked(){return ke(n)},get meta(){return a},get publicKey(){return r},get type(){return t},decodePkcs8:h,decryptMessage:(e,r)=>{Object(s.a)(!ke(n),"Cannot encrypt with a locked key pair"),Object(s.a)(!["ecdsa","ethereum"].includes(t),"Secp256k1 not supported yet");const a=Object(o.a)(e);return i=a.slice(24,a.length),c=a.slice(0,24),u=A(Object(o.a)(r)),l=E(n),w.a.box.open(i,c,u,l)||null;var i,c,u,l},derive:(a,i)=>{Object(s.a)("ethereum"!==t,"Unable to derive on this keypair"),Object(s.a)(!ke(n),"Cannot derive on a locked keypair");const{path:o}=Object(C.a)(a),c=Object(T.a)({publicKey:r,secretKey:n},o,t);return Oe({toSS58:e,type:t},c,i,null)},encodePkcs8:e=>p(e),encryptMessage:(e,r,a)=>{Object(s.a)(!ke(n),"Cannot encrypt with a locked key pair"),Object(s.a)(!["ecdsa","ethereum"].includes(t),"Secp256k1 not supported yet");const{nonce:c,sealed:u}=function(e,t,r,n=Object(D.a)(24)){return{nonce:n,sealed:w.a.box(e,n,r,t)}}(Object(o.a)(e),E(n),A(Object(o.a)(r)),a);return Object(i.a)(c,u)},lock:()=>{n=new Uint8Array},setMeta:e=>{a=ye(ye({},a),e)},sign:(e,a={})=>(Object(s.a)(!ke(n),"Cannot sign with a locked key pair"),Object(i.a)(a.withType?_e[t]:be,we[t](Object(o.a)(e),{publicKey:r,secretKey:n}))),toJson:e=>{const n=["ecdsa","ethereum"].includes(t)?20===r.length?Object(c.a)(r):Object(c.a)(function(e){return Object(s.a)([33,65].includes(e.length),"Invalid publicKey provided"),new Uint8Array(b.b.keyFromPublic(e).getPublic().encodeCompressed())}(r)):f();return me(t,{address:n,meta:a},p(e),!!e)},unlock:e=>h(e),verify:(e,r,n)=>W(e,r,xe[t](Object(o.a)(n))).isValid,vrfSign:(e,a,c)=>{if(Object(s.a)(!ke(n),"Cannot sign with a locked key pair"),"sr25519"===t)return function(e,{secretKey:t},r=K,n=K){return Object(s.a)(64===(null==t?void 0:t.length),"Invalid secretKey, expected 64-bytes"),Object(x.s)(t,Object(o.a)(r),Object(o.a)(e),Object(o.a)(n))}(e,{secretKey:n},a,c);const u=we[t](Object(o.a)(e),{publicKey:r,secretKey:n});return Object(i.a)(Se(u,a,c),u)},vrfVerify:(e,n,a,c,l)=>{if("sr25519"===t)return function(e,t,r,n=Y,a=Y){const i=Object(o.a)(r),c=Object(o.a)(t);return Object(s.a)(32===i.length,"Invalid publicKey, expected 32-bytes"),Object(s.a)(96===c.length,"Invalid vrfSign output, expected 96 bytes"),Object(x.t)(i,Object(o.a)(n),Object(o.a)(e),Object(o.a)(a),c)}(e,n,r,c,l);return W(e,Object(i.a)(_e[t],n.subarray(32)),xe[t](Object(o.a)(a))).isValid&&Object(u.a)(n.subarray(0,32),Se(n.subarray(32),c,l))}}}},function(e,t,r){"use strict";if(r(20)){var n=r(64),a=r(13),i=r(14),s=r(4),o=r(147),c=r(223),u=r(43),l=r(87),d=r(80),h=r(32),p=r(89),f=r(45),m=r(18),g=r(406),y=r(83),b=r(48),v=r(35),_=r(98),w=r(15),x=r(23),k=r(212),S=r(84),O=r(38),P=r(85).f,E=r(214),A=r(81),C=r(17),T=r(51),D=r(137),j=r(120),M=r(217),I=r(100),R=r(142),B=r(86),N=r(216),F=r(395),q=r(21),L=r(37),H=q.f,U=L.f,z=a.RangeError,V=a.TypeError,G=a.Uint8Array,W=Array.prototype,K=c.ArrayBuffer,Y=c.DataView,X=T(0),J=T(2),Q=T(3),Z=T(4),$=T(5),ee=T(6),te=D(!0),re=D(!1),ne=M.values,ae=M.keys,ie=M.entries,se=W.lastIndexOf,oe=W.reduce,ce=W.reduceRight,ue=W.join,le=W.sort,de=W.slice,he=W.toString,pe=W.toLocaleString,fe=C("iterator"),me=C("toStringTag"),ge=A("typed_constructor"),ye=A("def_constructor"),be=o.CONSTR,ve=o.TYPED,_e=o.VIEW,we=T(1,(function(e,t){return Pe(j(e,e[ye]),t)})),xe=i((function(){return 1===new G(new Uint16Array([1]).buffer)[0]})),ke=!!G&&!!G.prototype.set&&i((function(){new G(1).set({})})),Se=function(e,t){var r=f(e);if(r<0||r%t)throw z("Wrong offset!");return r},Oe=function(e){if(w(e)&&ve in e)return e;throw V(e+" is not a typed array!")},Pe=function(e,t){if(!w(e)||!(ge in e))throw V("It is not a typed array constructor!");return new e(t)},Ee=function(e,t){return Ae(j(e,e[ye]),t)},Ae=function(e,t){for(var r=0,n=t.length,a=Pe(e,n);n>r;)a[r]=t[r++];return a},Ce=function(e,t,r){H(e,t,{get:function(){return this._d[r]}})},Te=function(e){var t,r,n,a,i,s,o=x(e),c=arguments.length,l=c>1?arguments[1]:void 0,d=void 0!==l,h=E(o);if(null!=h&&!k(h)){for(s=h.call(o),n=[],t=0;!(i=s.next()).done;t++)n.push(i.value);o=n}for(d&&c>2&&(l=u(l,arguments[2],2)),t=0,r=m(o.length),a=Pe(this,r);r>t;t++)a[t]=d?l(o[t],t):o[t];return a},De=function(){for(var e=0,t=arguments.length,r=Pe(this,t);t>e;)r[e]=arguments[e++];return r},je=!!G&&i((function(){pe.call(new G(1))})),Me=function(){return pe.apply(je?de.call(Oe(this)):Oe(this),arguments)},Ie={copyWithin:function(e,t){return F.call(Oe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Z(Oe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return N.apply(Oe(this),arguments)},filter:function(e){return Ee(this,J(Oe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return $(Oe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Oe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){X(Oe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return re(Oe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Oe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ue.apply(Oe(this),arguments)},lastIndexOf:function(e){return se.apply(Oe(this),arguments)},map:function(e){return we(Oe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return oe.apply(Oe(this),arguments)},reduceRight:function(e){return ce.apply(Oe(this),arguments)},reverse:function(){for(var e,t=Oe(this).length,r=Math.floor(t/2),n=0;n<r;)e=this[n],this[n++]=this[--t],this[t]=e;return this},some:function(e){return Q(Oe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(Oe(this),e)},subarray:function(e,t){var r=Oe(this),n=r.length,a=y(e,n);return new(j(r,r[ye]))(r.buffer,r.byteOffset+a*r.BYTES_PER_ELEMENT,m((void 0===t?n:y(t,n))-a))}},Re=function(e,t){return Ee(this,de.call(Oe(this),e,t))},Be=function(e){Oe(this);var t=Se(arguments[1],1),r=this.length,n=x(e),a=m(n.length),i=0;if(a+t>r)throw z("Wrong length!");for(;i<a;)this[t+i]=n[i++]},Ne={entries:function(){return ie.call(Oe(this))},keys:function(){return ae.call(Oe(this))},values:function(){return ne.call(Oe(this))}},Fe=function(e,t){return w(e)&&e[ve]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},qe=function(e,t){return Fe(e,t=b(t,!0))?d(2,e[t]):U(e,t)},Le=function(e,t,r){return!(Fe(e,t=b(t,!0))&&w(r)&&v(r,"value"))||v(r,"get")||v(r,"set")||r.configurable||v(r,"writable")&&!r.writable||v(r,"enumerable")&&!r.enumerable?H(e,t,r):(e[t]=r.value,e)};be||(L.f=qe,q.f=Le),s(s.S+s.F*!be,"Object",{getOwnPropertyDescriptor:qe,defineProperty:Le}),i((function(){he.call({})}))&&(he=pe=function(){return ue.call(this)});var He=p({},Ie);p(He,Ne),h(He,fe,Ne.values),p(He,{slice:Re,set:Be,constructor:function(){},toString:he,toLocaleString:Me}),Ce(He,"buffer","b"),Ce(He,"byteOffset","o"),Ce(He,"byteLength","l"),Ce(He,"length","e"),H(He,me,{get:function(){return this[ve]}}),e.exports=function(e,t,r,c){var u=e+((c=!!c)?"Clamped":"")+"Array",d="get"+e,p="set"+e,f=a[u],y=f||{},b=f&&O(f),v=!f||!o.ABV,x={},k=f&&f.prototype,E=function(e,r){H(e,r,{get:function(){return function(e,r){var n=e._d;return n.v[d](r*t+n.o,xe)}(this,r)},set:function(e){return function(e,r,n){var a=e._d;c&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),a.v[p](r*t+a.o,n,xe)}(this,r,e)},enumerable:!0})};v?(f=r((function(e,r,n,a){l(e,f,u,"_d");var i,s,o,c,d=0,p=0;if(w(r)){if(!(r instanceof K||"ArrayBuffer"==(c=_(r))||"SharedArrayBuffer"==c))return ve in r?Ae(f,r):Te.call(f,r);i=r,p=Se(n,t);var y=r.byteLength;if(void 0===a){if(y%t)throw z("Wrong length!");if((s=y-p)<0)throw z("Wrong length!")}else if((s=m(a)*t)+p>y)throw z("Wrong length!");o=s/t}else o=g(r),i=new K(s=o*t);for(h(e,"_d",{b:i,o:p,l:s,e:o,v:new Y(i)});d<o;)E(e,d++)})),k=f.prototype=S(He),h(k,"constructor",f)):i((function(){f(1)}))&&i((function(){new f(-1)}))&&R((function(e){new f,new f(null),new f(1.5),new f(e)}),!0)||(f=r((function(e,r,n,a){var i;return l(e,f,u),w(r)?r instanceof K||"ArrayBuffer"==(i=_(r))||"SharedArrayBuffer"==i?void 0!==a?new y(r,Se(n,t),a):void 0!==n?new y(r,Se(n,t)):new y(r):ve in r?Ae(f,r):Te.call(f,r):new y(g(r))})),X(b!==Function.prototype?P(y).concat(P(b)):P(y),(function(e){e in f||h(f,e,y[e])})),f.prototype=k,n||(k.constructor=f));var A=k[fe],C=!!A&&("values"==A.name||null==A.name),T=Ne.values;h(f,ge,!0),h(k,ve,u),h(k,_e,!0),h(k,ye,f),(c?new f(1)[me]==u:me in k)||H(k,me,{get:function(){return u}}),x[u]=f,s(s.G+s.W+s.F*(f!=y),x),s(s.S,u,{BYTES_PER_ELEMENT:t}),s(s.S+s.F*i((function(){y.of.call(f,1)})),u,{from:Te,of:De}),"BYTES_PER_ELEMENT"in k||h(k,"BYTES_PER_ELEMENT",t),s(s.P,u,Ie),B(u),s(s.P+s.F*ke,u,{set:Be}),s(s.P+s.F*!C,u,Ne),n||k.toString==he||(k.toString=he),s(s.P+s.F*i((function(){new f(1).slice()})),u,{slice:Re}),s(s.P+s.F*(i((function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()}))||!i((function(){k.toLocaleString.call([1,2])}))),u,{toLocaleString:Me}),I[u]=C?A:T,n||C||h(k,fe,T)}}else e.exports=function(){}},function(e,t,r){var n=r(401),a=r(4),i=r(116)("metadata"),s=i.store||(i.store=new(r(404))),o=function(e,t,r){var a=s.get(e);if(!a){if(!r)return;s.set(e,a=new n)}var i=a.get(t);if(!i){if(!r)return;a.set(t,i=new n)}return i};e.exports={store:s,map:o,has:function(e,t,r){var n=o(t,r,!1);return void 0!==n&&n.has(e)},get:function(e,t,r){var n=o(t,r,!1);return void 0===n?void 0:n.get(e)},set:function(e,t,r,n){o(r,n,!0).set(e,t)},keys:function(e,t){var r=o(e,t,!1),n=[];return r&&r.forEach((function(e,t){n.push(t)})),n},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){a(a.S,"Reflect",e)}}},function(e,t,r){var n=t;n.utils=r(52),n.common=r(123),n.sha=r(929),n.ripemd=r(933),n.hmac=r(934),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(187),a=r(188),i=r(55),s=r(74);var o=r(8),c=r.n(o);function u(e){return e?Object(i.a)(e)?Object(n.a)(e.toString()):Object(a.a)(e)?new c.a(e.toString()):c.a.isBN(e)?e:function(e){return!!e&&Object(s.a)(e.toBn)}(e)?e.toBn():new c.a(e):new c.a(0)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return oe})),r.d(t,"b",(function(){return ce})),r.d(t,"c",(function(){return ue})),r.d(t,"d",(function(){return le})),r.d(t,"f",(function(){return de})),r.d(t,"g",(function(){return he})),r.d(t,"h",(function(){return pe})),r.d(t,"m",(function(){return fe})),r.d(t,"n",(function(){return me})),r.d(t,"o",(function(){return ge})),r.d(t,"p",(function(){return ye})),r.d(t,"q",(function(){return be})),r.d(t,"s",(function(){return ve})),r.d(t,"t",(function(){return _e})),r.d(t,"e",(function(){return we})),r.d(t,"j",(function(){return xe})),r.d(t,"k",(function(){return ke})),r.d(t,"l",(function(){return Se})),r.d(t,"r",(function(){return Oe})),r.d(t,"i",(function(){return Pe})),r.d(t,"u",(function(){return Ee}));var n={};r.r(n),r.d(n,"__wbindgen_is_undefined",(function(){return Q})),r.d(n,"__wbg_self_1b7a39e3a92c949c",(function(){return Z})),r.d(n,"__wbg_require_604837428532a733",(function(){return $})),r.d(n,"__wbg_crypto_968f1772287e2df0",(function(){return ee})),r.d(n,"__wbg_getRandomValues_a3d34b4fee3c2869",(function(){return te})),r.d(n,"__wbg_getRandomValues_f5e14ab7ac8e995d",(function(){return re})),r.d(n,"__wbg_randomFillSync_d5bd2d655fdf256a",(function(){return ne})),r.d(n,"__wbindgen_object_drop_ref",(function(){return ae})),r.d(n,"abort",(function(){return ie}));const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=[],s=[];for(let e=0;e<a.length;++e)i[e]=a[e],s[a.charCodeAt(e)]=e;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63;var o=r(194);const c=o.bytes,u=(o.sizeCompressed,o.sizeUncompressed),l=Uint8Array,d=Uint16Array,h=Uint32Array,p=new l([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f=new l([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),m=new l([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),g=(e,t)=>{const r=new d(31);for(let n=0;n<31;++n)r[n]=t+=1<<e[n-1];const n=new h(r[30]);for(let e=1;e<30;++e)for(let t=r[e];t<r[e+1];++t)n[t]=t-r[e]<<5|e;return[r,n]},[y,b]=g(f,2);y[28]=258,b[258]=28;const[v]=g(m,0),_=new d(32768);for(let e=0;e<32768;++e){let t=(43690&e)>>>1|(21845&e)<<1;t=(52428&t)>>>2|(13107&t)<<2,t=(61680&t)>>>4|(3855&t)<<4,_[e]=((65280&t)>>>8|(255&t)<<8)>>>1}const w=(e,t,r)=>{const n=e.length;let a=0;const i=new d(t);for(;a<n;++a)++i[e[a]-1];const s=new d(t);for(a=0;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;let o;if(r){o=new d(1<<t);const r=15-t;for(a=0;a<n;++a)if(e[a]){const n=a<<4|e[a],i=t-e[a];let c=s[e[a]-1]++<<i;for(const e=c|(1<<i)-1;c<=e;++c)o[_[c]>>>r]=n}}else for(o=new d(n),a=0;a<n;++a)o[a]=_[s[e[a]-1]++]>>>15-e[a];return o},x=new l(288);for(let e=0;e<144;++e)x[e]=8;for(let e=144;e<256;++e)x[e]=9;for(let e=256;e<280;++e)x[e]=7;for(let e=280;e<288;++e)x[e]=8;const k=new l(32);for(let e=0;e<32;++e)k[e]=5;const S=w(x,9,1),O=w(k,5,1),P=(e,t,r)=>{const n=t>>>3;return(e[n]|e[n+1]<<8)>>>(7&t)&r},E=(e,t)=>{const r=t>>>3;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>>(7&t)},A=e=>{let t=e[0];for(let r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},C=(e,t,r)=>{const n=!r||r.i;r||(r={});const a=e.length,i=!t||!n;t||(t=new l(3*a));const s=e=>{let r=t.length;if(e>r){const n=new l(Math.max(r<<1,e));n.set(t),t=n}};let o=r.f||0,c=r.p||0,u=r.b||0,g=r.l,b=r.d,_=r.m,x=r.n;if(o&&!g)return t;const k=a<<3;do{if(!g){r.f=o=P(e,c,1);const d=P(e,c+1,3);if(c+=3,!d){const o=((C=c)>>>3)+(7&C&&1)+4,l=e[o-4]|e[o-3]<<8,d=o+l;if(d>a){if(n)throw"unexpected EOF";break}i&&s(u+l),t.set(e.subarray(o,d),u),r.b=u+=l,r.p=c=d<<3;continue}if(1==d)g=S,b=O,_=9,x=5;else{if(2!=d)throw"invalid block type";{const t=P(e,c,31)+257,r=P(e,c+10,15)+4,a=t+P(e,c+5,31)+1;c+=14;const i=new l(a),s=new l(19);for(let t=0;t<r;++t)s[p[t]]=P(e,c+3*t,7);c+=3*r;const o=A(s),u=(1<<o)-1;if(!n&&c+a*(o+7)>k)break;const d=w(s,o,1);for(let t=0;t<a;){const r=d[P(e,c,u)];c+=15&r;const n=r>>>4;if(n<16)i[t++]=n;else{let r=0,a=0;for(16==n?(a=3+P(e,c,3),c+=2,r=i[t-1]):17==n?(a=3+P(e,c,7),c+=3):18==n&&(a=11+P(e,c,127),c+=7);a--;)i[t++]=r}}const h=i.subarray(0,t),f=i.subarray(t);_=A(h),x=A(f),g=w(h,_,1),b=w(f,x,1)}}if(c>k)throw"unexpected EOF"}i&&s(u+131072);const d=(1<<_)-1,h=(1<<x)-1,T=_+x+18;for(;n||c+T<k;){const r=g[E(e,c)&d],n=r>>>4;if(c+=15&r,c>k)throw"unexpected EOF";if(!r)throw"invalid length/literal";if(n<256)t[u++]=n;else{if(256==n){g=void 0;break}{let r=n-254;if(n>264){const t=n-257,a=f[t];r=P(e,c,(1<<a)-1)+y[t],c+=a}const a=b[E(e,c)&h],o=a>>>4;if(!a)throw"invalid distance";c+=15&a;let l=v[o];if(o>3){const t=m[o];l+=E(e,c)&(1<<t)-1,c+=t}if(c>k)throw"unexpected EOF";i&&s(u+131072);const d=u+r;for(;u<d;u+=4)t[u]=t[u-l],t[u+1]=t[u+1-l],t[u+2]=t[u+2-l],t[u+3]=t[u+3-l];u=d}}}r.l=g,r.p=c,r.b=u,g&&(o=1,r.m=_,r.d=b,r.n=x)}while(!o);var C;return u==t.length?t:((e,t,r)=>{(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);const n=new(e instanceof d?d:e instanceof h?h:l)(r-t);return n.set(e.subarray(t,r)),n})(t,0,u)};const T=function(e,t){return C(((e=>{if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"})(e),e.subarray(2,-4)),t)}(function(e){const[t,r]=function(e){const t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");const r=e.indexOf("=");return-1===r?[t,0]:[r,4-r%4]}(e),n=new Uint8Array(3*(t+r)/4-r);let a,i,o=0;const c=r>0?t-4:t;for(a=0;a<c;a+=4)i=s[e.charCodeAt(a)]<<18|s[e.charCodeAt(a+1)]<<12|s[e.charCodeAt(a+2)]<<6|s[e.charCodeAt(a+3)],n[o++]=i>>16&255,n[o++]=i>>8&255,n[o++]=255&i;return 2===r?(i=s[e.charCodeAt(a)]<<2|s[e.charCodeAt(a+1)]>>4,n[o++]=255&i):1===r&&(i=s[e.charCodeAt(a)]<<10|s[e.charCodeAt(a+1)]<<4|s[e.charCodeAt(a+2)]>>2,n[o++]=i>>8&255,n[o++]=255&i),n}(c),new Uint8Array(u));var D=r(25),j=r(1302),M=r(136);let I=null,R=null,B=null;function N(e){return(...t)=>(Object(D.a)(I,"The WASM interface has not been initialized. Ensure that you wait for the initialization Promise with waitReady() from @polkadot/wasm-crypto (or cryptoWaitReady() from @polkadot/util-crypto) before attempting to use WASM-only interfaces."),e(I)(...t))}function F(){return null!==R&&R.buffer===I.memory.buffer||(R=new Int32Array(I.memory.buffer)),R}function q(){return null!==B&&B.buffer===I.memory.buffer||(B=new Uint8Array(I.memory.buffer)),B}function L(e,t){return q().subarray(e/1,e/1+t)}function H(e){const t=I.__wbindgen_malloc(1*e.length);return q().set(e,t/1),[t,e.length]}function U(e){return H(Object(M.a)(e))}function z(){const e=F()[2],t=F()[3],r=L(e,t).slice();return I.__wbindgen_free(e,1*t),r}const V={getRandomValues:r(185).a},G={crypto:V},W=new Array(32).fill(void 0).concat(void 0,null,!0,!1);let K=W.length;function Y(e){return W[e]}function X(e){const t=Y(e);return function(e){e<36||(W[e]=K,K=e)}(e),t}function J(e){K===W.length&&W.push(W.length+1);const t=K;return K=W[t],W[t]=e,t}function Q(e){return void 0===Y(e)}function Z(){return J(G)}function $(e,t){throw new Error("Unable to require "+function(e,t){return Object(j.a)(L(e,t))}(e,t))}function ee(e){return J(V)}function te(e){return J(V.getRandomValues)}function re(e,t,r){V.getRandomValues(L(t,r))}function ne(e,t,r){throw new Error("randomFillsync is not available")}function ae(e){X(e)}function ie(){throw new Error("abort")}const se=async function(e,t,r){try{Object(D.a)("undefined"!=typeof WebAssembly&&e&&e.length,"WebAssembly is not available in your environment");const t=await WebAssembly.instantiate(e,{wbg:r});I=t.instance.exports}catch(e){t?I=t(r):(console.error("FATAL: Unable to initialize @polkadot/wasm-crypto"),console.error(e),I=null)}}(T,null,n).catch(()=>null),oe=(N(e=>t=>(e.ext_bip39_generate(8,t),Object(j.a)(z()))),N(e=>t=>{const[r,n]=U(t);return e.ext_bip39_to_entropy(8,r,n),z()})),ce=N(e=>(t,r)=>{const[n,a]=U(t),[i,s]=U(r);return e.ext_bip39_to_mini_secret(8,n,a,i,s),z()}),ue=N(e=>(t,r)=>{const[n,a]=U(t),[i,s]=U(r);return e.ext_bip39_to_seed(8,n,a,i,s),z()}),le=N(e=>t=>{const[r,n]=U(t);return 0!==e.ext_bip39_validate(r,n)}),de=N(e=>t=>{const[r,n]=H(t);return e.ext_ed_from_seed(8,r,n),z()}),he=N(e=>(t,r,n)=>{const[a,i]=H(t),[s,o]=H(r),[c,u]=H(n);return e.ext_ed_sign(8,a,i,s,o,c,u),z()}),pe=N(e=>(t,r,n)=>{const[a,i]=H(t),[s,o]=H(r),[c,u]=H(n);return 0!==e.ext_ed_verify(a,i,s,o,c,u)}),fe=N(e=>(t,r)=>{const[n,a]=H(t),[i,s]=H(r);return e.ext_sr_derive_keypair_hard(8,n,a,i,s),z()}),me=N(e=>(t,r)=>{const[n,a]=H(t),[i,s]=H(r);return e.ext_sr_derive_keypair_soft(8,n,a,i,s),z()}),ge=(N(e=>(t,r)=>{const[n,a]=H(t),[i,s]=H(r);return e.ext_sr_derive_public_soft(8,n,a,i,s),z()}),N(e=>t=>{const[r,n]=H(t);return e.ext_sr_from_seed(8,r,n),z()})),ye=N(e=>(t,r,n)=>{const[a,i]=H(t),[s,o]=H(r),[c,u]=H(n);return e.ext_sr_sign(8,a,i,s,o,c,u),z()}),be=N(e=>(t,r,n)=>{const[a,i]=H(t),[s,o]=H(r),[c,u]=H(n);return 0!==e.ext_sr_verify(a,i,s,o,c,u)}),ve=(N(e=>(t,r)=>{const[n,a]=H(t),[i,s]=H(r);return e.ext_sr_agree(8,n,a,i,s),z()}),N(e=>(t,r,n,a)=>{const[i,s]=H(t),[o,c]=H(r),[u,l]=H(n),[d,h]=H(a);return e.ext_vrf_sign(8,i,s,o,c,u,l,d,h),z()})),_e=N(e=>(t,r,n,a,i)=>{const[s,o]=H(t),[c,u]=H(r),[l,d]=H(n),[h,p]=H(a),[f,m]=H(i);return 0!==e.ext_vrf_verify(s,o,c,u,l,d,h,p,f,m)}),we=N(e=>(t,r,n)=>{const[a,i]=H(t),[s,o]=H(r);return e.ext_blake2b(8,a,i,s,o,n),z()}),xe=N(e=>t=>{const[r,n]=H(t);return e.ext_keccak256(8,r,n),z()}),ke=N(e=>(t,r,n)=>{const[a,i]=H(t),[s,o]=H(r);return e.ext_pbkdf2(8,a,i,s,o,n),z()}),Se=N(e=>(t,r,n,a,i)=>{const[s,o]=H(t),[c,u]=H(r);return e.ext_scrypt(8,s,o,c,u,n,a,i),z()}),Oe=(N(e=>t=>{const[r,n]=H(t);return e.ext_sha512(8,r,n),z()}),N(e=>(t,r)=>{const[n,a]=H(t);return e.ext_twox(8,n,a,r),z()}));function Pe(){return!!I}function Ee(){return se.then(()=>Pe())}},,function(e,t){e.exports=!1},function(e,t,r){var n=r(81)("meta"),a=r(15),i=r(35),s=r(21).f,o=0,c=Object.isExtensible||function(){return!0},u=!r(14)((function(){return c(Object.preventExtensions({}))})),l=function(e){s(e,n,{value:{i:"O"+ ++o,w:{}}})},d=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[n].w},onFreeze:function(e){return u&&d.NEED&&c(e)&&!i(e,n)&&l(e),e}}},function(e,t,r){var n=r(17)("unscopables"),a=Array.prototype;null==a[n]&&r(32)(a,n,{}),e.exports=function(e){a[n][e]=!0}},function(e,t,r){"use strict";var n,a="object"==typeof Reflect?Reflect:null,i=a&&"function"==typeof a.apply?a.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function a(r){e.removeListener(t,i),n(r)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",a),r([].slice.call(arguments))}y(e,t,i,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&y(e,"error",t,r)}(e,a,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var a,i,s,o;if(u(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]),void 0===s)s=i[t]=r,++e._eventsCount;else if("function"==typeof s?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(a=l(e))>0&&s.length>a&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,o=c,console&&console.warn&&console.warn(o)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=h.bind(n);return a.listener=r,n.wrapFn=a,a}function f(e,t,r){var n=e._events;if(void 0===n)return[];var a=n[t];return void 0===a?[]:"function"==typeof a?r?[a.listener||a]:[a]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(a):g(a,a.length)}function m(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function a(i){n.once&&e.removeEventListener(t,a),r(i)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,a=this._events;if(void 0!==a)n=n&&void 0===a.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var c=a[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var u=c.length,l=g(c,u);for(r=0;r<u;++r)i(l[r],this,t)}return!0},o.prototype.addListener=function(e,t){return d(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return d(this,e,t,!0)},o.prototype.once=function(e,t){return u(t),this.on(e,p(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,p(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,a,i,s;if(u(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(a=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){s=r[i].listener,a=i;break}if(a<0)return this;0===a?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,a),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var a,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(a=i[n])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},o.prototype.listenerCount=m,o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=r(101),t.createHash=t.Hash=r(102),t.createHmac=t.Hmac=r(431);var n=r(899),a=Object.keys(n),i=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(a);t.getHashes=function(){return i};var s=r(434);t.pbkdf2=s.pbkdf2,t.pbkdf2Sync=s.pbkdf2Sync;var o=r(901);t.Cipher=o.Cipher,t.createCipher=o.createCipher,t.Cipheriv=o.Cipheriv,t.createCipheriv=o.createCipheriv,t.Decipher=o.Decipher,t.createDecipher=o.createDecipher,t.Decipheriv=o.Decipheriv,t.createDecipheriv=o.createDecipheriv,t.getCiphers=o.getCiphers,t.listCiphers=o.listCiphers;var c=r(916);t.DiffieHellmanGroup=c.DiffieHellmanGroup,t.createDiffieHellmanGroup=c.createDiffieHellmanGroup,t.getDiffieHellman=c.getDiffieHellman,t.createDiffieHellman=c.createDiffieHellman,t.DiffieHellman=c.DiffieHellman;var u=r(921);t.createSign=u.createSign,t.Sign=u.Sign,t.createVerify=u.createVerify,t.Verify=u.Verify,t.createECDH=r(954);var l=r(955);t.publicEncrypt=l.publicEncrypt,t.privateEncrypt=l.privateEncrypt,t.publicDecrypt=l.publicDecrypt,t.privateDecrypt=l.privateDecrypt;var d=r(958);t.randomFill=d.randomFill,t.randomFillSync=d.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t,r){var n=r(9).Buffer,a=r(888).Transform,i=r(105).StringDecoder;function s(e){a.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(7)(s,a),s.prototype.update=function(e,t,r){"string"==typeof e&&(e=n.from(e,t));var a=this._update(e);return this.hashMode?this:(r&&(a=this._toString(a,r)),a)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},s.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},s.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},s.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new i(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=s},function(e,t,r){(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){o(i,n,a,s,c,"next",e)}function c(e){o(i,n,a,s,c,"throw",e)}s(void 0)}))}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var a=m(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=r(27),y=r(12),b=r(1115),v=r(1117),_=r(1119),w=r(1122),x=r(494),k=r(1126),S=r(1128),O=r(1130),P=r(1132),E=r(1134),A=r(1136),C=r(163),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(F,e);var r,s,o,g,T,D,j,M,I,R,B,N=h(F);function F(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,F),(t=N.call(this,e)).name="Game",t.game={},t.moves=[],t.commands=[],t.initializeQueueCommandsExecuted=0,t.game_state_pre_move="",t.crypto_transfer_manager=new C(e),t.move_rebroadcasting_active=!1,t.move_rebroadcasting_speed=15e3,t.move_rebroadcasting_timer=null;t.useHUD=1,t.useCardfan=0,t.useCardbox=0,t.useClock=0,t.useMenu=0,t.useOverlay=0,t.useObserver=0,t.useLog=0,t.lock_interface=0,t.lock_interface_step="",t.lock_interface_tx="",t.confirm_moves=0,t.confirm_this_move=0,t.interface=0,t.relay_moves_offchain_if_possible=1,t.initialize_game_offchain_if_possible=1,t.next_move_onchain_only=0,t.hud=new _(e),t.clock=new b(e),t.log=new v(e),t.overlay=new x(e),t.cardfan=new O(e),t.playerbox=new S(e),t.cardbox=new k(e),t.menu=new w(e),t.hammer=A,t.sizer=E,t.observer=new P,t.clock_timer=null,t.menus=[],t.minPlayers=2,t.maxPlayers=2,t.lang="en",t.gameboardWidth=5100,t.screenRatio=1,t.screenSize={width:null,height:null},t.gameboardZoom=1,t.gameboardMobileZoom=1,t.publisher_message="",t.time={},t.time.last_received=0,t.time.last_sent=0,t.secureroll_rnums=[],t.secureroll_hash="",t.observer_mode=0,t.old_discards={},t.old_removed={},t.old_cards={},t.old_crypt=[],t.old_keys=[],t.old_hand=[],t.gaming_active=0,t.initialize_game_run=0,t.changeable_callback=function(e){alert("CALLBACK MUST BE PROVIDED FOR CARDCLICK")};var r=f(t);return t.cardbox_callback=function(e){r.changeable_callback(e)},p(t,f(t))}return r=F,(s=[{key:"startMoveRebroadcasting",value:function(){var e=this;0!=this.app.BROWSER&&(this.move_rebroadcasting_active&&clearInterval(this.move_rebroadcasting_timer),this.move_rebroadcasting_active=!0,this.move_rebroadcasting_timer=setInterval((function(){for(var t=0;t<e.app.wallet.wallet.pending.length;t++){var r=new y.transaction(JSON.parse(e.app.wallet.wallet.pending[t]));r.msg&&r.msg.game_id&&(r.msg.game_id,e.game.id)}}),this.move_rebroadcasting_speed))}},{key:"stopMoveRebroadcasting",value:function(){this.move_rebroadcasting_active=!1,clearInterval(this.move_rebroadcasting_timer)}},{key:"displayModal",value:(B=c(regeneratorRuntime.mark((function e(t){var r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:"",e.next=3,salert("".concat(t,": ").concat(r));case 3:case"end":return e.stop()}}),e)}))),function(e){return B.apply(this,arguments)})},{key:"preloadImages",value:(R=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return R.apply(this,arguments)})},{key:"returnCardHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e*this.card_height_ratio}},{key:"initializeHTML",value:function(e){if(0!=this.browser_active){if(1==this.initialize_game_run)return 0;try{var t=window.location.hash;if(""!=t){var r=e.browser.parseHash(t),n=e.modules.returnModule("Arcade");if(n){var a=r.gid,i=r.bid,s=r.tid,o=r.lm;msg={},msg.game_id=a,msg.bid=i,msg.tid=s,msg.last_move=o,msg.player="",msg.module=this.name;var c=e.crypto.stringToBase64(JSON.stringify(msg));if(this.game.id!=a)return void n.observeGame(c,o)}}window.location.hash="#",window.location.hash=e.browser.initializeHash("#gid=".concat(this.game.id,"&bid=1&tid=1&lm=0"),t,{})}catch(e){}this.game.options&&this.game.options.clock&&(0==this.game.options.clock?(this.game.clock_limit=0,this.useClock=0):(0==this.game.clock_spent&&(this.game.clock_limit=60*parseInt(this.game.options.clock)*1e3),this.useClock=1)),1==this.useHUD&&(this.hud.render(e,this),this.hud.attachEvents(e,this)),1==this.useClock&&(this.clock.render(e,this),this.clock.attachEvents(e,this)),1!=this.useObserver&&0!=this.game.player||(this.observer.render(e,this),this.observer.attachEvents(e,this)),null!=this.app.options&&null!=this.app.options.gameprefs&&(null!=this.app.options.gameprefs.lang&&(this.lang=this.app.options.gameprefs.lang),null!=this.app.options.gameprefs.interface&&(this.interface=this.app.options.gameprefs.interface))}}},{key:"attachEvents",value:function(e){0!=this.browser_active&&1!=this.initialize_game_run&&1==this.useHUD&&this.hud.attachEvents(e,this)}},{key:"attachCardEvents",value:function(e){1==this.useHUD&&this.hud.attachCardEvents(e,this)}},{key:"respondTo",value:function(e){if("arcade-games"==e){var t={};return t.img="/"+this.returnSlug()+"/img/arcade.jpg",t.render=this.renderArcade,t.attachEvents=this.attachEventsArcade,t}return null}},{key:"renderArcade",value:function(e,t){}},{key:"attachEventsArcade",value:function(e,t){}},{key:"onConfirmation",value:(I=c(regeneratorRuntime.mark((function e(t,r,n,a){var i,s,o,c,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.returnMessage(),s=a.modules.returnModule(i.module),0!=n){e.next=31;break}if(o=0,"undefined"!==s.game&&void 0!==s.game&&""!==s.game&&null!==s.game||""==i.game_id||(s.game=s.loadGame(i.game_id)),this.app.options)for(c=0;c<this.app.options.games;c++)this.app.options.games[c].id&&this.app.options.games[c].id.length<25&&(this.app.options.games.splice(c,1),c--);if(!r.isTo(a.wallet.returnPublicKey())||"accept"!==i.request){e.next=12;break}return o=1,e.next=11,s.receiveAcceptRequest(t,r,n,a);case 11:e.sent;case 12:if(u=i.game_id,!a.options.games){e.next=31;break}l=0;case 15:if(!(l<a.options.games.length)){e.next=31;break}if(u!=a.options.games[l].id){e.next=28;break}if(following_game=1,!r.isTo(a.wallet.returnPublicKey())){e.next=22;break}0==o&&(s.isFutureMove(r.transaction.from[0].add,i)?s.addFutureMove(r):s.isUnprocessedMove(r.transaction.from[0].add,i)&&s.addNextMove(r)),e.next=28;break;case 22:if(1!=a.options.games[l].observer_mode){e.next=28;break}if("game"===i.request){e.next=25;break}return e.abrupt("return");case 25:s.game.id!=u&&s.loadGame(u),s.isFutureMove(r.transaction.from[0].add,i)?s.addFutureMove(r):s.isUnprocessedMove(r.transaction.from[0].add,i)&&s.addNextMove(r);case 28:l++,e.next=15;break;case 31:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return I.apply(this,arguments)})},{key:"isFutureMove",value:function(e,t){return t.game_id!==this.game.id||parseInt(t.step.game)<=parseInt(this.game.step.game)+1||t.step.game<=this.game.step.players[e]+1?0:t.step.game>this.game.step.game+1||t.step.game>this.game.step.players[e]+1||1==this.gaming_active?1:0}},{key:"isPastMove",value:function(e,t){return t.game_id!==this.game.id?0:parseInt(t.step.game)<=parseInt(this.game.step.game)&&parseInt(t.step.game)<=parseInt(this.game.step.players[e])?1:0}},{key:"isUnprocessedMove",value:function(e,t){return t.game_id!==this.game.id?0:parseInt(t.step.game)==this.game.step.game+1||parseInt(t.step.game)==this.game.step.players[e]+1||this.game.step.players[e]&&t.step.game>this.game.step.players[e]&&t.step.game<=this.game.step.game?1:0}},{key:"createSorryAcceptedTransaction",value:function(e,t){var r=this.app.wallet.createUnsignedTransactionWithDefaultFee(e);return r.msg.module=this.name,r.msg.request="sorry",r.msg.game_id=t,r=this.app.wallet.signTransaction(r)}},{key:"requestSecureRoll",value:function(){this.game.sroll=1}},{key:"receiveSorryAcceptedTransaction",value:function(e,t,r,n){}},{key:"createAcceptTransaction",value:function(e){for(var t=e.players,r=e.ts,n=e.players_needed,i=e.players_sigs,s=e.id,o=e.options,c=this.app.wallet.createUnsignedTransactionWithDefaultFee(),u=0;u<t.length;u++)c.transaction.to.push(new y.slip(t[u],0));return c.msg.ts=r,c.msg.module=this.name,c.msg.request="accept",c.msg.game_id=s,c.msg.options=o,c.msg.players=t,c.msg.players_needed=n,c.msg.players_sigs=[].concat(a(i),[this.app.crypto.signMessage("invite_game_".concat(r),this.app.wallet.returnPrivateKey())]),c.msg.originator=c.transaction.from[0].add,c=this.app.wallet.signTransaction(c)}},{key:"receiveInviteRequest",value:function(e,t,r,n){var a=t.returnMessage(),i=t.transaction.sig,s={},o=1;if(""!=a.game_id&&(i=a.game_id),""!=a.options&&(s=a.options),""!=a.invite_sig&&a.invite_sig,a.players_needed>1&&(o=a.players_needed),t.isTo(n.wallet.returnPublicKey())){if(null==this.app.options.games&&(this.app.options.games=[]),null!=this.app.options.games)for(var c=0;c<this.app.options.games.length;c++)if(this.app.options.games[c].id==i)return;var u=0,l=0,d=0;if(""!=a.accept_sig){var h="create_game_"+t.msg.ts;n.crypto.verifyMessage(h,a.accept_sig,this.app.wallet.returnPublicKey())&&(u=1,l=1)}if(""!=a.invite_sig){var p="invite_game_"+t.msg.ts;n.crypto.verifyMessage(p,a.invite_sig,this.app.wallet.returnPublicKey())&&(u=1)}if(""!=a.invite_sig){var f="invite_game_"+t.msg.ts;n.crypto.verifyMessage(f,a.invite_sig,t.transaction.from[0].add)&&(d=1)}if(1==u){this.loadGame(i);for(var m=0;m<t.transaction.from.length;m++)this.addPlayer(t.transaction.from[m].add);for(var g=0;g<t.transaction.to.length;g++)this.addPlayer(t.transaction.to[g].add);for(var y=0;y<this.game.players.length;y++)this.game.players[y]==this.app.wallet.returnPublicKey()&&(this.game.accepted[y]=1);if(this.game.players_needed=o,1==d)for(var b=0;b<this.game.players.length;b++)this.game.players[b]==t.transaction.from[0].add&&(this.game.accepted[b]=1);this.game.module=a.module,this.game.options=s,this.game.id=i,this.game.accept=1,this.game.players_sigs=a.players_sigs,this.saveGame(i),this.game.ts=a.ts,console.log("\n\n\nWHAT IS THE GID: "+i),console.log("WHAT IS THE TS: "+this.game.ts),console.log("PLAYERS NEEDED: "+this.game.players_needed),console.log("PLAYERS SIGS: "+this.game.players_sigs),console.log("PLAYERS ON INVITE: "+this.game.players),console.log("ACCEPTS ON INVITE: "+this.game.accepted),console.log("OPTIONS: "+JSON.stringify(this.game.options)),console.log("GAMES: ",this.app.options.games)}if(1==l){var v=this.createAcceptTransaction(this.game);n.network.propagateTransaction(v)}}}},{key:"receiveAcceptRequest",value:(M=c(regeneratorRuntime.mark((function e(t,r,n,a){var i,s,o,c,u,l,d,h,p,f,m,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.returnMessage(),s=i.game_id,i.originator,this.loadGame(s),!(i.players_needed>i.players.length)){e.next=8;break}return console.log("ACCEPT REQUEST RECEIVED -- but not enough players in accepted transaction.... aborting"),this.game.halted=0,e.abrupt("return",0);case 8:if(i.players.includes(a.wallet.returnPublicKey())){e.next=12;break}return console.log("ACCEPT REQUEST RECEIVED -- but not for a game with us in it!"),this.game.halted=0,e.abrupt("return",0);case 12:o="invite_game_"+i.ts,i.players.length,i.players_sigs.length,c=0;case 16:if(!(c<i.players.length)){e.next=24;break}if(a.crypto.verifyMessage(o,i.players_sigs[c],i.players[c])){e.next=21;break}return console.log("PLAYER SIGS do not verify for all players, aborting game acceptance"),this.game.halted=0,e.abrupt("return",0);case 21:c++,e.next=16;break;case 24:if(1!=this.game.over){e.next=27;break}return this.game.halted=0,e.abrupt("return",0);case 27:for(this.gaming_active=1,this.game.options=i.options,this.game.module=i.module,"enable"===this.game.options.observer&&(this.game.observer_mode=1,this.observer_mode=1,this.game.saveGameState=1),u=0;u<i.players.length;u++)this.addPlayer(i.players[u]);if(this.saveGame(s),0==this.game.players_set){for(l=[],d=0;d<this.game.players.length;d++)l.push(this.app.crypto.hash(this.game.players[d]+this.game.id)),this.game.keys.push(this.game.players[d]);for(l.sort(),h=[],p=0;p<l.length;p++)for(f=0;f<this.game.players.length;f++)l[p]===this.app.crypto.hash(this.game.players[f]+this.game.id)&&h.push(this.game.players[f]);for(this.game.players=h,m=0;m<l.length;m++)l[m]===this.app.crypto.hash(this.app.wallet.returnPublicKey()+this.game.id)&&(this.game.player=m+1);for(g=0;g<this.game.players.length;g++)this.game.step.players[this.game.players[g]]=1;this.saveGamePreference(s+"_sharekey",a.crypto.generateRandomNumber()),console.log("!!!!!!!!!!!!!!!!!!!!"),console.log("!!! GAME CREATED !!!"),console.log("!!!!!!!!!!!!!!!!!!!!"),console.log("My Public Key: "+this.app.wallet.returnPublicKey()),console.log("My Position: "+this.game.player),console.log("My Share Key: "+this.loadGamePreference(s+"_sharekey")),console.log("ALL KEYS: "+JSON.stringify(this.game.players)),console.log("saving with id: "+s),console.log("!!!!!!!!!!!!!!!!!!!!"),console.log("!!!!!!!!!!!!!!!!!!!!"),console.log("!!!!!!!!!!!!!!!!!!!!"),this.game.players_set=1,this.saveGame(s),this.gaming_active=0,this.initializeGameFeeder(s),this.processFutureMoves()}return e.abrupt("return",s);case 35:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return M.apply(this,arguments)})},{key:"initialize",value:function(e){if(this.initializeQueueCommands(),this.startMoveRebroadcasting(),0!=this.browser_active){$(".gameboard").height();var t=$(".gameboard").width();this.screenRatio=t/this.gameboardWidth,this.loadGame(),""===this.game.dice&&(this.game.dice=e.crypto.hash(this.game.id)),this.game.clock_spent,this.time.last_received=(new Date).getTime(),this.time.last_sent=(new Date).getTime(),this.initializeGameFeeder(this.game.id)}}},{key:"removeEventsFromBoard",value:function(){}},{key:"initializeGame",value:function(){""==this.game.dice&&(this.initializeDice(),this.queue.push("READY"),this.saveGame(this.game.id))}},{key:"initializeGameFeeder",value:(j=c(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.game&&this.game.id!==t&&this.loadGame(t),this.initializeHTML(this.app),this.attachEvents(this.app),1!=this.game.initialize_game_run||1!=this.initialize_game_run){e.next=7;break}return e.abrupt("return",0);case 7:this.game.initialize_game_run=1,this.initialize_game_run=1;case 9:return this.initializeGame(t),this.game.step.game<2&&(console.log("saving in initializegamefeeder"),this.saveGame(this.game.id)),this.startQueue(),this.gaming_active=0,e.abrupt("return",1);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return j.apply(this,arguments)})},{key:"startQueue",value:function(){this.runQueue(),1!=this.gaming_active&&this.processFutureMoves()}},{key:"runQueue",value:function(){var e=1,r=0,n=0,a="";if(this.game_state_pre_move=JSON.parse(JSON.stringify(this.game)),this.game.queue.length>0)for(;this.game.queue.length>0&&1==e;){r++,n=this.game.queue.length,a=this.game.queue[this.game.queue.length-1],r>=100&&(console.log("ENDLESS QUEUE LOOPING"),t.exit());var i=this.game.queue.length-1,s=this.game.queue[i].split("\t");console.log("QUEUE: "+s[0]),this.time.last_received=(new Date).getTime();for(var o=0;o<this.commands.length;o++)if(0===this.commands[o](this,s))return 0;if(n==this.game.queue.length&&1==e&&a===this.game.queue[this.game.queue.length-1]&&(e=this.handleGameLoop()),0==e)return this.processFutureMoves(),0}}},{key:"addNextMove",value:function(e){var t=e.returnMessage();if(1==this.game.halted||1==this.gaming_active)return null!=this.game.future&&"undefined"!=this.game.future&&null!=this.game.future||(this.game.future=[]),this.game.id===t.game_id&&this.game.future.push(JSON.stringify(e.transaction)),this.saveFutureMoves(this.game.id),void(this.gaming_active=0);if(t.last_move>0){this.game.step.ts=t.last_move,this.game.step.bid=t.last_bid,this.game.step.tid=t.last_tid;try{window.location.hash="#gid=".concat(this.game.id,"&bid=").concat(this.game.step.bid,"&tid=").concat(this.game.step.tid,"&lm=").concat(this.game.step.ts)}catch(e){console.log("ERROR updating hash in observer mode")}}else window.location.hash="#gid=".concat(this.game.id,"&bid=0&tid=0&lm=").concat((new Date).getTime());if(null==t.turn&&(t.turn=[]),null==t.step&&(t.step={}),this.game.step.players[e.transaction.from[0].add]=t.step.game,t.step.game>this.game.step.game&&(this.game.step.game=t.step.game),0==this.game.player&&t.game_state.deck){if(t.game_state.deck.length>0)if(this.game.player_decks);else if(this.game.player_decks=[],this.game.player_decks.length<this.game.players)for(var r=0;r<this.game.players.length;r++)this.game.player_decks.push={},this.game.player_decks[r].deck=[];for(var n=0;n<t.game_state.deck.length;n++)this.game.deck[n]=t.game_state.deck[n];if(t.sharekey){for(var a=0,i=0;i<this.game.players.length;i++)this.game.players[i]===e.transaction.from[0].add&&(a=i);var s=t.sharekey;if(s)for(var o=0;o<t.game_state.deck.length;o++){for(;this.game.player_decks.length<=a;)this.game.player_decks.push({}),this.game.player_decks[this.game.player_decks.length-1].deck=[];for(;this.game.player_decks[a].deck.length<=o;)this.game.player_decks[a].deck.push({});this.game.player_decks[a].deck[o].hand=JSON.parse(this.app.crypto.hexToString(this.app.crypto.decodeXOR(t.game_state.deck[o].hand,s))),this.game.player_decks[a].deck[o].keys=JSON.parse(this.app.crypto.hexToString(this.app.crypto.decodeXOR(t.game_state.deck[o].keys,s)))}}}if(null!=this.game.queue){for(var c=0;c<t.turn.length;c++)this.game.queue.push(t.turn[c]);this.saveFutureMoves(this.game.id),this.saveGame(this.game.id),this.runQueue(),this.processFutureMoves(),this.gaming_active=0}}},{key:"addFutureMove",value:function(e){if(this.game.future.includes(JSON.stringify(e.transaction))||(this.game.future.push(JSON.stringify(e.transaction)),this.saveFutureMoves(this.game.id)),0==this.game.player)try{this.observer.showNextMoveButton()}catch(e){}}},{key:"processFutureMoves",value:function(){if(0!=this.game.player){if(1==this.gaming_active)return 0;if(1==this.game.halted)return 0}for(var e=0,t=this.game.future.length,r=0,n=0,a=0,i="",s=t,o=0;t>0&&1!=this.gaming_active&&1!=this.game.halted&&0==e&&o<s;){n++,a=this.game.queue.length,i=this.game.queue[this.game.queue.length-1],r=0;for(var c=0;c<t;c++){var u=new y.transaction(JSON.parse(this.game.future[c])),l=u.returnMessage();this.isUnprocessedMove(this.game.player,l)?(this.game.future.splice(c,1),o++,this.addNextMove(u),r=1):this.isFutureMove(this.game.player,l)?r=1:(this.game.future.splice(c,1),r=1,c--),t=this.game.future.length}t=this.game.future.length,0!=r&&0!=this.game.future.length||(e=1),a==this.game.queue.length&&i==this.game.queue[this.game.queue.length-1]&&0!=n&&(e=1)}}},{key:"handleGameLoop",value:function(){return 0}},{key:"removePlayer",value:function(e){if(""!==e){for(var t=0;t<this.game.players.length;t++)this.game.players[t]===e&&(this.game.players.splice(t,1),this.game.accepted.splice(t,1));for(var r=0;r<this.game.opponents.length;r++)this.game.opponents[r]===e&&this.game.opponents.splice(r,1)}}},{key:"addPlayer",value:function(e){if(""!==e){for(var t=0;t<this.game.players.length;t++)if(this.game.players[t]===e)return;this.game.players.push(e),this.game.accepted.push(0),this.app.wallet.returnPublicKey()!==e&&this.game.opponents.push(e)}}},{key:"receiveGameoverRequest",value:function(e,t,r,n){var a=t.returnMessage(),i=a.game_id,s=a.module,o=n.modules.returnModule(s),c=this.loadGame(i);c&&o.game.players.includes(t.transaction.from[0].add)&&(c.over=1,this.saveGame(i),o.game.queue.push("GAMEOVER\t"),o.runQueue(a),o.gaming_active=0)}},{key:"tieGame",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.resignGame(e,1)}},{key:"resignGame",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.loadGame(t),a=this.app.wallet.createUnsignedTransactionWithDefaultFee();if(a.transaction.to=n.players.map((function(e){return new y.slip(e)})),0==n.over){var i=n.winner,s=n.module;i=n.players.find((function(t){return t!=e.app.wallet.returnPublicKey()})),this.game.winner>0&&(i=this.game.players[this.game.winner-1]),1==r&&(i=""),n.over=1,n.last_block=this.app.blockchain.last_bid,this.saveGame(n.id),a.msg={request:"gameover",game_id:n.id,winner:i,module:s,reason:""},a=this.app.wallet.signTransaction(a),this.app.network.propagateTransaction(a)}}},{key:"saveFutureMoves",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!==e){if(this.app.options&&this.app.options.games)for(var t=0;t<this.app.options.games.length;t++)this.app.options.games[t].id===this.game.id&&(this.app.options.games[t].future=this.game.future);this.app.storage.saveOptions()}}},{key:"saveGame",value:(D=c(regeneratorRuntime.mark((function e(r){var n,a,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.app.options&&(this.app.options.games||(this.app.options=Object.assign({games:[],gameprefs:{random:this.app.crypto.generateKeys()}},this.app.options))),void 0===r&&(r=this.app.crypto.hash(Math.random())),null==r){e.next=22;break}if(!this.app.options){e.next=22;break}if(!this.app.options.games){e.next=22;break}n=0;case 6:if(!(n<this.app.options.games.length)){e.next=22;break}if(this.app.options.games[n].id!==r){e.next=19;break}if(null!=this.game){e.next=11;break}return console.log("Saving Game Error: safety catch 1"),e.abrupt("return");case 11:if(this.game.id==r){e.next=14;break}return console.log("Saving Game Error: safety catch 2"),e.abrupt("return");case 14:for(this.game.ts=(new Date).getTime(),a=0;a<this.app.options.games[n].future.length;a++){for(i=0,s=0;s<this.game.future.length;s++)this.app.options.games[n].future[a]===this.game.future[s]&&(i=1);0==i&&this.game.future.push(this.app.options.games[n].future[a])}return this.app.options.games[n]=JSON.parse(JSON.stringify(this.game)),this.app.storage.saveOptions(),e.abrupt("return",new Promise((function(e,t){setTimeout((function(){e(1)}),1e3)})));case 19:n++,e.next=6;break;case 22:return this.game.id===r?this.app.options.games.push(this.game):this.game=this.newGame(r),this.game.id.length<25&&this.game.players_needed>1&&t.exit(),this.app.storage.saveOptions(),e.abrupt("return",new Promise((function(e,t){setTimeout((function(){e(1)}),1e3)})));case 26:case"end":return e.stop()}}),e,this)}))),function(e){return D.apply(this,arguments)})},{key:"deleteGamePreference",value:function(e){return this.app.options&&this.app.options.gameprefs&&this.app.options.gameprefs[e]&&delete this.app.options.gameprefs[e],null}},{key:"loadGamePreference",value:function(e){return this.app.options&&this.app.options.gameprefs?this.app.options.gameprefs[e]:null}},{key:"saveGamePreference",value:function(e,t){null==this.app.options.games&&(this.app.options.games=[]),null==this.app.options.gameprefs&&(this.app.options.gameprefs={},this.app.options.gameprefs.random=this.app.crypto.generateKeys()),this.app.options.gameprefs[e]=t,this.app.storage.saveOptions()}},{key:"loadGame",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null==this.app.options.games&&(this.app.options.games=[]),null==this.app.options.gameprefs&&(this.app.options.gameprefs={},this.app.options.gameprefs.random=this.app.crypto.generateKeys()),null==e){for(var t=0,r=0;r<this.app.options.games.length;r++)this.app.options.games[r].ts>this.app.options.games[t].ts&&(t=r);e=null==this.app.options.games||0==this.app.options.games.length?null:this.app.options.games[t].id}if(null!=e)for(var n=0;n<this.app.options.games.length;n++)if(this.app.options.games[n].id===e)return this.game=JSON.parse(JSON.stringify(this.app.options.games[n])),this.game;return this.game=this.newGame(e),this.saveGame(e),this.game}},{key:"newGame",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e&&(e=Math.random().toString());var t={};return t.id=e,t.confirms_needed=[],t.crypto="",t.player=1,t.players=[],t.keys=[],t.players_needed=1,t.accepted=[],t.players_set=0,t.target=1,t.invitation=1,t.initializing=1,t.initialize_game_run=0,t.accept=0,t.over=0,t.winner=0,t.module="",t.originator="",t.ts=(new Date).getTime(),t.last_block=0,t.options={},t.options.ver=1,t.invite_sig="",t.future=[],t.halted=0,t.lock_interface=0,t.saveGameState=0,t.clock_spent=0,t.clock_limit=0,t.step={},t.step.game=1,t.step.players={},t.step.ts=0,t.queue=[],t.turn=[],t.opponents=[],t.deck=[],t.pool=[],t.dice="",t.status="",t.log=[],t.sroll=0,t.sroll_hash="",t.sroll_done=0,t.spick_card="",t.spick_hash="",t.spick_done=0,t}},{key:"rollDice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.game.dice=this.app.crypto.hash(this.game.dice);var r=parseInt(this.game.dice.slice(0,12),16)%e;if(null==t)return r+1;t(r+1)}},{key:"initializeDice",value:function(){""===this.game.dice&&(this.game.dice=this.app.crypto.hash(this.game.id))}},{key:"scale",value:function(e){return Math.floor(this.screenRatio*e)}},{key:"shuffleArray",value:function(e){var t,r,n;for(n=e.length-1;n>0;n--)t=Math.floor(Math.random()*(n+1)),r=e[n],e[n]=e[t],e[t]=r;return e}},{key:"returnNextPlayer",value:function(e){var t=parseInt(e)+1;return t>this.game.players.length?1:t}},{key:"shuffleDeck",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=[],r=[],n=this.game.deck[e-1].crypt,a=this.game.deck[e-1].keys,i=this.game.deck[e-1].crypt.length,s=i,o=0;o<i;o++){var c=this.rollDice(s)-1;t.push(n[c]),r.push(a[c]),n.splice(c,1),a.splice(c,1),s--}this.game.deck[e-1].crypt=t,this.game.deck[e-1].keys=r}},{key:"sendMessage",value:(T=c(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s,o,c,u,l,d,h,p,f,m,g,b,v,_,w=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=w.length>0&&void 0!==w[0]?w[0]:"game",r=w.length>1&&void 0!==w[1]?w[1]:{},w.length>2&&void 0!==w[2]&&w[2],1!=this.confirm_moves||1!=this.confirm_this_move){e.next=12;break}if(!(this.game.turn.length>0)){e.next=12;break}return e.next=7,sconfirm("Submit this move?");case 7:if(e.sent){e.next=11;break}return window.location.reload(),e.abrupt("return");case 11:this.confirm_this_move=0;case 12:if(1==this.game.sroll&&(n=this.app.crypto.hash(Math.random()),a=this.app.crypto.hash(n),this.app.crypto.signMessage(n,this.app.wallet.returnPrivateKey()),i=this.app.crypto.signMessage(a,this.app.wallet.returnPrivateKey()),this.game.sroll_hash=n,this.game.sroll_done=0,this.game.sroll=0,this.game.turn.slice().unshift("SECUREROLL_END"),this.game.turn.push("SECUREROLL\t"+this.game.player+"\t"+a+"\t"+i)),this.time.last_sent=(new Date).getTime(),!(this.time.last_sent>this.time.last_received+1e3)){e.next=23;break}if(this.game.clock_spent+=this.time.last_sent-this.time.last_received,s=this.game.clock_limit-this.game.clock_spent,this.clock.displayTime(s),!(s<0&&this.game.clock_limit>0)){e.next=22;break}this.resignGame();try{this.displayModal("<span>The Game is Over</span> - <span>Player "+this.game.player+" loses by timeout</span>"),this.updateStatus("<span>The Game is Over</span> - <span>Player "+this.game.player+" loses by timeout</span>"),this.updateLog("<span>The Game is Over</span> - <span>Player "+this.game.player+" loses by timeout</span>")}catch(e){}return e.abrupt("return",0);case 22:this.stopClock();case 23:if(0!=this.game.player){e.next=25;break}return e.abrupt("return");case 25:if(null!=this.game.opponents){e.next=27;break}return e.abrupt("return");case 27:for(o=0,c=0;c<this.game.turn.length;c++)"READY"==this.game.turn[c]&&(o=1);if(u=this,l={},(d={}).game=this.game.step.game,"game"==t&&(d.game++,l.request="game"),1==this.game.saveGameState&&(0==this.observer_mode&&(this.game.turn.push("OBSERVER\t"+this.game.player+"\t1"),this.game.turn.push("SETVAR\tsaveGameState\t1")),l.game_state=this.returnPreMoveGameState(),l.sharekey=this.loadGamePreference(this.game.id+"_sharekey")),"SAITO"!==u.game.crypto&&""!==u.game.crypto)for(h=this.app.wallet.returnCryptoModuleByTicker(u.game.crypto),p=this.app.wallet.returnCryptoAddressByTicker(u.game.crypto),h&&(p=h.returnAddress()),f=0;f<this.game.players.length;f++)this.game.players[f]==this.app.wallet.returnPublicKey()&&this.game.keys[f]!==p&&this.game.turn.push("CRYPTOKEY\t"+this.app.wallet.returnPublicKey()+"\t"+p+"\t"+this.app.crypto.signMessage(p,this.app.wallet.returnPrivateKey()));else for(m=this.app.wallet.returnPublicKey(),g=0;g<this.game.players.length;g++)this.game.players[g]==this.app.wallet.returnPublicKey()&&this.game.keys[g]!==m&&this.game.turn.push("CRYPTOKEY\t"+m+"\t"+m+"\t"+this.app.crypto.signMessage(m,this.app.wallet.returnPrivateKey()));if(l.turn=this.game.turn,l.module=this.name,l.game_id=this.game.id,l.player=this.game.player,l.step=d,l.extra=r,null!=(b=this.app.wallet.createUnsignedTransactionWithDefaultFee(this.app.wallet.returnPublicKey(),0))){e.next=46;break}return salert("ERROR: Difficulty Sending Transaction, please reload"),e.abrupt("return");case 46:for(v=0;v<this.game.opponents.length;v++)b.transaction.to.push(new y.slip(this.game.opponents[v],0));b.msg=l,b=this.app.wallet.signTransaction(b),u.app.wallet.wallet.pending.push(JSON.stringify(b.transaction)),u.app.wallet.saveWallet(),u.saveGame(u.game.id),this.relay_moves_offchain_if_possible&&0==o&&("game"!==b.msg.request&&1!=this.initialize_game_offchain_if_possible||null==(_=this.app.modules.returnModule("Relay"))||0!=u.game.initializing&&1!=u.initialize_game_offchain_if_possible||_.sendRelayMessage(this.game.players,"game relay gamemove",b)),u.app.network.propagateTransaction(b,"transaction",(function(e){}));case 54:case"end":return e.stop()}}),e,this)}))),function(){return T.apply(this,arguments)})},{key:"handlePeerRequest",value:(g=c(regeneratorRuntime.mark((function e(t,r,n){var a,i,s,o,c,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>3&&void 0!==u[3]?u[3]:null,0!=t.BROWSER){e.next=3;break}return e.abrupt("return");case 3:return i=this,e.next=6,l(m(F.prototype),"handlePeerRequest",this).call(this,t,r,n,a);case 6:if("game relay gamemove"!==r.request){e.next=36;break}if(null==r.data){e.next=36;break}if(s=new y.transaction(r.data.transaction),o=s.returnMessage(),i.doesGameExistLocally(o.game_id)){e.next=13;break}return console.log("Game does not exist locally. Not processing HPR message: waiting for on-chain"),e.abrupt("return");case 13:if(o.module!=this.name){e.next=36;break}if(i.game&&i.game.id==o.game_id||""==o.game_id){e.next=32;break}c=0;case 16:if(!(c<o.turn.length)){e.next=32;break}if(!(o.turn[c].indexOf("FLIP")>-1)){e.next=20;break}return console.log("ERROR: game does not exist but off-chain flip creation received. Waiting for on-chain confirmation"),e.abrupt("return");case 20:if(!(o.turn[c].indexOf("DECK")>-1)){e.next=23;break}return console.log("ERROR: game does not exist but off-chain deck creation received. Waiting for on-chain confirmation"),e.abrupt("return");case 23:if(!(o.turn[c].indexOf("ISSUEKEYS")>-1)){e.next=26;break}return console.log("ERROR: game does not exist but off-chain issuekeys request received. Waiting for on-chain confirmation"),e.abrupt("return");case 26:if(!(o.turn[c].indexOf("RESOLVE")>-1)){e.next=29;break}return console.log("ERROR: game does not exist but off-chain resolve request received. Waiting for on-chain confirmation"),e.abrupt("return");case 29:c++,e.next=16;break;case 32:if("undefined"!=i.game&&null!=i.game&&""!=i.game&&null!=i.game||o.game_id==i.game.id){e.next=35;break}return console.log("peer to peer game move but not for this game so dropping"),e.abrupt("return");case 35:i.isFutureMove(s.transaction.from[0].add,o)?i.addFutureMove(s):i.isUnprocessedMove(s.transaction.from[0].add,o)&&i.addNextMove(s);case 36:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return g.apply(this,arguments)})},{key:"addPool",value:function(){var e=this.game.pool.length;this.resetPool(e)}},{key:"addDeck",value:function(){var e=this.game.deck.length;this.resetDeck(e)}},{key:"resetPool",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.game.pool[e]={},this.game.pool[e].cards={},this.game.pool[e].crypt=[],this.game.pool[e].keys=[],this.game.pool[e].hand=[],this.game.pool[e].decrypted=0}},{key:"resetDeck",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.game.deck[e]={},this.game.deck[e].cards={},this.game.deck[e].crypt=[],this.game.deck[e].keys=[],this.game.deck[e].hand=[],this.game.deck[e].xor="",this.game.deck[e].discards={},this.game.deck[e].removed={}}},{key:"updateStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(1!=this.lock_interface||0!=t)if(this.game.status=e,this.useHUD)this.hud.updateStatus(e);else try{if(1==this.browser_active){var r=document.getElementById("status");r.innerHTML=e}}catch(e){console.log("Error Updating Log: ignoring")}}},{key:"updateLog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e&&(this.game.log.includes(e)||(this.game.log.unshift(e),this.game.log.length>t&&(this.game.log_length>t||this.game.log.splice(t)))),this.log.updateLog(e,this.addLogCardEvents.bind(this),r)}},{key:"returnPreMoveGameState",value:function(){for(var e=JSON.parse(JSON.stringify(this.game_state_pre_move)),t=this.loadGamePreference(this.game.id+"_sharekey"),r=0;r<e.deck.length;r++)t?(e.deck[r].hand=this.app.crypto.encodeXOR(this.app.crypto.stringToHex(JSON.stringify(e.deck[r].hand)),t),e.deck[r].keys=this.app.crypto.encodeXOR(this.app.crypto.stringToHex(JSON.stringify(e.deck[r].keys)),t)):(e.deck[r].keys=[],e.deck[r].hand=[]);return e}},{key:"returnGameState",value:function(){for(var e=JSON.parse(JSON.stringify(this.game)),t=this.loadGamePreference(this.game.id+"_sharekey"),r=0;r<e.deck.length;r++)t?(e.deck[r].hand=this.app.crypto.encodeXOR(this.app.crypto.stringToHex(JSON.stringify(e.deck[r].hand)),t),e.deck[r].keys=this.app.crypto.encodeXOR(this.app.crypto.stringToHex(JSON.stringify(e.deck[r].keys)),t)):(e.deck[r].keys=[],e.deck[r].hand=[]);return e}},{key:"returnGameOptionsHTML",value:function(){return'\n      <div id="game-wizard-advanced-return-btn" class="game-wizard-advanced-return-btn button">accept</div>\n    '}},{key:"returnFormattedGameOptions",value:function(e){return e}},{key:"returnGameRowOptionsHTML",value:function(e){var t="";for(var r in e)"clock"==r&&e[r],t+='<span class="game-option">'+r+": "+e[r]+"</span>, ";return t=t.slice(0,-2)}},{key:"prependMove",value:function(e){this.moves.unshift(e)}},{key:"addMove",value:function(e){this.moves.push(e)}},{key:"removeMove",value:function(){return this.moves.pop()}},{key:"endTurn",value:function(){var e={};this.game.turn=this.moves,this.moves=[],this.sendMessage("game",e)}},{key:"returnCardList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="";for(i=0;i<e.length;i++)t+=this.returnCardItem(e[i]);return'<div class="status-cardbox" id="status-cardbox">'.concat(t,"</div>")}},{key:"returnCardItem",value:function(e){for(var t=0;t<this.game.deck.length;t++)if(null!=this.game.deck[t].cards[e])return'<div id="'.concat(e.replace(/ /g,""),'" class="card cardbox-hud cardbox-hud-status">').concat(this.returnCardImage(e),"</div>");return'<li class="card showcard" id="'+e+'">'+this.game.deck[0].cards[e].name+"</li>"}},{key:"returnCardImage",value:function(e){for(var t=null,r=0;null==t&&r<this.game.deck.length;r++)null==(t=this.game.deck[r].cards[e])&&(t=this.game.deck[r].discards[e]),null==t&&(t=this.game.deck[r].removed[e]);if(null==t){if("object"===n(e)&&!Array.isArray(e)&&null!=e&&null!=e.returnCardImage){var a=e.returnCardImage();if(a)return a}return'<div class="noncard">'+e+"</div>"}var i=this.returnSlug()+"/img/";return-1!=t.img.indexOf(i)?'<img class="cardimg showcard" id="'.concat(e,'" src="').concat(t.img,'" />'):'<img class="cardimg showcard" id="'.concat(e,'" src="/').concat(this.returnSlug(),"/img/").concat(t.img,'" />')}},{key:"returnDiscardedCards",value:function(e){var t={};for(var r in e=parseInt(e-1),this.game.deck[e].discards)t[r]=this.game.deck[0].cards[r],delete this.game.deck[0].cards[r];return this.game.deck[0].discards={},t}},{key:"showCard",value:function(e){var t=this.returnCardImage(e),r=this.app.browser.isMobileBrowser(navigator.userAgent)?"".concat(t,'\n        <div id="cardbox-exit-background">\n          <div class="cardbox-exit" id="cardbox-exit"></div>\n        </div>'):t;$("#cardbox").html(r),$("#cardbox").show()}},{key:"showPlayableCard",value:function(e){var t=this.returnCardImage(e),r=this.app.browser.isMobileBrowser(navigator.userAgent)?"".concat(t,'\n      <div id="cardbox-exit-background">\n        <div class="cardbox-exit" id="cardbox-exit"></div>\n      </div>\n      <div class="cardbox_menu_playcard cardbox_menu_btn" id="cardbox_menu_playcard">\n        PLAY\n      </div>'):t;$("#cardbox").html(r),$("#cardbox").show()}},{key:"hideCard",value:function(){$("#cardbox").hide()}},{key:"updateStatusAndListCards",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;html='\n      <div class="status-message">\n        '.concat(e,"\n      </div>\n      ").concat(this.returnCardList(t),"\n    "),this.updateStatus(html),this.addShowCardEvents(r)}},{key:"addShowCardEvents",value:function(e){this.changeable_callback=e,this.hud.attachCardEvents(this.app,this)}},{key:"addLogCardEvents",value:function(){var e=this;if(!this.app.browser.isMobileBrowser(navigator.userAgent))try{$(".logcard").off(),$(".logcard").mouseover((function(){var t=$(this).attr("id");e.showCard(t)})).mouseout((function(){var t=$(this).attr("id");e.hideCard(t)}))}catch(e){}}},{key:"removeCardFromHand",value:function(e){for(var t=0;t<this.game.deck.length;t++)for(i=0;i<this.game.deck[t].hand.length;i++)this.game.deck[t].hand[i]===e&&this.game.deck[t].hand.splice(i,1)}},{key:"returnPlayersBoxArray",value:function(){var e=[];return 2==this.game.players.length&&(e=[1,4]),3==this.game.players.length&&(e=[1,3,5]),4==this.game.players.length&&(e=[1,3,4,5]),5==this.game.players.length&&(e=[1,2,3,5,6]),6==this.game.players.length&&(e=[1,2,3,4,5,6]),e}},{key:"returnViewBoxArray",value:function(){var e=[];return 2==this.game.players.length&&(e=[3,5]),3==this.game.players.length&&(e=[3,4,5]),4==this.game.players.length&&(e=[2,3,5,6]),5==this.game.players.length&&(e=[2,3,4,5,6]),e}},{key:"playerAcknowledgeNotice",value:function(e,t){var r='<div class="status-message acknowledge-message">'+e+"</div><ul>";r+='<li class="textchoice" id="confirmit">I understand...</li>',r+="</ul></p>",this.updateStatus(r);try{var n=document.querySelector(".hud-header");n&&(document.querySelector("#confirmit").style.width=n.style.width)}catch(e){}return document.getElementById("confirmit").onclick=function(e){t()},0}},{key:"nonPlayerTurn",value:function(){console.log("it is not my turn!"),this.hud.updateStatusMessage("Waiting for Opponent to Move")}},{key:"playerTurn",value:function(){game_self=this,console.log('\n\tThis is the default Player Turn function. It should be replaced in any \n\tgame by code logic that specifies what players actually do. Their moves\n\tshould be added to the queue using addMove() and then endTurn() to \n\tsubmit those moves to all other players.\n\n\tNote that other players will execute the contents of this queue in \n\treverse order. Complicated game moves that require conditional should\n\tbe handled in .\n\n\tThe PLAY instruction does not "fall-out" automatically (it will keep \n\tcoming back to the player whose turn it is. This is deliberate design.\n\tIn order to remove this move, RESOLVE command must be issued by the \n\tplayer whose turn it is. This will permit the queue to clear and \n\tthe game will continue with the next player.\n    '),game_self.addMove("RESOLVE\t"+game_self.app.wallet.returnPublicKey()),game_self.addMove("NOTIFY\tPlayer "+game_self.game.player+" has moved"),game_self.endTurn()}},{key:"addPublickeyConfirm",value:function(e,t){this.game.tmp_confirms_received+=parseInt(t),this.game.tmp_confirms_players.push(e)}},{key:"hasPlayerConfirmed",value:function(e){return this.game.tmp_confirms_players.includes(e)||this.game.confirms_players.includes(e)?1:0}},{key:"removeConfirmsNeeded",value:function(e){this.game.confirms_needed=[],this.game.confirms_received=0,this.game.confirms_players=[],this.game.tmp_confirms_received=0,this.game.tmp_confirms_players=[];for(var t=0;t<this.game.players.length;t++)this.game.confirms_needed[t]=0}},{key:"resetConfirmsNeeded",value:function(e){this.game.confirms_needed=[],this.game.confirms_received=0,this.game.confirms_players=[],this.game.tmp_confirms_received=0,this.game.tmp_confirms_players=[];for(var t=0;t<this.game.players.length;t++)e.includes(t+1)||e.includes(this.game.players[t])?this.game.confirms_needed[t]=1:this.game.confirms_needed[t]=0}},{key:"returnPlayerName",value:function(e){return this.game.players[e-1].substring(0,11)}},{key:"endGame",value:function(e,t){if(this.game.over=1,this.game.winner=e,this.game.winner==this.game.player&&(this.game.over=0,this.resignGame()),1==this.browser_active)try{this.displayModal("<span>The Game is Over</span> - <span>"+e.toUpperCase()+"</span> <span>wins by</span> <span>"+t+"<span>"),this.updateStatus("<span>The Game is Over</span> - <span>"+e.toUpperCase()+"</span> <span>wins by</span> <span>"+t+"<span>")}catch(e){}}},{key:"formatStatusHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r='<i class="fa fa-arrow-left" id="back_button"></i>';return'\n    <div class="status-header">\n      '.concat(t?r:"",'\n      <div style="text-align: center;">\n        ').concat(e,"\n      </div>\n    </div>\n    ")}},{key:"startClock",value:function(){var e=this;clearInterval(this.clock_timer),this.clock_timer=setInterval((function(){var t=(new Date).getTime(),r=e.game.clock_limit-(t-e.time.last_received)-e.game.clock_spent;e.clock.displayTime(r)}),1e3)}},{key:"stopClock",value:function(){clearInterval(this.clock_timer)}},{key:"lockInterface",value:function(){this.lock_interface=1,this.lock_interface_step=this.game.queue[this.game.queue.length-1]}},{key:"unlockInterface",value:function(){this.lock_interface=0}},{key:"mayUnlockInterface",value:function(){return this.lock_interface_step===this.game.queue[this.game.queue.length-1]?1:0}},{key:"initializeQueueCommands",value:function(){var e=this;this.commands.push((function(e,t){return"SETVAR"===t[0]&&(t[1]&&(t[3]?t[4]?e.game[t[1]][t[2]][t[3]]=t[4]:e.game[t[1]][t[2]]=t[3]:t[2]&&(e.game[t[1]]=t[2])),e.game.queue.splice(e.game.queue.length-1,1)),1})),this.commands.push((function(e,t){return"NOTIFY"!==t[0]&&"notify"!==t[0]||(e.updateLog(t[1]),e.game.queue.splice(e.game.queue.length-1,1)),1})),this.commands.push((function(e,t){return"STATUS"!==t[0]&&"status"!==t[0]||(e.updateStatus(t[1]),e.game.queue.splice(e.game.queue.length-1,1)),1})),this.commands.push((function(e,t){if("ACKNOWLEDGE"===t[0]){console.log("ACKNOWLEDGE");var r=t[1];e.game.halted=1;var n=e.game.id;return e.saveGame(e.game.id),e.playerAcknowledgeNotice(r,(function(){return e.game.id!=n&&(e.game=e.loadGame(n)),e.updateStatus(" acknowledged..."),e.game.queue.splice(e.game.queue.length-1,1),e.game.halted=0,e.saveGame(e.game.id),0==e.runQueue()&&e.processFutureMoves(),0})),0}return 1})),this.commands.push((function(e,t){return"GAMEOVER"===t[0]?(1==e.browser_active&&e.updateLog("Player has Quit the Game"),0):1})),this.commands.push((function(e,t){if("OBSERVER"===t[0]){var r={game_id:e.game.id,player:e.app.wallet.returnPublicKey(),module:e.game.module};e.app.crypto.stringToBase64(JSON.stringify(r)),e.observer_mode=1,e.game.saveGameState=1,e.game.queue.splice(e.game.queue.length-1,1)}return 1})),this.commands.push((function(e,t){if("PLAY"===t[0]){var r=[];if("all"===t[1])for(var n=0;n<e.game.players.length;n++)r.push(n+1);else try{r=t[1].isArray()?t[1]:[t[1]]}catch(e){r=t[1]}for(var a=1,i=0;i<e.game.confirms_needed.length;i++)1==e.game.confirms_needed[i]&&(a=0);1==a&&e.resetConfirmsNeeded(r);for(var s=0,o=0;o<r.length;o++)e.game.player==parseInt(r[o])&&(s=1,1==e.game.confirms_needed[r[o]-1]&&e.playerTurn());return 0==s&&e.nonPlayerTurn(),0}return 1})),this.commands.push((function(e,t){if("RESETCONFIRMSNEEDED"===t[0]){var r=[];if("all"===t[1])for(var n=0;n<e.game.players.length;n++)r.push(n+1);else try{r=t[1].isArray()?t[1]:[t[1]]}catch(e){r=t[1]}for(var a=1,i=0;i<e.game.confirms_needed.length;i++)1==e.game.confirms_needed[i]&&(a=0);return 1==a&&e.resetConfirmsNeeded(r),e.game.queue.splice(e.game.queue.length-1,1),1}return 1})),this.commands.push((function(e,t){if("RESOLVE"===t[0]){if(!t[1]){if(e.game.queue.length-1==0)return e.game.queue=[],1;var r=e.game.queue.length-2;return"RESOLVE"===e.game.queue[r]?(e.game.queue.splice(e.game.queue.length-1,1),1):r<=0?(e.game.queue=[],1):(e.game.queue.splice(r,2),1)}for(var n=0;n<e.game.players.length;n++)e.game.players[n]===t[1]&&(e.game.confirms_needed[n]=0);e.app.wallet.returnPublicKey()===t[1]&&e.unlockInterface();for(var a=1,i=0;i<e.game.confirms_needed.length;i++)1==e.game.confirms_needed[i]&&(a=0);for(var s="Players still to move: <ul>",o=0,c=0,u=0;u<e.game.confirms_needed.length;u++)1==e.game.confirms_needed[u]&&(s+='<li class="option">'+e.returnPlayerName(u+1)+"</li>",c=1),e.game.player==u+1&&(o=e.game.confirms_needed[u]);if(s+="</ul>",0==o&&(console.log("is anyone left to move: "+c),e.updateStatus(s)),1==a){if(e.game.queue.length-1==0)return e.game.queue=[],1;var l=e.game.queue.length-2;return"RESOLVE"===e.game.queue[l]?(e.game.queue.splice(e.game.queue.length-1,1),1):l<=0?(e.game.queue=[],1):(e.game.queue.splice(l,2),1)}return e.game.queue.splice(e.game.queue.length-1,1),1}return 1})),this.commands.push((function(e,t){if("READY"==t[0]&&(e.game.initializing=0,e.game.queue.splice(e.game.queue.length-1,1),e.saveGame(e.game.id),e.app.modules.isModuleActive("Arcade"))){var r=e.app.modules.returnModule("Arcade");null==r.initialization_timer&&(console.log("We seem to have loaded into a READY process while viewing the arcade, but our game is not waiting for the initialization screen, so we should check and show that launch screen."),r.launchGame(e.game.id))}return 1})),this.commands.push((function(e,t){return"SHUFFLE"===t[0]&&(e.shuffleDeck(parseInt(t[1])),e.game.queue.splice(e.game.queue.length-1,1)),1})),this.commands.push((function(t,r){return"LOGDICE"===r[0]&&(t.updateLog("Dice Roll: "+e.rollDice(6)),t.game.queue.splice(t.game.queue.length-1,1)),1})),this.commands.push((function(e,t){if("LOGPICK"===t[0]){for(var r=0;r<e.game.players.length;r++)e.updateLog("Simultaneous Picks: ".concat(e.game.state.sp[r]));e.game.queue.splice(e.game.queue.length-1,1)}return 1})),this.commands.push((function(e,t){if("LOGDECK"===t[0]){var r=parseInt(t[1]);e.updateLog("Contents of Deck: ".concat(e.game.deck[r-1].cards)),e.game.queue.splice(e.game.queue.length-1,1)}return 1})),this.commands.push((function(e,t){if("LOGHAND"===t[0]){var r=parseInt(t[1]);e.updateLog("Contents of Hand: ".concat(e.game.deck[r-1].hand)),e.game.queue.splice(e.game.queue.length-1,1)}return 1})),this.commands.push((function(e,t){if("LOGPOOL"===t[0]){var r=parseInt(t[1]);e.updateLog("Contents of Pool: ".concat(e.game.pool[r-1].hand)),e.game.queue.splice(e.game.queue.length-1,1)}return 1})),this.commands.push((function(e,t){if("RESOLVEDEAL"===t[0]){var r=t[1],n=t[2],a=t[3];if(e.game.player==n)for(var i=0;i<a;i++)if(e.game.deck[r-1].crypt.length>i){var s=e.game.deck[r-1].crypt[i];null!=e.game.deck[r-1].keys[i]&&(s=e.app.crypto.decodeXOR(s,e.game.deck[r-1].keys[i])),s=e.app.crypto.hexToString(s),e.game.deck[r-1].hand.includes(s)||e.game.deck[r-1].hand.push(s)}if(e.game.queue.length-1==0)e.game.queue=[];else{var o=e.game.queue.length-2;o<=0?e.game.queue=[]:e.game.queue.splice(o,2)}if(0==e.game.player)return 0==e.game.issued_keys_deleted&&(e.game.issued_keys_deleted=1),1;0==e.game.issued_keys_deleted&&(e.game.deck[r-1].keys.length<=a?(e.game.deck[r-1].keys=[],e.game.deck[r-1].crypt=[]):(e.game.deck[r-1].keys=e.game.deck[r-1].keys.splice(a,e.game.deck[r-1].keys.length-a),e.game.deck[r-1].crypt=e.game.deck[r-1].crypt.splice(a,e.game.deck[r-1].crypt.length-a)),e.game.issued_keys_deleted=1)}return 1})),this.commands.push((function(e,t){if("RESOLVEFLIP"===t[0]){for(var r=t[1],n=t[2],a=t[3],i=e.game.opponents.length+1;e.game.pool.length<a;)e.addPool();if(0==e.game.pool[a-1].crypt.length){e.game.pool[a-1].cards=e.game.deck[r-1].cards;for(var s=0;s<n;s++){e.game.pool[a-1].crypt.push(e.game.deck[r-1].crypt[s]);for(var o=0;o<i;o++)e.game.pool[a-1].keys.push([])}}var c=e.game.queue.length-1;e.game.queue.splice(e.game.queue.length-1,1);for(var u=0;u<n;u++){var l=e.game.pool[a-1].crypt[0+u],d=e.game.queue[c-1-u];e.game.pool[a-1].keys[0+u].push(d),null==d||(l=e.app.crypto.decodeXOR(l,d)),e.game.pool[a-1].crypt[0+u]=l}if(e.game.queue.splice(c-n,n),e.game.pool[a-1].decrypted++,e.game.pool[a-1].decrypted==i){for(var h=0;h<n;h++)e.game.pool[a-1].hand.push(e.app.crypto.hexToString(e.game.pool[a-1].crypt[0])),e.game.pool[a-1].crypt.splice(0,1);e.game.deck[r-1].keys=e.game.deck[r-1].keys.splice(n,e.game.deck[r-1].keys.length-n),e.game.deck[r-1].crypt=e.game.deck[r-1].crypt.splice(n,e.game.deck[r-1].crypt.length-n),e.game.pool[a-1].decrypted=0}}return 1})),this.commands.push((function(e,t){if("SIMPLEDEAL"===t[0]){e.game.queue.splice(e.game.queue.length-1,1);for(var r=e.game.players.length,n=parseInt(t[1]),a=parseInt(t[2]),i=JSON.parse(t[3]),s=r;s>=1;s--)e.game.queue.push("DEAL\t"+a+"\t"+s+"\t"+n);for(var o=r;o>=1;o--)e.game.queue.push("DECKENCRYPT\t"+a+"\t"+o);for(var c=r;c>=1;c--)e.game.queue.push("DECKXOR\t"+a+"\t"+c);e.game.queue.push("DECK\t"+a+"\t"+JSON.stringify(i))}return 1})),this.commands.push((function(e,t){if("DEAL"===t[0]){var r=parseInt(t[1]),n=parseInt(t[2]),a=parseInt(t[3]);e.game.issued_keys_deleted=0;var i=e.game.opponents.length+1;if(1==i)e.game.queue.push("RESOLVEDEAL\t"+r+"\t"+n+"\t"+a);else{e.game.queue.push("RESOLVEDEAL\t"+r+"\t"+n+"\t"+a);for(var s=1;s<i+1;s++)s!=n&&e.game.queue.push("REQUESTKEYS\t"+r+"\t"+s+"\t"+n+"\t"+a)}}return 1})),this.commands.push((function(t,r){if("SAFEDEAL"===r[0]){t.game.queue.splice(t.game.queue.length-1,1);var n=parseInt(r[1]),a=parseInt(r[2]),i=parseInt(r[3]);if(t.game.deck[n-1].crypt.length>=i)e.game.queue.push("DEAL\t"+n+"\t"+a+"\t"+i);else{e.game.queue.push("DEAL\t"+n+"\t"+a+"\t"+i);var s={};for(var o in e.game.deck[n-1].discards)s[o]=e.game.deck[n-1].cards[o],delete e.game.deck[n-1].cards[o];if(e.game.deck[n-1].discards={},Object.keys(s).length<=0)e.updateLog("skipping deal - no cards available and no discards for reshuffling");else{e.game.queue.push("SHUFFLE\t"+n),e.game.queue.push("DECKRESTORE\t"+n);for(var c=e.game.players.length;c>=1;c--)e.game.queue.push("DECKENCRYPT\t"+n+"\t"+c);for(var u=e.game.players.length;u>=1;u--)e.game.queue.push("DECKXOR\t"+n+"\t"+u);e.game.queue.push("DECK\t"+n+"\t"+JSON.stringify(s)),e.game.queue.push("DECKBACKUP\t"+n),e.updateLog("notify\tshuffling discards back into deck...")}}}return 1})),this.commands.push((function(e,t){if("REQUESTKEYS"===t[0]){var r=parseInt(t[1]),n=parseInt(t[2]),a=parseInt(t[3]),i=parseInt(t[4]);if(e.game.deck[r-1].keys.length<i&&(i=e.game.deck[r-1].keys.length),e.game.player==n){e.game.turn=[],e.addMove("RESOLVE");for(var s=0;s<i;s++)e.addMove(e.game.deck[r-1].keys[s]);e.addMove("ISSUEKEYS\t"+r+"\t"+n+"\t"+a+"\t"+i+"\t"+e.game.deck[r-1].keys.length),e.endTurn()}return 0}return 1})),this.commands.push((function(e,t){if("ISSUEKEYS"===t[0]){var r=parseInt(t[1]),n=(parseInt(t[2]),parseInt(t[3])),a=parseInt(t[4]),i=parseInt(t[5]),s=e.game.queue.length-1-a;e.game.queue.splice(e.game.queue.length-1,1);var o=e.game.deck[r-1].crypt.length;if(e.game.player==n&&o==i)for(var c=0;c<a;c++)null!=e.game.queue[s+c]&&(e.game.deck[r-1].crypt[c]=e.app.crypto.decodeXOR(e.game.deck[r-1].crypt[c],e.game.queue[s+c]));a>0&&e.game.queue.splice(s,a)}return 1})),this.commands.push((function(e,t){if("SECUREROLL"===t[0]){parseInt(t[1]),t[2],t[3];for(var r=[],n=[],a="",i=e.game.queue.length-1;i>=0;i--){var s=e.game.queue[i].split("\t");if("SECUREROLL"===s[0]){if(1!=e.app.crypto.verifyMessage(s[2],s[3],e.game.players[s[1]-1]))return console.log("SIG DOES NOT VERIFY "+s[2]+" / "+s[3]+" / "+e.game.players[s[1]-1]),0;r.push(s[1]),n.push(s[2])}else{if("SECUREROLL_END"===s[0])break;a+=e.game.queue[i]}}for(var o=r[r.length-1],c=(n[n.length-1],1),u=1;u<=e.game.players.length;u++){for(var l=0,d=0;d<r.length;d++)r[d]==u&&(l=1);if(0==l){c=0;break}}if(0==e.game.sroll_done&&e.game.player!=o){var h=e.app.crypto.hash(Math.random()),p=e.app.crypto.signMessage(h,e.app.wallet.returnPrivateKey());return e.addMove("SECUREROLL\t"+e.game.player+"\t"+h+"\t"+p),e.game.sroll_done=1,e.endTurn(),0}if(0==c)return 0;for(var f=r[r.length-1],m=n[r.length-1],g="",y=0;y<r.length-1;y++)r[y]==f&&(g=n[y]);if(""===g){if(e.game.player==f){var b=e.app.crypto.signMessage(e.game.sroll_hash,e.app.wallet.returnPrivateKey());return e.addMove("SECUREROLL\t"+e.game.player+"\t"+e.game.sroll_hash+"\t"+b),e.game.sroll_done=1,e.endTurn(),0}return 0}if(e.app.crypto.hash(g)===m){for(var v=e.app.crypto.hash(a),_=0;_<n.length;_++)v=e.app.crypto.hash(v+n[_]);e.game.dice=v;for(var w=e.game.queue.length-1;w>=0&&"SECUREROLL"===e.game.queue[w].split("\t")[0];w--)e.game.queue.splice(e.game.queue.length-1,1);return 1}return alert("ERROR: the player which triggered the secure-dice-roll did not submit a second hash which hashed to their original commit. This invalidates the security of the random number generation. Halting."),0}return 1})),this.commands.push((function(e,t){return"SECUREROLL_END"===t[0]&&(e.game.sroll=0,e.game.sroll_hash="",e.game.sroll_done=0,e.game.queue.splice(e.game.queue.length-1,1)),1})),this.commands.push((function(e,t){if("SIMULTANEOUS_PICK"===t[0]){parseInt(t[1]),t[2],t[3];for(var r=[],n=[],a=e.game.queue.length-1;a>=0;a--){var i=e.game.queue[a].split("\t");if("SIMULTANEOUS_PICK"===i[0]){if(1!=e.app.crypto.verifyMessage(i[2],i[3],e.game.players[i[1]-1]))return console.log("SIG DOES NOT VERIFY "+i[2]+" / "+i[3]+" / "+e.game.players[i[1]-1]),0;r.push(i[1]),n.push(i[2])}else if("SIMULTANEOUS_PICK_END"===i[0])break}for(var s=1,o=1;o<=e.game.players.length;o++){for(var c=0,u=0;u<r.length;u++)r[u]==o&&(c=1,e.game.player);if(0==c){s=0;break}}if(0==s)return 0;if(0==e.game.spick_done){var l=e.app.crypto.signMessage(e.game.spick_card,e.app.wallet.returnPrivateKey()),d=e.game.spick_hash,h=e.app.crypto.signMessage(d,e.app.wallet.returnPrivateKey());return e.addMove("SIMULTANEOUS_PICK\t"+e.game.player+"\t"+d+"\t"+h),e.addMove("SIMULTANEOUS_PICK\t"+e.game.player+"\t"+e.game.spick_card+"\t"+l),e.game.spick_done=1,e.endTurn(),0}for(var p=1,f=1;f<=e.game.players.length;f++){for(var m=0,g=0;g<r.length;g++)r[g]==f&&m++;m<3&&(p=0)}if(0==p)return 0;e.game.state.sp=[];for(var y=1;y<=e.game.players.length;y++)for(var b="",v=0,_=0,w="",x=0;x<r.length;x++)if(r[x]==y)if(_++,0==v)b=n[x],v=1,w=e.app.crypto.hash(b);else if(2==_)w=e.app.crypto.hash(n[x]+w);else{if(w!=n[x])return alert("ERROR: Player "+y+" has submitted inconsistent hash values for their card selection. Halting."),0;e.game.state||(e.game.state=e.returnState()),e.game.state.sp[y-1]=b}console.log("SIMULTANEOUS PICKS: "+JSON.stringify(e.game.state.sp));for(var k=e.game.queue.length-1;k>=0&&"SIMULTANEOUS_PICK"===e.game.queue[k].split("\t")[0];k--)e.game.queue.splice(e.game.queue.length-1,1);return 0}return 1})),this.commands.push((function(e,t){if("DECKBACKUP"===t[0]){var r=parseInt(t[1]);e.old_discards=e.game.deck[r-1].discards,e.old_removed=e.game.deck[r-1].removed,e.old_cards={},e.old_crypt=[],e.old_keys=[],e.old_hand=[];for(var n=0;n<e.game.deck[r-1].crypt.length;n++)e.old_crypt[n]=e.game.deck[r-1].crypt[n],e.old_keys[n]=e.game.deck[r-1].keys[n];for(var a in e.game.deck[r-1].cards)e.old_cards[a]=e.game.deck[r-1].cards[a];for(var i=0;i<e.game.deck[r-1].hand.length;i++)e.old_hand[i]=e.game.deck[r-1].hand[i];e.game.queue.splice(e.game.queue.length-1,1)}return 1})),this.commands.push((function(e,t){if("DECKRESTORE"===t[0]){for(var r=t[1],n=e.old_crypt.length-1;n>=0;n--)e.game.deck[r-1].crypt.unshift(e.old_crypt[n]),e.game.deck[r-1].keys.unshift(e.old_keys[n]);for(var a in e.old_cards)e.game.deck[r-1].cards[a]=e.old_cards[a];for(var i=e.old_hand.length-1;i>=0;i--)e.game.deck[r-1].hand.unshift(e.old_hand[i]);e.game.deck[r-1].removed=e.old_removed,e.game.deck[r-1].discards=e.old_discards,e.old_removed={},e.old_discards={},e.old_cards={},e.old_crypt=[],e.old_keys=[],e.old_hand=[],e.game.queue.splice(e.game.queue.length-1,1)}})),this.commands.push((function(e,t){if("CARDS"===t[0]){var r=parseInt(t[1]),n=e.game.queue.length-1;e.game.queue.splice(e.game.queue.length-1,1);for(var a=0;a<parseInt(t[2]);a++)0!=e.game.player&&(e.game.deck[r-1].crypt[parseInt(t[2])-1-a]=e.game.queue[n-1-a]),e.game.queue.splice(n-1-a,1)}return 1})),this.commands.push((function(e,t){if("POOL"===t[0]){var r=t[1];for(e.resetPool(r-1);e.game.pool.length<r;)e.addPool();e.game.queue.splice(e.game.queue.length-1,1)}return 1})),this.commands.push((function(t,r){if("POOLDEAL"===r[0]){t.game.queue.splice(t.game.queue.length-1,1);for(var n=parseInt(r[1]),a=parseInt(r[2]),i=parseInt(r[3]),s=0;s<n;s++)for(var o=e.game.players.length-1;o>=0;o--)e.game.queue.push("FLIPCARD\t"+a+"\t1\t"+i+"\t"+(o+1));e.game.queue.push("FLIPRESET\t"+i)}return 1})),this.commands.push((function(e,t){if("FLIPRESET"===t[0]){for(var r=t[1];e.game.pool.length<r;)e.addPool();e.game.pool[r-1].crypt=[],e.game.pool[r-1].keys=[],e.game.pool[r-1].decrypted=0,e.game.queue.splice(e.game.queue.length-1,1)}return 1})),this.commands.push((function(e,t){if("FLIPCARD"===t[0]){var r=parseInt(t[1]),n=parseInt(t[2]),a=parseInt(t[3]);if(parseInt(t[4])!=e.game.player)return 0;for(;e.game.pool.length<a;)console.log("adding card!"),e.addPool();e.game.turn=[],e.game.turn.push("RESOLVE");for(var i=0;i<n&&i<e.game.deck[r-1].crypt.length;i++)e.game.turn.push(e.game.deck[r-1].keys[i]);return e.game.turn.push("RESOLVEFLIP\t"+r+"\t"+n+"\t"+a),e.sendMessage("game",{}),0}return 1})),this.commands.push((function(e,t){return"OBSERVER_CHECKPOINT"===t[0]&&0==e.game.player?(e.game.halted=1,e.saveGame(e.game.id),0):1})),this.commands.push((function(e,t){if("DECK"===t[0]){var r=parseInt(t[1]),n=JSON.parse(t[2]),a=r-1;for(e.resetDeck(r-1);e.game.deck.length<r;)e.addDeck();e.game.deck[r-1].cards=n;var i=0;for(var s in e.game.deck[a].cards)e.game.deck[a].crypt[i]=e.app.crypto.stringToHex(s),i++;e.game.queue.splice(e.game.queue.length-1,1)}return 1})),this.commands.push((function(t,r){if("DECKANDENCRYPT"===r[0]){var n=parseInt(r[1]),a=parseInt(r[2]),i=JSON.parse(r[3]);for(t.resetDeck(n-1);t.game.deck.length<n;)t.addDeck();t.game.deck[n-1].cards=i;var s=0;for(var o in t.game.deck[n-1].cards)t.game.deck[n-1].crypt[s]=t.app.crypto.stringToHex(o),s++;t.game.queue.splice(t.game.queue.length-1,1);for(var c=a;c>0;c--)e.game.queue.push("DECKENCRYPT\t"+n+"\t"+c);for(var u=a;u>0;u--)e.game.queue.push("DECKXOR\t"+n+"\t"+u)}return 1})),this.commands.push((function(e,t){if("DECKXOR"===t[0]){var r=parseInt(t[1]);if(parseInt(t[2])!=e.game.player)return 0;""==e.game.deck[r-1].xor&&(e.game.deck[r-1].xor=e.app.crypto.hash(Math.random()));for(var n=0;n<e.game.deck[r-1].crypt.length;n++)e.game.deck[r-1].crypt[n]=e.app.crypto.encodeXOR(e.game.deck[r-1].crypt[n],e.game.deck[r-1].xor),e.game.deck[r-1].keys[n]=e.app.crypto.generateKeys();e.game.deck[r-1].crypt=e.shuffleArray(e.game.deck[r-1].crypt),e.game.turn=[],e.game.turn.push("RESOLVE");for(var a=0;a<e.game.deck[r-1].crypt.length;a++)e.game.turn.push(e.game.deck[r-1].crypt[a]);return e.game.turn.push("CARDS\t"+r+"\t"+e.game.deck[r-1].crypt.length),e.sendMessage("game",{}),0}return 1})),this.commands.push((function(t,r){if("DECKFLUSH"===r[0]){var n=parseInt(r[1]);"discards"==r[2]&&(e.game.deck[n].discards={}),e.game.queue.splice(qe,1)}return 1})),this.commands.push((function(e,t){if("DECKENCRYPT"===t[0]){var r=parseInt(t[1]),n=parseInt(t[2]);if(e.game.player==n){for(var a=0;a<e.game.deck[r-1].crypt.length;a++)e.game.deck[r-1].crypt[a]=e.app.crypto.decodeXOR(e.game.deck[r-1].crypt[a],e.game.deck[r-1].xor),e.game.deck[r-1].crypt[a]=e.app.crypto.encodeXOR(e.game.deck[r-1].crypt[a],e.game.deck[r-1].keys[a]);e.game.turn=[],e.game.turn.push("RESOLVE");for(var i=0;i<e.game.deck[r-1].crypt.length;i++)e.game.turn.push(e.game.deck[r-1].crypt[i]);e.game.turn.push("CARDS\t"+r+"\t"+e.game.deck[r-1].crypt.length),e.sendMessage("game",{})}return 0}return 1})),this.commands.push((function(e,t){null!==t[0]&&"null"!=t[0]||(console.log("REMOVING NULL ENTRY"),e.game.queue.splice(e.game.queue.length-1,1))})),this.commands.push((function(t,r){if("SEND"===r[0]){var n=r[1],a=r[2],i=r[3],s=r[4],o=t.game.crypto;if(r[5]&&(o=r[5]),!e.app.wallet.isOurPreferredCryptoAddress(n,o))return t.game.queue.splice(t.game.queue.length-1,1),1;for(var c="",u="",l=0;l<t.game.players.length;l++)t.game.players[l]===n&&(c=t.game.keys[l]),t.game.players[l]===a&&(u=t.game.keys[l]);console.log("SENDING FROM: "+c+" to "+u);var d=t.game.id;return t.saveGame(t.game.id),t.game.halted=1,t.crypto_transfer_manager.send(e.app,e,[c],[u],[i],s,o,(function(){return t.app.wallet.sendPayment([c],[u],[i],s,(function(e){return t.game.id!=d&&(t.game=t.loadGame(d)),t.updateLog("payments issued..."),t.game.queue.splice(t.game.queue.length-1,1),t.game.halted=0,t.saveGame(t.game.id),0==t.runQueue()&&t.processFutureMoves(),0}),o),0})),0}return 1})),this.commands.push((function(e,t){if("CRYPTOKEY"===t[0]){var r=t[1],n=t[2],a=t[3];if(e.app.crypto.verifyMessage(n,a,r))for(var i=0;i<e.game.keys.length;i++)e.game.players[i]===r&&(e.game.keys[i]=n);return e.game.queue.splice(e.game.queue.length-1,1),1}return 1})),this.commands.push((function(t,r){if("RECEIVE"===r[0]){var n=r[1],a=r[2],i=r[3],s=r[4],o=t.game.crypto;r[5]&&(o=r[5]);for(var c="",u="",l=0;l<t.game.players.length;l++)t.game.players[l]===n&&(c=t.game.keys[l]),t.game.players[l]===a&&(u=t.game.keys[l]);var d=t.game.id;return t.saveGame(t.game.id),t.game.halted=1,t.crypto_transfer_manager.receive(e.app,e,[n],[a],[i],s,o,(function(){return t.app.wallet.receivePayment([c],[u],[i],s,(function(e){return t.crypto_transfer_manager.hideOverlay(),t.game.id!=d&&(t.game=t.loadGame(d)),t.updateLog("payments issued..."),t.game.queue.splice(t.game.queue.length-1,1),t.game.halted=0,t.saveGame(t.game.id),0==t.runQueue()&&t.processFutureMoves(),0}),o,-1),0})),0}})),this.commands.push((function(e,t){if("BALANCE"===t[0]){var r=[],n=parseInt(t[1]),a=t[2],i=t[3];r[0]=a,e.saveGame(e.game.id),e.game.halted=1;var s=e.game.id,o=setTimeout((function(){e.app.wallet.returnPreferredCryptoBalances(r,(function(t){for(var r=0,i=0;i<t.length;i++)t[i].address===a&&t[i].balance>=n&&(r=1,clearInterval(o));if(1==r)return e.game.id!=s&&(e.game=e.loadGame(s)),e.updateStatus(" balance adequate ... "),e.game.queue.splice(e.game.queue.length-1,1),e.game.halted=0,e.saveGame(e.game.id),0==e.runQueue()&&e.processFutureMoves(),0}),i)}),8e3);return 0}return 1}))}},{key:"doesGameExistLocally",value:function(e){if(this.app.options&&this.app.options.games)for(var t=0;t<this.app.options.games.length;t++)if(this.app.options.games[t].id===e)return 1;return 0}},{key:"returnShortGameOptionsArray",value:function(e){var t=[];for(var r in e)if(""!=e[r]){var n=1;"clock"==r&&0==e[r]&&(n=0),"observer"==r&&"enable"!=e[r]&&(n=0),"game-wizard-players-select"==r&&(n=0),"gamename"==r&&(n=0),1==n&&(t[r]=e[r])}return t}},{key:"returnState",value:function(){return{}}}])&&u(r.prototype,s),o&&u(r,o),F}(g);e.exports=T}).call(this,r(19))},function(e,t,r){var n=r(501),a="object"==typeof self&&self&&self.Object===Object&&self,i=n||a||Function("return this")();e.exports=i},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var i=r(130),s=r(512);a(r(512),t);var o=/\s+/g,c={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},u=function(){function e(e,t,r){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(r=t,t=c),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:c,this.elementCB=null!=r?r:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var r=this.options.xmlMode?i.ElementType.Tag:void 0,n=new s.Element(e,t,void 0,r);this.addNode(n),this.tagStack.push(n)},e.prototype.ontext=function(e){var t=this.options.normalizeWhitespace,r=this.lastNode;if(r&&r.type===i.ElementType.Text)t?r.data=(r.data+e).replace(o," "):r.data+=e,this.options.withEndIndices&&(r.endIndex=this.parser.endIndex);else{t&&(e=e.replace(o," "));var n=new s.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===i.ElementType.Comment)this.lastNode.data+=e;else{var t=new s.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new s.Text(""),t=new s.NodeWithChildren(i.ElementType.CDATA,[e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var r=new s.ProcessingInstruction(e,t);this.addNode(r)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),r&&(e.prev=r,r.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=u,t.default=u},function(e,t,r){"use strict";function n(e){return"string"==typeof e||e instanceof String}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){return"function"==typeof e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(634),a=r.n(n),i=r(16),s=r(62);function o(e,t=256,r,n=!1){const o=Math.ceil(t/8);return Object(s.i)()&&!n?Object(s.e)(Object(i.a)(e),Object(i.a)(r),o):a.a.blake2b(Object(i.a)(e),r||void 0,o)}},function(e,t,r){"use strict";function n(e){return void 0===e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n={allowedDecodedLengths:[1,2,4,8,32,33],allowedEncodedLengths:[3,4,6,10,35,36,37,38],allowedPrefix:r(1288).a.map((function({prefix:e}){return e})),prefix:42}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(25);const a=function(e,t=0){Object(n.a)(e>0,"Expected non-zero, positive number as a range size");const r=new Array(e).fill(0);for(let e=0;e<r.length;e++)r[e]=e+t;return r}(256).map(e=>e.toString(16).padStart(2,"0"));function i(e,t=-1){const r=Math.ceil(t/8);return r>0&&e.length>r?function(e,t){return`${i(e.subarray(0,t))}${i(e.subarray(e.length-t))}`}(e,Math.ceil(r/2)):function(e){const t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=a[e[r]];return t.join("")}(e)}function s(e,t=-1,r=!0){return`${r?"0x":""}${e&&e.length?i(e,t):""}`}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(3),a=r(186),i=r(61);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t={bitLength:-1,isLe:!0,isNegative:!1},r){const o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({bitLength:-1,isLe:!0,isNegative:!1},Object(a.a)(t)?{bitLength:t,isLe:r}:t),c=Object(i.a)(e),u=-1===o.bitLength?Math.ceil(c.bitLength()/8):Math.ceil((o.bitLength||0)/8);return e?function(e,t,{isLe:r,isNegative:n}){const a=new Uint8Array(t),i=n?e.toTwos(8*t):e;return a.set(i.toArray(r?"le":"be",t),0),a}(c,u,o):function(e,t){return-1===t.bitLength?new Uint8Array:new Uint8Array(e)}(u,o)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){var n=r(380),a=r(200);e.exports=Object.keys||function(e){return n(e,a)}},function(e,t,r){var n=r(45),a=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?a(e+t,0):i(e,t)}},function(e,t,r){var n=r(10),a=r(381),i=r(200),s=r(199)("IE_PROTO"),o=function(){},c=function(){var e,t=r(197)("iframe"),n=i.length;for(t.style.display="none",r(201).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c.prototype[i[n]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(o.prototype=n(e),r=new o,o.prototype=null,r[s]=e):r=c(),void 0===t?r:a(r,t)}},function(e,t,r){var n=r(380),a=r(200).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,a)}},function(e,t,r){"use strict";var n=r(13),a=r(21),i=r(20),s=r(17)("species");e.exports=function(e){var t=n[e];i&&t&&!t[s]&&a.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(43),a=r(393),i=r(212),s=r(10),o=r(18),c=r(214),u={},l={};(t=e.exports=function(e,t,r,d,h){var p,f,m,g,y=h?function(){return e}:c(e),b=n(r,d,t?2:1),v=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(p=o(e.length);p>v;v++)if((g=t?b(s(f=e[v])[0],f[1]):b(e[v]))===u||g===l)return g}else for(m=y.call(e);!(f=m.next()).done;)if((g=a(m,b,f.value,t))===u||g===l)return g}).BREAK=u,t.RETURN=l},function(e,t,r){var n=r(33);e.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},function(e,t,r){var n=r(15);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){"use strict";var n=r(151),a=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=d;var i=Object.create(r(121));i.inherits=r(7);var s=r(426),o=r(230);i.inherits(d,s);for(var c=a(o.prototype),u=0;u<c.length;u++){var l=c[u];d.prototype[l]||(d.prototype[l]=o.prototype[l])}function d(e){if(!(this instanceof d))return new d(e);s.call(this,e),o.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var r=r||function(e,t){var r={},n=r.lib={},a=n.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var r=new e;return t&&r.mixIn(t),r.hasOwnProperty("init")||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),i=n.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||o).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,a=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<a;i++){var s=r[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=s<<24-(n+i)%4*8}else if(r.length>65535)for(i=0;i<a;i+=4)t[n+i>>>2]=r[i>>>2];else t.push.apply(t,r);return this.sigBytes+=a,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r=[],n=0;n<t;n+=4)r.push(4294967296*e.random()|0);return new i.init(r,t)}}),s=r.enc={},o=s.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a++){var i=t[a>>>2]>>>24-a%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new i.init(r,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],a=0;a<r;a++){var i=t[a>>>2]>>>24-a%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new i.init(r,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=n.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,a=r.sigBytes,s=this.blockSize,o=a/(4*s),c=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*s,u=e.min(4*c,a);if(c){for(var l=0;l<c;l+=s)this._doProcessBlock(n,l);var d=n.splice(0,c);r.sigBytes-=u}return new i.init(d,u)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(n.Hasher=l.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new d.HMAC.init(e,r).finalize(t)}}}),r.algo={});return r}(Math);t.CryptoJS=r},function(e,t,r){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<n.length;a++)if((r=n[a])===t||r.fn===t){n.splice(a,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var a=(r=r.slice(0)).length;n<a;++n)r[n].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,r){"use strict";let n,a,i,{isClean:s,my:o}=r(282),c=r(166),u=r(168),l=r(167);class d extends l{push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}each(e){if(!this.proxyOf.nodes)return;let t,r,n=this.getIterator();for(;this.indexes[n]<this.proxyOf.nodes.length&&(t=this.indexes[n],r=e(this.proxyOf.nodes[t],t),!1!==r);)this.indexes[n]+=1;return delete this.indexes[n],r}walk(e){return this.each((t,r)=>{let n;try{n=e(t,r)}catch(e){throw t.addToError(e)}return!1!==n&&t.walk&&(n=t.walk(e)),n})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((r,n)=>{if("decl"===r.type&&e.test(r.prop))return t(r,n)}):this.walk((r,n)=>{if("decl"===r.type&&r.prop===e)return t(r,n)}):(t=e,this.walk((e,r)=>{if("decl"===e.type)return t(e,r)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((r,n)=>{if("rule"===r.type&&e.test(r.selector))return t(r,n)}):this.walk((r,n)=>{if("rule"===r.type&&r.selector===e)return t(r,n)}):(t=e,this.walk((e,r)=>{if("rule"===e.type)return t(e,r)}))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((r,n)=>{if("atrule"===r.type&&e.test(r.name))return t(r,n)}):this.walk((r,n)=>{if("atrule"===r.type&&r.name===e)return t(r,n)}):(t=e,this.walk((e,r)=>{if("atrule"===e.type)return t(e,r)}))}walkComments(e){return this.walk((t,r)=>{if("comment"===t.type)return e(t,r)})}append(...e){for(let t of e){let e=this.normalize(t,this.last);for(let t of e)this.proxyOf.nodes.push(t)}return this.markDirty(),this}prepend(...e){e=e.reverse();for(let t of e){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}insertBefore(e,t){let r,n=0===(e=this.index(e))&&"prepend",a=this.normalize(t,this.proxyOf.nodes[e],n).reverse();for(let t of a)this.proxyOf.nodes.splice(e,0,t);for(let t in this.indexes)r=this.indexes[t],e<=r&&(this.indexes[t]=r+a.length);return this.markDirty(),this}insertAfter(e,t){e=this.index(e);let r,n=this.normalize(t,this.proxyOf.nodes[e]).reverse();for(let t of n)this.proxyOf.nodes.splice(e+1,0,t);for(let t in this.indexes)r=this.indexes[t],e<r&&(this.indexes[t]=r+n.length);return this.markDirty(),this}removeChild(e){let t;e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls(n=>{t.props&&!t.props.includes(n.prop)||t.fast&&!n.value.includes(t.fast)||(n.value=n.value.replace(e,r))}),this.markDirty(),this}every(e){return this.nodes.every(e)}some(e){return this.nodes.some(e)}index(e){return"number"==typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(e,t){if("string"==typeof e)e=function e(t){return t.map(t=>(t.nodes&&(t.nodes=e(t.nodes)),delete t.source,t))}(n(e).nodes);else if(Array.isArray(e)){e=e.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if("root"===e.type&&"document"!==this.type){e=e.nodes.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if(e.type)e=[e];else if(e.prop){if(void 0===e.value)throw new Error("Value field is missed in node creation");"string"!=typeof e.value&&(e.value=String(e.value)),e=[new c(e)]}else if(e.selector)e=[new a(e)];else if(e.name)e=[new i(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new u(e)]}return e.map(e=>(e[o]||d.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[s]&&function e(t){if(t[s]=!1,t.proxyOf.nodes)for(let r of t.proxyOf.nodes)e(r)}(e),void 0===e.raws.before&&t&&void 0!==t.raws.before&&(e.raws.before=t.raws.before.replace(/\S/g,"")),e.parent=this,e))}getProxyProcessor(){return{set:(e,t,r)=>(e[t]===r||(e[t]=r,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0),get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"==typeof t&&t.startsWith("walk")?(...r)=>e[t](...r.map(e=>"function"==typeof e?(t,r)=>e(t.toProxy(),r):e)):"every"===t||"some"===t?r=>e[t]((e,...t)=>r(e.toProxy(),...t)):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map(e=>e.toProxy()):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t]}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}}d.registerParse=e=>{n=e},d.registerRule=e=>{a=e},d.registerAtRule=e=>{i=e},e.exports=d,d.default=d,d.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,i.prototype):"rule"===e.type?Object.setPrototypeOf(e,a.prototype):"decl"===e.type?Object.setPrototypeOf(e,c.prototype):"comment"===e.type&&Object.setPrototypeOf(e,u.prototype),e[o]=!0,e.nodes&&e.nodes.forEach(e=>{d.rebuild(e)})}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n={name:"@polkadot/api",version:"6.6.1"}},function(e,t,r){var n=r(21).f,a=r(35),i=r(17)("toStringTag");e.exports=function(e,t,r){e&&!a(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){var n=r(44),a=r(17)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?r:i?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,r){var n=r(4),a=r(49),i=r(14),s=r(203),o="["+s+"]",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),l=function(e,t,r){var a={},o=i((function(){return!!s[e]()||""!=""[e]()})),c=a[e]=o?t(d):s[e];r&&(a[r]=c),n(n.P+n.F*o,"String",a)},d=l.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=l},function(e,t){e.exports={}},function(e,t,r){"use strict";(function(t,n){var a=r(9).Buffer,i=t.crypto||t.msCrypto;i&&i.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var r=a.allocUnsafe(e);if(e>0)if(e>65536)for(var s=0;s<e;s+=65536)i.getRandomValues(r.slice(s,s+65536));else i.getRandomValues(r);if("function"==typeof t)return n.nextTick((function(){t(null,r)}));return r}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,r(26),r(19))},function(e,t,r){"use strict";var n=r(7),a=r(224),i=r(226),s=r(227),o=r(69);function c(e){o.call(this,"digest"),this._hash=e}n(c,o),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new a:"rmd160"===e||"ripemd160"===e?new i:new c(s(e))}},function(e,t,r){"use strict";var n={};function a(e,t,r){r||(r=Error);var a=function(e){var r,n;function a(r,n,a){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,a))||this}return n=e,(r=a).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,a}(r);a.prototype.name=r.name,a.prototype.code=e,n[e]=a}function i(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}a("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),a("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,a,s,o;if("string"==typeof t&&(a="not ",t.substr(!s||s<0?0:+s,a.length)===a)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o="The ".concat(e," ").concat(n," ").concat(i(t,"type"));else{var c=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(c," ").concat(n," ").concat(i(t,"type"))}return o+=". Received type ".concat(typeof r)}),TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},function(e,t,r){"use strict";(function(t){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var a=r(417),i=r(421);r(7)(u,a);for(var s=n(i.prototype),o=0;o<s.length;o++){var c=s[o];u.prototype[c]||(u.prototype[c]=i.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),i.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||t.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,r(19))},function(e,t,r){"use strict";var n=r(9).Buffer,a=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=l,this.end=d,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},i.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var a=s(t[n]);if(a>=0)return a>0&&(e.lastNeed=a-1),a;if(--n<r||-2===a)return 0;if((a=s(t[n]))>=0)return a>0&&(e.lastNeed=a-2),a;if(--n<r||-2===a)return 0;if((a=s(t[n]))>=0)return a>0&&(2===a?a=0:e.lastNeed=a-3),a;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){var n=r(9).Buffer;function a(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}a.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,a=this._blockSize,i=e.length,s=this._len,o=0;o<i;){for(var c=s%a,u=Math.min(i-o,a-c),l=0;l<u;l++)r[c+l]=e[o+l];o+=u,(s+=u)%a==0&&this._update(r)}return this._len+=i,this},a.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,a=(r-n)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=a},function(e,t,r){"use strict";function n(e,t,r,n){var a=n?" !== ":" === ",i=n?" || ":" && ",s=n?"!":"",o=n?"":"!";switch(e){case"null":return t+a+"null";case"array":return s+"Array.isArray("+t+")";case"object":return"("+s+t+i+"typeof "+t+a+'"object"'+i+o+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+a+'"number"'+i+o+"("+t+" % 1)"+i+t+a+t+(r?i+s+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+a+'"'+e+'"'+(r?i+s+"isFinite("+t+")":"")+")";default:return"typeof "+t+a+'"'+e+'"'}}e.exports={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:n,checkDataTypes:function(e,t,r){switch(e.length){case 1:return n(e[0],t,r,!0);default:var a="",s=i(e);for(var o in s.array&&s.object&&(a=s.null?"(":"(!"+t+" || ",a+="typeof "+t+' !== "object")',delete s.null,delete s.array,delete s.object),s.number&&delete s.integer,s)a+=(a?" && ":"")+n(o,t,r,!0);return a}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],n=0;n<t.length;n++){var i=t[n];(a[i]||"array"===e&&"array"===i)&&(r[r.length]=i)}if(r.length)return r}else{if(a[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:i,getProperty:c,escapeQuotes:u,equal:r(243),ucs2length:r(1004),varOccurences:function(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var n in e)if(n!=r&&t[n])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var r in e)if(!t[r])return r},toQuotedString:l,getPathExpr:function(e,t,r,n){return p(e,r?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,r){var n=l(r?"/"+f(t):c(t));return p(e,n)},getData:function(e,t,r){var n,a,i,s;if(""===e)return"rootData";if("/"==e[0]){if(!d.test(e))throw new Error("Invalid JSON-pointer: "+e);a=e,i="rootData"}else{if(!(s=e.match(h)))throw new Error("Invalid JSON-pointer: "+e);if(n=+s[1],"#"==(a=s[2])){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return r[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(i="data"+(t-n||""),!a)return i}for(var o=i,u=a.split("/"),l=0;l<u.length;l++){var p=u[l];p&&(i+=c(m(p)),o+=" && "+i)}return o},unescapeFragment:function(e){return m(decodeURIComponent(e))},unescapeJsonPointer:m,escapeFragment:function(e){return encodeURIComponent(f(e))},escapeJsonPointer:f};var a=i(["string","number","integer","boolean","null"]);function i(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var s=/^[a-z$_][a-z$_0-9]*$/i,o=/'|\\/g;function c(e){return"number"==typeof e?"["+e+"]":s.test(e)?"."+e:"['"+u(e)+"']"}function u(e){return e.replace(o,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function l(e){return"'"+u(e)+"'"}var d=/^\/(?:[^~]|~0|~1)*$/,h=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function p(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function f(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function m(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},function(e,t,r){var n,a=r(1078),i=r(483),s=r(1080),o=r(1081),c=r(1082);"undefined"!=typeof ArrayBuffer&&(n=r(1083));var u="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),d=u||l;t.protocol=3;var h=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=a(h),f={type:"error",data:"parser error"},m=r(1084);function g(e,t,r){for(var n=new Array(e.length),a=o(e.length,r),i=function(e,r,a){t(r,(function(t,r){n[e]=r,a(t,n)}))},s=0;s<e.length;s++)i(s,e[s],a)}t.encodePacket=function(e,r,n,a){"function"==typeof r&&(a=r,r=!1),"function"==typeof n&&(a=n,n=null);var i=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);var a=e.data,i=new Uint8Array(a),s=new Uint8Array(1+a.byteLength);s[0]=h[e.type];for(var o=0;o<i.length;o++)s[o+1]=i[o];return n(s.buffer)}(e,r,a);if(void 0!==m&&i instanceof m)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);if(d)return function(e,r,n){if(!r)return t.encodeBase64Packet(e,n);var a=new FileReader;return a.onload=function(){t.encodePacket({type:e.type,data:a.result},r,!0,n)},a.readAsArrayBuffer(e.data)}(e,r,n);var a=new Uint8Array(1);a[0]=h[e.type];var i=new m([a.buffer,e.data]);return n(i)}(e,r,a);if(i&&i.base64)return function(e,r){var n="b"+t.packets[e.type]+e.data.data;return r(n)}(e,a);var s=h[e.type];return void 0!==e.data&&(s+=n?c.encode(String(e.data),{strict:!1}):String(e.data)),a(""+s)},t.encodeBase64Packet=function(e,r){var n,a="b"+t.packets[e.type];if(void 0!==m&&e.data instanceof m){var i=new FileReader;return i.onload=function(){var e=i.result.split(",")[1];r(a+e)},i.readAsDataURL(e.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){for(var s=new Uint8Array(e.data),o=new Array(s.length),c=0;c<s.length;c++)o[c]=s[c];n=String.fromCharCode.apply(null,o)}return a+=btoa(n),r(a)},t.decodePacket=function(e,r,n){if(void 0===e)return f;if("string"==typeof e){if("b"===e.charAt(0))return t.decodeBase64Packet(e.substr(1),r);if(n&&!1===(e=function(e){try{e=c.decode(e,{strict:!1})}catch(e){return!1}return e}(e)))return f;var a=e.charAt(0);return Number(a)==a&&p[a]?e.length>1?{type:p[a],data:e.substring(1)}:{type:p[a]}:f}a=new Uint8Array(e)[0];var i=s(e,1);return m&&"blob"===r&&(i=new m([i])),{type:p[a],data:i}},t.decodeBase64Packet=function(e,t){var r=p[e.charAt(0)];if(!n)return{type:r,data:{base64:!0,data:e.substr(1)}};var a=n.decode(e.substr(1));return"blob"===t&&m&&(a=new m([a])),{type:r,data:a}},t.encodePayload=function(e,r,n){"function"==typeof r&&(n=r,r=null);var a=i(e);if(r&&a)return m&&!d?t.encodePayloadAsBlob(e,n):t.encodePayloadAsArrayBuffer(e,n);if(!e.length)return n("0:");g(e,(function(e,n){t.encodePacket(e,!!a&&r,!1,(function(e){n(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return n(t.join(""))}))},t.decodePayload=function(e,r,n){if("string"!=typeof e)return t.decodePayloadAsBinary(e,r,n);var a;if("function"==typeof r&&(n=r,r=null),""===e)return n(f,0,1);for(var i,s,o="",c=0,u=e.length;c<u;c++){var l=e.charAt(c);if(":"===l){if(""===o||o!=(i=Number(o)))return n(f,0,1);if(o!=(s=e.substr(c+1,i)).length)return n(f,0,1);if(s.length){if(a=t.decodePacket(s,r,!1),f.type===a.type&&f.data===a.data)return n(f,0,1);if(!1===n(a,c+i,u))return}c+=i,o=""}else o+=l}return""!==o?n(f,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,r){if(!e.length)return r(new ArrayBuffer(0));g(e,(function(e,r){t.encodePacket(e,!0,!0,(function(e){return r(null,e)}))}),(function(e,t){var n=t.reduce((function(e,t){var r;return e+(r="string"==typeof t?t.length:t.byteLength).toString().length+r+2}),0),a=new Uint8Array(n),i=0;return t.forEach((function(e){var t="string"==typeof e,r=e;if(t){for(var n=new Uint8Array(e.length),s=0;s<e.length;s++)n[s]=e.charCodeAt(s);r=n.buffer}a[i++]=t?0:1;var o=r.byteLength.toString();for(s=0;s<o.length;s++)a[i++]=parseInt(o[s]);a[i++]=255;for(n=new Uint8Array(r),s=0;s<n.length;s++)a[i++]=n[s]})),r(a.buffer)}))},t.encodePayloadAsBlob=function(e,r){g(e,(function(e,r){t.encodePacket(e,!0,!0,(function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),a=0;a<e.length;a++)n[a]=e.charCodeAt(a);e=n.buffer,t[0]=0}var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),s=new Uint8Array(i.length+1);for(a=0;a<i.length;a++)s[a]=parseInt(i[a]);if(s[i.length]=255,m){var o=new m([t.buffer,s.buffer,e]);r(null,o)}}))}),(function(e,t){return r(new m(t))}))},t.decodePayloadAsBinary=function(e,r,n){"function"==typeof r&&(n=r,r=null);for(var a=e,i=[];a.byteLength>0;){for(var o=new Uint8Array(a),c=0===o[0],u="",l=1;255!==o[l];l++){if(u.length>310)return n(f,0,1);u+=o[l]}a=s(a,2+u.length),u=parseInt(u);var d=s(a,0,u);if(c)try{d=String.fromCharCode.apply(null,new Uint8Array(d))}catch(e){var h=new Uint8Array(d);d="";for(l=0;l<h.length;l++)d+=String.fromCharCode(h[l])}i.push(d),a=s(a,u)}var p=i.length;i.forEach((function(e,a){n(t.decodePacket(e,r,!0),a,p)}))}},function(e,t,r){"use strict";var n=t;n.version=r(925).version,n.utils=r(40),n.rand=r(234),n.curve=r(449),n.curves=r(236),n.ec=r(936),n.eddsa=r(940)},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));var n=r(633);const a="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",i=r.n(n)()(a)},function(e,t,r){"use strict";function n(e){return"boolean"==typeof e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(16);function a(...e){let t=0,r=0;const a=new Array(e.length);for(let r=0;r<e.length;r++)a[r]=Object(n.a)(e[r]),t+=a[r].length;const i=new Uint8Array(t);for(let e=0;e<a.length;e++)i.set(a[e],r),r+=a[e].length;return i}},function(e,t,r){"use strict";r.d(t,"i",(function(){return i})),r.d(t,"f",(function(){return s})),r.d(t,"h",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return u})),r.d(t,"e",(function(){return l})),r.d(t,"a",(function(){return d})),r.d(t,"g",(function(){return h})),r.d(t,"d",(function(){return p}));var n=r(8),a=r.n(n);const i=new a.a(0),s=new a.a(1),o=new a.a(2),c=(new a.a(3),new a.a(4)),u=(new a.a(5),new a.a(6),new a.a(7),new a.a(8),new a.a(9),new a.a(10),new a.a(100)),l=(new a.a(1e3),new a.a(1e6)),d=new a.a(1e9),h=d.mul(d),p=new a.a(Number.MAX_SAFE_INTEGER)},,,function(e,t,r){var n=r(42),a=r(13),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(64)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(44);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";var n=r(10);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){var n=r(10),a=r(29),i=r(17)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||null==(r=n(s)[i])?t:a(r)}},function(e,t,r){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(11).Buffer.isBuffer},function(e,t,r){(function(t){e.exports=function(e,r){for(var n=Math.min(e.length,r.length),a=new t(n),i=0;i<n;++i)a[i]=e[i]^r[i];return a}}).call(this,r(11).Buffer)},function(e,t,r){"use strict";var n=r(52),a=r(39);function i(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=i,i.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var a=0;a<e.length;a+=this._delta32)this._update(e,a,a+this._delta32)}return this},i.prototype.digest=function(e){return this.update(this._pad()),a(null===this.pending),this._digest(e)},i.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var a=1;a<r;a++)n[a]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)n[a++]=0;n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=e>>>24&255,n[a++]=e>>>16&255,n[a++]=e>>>8&255,n[a++]=255&e}else for(n[a++]=255&e,n[a++]=e>>>8&255,n[a++]=e>>>16&255,n[a++]=e>>>24&255,n[a++]=0,n[a++]=0,n[a++]=0,n[a++]=0,i=8;i<this.padLength;i++)n[a++]=0;return n}},function(e,t,r){"use strict";const n=r(7),a=r(239).Reporter,i=r(237).Buffer;function s(e,t){a.call(this,t),i.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function o(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return o.isEncoderBuffer(e)||(e=new o(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=i.byteLength(e);else{if(!i.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(s,a),t.DecoderBuffer=s,s.isDecoderBuffer=function(e){if(e instanceof s)return!0;return"object"==typeof e&&i.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},s.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},s.prototype.restore=function(e){const t=new s(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,a.prototype.restore.call(this,e.reporter),t},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},s.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},s.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=o,o.isEncoderBuffer=function(e){if(e instanceof o)return!0;return"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},o.prototype.join=function(e,t){return e||(e=i.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):i.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},function(e,t,r){(function(n){function a(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e}(t=e.exports=r(1072)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var a=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(a++,"%c"===e&&(i=a))})),e.splice(i,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=a,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(a())}).call(this,r(19))},function(e,t){e.exports=ArcadeContainerTemplate=function(e,t){return'\n    <div class="header-shim" style=""></div>\n    <div id="arcade-container" class="arcade-container"></div>\n  '}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,c,"next",e)}function c(e){a(s,n,i,o,c,"throw",e)}o(void 0)}))}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=r(1109),p=r(1110),f=r(1111),m=r(1112),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(g,e);var t,r,n,a,l,p=u(g);function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=p.call(this,e)).name="SaitoHeader UIComponent",t.app=e,e.BROWSER&&(t.sideMenu=new f(e)),t.initialize(e),t}return t=g,(r=[{key:"initialize",value:function(e){var t=this;o(d(g.prototype),"initialize",this).call(this,e),e.connection.on("update_balance",(function(r){t.renderCrypto(e,t)})),e.connection.on("update_identifier",(function(r){t.renderUsername(e,t)})),e.connection.on("update_email",(function(r){t.sideMenu.render(e,t)})),e.connection.on("set_preferred_crypto",(function(r){t.renderCrypto(e,t)}))}},{key:"updateIdentifier",value:function(e){try{var t=this.app.keys.returnIdentifierByPublicKey(e.wallet.returnPublicKey());t==e.wallet.returnPublicKey()||""==t||(document.getElementById("header-username").innerHTML=t)}catch(e){}}},{key:"loadBalance",value:(l=i(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r="activate "+t.ticker,!t.returnIsActivated()){e.next=7;break}return e.next=5,t.formatBalance();case 5:n=e.sent,r=n+" "+t.ticker;case 7:document.querySelector("#crypto-option-".concat(t.name)).innerHTML=r,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e){return l.apply(this,arguments)})},{key:"render",value:function(e,t){try{if(null==t)return;document.getElementById("saito-header")||e.browser.addElementToDom(h(e)),this.renderPhoto(e,t),this.renderUsername(e,t),this.renderCrypto(e,t),this.sideMenu.render(e,t),m.render(e,t),m.attachEvents(e,t),this.attachEvents(e,t)}catch(e){console.log(e)}}},{key:"renderCrypto",value:(a=i(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.app.wallet.returnInstalledCryptos(),r=this.app.wallet.returnPreferredCrypto(),e.next=5,this.app.wallet.returnPreferredCrypto().returnAddress();case 5:for(document.getElementById("profile-public-key").innerHTML=e.sent,document.querySelector("#header-token-select").innerHTML="",n='<option id="crypto-option-'.concat(r.name,'" value="').concat(r.ticker,'">... ').concat(r.ticker,"</option>"),this.app.browser.addElementToElement(n,document.querySelector("#header-token-select")),this.loadBalance(r),a=0;a<t.length;a++)(i=t[a]).name!=r.name&&(s='<option id="crypto-option-'.concat(i.name,'" value="').concat(i.ticker,'">... ').concat(i.ticker,"</option>"),this.app.browser.addElementToElement(s,document.querySelector("#header-token-select")),this.loadBalance(t[a]));this.app.browser.addElementToElement('<option id="crypto-option-add-new" value="add-new">install new crypto...</option>',document.querySelector("#header-token-select")),(o=new ModalSelectCrypto(app,r)).render(app,r),o.attachEvents(app,r),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(0);case 20:case"end":return e.stop()}}),e,this,[[0,18]])}))),function(){return a.apply(this,arguments)})},{key:"renderPhoto",value:function(e,t){try{document.getElementById("header-profile-photo").src=e.keys.returnIdenticon(e.wallet.returnPublicKey())}catch(e){}}},{key:"renderUsername",value:function(e,t){try{var r=e.keys.returnIdentifierByPublicKey(e.wallet.returnPublicKey());""!=r&&r!=e.wallet.returnPublicKey()||(r="Anonymous Account"),document.getElementById("header-username").innerHTML=r}catch(e){}}},{key:"receiveEvent",value:function(e,t){}},{key:"attachEvents",value:function(e,t){var r=this;if(document){for(var n=0,a=0,s=0;s<e.modules.mods.length;s++)"Email"==e.modules.mods[s].name&&1==e.modules.mods[s].browser_active&&(n=1),"QRScanner"==e.modules.mods[s].name&&(a=1);document.querySelectorAll("#header-logo-link").forEach((function(t){t.onclick=function(t){var r=e.modules.returnActiveModule();r?e.browser.logMatomoEvent("Navigation","".concat(r.name,"HeaderNavigationClick"),"HeaderLogoHomepageLink"):(e.browser.logMatomoEvent("Navigation","UnknownModuleHeaderNavigationClick","HeaderLogoHomepageLink"),console.log("Error: No active module"))}})),document.querySelectorAll("#profile-public-key").forEach((function(e,t){e.onmouseup=function(){if(window.getSelection().toString()===e.innerHTML&&"copied..."!=e.innerHTML){document.execCommand("copy");var t=e.innerHTML;e.innerHTML="Copied",setTimeout((function(){e.innerHTML=t}),300)}}})),document.querySelectorAll("#header-token-select").forEach((function(t,n){t.onchange=function(n){if("add-new"!==t.value)e.wallet.setPreferredCrypto(t.value,1);else{var a=r.app.wallet.returnPreferredCrypto();document.querySelector("#header-token-select").value=a.name;var i=e.modules.returnModule("AppStore");i?i.openAppstoreOverlay({search:"",category:"Cryptocurrency",featured:1}):salert("We cannot install additional cryptocurrencies without AppStore installed!")}}})),document.getElementById("header-dropdown-scan-qr")&&(document.getElementById("header-dropdown-scan-qr").onclick=function(){1==a?e.modules.returnModule("QRScanner").startScanner():salert("QR Scanner not installed or disabled")}),document.getElementById("header-dropdown-my-profile")&&(document.getElementById("header-dropdown-my-profile").onclick=function(){if(1==n)for(var e=document.getElementsByClassName("email-apps-item"),t=0;t<e.length;t++)"Profile"===e[t].innerHTML&&e[t].click();else window.location="/wallet/#page=email_appspace&subpage=Profile"}),document.getElementById("header-dropdown-faucet")&&(document.getElementById("header-dropdown-faucet").onclick=function(){var t=e.wallet.createUnsignedTransaction(e.wallet.returnPublicKey(),0);t.msg.module="Reward",t.msg.action="faucet",t=e.wallet.signTransaction(t),e.network.propagateTransaction(t),salert("Faucet request sent.<br/><br/><i>(Faucet will only pay once every 24 hours)<i/>")}),document.getElementById("header-dropdown-add-contacts")&&(document.getElementById("header-dropdown-add-contacts").onclick=function(){var t=e.modules.returnModule("Tutorial");t&&t.inviteFriendsModal()}),document.getElementById("header-dropdown-reset-wallet")&&(document.getElementById("header-dropdown-reset-wallet").onclick=function(){e.wallet.resetWallet()}),document.getElementById("header-dropdown-backup-wallet")&&(document.getElementById("header-dropdown-backup-wallet").onclick=function(){e.wallet.backupWallet()}),document.getElementById("header-dropdown-settings")&&(document.getElementById("header-dropdown-settings").onclick=function(){if(1==n)for(var e=document.getElementsByClassName("email-apps-item"),t=0;t<e.length;t++)"Settings"===e[t].innerHTML&&e[t].click();else window.location="/wallet/#page=email_appspace&subpage=Settings"}),document.getElementById("header-dropdown-restore-wallet")&&(document.getElementById("header-dropdown-restore-wallet").onclick=function(){var t=i(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:document.getElementById("saito-header-file-input").addEventListener("change",(function(t){var r=t.target.files[0];e.wallet.restoreWallet(r)})),document.querySelector("#saito-header-file-input").click();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),document.querySelector(".manage-account")&&(document.querySelector(".manage-account").onclick=function(){window.location="/wallet/#page=email_appspace&subpage=Settings"})}}}])&&s(t.prototype,r),n&&s(t,n),g}(p);e.exports=g},function(e,t,r){var n=r(1152),a=r(1157);e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},function(e,t,r){var n=r(276),a=r(1153),i=r(1154),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?a(e):i(e)}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},function(e,t,r){"use strict";let n,a,i=r(95);class s extends i{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}removeChild(e,t){let r=this.index(e);return!t&&0===r&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}normalize(e,t,r){let n=super.normalize(e);if(t)if("prepend"===r)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let e of n)e.raws.before=t.raws.before;return n}toResult(e={}){return new n(new a,this,e).stringify()}}s.registerLazyResult=e=>{n=e},s.registerProcessor=e=>{a=e},e.exports=s,s.default=s},function(e,t,r){var n=r(295),a=r(164);r(277),r(278),r(290);e.exports=ChatRoom={render:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null!=r?t.active_group=r:r=t.active_group,t.renderMode="chatroom",document.getElementById("chat-main").innerHTML="",e.browser.addElementToDom(n(r),"chat-main");var i=document.querySelector("#input.chat-room-input");for(null==i||i.value;r.txs.length>100;)r.txs.shift();for(var s=t.createMessageBlocks(r),o=document.getElementById("chat-room-content-".concat(r.id)),c=0;c<s.length;c++){var u=a(e,t,r,s[c]);if(c==s.length-1){var l="first_comment_sig";s[c].length>0&&(l=e.crypto.hash(s[c][0].transaction.sig));try{document.getElementById("chat-message-set-".concat(l)).destroy()}catch(e){}u=a(e,t,r,s[c]),o.innerHTML+=u}else o.innerHTML+=u}console.log("scrolling to the bottom!"),this.scrollToBottom(r.id)},attachEvents:function(e,t){var r=document.getElementById("input"),n=r.getAttribute("data-id");r.addEventListener("keypress",(function(a){if((13==a.which||13==a.keyCode)&&!a.shiftKey){if(a.preventDefault(),""==r.value)return;var i=t.createMessage(n,r.value);t.sendMessage(e,i),t.receiveMessage(e,i,"chatroom"),r.value="",document.querySelector("#input.chat-room-input").focus(),document.querySelector("#input.chat-room-input").select()}})),document.getElementById("back-button").onclick=function(r){t.renderMode="main",t.render(e,"main")},document.getElementById("back-button").ontouch=function(r){t.renderMode="main",t.render(e,"main")},document.querySelector(".chat-room-submit-button").onclick=function(a){if(a.preventDefault(),""!=r.value){e.browser.logMatomoEvent("Chat","ArcadeChatSendMessage","OnClick");var i=t.createMessage(n,r.value);t.sendMessage(e,i),t.receiveMessage(e,i,"chatroom"),r.value=""}},document.querySelector(".chat-room-submit-button").ontouch=function(a){if(a.preventDefault(),""!=r.value){e.browser.logMatomoEvent("Chat","ArcadeChatSendMessage","OnTouch");var i=t.createMessage(n,r.value);t.sendMessage(e,i),t.receiveMessage(e,i,"chatroom"),r.value=""}}},addMessage:function(e,t,r,n){e.modules.returnModule("Chat").receiveMessage(e,n,"chatroom");for(var a=0;a<t.groups.length;a++)t.groups[a].id===r&&(this.render(e,t,t.groups[a]),this.attachEvents(e,t),this.scrollToBottom(r))},scrollToBottom:function(e){var t=document.getElementById("chat-room-content-".concat(e));t&&(t.scrollTop=t.scrollHeight)}}},function(e,t,r){var n=r(608),a=r(610);function i(t,r){return delete e.exports[t],e.exports[t]=r,r}e.exports={Parser:n,Tokenizer:r(609),ElementType:r(134),DomHandler:a,get FeedHandler(){return i("FeedHandler",r(1262))},get Stream(){return i("Stream",r(1276))},get WritableStream(){return i("WritableStream",r(617))},get ProxyHandler(){return i("ProxyHandler",r(1278))},get DomUtils(){return i("DomUtils",r(612))},get CollectingHandler(){return i("CollectingHandler",r(1279))},DefaultHandler:a,get RssHandler(){return i("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var r=new a(t);return new n(r,t).end(e),r.dom},parseFeed:function(t,r){var a=new e.exports.FeedHandler(r);return new n(a,r).end(t),a.dom},createDomStream:function(e,t,r){var i=new a(e,t,r);return new n(i,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},function(e,t,r){"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=u(e),s=n[0],o=n[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,o)),l=0,d=o>0?s-4:s;for(r=0;r<d;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===o&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,c[l++]=255&t);1===o&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,i=[],s=0,o=r-a;s<o;s+=16383)i.push(l(e,s,s+16383>o?o:s+16383));1===a?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],a=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=s.length;o<c;++o)n[o]=s[o],a[s.charCodeAt(o)]=o;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var a,i,s=[],o=t;o<r;o+=3)a=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(n[(i=a)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));const n=new(r(647).a);function a(e){return e?n.encode(e.toString()):new Uint8Array}},function(e,t,r){var n=r(36),a=r(18),i=r(83);e.exports=function(e){return function(t,r,s){var o,c=n(t),u=a(c.length),l=i(s,u);if(e&&r!=r){for(;u>l;)if((o=c[l++])!=o)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(44);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(45),a=r(49);e.exports=function(e){return function(t,r){var i,s,o=String(a(t)),c=n(r),u=o.length;return c<0||c>=u?e?"":void 0:(i=o.charCodeAt(c))<55296||i>56319||c+1===u||(s=o.charCodeAt(c+1))<56320||s>57343?e?o.charAt(c):i:e?o.slice(c,c+2):s-56320+(i-55296<<10)+65536}}},function(e,t,r){var n=r(15),a=r(44),i=r(17)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},function(e,t,r){var n=r(17)("iterator"),a=!1;try{var i=[7][n]();i.return=function(){a=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var r=!1;try{var i=[7],s=i[n]();s.next=function(){return{done:r=!0}},i[n]=function(){return s},e(i)}catch(e){}return r}},function(e,t,r){"use strict";var n=r(98),a=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var i=r.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},function(e,t,r){"use strict";r(397);var n=r(33),a=r(32),i=r(14),s=r(49),o=r(17),c=r(218),u=o("species"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var h=o(e),p=!i((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),f=p?!i((function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[u]=function(){return r}),r[h](""),!t})):void 0;if(!p||!f||"replace"===e&&!l||"split"===e&&!d){var m=/./[h],g=r(s,h,""[e],(function(e,t,r,n,a){return t.exec===c?p&&!a?{done:!0,value:m.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}})),y=g[0],b=g[1];n(String.prototype,e,y),a(RegExp.prototype,h,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},function(e,t,r){var n=r(13).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){"use strict";var n=r(13),a=r(4),i=r(33),s=r(89),o=r(65),c=r(88),u=r(87),l=r(15),d=r(14),h=r(142),p=r(97),f=r(204);e.exports=function(e,t,r,m,g,y){var b=n[e],v=b,_=g?"set":"add",w=v&&v.prototype,x={},k=function(e){var t=w[e];i(w,e,"delete"==e||"has"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof v&&(y||w.forEach&&!d((function(){(new v).entries().next()})))){var S=new v,O=S[_](y?{}:-0,1)!=S,P=d((function(){S.has(1)})),E=h((function(e){new v(e)})),A=!y&&d((function(){for(var e=new v,t=5;t--;)e[_](t,t);return!e.has(-0)}));E||((v=t((function(t,r){u(t,v,e);var n=f(new b,t,v);return null!=r&&c(r,g,n[_],n),n}))).prototype=w,w.constructor=v),(P||A)&&(k("delete"),k("has"),g&&k("get")),(A||O)&&k(_),y&&w.clear&&delete w.clear}else v=m.getConstructor(t,e,g,_),s(v.prototype,r),o.NEED=!0;return p(v,e),x[e]=v,a(a.G+a.W+a.F*(v!=b),x),y||m.setStrong(v,e,g),v}},function(e,t,r){for(var n,a=r(13),i=r(32),s=r(81),o=s("typed_array"),c=s("view"),u=!(!a.ArrayBuffer||!a.DataView),l=u,d=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(n=a[h[d++]])?(i(n.prototype,o,!0),i(n.prototype,c,!0)):l=!1;e.exports={ABV:u,CONSTR:l,TYPED:o,VIEW:c}},function(e,t,r){"use strict";e.exports=r(64)||!r(14)((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete r(13)[e]}))},function(e,t,r){"use strict";var n=r(4);e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,r){"use strict";var n=r(4),a=r(29),i=r(43),s=r(88);e.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,o,c=arguments[1];return a(this),(t=void 0!==c)&&a(c),null==e?new this:(r=[],t?(n=0,o=i(c,arguments[2],2),s(e,!1,(function(e){r.push(o(e,n++))}))):s(e,!1,r.push,r),new this(r))}})}},function(e,t,r){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,a){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,s,o=arguments.length;switch(o){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,r)}));case 3:return t.nextTick((function(){e.call(null,r,n)}));case 4:return t.nextTick((function(){e.call(null,r,n,a)}));default:for(i=new Array(o-1),s=0;s<i.length;)i[s++]=arguments[s];return t.nextTick((function(){e.apply(null,i)}))}}}:e.exports=t}).call(this,r(19))},function(e,t,r){var n=r(9).Buffer;function a(e){n.isBuffer(e)||(e=n.from(e));for(var t=e.length/4|0,r=new Array(t),a=0;a<t;a++)r[a]=e.readUInt32BE(4*a);return r}function i(e){for(;0<e.length;e++)e[0]=0}function s(e,t,r,n,a){for(var i,s,o,c,u=r[0],l=r[1],d=r[2],h=r[3],p=e[0]^t[0],f=e[1]^t[1],m=e[2]^t[2],g=e[3]^t[3],y=4,b=1;b<a;b++)i=u[p>>>24]^l[f>>>16&255]^d[m>>>8&255]^h[255&g]^t[y++],s=u[f>>>24]^l[m>>>16&255]^d[g>>>8&255]^h[255&p]^t[y++],o=u[m>>>24]^l[g>>>16&255]^d[p>>>8&255]^h[255&f]^t[y++],c=u[g>>>24]^l[p>>>16&255]^d[f>>>8&255]^h[255&m]^t[y++],p=i,f=s,m=o,g=c;return i=(n[p>>>24]<<24|n[f>>>16&255]<<16|n[m>>>8&255]<<8|n[255&g])^t[y++],s=(n[f>>>24]<<24|n[m>>>16&255]<<16|n[g>>>8&255]<<8|n[255&p])^t[y++],o=(n[m>>>24]<<24|n[g>>>16&255]<<16|n[p>>>8&255]<<8|n[255&f])^t[y++],c=(n[g>>>24]<<24|n[p>>>16&255]<<16|n[f>>>8&255]<<8|n[255&m])^t[y++],[i>>>=0,s>>>=0,o>>>=0,c>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],a=[[],[],[],[]],i=[[],[],[],[]],s=0,o=0,c=0;c<256;++c){var u=o^o<<1^o<<2^o<<3^o<<4;u=u>>>8^255&u^99,r[s]=u,n[u]=s;var l=e[s],d=e[l],h=e[d],p=257*e[u]^16843008*u;a[0][s]=p<<24|p>>>8,a[1][s]=p<<16|p>>>16,a[2][s]=p<<8|p>>>24,a[3][s]=p,p=16843009*h^65537*d^257*l^16843008*s,i[0][u]=p<<24|p>>>8,i[1][u]=p<<16|p>>>16,i[2][u]=p<<8|p>>>24,i[3][u]=p,0===s?s=o=1:(s=l^e[e[e[h^l]]],o^=e[e[o]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:a,INV_SUB_MIX:i}}();function u(e){this._key=a(e),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),a=[],i=0;i<t;i++)a[i]=e[i];for(i=t;i<n;i++){var s=a[i-1];i%t==0?(s=s<<8|s>>>24,s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s],s^=o[i/t|0]<<24):t>6&&i%t==4&&(s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s]),a[i]=a[i-t]^s}for(var u=[],l=0;l<n;l++){var d=n-l,h=a[d-(l%4?0:4)];u[l]=l<4||d<=4?h:c.INV_SUB_MIX[0][c.SBOX[h>>>24]]^c.INV_SUB_MIX[1][c.SBOX[h>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[h>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&h]]}this._nRounds=r,this._keySchedule=a,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(e){return s(e=a(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=n.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},u.prototype.decryptBlock=function(e){var t=(e=a(e))[1];e[1]=e[3],e[3]=t;var r=s(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),i=n.allocUnsafe(16);return i.writeUInt32BE(r[0],0),i.writeUInt32BE(r[3],4),i.writeUInt32BE(r[2],8),i.writeUInt32BE(r[1],12),i},u.prototype.scrub=function(){i(this._keySchedule),i(this._invKeySchedule),i(this._key)},e.exports.AES=u},function(e,t,r){var n=r(9).Buffer,a=r(224);e.exports=function(e,t,r,i){if(n.isBuffer(e)||(e=n.from(e,"binary")),t&&(n.isBuffer(t)||(t=n.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=r/8,o=n.alloc(s),c=n.alloc(i||0),u=n.alloc(0);s>0||i>0;){var l=new a;l.update(u),l.update(e),t&&l.update(t),u=l.digest();var d=0;if(s>0){var h=o.length-s;d=Math.min(s,u.length),u.copy(o,h,0,d),s-=d}if(d<u.length&&i>0){var p=c.length-i,f=Math.min(i,u.length-d);u.copy(c,p,d,d+f),i-=f}}return u.fill(0),{key:o,iv:c}}},function(e,t,r){"use strict";var n=r(8),a=r(40),i=a.getNAF,s=a.getJSF,o=a.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){o(e.precomputed);var r=e._getDoubles(),n=i(t,1,this._bitLength),a=(1<<r.step+1)-(r.step%2==0?2:1);a/=3;var s,c,u=[];for(s=0;s<n.length;s+=r.step){c=0;for(var l=s+r.step-1;l>=s;l--)c=(c<<1)+n[l];u.push(c)}for(var d=this.jpoint(null,null,null),h=this.jpoint(null,null,null),p=a;p>0;p--){for(s=0;s<u.length;s++)(c=u[s])===p?h=h.mixedAdd(r.points[s]):c===-p&&(h=h.mixedAdd(r.points[s].neg()));d=d.add(h)}return d.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var a=n.points,s=i(t,r,this._bitLength),c=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(var l=0;u>=0&&0===s[u];u--)l++;if(u>=0&&l++,c=c.dblp(l),u<0)break;var d=s[u];o(0!==d),c="affine"===e.type?d>0?c.mixedAdd(a[d-1>>1]):c.mixedAdd(a[-d-1>>1].neg()):d>0?c.add(a[d-1>>1]):c.add(a[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,a){var o,c,u,l=this._wnafT1,d=this._wnafT2,h=this._wnafT3,p=0;for(o=0;o<n;o++){var f=(u=t[o])._getNAFPoints(e);l[o]=f.wnd,d[o]=f.points}for(o=n-1;o>=1;o-=2){var m=o-1,g=o;if(1===l[m]&&1===l[g]){var y=[t[m],null,null,t[g]];0===t[m].y.cmp(t[g].y)?(y[1]=t[m].add(t[g]),y[2]=t[m].toJ().mixedAdd(t[g].neg())):0===t[m].y.cmp(t[g].y.redNeg())?(y[1]=t[m].toJ().mixedAdd(t[g]),y[2]=t[m].add(t[g].neg())):(y[1]=t[m].toJ().mixedAdd(t[g]),y[2]=t[m].toJ().mixedAdd(t[g].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],v=s(r[m],r[g]);for(p=Math.max(v[0].length,p),h[m]=new Array(p),h[g]=new Array(p),c=0;c<p;c++){var _=0|v[0][c],w=0|v[1][c];h[m][c]=b[3*(_+1)+(w+1)],h[g][c]=0,d[m]=y}}else h[m]=i(r[m],l[m],this._bitLength),h[g]=i(r[g],l[g],this._bitLength),p=Math.max(h[m].length,p),p=Math.max(h[g].length,p)}var x=this.jpoint(null,null,null),k=this._wnafT4;for(o=p;o>=0;o--){for(var S=0;o>=0;){var O=!0;for(c=0;c<n;c++)k[c]=0|h[c][o],0!==k[c]&&(O=!1);if(!O)break;S++,o--}if(o>=0&&S++,x=x.dblp(S),o<0)break;for(c=0;c<n;c++){var P=k[c];0!==P&&(P>0?u=d[c][P-1>>1]:P<0&&(u=d[c][-P-1>>1].neg()),x="affine"===u.type?x.mixedAdd(u):x.add(u))}}for(o=0;o<n;o++)d[o]=null;return a?x:x.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=a.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?o(e[e.length-1]%2==0):7===e[0]&&o(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return a.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,a=0;a<t;a+=e){for(var i=0;i<e;i++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),a=1;a<r;a++)t[a]=t[a-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},function(e,t,r){var n=r(944),a=r(951),i=r(952),s=r(232),o=r(434),c=r(9).Buffer;function u(e){var t;"object"!=typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=c.from(e));var r,u,l=i(e,t),d=l.tag,h=l.data;switch(d){case"CERTIFICATE":u=n.certificate.decode(h,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=n.PublicKey.decode(h,"der")),r=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=n.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":h=function(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=a[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,d=parseInt(i.split("-")[1],10)/8,h=o.pbkdf2Sync(t,r,n,d,"sha1"),p=s.createDecipheriv(i,h,u),f=[];return f.push(p.update(l)),f.push(p.final()),c.concat(f)}(h=n.EncryptedPrivateKey.decode(h,"der"),t);case"PRIVATE KEY":switch(r=(u=n.PrivateKey.decode(h,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:n.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=n.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(h,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(h,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(h,"der")};case"EC PRIVATE KEY":return{curve:(h=n.ECPrivateKey.decode(h,"der")).parameters.value,privateKey:h.privateKey};default:throw new Error("unknown key type "+d)}}e.exports=u,u.signature=n.signature},function(e,t,r){(function(e,t){(function(){var r,n,a,i;for(a=(null!==e?e.exports:void 0)||(window.Base58={}),r="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",n={},i=0;i<r.length;)n[r.charAt(i)]=i,i++;a.encode=function(e){var t,n,a;if(0===e.length)return"";for(i=void 0,a=void 0,n=[0],i=0;i<e.length;){for(a=0;a<n.length;)n[a]<<=8,a++;for(n[0]+=e[i],t=0,a=0;a<n.length;)n[a]+=t,t=n[a]/58|0,n[a]%=58,++a;for(;t;)n.push(t%58),t=t/58|0;i++}for(i=0;0===e[i]&&i<e.length-1;)n.push(0),i++;return n.reverse().map((function(e){return r[e]})).join("")},a.decode=function(e){var r,a,s,o;if(0===e.length)return new("undefined"!=typeof Uint8Array&&null!==Uint8Array?Uint8Array:t)(0);for(i=void 0,o=void 0,r=[0],i=0;i<e.length;){if(!((a=e[i])in n))throw"Base58.decode received unacceptable input. Character '"+a+"' is not in the Base58 alphabet.";for(o=0;o<r.length;)r[o]*=58,o++;for(r[0]+=n[a],s=0,o=0;o<r.length;)r[o]+=s,s=r[o]>>8,r[o]&=255,++o;for(;s;)r.push(255&s),s>>=8;i++}for(i=0;"1"===e[i]&&i<e.length-1;)r.push(0),i++;return new("undefined"!=typeof Uint8Array&&null!==Uint8Array?Uint8Array:t)(r.reverse())}}).call(this)}).call(this,r(92)(e),r(11).Buffer)},function(e,t,r){"use strict";var n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n)return n;throw new Error("unable to locate global object")}();e.exports=t=n.fetch,n.fetch&&(t.default=n.fetch.bind(n)),t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response},function(e,t){t.encode=function(e){var t="";for(var r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},t.decode=function(e){for(var t={},r=e.split("&"),n=0,a=r.length;n<a;n++){var i=r[n].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}},function(e,t){e.exports=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){(function(n){function a(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e}(t=e.exports=r(1085)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var a=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(a++,"%c"===e&&(i=a))})),e.splice(i,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=a,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(a())}).call(this,r(19))},function(e,t){e.exports=ArcadeInviteTemplate=function(e,t,n,a){for(var i=n.msg.game,s=0;s<e.modules.mods.length;s++)e.modules.mods[s].name===i&&(i=e.modules.mods[s].returnSlug());var o="open-invite",c=0;if(n.isMine&&(o="my-invite"),n.msg&&(n.msg.options["game-wizard-players-select"]<=n.msg.players.length&&(c=1),n.msg.players_needed<=n.msg.players.length&&(c=1)),e.options&&e.options.games)for(var u=0;u<e.options.games.length;u++)1==e.options.games[u].initializing&&(c=0);n.msg.players_needed>4||n.msg.players_needed;var l='<div class="playerInfo" style="">';if(n.msg.players.length>n.msg.players_needed)for(var d=0;d<n.msg.players.length;d++){var h=e.keys.returnIdenticon(n.msg.players[d]);l+='<div class="player-slot tip id-'.concat(n.msg.players[d],'"><img class="identicon" src="').concat(h,'"><div class="tiptext">').concat(e.browser.returnAddressHTML(n.msg.players[d]),"</div></div>")}else for(var p=0;p<n.msg.players_needed;p++){if(!(p<4)){l+='<div style="color:#f5f5f59c;margin-left:0.2em;" class="player-slot-ellipsis fas fa-ellipsis-h"></div>';break}if(p<n.msg.players.length){var f=e.keys.returnIdenticon(n.msg.players[p]);l+='<div class="player-slot tip id-'.concat(n.msg.players[p],'"><img class="identicon" src="').concat(f,'"><div class="tiptext">').concat(e.browser.returnAddressHTML(n.msg.players[p]),"</div></div>")}else l+='<div class="player-slot identicon-empty"></div>'}if(l+="</div>",document.getElementById("invite-".concat(n.transaction.sig)))return"";var m='\n    <div id="invite-'.concat(n.transaction.sig,'" class="arcade-tile i_').concat(a," ").concat(o,'" style="background-image: url(\'/').concat(i,'/img/arcade.jpg\');">\n      <div class="invite-tile-wrapper">\n        <div class="game-inset-img" style="background-image: url(\'/').concat(i,'/img/arcade.jpg\');"></div>\n        <div class="invite-col-2">\n          <div class="gameName">').concat(n.msg.game,'</div>\n          <div class="gamePlayers">').concat(l,'</div>\n        </div>\n        <div class="gameShortDescription">').concat(r(e,n),'</div>\n\t<div class="gameButtons">\n    ');return n.isMine?(1==c&&(m+='<button data-sig="'.concat(n.transaction.sig,'" data-cmd="continue" class="button invite-tile-button">CONTINUE</button>')),m+='<button data-sig="'.concat(n.transaction.sig,'" data-cmd="cancel" class="button invite-tile-button">CANCEL</button>')):1==c?(m+='<button data-sig="'.concat(n.transaction.sig,'" data-cmd="continue" class="button invite-tile-button">WATCH</button>'),m+='<button data-sig="'.concat(n.transaction.sig,'" data-cmd="cancel" class="button invite-tile-button">CANCEL</button>')):m+='<button data-sig="'.concat(n.transaction.sig,'" data-cmd="join" class="button invite-tile-button invite-tile-button-join">JOIN</button>'),m+="\n        </div>\n      </div>\n    </div>\n    "};var r=function(e,t){var r="";if(t.msg){var n=e.modules.returnModule(t.msg.game);if(n){var a=n.returnShortGameOptionsArray(t.msg.options);for(var i in a){r+='<div class="gameShortDescriptionRow"><div class="gameShortDescriptionKey">'.concat(i.replace(/_/g," "),': </div><div class="gameShortDescriptionValue">').concat(a[i],"</div></div>")}}}return r}},function(e,t,r){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}var a=r(259),i=r(260),s=r(163),o=function(){var e={};return document.querySelectorAll("form input, form select").forEach((function(t){"checkbox"==t.type?t.checked&&(e[t.name]=1):e[t.name]=t.value})),e};e.exports=ArcadeGameDetails={render:function(e,t,r){var n=e.modules.returnModule(r.msg.game);document.getElementById("background-shim")||e.browser.addElementToDom('<div id="background-shim" class="background-shim" style=""><div id="background-shim-cover" class="background-shim-cover"></div></div>'),t.overlay.showOverlay(e,t,a(e,t,r),(function(){document.querySelector(".background-shim").destroy()})),t.meta_overlay=new i(e,n),t.meta_overlay.render(e,n),t.meta_overlay.attachEvents(e,n);var s="/"+n.returnSlug()+"/img/arcade.jpg";if(document.querySelector(".game-image").src=s,document.querySelector(".background-shim").style.backgroundImage="url("+s+")",document.querySelector(".game-wizard-advanced-options-overlay").style.display="none",document.querySelector(".game-wizard-options-toggle").onclick=function(r){t.meta_overlay.showOverlay(e,n,n.returnGameOptionsHTML()),document.querySelector(".game-wizard-advanced-options-overlay").style.display="block";try{document.getElementById("game-wizard-advanced-return-btn")&&(document.querySelector(".game-wizard-advanced-return-btn").onclick=function(e){document.getElementById("game-wizard-advanced-options-overlay").style.display="none"})}catch(e){}},n.status){var o="\n      <h3>Development Status: ".concat(n.status,'.</h3>\n      <p>\n      Saito is a community project. Our games are under constant development. If you would like to participate email developers@saito.io, connect on <a href="https://t.me/SaitoIO" target="_blank">Telegram</a> or head over to <a href="https://github.com/saitotech" target="_blank">Github</a> to get started. \n      </p>');document.querySelector(".game-wizard-status").innerHTML=o}n.publisher_message&&(document.querySelector(".game-wizard-publisher-message").innerHTML='<span style="font-weight:bold">NOTE: </span>'.concat(n.publisher_message)),document.querySelector(".game-wizard-title").innerHTML=n.name,document.querySelector(".game-wizard-description").innerHTML=n.description,setTimeout((function(){document.querySelector(".game-wizard-players-select").innerHTML="";for(var e=n.minPlayers;e<=n.maxPlayers;e++){var t=document.createElement("option");t.text=e+" player",t.value=e,document.querySelector(".game-wizard-players-select").add(t)}}),100);var c=document.querySelector(".game-wizard-advanced-box"),u=document.querySelector(".game-overlay"),l=document.querySelector(".game-overlay-backdrop"),d=document.querySelector(".game-wizard-advanced-options-overlay");d.appendChild(u),d.appendChild(l),c&&d.appendChild(c)},attachEvents:function(e,t){document.getElementById("game-invite-btn").addEventListener("click",function(){var r,a=(r=regeneratorRuntime.mark((function r(n){var a,i,c,u,l,d,h,p,f,m,g;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,""==(a=o()).crypto){r.next=23;break}if(!(a.stake>0)){r.next=23;break}if(i=e.wallet.returnCryptoModuleByTicker(a.crypto).ticker,c=e.wallet.returnPreferredCrypto().ticker,i!==c){r.next=21;break}return u=e.wallet.returnPreferredCrypto().returnAddress(),(l=new s(e)).balance(e,t,u,a.crypto,(function(){})),r.next=12,e.wallet.returnPreferredCryptoBalances([u],null,a.crypto);case 12:for(d=r.sent,l.hideOverlay(),h=0,p=0;p<d.length;p++)d[p].address==u&&parseFloat(d[p].balance)>=parseFloat(a.stake)&&(h=1);if(0!=h){r.next=19;break}return salert("You don't have enough "+a.crypto+" to create this game!"),r.abrupt("return");case 19:r.next=23;break;case 21:return salert("".concat(a.crypto," must be set as your preferred crypto to create a game using ").concat(a.crypto)),r.abrupt("return");case 23:if(e.browser.logMatomoEvent("Arcade","ArcadeCreateNewInvite",a.gamename),f=e.modules.returnModule(a.gamename),m={name:f.name,slug:f.returnSlug(),options:f.returnFormattedGameOptions(a),options_html:f.returnGameRowOptionsHTML(a),players_needed:document.querySelector(".game-wizard-players-select").value},1!=document.querySelector(".game-wizard-players-select").value){r.next=32;break}return t.launchSinglePlayerGame(e,m),r.abrupt("return");case 32:t.overlay.hideOverlay(),document.getElementById("background-shim").destroy(),g=t.createOpenTransaction(m),t.app.network.propagateTransaction(g),t.renderArcadeMain(e,t);case 37:r.next=42;break;case 39:r.prev=39,r.t0=r.catch(0),alert("error: "+r.t0);case 42:return r.abrupt("return",!1);case 43:case"end":return r.stop()}}),r,null,[[0,39]])})),function(){var e=this,t=arguments;return new Promise((function(a,i){var s=r.apply(e,t);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))});return function(e){return a.apply(this,arguments)}}())}}},function(t,r,n){function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}n(1103);var i=n(1104),s=n(1105),o=n(1106),c=n(494),u=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.app=e,this.game_crypto_transfer_manager_overlay=new c(e)}var r,n,u;return r=t,(n=[{key:"render",value:function(e,t){}},{key:"attachEvents",value:function(e,t){}},{key:"balance",value:function(t,r,n,a){var i={};i.address=n,i.ticker=a,this.game_crypto_transfer_manager_overlay.showOverlay(t,r,o(t,i)),document.querySelector(".game-overlay-backdrop").onclick=e={}}},{key:"send",value:function(t,r,n,a,s,o,c){var u=this,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,d={};d.amount=s,d.from=n,d.to=a,d.ticker=c,this.game_crypto_transfer_manager_overlay.showOverlay(t,r,i(t,d)),document.querySelector(".game-overlay-backdrop").onclick=e={},document.querySelector(".crypto_transfer_btn").onclick=function(e){u.game_crypto_transfer_manager_overlay.hideOverlay(l)}}},{key:"receive",value:function(t,r,n,a,i,o,c){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l={};l.amount=i,l.from=n,l.to=a,l.ticker=c,this.game_crypto_transfer_manager_overlay.showOverlay(t,r,s(t,l)),document.querySelector(".game-overlay-backdrop").onclick=e={},null!=u&&u()}},{key:"hideOverlay",value:function(){this.game_crypto_transfer_manager_overlay.hideOverlay()}}])&&a(r.prototype,n),u&&a(r,u),t}();t.exports=u},function(e,t,r){var n=r(275),a=r(1146);e.exports=ChatBoxMessageBlockTemplate=function(e,t,r,i){var s="",o="",c="",u=(new Date).getTime(),l="others",d="",h=0;if(2==r.members.length?(s=r.members[0]!=e.wallet.returnPublicKey()?r.members[0]:r.members[1],publickey=s):(s=r.id,publickey=r.members[0]),o=e.keys.returnIdenticon(s),c=e.keys.returnIdenticonColor(s),keyHTML=e.browser.returnAddressHTML(s),0==i.length)return"";for(var p=[],f="",m=0;m<i.length;m++){var g=i[m];0==m&&(d=e.crypto.hash(g.transaction.sig)),"others"==l&&g.transaction.from[0].add==e.wallet.returnPublicKey()&&(l="myself");var y=g.returnMessage();document.getElementById(g.transaction.sig)||p.includes(g.transaction.sig)||(f+=n(e,t,y.message,g.transaction.sig,l),u=g.transaction.ts,publickey=g.transaction.from[0].add,o=e.keys.returnIdenticon(publickey),c=e.keys.returnIdenticonColor(publickey),keyHTML=e.browser.returnAddressHTML(publickey),p.push(g.transaction.sig),h++)}var b=t.app.browser.formatDate(u);return 0==h?"":'\n    <div class="chat-message-set chat-message-set-'.concat(l," chat-message-set-").concat(d,'" id="chat-message-set-').concat(d,'">\n      <img src="').concat(o,'" class="chat-room-message-identicon"/>\n      <div class="chat-message-set-content chat-message-set-content-').concat(l,'">\n        <div class="chat-message-header">\n              <p class="chat-message-author">').concat(keyHTML,'</p>\n              <p class="chat-message-timestamp">').concat(b.hours,":").concat(b.minutes,'</p>\n        </div>\n        <div class="chat-box-message-container chat-box-message-container-').concat(l,'" style="border-color:').concat(c,';">\n          ').concat(a.emojify(f),"\n        </div>\n      </div>\n    </div>\n  ")}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){"use strict";let n=r(167);class a extends n{constructor(e){e&&void 0!==e.value&&"string"!=typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}}e.exports=a,a.default=a},function(e,t,r){"use strict";let{isClean:n,my:a}=r(282),i=r(281),s=r(521),o=r(283);class c{constructor(e={}){this.raws={},this[n]=!1,this[a]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let r of e[t])"function"==typeof r.clone?this.append(r.clone()):this.append(r)}else this[t]=e[t]}error(e,t={}){if(this.source){let r=this.positionBy(t);return this.source.input.error(e,r.line,r.column,t)}return new i(e)}warn(e,t,r){let n={node:this};for(let e in r)n[e]=r[e];return e.warn(t,n)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(e=o){e.stringify&&(e=e.stringify);let t="";return e(this,e=>{t+=e}),t}assign(e={}){for(let t in e)this[t]=e[t];return this}clone(e={}){let t=function e(t,r){let n=new t.constructor;for(let a in t){if(!Object.prototype.hasOwnProperty.call(t,a))continue;if("proxyCache"===a)continue;let i=t[a],s=typeof i;"parent"===a&&"object"===s?r&&(n[a]=r):"source"===a?n[a]=i:Array.isArray(i)?n[a]=i.map(t=>e(t,n)):("object"===s&&null!==i&&(i=e(i)),n[a]=i)}return n}(this);for(let r in e)t[r]=e[r];return t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let n of e)n===this?r=!0:r?(this.parent.insertAfter(t,n),t=n):this.parent.insertBefore(t,n);r||this.remove()}return this}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}before(e){return this.parent.insertBefore(this,e),this}after(e){return this.parent.insertAfter(this,e),this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}raw(e,t){return(new s).raw(this,e,t)}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}toJSON(e,t){let r={},n=null==t;t=t||new Map;let a=0;for(let e in this){if(!Object.prototype.hasOwnProperty.call(this,e))continue;if("parent"===e||"proxyCache"===e)continue;let n=this[e];if(Array.isArray(n))r[e]=n.map(e=>"object"==typeof e&&e.toJSON?e.toJSON(null,t):e);else if("object"==typeof n&&n.toJSON)r[e]=n.toJSON(null,t);else if("source"===e){let i=t.get(n.input);null==i&&(i=a,t.set(n.input,a),a++),r[e]={inputId:i,start:n.start,end:n.end}}else r[e]=n}return n&&(r.inputs=[...t.keys()].map(e=>e.toJSON())),r}positionInside(e){let t=this.toString(),r=this.source.start.column,n=this.source.start.line;for(let a=0;a<e;a++)"\n"===t[a]?(r=1,n+=1):r+=1;return{line:n,column:r}}positionBy(e){let t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){let r=this.toString().indexOf(e.word);-1!==r&&(t=this.positionInside(r))}return t}getProxyProcessor(){return{set:(e,t,r)=>(e[t]===r||(e[t]=r,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0),get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t]}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}markDirty(){if(this[n]){this[n]=!1;let e=this;for(;e=e.parent;)e[n]=!1}}get proxyOf(){return this}}e.exports=c,c.default=c},function(e,t,r){"use strict";let n=r(167);class a extends n{constructor(e){super(e),this.type="comment"}}e.exports=a,a.default=a},function(e,t,r){var n=r(54),a=(r(163),r(301)),i=r(302);e.exports=PolkadotPopup={render:function(e,t){},attachEvents:function(e,t){var r=document.getElementById("startgame"),s="WND";r.onclick=function(r){t.overlay=new n(e,t),t.overlay.closebox=!1,t.overlay.render(e,t),t.overlay.attachEvents(e,t),t.overlay.showOverlay(e,t,i(e,t));var o=function(e){document.getElementById("KSM").checked&&(s="KSM"),document.getElementById("DOT").checked&&(s="DOT"),document.getElementById("WND").checked&&(s="WND");var t=[];t.DOT="Polkadot",t.KSM="Kusama",t.WND="Westend",document.getElementById("polkadot-overlay-network-selected-btn").innerHTML="Select "+t[s]};document.getElementById("KSM").onchange=function(e){o()},document.getElementById("DOT").onchange=function(e){o()},document.getElementById("WND").onchange=function(e){o()},document.getElementById("polkadot-overlay-network-selected-btn").onclick=function(r){var n="WND";(document.getElementById("KSM").checked&&(n="KSM"),document.getElementById("DOT").checked&&(n="DOT"),"DOT"==n||"KSM"==n)&&(confirm("DOT and Kusama support is provided to demo functionality. We recommend Westend while Polkadot rolls out its scalable parachains. Also, you can get free tokens! Switch?")&&(n="WND"));try{t.overlay.hideOverlay(),t.overlay.showOverlay(e,t,a(e,t,n)),document.querySelector(".arcade-link").onclick=function(t){e.wallet.setPreferredCrypto(n),window.location="/arcade/#side_bar=1"}}catch(e){salert("ERROR: Unsupported Crypto Module")}}}}}},function(e,t,r){var n=r(305),a=r(307),i=r(312),s=r(314);r(316);e.exports=EmailHeader={render:function(e,t){switch(t.header=this,e.browser.parseHash(window.location.hash).page){case"email_list":n.render(e,t),n.attachEvents(e,t);break;case"email_detail":a.render(e,t),a.attachEvents(e,t);break;case"email_form":i.render(e,t),i.attachEvents(e,t);break;case"email_appspace":case"crypto_page":s.render(e,t),s.attachEvents(e,t)}t.cacheAndRenderPreferredCryptoBalance()},attachEvents:function(e,t){var r=document.getElementById("email-bars-icon");r&&r.addEventListener("click",(function(e){var t=document.querySelector("#mobile.email-bars-menu");t.style.display="block"==t.style.display?"none":"block"})),document.querySelectorAll("#email-form-back-button").forEach((function(e,t){e.onclick=function(){window.history.back()}}))}}},function(e,t){e.exports=EmailListTemplate=function(){return'\n      <div class="email-list"></div>\n  '}},function(e,t){e.exports=elParser=function(e){return(new DOMParser).parseFromString(e,"text/html").body.firstChild}},function(e,t,r){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}var i=r(12),s=r(54),o=r(340),c=r(341);e.exports=PostView={render:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.overlay=new s(e,t),t.overlay.render(e,t),t.overlay.attachEvents(e,t),t.comments=[];var a='SELECT id, tx FROM posts WHERE thread_id = "'.concat(n,'" ORDER BY ts ASC');t.sendPeerDatabaseRequestWithFilter("Post",a,(function(a){if(a&&a.rows){for(var s=0;s<a.rows.length;s++){for(var o=1,c=new i.transaction(JSON.parse(a.rows[s].tx)),u=c.returnMessage(),l=0;l<t.comments.length;l++)t.comments[l].transaction.sig==c.transaction.sig&&(o=0);if(c.transaction.sig==n){o=0;try{document.getElementById("post-view-parent-comment").innerHTML=u.comment;var d=document.getElementById("post-view-gallery"),h="";if(u.images.length>0){for(var p=0;p<c.msg.images.length;p++)h+='<img class="post-view-gallery-image" src="'.concat(c.msg.images[p],'" />');d.innerHTML=h,d.style.display="block"}}catch(e){console.log("error showing comment or gallery")}}1==o&&(c.originalSig=a.rows[s].id,t.comments.push(c))}for(var f=0;f<t.comments.length;f++)r.addComment(e,t,t.comments[f]);r.attachEvents(e,t,n)}})),t.overlay.showOverlay(e,t,o(e,t,n),(function(){}))},rerender:function(e,t,r){},attachEvents:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";document.querySelector(".post-submit-btn").onclick=function(a){var i=document.querySelector(".post-view-textarea").innerHTML;if(document.querySelector(".post-view-textarea").innerHTML="",""!=i){var s=t.createCommentTransaction(n,i);e.network.propagateTransaction(s),s.children=0,t.comments.push(s),r.addComment(e,t,s),r.attachEvents(e,t,n)}},document.querySelectorAll(".post-view-edit").forEach((function(a){a.onclick=function(i){console.log("********* post-view-edit onclick ********");var s=a.getAttribute("data-id");document.querySelectorAll(".post-view-parent-comment").forEach((function(a){if(a.getAttribute("data-id")===s&&"edit"!=a.getAttribute("mode")){a.setAttribute("mode","edit");var i='\n                <textarea data-id="'.concat(s,'" id="textedit-field-').concat(s,'">').concat(a.innerHTML,'</textarea>\n                <button id="edit-button-').concat(s,'" data-id="').concat(s,'" type="button" class="comment-edit-button" value="Edit Post">edit comment</button>\n              ');a.innerHTML=i,document.getElementById("edit-button-".concat(s)).onclick=function(i){for(var o=document.querySelector("#textedit-field-".concat(s)).value,c=null,u=0;u<t.posts.length;u++)t.posts[u].transaction.sig===s&&(c=t.posts[u]);var l=t.createEditPostTransaction(c.msg.title,o,c.msg.link,c.msg.forum,c.msg.images,s);e.network.propagateTransaction(l);for(var d=0;d<t.posts.length;d++)t.posts[d].transaction.sig===s&&(l.children=t.posts[d].children,t.posts[d]=l);a.setAttribute("mode","read"),a.innerHTML=o,document.querySelectorAll(".post-view-parent-comment, .post-view-edit").forEach((function(e){e.setAttribute("data-id",l.transaction.sig)})),r.attachEvents(e,t,n)}}}))}}));try{document.querySelectorAll(".post-view-comment-edit").forEach((function(r){r.onclick=function(n){var a=r.getAttribute("data-id");document.querySelectorAll(".post-view-comment-text").forEach((function(r){if(r.getAttribute("data-id")===a){var n='\n                <textarea data-id="'.concat(a,'" id="textedit-field-').concat(a,'">').concat(r.innerHTML,'</textarea>\n                <button id="edit-button-').concat(a,'" data-id="').concat(a,'" type="button" class="comment-edit-button" value="Edit Comment">edit comment</button>\n              ');r.innerHTML=n,document.getElementById("edit-button-".concat(a)).onclick=function(n){var i=document.querySelector("#textedit-field-".concat(a)).value,s=t.createEditTransaction(a,i);e.network.propagateTransaction(s);for(var o=0;o<t.comments.length;o++)t.comments[o].transaction.sig===a&&(s.children=t.comments[o].children,t.comments[o]=s);for(var c=0;c<t.posts.length;c++)t.posts[c].transaction.sig===a&&(s.children=t.posts[c].children,t.comments[c]=s);r.innerHTML=i}}}))}}))}catch(e){}document.querySelectorAll(".post-view-report").forEach((function(r){r.onclick=function(){var n=a(regeneratorRuntime.mark((function n(a){var i,s,o,c,u,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,sconfirm("Report this post or comments to the mods?");case 2:if(!n.sent){n.next=15;break}return i=r.getAttribute("data-id"),s=r.getAttribute("data-title"),o=r.getAttribute("data-text"),n.next=9,salert("Thank you for flagging this");case 9:for(c=0;c<t.posts.length;c++)t.posts[c].transaction.sig===i&&t.posts.splice(c,1);for(u=0;u<t.comments.length;u++)t.comments[u].transaction.sig===i&&t.comments.splice(u,1);t.render(),t.overlay.hideOverlay(),l=t.createReportTransaction(i,s,o),e.network.propagateTransaction(l);case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}))},addComment:function(e,t,r){e.browser.addElementToDom(c(e,t,r),"post-view-comments")}}},function(e,t,r){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}var a=r(342),i=r(54);e.exports=PostCreate={render:function(e,t){var r=this;this.new_post={},this.new_post.images=[],this.new_post.title="",this.new_post.comment="",this.new_post.link="",this.new_post.forum="",t.overlay=new i(e,t),t.overlay.render(e,t),t.overlay.attachEvents(e,t),t.overlay.showOverlay(e,t,a(),(function(){})),this.showTab("discussion"),document.querySelector(".post-create-header-discussion").onclick=function(e){r.showTab("discussion")},document.querySelector(".post-create-header-link").onclick=function(e){r.showTab("link")},document.querySelector(".post-create-header-image").onclick=function(e){r.showTab("image")},e.browser.addDragAndDropFileUploadToElement("post-create-image",(function(n){console.log(n),r.new_post.images.push(n),e.browser.addElementToDom('<div data-id="'.concat(r.new_post.images.length-1,'" class="post-create-image-preview"><img src="').concat(n,'" style="top: 0px; position: relative; float: left; height: 50px; width: auto; margin-left: auto; margin-right: auto;width: auto;" /></div>'),"post-create-image-preview-container"),r.attachEvents(e,t)}))},attachEvents:function(e,t){var r=this;document.querySelector(".post-submit-btn").onclick=function(n){if(r.new_post.title=document.querySelector(".post-create-title").value,r.new_post.comment=document.querySelector(".post-create-textarea").innerHTML,r.new_post.link=document.querySelector(".post-create-link-input").value,r.new_post.forum=document.querySelector(".post-create-forum").value,console.log("Submitted Title--\x3e"+r.new_post.title+"<---"),""!=r.new_post.title){var a=t.createPostTransaction(r.new_post.title,r.new_post.comment,r.new_post.link,r.new_post.forum,r.new_post.images);e.network.propagateTransaction(a),a.children=0,t.posts.push(a),t.render(),t.overlay.hideOverlay()}else salert("Please provide a title for your post!")},document.querySelectorAll(".post-create-image-preview").forEach((function(e){e.onclick=function(){var t,a=(t=regeneratorRuntime.mark((function t(n){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sconfirm("Do you want to delete this image?");case 2:t.sent&&(a=e.getAttribute("data-id"),e.destroy(),r.new_post.images.splice(a,1),document.querySelectorAll(".post-create-image-preview").forEach((function(e){var t=e.getAttribute("data-id");t>a&&e.setAttribute("data-id",t-1)})));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(a,i){var s=t.apply(e,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))});return function(e){return a.apply(this,arguments)}}()}))},showTab:function(e){var t=".post-create-header-"+e;document.querySelectorAll(".post-create-header-item").forEach((function(e){e.classList.remove("post-create-active")})),document.querySelector(t).classList.toggle("post-create-active"),"discussion"===e&&(document.querySelector(".post-create-link").style.display="none",document.querySelector(".post-create-image").style.display="none",document.querySelector(".post-create-textarea").style.display="block"),"link"===e&&(document.querySelector(".post-create-link").style.display="block",document.querySelector(".post-create-image").style.display="none",document.querySelector(".post-create-textarea").style.display="none"),"image"===e&&(document.querySelector(".post-create-link").style.display="none",document.querySelector(".post-create-image").style.display="block",document.querySelector(".post-create-textarea").style.display="none")}}},function(e,t){e.exports=PostStyleTemplate=function(e,t){return"\n  "}},function(e,t,r){"use strict";var n=r(1244),a=r(1245);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){a.isString(e)&&(e=v(e));return e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),d=["%","/","?",";","#"].concat(l),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=r(1246);function v(e,t,r){if(e&&a.isObject(e)&&e instanceof i)return e;var n=new i;return n.parse(e,t,r),n}i.prototype.parse=function(e,t,r){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),o=-1!==i&&i<e.indexOf("#")?"?":"#",u=e.split(o);u[0]=u[0].replace(/\\/g,"/");var v=e=u.join(o);if(v=v.trim(),!r&&1===e.split("#").length){var _=c.exec(v);if(_)return this.path=v,this.href=v,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=s.exec(v);if(w){var x=(w=w[0]).toLowerCase();this.protocol=x,v=v.substr(w.length)}if(r||w||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===v.substr(0,2);!k||w&&g[w]||(v=v.substr(2),this.slashes=!0)}if(!g[w]&&(k||w&&!y[w])){for(var S,O,P=-1,E=0;E<h.length;E++){-1!==(A=v.indexOf(h[E]))&&(-1===P||A<P)&&(P=A)}-1!==(O=-1===P?v.lastIndexOf("@"):v.lastIndexOf("@",P))&&(S=v.slice(0,O),v=v.slice(O+1),this.auth=decodeURIComponent(S)),P=-1;for(E=0;E<d.length;E++){var A;-1!==(A=v.indexOf(d[E]))&&(-1===P||A<P)&&(P=A)}-1===P&&(P=v.length),this.host=v.slice(0,P),v=v.slice(P),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var T=this.hostname.split(/\./),D=(E=0,T.length);E<D;E++){var j=T[E];if(j&&!j.match(p)){for(var M="",I=0,R=j.length;I<R;I++)j.charCodeAt(I)>127?M+="x":M+=j[I];if(!M.match(p)){var B=T.slice(0,E),N=T.slice(E+1),F=j.match(f);F&&(B.push(F[1]),N.unshift(F[2])),N.length&&(v="/"+N.join(".")+v),this.hostname=B.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=n.toASCII(this.hostname));var q=this.port?":"+this.port:"",L=this.hostname||"";this.host=L+q,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!m[x])for(E=0,D=l.length;E<D;E++){var H=l[E];if(-1!==v.indexOf(H)){var U=encodeURIComponent(H);U===H&&(U=escape(H)),v=v.split(H).join(U)}}var z=v.indexOf("#");-1!==z&&(this.hash=v.substr(z),v=v.slice(0,z));var V=v.indexOf("?");if(-1!==V?(this.search=v.substr(V),this.query=v.substr(V+1),t&&(this.query=b.parse(this.query)),v=v.slice(0,V)):t&&(this.search="",this.query={}),v&&(this.pathname=v),y[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){q=this.pathname||"";var G=this.search||"";this.path=q+G}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var o=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),t+i+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+n},i.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(a.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var r=new i,n=Object.keys(this),s=0;s<n.length;s++){var o=n[s];r[o]=this[o]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(r[l]=e[l])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var p=d[h];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||g[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",b=r.search||"";r.path=m+b}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||v||r.host&&e.pathname,x=w,k=r.pathname&&r.pathname.split("/")||[],S=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(""===k[0]?k[0]=r.host:k.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),w=w&&(""===f[0]||""===k[0])),_)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,k=f;else if(f.length)k||(k=[]),k.pop(),k=k.concat(f),r.search=e.search,r.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(S)r.hostname=r.host=k.shift(),(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift());return r.search=e.search,r.query=e.query,a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!k.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=k.slice(-1)[0],P=(r.host||e.host||k.length>1)&&("."===O||".."===O)||""===O,E=0,A=k.length;A>=0;A--)"."===(O=k[A])?k.splice(A,1):".."===O?(k.splice(A,1),E++):E&&(k.splice(A,1),E--);if(!w&&!x)for(;E--;E)k.unshift("..");!w||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),P&&"/"!==k.join("/").substr(-1)&&k.push("");var C,T=""===k[0]||k[0]&&"/"===k[0].charAt(0);S&&(r.hostname=r.host=T?"":k.length?k.shift():"",(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift()));return(w=w||r.host&&k.length)&&!T&&k.unshift(""),k.length?r.pathname=k.join("/"):(r.pathname=null,r.path=null),a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n={name:"@polkadot/keyring",version:"7.7.1"}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));const n="bottom drive obey lake curtain smoke basket hold race lonely fit walk",a="0xfac7959dbfe72f052e5a0c3c8d6530f202b02fd8f9f5ca3580ec8deb7797479e"},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n={name:"@polkadot/api-derive",version:"6.6.1"}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n={name:"@polkadot/rpc-core",version:"6.6.1"}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n={name:"@polkadot/types-known",version:"6.6.1"}},function(e,t,r){"use strict";r.d(t,"a",(function(){return ie}));var n=r(0),a=r(1),i=r(76),s=r(25),o=r(55),c=r(632),u=r(136),l=r(638),d=r(639),h=r(1304),p=r(191),f=r(1307),m=r(1312),g=r(135),y=r.n(g);function b(e){return function(e){Object(s.a)(e&&"string"==typeof e,"Expected non-null, non-empty base64 string input"),Object(s.a)(/^(?:[A-Za-z0-9+/]{2}[A-Za-z0-9+/]{2})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e),"Invalid base64 encoding")}(e),y.a.toByteArray(e)}var v=r(1309),_=r(649);const w=/^(\w+( \w+)*)((\/\/?[^/]+)*)(\/\/\/(.*))?$/;var x=r(62),k=r(60),S=r.n(k),O=r(16),P=r(56),E=r(112),A=r(79);function C(e,t){return function(e,t,r){return Uint8Array.from(S.a.hmac(r?S.a.sha512:S.a.sha256,e).update(t).digest())}(e,t,!0)}function T(e,t=Object(P.a)(),r=2048,n=!1){const a=Object(O.a)(e),i=Object(O.a)(t);return{password:Object(x.i)()&&!n?Object(x.k)(a,i,r):function(e,t,r,n=64){let a=new Uint8Array,i=0;const s=Object(E.a)(t,new Uint8Array(4));for(;a.length<n;){i++,s.set(Object(A.a)(i,{bitLength:32,isLe:!1}),t.length);let n=C(e,s);const o=n;let c=0;for(;++c<r;){n=C(e,n);let t=-1;for(;++t<n.length;)o[t]^=n[t]}a=Object(E.a)(a,o)}return a.slice(0,n)}(a,i,r),rounds:r,salt:t}}var D=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];function j(e){return(e||"").normalize("NFKD")}function M(e){return parseInt(e,2)}function I(e){return e.map(e=>e.toString(2).padStart(8,"0")).join("")}function R(e){const t=8*e.length/32,r=S.a.sha256().update(e).digest();return I(Array.from(r)).slice(0,t)}function B(e,t){return T(Object(u.a)(j(e)),Object(u.a)("mnemonic"+j(t))).password}function N(e){var t;const r=j(e).split(" ");Object(s.a)(r.length%3==0,"Invalid mnemonic");const n=r.map(e=>{const t=D.indexOf(e);return Object(s.a)(-1!==t,"Invalid mnemonic"),t.toString(2).padStart(11,"0")}).join(""),a=32*Math.floor(n.length/33),i=n.slice(0,a),o=n.slice(a),c=null===(t=i.match(/(.{1,8})/g))||void 0===t?void 0:t.map(M);Object(s.a)(c&&c.length%4==0&&c.length>=16&&c.length<=32,"Invalid entropy");const u=Object(O.a)(c),l=R(u);return Object(s.a)(l===o,"Invalid mnemonic checksum"),u}function F(e,t=!1){return Object(x.i)()&&!t?Object(x.d)(e):function(e){try{N(e)}catch(e){return!1}return!0}(e)}function q(e,t="",r=!1){if(Object(s.a)(F(e),"Invalid bip39 mnemonic specified"),Object(x.i)()&&!r)return Object(x.b)(e,t);return T(function(e,t=!1){return Object(x.i)()&&!t?Object(x.a)(e):N(e)}(e),Object(u.a)("mnemonic"+t)).password.slice(0,32)}var L=r(192),H=r(8),U=r.n(H);const z=r(28).b.curve;const V=Object(u.a)("Bitcoin seed");function G(e,t){return{chainCode:t,publicKey:Object(l.a)(e).publicKey,secretKey:e}}function W(e,t){const r=Object(A.a)(t,{bitLength:32,isLe:!1}),n=t>=2147483648?Object(E.a)(new Uint8Array(1),e.secretKey,r):Object(E.a)(e.publicKey,r);try{const t=C(e.chainCode,n);return G(function(e,t){Object(s.a)(Object(L.a)(e)&&32===e.length,"Expected seckey to be an Uint8Array with length 32"),Object(s.a)(Object(L.a)(t)&&32===t.length,"Expected tweak to be an Uint8Array with length 32");const r=new U.a(t);return Object(s.a)(r.cmp(z.n)<0,"Tweak parameter is out of range"),r.iadd(new U.a(e)),r.cmp(z.n)>=0&&r.isub(z.n),Object(s.a)(!r.isZero(),"Invalid resulting private key"),Object(A.a)(r,{bitLength:256,isLe:!1})}(e.secretKey,t.slice(0,32)),t.slice(32))}catch(r){return W(e,t+1)}}function K(e,t=""){const r=C(V,e);let n=G(r.slice(0,32),r.slice(32));if(!t||"m"===t||"M"===t||"m'"===t||"M'"===t)return n;Object(s.a)(function(e){if(!e.startsWith("m/"))return!1;const t=e.split("/").slice(1);for(const e of t){const t=/^\d+'?$/.test(e)?parseInt(e.replace(/'$/,""),10):Number.NaN;if(isNaN(t)||t>=2147483648||t<0)return!1}return!0}(t),"Invalid derivation path");const a=t.split("/").slice(1);for(const e of a)n=W(n,parseInt(e,10)+(e.length>1&&e.endsWith("'")?2147483648:0));return n}var Y=r(1311),X=r(178),J=r(57),Q=r(78),Z=Object(a.a)("map");class ${constructor(){Object.defineProperty(this,Z,{writable:!0,value:{}})}add(e){return Object(n.a)(this,Z)[Z][Object(p.a)(e.address).toString()]=e,e}all(){return Object.values(Object(n.a)(this,Z)[Z])}get(e){const t=Object(n.a)(this,Z)[Z][Object(p.a)(e).toString()];return Object(s.a)(t,()=>`Unable to retrieve keypair '${Object(L.a)(e)||Object(o.a)(e)?Object(Q.a)(Object(O.a)(e)):e}'`),t}remove(e){delete Object(n.a)(this,Z)[Z][Object(p.a)(e).toString()]}}const ee={ecdsa:e=>Object(l.a)(e),ed25519:e=>Object(d.a)(e),ethereum:e=>Object(l.a)(e),sr25519:e=>Object(h.a)(e)};function te({publicKey:e}){return e}var re=Object(a.a)("pairs"),ne=Object(a.a)("type"),ae=Object(a.a)("ss58");class ie{constructor(e={}){Object.defineProperty(this,re,{writable:!0,value:void 0}),Object.defineProperty(this,ne,{writable:!0,value:void 0}),Object.defineProperty(this,ae,{writable:!0,value:void 0}),this.decodeAddress=p.a,this.encodeAddress=(e,t)=>"ethereum"===this.type?Object(f.a)(e):Object(m.a)(e,Object(i.a)(t)?Object(n.a)(this,ae)[ae]:t),e.type=e.type||"ed25519",Object(s.a)(["ecdsa","ethereum","ed25519","sr25519"].includes(e.type||"undefined"),()=>"Expected a keyring type of either 'ed25519', 'sr25519', 'ethereum' or 'ecdsa', found '"+(e.type||"unknown")),Object(n.a)(this,re)[re]=new $,Object(n.a)(this,ae)[ae]=e.ss58Format,Object(n.a)(this,ne)[ne]=e.type}get pairs(){return this.getPairs()}get publicKeys(){return this.getPublicKeys()}get type(){return Object(n.a)(this,ne)[ne]}addPair(e){return Object(n.a)(this,re)[re].add(e)}addFromAddress(e,t={},r=null,n=this.type,a,i){const s=this.decodeAddress(e,a);return this.addPair(Object(J.a)({toSS58:this.encodeAddress,type:n},{publicKey:s,secretKey:new Uint8Array},t,r,i))}addFromJson(e,t){return this.addPair(this.createFromJson(e,t))}addFromMnemonic(e,t={},r=this.type){return this.addFromUri(e,t,r)}addFromPair(e,t={},r=this.type){return this.addPair(this.createFromPair(e,t,r))}addFromSeed(e,t={},r=this.type){return this.addPair(Object(J.a)({toSS58:this.encodeAddress,type:r},ee[r](e),t,null))}addFromUri(e,t={},r=this.type){return this.addPair(this.createFromUri(e,t,r))}createFromJson({address:e,encoded:t,encoding:{content:r,type:n,version:a},meta:i},u){Object(s.a)("3"!==a||"pkcs8"===r[0],()=>`Unable to decode non-pkcs8 type, [${r.join(",")}] found}`);const l="0"!==a&&Array.isArray(r)?r[1]:this.type,d=Array.isArray(n)?n:[n];Object(s.a)(["ed25519","sr25519","ecdsa","ethereum"].includes(l),()=>"Unknown crypto type "+l);const h=Object(o.a)(e)?Object(c.a)(e):this.decodeAddress(e,u),p=Object(o.a)(t)?Object(c.a)(t):b(t);return Object(J.a)({toSS58:this.encodeAddress,type:l},{publicKey:h,secretKey:new Uint8Array},i,p,d)}createFromPair(e,t={},r=this.type){return Object(J.a)({toSS58:this.encodeAddress,type:r},e,t,null)}createFromUri(e,t={},r=this.type){const n=e.startsWith("//")?`${X.a}${e}`:e,{derivePath:a,password:i,path:l,phrase:d}=function(e){const t=e.match(w);Object(s.a)(!Object(v.a)(t),"Unable to match provided value to a secret URI");const[,r,,n,,,a]=t,{path:i}=Object(_.a)(n);return{derivePath:n,password:a,path:i,phrase:r}}(n);let h;const p=Object(o.a)(d,256);if(p)h=Object(c.a)(d);else{const e=d.split(" ");[12,15,18,21,24].includes(e.length)?h="ethereum"===r?function(e,t="",r=!1,n=32){return Object(s.a)(F(e),"Invalid bip39 mnemonic specified"),Object(s.a)([32,64].includes(n),()=>`Invalid seed length ${n}, expected 32 or 64`),32===n?Object(x.i)()&&!r?Object(x.c)(e,t):B(e,t).subarray(0,32):64===n?B(e,t):new Uint8Array}(d,"",!1,64):q(d,i):(Object(s.a)(d.length<=32,"specified phrase is not a valid mnemonic and is invalid as a raw seed at > 32 bytes"),h=Object(u.a)(d.padEnd(32)))}const f="ethereum"===r?p?ee[r](h):K(h,a.substring(1)):Object(Y.a)(ee[r](h),l,r);return Object(J.a)({toSS58:this.encodeAddress,type:r},f,t,null)}getPair(e){return Object(n.a)(this,re)[re].get(e)}getPairs(){return Object(n.a)(this,re)[re].all()}getPublicKeys(){return Object(n.a)(this,re)[re].all().map(te)}removePair(e){Object(n.a)(this,re)[re].remove(e)}setSS58Format(e){Object(n.a)(this,ae)[ae]=e}toJson(e,t){return Object(n.a)(this,re)[re].get(e).toJson(t)}}},function(e,t,r){"use strict";(function(e){function n(t){return void 0!==e&&e.isBuffer(t)}r.d(t,"a",(function(){return n}))}).call(this,r(11).Buffer)},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(136),a=r(112),i=r(75);const s=Object(n.a)("SS58PRE");function o(e){return Object(i.a)(Object(a.a)(s,e),512)}},function(e,t,r){"use strict";function n(e){return crypto.getRandomValues(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){return"number"==typeof e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(3),a=r(8),i=r.n(a),s=r(111),o=r(193);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t={isLe:!1,isNegative:!1}){if(!e)return new i.a(0);const r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isLe:!1,isNegative:!1},Object(s.a)(t)?{isLe:t}:t),a=Object(o.a)(e),u=new i.a((r.isLe?function(e){return(e.match(/.{1,2}/g)||[]).reverse().join("")}(a):a)||"00",16);return r.isNegative?u.fromTwos(4*a.length):u}},function(e,t,r){"use strict";function n(e){return"bigint"==typeof e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(16),a=r(25);function i(e){const t=Object(n.a)(e);return Object(a.a)(96===t.length,()=>"Expected keypair with 96 bytes, found "+t.length),{publicKey:t.slice(64,96),secretKey:t.slice(0,64)}}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,a="~";function i(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,r,n,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new s(r,n||e,i),c=a?a+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function c(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(a=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,s=new Array(i);n<i;n++)s[n]=r[n].fn;return s},u.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,n,i,s){var o=a?a+e:e;if(!this._events[o])return!1;var c,u,l=this._events[o],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,n),!0;case 5:return l.fn.call(l.context,t,r,n,i),!0;case 6:return l.fn.call(l.context,t,r,n,i,s),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,n);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},u.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,n){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return c(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||n&&!s.once||r&&s.context!==r||c(this,i);else{for(var o=0,u=[],l=s.length;o<l;o++)(s[o].fn!==t||n&&!s[o].once||r&&s[o].context!==r)&&u.push(s[o]);u.length?this._events[i]=1===u.length?u[0]:u:c(this,i)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&c(this,t)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=a,u.EventEmitter=u,e.exports=u},function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r(25),a=r(192),i=r(55),s=r(16),o=r(1301),c=r(110);const u=function({alphabet:e,ipfsChar:t,type:r}){return(a,i)=>{Object(n.a)(a&&"string"==typeof a,()=>`Expected non-null, non-empty ${r} string input`),Object(n.a)(!i||a[0]===t,()=>`Expected ${r} to start with '${t}'`);for(let t=i?1:0;t<a.length;t++)Object(n.a)(e.includes(a[t]),()=>`Invalid ${r} character "${a[t]}" (0x${a.charCodeAt(t).toString(16)}) at index ${t}`);return!0}}({alphabet:c.a,ipfsChar:"z",type:"base58"});var l=r(184);var d=r(77);function h(e,t,r=-1){if(Object(n.a)(e,"Invalid empty address passed"),Object(a.a)(e)||Object(i.a)(e))return Object(s.a)(e);try{const a=(u(h=e,p),Object(o.a)(c.b.decode(h.substr(p?1:0))));Object(n.a)(d.a.allowedEncodedLengths.includes(a.length),"Invalid decoded address length");const[i,s,f,m]=function(e){const t=64&e[0]?2:1,r=1===t?e[0]:(63&e[0])<<2|e[1]>>6|(63&e[1])<<8,n=[34+t,35+t].includes(e.length),a=e.length-(n?2:1),i=Object(l.a)(e.subarray(0,a));return[0==(128&e[0])&&![46,47].includes(e[0])&&(n?e[e.length-2]===i[0]&&e[e.length-1]===i[1]:e[e.length-1]===i[0]),a,t,r]}(a);return Object(n.a)(t||i,"Invalid decoded address checksum"),Object(n.a)([-1,m].includes(r),()=>`Expected ss58Format ${r}, received ${m}`),a.slice(f,s)}catch(t){throw new Error(`Decoding ${e}: ${t.message}`)}var h,p}},function(e,t,r){"use strict";function n(e){return function(e,t){return e instanceof t}(e,Uint8Array)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(55);const a=/^[a-fA-F0-9]+$/;function i(e){if(!e)return"";if(function(e){return!(!e||!Object(n.a)(e,-1,!0)||"0x"!==e.substr(0,2))}(e))return e.substr(2);if(a.test(e))return e;throw new Error(`Invalid hex ${e} passed to hexStripPrefix`)}},function(e,t){e.exports={bytes:"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",sizeCompressed:152872,sizeUncompressed:300043}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(16);function a(e,t){return e.length===t.length&&0===function(e,t){return function(e,t){let r=0;for(;;){const n=r>=e.length,a=r>=t.length;if(n&&a)return 0;if(n)return-1;if(a)return 1;if(e[r]!==t[r])return e[r]>t[r]?1:-1;r++}}(Object(n.a)(e),Object(n.a)(t))}(e,t)}function i(e,t){return a(Object(n.a)(e),Object(n.a)(t))}},,function(e,t,r){var n=r(15),a=r(13).document,i=n(a)&&n(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},function(e,t,r){var n=r(13),a=r(42),i=r(64),s=r(379),o=r(21).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||o(t,e,{value:s.f(e)})}},function(e,t,r){var n=r(116)("keys"),a=r(81);e.exports=function(e){return n[e]||(n[e]=a(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(13).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(15),a=r(10),i=function(e,t){if(a(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(43)(Function.call,r(37).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return i(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:i}},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,r){var n=r(15),a=r(202).set;e.exports=function(e,t,r){var i,s=t.constructor;return s!==r&&"function"==typeof s&&(i=s.prototype)!==r.prototype&&n(i)&&a&&a(e,i),e}},function(e,t,r){"use strict";var n=r(45),a=r(49);e.exports=function(e){var t=String(a(this)),r="",i=n(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(r+=t);return r}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var r=Math.expm1;e.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:r},function(e,t,r){"use strict";var n=r(64),a=r(4),i=r(33),s=r(32),o=r(100),c=r(209),u=r(97),l=r(38),d=r(17)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,r,f,m,g,y){c(r,t,f);var b,v,_,w=function(e){if(!h&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},x=t+" Iterator",k="values"==m,S=!1,O=e.prototype,P=O[d]||O["@@iterator"]||m&&O[m],E=P||w(m),A=m?k?w("entries"):E:void 0,C="Array"==t&&O.entries||P;if(C&&(_=l(C.call(new e)))!==Object.prototype&&_.next&&(u(_,x,!0),n||"function"==typeof _[d]||s(_,d,p)),k&&P&&"values"!==P.name&&(S=!0,E=function(){return P.call(this)}),n&&!y||!h&&!S&&O[d]||s(O,d,E),o[t]=E,o[x]=p,m)if(b={values:k?E:w("values"),keys:g?E:w("keys"),entries:A},y)for(v in b)v in O||i(O,v,b[v]);else a(a.P+a.F*(h||S),t,b);return b}},function(e,t,r){"use strict";var n=r(84),a=r(80),i=r(97),s={};r(32)(s,r(17)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(s,{next:a(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(141),a=r(49);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(a(e))}},function(e,t,r){var n=r(17)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,r){var n=r(100),a=r(17)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[a]===e)}},function(e,t,r){"use strict";var n=r(21),a=r(80);e.exports=function(e,t,r){t in e?n.f(e,t,a(0,r)):e[t]=r}},function(e,t,r){var n=r(98),a=r(17)("iterator"),i=r(100);e.exports=r(42).getIteratorMethod=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[n(e)]}},function(e,t,r){var n=r(758);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){"use strict";var n=r(23),a=r(83),i=r(18);e.exports=function(e){for(var t=n(this),r=i(t.length),s=arguments.length,o=a(s>1?arguments[1]:void 0,r),c=s>2?arguments[2]:void 0,u=void 0===c?r:a(c,r);u>o;)t[o++]=e;return t}},function(e,t,r){"use strict";var n=r(66),a=r(396),i=r(100),s=r(36);e.exports=r(208)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t,r){"use strict";var n,a,i=r(119),s=RegExp.prototype.exec,o=String.prototype.replace,c=s,u=(n=/a/,a=/b*/g,s.call(n,"a"),s.call(a,"a"),0!==n.lastIndex||0!==a.lastIndex),l=void 0!==/()??/.exec("")[1];(u||l)&&(c=function(e){var t,r,n,a,c=this;return l&&(r=new RegExp("^"+c.source+"$(?!\\s)",i.call(c))),u&&(t=c.lastIndex),n=s.call(c,e),u&&n&&(c.lastIndex=c.global?n.index+n[0].length:t),l&&n&&n.length>1&&o.call(n[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(n[a]=void 0)})),n}),e.exports=c},function(e,t,r){"use strict";var n=r(140)(!0);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){var n,a,i,s=r(43),o=r(386),c=r(201),u=r(197),l=r(13),d=l.process,h=l.setImmediate,p=l.clearImmediate,f=l.MessageChannel,m=l.Dispatch,g=0,y={},b=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},v=function(e){b.call(e.data)};h&&p||(h=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++g]=function(){o("function"==typeof e?e:Function(e),t)},n(g),g},p=function(e){delete y[e]},"process"==r(44)(d)?n=function(e){d.nextTick(s(b,e,1))}:m&&m.now?n=function(e){m.now(s(b,e,1))}:f?(i=(a=new f).port2,a.port1.onmessage=v,n=s(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",v,!1)):n="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),b.call(e)}}:function(e){setTimeout(s(b,e,1),0)}),e.exports={set:h,clear:p}},function(e,t,r){var n=r(13),a=r(220).set,i=n.MutationObserver||n.WebKitMutationObserver,s=n.process,o=n.Promise,c="process"==r(44)(s);e.exports=function(){var e,t,r,u=function(){var n,a;for(c&&(n=s.domain)&&n.exit();e;){a=e.fn,e=e.next;try{a()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(c)r=function(){s.nextTick(u)};else if(!i||n.navigator&&n.navigator.standalone)if(o&&o.resolve){var l=o.resolve(void 0);r=function(){l.then(u)}}else r=function(){a.call(n,u)};else{var d=!0,h=document.createTextNode("");new i(u).observe(h,{characterData:!0}),r=function(){h.data=d=!d}}return function(n){var a={fn:n,next:void 0};t&&(t.next=a),e||(e=a,r()),t=a}}},function(e,t,r){"use strict";var n=r(29);function a(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)}e.exports.f=function(e){return new a(e)}},function(e,t,r){"use strict";var n=r(13),a=r(20),i=r(64),s=r(147),o=r(32),c=r(89),u=r(14),l=r(87),d=r(45),h=r(18),p=r(406),f=r(85).f,m=r(21).f,g=r(216),y=r(97),b=n.ArrayBuffer,v=n.DataView,_=n.Math,w=n.RangeError,x=n.Infinity,k=b,S=_.abs,O=_.pow,P=_.floor,E=_.log,A=_.LN2,C=a?"_b":"buffer",T=a?"_l":"byteLength",D=a?"_o":"byteOffset";function j(e,t,r){var n,a,i,s=new Array(r),o=8*r-t-1,c=(1<<o)-1,u=c>>1,l=23===t?O(2,-24)-O(2,-77):0,d=0,h=e<0||0===e&&1/e<0?1:0;for((e=S(e))!=e||e===x?(a=e!=e?1:0,n=c):(n=P(E(e)/A),e*(i=O(2,-n))<1&&(n--,i*=2),(e+=n+u>=1?l/i:l*O(2,1-u))*i>=2&&(n++,i/=2),n+u>=c?(a=0,n=c):n+u>=1?(a=(e*i-1)*O(2,t),n+=u):(a=e*O(2,u-1)*O(2,t),n=0));t>=8;s[d++]=255&a,a/=256,t-=8);for(n=n<<t|a,o+=t;o>0;s[d++]=255&n,n/=256,o-=8);return s[--d]|=128*h,s}function M(e,t,r){var n,a=8*r-t-1,i=(1<<a)-1,s=i>>1,o=a-7,c=r-1,u=e[c--],l=127&u;for(u>>=7;o>0;l=256*l+e[c],c--,o-=8);for(n=l&(1<<-o)-1,l>>=-o,o+=t;o>0;n=256*n+e[c],c--,o-=8);if(0===l)l=1-s;else{if(l===i)return n?NaN:u?-x:x;n+=O(2,t),l-=s}return(u?-1:1)*n*O(2,l-t)}function I(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function R(e){return[255&e]}function B(e){return[255&e,e>>8&255]}function N(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function F(e){return j(e,52,8)}function q(e){return j(e,23,4)}function L(e,t,r){m(e.prototype,t,{get:function(){return this[r]}})}function H(e,t,r,n){var a=p(+r);if(a+t>e[T])throw w("Wrong index!");var i=e[C]._b,s=a+e[D],o=i.slice(s,s+t);return n?o:o.reverse()}function U(e,t,r,n,a,i){var s=p(+r);if(s+t>e[T])throw w("Wrong index!");for(var o=e[C]._b,c=s+e[D],u=n(+a),l=0;l<t;l++)o[c+l]=u[i?l:t-l-1]}if(s.ABV){if(!u((function(){b(1)}))||!u((function(){new b(-1)}))||u((function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name}))){for(var z,V=(b=function(e){return l(this,b),new k(p(e))}).prototype=k.prototype,G=f(k),W=0;G.length>W;)(z=G[W++])in b||o(b,z,k[z]);i||(V.constructor=b)}var K=new v(new b(2)),Y=v.prototype.setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||c(v.prototype,{setInt8:function(e,t){Y.call(this,e,t<<24>>24)},setUint8:function(e,t){Y.call(this,e,t<<24>>24)}},!0)}else b=function(e){l(this,b,"ArrayBuffer");var t=p(e);this._b=g.call(new Array(t),0),this[T]=t},v=function(e,t,r){l(this,v,"DataView"),l(e,b,"DataView");var n=e[T],a=d(t);if(a<0||a>n)throw w("Wrong offset!");if(a+(r=void 0===r?n-a:h(r))>n)throw w("Wrong length!");this[C]=e,this[D]=a,this[T]=r},a&&(L(b,"byteLength","_l"),L(v,"buffer","_b"),L(v,"byteLength","_l"),L(v,"byteOffset","_o")),c(v.prototype,{getInt8:function(e){return H(this,1,e)[0]<<24>>24},getUint8:function(e){return H(this,1,e)[0]},getInt16:function(e){var t=H(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=H(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return I(H(this,4,e,arguments[1]))},getUint32:function(e){return I(H(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return M(H(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return M(H(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){U(this,1,e,R,t)},setUint8:function(e,t){U(this,1,e,R,t)},setInt16:function(e,t){U(this,2,e,B,t,arguments[2])},setUint16:function(e,t){U(this,2,e,B,t,arguments[2])},setInt32:function(e,t){U(this,4,e,N,t,arguments[2])},setUint32:function(e,t){U(this,4,e,N,t,arguments[2])},setFloat32:function(e,t){U(this,4,e,q,t,arguments[2])},setFloat64:function(e,t){U(this,8,e,F,t,arguments[2])}});y(b,"ArrayBuffer"),y(v,"DataView"),o(v.prototype,s.VIEW,!0),t.ArrayBuffer=b,t.DataView=v},function(e,t,r){"use strict";var n=r(7),a=r(415),i=r(9).Buffer,s=new Array(16);function o(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function u(e,t,r,n,a,i,s){return c(e+(t&r|~t&n)+a+i|0,s)+t|0}function l(e,t,r,n,a,i,s){return c(e+(t&n|r&~n)+a+i|0,s)+t|0}function d(e,t,r,n,a,i,s){return c(e+(t^r^n)+a+i|0,s)+t|0}function h(e,t,r,n,a,i,s){return c(e+(r^(t|~n))+a+i|0,s)+t|0}n(o,a),o.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,a=this._c,i=this._d;r=u(r,n,a,i,e[0],3614090360,7),i=u(i,r,n,a,e[1],3905402710,12),a=u(a,i,r,n,e[2],606105819,17),n=u(n,a,i,r,e[3],3250441966,22),r=u(r,n,a,i,e[4],4118548399,7),i=u(i,r,n,a,e[5],1200080426,12),a=u(a,i,r,n,e[6],2821735955,17),n=u(n,a,i,r,e[7],4249261313,22),r=u(r,n,a,i,e[8],1770035416,7),i=u(i,r,n,a,e[9],2336552879,12),a=u(a,i,r,n,e[10],4294925233,17),n=u(n,a,i,r,e[11],2304563134,22),r=u(r,n,a,i,e[12],1804603682,7),i=u(i,r,n,a,e[13],4254626195,12),a=u(a,i,r,n,e[14],2792965006,17),r=l(r,n=u(n,a,i,r,e[15],1236535329,22),a,i,e[1],4129170786,5),i=l(i,r,n,a,e[6],3225465664,9),a=l(a,i,r,n,e[11],643717713,14),n=l(n,a,i,r,e[0],3921069994,20),r=l(r,n,a,i,e[5],3593408605,5),i=l(i,r,n,a,e[10],38016083,9),a=l(a,i,r,n,e[15],3634488961,14),n=l(n,a,i,r,e[4],3889429448,20),r=l(r,n,a,i,e[9],568446438,5),i=l(i,r,n,a,e[14],3275163606,9),a=l(a,i,r,n,e[3],4107603335,14),n=l(n,a,i,r,e[8],1163531501,20),r=l(r,n,a,i,e[13],2850285829,5),i=l(i,r,n,a,e[2],4243563512,9),a=l(a,i,r,n,e[7],1735328473,14),r=d(r,n=l(n,a,i,r,e[12],2368359562,20),a,i,e[5],4294588738,4),i=d(i,r,n,a,e[8],2272392833,11),a=d(a,i,r,n,e[11],1839030562,16),n=d(n,a,i,r,e[14],4259657740,23),r=d(r,n,a,i,e[1],2763975236,4),i=d(i,r,n,a,e[4],1272893353,11),a=d(a,i,r,n,e[7],4139469664,16),n=d(n,a,i,r,e[10],3200236656,23),r=d(r,n,a,i,e[13],681279174,4),i=d(i,r,n,a,e[0],3936430074,11),a=d(a,i,r,n,e[3],3572445317,16),n=d(n,a,i,r,e[6],76029189,23),r=d(r,n,a,i,e[9],3654602809,4),i=d(i,r,n,a,e[12],3873151461,11),a=d(a,i,r,n,e[15],530742520,16),r=h(r,n=d(n,a,i,r,e[2],3299628645,23),a,i,e[0],4096336452,6),i=h(i,r,n,a,e[7],1126891415,10),a=h(a,i,r,n,e[14],2878612391,15),n=h(n,a,i,r,e[5],4237533241,21),r=h(r,n,a,i,e[12],1700485571,6),i=h(i,r,n,a,e[3],2399980690,10),a=h(a,i,r,n,e[10],4293915773,15),n=h(n,a,i,r,e[1],2240044497,21),r=h(r,n,a,i,e[8],1873313359,6),i=h(i,r,n,a,e[15],4264355552,10),a=h(a,i,r,n,e[6],2734768916,15),n=h(n,a,i,r,e[13],1309151649,21),r=h(r,n,a,i,e[4],4149444226,6),i=h(i,r,n,a,e[11],3174756917,10),a=h(a,i,r,n,e[2],718787259,15),n=h(n,a,i,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+a|0,this._d=this._d+i|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=i.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=o},function(e,t,r){"use strict";var n=r(103).codes.ERR_STREAM_PREMATURE_CLOSE;function a(){}e.exports=function e(t,r,i){if("function"==typeof r)return e(t,null,r);r||(r={}),i=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];e.apply(this,n)}}}(i||a);var s=r.readable||!1!==r.readable&&t.readable,o=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){o=!1,u=!0,s||i.call(t)},d=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,d=!0,o||i.call(t)},p=function(e){i.call(t,e)},f=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new n),i.call(t,e)):o&&!u?(t._writableState&&t._writableState.ended||(e=new n),i.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?o&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",f),t.req?m():t.on("request",m)),t.on("end",h),t.on("finish",l),!1!==r.error&&t.on("error",p),t.on("close",f),function(){t.removeListener("complete",l),t.removeListener("abort",f),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",h),t.removeListener("error",p),t.removeListener("close",f)}}},function(e,t,r){"use strict";var n=r(11).Buffer,a=r(7),i=r(415),s=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function p(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function f(e,t){return e<<t|e>>>32-t}function m(e,t,r,n,a,i,s,o){return f(e+(t^r^n)+i+s|0,o)+a|0}function g(e,t,r,n,a,i,s,o){return f(e+(t&r|~t&n)+i+s|0,o)+a|0}function y(e,t,r,n,a,i,s,o){return f(e+((t|~r)^n)+i+s|0,o)+a|0}function b(e,t,r,n,a,i,s,o){return f(e+(t&n|r&~n)+i+s|0,o)+a|0}function v(e,t,r,n,a,i,s,o){return f(e+(t^(r|~n))+i+s|0,o)+a|0}a(p,i),p.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,a=0|this._c,i=0|this._d,p=0|this._e,_=0|this._a,w=0|this._b,x=0|this._c,k=0|this._d,S=0|this._e,O=0;O<80;O+=1){var P,E;O<16?(P=m(r,n,a,i,p,e[o[O]],d[0],u[O]),E=v(_,w,x,k,S,e[c[O]],h[0],l[O])):O<32?(P=g(r,n,a,i,p,e[o[O]],d[1],u[O]),E=b(_,w,x,k,S,e[c[O]],h[1],l[O])):O<48?(P=y(r,n,a,i,p,e[o[O]],d[2],u[O]),E=y(_,w,x,k,S,e[c[O]],h[2],l[O])):O<64?(P=b(r,n,a,i,p,e[o[O]],d[3],u[O]),E=g(_,w,x,k,S,e[c[O]],h[3],l[O])):(P=v(r,n,a,i,p,e[o[O]],d[4],u[O]),E=m(_,w,x,k,S,e[c[O]],h[4],l[O])),r=p,p=i,i=f(a,10),a=n,n=P,_=S,S=k,k=f(x,10),x=w,w=E}var A=this._b+a+k|0;this._b=this._c+i+S|0,this._c=this._d+p+_|0,this._d=this._e+r+w|0,this._e=this._a+n+x|0,this._a=A},p.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=p},function(e,t,r){(t=e.exports=function(e){e=e.toLowerCase();var r=t[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r}).sha=r(884),t.sha1=r(885),t.sha224=r(886),t.sha256=r(424),t.sha384=r(887),t.sha512=r(425)},function(e,t,r){(t=e.exports=r(426)).Stream=t,t.Readable=t,t.Writable=r(230),t.Duplex=r(91),t.Transform=r(430),t.PassThrough=r(893)},function(e,t,r){var n=r(11),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s),i(a,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";(function(t,n,a){var i=r(151);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var a=n.callback;t.pendingcb--,a(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var o,c=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:i.nextTick;b.WritableState=y;var u=Object.create(r(121));u.inherits=r(7);var l={deprecate:r(422)},d=r(427),h=r(229).Buffer,p=a.Uint8Array||function(){};var f,m=r(428);function g(){}function y(e,t){o=o||r(91),e=e||{};var n=t instanceof o;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var a=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:n&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){--t.pendingcb,r?(i.nextTick(a,n),i.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(a(n),e._writableState.errorEmitted=!0,e.emit("error",n),S(e,t))}(e,r,n,t,a);else{var s=x(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?c(_,e,r,s,a):_(e,r,s,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function b(e){if(o=o||r(91),!(f.call(b,this)||this instanceof o))return new b(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function v(e,t,r,n,a,i,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function _(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),S(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,a=new Array(n),i=t.corkedRequestsFree;i.entry=r;for(var o=0,c=!0;r;)a[o]=r,r.isBuf||(c=!1),r=r.next,o+=1;a.allBuffers=c,v(e,t,!0,t.length,a,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(v(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var r=x(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(k,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(b,d),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===b&&(e&&e._writableState instanceof y)}})):f=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,r){var n,a=this._writableState,s=!1,o=!a.objectMode&&(n=e,h.isBuffer(n)||n instanceof p);return o&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=g),a.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(o||function(e,t,r,n){var a=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),i.nextTick(n,s),a=!1),a}(this,a,e,r))&&(a.pendingcb++,s=function(e,t,r,n,a,i){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,r));return t}(t,n,a);n!==s&&(r=!0,a="buffer",n=s)}var o=t.objectMode?1:n.length;t.length+=o;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:i,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,o,n,a,i);return c}(this,a,o,e,t,r)),s},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,S(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(19),r(429).setImmediate,r(26))},function(e,t,r){"use strict";var n=r(39);function a(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=a,a.prototype._init=function(){},a.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},a.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},a.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},a.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,a=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(a,r)));for(var i=e.length-(e.length-t)%this.blockSize;t<i;t+=this.blockSize)this._update(e,t,a,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return a},a.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,a=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(a,r);return t+=this._buffer(e,t),a},a.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},a.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},a.prototype._unpad=function(e){return e},a.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,r){var n=r(906),a=r(914),i=r(443);t.createCipher=t.Cipher=n.createCipher,t.createCipheriv=t.Cipheriv=n.createCipheriv,t.createDecipher=t.Decipher=a.createDecipher,t.createDecipheriv=t.Decipheriv=a.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(i)}},function(e,t,r){var n={ECB:r(907),CBC:r(908),CFB:r(909),CFB8:r(910),CFB1:r(911),OFB:r(912),CTR:r(441),GCM:r(441)},a=r(443);for(var i in a)a[i].module=n[a[i].mode];e.exports=a},function(e,t,r){var n;function a(e){this.rand=e}if(e.exports=function(e){return n||(n=new a(null)),n.generate(e)},e.exports.Rand=a,a.prototype.generate=function(e){return this._rand(e)},a.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?a.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?a.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(a.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var i=r(918);if("function"!=typeof i.randomBytes)throw new Error("Not supported");a.prototype._rand=function(e){return i.randomBytes(e)}}catch(e){}},function(e,t,r){(function(t){var n=r(923),a=r(101);function i(e){var t,r=e.modulus.byteLength();do{t=new n(a(r))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function s(e,r){var a=function(e){var t=i(e);return{blinder:t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(r),s=r.modulus.byteLength(),o=new n(e).mul(a.blinder).umod(r.modulus),c=o.toRed(n.mont(r.prime1)),u=o.toRed(n.mont(r.prime2)),l=r.coefficient,d=r.prime1,h=r.prime2,p=c.redPow(r.exponent1).fromRed(),f=u.redPow(r.exponent2).fromRed(),m=p.isub(f).imul(l).umod(d).imul(h);return f.iadd(m).imul(a.unblinder).umod(r.modulus).toArrayLike(t,"be",s)}s.getr=i,e.exports=s}).call(this,r(11).Buffer)},function(e,t,r){"use strict";var n,a=t,i=r(60),s=r(449),o=r(40).assert;function c(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(a,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(a,e,{configurable:!0,enumerable:!0,value:r}),r}})}a.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(935)}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},function(e,t,r){"use strict";(function(t){var n,a=r(11),i=a.Buffer,s={};for(n in a)a.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(s[n]=a[n]);var o=s.Buffer={};for(n in i)i.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(o[n]=i[n]);if(s.Buffer.prototype=i.prototype,o.from&&o.from!==Uint8Array.from||(o.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return i(e,t,r)}),o.alloc||(o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=i(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!s.kStringMaxLength)try{s.kStringMaxLength=t.binding("buffer").kStringMaxLength}catch(e){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s}).call(this,r(19))},function(e,t,r){"use strict";const n=r(239).Reporter,a=r(124).EncoderBuffer,i=r(124).DecoderBuffer,s=r(39),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function u(e,t,r){const n={};this._baseState=n,n.name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}e.exports=u;const l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){const e=this._baseState,t={};l.forEach((function(r){t[r]=e[r]}));const r=new this.constructor(t.parent);return r._baseState=t,r},u.prototype._wrap=function(){const e=this._baseState;c.forEach((function(t){this[t]=function(){const r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},u.prototype._init=function(e){const t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),s.equal(t.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(e){const t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(s(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;const t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);const n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){u.prototype[e]=function(){const t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),o.forEach((function(e){u.prototype[e]=function(){const t=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(r),this}})),u.prototype.use=function(e){s(e);const t=this._baseState;return s(null===t.use),t.use=e,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(e){const t=this._baseState;return s(null===t.default),t.default=e,t.optional=!0,this},u.prototype.explicit=function(e){const t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},u.prototype.implicit=function(e){const t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},u.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},u.prototype.key=function(e){const t=this._baseState;return s(null===t.key),t.key=e,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(e){const t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},u.prototype.contains=function(e){const t=this._baseState;return s(null===t.use),t.contains=e,this},u.prototype._decode=function(e,t){const r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));let n,a=r.default,s=!0,o=null;if(null!==r.key&&(o=e.enterKey(r.key)),r.optional){let n=null;if(null!==r.explicit?n=r.explicit:null!==r.implicit?n=r.implicit:null!==r.tag&&(n=r.tag),null!==n||r.any){if(s=this._peekTag(e,n,r.any),e.isError(s))return s}else{const n=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),s=!0}catch(e){s=!1}e.restore(n)}}if(r.obj&&s&&(n=e.enterObject()),s){if(null!==r.explicit){const t=this._decodeTag(e,r.explicit);if(e.isError(t))return t;e=t}const n=e.offset;if(null===r.use&&null===r.choice){let t;r.any&&(t=e.save());const n=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(n))return n;r.any?a=e.raw(t):e=n}if(t&&t.track&&null!==r.tag&&t.track(e.path(),n,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(a=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(a))return a;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){const n=new i(a);a=this._getUse(r.contains,e._reporterState.obj)._decode(n,t)}}return r.obj&&s&&(a=e.leaveObject(n)),null===r.key||null===a&&!0!==s?null!==o&&e.exitKey(o):e.leaveKey(o,r.key,a),a},u.prototype._decodeGeneric=function(e,t,r){const n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},u.prototype._getUse=function(e,t){const r=this._baseState;return r.useDecoder=this._use(e,t),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},u.prototype._decodeChoice=function(e,t){const r=this._baseState;let n=null,a=!1;return Object.keys(r.choice).some((function(i){const s=e.save(),o=r.choice[i];try{const r=o._decode(e,t);if(e.isError(r))return!1;n={type:i,value:r},a=!0}catch(t){return e.restore(s),!1}return!0}),this),a?n:e.error("Choice not matched")},u.prototype._createEncoderBuffer=function(e){return new a(e,this.reporter)},u.prototype._encode=function(e,t,r){const n=this._baseState;if(null!==n.default&&n.default===e)return;const a=this._encodeValue(e,t,r);return void 0===a||this._skipDefault(a,t,r)?void 0:a},u.prototype._encodeValue=function(e,t,r){const a=this._baseState;if(null===a.parent)return a.children[0]._encode(e,t||new n);let i=null;if(this.reporter=t,a.optional&&void 0===e){if(null===a.default)return;e=a.default}let s=null,o=!1;if(a.any)i=this._createEncoderBuffer(e);else if(a.choice)i=this._encodeChoice(e,t);else if(a.contains)s=this._getUse(a.contains,r)._encode(e,t),o=!0;else if(a.children)s=a.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");const n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");const a=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),a}),this).filter((function(e){return e})),s=this._createEncoderBuffer(s);else if("seqof"===a.tag||"setof"===a.tag){if(!a.args||1!==a.args.length)return t.error("Too many args for : "+a.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(e.map((function(r){const n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)}),r))}else null!==a.use?i=this._getUse(a.use,r)._encode(e,t):(s=this._encodePrimitive(a.tag,e),o=!0);if(!a.any&&null===a.choice){const e=null!==a.implicit?a.implicit:a.tag,r=null===a.implicit?"universal":"context";null===e?null===a.use&&t.error("Tag could be omitted only for .use()"):null===a.use&&(i=this._encodeComposite(e,o,r,s))}return null!==a.explicit&&(i=this._encodeComposite(a.explicit,!1,"context",i)),i},u.prototype._encodeChoice=function(e,t){const r=this._baseState,n=r.choice[e.type];return n||s(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},u.prototype._encodePrimitive=function(e,t){const r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},u.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},u.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},function(e,t,r){"use strict";const n=r(7);function a(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function i(e,t){this.path=e,this.rethrow(t)}t.Reporter=a,a.prototype.isError=function(e){return e instanceof i},a.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},a.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},a.prototype.enterKey=function(e){return this._reporterState.path.push(e)},a.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)},a.prototype.leaveKey=function(e,t,r){const n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},a.prototype.path=function(){return this._reporterState.path.join("/")},a.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t},a.prototype.leaveObject=function(e){const t=this._reporterState,r=t.obj;return t.obj=e,r},a.prototype.error=function(e){let t;const r=this._reporterState,n=e instanceof i;if(t=n?e:new i(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},a.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(i,Error),i.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(e,t,r){"use strict";function n(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);const n=e[r];t[n]=r})),t}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=n(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=n(t.tag)},function(e,t,r){"use strict";e.exports=r(969)(r(973))},function(e,t,r){"use strict";var n=r(1003),a=r(243),i=r(107),s=r(466),o=r(1005);function c(e,t,r){var n=this._refs[r];if("string"==typeof n){if(!this._refs[n])return c.call(this,e,t,n);n=this._refs[n]}if((n=n||this._schemas[r])instanceof s)return f(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var a,i,o,l=u.call(this,t,r);return l&&(a=l.schema,t=l.root,o=l.baseId),a instanceof s?i=a.validate||e.call(this,a.schema,t,void 0,o):void 0!==a&&(i=f(a,this._opts.inlineRefs)?a:e.call(this,a,t,void 0,o)),i}function u(e,t){var r=n.parse(t),a=g(r),i=m(this._getId(e.schema));if(0===Object.keys(e.schema).length||a!==i){var o=b(a),c=this._refs[o];if("string"==typeof c)return l.call(this,e,c,r);if(c instanceof s)c.validate||this._compile(c),e=c;else{if(!((c=this._schemas[o])instanceof s))return;if(c.validate||this._compile(c),o==b(t))return{schema:c,root:e,baseId:i};e=c}if(!e.schema)return;i=m(this._getId(e.schema))}return h.call(this,r,i,e.schema,e)}function l(e,t,r){var n=u.call(this,e,t);if(n){var a=n.schema,i=n.baseId;e=n.root;var s=this._getId(a);return s&&(i=v(i,s)),h.call(this,r,i,a,e)}}e.exports=c,c.normalizeId=b,c.fullPath=m,c.url=v,c.ids=function(e){var t=b(this._getId(e)),r={"":t},s={"":m(t,!1)},c={},u=this;return o(e,{allKeys:!0},(function(e,t,o,l,d,h,p){if(""!==t){var f=u._getId(e),m=r[l],g=s[l]+"/"+d;if(void 0!==p&&(g+="/"+("number"==typeof p?p:i.escapeFragment(p))),"string"==typeof f){f=m=b(m?n.resolve(m,f):f);var y=u._refs[f];if("string"==typeof y&&(y=u._refs[y]),y&&y.schema){if(!a(e,y.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=b(g))if("#"==f[0]){if(c[f]&&!a(e,c[f]))throw new Error('id "'+f+'" resolves to more than one schema');c[f]=e}else u._refs[f]=g}r[t]=m,s[t]=g}})),c},c.inlineRef=f,c.schema=u;var d=i.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function h(e,t,r,n){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var a=e.fragment.split("/"),s=1;s<a.length;s++){var o=a[s];if(o){if(void 0===(r=r[o=i.unescapeFragment(o)]))break;var c;if(!d[o]&&((c=this._getId(r))&&(t=v(t,c)),r.$ref)){var l=v(t,r.$ref),h=u.call(this,n,l);h&&(r=h.schema,n=h.root,t=h.baseId)}}}return void 0!==r&&r!==n.schema?{schema:r,root:n,baseId:t}:void 0}}var p=i.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function f(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var r;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if("object"==typeof(r=t[n])&&!e(r))return!1}else for(var a in t){if("$ref"==a)return!1;if("object"==typeof(r=t[a])&&!e(r))return!1}return!0}(e):t?function e(t){var r,n=0;if(Array.isArray(t)){for(var a=0;a<t.length;a++)if("object"==typeof(r=t[a])&&(n+=e(r)),n==1/0)return 1/0}else for(var i in t){if("$ref"==i)return 1/0;if(p[i])n++;else if("object"==typeof(r=t[i])&&(n+=e(r)+1),n==1/0)return 1/0}return n}(e)<=t:void 0)}function m(e,t){return!1!==t&&(e=b(e)),g(n.parse(e))}function g(e){return n.serialize(e).split("#")[0]+"#"}var y=/#\/?$/;function b(e){return e?e.replace(y,""):""}function v(e,t){return t=b(t),n.resolve(e,t)}},function(e,t,r){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(a=n;0!=a--;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(a=n;0!=a--;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;0!=a--;){var s=i[a];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},function(e,t,r){"use strict";var n=r(242);function a(e,t,r){this.message=r||a.message(e,t),this.missingRef=n.url(e,t),this.missingSchema=n.normalizeId(n.fullPath(this.missingRef))}function i(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:i((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:i(a)},a.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e,t,r){"use strict";e.exports={metaSchemaRef:function(e){var t=e._opts.defaultMeta;return"string"==typeof t?{$ref:t}:e.getSchema("http://json-schema.org/draft-07/schema")?{$ref:"http://json-schema.org/draft-07/schema"}:(console.warn("meta schema not defined"),{})}}},function(e,t,r){var n=r(125)("socket.io-parser"),a=r(94),i=r(1073),s=r(478),o=r(479);function c(){}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=c,t.Decoder=d;var u=t.ERROR+'"encode error"';function l(e){var r=""+e.type;if(t.BINARY_EVENT!==e.type&&t.BINARY_ACK!==e.type||(r+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(r+=e.nsp+","),null!=e.id&&(r+=e.id),null!=e.data){var a=function(e){try{return JSON.stringify(e)}catch(e){return!1}}(e.data);if(!1===a)return u;r+=a}return n("encoded %j as %s",e,r),r}function d(){this.reconstructor=null}function h(e){this.reconPack=e,this.buffers=[]}function p(e){return{type:t.ERROR,data:"parser error: "+e}}c.prototype.encode=function(e,r){(n("encoding packet %j",e),t.BINARY_EVENT===e.type||t.BINARY_ACK===e.type)?function(e,t){i.removeBlobs(e,(function(e){var r=i.deconstructPacket(e),n=l(r.packet),a=r.buffers;a.unshift(n),t(a)}))}(e,r):r([l(e)])},a(d.prototype),d.prototype.add=function(e){var r;if("string"==typeof e)r=function(e){var r=0,a={type:Number(e.charAt(0))};if(null==t.types[a.type])return p("unknown packet type "+a.type);if(t.BINARY_EVENT===a.type||t.BINARY_ACK===a.type){for(var i=r+1;"-"!==e.charAt(++r)&&r!=e.length;);var o=e.substring(i,r);if(o!=Number(o)||"-"!==e.charAt(r))throw new Error("Illegal attachments");a.attachments=Number(o)}if("/"===e.charAt(r+1)){for(i=r+1;++r;){if(","===(u=e.charAt(r)))break;if(r===e.length)break}a.nsp=e.substring(i,r)}else a.nsp="/";var c=e.charAt(r+1);if(""!==c&&Number(c)==c){for(i=r+1;++r;){var u;if(null==(u=e.charAt(r))||Number(u)!=u){--r;break}if(r===e.length)break}a.id=Number(e.substring(i,r+1))}if(e.charAt(++r)){var l=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(r));if(!(!1!==l&&(a.type===t.ERROR||s(l))))return p("invalid payload");a.data=l}return n("decoded %s as %j",e,a),a}(e),t.BINARY_EVENT===r.type||t.BINARY_ACK===r.type?(this.reconstructor=new h(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!o(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(r=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",r))}},d.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},h.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},h.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,r){var n=r(1076),a=r(248);e.exports=function(e){var t=e.xdomain,r=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!r&&i)return new XDomainRequest}catch(e){}if(!t)try{return new(a[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},function(e,t){e.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},function(e,t,r){var n=r(108),a=r(94);function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}e.exports=i,a(i.prototype),i.prototype.onError=function(e,t){var r=new Error(e);return r.type="TransportError",r.description=t,this.emit("error",r),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=n.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,r){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}var a=r(251),i=r(126),s=r(252),o=r(254),c=r(256),u=r(1100),l=(r(162),r(161)),d=r(262),h=r(163),p=["arcade","observables","tournaments"];e.exports=ArcadeMain={render:function(e,t){if(1!=t.viewing_arcade_initialization_page){document.getElementById("arcade-main")&&document.getElementById("arcade-main").destroy();for(var r=0,n=0;n<t.games.length;n++)if(t.isMyGame(t.games[n],e)){t.games[n].isMine=!0;var c=t.games[r];t.games[r]=t.games[n],t.games[n]=c,r++}else t.games[n].isMine=!1;document.getElementById("arcade-container")||e.browser.addElementToDom(i(e,t)),document.querySelector(".arcade-main")||e.browser.addElementToDom(a(e,t),"arcade-container"),p.forEach((function(t,r){document.querySelector("#tab-button-"+t).onclick=function(){e.browser.logMatomoEvent("Arcade","ArcadeTabNavigationClick",t),p.forEach((function(e,r){e===t?(document.querySelector("#"+e+"-hero").classList.remove("arcade-tab-hidden"),document.querySelector("#tab-button-"+e).classList.add("active-tab-button")):(document.querySelector("#"+e+"-hero").classList.add("arcade-tab-hidden"),document.querySelector("#tab-button-"+e).classList.remove("active-tab-button"))}))}})),document.querySelector(".arcade-hero")&&(t.games.forEach((function(r,n){e.browser.addElementToElement(l(e,t,r,n),document.querySelector(".arcade-hero"))})),t.observer.forEach((function(r,n){e.browser.addElementToElement(d(e,t,r,n,e.crypto.stringToBase64(JSON.stringify(r))),document.querySelector(".observables-hero"))}))),document.querySelectorAll(".observe-game-btn").forEach((function(r,n){r.onclick=function(r){var n=r.currentTarget.getAttribute("data-gameobj");"watch"!==r.currentTarget.getAttribute("data-cmd")||h.observeGame(e,t,n)}}));var h=this;if(t.games.forEach((function(r,n){try{document.querySelectorAll("#invite-".concat(r.transaction.sig," .invite-tile-button")).forEach((function(r,n){r.onclick=function(r){var n=r.currentTarget.getAttribute("data-sig"),a=r.currentTarget.getAttribute("data-cmd");e.browser.logMatomoEvent("Arcade","ArcadeAcceptInviteButtonClick",a),"delete"!==a?"cancel"!==a?"join"!==a?"continue"!==a||h.continueGame(e,t,n):h.joinGame(e,t,n):h.cancelGame(e,t,n):h.deleteGame(e,t,n)}}))}catch(e){}})),s.render(e,t),o.render(e,t),0==t.games.length)new u(e).render(e,t,"arcade","arcade-hero");e.browser.addIdentifiersToDom();try{0==e.browser.isSupportedBrowser(navigator.userAgent)&&(document.querySelector(".alert-banner").style.display="block")}catch(e){}}},attachEvents:function(e,t){},joinGame:function(e,t,r){return(a=regeneratorRuntime.mark((function n(){var a,i,s,o,u,l,d,p,f,m,g;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=null,t.games.forEach((function(e){e.transaction.sig===r&&(a=e)})),a){n.next=5;break}return console.log("ERR: game not found"),n.abrupt("return");case 5:if(n.prev=5,i=a.msg,""==(s=i.options).crypto||null==s.crypto){n.next=39;break}if(s.crypto===e.wallet.returnPreferredCrypto().ticker){n.next=12;break}return salert("You must set ".concat(s.crypto," as your preferred crypto to join this game")),n.abrupt("return");case 12:o=null,n.prev=13,o=e.wallet.returnCryptoModuleByTicker(s.crypto),n.next=25;break;case 17:if(n.prev=17,n.t0=n.catch(13),!n.t0.startsWith("Module Not Found")){n.next=24;break}return salert("This game requires "+s.crypto+" crypto to play!"),n.abrupt("return");case 24:throw n.t0;case 25:if(confirm("This game requires "+s.crypto+" crypto to play. OK?")){n.next=28;break}return n.abrupt("return");case 28:if(!(parseFloat(s.stake)>0)){n.next=39;break}return u=e.wallet.returnPreferredCrypto(s.crypto).returnAddress(),(l=new h(e)).balance(e,t,u,s.crypto,(function(){})),l.hideOverlay(),n.next=35,o.returnBalance();case 35:if(!((d=n.sent)<s.stake)){n.next=39;break}return salert("You do not have enough "+s.crypto+"! Balance: "+d),n.abrupt("return");case 39:n.next=45;break;case 41:return n.prev=41,n.t1=n.catch(5),console.log("ERROR checking if crypto-required: "+n.t1),n.abrupt("return");case 45:if(p=parseInt(a.msg.players_needed),f=a.msg.players.length,!(p>f+1)){n.next=53;break}return m=t.createJoinTransaction(a),e.network.propagateTransaction(m),t.joinGameOnOpenList(m),salert("Joining game! Please wait a moment"),n.abrupt("return");case 53:if(a.transaction.from[0].add!=e.wallet.returnPublicKey()){n.next=58;break}a.returnMessage().players.length>1&&salert("You created this game! Waiting for enough players to join we can start..."),n.next=74;break;case 58:if(!e.options.games){n.next=73;break}if(-1==(g=e.options.games.find((function(e){return e.id==r})))||!g){n.next=73;break}if(1!=g.initializing){n.next=68;break}return salert("Accepted Game! It may take a minute for your browser to update -- please be patient!"),c.render(e,data),c.attachEvents(e,data),n.abrupt("return");case 68:return g.ts=(new Date).getTime(),g.initialize_game_run=0,e.storage.saveOptions(),window.location="/"+g.module.toLowerCase(),n.abrupt("return");case 73:t.sendPeerRequestWithFilter((function(){var e={request:"rawSQL",data:{}};return e.data.module="Arcade",e.data.sql='SELECT is_game_already_accepted FROM games WHERE game_id = "'.concat(r,'"'),e.data.game_id=r,e}),(function(r){if(null!=r.rows)if(r.rows.length>0){if(1==r.rows[0].game_still_open||0==r.rows[0].game_still_open&&p>2){var n=a.transaction;Object.assign({msg:{players_array:null}},n),salert("Game accepted - please wait");var i=t.createAcceptTransaction(a);return t.app.network.propagateTransaction(i),c.render(e,t),void c.attachEvents(e,t)}salert("Sorry, this game has been accepted already!")}else salert("Sorry, this game has already been accepted!");else console.log("ERROR 458103: cannot fetch information on whether game already accepted!")}));case 74:case"end":return n.stop()}}),n,null,[[5,41],[13,17]])})),function(){var e=this,t=arguments;return new Promise((function(r,i){var s=a.apply(e,t);function o(e){n(s,r,i,o,c,"next",e)}function c(e){n(s,r,i,o,c,"throw",e)}o(void 0)}))})();var a},continueGame:function(e,t,r){var n=e.options.games.find((function(e){return e.id==r}));if(-1!=n&&n)return 1==n.initializing?(salert("Accepted Game! It may take a minute for your browser to update -- please be patient!"),c.render(e,data),void c.attachEvents(e,data)):(n.ts=(new Date).getTime(),n.initialize_game_run=0,e.storage.saveOptions(),void(window.location="/"+n.module.toLowerCase()))},cancelGame:function(e,t,r){var n=r,a="",i=[];if(e.options.games)for(var s=0;s<e.options.games.length;s++)void 0!==e.options.games[s].transaction?a=e.options.games[s].transaction.sig:void 0!==e.options.games[s].id&&(a=e.options.games[s].id),a==n&&(e.options.games[s].over=1,i=e.options.games[s].players,e.options.games.splice(s,1),e.storage.saveOptions());for(var o=e.wallet.createUnsignedTransactionWithDefaultFee(),c=e.wallet.returnPublicKey(),u=0;u<i.length;u++)i[u]!=c&&o.transaction.to.push(e.wallet.createSlip(i[u]));var l={sig:n,status:"close",request:"close",winner:i[0]==c?i[1]:i[0],module:"Arcade"};o.msg=l,o=e.wallet.signTransaction(o),e.network.propagateTransaction(o),this.removeGameFromList(n)},deleteGame:function(e,t,r){if(salert("Delete game id: ".concat(r)),e.options.games){e.options.games;for(var n=0;n<e.options.games.length;n++)if(e.options.games[n].id==r){var a=e.options.games[n];if(0==a.over)e.modules.returnModule(a.module).resignGame(r);else e.options.games[n].over=1,e.options.games[n].last_block=e.blockchain.last_bid,e.storage.saveOptions()}this.removeGameFromList(r)}},observeGame:function(e,t,r){console.log("ABOUT TO JOIN GAME"),t.observeGame(r)},removeGameFromList:function(e){document.getElementById("arcade-hero").removeChild(document.getElementById("invite-".concat(e)))}}},function(e,t,r){r(161);e.exports=ArcadeMainTemplate=function(e,t){return'\n    <div id="arcade-main" class="arcade-main">\n\n      <div class="alert-banner">\n        <div class="alert-icon">&#9888;</div>\n        <div class="alert-body">\n\t  <div class="alert-title">Warning</div>\n \t  <div class="alert-notice">Saito requires a standards-compliant browser: yours may freeze <a href="#" style="text-decoration:none">click for details</a></div>\n        </div>\n      </div>\n\n      <div id="arcade-tab-buttons">\n        <div id="tab-button-arcade" class="tab-button active-tab-button"><span>Invites</span></div>\n        <div id="tab-button-observables" class="tab-button"><span>Watch</span></div>\n        <div id="tab-button-tournaments" class="tab-button"><span>Tournaments</span></div>\n      </div>\n      <div id="arcade-tabs">\n        <div id="arcade-hero" class="arcade-hero">\n        </div>\n        <div id="observables-hero" class="observables-hero arcade-tab-hidden">\n        </div>\n        <div id="tournaments-hero" class="tournaments-hero arcade-tab-hidden">\n          coming soon\n        </div>\n      </div>\n      <div id="arcade-sub" class="arcade-sub">\n      </div>\n    </div>\n  '}},function(e,t,r){var n=r(253);e.exports=ArcadePosts={render:function(e,t){document.querySelector(".arcade-posts")||e.browser.addElementToDom(n(),"arcade-sub"),e.modules.respondTo("arcade-posts").forEach((function(t){null!=t&&t.respondTo("arcade-posts").render(e,t)}))},attachEvents:function(e,t){e.modules.respondTo("arcade-posts").forEach((function(t){null!=t&&t.respondTo("arcade-posts").attachEvents(e,t)}))}}},function(e,t){e.exports=ArcadePostsTemplate=function(){return'\n    <div class="arcade-posts">\n      <div id="arcade-posts-add" class="arcade-posts-add"><i id="arcade-posts-insert-add-contact" class="icon-med fas fa-plus"></i></div>\n      <div id="arcade-posts"></div>\n    </div>\n  '}},function(e,t,r){var n=r(255);e.exports=ArcadeInfobox={render:function(e,t){document.querySelector(".arcade-infobox")||e.browser.addElementToDom(n(),"arcade-sub"),e.modules.respondTo("arcade-infobox").forEach((function(r){var n=r.respondTo("arcade-infobox");n.render(e,t),n.attachEvents(e,t)}))},attachEvents:function(e,t){}}},function(e,t){e.exports=ArcadeInfoboxTemplate=function(){return'\n    <div id="arcade-infobox" class="arcade-infobox">\n    </div>\n  '}},function(e,t,r){var n=r(257),a=r(258);e.exports=GameLoader={render:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.viewing_arcade_initialization_page=1,document.getElementById("arcade-main").innerHTML=""!=r?a(r):n()},attachEvents:function(e,t){try{document.querySelector(".start-game-btn").addEventListener("click",(function(t){for(var r=t.currentTarget.id,n=0;n<e.options.games.length;n++)if(e.options.games[n].id==r){e.browser.logMatomoEvent("Arcade","StartGameClick",e.options.games[n].module),e.options.games[n].ts=(new Date).getTime(),e.options.games[n].initialize_game_run=0,e.storage.saveOptions();for(var a=0;a<e.modules.mods.length;a++)if(e.modules.mods[a].name==e.options.games[n].module)return void(window.location="/"+e.modules.mods[a].returnSlug());break}}))}catch(e){}}}},function(e,t){e.exports=GameLoaderTemplate=function(){return'  \n    <div id="arcade-initialize-game-container" class="arcade-initialize-game-container">\n      <center><div id="game-loader-title" class="game-loader-title">Your Game is Initializing</div></center>\n      <div class="game-loader-spinner loader" id="game-loader-spinner"></div>\n    </div>\n  '}},function(e,t){e.exports=GameLoaderTemplate=function(e){return' \n      <div class="arcade-initialize-game-container">\n        <center>Your game is ready to start!</center>\n        <button class="start-game-btn" id="'.concat(e,'">start game</button>\n      </div>\n  ')}},function(e,t){e.exports=ArcadeGameDetailsTemplate=function(e,t,r){return'\n    <div class="game-wizard">\n      <form id="game-wizard-form" class="game-wizard-form">\n\n\t<div class="game-wizard-header">\n          <div class="game-wizard-image"><img class="game-image" src="/imperium/img/arcade.jpg"/></div>\n\t  <div class="game-wizard-intro">\n\t    <input type="hidden" name="gamename" value="'.concat(r.msg.game,'" />\n            <div class="game-wizard-title">Red Imperium</div>\n            <div class="game-wizard-description">Red Imperium is a multi-player space exploration and conquest simulator. Each player controls a unique faction vying for political control of the galaxy in the waning days of a dying Empire.</div>\n            <div class="game-wizard-status"></div>\n\t  </div>\n\t</div>\n        \n\n\t<div class="game-wizard-controls">\n\n          <div id="game-wizard-players" class="game-wizard-players">\n            <select class="game-wizard-players-select" name="game-wizard-players-select">\n            </select>\n\t    <div class="game-wizard-options-toggle"><span class="game-wizard-options-toggle-text">advanced options...</span></div>\n          </div>\n\n\t  <div id="game-wizard-invite" class="game-wizard-invite">\t\n            <button type="button" id="game-invite-btn" class="game-invite-btn">Create New Game</button>\n\t  </div>\n\n\t</div>\n\n        <div id="game-wizard-publisher-message" class="game-wizard-publisher-message"></div>\n\n        <div id="game-wizard-advanced-options-overlay" class="game-wizard-advanced-options-overlay"></div>\n\n      </form>\n    </div>\n')}},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(261),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t}var t,r,i;return t=e,(r=[{key:"render",value:function(e,t){document.querySelector(".game-overlay-backdrop")||e.browser.addElementToDom(a(),"game-wizard-advanced-options-overlay");var r=document.querySelector(".game-overlay");r.style.display="none",r.innerHTML=t.returnGameOptionsHTML()}},{key:"attachEvents",value:function(e,t){}},{key:"showOverlay",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.render(e,t);var a=this,i=document.querySelector(".game-overlay"),s=document.querySelector(".game-overlay-backdrop");i.innerHTML=r,i.style.display="block",s.style.display="block",s.style.opacity=1,s.style.backgroundColor="#111",s.onclick=function(e){a.hideOverlay(n)}}},{key:"hideOverlay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.querySelector(".game-overlay"),r=document.querySelector(".game-overlay-backdrop");t.style.display="none",r.style.display="none",null!=e&&e()}}])&&n(t.prototype,r),i&&n(t,i),e}();e.exports=i},function(e,t){e.exports=AdvancedOverlayTemplate=function(){return'  \n    <div id="game-overlay" class="game-overlay"></div>\n    <div id="game-overlay-backdrop" class="game-overlay-backdrop"></div>\n  '}},function(e,t){e.exports=ArcadeObserveTemplate=function(e,t,n,a,i){for(var s=n.module,o=0;o<e.modules.mods.length;o++)e.modules.mods[o].name===s&&(s=e.modules.mods[o].returnSlug());var c='<div class="playerInfo" style="grid-template-columns: repeat('.concat(n.players_array.split("_").length,', 1fr);">'),u=(new Date).getTime(),l=e.browser.formatDate(u);return n.players_array.split("_").forEach((function(t){var r=e.keys.returnIdenticon(t);c+='<div class="player-slot tip id-'.concat(t,'"><img class="identicon" src="').concat(r,'"><div class="tiptext">').concat(e.browser.returnAddressHTML(t),"</div></div>")})),c+="</div>",'\n    <div id="invite-'.concat(n.game_id,'" class="arcade-tile" style="background-image: url(/\'').concat(s,'/img/arcade.jpg\');">\n      <div class="invite-tile-wrapper">\n        <div class="game-inset-img" style="background-image: url(\'/').concat(s,'/img/arcade.jpg\');"></div>\n        <div class="invite-col-2">\n          <div class="gameName" style="font-size:0.9em">').concat(l.day," ").concat(l.month," ").concat(l.year,"</div>\n          ").concat(c,'\n        </div>\n        <div class="gameShortDescription">').concat(r(e,n),'</div>\n\t<div class="gameButtons">\n          <button data-sig="').concat(n.game_id,'" data-gameobj="').concat(i,'" data-cmd="watch" class="button observe-game-btn">WATCH</button>\n        </div>\n      </div>\n    </div>\n    ')};var r=function(e,t){var r="";if(t.msg){var n=e.modules.returnModule(t.msg.game);if(n){var a=n.returnShortGameOptionsArray(t.msg.options);for(var i in a){r+='<div class="gameShortDescriptionRow"><div class="gameShortDescriptionKey">'.concat(i,': </div><div class="gameShortDescriptionValue">').concat(a[i],"</div></div>")}}}return r}},function(e,t,r){var n=r(12),a=r(264),i=(r(265),r(54),r(495)),s=r(162),o=r(126);e.exports=ArcadeSidebar={render:function(e,t){document.getElementById("arcade-container")||e.browser.addElementToDom(o()),document.querySelector(".arcade-sidebar")||e.browser.addElementToDom(a(),"arcade-container"),e.modules.respondTo("email-chat").forEach((function(t){null!=t&&t.respondTo("email-chat").render(e,t)}));var r=document.querySelector(".arcade-apps");e.modules.respondTo("arcade-games").forEach((function(e){var t=e.name;try{e.gamename&&(t=e.gamename)}catch(e){}var n="";try{e.status&&(n='<div class="tiptext">This game is: '+e.status+".</div>")}catch(e){}document.getElementById(e.name)||(r.innerHTML+='<li class="arcade-navigator-item tip" id="'.concat(e.name,'">').concat(t).concat(n,"</li>"))}))},attachEvents:function(e,t){document.getElementById("games-add-game")&&(null!=e.modules.returnModule("AppStore")&&(document.getElementById("games-add-game").onclick=function(){var t=e.modules.returnModule("AppStore");if(t){t.openAppstoreOverlay({search:"",category:"Entertainment",featured:1})}}),Array.from(document.getElementsByClassName("arcade-navigator-item")).forEach((function(r){r.addEventListener("click",(function(r){var a=r.currentTarget.id;e.browser.logMatomoEvent("Arcade","ArcadeSidebarInviteCreateClick",a);var o=function(){var r=new n.transaction;r.msg.game=a,s.render(e,t,r),s.attachEvents(e,t,r)};if(""==e.keys.returnIdentifierByPublicKey(e.wallet.returnPublicKey())&&1!=e.options.wallet.anonymous)return t.modal_register_username=new i(e,o),t.modal_register_username.render(e,t),void t.modal_register_username.attachEvents(e,t);o()}))})),e.modules.respondTo("email-chat").forEach((function(r){r.respondTo("email-chat").attachEvents(e,t)})))}}},function(e,t){e.exports=ArcadeSidebarTemplate=function(){return'\n  <div class="arcade-sidebar" id="arcade-sidebar">\n    <div class="arcade-controls">\n      <div class="arcade-bars-menu">\n        <div class="arcade-navigator-bars-menu register-username-check">\n          <div class="arcade-sidebar-active-games-header" style="display:flex; align-items:center;justify-content: space-between">\n            <h2>Games</h2>\n            <i id="games-add-game" class="icon-med fas fa-plus"></i>\n          </div>\n          <div class="arcade-apps-wrapper">\n            <ul class="arcade-apps" id="arcade-apps"></ul>\n          </div>\n        </div>\n    </div>\n  </div>\n  <div id="arcade-announcement" class="arcade-announcement">Like large multiplayer games? See our upcoming <a href="https://docs.google.com/spreadsheets/d/1f1QrDFd8f6RaIJhV5m-pQFBoAO9WZGxpCoJmdKBaQwI/edit#gid=0" target="_community">Community Games and Events</a>.</div>\n  <div id="email-chat" class="email-chat"></div>\n  '}},function(e,t){e.exports=ArcadeGamesFullListOverlayTemplate=function(e,t){var r='\n    <div id="installed-games" class="installed-games">\';\n       <h1>Installed Games</h1>\n       <div class="return-to-arcade" id="return-to-arcade"><i class="icon-large fas fa-times-circle"></i></div>\n       <div class="start-game-list">\n  ';return e.modules.respondTo("arcade-games").forEach((function(e){var t="/"+e.slug+"/img/arcade.jpg",n="Players: ",a=e.minPlayers,i=e.maxPlayers;n+=a==i?a:a+"-"+i,r+='<div class="arcade-game-list-item" data-game="'.concat(e.name,'">\n         <div class="arcade-game-list-image" style="background-image: url(').concat(t,');"></div>\n         <div class="arcade-gema-list-details">\n           <div class="arcade-game-list-title"><h4>').concat(e.name,'</h4></div>\n           <div class="arcade-game-list-type">').concat(e.type,'</h4></div>\n           <div class="arcade-game-list-players">').concat(n,"</h4></div>\n         </div>\n       </div>")})),gamemod_url="/saito/img/dreamscape.png",r+='<div class="arcade-game-list-item" data-game="Install New Game">\n        <div class="arcade-game-list-image" style="background-image: url('.concat(gamemod_url,');"></div>\n        <div class="arcade-gema-list-details">\n          <div class="arcade-game-list-title"><h4>Install New Game</h4></div>\n          <div class="arcade-game-list-type">Saito Appstore</h4></div>\n          <div class="arcade-game-list-players">1 - 6</h4></div>\n        </div>\n        </div>'),r+="\n       </div>\n     </div>\n  "}},function(e,t){var r="zPwFAUi2S3AAUwhAxX19UAAUUisrrw9QtMTpwAC6w3fK",n={transaction:{id:9,from:[{add:r,bid:0,tid:0,sid:0,bsh:"",amt:"0",type:0,lc:1}],to:[{add:r,bid:0,tid:0,sid:0,bsh:"",amt:"0",type:0,lc:1},{add:r,bid:0,tid:0,sid:1,bsh:"",amt:"0",type:0,lc:1}],ts:1605090741941,sig:"2msmS9EjCrMeromNHpy4Yv8br3JT8wbFrmoGownu2ctvJRghLor6kz2DCmGT3sAwVwVEJJNBjTtwbgVXYFumHeHM",ver:1,path:[{from:r,to:"ySSjMVrEqbtAAtcob5ZWDC2hZQ5Cj6zSC4Q4t1myosGd",sig:"66ZAocz6VMwxpwhVA2h3vdMjgpQ5myTnm5kAJXLnXSvCbb912DWpzR19j1TqHr9CRejgahu5nBRSSwjS4aKSNLbf"}],r:1,type:0,m:"eyJ0cyI6MTYwNTA5MDc0MTg5MiwibW9kdWxlIjoiQXJjYWRlIiwicmVxdWVzdCI6Im9wZW4iLCJnYW1lIjoiQ2hlc3MiLCJvcHRpb25zIjp7ImNvbG9yIjoiYmxhY2siLCJjbG9jayI6IjAifSwib3B0aW9uc19odG1sIjoiPHNwYW4gY2xhc3M9XCJnYW1lLW9wdGlvblwiPmNvbG9yOiBibGFjazwvc3Bhbj4sIDxzcGFuIGNsYXNzPVwiZ2FtZS1vcHRpb25cIj5jbG9jazogMDwvc3Bhbj4iLCJwbGF5ZXJzX25lZWRlZCI6MiwicGxheWVycyI6WyJ6UHdGQVVpMlMzQUFVd2hBeFgxOVVBQVVVaXNycnc5UXRNVHB3QUM2dzNmSyJdLCJwbGF5ZXJzX3NpZ3MiOlsiNHpxb0trdDc1R2JOQ0Y5ck5hZjhNN3lCUFJCWm4xWkRmZDh0dFBxRnB6SzUyanRNVll4WFBiSnJUQk5Nd0Rybmtib251aW9KQndacTlVWGVlUG84dEE5bSJdfQ==",ps:0},fees_total:"",work_available_to_me:"",work_available_to_creator:"",work_cumulative:"0.0",msg:{ts:1605090741892,module:"Arcade",request:"open",game:"Chess",options:{color:"black",clock:"0"},options_html:'<span class="game-option">color: black</span>, <span class="game-option">clock: 0</span>',players_needed:2,players:[r],players_sigs:["4zqoKkt75GbNCF9rNaf8M7yBPRBZn1ZDfd8ttPqFpzK52jtMVYxXPbJrTBNMwDrnkbonuioJBwZq9UXeePo8tA9m"]},dmsg:"",size:1277,is_valid:1,atr_trapdoor:"00000000000000000000000000000000000000000000",atr_rebroadcasting_limit:10};e.exports=getMockGames=function(e){for(var t=[],a=Math.floor(40*Math.random()),i=0;i<a;i++)t.push(JSON.parse(JSON.stringify(n)));return t.forEach((function(t,n){var a,i;t.transaction.sig=function(e){for(var t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=r.length,a=0;a<e;a++)t+=r.charAt(Math.floor(Math.random()*n));return t}(1),t.msg.game=(a=["Wordblocks","Chess","Twilight","Poker","Imperium"])[Math.floor(Math.random()*a.length)],t.msg.players_needed=(i=[2,4,6,8])[Math.floor(Math.random()*i.length)],t.msg.players[0]=function(e){return Math.floor(2*Math.random())?r:e.wallet.returnPublicKey()}(e)})),t}},function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(1113),s=r(54),o=r(12),c={NEWSLETTER:0,PRIVATESALE:1,REGISTEREMAIL:2,BACKUP:3},u=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};n(this,e),this.app=t,this.callback=r,this.mode=null}var t,r,u;return t=e,(r=[{key:"render",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.NEWSLETTER;this.mode=r,this.modal_overlay_email=new s(e),this.modal_overlay_email.render(e,t),this.modal_overlay_email.attachEvents(e,t),document.querySelector(".add-user")||this.modal_overlay_email.showOverlay(e,t,i(r,c))}},{key:"attachEvents",value:function(e,t){var r=this;document.querySelectorAll(".tutorial-skip").forEach((function(e){e.onclick=function(){r.modal_overlay_email.hideOverlay()}})),document.querySelectorAll("#registry-input").forEach((function(e){e.onclick=function(){document.querySelector("#registry-input").setAttribute("placeholder","")}})),document.querySelectorAll("#backup-email-button").forEach((function(n){n.onclick=function(){var n=document.querySelector("#registry-input").value,a=document.querySelector("#signup")&&document.querySelector("#signup").checked;if(r.mode===c.NEWSLETTER)r.doNewsletterSignup(e,t,n);else if(r.mode===c.PRIVATESALE)r.doPrivateSaleSignup(e,t,n,a);else if(r.mode===c.REGISTEREMAIL)r.doRegisterEmail(e,t,n,a);else{if(r.mode!==c.BACKUP)throw"No such mode: "+r.mode;r.doEmailBackup(e,t,n,a)}r.modal_overlay_email.hideOverlay(),salert("Thanks for signing up!")}}))}},{key:"validateEmail",value:function(e){return!(!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())||"email@domain.com"===e)||(salert("Invalid email address!"),!1)}},{key:"sendServiceRequest",value:function(e,t){tx=new o.transaction,tx.msg={key:this.app.wallet.returnPublicKey(),email:e,time:Date.now()},this.app.modules.returnActiveModule().sendPeerRequestWithServiceFilter("emailcollector",{request:t,data:tx},(function(e){document.querySelector(".arcade-sidebar-done").innerHTML="",e.forEach((function(e){void 0===e.label&&void 0===e.icon||(document.querySelector(".arcade-sidebar-done").innerHTML+=RewardsSidebarRow(e.label,e.icon,e.count))}))}))}},{key:"doRegisterEmail",value:function(e,t,r,n){this.validateEmail(r)&&(e.keys.updateEmail(e.wallet.returnPublicKey(),r),n&&this.doNewsletterSignup(e,t,r),window.location.reload())}},{key:"doEmailBackup",value:function(e,t,r,n){this.validateEmail(r)&&(e.keys.updateEmail(e.wallet.returnPublicKey(),r),n&&this.doNewsletterSignup(e,t,r))}},{key:"doPrivateSaleSignup",value:function(e,t,r,n){this.validateEmail(r)&&(this.sendServiceRequest(r,"public sale signup"),n&&this.doNewsletterSignup(e,t,r))}},{key:"doNewsletterSignup",value:function(e,t,r){this.validateEmail(r)&&this.sendServiceRequest(r,"newsletter signup")}}])&&a(t.prototype,r),u&&a(t,u),e}();u.MODES=c,e.exports=u},function(e,t){e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var r=function(e){return(e=e||window.event).preventDefault(),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,o=e.clientX,c=e.clientY,document.onmouseup=a,document.onmousemove=n,!1},n=function(t){(t=t||window.event).preventDefault(),i=o-t.clientX,s=c-t.clientY,o=t.clientX,c=t.clientY,e.style.top=e.offsetTop-s+"px",e.style.left=e.offsetLeft-i+"px"},a=function(){document.onmouseup=null,document.onmousemove=null,null!=t&&t()},i=0,s=0,o=0,c=0;document.getElementById(e.id+"-header")?document.getElementById(e.id+"-header").onmousedown=r:e.onmousedown=r}catch(e){}}},function(e,t,r){var n=r(270),a=r(273);e.exports=EmailChat={render:function(e,t){t.renderMode="email",n.render(e,t),n.attachEvents(e,t),a.render(e,t),a.attachEvents(e,t)},attachEvents:function(e,t){},showChatBox:function(e,t,r){t.renderMode="email",a.showChatBox(e,t,r)}}},function(e,t,r){var n=r(271),a=r(272),i=r(500);e.exports=ChatSidebar={render:function(e,t){t.modal_add_user=new i(e),document.querySelector(".chat-header")||e.browser.addElementToDom(n(),"email-chat");for(var r=0;r<t.groups.length;r++)document.getElementById(t.groups[r].id)||e.browser.addElementToDom(a(e,t.groups[r]),"chat-list")},attachEvents:function(e,t){document.querySelectorAll(".chat-row").forEach((function(r){r.onclick=function(r){t.mute_community_chat=0;try{var n=document.querySelector("#".concat(r.currentTarget.id," .chat-group-name")).innerHTML;e.browser.logMatomoEvent("Chat","ArcadeSidebarChatOpenedClick",n)}catch(r){e.browser.logMatomoEvent("Chat","ArcadeSidebarChatOpenedClick","unknownChat")}t.openChatBox(r.currentTarget.id)}})),document.getElementById("email-chat-add-contact").onclick=function(r){t.modal_add_user.render(e,t),t.modal_add_user.attachEvents(e,t)}}}},function(e,t){e.exports=ChatSidebarTemplate=function(){return'\n      <div class="chat-header">\n        <h2>Chat</h2>\n        <div id="online-count" class="online-count"></div>\n        <i id="email-chat-add-contact" class="icon-med fas fa-plus"></i>\n      </div>\n      <div id="chat-list" class="chat-list"></div>\n  '}},function(e,t){e.exports=ChatSidebarContactTemplate=function(e,t){var r=e.browser.formatDate((new Date).getTime()),n="";0==t.txs.length?n="New Chat Room":n=t.txs[t.txs.length-1].returnMessage().message;return'\n    <div id="'.concat(t.id,'" class="chat-row">\n      <img class="chat-row-image" src="').concat(e.keys.returnIdenticon(t.members[0]),'">\n      <div class="chat-content">\n          <div class="chat-group-name">').concat(t.name,'</div>\n          <div id="chat-last-message-').concat(t.id,'" class="chat-last-message">').concat(n,'</div>\n      </div>\n      <div style="display; grid;">\n        <div class="chat-last-message-timestamp">').concat(r.hours,":").concat(r.minutes,"</div>\n      </div>\n    </div>\n  ")}},function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i=r(274),s=r(164),o=r(277),c=r(278),u=r(290);e.exports=ChatBox={render:function(e,t){var r=this;document.querySelectorAll(".chat-box").forEach((function(n){for(var a=n.getAttribute("data-id"),i=-1,o=document.getElementById("chat-box-main-".concat(a)),c=0;c<t.groups.length;c++)t.groups[c].id==a&&(i=c);if(-1!=i){for(0==t.groups[i].txs.length&&(o.innerHTML='<p id="chat-box-default-message-'.concat(a,'" style="text-align:center">No messages in this group :(</p>'));t.groups[i].txs.length>100;)t.groups[i].txs.shift();for(var u=t.createMessageBlocks(t.groups[i]),l=0;l<u.length;l++){var d=s(e,t,t.groups[i],u[l]);if(l==u.length-1){var h="first_comment_sig";u[l].length>0&&(h=e.crypto.hash(u[l][0].transaction.sig));try{document.getElementById("chat-message-set-".concat(h)).destroy()}catch(e){}d=s(e,t,t.groups[i],u[l]),o.innerHTML+=d}else o.innerHTML+=d}document.querySelectorAll("img.img-prev").forEach((function(e){e.addEventListener("click",window.imgPop(e))})),r.scrollToBottom(a)}else alert("could not find chat group...")}))},attachDragAndDropEvents:function(e,t,r){document.querySelectorAll("#".concat(e)).forEach((function(e){t.browser.addDragAndDropFileUploadToElement(e.id,(function(n){var a=e.id.split("chat-box-main-")[1],i=document.createElement("img");if(i.classList.add("img-prev"),i.src=n,i.outerHTML.length>r.max_msg_size)salert("Image too large: 220kb max");else{var s=r.createMessage(a,i.outerHTML);r.sendMessage(t,s),r.receiveMessage(t,s)}}),!1)}))},attachEvents:function(e,t){document.querySelectorAll(".chat-box").forEach((function(r){var n=r.getAttribute("data-id"),a=document.getElementById("chat-box-new-message-input-".concat(n));a.addEventListener("keypress",(function(r){if((13==r.which||13==r.keyCode)&&!r.shiftKey){if(r.preventDefault(),""==a.value)return;e.browser.logMatomoEvent("Chat","ArcadeChatSendMessage","PressedEnter");var i=t.createMessage(n,a.value);t.sendMessage(e,i),t.receiveMessage(e,i),a.value=""}}))})),document.querySelectorAll(".chat-room-submit-button").forEach((function(r){r.ontouch=function(r){var n=r.currentTarget.id.split("chat-room-submit-button-")[1],a=document.getElementById("chat-box-new-message-input-".concat(n));if(""!=a.value){var i=t.createMessage(n,a.value);e.modules.returnModule("Chat").sendMessage(e,i),e.modules.returnModule("Chat").receiveMessage(e,i),a.value=""}},r.onclick=function(r){var n=r.currentTarget.id.split("chat-room-submit-button-")[1],a=document.getElementById("chat-box-new-message-input-".concat(n));if(""!=a.value){var i=t.createMessage(n,a.value);e.modules.returnModule("Chat").sendMessage(e,i),e.modules.returnModule("Chat").receiveMessage(e,i),a.value=""}}})),document.querySelectorAll(".chat-box-header").forEach((function(e){e.ontouch=function(e){var t=e.currentTarget.id.split("chat-box-header-")[1],r=document.getElementById("chat-box-".concat(t)),n=document.getElementById("chat-box-header-".concat(t));(0==r.style.left&&0==r.style.top||(n.style.cursor="unset",r.classList.contains("min-chat")))&&(r.classList.toggle("chat-box-hide"),r.classList.toggle("min-chat"),r.classList.contains("min-chat"),r.style.bottom=0,e.stopPropagation(),e.preventDefault())},e.onclick=function(e){var t=e.currentTarget.id.split("chat-box-header-")[1],r=document.getElementById("chat-box-".concat(t)),n=document.getElementById("chat-box-header-".concat(t));(0==r.style.left&&0==r.style.top||(n.style.cursor="unset",r.classList.contains("min-chat")))&&(r.classList.toggle("chat-box-hide"),r.classList.toggle("min-chat"),r.classList.contains("min-chat"),r.style.bottom=0,e.stopPropagation(),e.preventDefault())}})),document.querySelectorAll(".chat-box-close").forEach((function(e){var r=t.returnCommunityChat();e.ontouch=function(e){var n=e.currentTarget.id.split("chat-box-close-")[1];n==r.id&&(t.mute_community_chat=1),e.stopPropagation();var a=document.getElementById("chat-box-".concat(n));a.parentNode.removeChild(a)},e.onclick=function(e){var n=e.currentTarget.id.split("chat-box-close-")[1];n==r.id&&(t.mute_community_chat=1),e.stopPropagation();var a=document.getElementById("chat-box-".concat(n));a.parentNode.removeChild(a)}})),document.querySelectorAll(".chat-box").forEach((function(t){var r=t.id.split("chat-box-")[1];e.browser.makeDraggable(t.id,"chat-box-header-".concat(r),(function(){}))}))},showChatBox:function(e,t,r){for(var n=0,a=0,s=0;s<t.groups.length;s++)document.getElementById("chat-box-".concat(t.groups[s].id))&&(n++,a+=document.getElementById("chat-box-".concat(t.groups[s].id)).getBoundingClientRect().width);0==n?document.querySelector(".chat-box")||(e.browser.addElementToDom(i(r)),this.attachDragAndDropEvents("chat-box-main-".concat(r.id),e,t)):(document.getElementById("chat-box-".concat(r.id))||(e.browser.addElementToDom(i(r)),this.attachDragAndDropEvents("chat-box-main-".concat(r.id),e,t)),document.getElementById("chat-box-".concat(r.id)).style.right=a+20*n+"px");this.attachEvents(e,t)},addMessage:function(e,t,r){e.modules.returnModule("Chat").receiveMessage(e,r),this.addTXToDOM(e,t,r)},addTXToDOM:function(e,t,r){var n=Object.assign({},r.returnMessage(),{type:"myself"});this.addMessageToDOM(e,t,n)},addMessageToDOM:function(e,t,r){try{if(document.getElementById(r.sig))return;var a=Object.assign({},r,{keyHTML:e.browser.returnAddressHTML(r.publickey),identicon:e.keys.returnIdenticon(r.publickey),identicon_color:e.keys.returnIdenticonColor(r.publickey)}),i=document.getElementById("chat-box-main-".concat(a.group_id));if(console.log("MBL: "+this.message_blocks.length),this.message_blocks.length>0){var o=Object.assign({messages:[]},this.message_blocks[this.message_blocks.length-1]);if(Object.assign({},o.messages[o.messages.length-1]).publickey==a.publickey)o=Object.assign({},o,{last_message_timestamp:a.timestamp,last_message_sig:a.sig,messages:[].concat(n(o.messages),[a]),type:e.wallet.returnPublicKey()==a.publickey?"myself":"others"}),i.removeChild(i.lastElementChild),i.innerHTML+=s(o,t),this.message_blocks[this.message_blocks.length-1]=o;else{var c=Object.assign({},{publickey:a.publickey,group_id:a.group_id,last_message_timestamp:a.timestamp,last_message_sig:a.sig,keyHTML:a.keyHTML,identicon:a.identicon,identicon_color:a.identicon_color,type:e.wallet.returnPublicKey()==a.publickey?"myself":"others",messages:[a]});this.message_blocks.push(c),i.innerHTML+=s(c,t)}}else{console.log("Here!");var u=Object.assign({},{publickey:a.publickey,group_id:a.group_id,last_message_timestamp:a.timestamp,last_message_sig:a.sig,keyHTML:a.keyHTML,identicon:a.identicon,identicon_color:a.identicon_color,type:e.wallet.returnPublicKey()==a.publickey?"myself":"others",messages:[a]});this.message_blocks.push(u),i.innerHTML+=s(u,t)}document.querySelectorAll(".img-prev").forEach((function(e){e.addEventListener("click",window.imgPop(e))})),this.scrollToBottom(a.group_id)}catch(e){console.log("Error @ chat-box.js | addMessageToDOM\n ERROR: "+e)}},createMessageBlocks:function(e,t,r){for(var n=0,a=[],i=[],s=r.txs,o="";n<s.length;)0==a.length?(s[n].transaction.from[0].add!=o&&""!=o&&a.push(i),i.push(s[n]),o=s[n].transaction.from[0].add):s[n].transaction.from[0].add==o?i.push(s[n]):(a.push(i),(i=[]).push(s[n]),o=s[n].transaction.from[0].add),n++;return a.push(i),a},formatMessage:function(e){return e=u(e,{target:{url:"_self"}}),e=o(e),e=c(e,{allowedTags:["h1","h2","h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre","img","marquee","pre"],allowedAttributes:{div:["class","id"],a:["href","name","target","class","id"],img:["src","class"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","cite"],allowProtocolRelative:!0,transformTags:{a:c.simpleTransform("a",{target:"_blank"})}})},removeDefaultMessage:function(e){var t=document.getElementById("chat-box-default-message-".concat(e));t&&t.parentNode.removeChild(t)},scrollToBottom:function(e){var t=document.getElementById("chat-box-main-".concat(e));t&&(t.scrollTop=t.scrollHeight)}}},function(e,t){e.exports=ChatBoxTemplate=function(e){return'\n      <div data-id="'.concat(e.id,'" id="chat-box-').concat(e.id,'" class="chat-box">\n\t<div id="chat-box-header-').concat(e.id,'" class="chat-box-header">\n          <span><h2 class="chat-box-header-title">').concat(e.name,'</h2></span>\n          <span class="chat-box-close" id="chat-box-close-').concat(e.id,'" style="justify-self:end;font-size: 0.75em">&#x2715</span>\n\t</div>\n\t<div id="chat-box-main-').concat(e.id,'" class="chat-box-main"></div>\n\t<div id="chat-box-input-').concat(e.id,'" class="chat-box-input">\n          <textarea class="chat-box-new-message-input" id="chat-box-new-message-input-').concat(e.id,'"></textarea>\n          <div class="chat-room-submit-button" id="chat-room-submit-button-').concat(e.id,'"><i class="icon-small fas fa-arrow-circle-right"></i></div>\n        </div>\n      </div>\n  ')}},function(e,t){e.exports=ChatMessageTemplate=function(e,t,r,n,a){r=t.formatMessage(r);try{for(var i=r.match(/<a href="([^"]*)/)[1],s=0,o=[".apng",".gif",".ico",".cur",".jpg",".jpeg",".jfif",".pjpeg",".pjp",".png",".svg"];s<o.length;s++){var c=o[s];if(i.toLowerCase().includes(c))return'\n        <div id="'.concat(n,'" class="chat-room-message chat-room-message-').concat(a,'">\n          <div class="chat-message-text">').concat(r,'</div>\n        </div>\n        <div id="').concat(n,'" class="chat-room-message chat-room-message-').concat(a,'">\n          <div class="chat-message-text">\n              <img class="img-prev" src="').concat(i,'">\n          </div>\n        </div>')}}catch(e){}return'\n    <div id="'.concat(n,'" class="chat-room-message chat-room-message-').concat(a,'">\n      <div class="chat-message-text">').concat(r,"</div>\n    </div>\n  ")}},function(e,t,r){var n=r(71).Symbol;e.exports=n},function(e,t,r){e.exports=function(){"use strict";function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r(e,r){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n={exports:{}};function a(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}n.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:a,changeDefaults:function(e){n.exports.defaults=e}};var i=/[&<>"']/,s=/[&<>"']/g,o=/[<>"']|&(?!#?\w+;)/,c=/[<>"']|&(?!#?\w+;)/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l=function(e){return u[e]},d=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(e){return e.replace(d,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var p=/(^|[^\[])\^/g,f=/[^\w:]/g,m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,g={},y=/^[^:]+:\/*[^/]*$/,b=/^([^:]+:)[\s\S]*$/,v=/^([^:]+:\/*[^/]*)[\s\S]*$/;function _(e,t){g[" "+e]||(y.test(e)?g[" "+e]=e+"/":g[" "+e]=w(e,"/",!0));var r=-1===(e=g[" "+e]).indexOf(":");return"//"===t.substring(0,2)?r?t:e.replace(b,"$1")+t:"/"===t.charAt(0)?r?t:e.replace(v,"$1")+t:e+t}function w(e,t,r){var n=e.length;if(0===n)return"";for(var a=0;a<n;){var i=e.charAt(n-a-1);if(i!==t||r){if(i===t||!r)break;a++}else a++}return e.substr(0,n-a)}var x=function(e,t){if(t){if(i.test(e))return e.replace(s,l)}else if(o.test(e))return e.replace(c,l);return e},k=h,S=function(e,t){e=e.source||e,t=t||"";var r={replace:function(t,n){return n=(n=n.source||n).replace(p,"$1"),e=e.replace(t,n),r},getRegex:function(){return new RegExp(e,t)}};return r},O=function(e,t,r){if(e){var n;try{n=decodeURIComponent(h(r)).replace(f,"").toLowerCase()}catch(e){return null}if(0===n.indexOf("javascript:")||0===n.indexOf("vbscript:")||0===n.indexOf("data:"))return null}t&&!m.test(r)&&(r=_(t,r));try{r=encodeURI(r).replace(/%25/g,"%")}catch(e){return null}return r},P={exec:function(){}},E=function(e){for(var t,r,n=1;n<arguments.length;n++)for(r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},A=function(e,t){var r=e.replace(/\|/g,(function(e,t,r){for(var n=!1,a=t;--a>=0&&"\\"===r[a];)n=!n;return n?"|":" |"})).split(/ \|/),n=0;if(r[0].trim()||r.shift(),r[r.length-1].trim()||r.pop(),r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;n<r.length;n++)r[n]=r[n].trim().replace(/\\\|/g,"|");return r},C=w,T=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var r=e.length,n=0,a=0;a<r;a++)if("\\"===e[a])a++;else if(e[a]===t[0])n++;else if(e[a]===t[1]&&--n<0)return a;return-1},D=function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},j=function(e,t){if(t<1)return"";for(var r="";t>1;)1&t&&(r+=e),t>>=1,e+=e;return r+e},M=n.exports.defaults,I=C,R=A,B=x,N=T;function F(e,t,r,n){var a=t.href,i=t.title?B(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;var o={type:"link",raw:r,href:a,title:i,text:s,tokens:n.inlineTokens(s,[])};return n.state.inLink=!1,o}return{type:"image",raw:r,href:a,title:i,text:B(s)}}var q=function(){function e(e){this.options=e||M}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e){var t=this.rules.block.code.exec(e);if(t){var r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:I(r,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var r=t[0],n=function(e,t){var r=e.match(/^(\s+)(?:```)/);if(null===r)return t;var n=r[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=n.length?e.slice(n.length):e})).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim():t[2],text:n}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var r=t[2].trim();if(/#$/.test(r)){var n=I(r,"#");this.options.pedantic?r=n.trim():n&&!/ $/.test(n)||(r=n.trim())}var a={type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:[]};return this.lexer.inline(a.text,a.tokens),a}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var r=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(r,[]),text:r}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var r,n,a,i,s,o,c,u,l,d,h=t[1].trim(),p=h.length>1,f={type:"list",raw:"",ordered:p,start:p?+h.slice(0,-1):"",loose:!1,items:[]};h=p?"\\d{1,9}\\"+h.slice(-1):"\\"+h,this.options.pedantic&&(h=p?h:"[*+-]");for(var m=new RegExp("^( {0,3}"+h+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");e&&!this.rules.block.hr.test(e)&&(t=m.exec(e));){l=t[2].split("\n"),this.options.pedantic?(i=2,d=l[0].trimLeft()):(i=t[2].search(/[^ ]/),i=t[1].length+(i>4?1:i),d=l[0].slice(i-t[1].length)),o=!1,r=t[0],!l[0]&&/^ *$/.test(l[1])&&(r=t[1]+l.slice(0,2).join("\n")+"\n",f.loose=!0,l=[]);var g=new RegExp("^ {0,"+Math.min(3,i-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(s=1;s<l.length;s++){if(u=l[s],this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),g.test(u)){r=t[1]+l.slice(0,s).join("\n")+"\n";break}if(o){if(!(u.search(/[^ ]/)>=i)&&u.trim()){r=t[1]+l.slice(0,s).join("\n")+"\n";break}d+="\n"+u.slice(i)}else u.trim()||(o=!0),u.search(/[^ ]/)>=i?d+="\n"+u.slice(i):d+="\n"+u}f.loose||(c?f.loose=!0:/\n *\n *$/.test(r)&&(c=!0)),this.options.gfm&&(n=/^\[[ xX]\] /.exec(d))&&(a="[ ] "!==n[0],d=d.replace(/^\[[ xX]\] +/,"")),f.items.push({type:"list_item",raw:r,task:!!n,checked:a,loose:!1,text:d}),f.raw+=r,e=e.slice(r.length)}f.items[f.items.length-1].raw=r.trimRight(),f.items[f.items.length-1].text=d.trimRight(),f.raw=f.raw.trimRight();var y=f.items.length;for(s=0;s<y;s++)this.lexer.state.top=!1,f.items[s].tokens=this.lexer.blockTokens(f.items[s].text,[]),f.items[s].tokens.some((function(e){return"space"===e.type}))&&(f.loose=!0,f.items[s].loose=!0);return f}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t){var r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};return this.options.sanitize&&(r.type="paragraph",r.text=this.options.sanitizer?this.options.sanitizer(t[0]):B(t[0]),r.tokens=[],this.lexer.inline(r.text,r.tokens)),r}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var r={type:"table",header:R(t[1]).map((function(e){return{text:e}})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];var n,a,i,s,o=r.align.length;for(n=0;n<o;n++)/^ *-+: *$/.test(r.align[n])?r.align[n]="right":/^ *:-+: *$/.test(r.align[n])?r.align[n]="center":/^ *:-+ *$/.test(r.align[n])?r.align[n]="left":r.align[n]=null;for(o=r.rows.length,n=0;n<o;n++)r.rows[n]=R(r.rows[n],r.header.length).map((function(e){return{text:e}}));for(o=r.header.length,a=0;a<o;a++)r.header[a].tokens=[],this.lexer.inlineTokens(r.header[a].text,r.header[a].tokens);for(o=r.rows.length,a=0;a<o;a++)for(s=r.rows[a],i=0;i<s.length;i++)s[i].tokens=[],this.lexer.inlineTokens(s[i].text,s[i].tokens);return r}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t){var r={type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t){var r={type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}},t.text=function(e){var t=this.rules.block.text.exec(e);if(t){var r={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:B(t[1])}},t.tag=function(e){var t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):B(t[0]):t[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;var n=I(r.slice(0,-1),"\\");if((r.length-n.length)%2==0)return}else{var a=N(t[2],"()");if(a>-1){var i=(0===t[0].indexOf("!")?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,i).trim(),t[3]=""}}var s=t[2],o="";if(this.options.pedantic){var c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);c&&(s=c[1],o=c[3])}else o=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(r)?s.slice(1):s.slice(1,-1)),F(t,{href:s?s.replace(this.rules.inline._escapes,"$1"):s,title:o?o.replace(this.rules.inline._escapes,"$1"):o},t[0],this.lexer)}},t.reflink=function(e,t){var r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){var n=(r[2]||r[1]).replace(/\s+/g," ");if(!(n=t[n.toLowerCase()])||!n.href){var a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return F(r,n,r[0],this.lexer)}},t.emStrong=function(e,t,r){void 0===r&&(r="");var n=this.rules.inline.emStrong.lDelim.exec(e);if(n&&(!n[3]||!r.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var a=n[1]||n[2]||"";if(!a||a&&(""===r||this.rules.inline.punctuation.exec(r))){var i,s,o=n[0].length-1,c=o,u=0,l="*"===n[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+o);null!=(n=l.exec(t));)if(i=n[1]||n[2]||n[3]||n[4]||n[5]||n[6])if(s=i.length,n[3]||n[4])c+=s;else if(!((n[5]||n[6])&&o%3)||(o+s)%3){if(!((c-=s)>0)){if(s=Math.min(s,s+c+u),Math.min(o,s)%2){var d=e.slice(1,o+n.index+s);return{type:"em",raw:e.slice(0,o+n.index+s+1),text:d,tokens:this.lexer.inlineTokens(d,[])}}var h=e.slice(2,o+n.index+s-1);return{type:"strong",raw:e.slice(0,o+n.index+s+1),text:h,tokens:this.lexer.inlineTokens(h,[])}}}else u+=s}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var r=t[2].replace(/\n/g," "),n=/[^ ]/.test(r),a=/^ /.test(r)&&/ $/.test(r);return n&&a&&(r=r.substring(1,r.length-1)),r=B(r,!0),{type:"codespan",raw:t[0],text:r}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}},t.autolink=function(e,t){var r,n,a=this.rules.inline.autolink.exec(e);if(a)return n="@"===a[2]?"mailto:"+(r=B(this.options.mangle?t(a[1]):a[1])):r=B(a[1]),{type:"link",raw:a[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}},t.url=function(e,t){var r;if(r=this.rules.inline.url.exec(e)){var n,a;if("@"===r[2])a="mailto:"+(n=B(this.options.mangle?t(r[0]):r[0]));else{var i;do{i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(i!==r[0]);n=B(r[0]),a="www."===r[1]?"http://"+n:n}return{type:"link",raw:r[0],text:n,href:a,tokens:[{type:"text",raw:n,text:n}]}}},t.inlineText=function(e,t){var r,n=this.rules.inline.text.exec(e);if(n)return r=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):B(n[0]):n[0]:B(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:r}},e}(),L=P,H=S,U=E,z={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:L,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};z.def=H(z.def).replace("label",z._label).replace("title",z._title).getRegex(),z.bullet=/(?:[*+-]|\d{1,9}[.)])/,z.listItemStart=H(/^( *)(bull) */).replace("bull",z.bullet).getRegex(),z.list=H(z.list).replace(/bull/g,z.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+z.def.source+")").getRegex(),z._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",z._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,z.html=H(z.html,"i").replace("comment",z._comment).replace("tag",z._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),z.paragraph=H(z._paragraph).replace("hr",z.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z._tag).getRegex(),z.blockquote=H(z.blockquote).replace("paragraph",z.paragraph).getRegex(),z.normal=U({},z),z.gfm=U({},z.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),z.gfm.table=H(z.gfm.table).replace("hr",z.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",z._tag).getRegex(),z.pedantic=U({},z.normal,{html:H("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",z._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:L,paragraph:H(z.normal._paragraph).replace("hr",z.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",z.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var V={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:L,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:L,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};V.punctuation=H(V.punctuation).replace(/punctuation/g,V._punctuation).getRegex(),V.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,V.escapedEmSt=/\\\*|\\_/g,V._comment=H(z._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),V.emStrong.lDelim=H(V.emStrong.lDelim).replace(/punct/g,V._punctuation).getRegex(),V.emStrong.rDelimAst=H(V.emStrong.rDelimAst,"g").replace(/punct/g,V._punctuation).getRegex(),V.emStrong.rDelimUnd=H(V.emStrong.rDelimUnd,"g").replace(/punct/g,V._punctuation).getRegex(),V._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,V._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,V._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,V.autolink=H(V.autolink).replace("scheme",V._scheme).replace("email",V._email).getRegex(),V._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,V.tag=H(V.tag).replace("comment",V._comment).replace("attribute",V._attribute).getRegex(),V._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,V._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,V._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,V.link=H(V.link).replace("label",V._label).replace("href",V._href).replace("title",V._title).getRegex(),V.reflink=H(V.reflink).replace("label",V._label).getRegex(),V.reflinkSearch=H(V.reflinkSearch,"g").replace("reflink",V.reflink).replace("nolink",V.nolink).getRegex(),V.normal=U({},V),V.pedantic=U({},V.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:H(/^!?\[(label)\]\((.*?)\)/).replace("label",V._label).getRegex(),reflink:H(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",V._label).getRegex()}),V.gfm=U({},V.normal,{escape:H(V.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),V.gfm.url=H(V.gfm.url,"i").replace("email",V.gfm._extended_email).getRegex(),V.breaks=U({},V.gfm,{br:H(V.br).replace("{2,}","*").getRegex(),text:H(V.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var G={block:z,inline:V},W=q,K=n.exports.defaults,Y=G.block,X=G.inline,J=j;function Q(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function Z(e){var t,r,n="",a=e.length;for(t=0;t<a;t++)r=e.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),n+="&#"+r+";";return n}var $=function(){function t(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||K,this.options.tokenizer=this.options.tokenizer||new W,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var t={block:Y.normal,inline:X.normal};this.options.pedantic?(t.block=Y.pedantic,t.inline=X.pedantic):this.options.gfm&&(t.block=Y.gfm,this.options.breaks?t.inline=X.breaks:t.inline=X.gfm),this.tokenizer.rules=t}t.lex=function(e,r){return new t(r).lex(e)},t.lexInline=function(e,r){return new t(r).inlineTokens(e)};var r,n,a,i=t.prototype;return i.lex=function(e){var t;for(e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens},i.blockTokens=function(e,t){var r,n,a,i,s=this;for(void 0===t&&(t=[]),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((function(n){return!!(r=n.call({lexer:s},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)}))))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.type&&t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),!(n=t[t.length-1])||"paragraph"!==n.type&&"text"!==n.type?t.push(r):(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.list(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.def(e))e=e.substring(r.raw.length),!(n=t[t.length-1])||"paragraph"!==n.type&&"text"!==n.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(n.raw+="\n"+r.raw,n.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=n.text);else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else if(a=e,this.options.extensions&&this.options.extensions.startBlock&&function(){var t=1/0,r=e.slice(1),n=void 0;s.options.extensions.startBlock.forEach((function(e){"number"==typeof(n=e.call({lexer:this},r))&&n>=0&&(t=Math.min(t,n))})),t<1/0&&t>=0&&(a=e.substring(0,t+1))}(),this.state.top&&(r=this.tokenizer.paragraph(a)))n=t[t.length-1],i&&"paragraph"===n.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(r),i=a.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),(n=t[t.length-1])&&"text"===n.type?(n.raw+="\n"+r.raw,n.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=n.text):t.push(r);else if(e){var o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}throw new Error(o)}return this.state.top=!0,t},i.inline=function(e,t){this.inlineQueue.push({src:e,tokens:t})},i.inlineTokens=function(e,t){var r,n,a,i=this;void 0===t&&(t=[]);var s,o,c,u=e;if(this.tokens.links){var l=Object.keys(this.tokens.links);if(l.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(u));)l.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,s.index)+"["+J("a",s[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(u));)u=u.slice(0,s.index)+"["+J("a",s[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(u));)u=u.slice(0,s.index)+"++"+u.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(o||(c=""),o=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((function(n){return!!(r=n.call({lexer:i},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)}))))if(r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e))e=e.substring(r.raw.length),(n=t[t.length-1])&&"text"===r.type&&"text"===n.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),(n=t[t.length-1])&&"text"===r.type&&"text"===n.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);else if(r=this.tokenizer.emStrong(e,u,c))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.autolink(e,Z))e=e.substring(r.raw.length),t.push(r);else if(this.state.inLink||!(r=this.tokenizer.url(e,Z))){if(a=e,this.options.extensions&&this.options.extensions.startInline&&function(){var t=1/0,r=e.slice(1),n=void 0;i.options.extensions.startInline.forEach((function(e){"number"==typeof(n=e.call({lexer:this},r))&&n>=0&&(t=Math.min(t,n))})),t<1/0&&t>=0&&(a=e.substring(0,t+1))}(),r=this.tokenizer.inlineText(a,Q))e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(c=r.raw.slice(-1)),o=!0,(n=t[t.length-1])&&"text"===n.type?(n.raw+=r.raw,n.text+=r.text):t.push(r);else if(e){var d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}else e=e.substring(r.raw.length),t.push(r);return t},r=t,a=[{key:"rules",get:function(){return{block:Y,inline:X}}}],(n=null)&&e(r.prototype,n),a&&e(r,a),t}(),ee=n.exports.defaults,te=O,re=x,ne=function(){function e(e){this.options=e||ee}var t=e.prototype;return t.code=function(e,t,r){var n=(t||"").match(/\S*/)[0];if(this.options.highlight){var a=this.options.highlight(e,n);null!=a&&a!==e&&(r=!0,e=a)}return e=e.replace(/\n$/,"")+"\n",n?'<pre><code class="'+this.options.langPrefix+re(n,!0)+'">'+(r?e:re(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:re(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,r,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.slug(r)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,r){var n=t?"ol":"ul";return"<"+n+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+n+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var r=t.header?"th":"td";return(t.align?"<"+r+' align="'+t.align+'">':"<"+r+">")+e+"</"+r+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,r){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return r;var n='<a href="'+re(e)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+r+"</a>"},t.image=function(e,t,r){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return r;var n='<img src="'+e+'" alt="'+r+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},t.text=function(e){return e},e}(),ae=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,r){return""+r},t.image=function(e,t,r){return""+r},t.br=function(){return""},e}(),ie=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var r=e,n=0;if(this.seen.hasOwnProperty(r)){n=this.seen[e];do{r=e+"-"+ ++n}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=n,this.seen[r]=0),r},t.slug=function(e,t){void 0===t&&(t={});var r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)},e}(),se=ne,oe=ae,ce=ie,ue=n.exports.defaults,le=k,de=$,he=function(){function e(e){this.options=e||ue,this.options.renderer=this.options.renderer||new se,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new oe,this.slugger=new ce}e.parse=function(t,r){return new e(r).parse(t)},e.parseInline=function(t,r){return new e(r).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var r,n,a,i,s,o,c,u,l,d,h,p,f,m,g,y,b,v,_,w="",x=e.length;for(r=0;r<x;r++)if(d=e[r],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type])||!1===(_=this.options.extensions.renderers[d.type].call({parser:this},d))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type))switch(d.type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(d.tokens),d.depth,le(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":w+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(u="",c="",i=d.header.length,n=0;n<i;n++)c+=this.renderer.tablecell(this.parseInline(d.header[n].tokens),{header:!0,align:d.align[n]});for(u+=this.renderer.tablerow(c),l="",i=d.rows.length,n=0;n<i;n++){for(c="",s=(o=d.rows[n]).length,a=0;a<s;a++)c+=this.renderer.tablecell(this.parseInline(o[a].tokens),{header:!1,align:d.align[a]});l+=this.renderer.tablerow(c)}w+=this.renderer.table(u,l);continue;case"blockquote":l=this.parse(d.tokens),w+=this.renderer.blockquote(l);continue;case"list":for(h=d.ordered,p=d.start,f=d.loose,i=d.items.length,l="",n=0;n<i;n++)y=(g=d.items[n]).checked,b=g.task,m="",g.task&&(v=this.renderer.checkbox(y),f?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=v+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=v+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:v}):m+=v),m+=this.parse(g.tokens,f),l+=this.renderer.listitem(m,b,y);w+=this.renderer.list(l,h,p);continue;case"html":w+=this.renderer.html(d.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(l=d.tokens?this.parseInline(d.tokens):d.text;r+1<x&&"text"===e[r+1].type;)l+="\n"+((d=e[++r]).tokens?this.parseInline(d.tokens):d.text);w+=t?this.renderer.paragraph(l):l;continue;default:var k='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(k);throw new Error(k)}else w+=_||"";return w},t.parseInline=function(e,t){t=t||this.renderer;var r,n,a,i="",s=e.length;for(r=0;r<s;r++)if(n=e[r],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[n.type])||!1===(a=this.options.extensions.renderers[n.type].call({parser:this},n))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(n.type))switch(n.type){case"escape":i+=t.text(n.text);break;case"html":i+=t.html(n.text);break;case"link":i+=t.link(n.href,n.title,this.parseInline(n.tokens,t));break;case"image":i+=t.image(n.href,n.title,n.text);break;case"strong":i+=t.strong(this.parseInline(n.tokens,t));break;case"em":i+=t.em(this.parseInline(n.tokens,t));break;case"codespan":i+=t.codespan(n.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(n.tokens,t));break;case"text":i+=t.text(n.text);break;default:var o='Token with "'+n.type+'" type was not found.';if(this.options.silent)return void console.error(o);throw new Error(o)}else i+=a||"";return i},e}(),pe=q,fe=ne,me=ae,ge=ie,ye=E,be=D,ve=x,_e=n.exports.getDefaults,we=n.exports.changeDefaults,xe=n.exports.defaults;function ke(e,t,r){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(r=t,t=null),t=ye({},ke.defaults,t||{}),be(t),r){var n,a=t.highlight;try{n=de.lex(e,t)}catch(e){return r(e)}var i=function(e){var i;if(!e)try{t.walkTokens&&ke.walkTokens(n,t.walkTokens),i=he.parse(n,t)}catch(t){e=t}return t.highlight=a,e?r(e):r(null,i)};if(!a||a.length<3)return i();if(delete t.highlight,!n.length)return i();var s=0;return ke.walkTokens(n,(function(e){"code"===e.type&&(s++,setTimeout((function(){a(e.text,e.lang,(function(t,r){if(t)return i(t);null!=r&&r!==e.text&&(e.text=r,e.escaped=!0),0==--s&&i()}))}),0))})),void(0===s&&i())}try{var o=de.lex(e,t);return t.walkTokens&&ke.walkTokens(o,t.walkTokens),he.parse(o,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+ve(e.message+"",!0)+"</pre>";throw e}}return ke.options=ke.setOptions=function(e){return ye(ke.defaults,e),we(ke.defaults),ke},ke.getDefaults=_e,ke.defaults=xe,ke.use=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,a=ye.apply(void 0,[{}].concat(t)),i=ke.defaults.extensions||{renderers:{},childTokens:{}};t.forEach((function(e){if(e.extensions&&(n=!0,e.extensions.forEach((function(e){if(!e.name)throw new Error("extension name required");if(e.renderer){var t=i.renderers?i.renderers[e.name]:null;i.renderers[e.name]=t?function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=e.renderer.apply(this,n);return!1===i&&(i=t.apply(this,n)),i}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");i[e.level]?i[e.level].unshift(e.tokenizer):i[e.level]=[e.tokenizer],e.start&&("block"===e.level?i.startBlock?i.startBlock.push(e.start):i.startBlock=[e.start]:"inline"===e.level&&(i.startInline?i.startInline.push(e.start):i.startInline=[e.start]))}e.childTokens&&(i.childTokens[e.name]=e.childTokens)}))),e.renderer&&function(){var t=ke.defaults.renderer||new fe,r=function(r){var n=t[r];t[r]=function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];var o=e.renderer[r].apply(t,i);return!1===o&&(o=n.apply(t,i)),o}};for(var n in e.renderer)r(n);a.renderer=t}(),e.tokenizer&&function(){var t=ke.defaults.tokenizer||new pe,r=function(r){var n=t[r];t[r]=function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];var o=e.tokenizer[r].apply(t,i);return!1===o&&(o=n.apply(t,i)),o}};for(var n in e.tokenizer)r(n);a.tokenizer=t}(),e.walkTokens){var t=ke.defaults.walkTokens;a.walkTokens=function(r){e.walkTokens.call(this,r),t&&t.call(this,r)}}n&&(a.extensions=i),ke.setOptions(a)}))},ke.walkTokens=function(e,t){for(var n,a=function(){var e=n.value;switch(t.call(ke,e),e.type){case"table":for(var a,i=r(e.header);!(a=i()).done;){var s=a.value;ke.walkTokens(s.tokens,t)}for(var o,c=r(e.rows);!(o=c()).done;)for(var u,l=r(o.value);!(u=l()).done;){var d=u.value;ke.walkTokens(d.tokens,t)}break;case"list":ke.walkTokens(e.items,t);break;default:ke.defaults.extensions&&ke.defaults.extensions.childTokens&&ke.defaults.extensions.childTokens[e.type]?ke.defaults.extensions.childTokens[e.type].forEach((function(r){ke.walkTokens(e[r],t)})):e.tokens&&ke.walkTokens(e.tokens,t)}},i=r(e);!(n=i()).done;)a()},ke.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=ye({},ke.defaults,t||{}),be(t);try{var r=de.lexInline(e,t);return t.walkTokens&&ke.walkTokens(r,t.walkTokens),he.parseInline(r,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+ve(e.message+"",!0)+"</pre>";throw e}},ke.Parser=he,ke.parser=he.parse,ke.Renderer=fe,ke.TextRenderer=me,ke.Lexer=de,ke.lexer=de.lex,ke.Tokenizer=pe,ke.Slugger=ge,ke.parse=ke,ke}()},function(e,t,r){const n=r(1190),a=r(1199),{isPlainObject:i}=r(1200),s=r(1201),o=r(1202),{parse:c}=r(1203),u=["img","audio","video","picture","svg","object","map","iframe","embed"],l=["script","style"];function d(e,t){e&&Object.keys(e).forEach((function(r){t(e[r],r)}))}function h(e,t){return{}.hasOwnProperty.call(e,t)}function p(e,t){const r=[];return d(e,(function(e){t(e)&&r.push(e)})),r}e.exports=m;const f=/^[^\0\t\n\f\r /<=>]+$/;function m(e,t,r){if(null==e)return"";let y="",b="";function v(e,t){const r=this;this.tag=e,this.attribs=t||{},this.tagPosition=y.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(A.length){A[A.length-1].text+=r.text}},this.updateParentNodeMediaChildren=function(){if(A.length&&u.includes(this.tag)){A[A.length-1].mediaChildren.push(this.tag)}}}(t=Object.assign({},m.defaults,t)).parser=Object.assign({},g,t.parser),l.forEach((function(e){t.allowedTags&&t.allowedTags.indexOf(e)>-1&&!t.allowVulnerableTags&&console.warn(`\n\n Your \`allowedTags\` option includes, \`${e}\`, which is inherently\nvulnerable to XSS attacks. Please remove it from \`allowedTags\`.\nOr, to disable this warning, add the \`allowVulnerableTags\` option\nand ensure you are accounting for this risk.\n\n`)}));const _=t.nonTextTags||["script","style","textarea","option"];let w,x;t.allowedAttributes&&(w={},x={},d(t.allowedAttributes,(function(e,t){w[t]=[];const r=[];e.forEach((function(e){"string"==typeof e&&e.indexOf("*")>=0?r.push(a(e).replace(/\\\*/g,".*")):w[t].push(e)})),r.length&&(x[t]=new RegExp("^("+r.join("|")+")$"))})));const k={},S={};d(t.allowedClasses,(function(e,t){w&&(h(w,t)||(w[t]=[]),w[t].push("class")),k[t]=[];const r=[];e.forEach((function(e){"string"==typeof e&&e.indexOf("*")>=0?r.push(a(e).replace(/\\\*/g,".*")):k[t].push(e)})),r.length&&(S[t]=new RegExp("^("+r.join("|")+")$"))}));const O={};let P,E,A,C,T,D,j;d(t.transformTags,(function(e,t){let r;"function"==typeof e?r=e:"string"==typeof e&&(r=m.simpleTransform(e)),"*"===t?P=r:O[t]=r}));let M=!1;R();const I=new n.Parser({onopentag:function(e,r){if(t.enforceHtmlBoundary&&"html"===e&&R(),D)return void j++;const n=new v(e,r);A.push(n);let a=!1;const u=!!n.text;let l;if(h(O,e)&&(l=O[e](e,r),n.attribs=r=l.attribs,void 0!==l.text&&(n.innerText=l.text),e!==l.tagName&&(n.name=e=l.tagName,T[E]=l.tagName)),P&&(l=P(e,r),n.attribs=r=l.attribs,e!==l.tagName&&(n.name=e=l.tagName,T[E]=l.tagName)),(t.allowedTags&&-1===t.allowedTags.indexOf(e)||"recursiveEscape"===t.disallowedTagsMode&&!function(e){for(const t in e)if(h(e,t))return!1;return!0}(C)||null!=t.nestingLimit&&E>=t.nestingLimit)&&(a=!0,C[E]=!0,"discard"===t.disallowedTagsMode&&-1!==_.indexOf(e)&&(D=!0,j=1),C[E]=!0),E++,a){if("discard"===t.disallowedTagsMode)return;b=y,y=""}y+="<"+e,"script"===e&&(t.allowedScriptHostnames||t.allowedScriptDomains)&&(n.innerText=""),(!w||h(w,e)||w["*"])&&d(r,(function(r,a){if(!f.test(a))return void delete n.attribs[a];let u,l=!1;if(!w||h(w,e)&&-1!==w[e].indexOf(a)||w["*"]&&-1!==w["*"].indexOf(a)||h(x,e)&&x[e].test(a)||x["*"]&&x["*"].test(a))l=!0;else if(w&&w[e])for(const t of w[e])if(i(t)&&t.name&&t.name===a){l=!0;let e="";if(!0===t.multiple){const n=r.split(" ");for(const r of n)-1!==t.values.indexOf(r)&&(""===e?e=r:e+=" "+r)}else t.values.indexOf(r)>=0&&(e=r);r=e}if(l){if(-1!==t.allowedSchemesAppliedToAttributes.indexOf(a)&&N(e,r))return void delete n.attribs[a];if("script"===e&&"src"===a){let e=!0;try{const n=new URL(r);if(t.allowedScriptHostnames||t.allowedScriptDomains){const r=(t.allowedScriptHostnames||[]).find((function(e){return e===n.hostname})),a=(t.allowedScriptDomains||[]).find((function(e){return n.hostname===e||n.hostname.endsWith("."+e)}));e=r||a}}catch(t){e=!1}if(!e)return void delete n.attribs[a]}if("iframe"===e&&"src"===a){let e=!0;try{if((r=r.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//")).startsWith("relative:"))throw new Error("relative: exploit attempt");let n="relative://relative-site";for(let e=0;e<100;e++)n+="/"+e;const a=new URL(r,n);if(a&&"relative-site"===a.hostname&&"relative:"===a.protocol)e=h(t,"allowIframeRelativeUrls")?t.allowIframeRelativeUrls:!t.allowedIframeHostnames&&!t.allowedIframeDomains;else if(t.allowedIframeHostnames||t.allowedIframeDomains){const r=(t.allowedIframeHostnames||[]).find((function(e){return e===a.hostname})),n=(t.allowedIframeDomains||[]).find((function(e){return a.hostname===e||a.hostname.endsWith("."+e)}));e=r||n}}catch(t){e=!1}if(!e)return void delete n.attribs[a]}if("srcset"===a)try{if(u=o(r),u.forEach((function(e){N("srcset",e.url)&&(e.evil=!0)})),u=p(u,(function(e){return!e.evil})),!u.length)return void delete n.attribs[a];r=p(u,(function(e){return!e.evil})).map((function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")})).join(", "),n.attribs[a]=r}catch(e){return void delete n.attribs[a]}if("class"===a){const t=k[e],i=k["*"],o=[S[e],S["*"]].filter((function(e){return e}));if(!(r=F(r,t&&i?s(t,i):t||i,o)).length)return void delete n.attribs[a]}if("style"===a)try{const i=c(e+" {"+r+"}");if(0===(r=function(e){return e.nodes[0].nodes.reduce((function(e,t){return e.push(t.prop+":"+t.value),e}),[]).join(";")}(function(e,t){if(!t)return e;const r=e.nodes[0];let n;n=t[r.selector]&&t["*"]?s(t[r.selector],t["*"]):t[r.selector]||t["*"];n&&(e.nodes[0].nodes=r.nodes.reduce(function(e){return function(t,r){if(h(e,r.prop)){e[r.prop].some((function(e){return e.test(r.value)}))&&t.push(r)}return t}}(n),[]));return e}(i,t.allowedStyles))).length)return void delete n.attribs[a]}catch(e){return void delete n.attribs[a]}y+=" "+a,r&&r.length&&(y+='="'+B(r,!0)+'"')}else delete n.attribs[a]})),-1!==t.selfClosing.indexOf(e)?y+=" />":(y+=">",!n.innerText||u||t.textFilter||(y+=B(n.innerText),M=!0)),a&&(y=b+B(y),b="")},ontext:function(e){if(D)return;const r=A[A.length-1];let n;if(r&&(n=r.tag,e=void 0!==r.innerText?r.innerText:e),"discard"!==t.disallowedTagsMode||"script"!==n&&"style"!==n){const r=B(e,!1);t.textFilter&&!M?y+=t.textFilter(r,n):M||(y+=r)}else y+=e;if(A.length){A[A.length-1].text+=e}},onclosetag:function(e){if(D){if(j--,j)return;D=!1}const r=A.pop();if(!r)return;D=!!t.enforceHtmlBoundary&&"html"===e,E--;const n=C[E];if(n){if(delete C[E],"discard"===t.disallowedTagsMode)return void r.updateParentNodeText();b=y,y=""}T[E]&&(e=T[E],delete T[E]),t.exclusiveFilter&&t.exclusiveFilter(r)?y=y.substr(0,r.tagPosition):(r.updateParentNodeMediaChildren(),r.updateParentNodeText(),-1===t.selfClosing.indexOf(e)?(y+="</"+e+">",n&&(y=b+B(y),b="")):n&&(y=b,b=""))}},t.parser);return I.write(e),I.end(),y;function R(){y="",E=0,A=[],C={},T={},D=!1,j=0}function B(e,r){return"string"!=typeof e&&(e+=""),t.parser.decodeEntities&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r&&(e=e.replace(/"/g,"&quot;"))),e=e.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r&&(e=e.replace(/"/g,"&quot;")),e}function N(e,r){const n=(r=(r=r.replace(/[\x00-\x20]+/g,"")).replace(/<!--.*?-->/g,"")).match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!n)return!!r.match(/^[/\\]{2}/)&&!t.allowProtocolRelative;const a=n[1].toLowerCase();return h(t.allowedSchemesByTag,e)?-1===t.allowedSchemesByTag[e].indexOf(a):!t.allowedSchemes||-1===t.allowedSchemes.indexOf(a)}function F(e,t,r){return t?(e=e.split(/\s+/)).filter((function(e){return-1!==t.indexOf(e)||r.some((function(t){return t.test(e)}))})).join(" "):e}}const g={decodeEntities:!0};m.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},m.simpleTransform=function(e,t,r){return r=void 0===r||r,t=t||{},function(n,a){let i;if(r)for(i in t)a[i]=t[i];else a=t;return{tagName:e,attribs:a}}}},function(e){e.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},function(e){e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(e,t,r){"use strict";let n=r(1204),a=r(520);class i extends Error{constructor(e,t,r,n,a,s){super(e),this.name="CssSyntaxError",this.reason=e,a&&(this.file=a),n&&(this.source=n),s&&(this.plugin=s),void 0!==t&&void 0!==r&&(this.line=t,this.column=r),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,i)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",void 0!==this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=n.isColorSupported),a&&e&&(t=a(t));let r,i,s=t.split(/\r?\n/),o=Math.max(this.line-3,0),c=Math.min(this.line+2,s.length),u=String(c).length;if(e){let{bold:e,red:t,gray:a}=n.createColors(!0);r=r=>e(t(r)),i=e=>a(e)}else r=i=e=>e;return s.slice(o,c).map((e,t)=>{let n=o+1+t,a=" "+(" "+n).slice(-u)+" | ";if(n===this.line){let t=i(a.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return r(">")+i(a)+e+"\n "+t+r("^")}return" "+i(a)+e}).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}e.exports=i,i.default=i},function(e,t,r){"use strict";e.exports.isClean=Symbol("isClean"),e.exports.my=Symbol("my")},function(e,t,r){"use strict";let n=r(521);function a(e,t){new n(t).stringify(e)}e.exports=a,a.default=a},function(e,t){},function(e,t){},function(e,t,r){"use strict";let n,a,i=r(95);class s extends i{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new n(new a,this,e).stringify()}}s.registerLazyResult=e=>{n=e},s.registerProcessor=e=>{a=e},e.exports=s,s.default=s},function(e,t,r){"use strict";let n=r(95);class a extends n{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}}e.exports=a,a.default=a,n.registerAtRule(a)},function(e,t,r){"use strict";let n=r(95),a=r(527);class i extends n{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return a.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}}e.exports=i,i.default=i,n.registerRule(i)},function(e,t,r){"use strict";let{SourceMapConsumer:n,SourceMapGenerator:a}=r(284),{fileURLToPath:i,pathToFileURL:s}=r(523),{resolve:o,isAbsolute:c}=r(285),{nanoid:u}=r(1209),l=r(520),d=r(281),h=r(528),p=Symbol("fromOffsetCache"),f=Boolean(n&&a),m=Boolean(o&&c);class g{constructor(e,t={}){if(null==e||"object"==typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\ufeff"===this.css[0]||""===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!m||/^\w+:\/\//.test(t.from)||c(t.from)?this.file=t.from:this.file=o(t.from)),m&&f){let e=new h(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+u(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(e){let t,r;if(this[p])r=this[p];else{let e=this.css.split("\n");r=new Array(e.length);let t=0;for(let n=0,a=e.length;n<a;n++)r[n]=t,t+=e[n].length+1;this[p]=r}t=r[r.length-1];let n=0;if(e>=t)n=r.length-1;else{let t,a=r.length-2;for(;n<a;)if(t=n+(a-n>>1),e<r[t])a=t-1;else{if(!(e>=r[t+1])){n=t;break}n=t+1}}return{line:n+1,col:e-r[n]+1}}error(e,t,r,n={}){let a;if(!r){let e=this.fromOffset(t);t=e.line,r=e.col}let i=this.origin(t,r);return a=i?new d(e,i.line,i.column,i.source,i.file,n.plugin):new d(e,t,r,this.css,this.file,n.plugin),a.input={line:t,column:r,source:this.css},this.file&&(s&&(a.input.url=s(this.file).toString()),a.input.file=this.file),a}origin(e,t){if(!this.map)return!1;let r,n=this.map.consumer(),a=n.originalPositionFor({line:e,column:t});if(!a.source)return!1;r=c(a.source)?s(a.source):new URL(a.source,this.map.consumer().sourceRoot||s(this.map.mapFile));let o={url:r.toString(),line:a.line,column:a.column};if("file:"===r.protocol){if(!i)throw new Error("file: protocol is not available in this PostCSS build");o.file=i(r)}let u=n.sourceContentFor(a.source);return u&&(o.source=u),o}mapResolve(e){return/^\w+:\/\//.test(e)?e:o(this.map.consumer().sourceRoot||this.map.root||".",e)}get from(){return this.file||this.id}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}}e.exports=g,g.default=g,l&&l.registerInput&&l.registerInput(g)},function(e,t,r){"use strict";var n=new(r(1213))(void 0,{fuzzyEmail:!1});n.tlds(["chat"],!0),Object.keys(n.__compiled__).forEach((function(e){if(n.__compiled__[e].validate){var t=n.__compiled__[e].validate;n.__compiled__[e].validate=function(r,n,a){a.re.markdownLink||(a.re.markdownLink=new RegExp(/[!&]?\[([!&]?\[.*?\)|[^\]]*?)]\((.*?)( .*?)?\)/));var i=n-e.length,s=r.match(a.re.markdownLink);if(s&&i<=s[1].length+2+s.index+1)return!1;return t(r,n,a)}}}));e.exports=function(e){var t=n.match(e);if(!t)return e;var r=[],a=0;return t.forEach((function(t){a<t.index&&r.push(e.slice(a,t.index)),r.push("["+t.text+"]("+t.url+")"),a=t.lastIndex})),a<e.length&&r.push(e.slice(a)),r.join("")}},function(e,t,r){var n=r(292),a=r(132),i=r(296);e.exports=ChatMain={render:function(e,t){0!=e.BROWSER&&(document.getElementById("chat-main")||(t.renderMode="main",e.browser.addElementToDom(i())),"main"==t.renderMode?(n.render(e,t),n.attachEvents(e,t)):(a.render(e,t),a.attachEvents(e,t)))},attachEvents:function(e,t){}}},function(e,t,r){var n=r(293),a=r(294),i=r(132),s=r(500);e.exports=ChatList={render:function(e,t){t.add_user_modal=new s,document.getElementById("chat-main").innerHTML="",e.browser.addElementToDom(n(),"chat-main"),document.querySelector(".chat-list-container").innerHTML="";for(var r=0;r<t.groups.length;r++){var i,o="",c=(new Date).getTime();t.groups[r].txs.length>0&&(o=t.groups[r].txs[t.groups[r].txs.length-1].returnMessage().message,c=t.groups[r].txs[t.groups[r].txs.length-1].transaction.ts);var u=e.browser.formatDate(c);i=u.hours+":"+u.minutes,e.browser.addElementToDom(a(t.groups[r],o,i),"chat-list-container")}},attachEvents:function(e,t){var r=this;Array.from(document.getElementsByClassName("chat-row")).forEach((function(r){r.onclick=function(r){for(var n=document.getElementById(r.currentTarget.id).getAttribute("data-id"),a=0;a<t.groups.length;a++)if(t.groups[a].id===n){var s=t.groups[a];i.render(e,t,s),i.attachEvents(e,t)}}})),document.getElementById("chat-nav-add-contact").onclick=function(){t.add_user_modal.render(e,t),t.add_user_modal.attachEvents(e,t)},e.modules.respondTo("chat-navbar").forEach((function(t){t.respondTo("chat-navbar").render(e,t),t.respondTo("chat-navbar").attachEvents(e,t)})),document.querySelector("#chat.create-button").onclick=function(){return r.toggleChatNav()}},toggleChatNav:function(){var e=document.getElementById("chat-nav");e.style.display="none"==e.style.display?"flex":"none"}}},function(e,t){e.exports=ChatListTemplate=function(){return'\n      <div id="chat-list-container" class="chat-list-container">\n      </div>\n      <button id="chat" class="create-button"><i class="fas fa-plus"></i></button>\n      <div id="chat-nav" class="chat-dropdown" style="display: none"><ul style="display: grid;grid-gap: 0.5em;" id="chat-navbar" class="chat-navbar"><li id="chat-nav-add-contact" class="chat-nav-row"><i class="fas fa-user-plus"></i>Add Contact</li></ul>\n        <div class="chat-nav-arrow"></div>\n        <div class="chat-nav-arrow" id="chat-nav-arrow-interior"></div>\n      </div>\n  '}},function(e,t){e.exports=ChatListHeaderTemplate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n='\n    <div data-id="'.concat(e.id,'" id="chat-row-').concat(e.id,'" class="chat-row">\n      <img src="/saito/img/logo-color.svg">\n      <div class="chat-content">\n        <div class="chat-group-name">').concat(e.name,'</div>\n        <div id="chat-last-message-').concat(e.id,'" class="chat-last-message">').concat(t,'</div>\n      </div>\n      <div style="display: grid;">\n        <div id="chat-last-message-timestamp-').concat(e.id,'" class="chat-last-message-timestamp">').concat(r,"</div>\n      </div>\n    </div>\n  ");return n}},function(e,t){e.exports=ChatRoomTemplate=function(e){return'\n        <div class="chat-room" id="chat-room-'.concat(e.id,'">\n\n            <div class="chat-room-header">\n\t      <i id="back-button" class="icon-med fas fa-arrow-left"></i>\n\t      <p class="chat-room-name">').concat(e.name,'</p>\n\t    </div>\n\n            <div class="chat-room-content" id="chat-room-content-').concat(e.id,'" style="max-height:100%;overflow-y: scroll;"></div>\n\n            <div class="chat-room-footer">\n              <div class="chat-room-input">\n                <textarea data-id="').concat(e.id,'" id="input" class="chat-room-input"></textarea>\n                <div class="chat-room-submit-button"><i class="icon-small fas fa-arrow-right"></i></div>\n              </div>\n\t    </div>\n\n        </div>\n    ')}},function(e,t){e.exports=ChatMainTemplate=function(){return'\n    <div id="chat-main" class="chat-main">\n    </div>\n  '}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.Chess=function(e){var t="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",r=["1-0","0-1","1/2-1/2","*"],a={b:[16,32,17,15],w:[-16,-32,-17,-15]},i={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},s=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],o=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],c={p:0,n:1,b:2,r:3,q:4,k:5},u={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},l={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},d={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},h={w:[{square:d.a1,flag:l.QSIDE_CASTLE},{square:d.h1,flag:l.KSIDE_CASTLE}],b:[{square:d.a8,flag:l.QSIDE_CASTLE},{square:d.h8,flag:l.KSIDE_CASTLE}]},p=new Array(128),f={w:-1,b:-1},m="w",g={w:0,b:0},y=-1,b=0,v=1,_=[],w={};function x(){p=new Array(128),f={w:-1,b:-1},m="w",g={w:0,b:0},y=-1,b=0,v=1,_=[],w={},A(P())}function k(){S(t)}function S(e){var t=e.split(/\s+/),r=t[0],n=0;if(!O(e).valid)return!1;x();for(var a=0;a<r.length;a++){var i=r.charAt(a);if("/"===i)n+=8;else if(-1!=="0123456789".indexOf(i))n+=parseInt(i,10);else{var s=i<"a"?"w":"b";T({type:i.toLowerCase(),color:s},G(n)),n++}}return m=t[1],t[2].indexOf("K")>-1&&(g.w|=l.KSIDE_CASTLE),t[2].indexOf("Q")>-1&&(g.w|=l.QSIDE_CASTLE),t[2].indexOf("k")>-1&&(g.b|=l.KSIDE_CASTLE),t[2].indexOf("q")>-1&&(g.b|=l.QSIDE_CASTLE),y="-"===t[3]?-1:d[t[3]],b=parseInt(t[4],10),v=parseInt(t[5],10),A(P()),!0}function O(e){var t="No errors.",r="FEN string must contain six space-delimited fields.",n="6th field (move number) must be a positive integer.",a="5th field (half move counter) must be a non-negative integer.",i="4th field (en-passant square) is invalid.",s="3rd field (castling availability) is invalid.",o="2nd field (side to move) is invalid.",c="1st field (piece positions) does not contain 8 '/'-delimited rows.",u="1st field (piece positions) is invalid [consecutive numbers].",l="1st field (piece positions) is invalid [invalid piece].",d="1st field (piece positions) is invalid [row too large].",h=e.split(/\s+/);if(6!==h.length)return{valid:!1,error_number:1,error:r};if(isNaN(h[5])||parseInt(h[5],10)<=0)return{valid:!1,error_number:2,error:n};if(isNaN(h[4])||parseInt(h[4],10)<0)return{valid:!1,error_number:3,error:a};if(!/^(-|[abcdefgh][36])$/.test(h[3]))return{valid:!1,error_number:4,error:i};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(h[2]))return{valid:!1,error_number:5,error:s};if(!/^(w|b)$/.test(h[1]))return{valid:!1,error_number:6,error:o};var p=h[0].split("/");if(8!==p.length)return{valid:!1,error_number:7,error:c};for(var f=0;f<p.length;f++){for(var m=0,g=!1,y=0;y<p[f].length;y++)if(isNaN(p[f][y])){if(!/^[prnbqkPRNBQK]$/.test(p[f][y]))return{valid:!1,error_number:9,error:l};m+=1,g=!1}else{if(g)return{valid:!1,error_number:8,error:u};m+=parseInt(p[f][y],10),g=!0}if(8!==m)return{valid:!1,error_number:10,error:d}}return{valid:!0,error_number:0,error:t}}function P(){for(var e=0,t="",r=d.a8;r<=d.h1;r++){if(null==p[r])e++;else{e>0&&(t+=e,e=0);var n=p[r].color,a=p[r].type;t+="w"===n?a.toUpperCase():a.toLowerCase()}r+1&136&&(e>0&&(t+=e),r!==d.h1&&(t+="/"),e=0,r+=8)}var i="";g.w&l.KSIDE_CASTLE&&(i+="K"),g.w&l.QSIDE_CASTLE&&(i+="Q"),g.b&l.KSIDE_CASTLE&&(i+="k"),g.b&l.QSIDE_CASTLE&&(i+="q"),i=i||"-";var s=-1===y?"-":G(y);return[t,m,i,s,b,v].join(" ")}function E(e){for(var t=0;t<e.length;t+=2)"string"==typeof e[t]&&"string"==typeof e[t+1]&&(w[e[t]]=e[t+1]);return w}function A(e){_.length>0||(e!==t?(w.SetUp=e,w.FEN="1"):(delete w.SetUp,delete w.FEN))}function C(e){var t=p[d[e]];return t?{type:t.type,color:t.color}:null}function T(e,t){if(!("type"in e)||!("color"in e))return!1;if(-1==="pnbrqkPNBRQK".indexOf(e.type.toLowerCase()))return!1;if(!(t in d))return!1;var r=d[t];return p[r]={type:e.type,color:e.color},"k"===e.type&&(f[e.color]=r),A(P()),!0}function D(e,t,r,n,a){var i={color:m,from:t,to:r,flags:n,piece:e[t].type};return a&&(i.flags|=l.PROMOTION,i.promotion=a),e[r]?i.captured=e[r].type:n&l.EP_CAPTURE&&(i.captured="p"),i}function j(e){function t(e,t,r,n,a){if("p"!==e[r].type||0!==z(n)&&7!==z(n))t.push(D(e,r,n,a));else for(var i=["q","r","b","n"],s=0,o=i.length;s<o;s++)t.push(D(e,r,n,a,i[s]))}var r=[],n=m,s=W(n),o={b:1,w:6},c=d.a8,u=d.h1,h=!1,b=void 0===e||!("legal"in e)||e.legal;if(void 0!==e&&"square"in e){if(!(e.square in d))return[];c=u=d[e.square],h=!0}for(var v=c;v<=u;v++)if(136&v)v+=7;else{var _=p[v];if(null!=_&&_.color===n)if("p"===_.type){var w=v+a[n][0];if(null==p[w]){t(p,r,v,w,l.NORMAL);w=v+a[n][1];o[n]===z(v)&&null==p[w]&&t(p,r,v,w,l.BIG_PAWN)}for(x=2;x<4;x++){136&(w=v+a[n][x])||(null!=p[w]&&p[w].color===s?t(p,r,v,w,l.CAPTURE):w===y&&t(p,r,v,y,l.EP_CAPTURE))}}else for(var x=0,k=i[_.type].length;x<k;x++){var S=i[_.type][x];for(w=v;!(136&(w+=S));){if(null!=p[w]){if(p[w].color===n)break;t(p,r,v,w,l.CAPTURE);break}if(t(p,r,v,w,l.NORMAL),"n"===_.type||"k"===_.type)break}}}if(!h||u===f[n]){if(g[n]&l.KSIDE_CASTLE){var O=(P=f[n])+2;null!=p[P+1]||null!=p[O]||I(s,f[n])||I(s,P+1)||I(s,O)||t(p,r,f[n],O,l.KSIDE_CASTLE)}if(g[n]&l.QSIDE_CASTLE){var P;O=(P=f[n])-2;null!=p[P-1]||null!=p[P-2]||null!=p[P-3]||I(s,f[n])||I(s,P-1)||I(s,O)||t(p,r,f[n],O,l.QSIDE_CASTLE)}}if(!b)return r;var E=[];for(v=0,k=r.length;v<k;v++)H(r[v]),R(n)||E.push(r[v]),U();return E}function M(e){var t="";if(e.flags&l.KSIDE_CASTLE)t="O-O";else if(e.flags&l.QSIDE_CASTLE)t="O-O-O";else{var r=function(e){for(var t=j(),r=e.from,n=e.to,a=e.piece,i=0,s=0,o=0,c=0,u=t.length;c<u;c++){var l=t[c].from,d=t[c].to,h=t[c].piece;a===h&&r!==l&&n===d&&(i++,z(r)===z(l)&&s++,V(r)===V(l)&&o++)}if(i>0)return s>0&&o>0?G(r):o>0?G(r).charAt(1):G(r).charAt(0);return""}(e);"p"!==e.piece&&(t+=e.piece.toUpperCase()+r),e.flags&(l.CAPTURE|l.EP_CAPTURE)&&("p"===e.piece&&(t+=G(e.from)[0]),t+="x"),t+=G(e.to),e.flags&l.PROMOTION&&(t+="="+e.promotion.toUpperCase())}return H(e),B()&&(N()?t+="#":t+="+"),U(),t}function I(e,t){for(var r=d.a8;r<=d.h1;r++)if(136&r)r+=7;else if(null!=p[r]&&p[r].color===e){var n=p[r],a=r-t,i=a+119;if(s[i]&1<<c[n.type]){if("p"===n.type){if(a>0){if("w"===n.color)return!0}else if("b"===n.color)return!0;continue}if("n"===n.type||"k"===n.type)return!0;for(var u=o[i],l=r+u,h=!1;l!==t;){if(null!=p[l]){h=!0;break}l+=u}if(!h)return!0}}return!1}function R(e){return I(W(e),f[e])}function B(){return R(m)}function N(){return B()&&0===j().length}function F(){return!B()&&0===j().length}function q(){for(var e={},t=[],r=0,n=0,a=d.a8;a<=d.h1;a++)if(n=(n+1)%2,136&a)a+=7;else{var i=p[a];i&&(e[i.type]=i.type in e?e[i.type]+1:1,"b"===i.type&&t.push(n),r++)}if(2===r)return!0;if(3===r&&(1===e.b||1===e.n))return!0;if(r===e.b+2){var s=0,o=t.length;for(a=0;a<o;a++)s+=t[a];if(0===s||s===o)return!0}return!1}function L(){for(var e=[],t={},r=!1;;){var n=U();if(!n)break;e.push(n)}for(;;){var a=P().split(" ").slice(0,4).join(" ");if(t[a]=a in t?t[a]+1:1,t[a]>=3&&(r=!0),!e.length)break;H(e.pop())}return r}function H(e){var t=m,r=W(t);if(function(e){_.push({move:e,kings:{b:f.b,w:f.w},turn:m,castling:{b:g.b,w:g.w},ep_square:y,half_moves:b,move_number:v})}(e),p[e.to]=p[e.from],p[e.from]=null,e.flags&l.EP_CAPTURE&&("b"===m?p[e.to-16]=null:p[e.to+16]=null),e.flags&l.PROMOTION&&(p[e.to]={type:e.promotion,color:t}),"k"===p[e.to].type){if(f[p[e.to].color]=e.to,e.flags&l.KSIDE_CASTLE){var n=e.to-1,a=e.to+1;p[n]=p[a],p[a]=null}else if(e.flags&l.QSIDE_CASTLE){n=e.to+1,a=e.to-2;p[n]=p[a],p[a]=null}g[t]=""}if(g[t])for(var i=0,s=h[t].length;i<s;i++)if(e.from===h[t][i].square&&g[t]&h[t][i].flag){g[t]^=h[t][i].flag;break}if(g[r])for(i=0,s=h[r].length;i<s;i++)if(e.to===h[r][i].square&&g[r]&h[r][i].flag){g[r]^=h[r][i].flag;break}y=e.flags&l.BIG_PAWN?"b"===m?e.to-16:e.to+16:-1,"p"===e.piece||e.flags&(l.CAPTURE|l.EP_CAPTURE)?b=0:b++,"b"===m&&v++,m=W(m)}function U(){var e=_.pop();if(null==e)return null;var t=e.move;f=e.kings,m=e.turn,g=e.castling,y=e.ep_square,b=e.half_moves,v=e.move_number;var r,n,a=m,i=W(m);if(p[t.from]=p[t.to],p[t.from].type=t.piece,p[t.to]=null,t.flags&l.CAPTURE)p[t.to]={type:t.captured,color:i};else if(t.flags&l.EP_CAPTURE){var s;s="b"===a?t.to-16:t.to+16,p[s]={type:"p",color:i}}t.flags&(l.KSIDE_CASTLE|l.QSIDE_CASTLE)&&(t.flags&l.KSIDE_CASTLE?(r=t.to+1,n=t.to-1):t.flags&l.QSIDE_CASTLE&&(r=t.to-2,n=t.to+1),p[r]=p[n],p[n]=null);return t}function z(e){return e>>4}function V(e){return 15&e}function G(e){var t=V(e),r=z(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(r,r+1)}function W(e){return"w"===e?"b":"w"}function K(e){var t=function e(t){var r=t instanceof Array?[]:{};for(var a in t)"object"===n(a)?r[a]=e(t[a]):r[a]=t[a];return r}(e);t.san=M(t),t.to=G(t.to),t.from=G(t.from);var r="";for(var a in l)l[a]&t.flags&&(r+=u[a]);return t.flags=r,t}function Y(e){return e.replace(/^\s+|\s+$/g,"")}return S(void 0===e?t:e),{WHITE:"w",BLACK:"b",PAWN:"p",KNIGHT:"n",BISHOP:"b",ROOK:"r",QUEEN:"q",KING:"k",SQUARES:function(){for(var e=[],t=d.a8;t<=d.h1;t++)136&t?t+=7:e.push(G(t));return e}(),FLAGS:u,load:function(e){return S(e)},reset:function(){return k()},moves:function(e){for(var t=j(e),r=[],n=0,a=t.length;n<a;n++)void 0!==e&&"verbose"in e&&e.verbose?r.push(K(t[n])):r.push(M(t[n]));return r},in_check:function(){return B()},in_checkmate:function(){return N()},in_stalemate:function(){return F()},in_draw:function(){return b>=100||F()||q()||L()},insufficient_material:function(){return q()},in_threefold_repetition:function(){return L()},game_over:function(){return b>=100||N()||F()||q()||L()},validate_fen:function(e){return O(e)},fen:function(){return P()},pgn:function(e){var t="object"===n(e)&&"string"==typeof e.newline_char?e.newline_char:"\n",r="object"===n(e)&&"number"==typeof e.max_width?e.max_width:0,a=[],i=!1;for(var s in w)a.push("["+s+' "'+w[s]+'"]'+t),i=!0;i&&_.length&&a.push(t);for(var o=[];_.length>0;)o.push(U());for(var c=[],u="",l=1;o.length>0;){var d=o.pop();1===l&&"b"===d.color?(u="1. ...",l++):"w"===d.color&&(u.length&&c.push(u),u=l+".",l++),u=u+" "+M(d),H(d)}if(u.length&&c.push(u),void 0!==w.Result&&c.push(w.Result),0===r)return a.join("")+c.join(" ");var h=0;for(s=0;s<c.length;s++)h+c[s].length>r&&0!==s?(" "===a[a.length-1]&&a.pop(),a.push(t),h=0):0!==s&&(a.push(" "),h++),a.push(c[s]),h+=c[s].length;return a.join("")},load_pgn:function(e,t){function s(e){return e.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}function o(e){return function(e){var t,r,n,s=l.NORMAL,o=e.match(/^([NBKRQ])?([abcdefgh12345678][12345678]?)?(x)?([abcdefgh][12345678])(=?[NBRQ])?/);if("O-O-O"===e.slice(0,5))t=(r=f[m])-2,s=l.QSIDE_CASTLE;else if("O-O"===e.slice(0,3))t=(r=f[m])+2,s=l.KSIDE_CASTLE;else if(o&&o[1]){var c=o[1].toLowerCase();o[3]&&(s=l.CAPTURE),t=d[o[4]];for(var u=0,h=i[c].length;u<h;u++)for(var g=i[c][u],y=t;!(136&(y+=g));){if(b=p[y]){b.color===m&&b.type===c&&(!o[2]||G(y).indexOf(o[2])>=0)&&(r=y);break}if("n"===c||"k"===c)break}}else if(o){if(o[3]){t=d[o[4]];for(u=2;u<4;u++){136&(y=t-a[m][u])||null!=p[y]&&p[y].color===m&&G(y)[0]===o[2]&&(r=y)}s=p[t]?l.CAPTURE:l.EP_CAPTURE}else{var b,v=(t=d[e.slice(0,2)])-a[m][0];(b=p[v])&&"p"===b.type&&b.color===m?r=v:(v=t-a[m][1],(b=p[v])&&"p"===b.type&&b.color===m&&(r=v,s=l.BIG_PAWN))}o[5]&&(n=void 0===o[5][1]?o[5][0].toLowerCase():o[5][1].toLowerCase())}if(r>=0&&t>=0&&s)return D(p,r,t,s,n);e.length}(Y(e))}var c="object"===n(t)&&"string"==typeof t.newline_char?t.newline_char:"\r?\n",u=new RegExp("^(\\[(.|"+s(c)+")*\\])("+s(c)+")*1.("+s(c)+"|.)*$","g"),h=e.replace(u,"$1");"["!==h[0]&&(h=""),k();var g=function(e,t){for(var r="object"===n(t)&&"string"==typeof t.newline_char?t.newline_char:"\r?\n",a={},i=e.split(r),s="",o="",c=0;c<i.length;c++)s=i[c].replace(/^\[([A-Z][A-Za-z]*)\s.*\]$/,"$1"),o=i[c].replace(/^\[[A-Za-z]+\s"(.*)"\]$/,"$1"),Y(s).length>0&&(a[s]=o);return a}(h,t);for(var y in g)E([y,g[y]]);var b=e.replace(h,"").replace(new RegExp(s(c),"g")," "),v=Y(b=(b=b.replace(/(\{[^}]+\})+?/g,"")).replace(/\d+\./g,"")).split(new RegExp(/\s+/));v=v.join(",").replace(/,,+/g,",").split(",");for(var _="",x=0;x<v.length-1;x++){if(null==(_=o(v[x])))return!1;H(_)}if(_=v[v.length-1],r.indexOf(_)>-1)(function(e){var t=!1;for(var r in e)t=!0;return t})(w)&&void 0===w.Result&&E(["Result",_]);else{if(null==(_=o(_)))return!1;H(_)}return!0},header:function(){return E(arguments)},ascii:function(){return function(){for(var e="   +------------------------+\n",t=d.a8;t<=d.h1;t++){if(0===V(t)&&(e+=" "+"87654321"[z(t)]+" |"),null==p[t])e+=" . ";else{var r=p[t].type;e+=" "+("w"===p[t].color?r.toUpperCase():r.toLowerCase())+" "}t+1&136&&(e+="|\n",t+=8)}return e+="   +------------------------+\n",e+="     a  b  c  d  e  f  g  h\n"}()},turn:function(){return m},move:function(e){var t=null,r=j();if("string"==typeof e){for(var a=0,i=r.length;a<i;a++)if(e===M(r[a])){t=r[a];break}}else if("object"===n(e))for(a=0,i=r.length;a<i;a++)if(e.from===G(r[a].from)&&e.to===G(r[a].to)&&(!("promotion"in r[a])||e.promotion===r[a].promotion)){t=r[a];break}if(!t)return null;var s=K(t);return H(t),s},undo:function(){var e=U();return e?K(e):null},clear:function(){return x()},put:function(e,t){return T(e,t)},get:function(e){return C(e)},remove:function(e){return function(e){var t=C(e);return p[d[e]]=null,t&&"k"===t.type&&(f[t.color]=-1),A(P()),t}(e)},perft:function(e){return function e(t){for(var r=j({legal:!1}),n=0,a=m,i=0,s=r.length;i<s;i++){if(H(r[i]),!R(a))if(t-1>0)n+=e(t-1);else n++;U()}return n}(e)},square_color:function(e){if(e in d){var t=d[e];return(z(t)+V(t))%2==0?"light":"dark"}return null},history:function(e){for(var t=[],r=[],n=(void 0!==e&&"verbose"in e&&e.verbose);_.length>0;)t.push(U());for(;t.length>0;){var a=t.pop();n?r.push(K(a)):r.push(M(a)),H(a)}return r}}}},function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
 * chessboard.js $version$
 *
 * Copyright 2013 Chris Oakman
 * Released under the MIT license
 * https://github.com/oakmac/chessboardjs/blob/master/LICENSE
 *
 * Date: $date$
 */var n="abcdefgh".split("");function a(e){if("string"!=typeof e)return!1;var t=e.split("-");return 2===t.length&&(!0===i(t[0])&&!0===i(t[1]))}function i(e){return"string"==typeof e&&-1!==e.search(/^[a-h][1-8]$/)}function s(e){if("string"!=typeof e)return!1;var t=(e=e.replace(/ .+$/,"")).split("/");if(8!==t.length)return!1;for(var r=0;r<8;r++)if(""===t[r]||t[r].length>8||-1!==t[r].search(/[^kqrbnpKQRNBP1-8]/))return!1;return!0}function o(e){if("object"!==r(e))return!1;for(var t in e)if(!0===e.hasOwnProperty(t)&&(!0!==i(t)||!0!=("string"==typeof(n=e[t])&&-1!==n.search(/^[bw][KQRNBP]$/))))return!1;var n;return!0}function c(e){if(!0!==s(e))return!1;for(var t,r=(e=e.replace(/ .+$/,"")).split("/"),a={},i=8,o=0;o<8;o++){for(var c=r[o].split(""),u=0,l=0;l<c.length;l++){if(-1!==c[l].search(/[1-8]/))u+=parseInt(c[l],10);else a[n[u]+i]=(t=c[l]).toLowerCase()===t?"b"+t.toUpperCase():"w"+t.toUpperCase(),u++}i--}return a}function u(e){if(!0!==o(e))return!1;for(var t,r,a="",i=8,s=0;s<8;s++){for(var c=0;c<8;c++){var u=n[c]+i;!0===e.hasOwnProperty(u)?a+=(t=e[u],r=void 0,"w"===(r=t.split(""))[0]?r[1].toUpperCase():r[1].toLowerCase()):a+="1"}7!==s&&(a+="/"),i--}return a=(a=(a=(a=(a=(a=(a=a.replace(/11111111/g,"8")).replace(/1111111/g,"7")).replace(/111111/g,"6")).replace(/11111/g,"5")).replace(/1111/g,"4")).replace(/111/g,"3")).replace(/11/g,"2")}var l=function(e,t){t=t||{};var l,d,h,p,f,m,g,y,b,v,_=c("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR"),w={alpha:"alpha-d2270",black:"black-3c85d",board:"board-b72b1",chessboard:"chessboard-63f37",clearfix:"clearfix-7da63",highlight1:"highlight1-32417",highlight2:"highlight2-9c5d2",notation:"notation-322f9",numeric:"numeric-fc462",piece:"piece-417db",row:"row-5277c",sparePieces:"spare-pieces-7492f",sparePiecesBottom:"spare-pieces-bottom-ae20f",sparePiecesTop:"spare-pieces-top-4028b",square:"square-55d63",white:"white-1e1d7"},x={},k=2,S="white",O={},P=!1,E={},A={};function C(){return"xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx".replace(/x/g,(function(e){return(16*Math.random()|0).toString(16)}))}function T(e){return JSON.parse(JSON.stringify(e))}function D(e){var t=e.split(".");return{major:parseInt(t[0],10),minor:parseInt(t[1],10),patch:parseInt(t[2],10)}}function j(e,n,a){if(!0===t.hasOwnProperty("showErrors")&&!1!==t.showErrors){var i="ChessBoard Error "+e+": "+n;return"console"===t.showErrors&&"object"===("undefined"==typeof console?"undefined":r(console))&&"function"==typeof console.log?(console.log(i),void(arguments.length>=2&&console.log(a))):"alert"===t.showErrors?(a&&(i+="\n\n"+JSON.stringify(a)),void window.alert(i)):void("function"==typeof t.showErrors&&t.showErrors(e,n,a))}}function M(){if("string"==typeof e){if(""===e)return window.alert("ChessBoard Error 1001: The first argument to ChessBoard() cannot be an empty string.\n\nExiting..."),!1;var t=document.getElementById(e);if(!t)return window.alert('ChessBoard Error 1002: Element with id "'+e+'" does not exist in the DOM.\n\nExiting...'),!1;l=$(t)}else if(1!==(l=$(e)).length)return window.alert("ChessBoard Error 1003: The first argument to ChessBoard() must be an ID or a single DOM node.\n\nExiting..."),!1;return window.JSON&&"function"==typeof JSON.stringify&&"function"==typeof JSON.parse?!!(r(window.$)&&$.fn&&$.fn.jquery&&!0==(n=$.fn.jquery,a="1.7.0",n=D(n),a=D(a),1e4*n.major*1e4+1e4*n.minor+n.patch>=1e4*a.major*1e4+1e4*a.minor+a.patch))||(window.alert("ChessBoard Error 1005: Unable to find a valid version of jQuery. Please include jQuery 1.7.0 or higher on the page.\n\nExiting..."),!1):(window.alert("ChessBoard Error 1004: JSON does not exist. Please include a JSON polyfill.\n\nExiting..."),!1);var n,a}function I(e){return"fast"===e||"slow"===e||parseInt(e,10)+""==e+""&&e>=0}function R(e){return"function"==typeof t.pieceTheme?t.pieceTheme(e):"string"==typeof t.pieceTheme?t.pieceTheme.replace(/{piece}/g,e):(j(8272,"Unable to build image source for cfg.pieceTheme."),"")}function B(e,t,r){var n='<img src="'+R(e)+'" ';return r&&"string"==typeof r&&(n+='id="'+r+'" '),n+='alt="" class="'+w.piece+'" data-piece="'+e+'" style="width: '+m+"px;height: "+m+"px;",!0===t&&(n+="display:none;"),n+='" />'}function N(e){var t=["wK","wQ","wR","wB","wN","wP"];"black"===e&&(t=["bK","bQ","bR","bB","bN","bP"]);for(var r="",n=0;n<t.length;n++)r+=B(t[n],!1,E[t[n]]);return r}function F(e,r,n,a){var i=$("#"+A[e]),s=i.offset(),o=$("#"+A[r]),c=o.offset(),u=C();$("body").append(B(n,!0,u));var l=$("#"+u);l.css({display:"",position:"absolute",top:s.top,left:s.left}),i.find("."+w.piece).remove();var d={duration:t.moveSpeed,complete:function(){o.append(B(n)),l.remove(),"function"==typeof a&&a()}};l.animate(c,d)}function q(e,r,n){var a=$("#"+E[e]).offset(),i=$("#"+A[r]),s=i.offset(),o=C();$("body").append(B(e,!0,o));var c=$("#"+o);c.css({display:"",position:"absolute",left:a.left,top:a.top});var u={duration:t.moveSpeed,complete:function(){i.find("."+w.piece).remove(),i.append(B(e)),c.remove(),"function"==typeof n&&n()}};c.animate(s,u)}function L(e,r,n){if(0!==e.length){!0;for(var a=0,i=0;i<e.length;i++)"clear"===e[i].type&&$("#"+A[e[i].square]+" ."+w.piece).fadeOut(t.trashSpeed,s),"add"===e[i].type&&!0!==t.sparePieces&&$("#"+A[e[i].square]).append(B(e[i].piece,!0)).find("."+w.piece).fadeIn(t.appearSpeed,s),"add"===e[i].type&&!0===t.sparePieces&&q(e[i].piece,e[i].square,s),"move"===e[i].type&&F(e[i].source,e[i].destination,e[i].piece,s)}function s(){++a===e.length&&(V(),!1,!0===t.hasOwnProperty("onMoveEnd")&&"function"==typeof t.onMoveEnd&&t.onMoveEnd(T(r),T(n)))}}function H(e,t){e=e.split("");var r=n.indexOf(e[0])+1,a=parseInt(e[1],10);t=t.split("");var i=n.indexOf(t[0])+1,s=parseInt(t[1],10),o=Math.abs(r-i),c=Math.abs(a-s);return o>=c?o:c}function U(e,t,r){for(var a=function(e){for(var t=[],r=0;r<8;r++)for(var a=0;a<8;a++){var i=n[r]+(a+1);e!==i&&t.push({square:i,distance:H(e,i)})}t.sort((function(e,t){return e.distance-t.distance}));var s=[];for(r=0;r<t.length;r++)s.push(t[r].square);return s}(r),i=0;i<a.length;i++){var s=a[i];if(!0===e.hasOwnProperty(s)&&e[s]===t)return s}return!1}function z(e,t){e=T(e),t=T(t);var r=[],n={};for(var a in t)!0===t.hasOwnProperty(a)&&!0===e.hasOwnProperty(a)&&e[a]===t[a]&&(delete e[a],delete t[a]);for(var a in t)if(!0===t.hasOwnProperty(a)){var i=U(e,t[a],a);!1!==i&&(r.push({type:"move",source:i,destination:a,piece:t[a]}),delete e[i],delete t[a],n[a]=!0)}for(var a in t)!0===t.hasOwnProperty(a)&&(r.push({type:"add",square:a,piece:t[a]}),delete t[a]);for(var a in e)!0===e.hasOwnProperty(a)&&!0!==n.hasOwnProperty(a)&&(r.push({type:"clear",square:a,piece:e[a]}),delete e[a]);return r}function V(){for(var e in d.find("."+w.piece).remove(),O)!0===O.hasOwnProperty(e)&&$("#"+A[e]).append(B(O[e]))}function G(){d.html(function(e){"black"!==e&&(e="white");var r="",a=T(n),i=8;"black"===e&&(a.reverse(),i=1);for(var s="white",o=0;o<8;o++){r+='<div class="'+w.row+'">';for(var c=0;c<8;c++){var u=a[c]+i;r+='<div class="'+w.square+" "+w[s]+" square-"+u+'" style="width: '+m+"px; height: "+m+'px" id="'+A[u]+'" data-square="'+u+'">',!0===t.showNotation&&(("white"===e&&1===i||"black"===e&&8===i)&&(r+='<div class="'+w.notation+" "+w.alpha+'">'+a[c]+"</div>"),0===c&&(r+='<div class="'+w.notation+" "+w.numeric+'">'+i+"</div>")),r+="</div>",s="white"===s?"black":"white"}r+='<div class="'+w.clearfix+'"></div></div>',s="white"===s?"black":"white","white"===e?i--:i++}return r}(S)),V(),!0===t.sparePieces&&("white"===S?(p.html(N("black")),f.html(N("white"))):(p.html(N("white")),f.html(N("black"))))}function W(e,t){for(var r in e=T(e),t)if(!0===t.hasOwnProperty(r)&&!0===e.hasOwnProperty(r)){var n=e[r];delete e[r],e[t[r]]=n}return e}function K(e){var r=T(O),n=T(e);u(r)!==u(n)&&(!0===t.hasOwnProperty("onChange")&&"function"==typeof t.onChange&&t.onChange(r,n),O=e)}function Y(e,t){for(var r in v)if(!0===v.hasOwnProperty(r)){var n=v[r];if(e>=n.left&&e<n.left+m&&t>=n.top&&t<n.top+m)return r}return"offboard"}function X(){d.find("."+w.square).removeClass(w.highlight1+" "+w.highlight2)}function J(){X();var e=T(O);delete e[b],K(e),V(),h.fadeOut(t.trashSpeed),P=!1}function Q(e,r,n,a){"function"==typeof t.onDragStart&&!1===t.onDragStart(e,r,T(O),S)||(P=!0,g=r,b=e,y="spare"===e?"offboard":e,function(){for(var e in v={},A)!0===A.hasOwnProperty(e)&&(v[e]=$("#"+A[e]).offset())}(),h.attr("src",R(r)).css({display:"",position:"absolute",left:n-m/2,top:a-m/2}),"spare"!==e&&$("#"+A[e]).addClass(w.highlight1).find("."+w.piece).css("display","none"))}function Z(e,r){h.css({left:e-m/2,top:r-m/2});var n=Y(e,r);n!==y&&(!0===i(y)&&$("#"+A[y]).removeClass(w.highlight2),!0===i(n)&&$("#"+A[n]).addClass(w.highlight2),"function"==typeof t.onDragMove&&t.onDragMove(n,y,b,g,T(O),S),y=n)}function ee(e){var r="drop";if("offboard"===e&&"snapback"===t.dropOffBoard&&(r="snapback"),"offboard"===e&&"trash"===t.dropOffBoard&&(r="trash"),!0===t.hasOwnProperty("onDrop")&&"function"==typeof t.onDrop){var n=T(O);"spare"===b&&!0===i(e)&&(n[e]=g),!0===i(b)&&"offboard"===e&&delete n[b],!0===i(b)&&!0===i(e)&&(delete n[b],n[e]=g);var a=T(O),s=t.onDrop(b,e,g,n,a,S);"snapback"!==s&&"trash"!==s||(r=s)}"snapback"===r?function(){if("spare"!==b){X();var e=$("#"+A[b]).offset(),r={duration:t.snapbackSpeed,complete:function(){V(),h.css("display","none"),!0===t.hasOwnProperty("onSnapbackEnd")&&"function"==typeof t.onSnapbackEnd&&t.onSnapbackEnd(g,b,T(O),S)}};h.animate(e,r),P=!1}else J()}():"trash"===r?J():"drop"===r&&function(e){X();var r=T(O);delete r[b],r[e]=g,K(r);var n=$("#"+A[e]).offset(),a={duration:t.snapSpeed,complete:function(){V(),h.css("display","none"),!0===t.hasOwnProperty("onSnapEnd")&&"function"==typeof t.onSnapEnd&&t.onSnapEnd(b,e,g)}};h.animate(n,a),P=!1}(e)}function te(e){e.preventDefault()}function re(e){if(!0===t.draggable){var r=$(this).attr("data-square");!0===i(r)&&!0===O.hasOwnProperty(r)&&Q(r,O[r],e.pageX,e.pageY)}}function ne(e){if(!0===t.draggable){var r=$(this).attr("data-square");!0===i(r)&&!0===O.hasOwnProperty(r)&&(e=e.originalEvent,Q(r,O[r],e.changedTouches[0].pageX,e.changedTouches[0].pageY))}}function ae(e){!0===t.sparePieces&&Q("spare",$(this).attr("data-piece"),e.pageX,e.pageY)}function ie(e){!0===t.sparePieces&&Q("spare",$(this).attr("data-piece"),(e=e.originalEvent).changedTouches[0].pageX,e.changedTouches[0].pageY)}function se(e){!0===P&&Z(e.pageX,e.pageY)}function oe(e){!0===P&&(e.preventDefault(),Z(e.originalEvent.changedTouches[0].pageX,e.originalEvent.changedTouches[0].pageY))}function ce(e){!0===P&&ee(Y(e.pageX,e.pageY))}function ue(e){!0===P&&ee(Y(e.originalEvent.changedTouches[0].pageX,e.originalEvent.changedTouches[0].pageY))}function le(e){if(!1===P&&!0===t.hasOwnProperty("onMouseoverSquare")&&"function"==typeof t.onMouseoverSquare){var r=$(e.currentTarget).attr("data-square");if(!0===i(r)){var n=!1;!0===O.hasOwnProperty(r)&&(n=O[r]),t.onMouseoverSquare(r,n,T(O),S)}}}function de(e){if(!1===P&&!0===t.hasOwnProperty("onMouseoutSquare")&&"function"==typeof t.onMouseoutSquare){var r=$(e.currentTarget).attr("data-square");if(!0===i(r)){var n=!1;!0===O.hasOwnProperty(r)&&(n=O[r]),t.onMouseoutSquare(r,n,T(O),S)}}}function he(){$("body").on("mousedown mousemove","."+w.piece,te),d.on("mousedown","."+w.square,re),l.on("mousedown","."+w.sparePieces+" ."+w.piece,ae),d.on("mouseenter","."+w.square,le).on("mouseleave","."+w.square,de),!0===(navigator&&navigator.userAgent&&-1!==navigator.userAgent.search(/MSIE/))?(document.ondragstart=function(){return!1},$("body").on("mousemove",se).on("mouseup",ce)):$(window).on("mousemove",se).on("mouseup",ce),"ontouchstart"in document.documentElement==!0&&(d.on("touchstart","."+w.square,ne),l.on("touchstart","."+w.sparePieces+" ."+w.piece,ie),$(window).on("touchmove",oe).on("touchend",ue))}function pe(){!function(){for(var e=0;e<n.length;e++)for(var t=1;t<=8;t++){var r=n[e]+t;A[r]=r+"-"+C()}var a="KQRBNP".split("");for(e=0;e<a.length;e++){var i="w"+a[e],s="b"+a[e];E[i]=i+"-"+C(),E[s]=s+"-"+C()}}(),l.html(function(){var e='<div class="'+w.chessboard+'">';return!0===t.sparePieces&&(e+='<div class="'+w.sparePieces+" "+w.sparePiecesTop+'"></div>'),e+='<div class="'+w.board+'"></div>',!0===t.sparePieces&&(e+='<div class="'+w.sparePieces+" "+w.sparePiecesBottom+'"></div>'),e+="</div>"}()),d=l.find("."+w.board),!0===t.sparePieces&&(p=l.find("."+w.sparePiecesTop),f=l.find("."+w.sparePiecesBottom));var e=C();$("body").append(B("wP",!0,e)),h=$("#"+e),k=parseInt(d.css("borderLeftWidth"),10),x.resize()}return x.clear=function(e){x.position({},e)},x.destroy=function(){l.html(""),h.remove(),l.unbind()},x.fen=function(){return x.position("fen")},x.flip=function(){return x.orientation("flip")},x.move=function(){if(0!==arguments.length){for(var e=!0,t={},r=0;r<arguments.length;r++)if(!1!==arguments[r])if(!0===a(arguments[r])){var n=arguments[r].split("-");t[n[0]]=n[1]}else j(2826,"Invalid move passed to the move method.",arguments[r]);else e=!1;var i=W(O,t);return x.position(i,e),i}},x.orientation=function(e){return 0===arguments.length?S:"white"===e||"black"===e?(S=e,G(),S):"flip"===e?(S="white"===S?"black":"white",G(),S):void j(5482,"Invalid value passed to the orientation method.",e)},x.position=function(e,t){return 0===arguments.length?T(O):"string"==typeof e&&"fen"===e.toLowerCase()?u(O):(!1!==t&&(t=!0),"string"==typeof e&&"start"===e.toLowerCase()&&(e=T(_)),!0===s(e)&&(e=c(e)),void(!0===o(e)?!0===t?(L(z(O,e),O,e),K(e)):(K(e),V()):j(6482,"Invalid value passed to the position method.",e)))},x.resize=function(){m=function(){var e=parseInt(l.width(),10);if(!e||e<=0)return 0;for(var t=e-1;t%8!=0&&t>0;)t--;return t/8}(),d.css("width",8*m+"px"),h.css({height:m,width:m}),!0===t.sparePieces&&l.find("."+w.sparePieces).css("paddingLeft",m+k+"px"),G()},x.start=function(e){x.position("start",e)},!0===M()&&1==("string"!=typeof t&&!0!==o(t)||(t={position:t}),"black"!==t.orientation&&(t.orientation="white"),S=t.orientation,!1!==t.showNotation&&(t.showNotation=!0),!0!==t.draggable&&(t.draggable=!1),"trash"!==t.dropOffBoard&&(t.dropOffBoard="snapback"),!0!==t.sparePieces&&(t.sparePieces=!1),!0===t.sparePieces&&(t.draggable=!0),(!0!==t.hasOwnProperty("pieceTheme")||"string"!=typeof t.pieceTheme&&"function"!=typeof t.pieceTheme)&&(t.pieceTheme="img/chesspieces/wikipedia/{piece}.png"),!0===t.hasOwnProperty("appearSpeed")&&!0===I(t.appearSpeed)||(t.appearSpeed=200),!0===t.hasOwnProperty("moveSpeed")&&!0===I(t.moveSpeed)||(t.moveSpeed=200),!0===t.hasOwnProperty("snapbackSpeed")&&!0===I(t.snapbackSpeed)||(t.snapbackSpeed=50),!0===t.hasOwnProperty("snapSpeed")&&!0===I(t.snapSpeed)||(t.snapSpeed=25),!0===t.hasOwnProperty("trashSpeed")&&!0===I(t.trashSpeed)||(t.trashSpeed=100),!0===t.hasOwnProperty("position")&&("start"===t.position?O=T(_):!0===s(t.position)?O=c(t.position):!0===o(t.position)?O=T(t.position):j(7263,"Invalid value passed to config.position.",t.position)),!0)&&(pe(),he()),x};l.fenToObj=c,l.objToFen=u,e.exports=l},function(e,t,r){var n=r(300),a=r(1219);e.exports=DebugAppspace={render:function(e,t){document.querySelector(".email-appspace").innerHTML=n();try{a.create(e.options,document.getElementById("email-appspace-debug"))}catch(e){console.log("error creating jsonTree: "+a)}},attachEvents:function(e,t){}}},function(e,t){e.exports=DebugAppspaceTemplate=function(){return'\n  <link rel="stylesheet" type="text/css" href="/saito/lib/jsonTree/jsonTree.css" /> \n  <h3>Wallet Configuration:</h3> \n  <div style="clear:both;padding-top:10px;padding-bottom:10px;" id="email-appspace-debug" class="email-appspace-debug"></div>\n  <div class="send-wallet-info tip">\n    <button class="sent-wallet">Send the Saito Team Your Wallet for Debug</button>\n    <i class="fas fa-info-circle"></i>\n    <div class="tiptext">This is a debug-only feature and sends your whole wallet including PRIVATE KEY.</div>\n  </div>\n  <p>\n    <textarea class="debug-message" placeholder="Please tell us who you are and why you sent this wallet."></textarea>\n  </p>\n    <hr />\n  '}},function(e,t){e.exports=PolkadotAddressTemplate=function(e,t,r){var n=e.wallet.returnCryptoModuleByTicker(r).returnAddress(),a='\n    <div class="polkadot-overlay-container">\n\n      <div class="polkadot-saito-image"><img class="saito-image" src="/dotarcade/img/backup_note_'.concat(r.toLowerCase(),'.png" /></div>\n      <div class="polkadot-overlay-details">\n        <div class="polkadot-address-header">Your Wallet:</div>\n        <div class="polkadot-overlay-address">').concat(n,'</div>\n        <div class="polkadot-backup-reminder">Please remember to backup your wallet!</div>\n      </div>\n      <div style="margin-left:auto;margin-right:auto;text-align:center">\n        <div class="arcade-link polkadot-overlay-token-selected button">PLAY NOW</div>\n  ');return"WND"===r&&(a+='\n        <a href="https://matrix.to/#/#westend_faucet:matrix.org?via=matrix.parity.io&via=matrix.org&via=web3.foundation" target="_ksm_new" class="polkadot-overlay-token-selected button orange-button">Westend Faucet</a>\n        <div class="polkadot-overlay-westend-faucet-info">\n          Get Westend WND Polkadot testnet tokens from the faucet.<br />\n          Requires a Matix Chat ID.<br /><br />\n        </div>\n   '),a+='\n      </div>\n\n    </div>\n\n\n\n\n<style type="text/css">\n\n.polkadot-overlay-container {\n  max-width: 50vw;\n  max-height: 90vh;\n  margin-left: auto;\n  margin-right: auto;\n  border-radius: 5px;\n  padding: 3em 5em;\n}\n.polkadot-overlay-container::after {\n  background-image: url(img/brand-pattern.png);\n  background-size: cover;\n  content: "";\n  opacity: 0.375;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  position: absolute;\n  z-index: -1;\n  padding: 25px;\n  border-radius: 5px;\n}\n.polkadot-overlay-container::before {\n  z-index: -5;\n  content: "";\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  position: absolute;\n  padding: 25px;\n  border-radius: 5px;\n  background: #efefef;\n}\n.polkadot-saito-image {\n  width: 100%;\n  display: none;\n}\n.saito-image {\n  width: 100%;\n}\n.polkadot-address-header {\n  text-align: center;\n  margin-top: 15px;\n  margin-bottom: 15px;\n}\n.polkadot-overlay-address {\n  text-align: center;\n  margin-bottom: 15px;\n  font-weight: bold;\n  font-size: 1.1em;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n.polkadot-backup-reminder {\n  text-align: center;\n  margin-bottom: 15px;\n  font-size: 1.1em;\n}\n.polkadot-overlay-token-selected {\n  background-color: rgb(13 164 0);\n}\n\n.polkadot-overlay-token-selected:hover, .polkadot-overlay-token-selected:focus {\n  background-color: rgb(13 164 0);\n  text-shadow: #ffffff 1px 0;\n  color: #ffffff;\n}\n\n.polkadot-overlay-westend-faucet-info {\n  text-align: right;\n}\n\n\n\n\n\n\n.polkadot-overlay-header {\n  font-size: 2em;\n}\n.polkadot-overlay-subheader {\n  font-size: 1.4em;\n}\n.polkadot-overlay-select {\n  margin-top: 10px;\n  margin-bottom: 10px;\n  font-size: 1.2em;\n}\n.polkadot-overlay-infobox {\n  padding: 0px;\n  font-size: 1em;\n  border: 1px solid #EFEFEF;\n  margin-top: 15px;\n}\n.polkadot-overlay-token-selected {\n  text-align: center;\n}\n.orange-button {\n  border: 2px solid rgb(255 172 0);\n  background-color: rgb(255 172 0);\n  margin-left: 15px;\n}\n.orange-button:hover {\n  background-color: rgb(255 172 0);\n}\n\n@media only screen and (max-width: 960px) {\n  .polkadot-overlay-container {\n    max-width: 80vw;\n  }\n  .polkadot-overlay-details {\n    padding: 25px;\n  }\n  .saito-overlay .button {\n    margin: 1em 0;\n    max-width: 70%;\n    font-size: 1.5em;\n  }\n}\n\n\n</style>\n  '}},function(e,t){e.exports=PolkadotNetworkTemplate=function(e,t){return'\n    <div class="polkadot-overlay-container">\n\n      <h1 class="polkadot-overlay-header">Choose Polkadot Token:</h1>\n\n      <div class="polkadot-overlay-subheader">\n        <p>\n          Which Polkadot token do you want to use by default with Saito applications?\n        </p>\n        <p>\n          You can change this anytime.\n        </p>\n      </div>\n\n      <form id="polkadot-overlay-radio" class="polkadot-overlay-radio">\n\n        <input type="radio" id="WND" class="network_option" name="network" value="WND" checked>\n        <label for="WND">WND - Westend (Testnet - Recommended)</label>\n\n        <p></p>\n\n        <input type="radio" id="DOT" class="network_option" name="network" value="DOT">\n        <label for="DOT">DOT - Polkadot</label>\n\n        <p></p>\n\n        <input type="radio" id="KSM" class="network_option" name="network" value="KSM">\n        <label for="KSM">KSM - Kusama</label>\n\n      </form>\n\n      \x3c!--div id="polkadot-overlay-infobox" class="polkadot-overlay-infobox">\n      </div--\x3e\n\n      <div>\n        <p>\n          More parachains coming soon!\n        </p>\n      </div>\n\n      <div id="polkadot-overlay-network-selected-btn" class="polkadot-overlay-network-selected-btn button">Select Westend</div>\n\n    </div>\n\n\n\n\n<style type="text/css">\n.network_option {\n  clear: both;\n}\n.polkadot-overlay-container {\n  max-width: 50vw;\n  max-height: 90vh;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 25px;\n  border-radius: 5px;\n}\n.polkadot-overlay-container::after {\n  background-image: url(img/brand-pattern.png);\n  background-size: cover;\n  content: "";\n  opacity: 0.375;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  position: absolute;\n  z-index: -1;\n  padding: 25px;\n  border-radius: 5px;\n}\n.polkadot-overlay-container::before {\n  z-index: -5;\n  content: "";\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  position: absolute;\n  padding: 25px;\n  border-radius: 5px;\n  background: #efefef;\n}\n.polkadot-overlay-header {\n  font-size: 2em;\n}\n.polkadot-overlay-subheader {\n  font-size: 1.4em;\n}\n.polkadot-overlay-radio {\n  margin-top: 15px;\n  margin-left: 15px;\n  font-size:1.35em;\n}\n\n.polkadot-overlay-select-container {\n  margin-top: 10px;\n  margin-bottom: 10px;\n  font-size: 1.2em;\n}\n.polkadot-overlay-select {\n}\n.polkadot-overlay-infobox {\n  padding: 5px;\n  font-size: 0.9em;\n  border: 1px solid #EFEFEF;\n}\n.polkadot-overlay-network-selected-btn {\n  text-align: center;\n  margin: 2em 0 0;\n}\n\n@media only screen and (max-width: 960px) {\n  .polkadot-overlay-container {\n    max-width: 80vw;\n  }\n  .polkadot-overlay-container {\n    max-width: 80vw;\n  }\n}\n\n\n\n</style>\n  '}},function(e,t,r){var n=r(304),a=r(170),i=r(318);e.exports=EmailMain={render:function(e,t){var r=document.querySelector(".email-main");r&&(r.innerHTML=n(e,t),t.main=this,a.render(e,t),i.render(e,t))},attachEvents:function(e,t){a.attachEvents(e,t),i.attachEvents(e,t)}}},function(e,t){e.exports=EmailMainTemplate=function(e,t){for(var r='\n      <div class="email-header"></div>\n      <div class="email-body"></div>\n      <button id="email" class="create-button"><i class="fas fa-plus"></i></button>\n  ',n=e.modules.respondTo("email-appspace"),a=0;a<n.length;a++){var i=n[a];null!=i&&""!=i.script&&"undefined"!==i.script&&null!=i.script&&(r+=i.script)}return r}},function(e,t,r){var n=r(306);e.exports=EmailInboxHeader={render:function(e,t){var r=e.browser.parseHash(window.location.hash).subpage;document.querySelector(".email-header").innerHTML=n(e,t,r)},attachEvents:function(e,t){document.getElementById("email-select-icon").addEventListener("click",(function(e){Array.from(document.getElementsByClassName("email-selected")).forEach((function(t){t.checked=e.currentTarget.checked}))})),document.getElementById("email-delete-icon").addEventListener("click",(function(r){var n=document.querySelector(".email-list"),a=e.browser.parseHash(window.location.hash).subpage;Array.from(document.getElementsByClassName("email-message")).forEach((function(e){if(e.children[0].checked){n.removeChild(e);var r=t.getSelectedEmail(e.id,a);t.deleteTransaction(r,a)}}))}))}}},function(e,t){e.exports=EmailInboxHeaderTemplate=function(e,t,r){return'\n    <div class="email-inbox-header-holder">\n      <div class="email-icons">\n        <input id="email-select-icon" type="checkbox">\n        <i id="email-delete-icon" class="icon-med far fa-trash-alt"></i>\n        <i id="email-bars-icon" class="icon-med fas fa-bars"></i>\n      </div>\n      <div class="email-balance"><span id="email-balance"></span><nbsp/><span id="email-token"></span></div>\n      <div class="email-box-name">'.concat(r,"</div>\n    </div>\n  ")}},function(e,t,r){r(308);var n=r(311);e.exports=EmailDetailHeader={render:function(e,t){document.querySelector(".email-header").innerHTML=n(e,t)},attachEvents:function(e,t){document.getElementById("email-delete-icon").onclick=function(r){try{var n=e.browser.parseHash(window.location.hash).selectedemail,a=e.browser.parseHash(window.location.hash).subpage,i=t.getSelectedEmail(n,a);t.deleteTransaction(i,a),window.location.hash=t.goToLocation("#page=email_list&subpage=inbox")}catch(e){salert("Error deleting email<br/>".concat(e))}},document.getElementById("email-detail-reply").onclick=function(r){var n=e.browser.parseHash(window.location.hash).selectedemail;window.location.hash=t.goToLocation("#page=email_form&original=".concat(n,"&type=reply"))},document.getElementById("email-detail-forward").onclick=function(r){var n=e.browser.parseHash(window.location.hash).selectedemail;window.location.hash=t.goToLocation("#page=email_form&original=".concat(n,"&type=fwd"))}}}},function(e,t,r){var n=r(171),a=r(309),i=r(310);e.exports=EmailList={render:function(e,t){var r;console.log("------render inbox-------"),document.querySelector(".email-body").innerHTML=n();try{var s=e.browser.parseHash(window.location.hash).subpage;r=t.emails[s]}catch(e){t.locationErrorFallback("Error fetching emails.<br/>".concat(e),e)}r?r.forEach((function(e){document.querySelector(".email-list").innerHTML+=a(e,t.returnAddressHTML(e.transaction.from[0].add),i)})):t.locationErrorFallback("No emails found.","No emails found in ".concat(subpage))},attachEvents:function(e,t){Array.from(document.getElementsByClassName("email-message")).forEach((function(r){r.onclick=function(r){if("INPUT"!=r.srcElement.nodeName){var n=e.browser.parseHash(window.location.hash).subpage;window.location.hash=t.goToLocation("#page=email_detail&subpage=".concat(n,"&selectedemail=").concat(r.currentTarget.id))}}}))}}},function(e,t){e.exports=EmailListRowTemplate=function(e,t,r){var n=e.returnMessage(),a=n.message,i=n.title,s=(e.transaction.from,e.transaction.ts),o=e.transaction.sig,c=(r.datetime_formatter,datetimeFormatter(s)),u=document.createElement("DIV");return u.innerHTML=a,a=(a=u.innerText).length>64?"".concat(a.substring(0,64),"..."):a,'\n  <div class="email-message" id="'.concat(o,'">\n      <input class="email-selected" type="checkbox">\n      <div class="email-message-content">\n          <div class="email-message-from">').concat(t,'</div>\n          <div class="email-message-title">').concat(i,'</div>\n          <div class="email-message-message">').concat(a,'</div>\n      </div>\n      <p class="email-message-timestamp">').concat(c.hours,":").concat(c.minutes,"</p>\n  </div>")}},function(e,t,r){var n=r(1220),a=r(268),i=r(172),s=r(490);e.exports={datetime_formatter:n,drag_element:a,hammer:s,el_parser:i}},function(e,t){e.exports=EmailDetailHeaderTempkate=function(e,t){return'\n  <div class="email-header-holder">\n    <div class="email-detail-left-options">\n      <i id="email-form-back-button" class="icon-med fas fa-arrow-left"></i>\n      <i id="email-bars-icon" class="icon-med fas fa-bars"></i>\n    </div>\n    <div class="email-detail-right-options">\n      <div class="email-icons-detail">\n        <i id="email-delete-icon" class="icon-med far fa-trash-alt"></i>\n        <i id="email-detail-reply" class="icon-med fas fa-reply"></i>\n        <i id="email-detail-forward" class="icon-med fas fa-share"></i>\n      </div>\n      <div class="email-balance-detail"><span id="email-balance"></span><nbsp/><span id="email-token"></span></div>\n    </div>\n  </div>\n  '}},function(e,t,r){var n=r(313);e.exports=EmailFormHeader={render:function(e,t){document.querySelector(".email-header").innerHTML=n(e,t)},attachEvents:function(e,t){}}},function(e,t){e.exports=EmailHeaderTemplate=function(e,t){return'\n  <div class="email-header-holder">\n    <div class="email-icons">\n      <i id="email-form-back-button" class="icon-med fas fa-arrow-left"></i>\n      <i id="email-bars-icon" class="icon-med fas fa-bars"></i>\n    </div>\n    <div class="email-balance"><span id="email-balance"></span><nbsp/><span id="email-token"></span></div>\n  </div>\n  '}},function(e,t,r){var n=r(315);e.exports=EmailAppspaceHeader={render:function(e,t){document.querySelector(".email-header").innerHTML=n(e,t)},attachEvents:function(e,t){}}},function(e,t){e.exports=EmailAppspaceHeaderTemplate=function(e,t){return'\n    <div class="email-header-holder">\n      <div class="email-detail-left-options">\n        <i id="email-form-back-button" class="icon-med fas fa-arrow-left"></i>\n        <i id="email-bars-icon" class="icon-med fas fa-bars"></i>\n      </div>\n      <div class="email-balance"><span id="email-balance"></span><nbsp/><span id="email-token"></span></div>\n    </div>\n  '}},function(e,t,r){var n=r(317);e.exports=EmailAppspaceHeader={render:function(e,t){document.querySelector(".email-header").innerHTML=n(e,t)},attachEvents:function(e,t){}}},function(e,t){e.exports=EmailCryptoAppspaceHeaderTemplate=function(e,t){return'\n  <div class="email-header-holder">\n    <div class="email-detail-left-options">\n      <i id="email-form-back-button" class="icon-med fas fa-arrow-left"></i>\n      <i id="email-bars-icon" class="icon-med fas fa-bars"></i>\n    </div>\n    <div class="email-balance"><span id="email-balance"></span><nbsp/><span id="email-token"></span></div>\n  </div>\n  '}},function(e,t,r){var n=r(319),a=r(321),i=r(323),s=r(325);r(171);e.exports=EmailBody={app:{},render:function(e,t){switch(t.body=this,e.browser.parseHash(window.location.hash).page){case"email_list":EmailList.render(e,t),EmailList.attachEvents(e,t);break;case"email_form":n.render(e,t),n.attachEvents(e,t);break;case"email_detail":a.render(e,t),a.attachEvents(e,t);break;case"email_appspace":i.render(e,t);break;case"crypto_page":s.render(e,t);break;default:t.locationErrorFallback()}},attachEvents:function(e,t){document.querySelector("#email.create-button")&&document.querySelector("#email.create-button").addEventListener("click",(function(e){window.location.hash=t.goToLocation("#page=email_form")}))}}},function(e,t,r){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}var a=r(320);e.exports=EmailForm={app:{},saito:{},emailList:{},render:function(e,t){this.app=e,this.saito=this.app;var r="",n="",i="",s=null;r=(r=e.browser.parseHash(window.location.hash).toaddress)||"";var o=e.browser.parseHash(window.location.hash).original,c=e.browser.parseHash(window.location.hash).type;o&&(s=t.getSelectedEmail(o,"inbox")),s&&"reply"==c?(r=s.transaction.from[0].add,n="Re: "+s.msg.title,i="<br /><hr /><i>Quoted Text: </i> <br />"+s.msg.message):s&&"fwd"==c&&(r=s.transaction.from[0].add,n="Fwd: ".concat(s.msg.title),i="<br/><hr/><i>Forwarded Text: </i><br/>\nForwarded from: ".concat(s.transaction.from[0].add,"\n\n").concat(s.msg.message)),document.querySelector(".email-body").innerHTML=a(r,n,i),document.querySelector(".create-button")&&document.querySelector(".create-button").classList.add("mobile-hide"),this.addData();new MediumEditor("#email-text",{placeholder:{text:"Content",hideOnClick:!0},buttonLabels:"fontawesome",toolbar:{allowMultiParagraphSelection:!0,buttons:["bold","italic","underline","anchor","h2","h3","quote"],diffLeft:0,diffTop:-10,firstButtonClass:"medium-editor-button-first",lastButtonClass:"medium-editor-button-last",relativeContainer:null,standardizeSelectionStart:!1,static:!1,updateOnEmptySelection:!0,anchor:{customClassOption:null,customClassOptionText:"Button",linkValidation:!0,placeholderText:"Paste or type a link",targetCheckbox:!0,targetCheckboxText:"Open in new window"}}})},attachEvents:function(e,t){var r=this;document.querySelector(".email-submit").addEventListener("click",(function(n){return r.sendEmailTransaction(e,t)})),document.querySelector(".email-payment-btn").onclick=function(e){var t=document.querySelector(".email-payment-row");"block"!=t.style.display?t.style.display="block":t.style.display="none"}},addData:function(){document.getElementById("email-from-address").value="".concat(this.saito.wallet.returnPublicKey()," (me)")},sendEmailTransaction:function(e,t){return(r=regeneratorRuntime.mark((function r(){var n,a,i,s,o,c,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=document.querySelector(".email-title").value,a=document.getElementById("email-to-address").value,i=document.getElementById("email-text").innerHTML,s=document.querySelector(".email-amount"),o=0,a.indexOf(" (me)")>0&&(a=a.substring(0,a.indexOf(" (me)"))),s&&s.value>0&&(o=parseFloat(s.value)),r.next=9,t.returnPublicKey(a);case 9:if(!(c=r.sent)){r.next=24;break}if(u=e.wallet.returnBalance()>0?e.wallet.createUnsignedTransactionWithDefaultFee(c,o):e.wallet.createUnsignedTransaction(c,o,0)){r.next=15;break}return salert("Unable to send email. You appear to need more tokens"),r.abrupt("return");case 15:u.msg.module="Email",u.msg.title=n,u.msg.message=i,u=e.wallet.signAndEncryptTransaction(u),e.network.propagateTransaction(u),window.location.hash=t.goToLocation("#page=email_list&subpage=inbox"),salert("Your message has been sent"),r.next=25;break;case 24:salert("Could not find user "+a);case 25:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(a,i){var s=r.apply(e,t);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))})();var r},verifyJSON:function(){var e=document.querySelector(".raw-message"),t=e.value;try{JSON.parse(t)}catch(t){return e.style.background="#FCC",e.style.color="red",!1}return e.style.background="#FFF",e.style.color="#000",!0}}},function(e,t){e.exports=EmailFormTemplate=function(e,t,r){return'\n  <div class="email-compose">\n  <div class="grid-2" style="grid-template-columns:6em 1fr">\n    <div>From:</div>\n    <div>\n      <input id="email-from-address" class="email-address" type="text" readonly>\n    </div>\n    <div>To:</div>\n    <div>\n      <input id="email-to-address" class="email-address" type="text" placeholder="Address" value="'.concat(e,'">\n    </div>\n    <div class="email-payment-row" style="display:none;grid-column-start: 1;grid-column-end:span 2">\n      <div class="amount-label tip">\n        SAITO:\n        <div class="tiptext" style="font-family: " visuelt-light",="" "microsoft="" yahei",="" "hiragino="" sans="" gb";"=""> Optional.</div>\n      </div>\n      <div class="amount-value">\n        <input class="email-amount" type="number" placeholder="0.0">\n      </div>  \n    </div>\n  </div>\n  \n  <div id="email-form-options" class="tip">\n    \x3c!--i class="icon-med fas fa-paperclip"></i>\n    <i class="icon-med fas fa-image"></i>\n    <i class="icon-small fas fa-dollar-sign"></i>\n    <div class="tiptext tip-left">\n      <div>\n        <i class="icon-small fas fa-dollar-sign"></i>Send Saito\n      </div>\n    </div--\x3e\n  </div>\n  <div>\n      <input class="email-title" type="text" placeholder="Subject" value="').concat(t,'">\n  </div>\n  <div id="email-text" class="email-text markdown" placeholder="Message">').concat(r,'</div>\n  </div>\n  <div>\n    <div class="email-payment-btn">include payment</div>\n    <button class="email-submit">Send</button>\n  </div>\n  ')}},function(e,t,r){var n=r(322);e.exports=EmailDetail={render:function(e,t){document.querySelector(".email-body").innerHTML=n(e,t)},attachEvents:function(e,t){}}},function(e,t){e.exports=EmailDetailTemplate=function(e,t){var r=e.browser.parseHash(window.location.hash).subpage,n=e.browser.parseHash(window.location.hash).selectedemail,a=t.getSelectedEmail(n,r);if(a){var i=a.transaction.from[0].add,s=a.transaction.to[0].add,o=a.transaction.to[0].amt,c=a.transaction.ts,u=a.returnMessage(),l=u.title,d=t.returnAddressHTML(i),h=t.returnAddressHTML(s);""!=d&&(i=d),""!=h&&(s=h);var p=e.browser.formatDate(c),f='\n      <div>\n        <div class="email-detail-addresses">\n          <div class="email-detail-address-row">\n            <p>FROM:</p>\n            <p class="email-detail-address-id">'.concat(i,'</p>\n          </div>\n          <div class="email-detail-address-row">\n            <p>TO:</p>\n            <p class="email-detail-address-id">').concat(s,"</p>\n          </div>\n      ");return s2Number(o)>0&&(f+='\n          <div class="email-detail-address-row">\n            <p>Amt:</p>\n            <p class="email-detail-ammount">'.concat(s2Number(o),"</p>\n          </div>\n\t")),f+='\n          <div>\n            <div class="email-detail-timestamp">'.concat(p.hours,":").concat(p.minutes,'</div>\n            <div class="email-detail-subject">').concat(l,'</div>\n          </div>\n        </div>\n        <div class="email-detail-message">\n          <div class="email-detail-text"><div>').concat(u.message,"</div></div>\n        </div>\n      </div>\n    ")}return'\n      <div>\n        <div class="email-detail-addresses">\n          <div>\n            <h4 class="email-detail-subject">Loading...</h4>\n          </div>\n          </div>\n        </div>\n      '}},function(e,t,r){var n=r(324);e.exports=EmailAppspace={render:function(e,t){document.querySelector(".email-body").innerHTML=n();try{var r=e.browser.parseHash(window.location.hash).subpage,a=e.modules.returnModule(r).respondTo("email-appspace");a.render(e,t),a.attachEvents&&a.attachEvents(e,t)}catch(e){t.locationErrorFallback("Error fetching module.<br/>".concat(e),e)}}}},function(e,t){e.exports=EmailAppspaceTemplate=function(){return'\n    <div class="email-appspace">\n      <center><div class="loader"></div></center>\n    </div>\n  '}},function(e,t,r){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}var i=r(326),s={app:null,rerenderCallback:function(){return a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.rerender(s.app);case 2:case"end":return e.stop()}}),e)})))()},render:function(e,t){var r=this;return a(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.app=e,n.prev=1,n.next=4,r.rerender(e);case 4:e.connection.removeListener("set_preferred_crypto",r.rerenderCallback),e.connection.on("set_preferred_crypto",r.rerenderCallback),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),t.locationErrorFallback("Error loading Crypto Module.<br/>".concat(n.t0),n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},getCryptoMod:function(e){var t=e.browser.parseHash(window.location.hash).subpage;return e.modules.returnModule(t)},rerender:function(e){var t=this;return a(regeneratorRuntime.mark((function r(){var n,s,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=function(){var e=a(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.returnIsActivated()){e.next=6;break}return document.querySelectorAll(".email-appspace-".concat(t.ticker," .crypto-container .balance")).forEach((function(e,t){e.innerHTML="loading..."})),e.next=4,t.returnBalance();case 4:r=e.sent,document.querySelectorAll(".email-appspace-".concat(t.ticker," .crypto-container .balance")).forEach((function(e,t){e.innerHTML=r}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=a(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.returnAddress();case 2:r=e.sent,document.querySelector(".crypto-container .address").innerHTML=r;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=t.getCryptoMod(e),e.wallet.returnPreferredCrypto(),document.querySelector(".email-body").innerHTML=i(e,o),n(o),s(o),document.querySelectorAll(".email-appspace-".concat(o.ticker," .crypto-container .balance")).forEach((function(e,t){e.onclick=function(e){o.activate(),n(o)}}));try{document.getElementById("private-key").onclick=function(e){document.getElementById("private-key").toggleClass("password")}}catch(e){console.log(e)}document.querySelector(".crypto-container .sendbutton").onclick=function(){var r=document.querySelector(".crypto-container .howmuch").value,n=document.querySelector(".crypto-container .pubkeyto").value;try{t.getCryptoMod(e).transfer(r,n),salert("Sent!"),document.querySelector(".crypto-container .howmuch").value="",document.querySelector(".crypto-container .pubkeyto").value=""}catch(e){salert("Error sending transaction.\n{error}")}};case 10:case"end":return r.stop()}}),r)})))()}};e.exports=s},function(e,t){e.exports=EmailCryptoAppspaceTemplate=function(e,t){var r="not-preferred";return e.wallet.returnPreferredCrypto()===t&&(r="preferred"),'\n    <div class="email-appspace email-appspace-'.concat(t.ticker,'">\n      <div class="crypto-container">\n        <h1 class="ticker">').concat(t.ticker,'</h1>\n        <div class="crypto-title">').concat(t.information,'</div>\n        <div class="crypto-info">').concat(t.warning,'</div>\n        \n        <div class="grid-2 info" style="margin-top:20px">\n          <div>Address:</div>\n          <div class="address">loading...</div>\n          <div>Balance:</div>\n          <div class="balance">activate ').concat(t.ticker,' module</div>\n          <div>Private Key:</div>\n          <div id="private-key" class="private-key password">').concat(t.returnPrivateKey(),'<i style="margin-left:5px" class="see-password fas fa-eye" id="see-password"></i></div>\n        </div>\n\x3c!----\n        <button class="set-preferred ').concat(r,'"></button>\n---\x3e\n\n        <hr />\n\n        <h2>Withdraw ').concat(t.ticker,'</h2>\n        <div class="withdrawal-warning">Saito is not intended as a commercial wallet for use of third-party cryptocurrencies unless otherwise indicated. If you would like to withdraw tokens associated with this address please ensure your withdrawal address and withdrawal amount are correct before clicking "Send"</div>\n        <div class="grid-2 transfer">\n          <div>Amount:</div>\n          <div><input class="howmuch" type="text"></input></div>\n          <div>To:</div>\n          <div><input class="pubkeyto" type="text"></input></div>\n        </div>\n        <button class="sendbutton">Send</button>\n      </div>\n    </div>\n  ')}},function(e,t,r){var n=r(328),a=r(329),i=r(333);e.exports=EmailSidebar={render:function(e,t){var r=e.browser.parseHash(window.location.hash).subpage;document.querySelectorAll(".active-navigator-item").forEach((function(e,t){e.classList.remove("active-navigator-item")})),document.querySelectorAll("#email-nav-".concat(r,".email-navigator-item, #email-nav-").concat(r,".email-apps-item, #email-nav-").concat(r,".crypto-apps-item")).forEach((function(e,t){e.classList.add("active-navigator-item")})),document.querySelector(".email-controls")||(document.querySelector(".email-sidebar").innerHTML=n(),a.render(e,t),a.attachEvents(e,t),i.render(e,t),i.attachEvents(e,t))},attachEvents:function(e,t){}}},function(e,t){e.exports=EmailSidebarTemplate=function(){return'\n    <div id="email-controls" class="email-controls">\n    </div>\n    <div id="email-chat" class="email-chat">\n    </div>\n  '}},function(e,t,r){var n=r(330),a=(r(170),r(331));e.exports=EmailControls={render:function(e,t){document.querySelector(".email-controls").innerHTML=n(),a.render(e,t)},attachEvents:function(e,t){a.attachEvents(e,t),document.querySelectorAll("#email-compose-btn, #mobile-email-compose-btn").forEach((function(e,r){e.addEventListener("click",(function(e){window.location.hash=t.goToLocation("#page=email_form")}))}))}}},function(e,t){e.exports=EmailControlsTemplate=function(){return'\n      <button class="super" id="email-compose-btn">SEND</button>\n      <div class="email-bars-menu">\n      </div>\n      <div id="email-loader" class="email-loader">\n        <div class="blockchain_synclabel">syncing blocks...</div>\n        <div class="blockchain_syncbox">\n          <div class="blockchain_syncbar" style="width: 100%;"></div>\n        </div>\n      </div>\n  '}},function(e,t,r){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}var a=r(332);e.exports=EmailBarsMenu={render:function(e,t){document.querySelector(".email-bars-menu").innerHTML=a();for(var r=document.querySelector(".email-apps"),i=e.modules.respondTo("email-appspace"),s=0;s<i.length;s++){var o=i[s];"MyQRCode"===o.name?r.innerHTML+='<li class="email-apps-item email-apps-item-'.concat(s,'" style="display:none" id="email-nav-').concat(o.name,'">').concat(o.name,"</li>"):r.innerHTML+='<li class="email-apps-item email-apps-item-'.concat(s,'" id="email-nav-').concat(o.name,'">').concat(o.name,"</li>")}if(e.wallet.returnActivatedCryptos().forEach(function(){var t,r=(t=regeneratorRuntime.mark((function t(r,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"Saito"!==r.name&&e.browser.addElementToDom('<li id="email-nav-'.concat(r.name,'" class="crypto-apps-item">\n          ').concat(r.ticker,"\n        </li>"),"crypto-apps");case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(a,i){var s=t.apply(e,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))});return function(e,t){return r.apply(this,arguments)}}()),!document.querySelector("#mobile.email-bars-menu")){var c=document.querySelector(".email-bars-menu").innerHTML;c=c.replaceAll("email-nav-","mobile-email-nav-"),e.browser.addElementToDom('<div id="mobile" class="email-bars-menu" style="display:none;">\n        <button class="super" id="mobile-email-compose-btn">SEND</button>\n        '.concat(c,"\n      </div>"))}},attachEvents:function(e,t){document.querySelectorAll(".crypto-apps-item").forEach((function(e,r){e.onclick=function(e){var r=e.currentTarget.id.replace("email-nav-","").replace("mobile-","");window.location.hash=t.goToLocation("#page=crypto_page&subpage=".concat(r))}})),document.querySelectorAll(".email-navigator-item").forEach((function(e){e.onclick=function(e){var r=e.currentTarget.id.replace("email-nav-","").replace("mobile-","");window.location.hash=t.goToLocation("#page=email_list&subpage=".concat(r))}})),document.querySelectorAll(".email-apps-item").forEach((function(e){e.addEventListener("click",(function(e){var r=e.currentTarget.id.replace("email-nav-","").replace("mobile-","");window.location.hash=t.goToLocation("#page=email_appspace&subpage=".concat(r))}))}));var r=document.querySelector("#mobile.email-bars-menu"),n=function(){r.style.display="none"};r.removeEventListener("click",n),r.addEventListener("click",n);var a=function(e){"email-bars-icon"!==e.target.id&&(r.style.display="none")};window.removeEventListener("click",a),window.addEventListener("click",a)}}},function(e,t){e.exports=EmailBarsMenuTemplate=function(){return'\n<div class="email-navigator-bars-menu">\n  <div>\n    <ul class="email-navigator" id="email-navigator">\n      <li class="email-navigator-item active-navigator-item" id="email-nav-inbox">Inbox</li>\n      <li class="email-navigator-item" id="email-nav-sent">Sent</li>\n      \x3c!--li class="email-navigator-item" id="email-nav-trash">Trash</li--\x3e\n    </ul>\n  </div>\n  <div>\n    <ul class="email-apps" id="email-apps"></ul>\n  </div>\n  <div>\n    <ul class="crypto-apps" id="crypto-apps"></ul>\n  </div>\n  </div>\n  '}},function(e,t){e.exports=EmailChat={render:function(e,t){for(var r=e.modules.respondTo("email-chat"),n=0;n<r.length;n++)r[n].respondTo("email-chat").render(e,t)},attachEvents:function(e,t){for(var r=e.modules.respondTo("email-chat"),n=0;n<r.length;n++)r[n].respondTo("email-chat").attachEvents(e,t)}}},function(e,t){e.exports=EmailAppspaceTemplate=function(){return'\n<div class="email-appspace-encrypt">\n  <h3>Encrypt transations and messages:</h3>\n  <p>\n    Enter a private key or address to perform an onchain Diffie-Hellman key exchange and encrypt your transactions.\n  </p>\n  <br />\n  <div class="grid-2">\n    <div>Address:</div>\n    <div><input id="email-to-address" type="text" placeholder="Recipient Address"></div>\n    <div></div>\n    <div>\n      <button class="email-submit">Encrypt</button>\n    </div>\n  </div>\n</div> \n  '}},function(e,t,r){var n=r(336);e.exports=MyQRCodeAppspace={render:function(e,t){document.querySelector(".email-appspace").innerHTML=n(e),this.generateQRCode(e.wallet.returnPublicKey())},attachEvents:function(e,t){},generateQRCode:function(e){return new(r(1222))(document.getElementById("qrcode"),e)}}},function(e,t){e.exports=MyQRCodeAppspaceTemplate=function(e){return'\n  <div class="email-appspace-settings">\n\n    <h3>Your QR Code:</h3>\n  \n    <p></p>\n\n    <div id="qrcode"></div>\n\n  </div>\n  '}},function(e,t,r){var n=r(338),a=r(339),i=r(173),s=r(174),o=r(175);e.exports=ArcadePosts={render:function(e,t){document.getElementById("arcade-posts-container")||e.browser.addElementToDom(n());for(var r=t.posts.length-1;r>=0;r--)this.addPost(e,t,t.posts[r]);t.renderMethod="arcade",document.getElementById("posts-stylesheet")||e.browser.addElementToDom(o())},attachEvents:function(e,t){document.querySelectorAll(".arcade-post-title, .arcade-post-comments").forEach((function(r){r.onclick=function(r){var n=r.currentTarget.id.replace("arcade-post-","");e.browser.logMatomoEvent("Posts","ArcadePostsViewClick",n);var a=r.currentTarget.getAttribute("data-id");i.render(e,t,a),i.attachEvents(e,t,a)}}));try{document.querySelector(".arcade-posts-add").onclick=function(r){s.render(e,t),s.attachEvents(e,t)}}catch(e){}},addPost:function(e,t,r){var n=1;document.querySelectorAll(".arcade-post").forEach((function(e){e.getAttribute("data-id")===r.transaction.sig&&(n=0)})),0!=n&&e.browser.prependElementToDom(a(e,t,r),document.getElementById("arcade-posts"))}}},function(e,t){e.exports=PostMainTemplate=function(e,t){return'\n  <div id="arcade-posts-container" class="arcade-posts-container">\n  </div>\n    '}},function(e,t){e.exports=PostTeaserTemplate=function(e,t,r){var n="0 comments";1==r.children&&(n="1 comment"),r.children>1&&(n=r.children+" comments");var a=r.msg.images[0];null==a&&(a="/post/img/post-logo.png"),""==a&&(a="/post/img/post-logo.png");var i=datetimeRelative(r.transaction.ts);return'\n    <div data-id="'.concat(r.transaction.sig,'" id="arcade-post" class="arcade-post">\n      <div class="arcade-post-front">\n        <div id="arcade-post-thumbnail" class="arcade-post-thumbnail" style="background-image: url(\'').concat(a,'\')"></div>\n      </div>\n      <div class="arcade-post-back">\n        <div class="arcade-post-header">\n          <div data-id="').concat(r.transaction.sig,'" id="arcade-post-title" class="arcade-post-title">').concat(r.msg.title,'</div>\n        </div>\n        <div id="arcade-post-sublinks"  class="arcade-post-sublinks">\n          <div id="arcade-post-posted-by" class="arcade-post-posted-by">posted</div>\n          <div id="arcade-post-ts" class="arcade-post-ts">').concat(i,'</div>\n          <div class="arcade-post-posted-by">by</div>\n          <div id="arcade-post-user" class="arcade-post-user">').concat(e.keys.returnUsername(r.transaction.from[0].add),'</div>\n          <div data-id="').concat(r.transaction.sig,'" id="arcade-post-comments" class="arcade-post-comments">').concat(n,"</div>\n        </div>\n      </div>\n    </div>\n\n  ")}},function(e,t){e.exports=PostViewTemplate=function(e,t,r){for(var n=null,a=0;a<t.posts.length;a++)r===t.posts[a].transaction.sig&&(n=t.posts[a]);if(null!=n){var i=datetimeRelative(n.transaction.ts),s=e.keys.returnIdenticon(n.transaction.from[0].add),o=e.keys.returnUsername(n.transaction.from[0].add),c=n.msg.title,u=n.msg.text,l="";n.transaction.from[0].add===e.wallet.returnPublicKey()&&(l='<div data-id="'.concat(r,'" id="post-view-edit" class="post-view-edit"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">\n      <path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z" />\n      <path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd" />\n    </svg>\n    edit</div>'));var d='\n      <div class="post-view-actions">\n        '.concat(l,'\n        <div data-title="').concat(c,'" data-id="').concat(r,'" id="post-view-report-').concat(r,'" data-text="').concat(u,'" class="post-view-report"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">\n          <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />\n          </svg>\n          report\n        </div>\n      </div>\n  '),h='\n  <div id="post-view-container" class="post-view-container">\n    <div id="post-view-overview" class="post-view-overview">\n      '.concat(d,'\n      <div class="post-header">\n        <div class="post-user-avatar">\n          <img src="').concat(s,'" class="post-view-user-identicon" />\n        </div>\n        <div class="post-details">\n          <div id="post-view-user" class="post-view-user">').concat(o,'</div>\n          <div id="post-view-ts" class="post-view-ts">').concat(i,'</div>\n        </div>\n      </div>\n      <h2 class="post-view-title">').concat(n.msg.title,"</h2>\n  ");""!=n.msg.link&&(h='\n    <div id="post-view-container" class="post-view-container">\n      <div id="post-view-overview" class="post-view-overview">\n        <div class="post-header">\n          <div class="post-user-avatar">\n            <img src="'.concat(s,'" class="post-view-user-identicon" />\n          </div>\n          <div class="post-details">\n            <div id="post-view-user" class="post-view-user">').concat(o,'</div>\n            <div id="post-view-ts" class="post-view-ts">').concat(i,'</div>\n          </div>\n        </div>\n        <h2 class="post-view-title">').concat(n.msg.title,'</h2>\n        <div id="post-view-url" class="post-view-url"><a target="_blank" href="').concat(n.msg.link,'"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">\n        <path fill-rule="evenodd" d="M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z" clip-rule="evenodd" />\n        </svg> ').concat(n.msg.link,"</a></div>\n    "));var p='<div class="post-loader-spinner loader" id="post-loader-spinner"></div>';if(n.msg.comment&&(p=n.msg.comment),h+='\n      <div data-id="'.concat(r,'" id="post-view-parent-comment" class="post-view-parent-comment">').concat(p,"</div>\n    </div>\n  "),n.msg.images.length>0){h+='<div id="post-view-gallery" class="post-view-gallery">';for(var f=0;f<n.msg.images.length;f++)h+='<img class="post-view-gallery-image" src="'.concat(n.msg.images[f],'" />');h+="</div>"}else h+='<div id="post-view-gallery" style="display:none" class="post-view-gallery"></div>';return h+='\n    <hr />\n    <div id="post-view-comments" class="post-view-comments">\n    </div>\n    <div id="post-view-leave-comment" class="post-view-leave-comment">\n      <div>Leave a comment: </div>\n      <div id="comment-create" class="post-view-textarea markdown medium-editor-element" placeholder="Your post..." contenteditable="true" spellcheck="true" data-medium-editor-element="true" role="textbox" aria-multiline="true" data-medium-editor-editor-index="1" medium-editor-index="37877e4c-7415-e298-1409-7dca41eed3b8"></div>\n      <button class="post-submit-btn">Submit</button>\n    </div>\n  </div>\n  '}}},function(e,t){e.exports=PostViewCommentTemplate=function(e,t,r){var n=r.returnMessage(),a=datetimeRelative(r.transaction.ts),i=e.keys.returnIdenticon(r.transaction.from[0].add),s=e.keys.returnUsername(r.transaction.from[0].add),o=n.comment.substr(0,35),c='\n  <div id="post-view-comment" class="post-view-comment">\n    <div id="post-view-actions" class="post-view-actions">\n      <div id="post-view-comment-sublinks" class="post-view-comment-sublinks">\n  ';return r.transaction.from[0].add===e.wallet.returnPublicKey()&&(c+='\n        <div data-id="'.concat(r.originalSig,'" id="post-view-comment-edit" class="post-view-comment-edit"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">\n        <path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z" />\n        <path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd" />\n      </svg> edit</div>\n    ')),c+='\n        <div  data-title="'.concat(o,'" data-id="').concat(r.originalSig,'" id="post-view-report" class="post-view-report"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">\n        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />\n      </svg> report</div>\n      </div>\n  '),c+="\n    </div>\n  ",c+='\n      <div class="post-header">\n        <div class="post-user-avatar"><img src="'.concat(i,'" class="post-view-user-identicon" /></div>\n        <div class="post-details">\n          <div id="post-view-user" class="post-view-user">').concat(s,'</div>\n          <div id="post-view-ts" class="post-view-ts"> ').concat(a,'</div>\n        </div>\n      </div>\n      <div data-id="').concat(r.originalSig,'" id="post-view-comment-text" class="post-view-comment-text">').concat(n.comment,"</div>\n    </div>\n  ")}},function(e,t){e.exports=PostCreateTemplate=function(e,t){return'\n  <div id="post-create-container" class="post-create-container">\n    <div id="post-create-header" class="post-create-header">\n      <div id="post-create-header-link" class="post-header-active post-create-header-item post-create-header-discussion post-create-active">Discussion</div>\n      <div id="post-create-header-link" class="post-create-header-item post-create-header-image">Image</div>\n      <div id="post-create-header-link" class="post-create-header-item post-create-header-link">Link</div>\n    </div>\n\n    <div id="post-create" class="post-create">\n\n      <input type="text" class="post-create-title" name="post-create-title" placeholder="Post Title">\n\n      <div id="post-create-link" class="post-create-link">\n        <input type="text" class="post-create-link-input" name="post-create-link-input" placeholder="https://...">\n      </div>\n\n      <div id="post-create-image" class="post-create-image" name="post-create-image" tabindex="0">drag-and-drop, click or paste image</div>\n\n      <div id="post-create" class="post-create-textarea markdown medium-editor-element" placeholder="Your post..." contenteditable="true" spellcheck="true" data-medium-editor-element="true" role="textbox" aria-multiline="true" data-medium-editor-editor-index="1" medium-editor-index="37877e4c-7415-e298-1409-7dca41eed3b8"></div>\n\n      <input type="hidden" class="post-create-forum" name="post-create-forum" />\n\n      <div id="post-create-image-preview-container" class="post-create-image-preview-container">\n      </div>\n\n      <button class="post-submit-btn">Submit</button>\n\n    </div>\n  </div>\n  '}},function(e,t,r){var n=r(344),a=r(345),i=r(173),s=r(175);e.exports=PostMain={render:function(e,t){t.renderMethod="main",document.getElementById("post-container")||e.browser.addElementToDom('<div id="post-container" class="post-container"></div>'),document.querySelector(".post-main")||e.browser.addElementToDom(n(e,t),"post-container");for(var r=t.posts.length-1;r>=0;r--)this.addPost(e,t,t.posts[r]);document.getElementById("posts-stylesheet")||e.browser.addElementToDom(s())},attachEvents:function(e,t){document.querySelectorAll(".post-teaser-title").forEach((function(r){r.onclick=function(r){var n=r.currentTarget.getAttribute("data-id");i.render(e,t,n),i.attachEvents(e,t,n)}})),document.querySelectorAll(".post-teaser-comments").forEach((function(r){r.onclick=function(r){var n=r.currentTarget.getAttribute("data-id");i.render(e,t,n),i.attachEvents(e,t,n)}}))},addPost:function(e,t,r){var n=1;document.querySelectorAll(".post-teaser").forEach((function(e){e.getAttribute("data-id")===r.transaction.sig&&(n=0)})),0!=n&&e.browser.prependElementToDom(a(e,t,r),document.getElementById("post-posts"))}}},function(e,t){e.exports=PostMainTemplate=function(e,t){return'\n    <div id="post-main" class="post-main">\n      <div id="post-headers" class="post-headers"></div>\n      <div id="post-posts" class="post-posts"></div>\n    </div>\n    '}},function(e,t){e.exports=PostTeaserTemplate=function(e,t,r){var n="0 comments";1==r.children&&(n="1 comment"),r.children>1&&(n=r.children+" comments");var a=r.img;return null==a&&(a="/post/img/post-logo.png"),""==a&&(a="/post/img/post-logo.png"),'\n    <div data-id="'.concat(r.transaction.sig,'" id="post-teaser" class="post-teaser">\n      <div class="post-teaser-front">\n        <div id="post-teaser-thumbnail" class="post-teaser-thumbnail" style="background-image: url(\'').concat(a,'\')"></div>\n      </div>\n      <div class="post-teaser-back">\n        <div  data-id="').concat(r.transaction.sig,'" id="post-teaser-title" class="post-teaser-title">').concat(r.msg.title,'</div>\n        <div id="post-teaser-sublinks"  class="post-teaser-sublinks">\n\t  <div id="post-teaser-posted-by" class="post-teaser-posted-by">posted by </div>\n\t  <div id="post-teaser-user" class="post-teaser-user">').concat(e.keys.returnUsername(r.transaction.from[0].add),'</div>\n\t  <div data-id="').concat(r.transaction.sig,'" id="post-teaser-comments" class="post-teaser-comments">').concat(n,"</div>\n        </div>\n      </div>\n    </div>\n\n  ")}},function(e,t,r){var n=r(347),a=r(174);e.exports=PostSidebar={render:function(e,t){document.getElementById("post-container")||e.browser.addElementToDom('<div id="post-container" class="post-container"></div>'),document.querySelector(".post-sidebar")||e.browser.addElementToDom(n(e,t),"post-container"),e.modules.respondTo("email-chat").forEach((function(t){null!=t&&t.respondTo("email-chat").render(e,t)})),document.querySelector(".post-sidebar-create-btn").onclick=function(r){a.render(e,t),a.attachEvents(e,t)}},attachEvents:function(e,t){e.modules.respondTo("email-chat").forEach((function(r){r.respondTo("email-chat").attachEvents(e,t)}))}}},function(e,t){e.exports=PostSidebarTemplate=function(e,t){return'\n    <div id="post-sidebar" class="post-sidebar">\n      <button class="post-sidebar-create-btn"><i class="fas fa-plus-circle"></i> New Post</button>\n      <div id="email-chat" class="email_chat"></div>\n    </div>\n    '}},function(e,t){e.exports=NewPostTemplate=function(e,t){return'\n    \n    <div class="new-post-wrapper">\n      <div class="new-post-form">\n      <div class="post-close"></div>\n      <textarea class="new-post-content" placeholder"Write your post here"></textarea>\n        <button class="new-post-btn">Post</button>\n      </div>\n    </div>\n\n    '}},function(e,t){e.exports=ShowPostTemplate=function(e,t,r){return r.author==e.wallet.returnPublicKey()?'\n    <div class="show-post-wrapper">\n      <div class="show-post-form">\n        <textarea class="show-post-content">'.concat(r.content,'</textarea>\n        <button class="show-post-update-btn">Update</button>\n      </div>\n    </div>\n    <div class="post-comments"></div>\n    '):'\n    <div class="show-post-wrapper">\n      <div class="show-post-form">\n        <div class="show-post-content">'.concat(r.content,'</div>\n      </div>\n    </div>\n    <div class="post-comments"></div>\n    ')}},function(e,t,r){var n=r(351),a=r(352);e.exports=AddContact={render:function(e,t){document.querySelector("body").innerHTML=n(t),t.header.render(e,t),t.header.attachEvents(e,t)},attachEvents:function(e,t){document.getElementById("add-contact-add-button").onclick=function(){var r=document.getElementById("add-contact-publickey").value;e.modules.returnModule("Encrypt").initiate_key_exchange(r),a.render(e,t)}}}},function(e,t){e.exports=AddContactTemplate=function(e){var t=e.publickey;return'\n    <div class="header"></div>\n    <div\n      style="\n        display: grid;\n        grid-gap: 1em;\n        justify-items: center;\n        align-items: center;\n        padding: 1em;\n        margin-top: 5em;\n      ">\n      <div style="display:grid; grid-template-columns: 5.2em auto 5.2e; width:100%">\n        <i id="back-button" class="icon-med fas fa-arrow-left"></i>\n        <h1 style="justify-self: center">Add Contact</h1>\n      </div>\n      <input id="add-contact-publickey" type="text" placeholder="Publickey" value="'.concat(t,'">\n      <button style="margin: 0; padding: 1em; width: 100%;" id="add-contact-add-button">ADD</button>\n    </div>\n  ')}},function(e,t,r){var n=r(353);e.exports=AddContact={render:function(e,t){document.querySelector("body").innerHTML=n(t),t.header.render(e,t),t.header.attachEvents(e,t)},attachEvents:function(e,t){}}},function(e,t){e.exports=AddContactCompleteTemplate=function(){return'\n    <div class="header"></div>\n    <div\n      style="\n        display: grid;\n        grid-gap: 1em;\n        justify-items: center;\n        align-items: center;\n        padding: 1em;\n        margin-top: 5em;\n      ">\n      <div style="display:grid; grid-template-columns: 5.2em auto 5.2e; width:100%">\n        <i id="back-button" class="icon-med fas fa-arrow-left"></i>\n        <h3 style="justify-self: center">Your request has been sent</h3>\n      </div>\n      <button style="margin: 0; width: 100%;padding: 1em;font-size: 1.2em;" onclick="location.href=\'/email\'"><i class="far fa-envelope"></i>Email</button>\n      <button style="margin: 0; width: 100%;padding: 1em;font-size: 1.2em;" onclick="location.href=\'/chat\'"><i class="far fa-comments"></i>Chat</button>\n    </div>\n  '}},function(e,t){e.exports=RegistryAppspaceTemplate=function(){return'\n<div class="email-appspace-registry">\n<h3>Register an human address:</h3>\n<div class="grid-2">\n  <div>Address:</div>\n  <div><input id="identifier-requested" class="identifier-requested" type="text" placeholder="Your nickname or handle (what comes before the @)"></div>\n</div>  \n<button class="registry-submit" id="registry-submit">register</button>\n  '}},function(e,t,r){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}var i=r(356),s=r(357);e.exports=RegistryModal={render:function(e,t){if(!document.getElementById("registry-modal")){var r=t.helpers.el_parser;document.querySelector("body").append(r(i()))}document.getElementById("registry-modal").style.display="block"},attachEvents:function(e,t){var r=this,n=document.getElementById("registry-modal");document.getElementById("modal-close").onclick=function(){return n.style.display="none"};var i=document.getElementById("registry-input");i.onfocus=function(){return i.placeholder=""},i.onblur=function(){return i.placeholder="Username"};var o=document.getElementById("registry-add-button");o&&(o.onclick=function(){var a=document.getElementById("registry-input").value;e.modules.returnModule("Registry").registerIdentifier(a)&&(Array.from(document.getElementsByClassName("saito-identifier")).forEach((function(e){e.innerHTML="<h3>".concat(a,"@saito</h3>")})),n.innerHTML=s(),r.attachEvents(e,t))});var c=document.getElementById("registry-email-button");c&&(c.onclick=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))),document.addEventListener("keydown",(function(e){"27"==e.keyCode&&(n.style.display="none")}))}}},function(e,t){e.exports=RegistryModalTemplate=function(){return'\n    <div id="registry-modal" class="modal" style="font-family: visuelt-medium;">\n      <div id="registry-modal-content" class="modal-content" style="max-width: 600px;">\n        <div style="display: grid; grid-gap: 1em">\n          <div style="display: grid; grid-template-columns: auto 1em">\n            <h1 style="color: black; margin: 0">Register Username</h1>\n            <i id="modal-close" class="close fas fa-times" style="justify-self: end;"></i>\n          </div>\n          <div style="display: grid;grid-gap: 1em;">\n            <div style="display: flex">\n              <input style="text-align: right; color: black" id="registry-input" type="text" placeholder="Username">\n              <h3 style="color: black; margin-left: 5px">@saito</h3>\n            </div>\n            <div style="display: flex;align-items: center;">\n              <button id="registry-add-button">SUBMIT</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  '}},function(e,t){e.exports=RegistrySuccessModalTemplate=function(){return'\n    \x3c!-- <div id="registry-modal" class="modal" style="font-family: visuelt-medium;"> --\x3e\n      <div id="registry-modal-content" class="modal-content" style="max-width: 800px;">\n        <div style="display: grid; grid-gap: 1em; color: black">\n          <div style="display: grid; grid-template-columns: auto 1em">\n            <h1 style="color: black; margin: 0">Registry Success!</h1>\n            <i id="modal-close" class="close fas fa-times" style="justify-self: end;"></i>\n          </div>\n          <div style="display: grid;grid-gap: 1em; color: black">\n            <p>As a thanks, have 50 SAITO on us.</p>\n            <p>To get more SAITO, provide us an email or join us on Discord and Telegram</p>\n            <div style="\n              display: grid;\n              grid-template-columns: 6fr 1fr 1fr;\n              justify-items: right;\n              align-items: center;\n              ">\n              <div class="registry-succes-email" style="display: flex;width: 100%;">\n                <input style="color: black" id="registry-input" type="text" placeholder="Email">\n                <button id="registry-email-button" style="margin: unset;margin-left: 10px;">SUBMIT</button>\n              </div>\n              <div id="registry-succes-discord">\n                <a href="https://discord.gg/HjTFh9Tfec" target="_blank">\n                  <i class="fab fa-discord" style="color: black; font-size: 2em"></i>\n                </a>\n              </div>\n              <div id="registry-succes-telegram">\n                <a href="https://t.me/SaitoIO" target="_blank">\n                  <i class="fab fa-telegram" style="color: black; font-size: 2em"></i>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    \x3c!-- </div> --\x3e\n  '}},function(e,t,r){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}var i=r(359),s=r(495),o=r(267);e.exports=SettingsAppspace={private_key_visible:0,render:function(e,t){if(document.querySelector(".email-appspace").innerHTML=i(e),document.querySelector(".settings-appspace"))for(var r=0;r<e.modules.mods.length;r++){if(null!=e.modules.mods[r].respondTo("settings-appspace"))e.modules.mods[r].respondTo("settings-appspace").render(e,t)}},attachEvents:function(e,t){try{try{if(document.querySelector(".settings-appspace"))for(var r=0;r<e.modules.mods.length;r++){if(null!=e.modules.mods[r].respondTo("settings-appspace"))e.modules.mods[r].respondTo("settings-appspace").attachEvents(e,t)}}catch(e){}try{document.getElementById("register-email-btn").onclick=function(r){t.modal_register_email=new o(e,(function(){})),t.modal_register_email.render(e,t,o.MODES.REGISTEREMAIL),t.modal_register_email.attachEvents(e,t)}}catch(e){}try{document.getElementById("register-identifier-btn").onclick=function(r){t.modal_register_username=new s(e,(function(){})),t.modal_register_username.render(e,t),t.modal_register_username.attachEvents(e,t)}}catch(e){}try{document.getElementById("privatekey").onclick=function(e){1==this.private_key_visible||(document.getElementById("privatekey").toggleClass("password"),this.private_key_visible=1)}}catch(e){}try{document.getElementById("see-password").onclick=function(e){document.getElementById("privatekey").toggleClass("password"),1==this.private_key_visible?this.private_key_visible=0:this.private_key_visible=1}}catch(e){}try{document.getElementById("trigger-appstore-btn")&&(document.getElementById("trigger-appstore-btn").onclick=function(t){var r=e.modules.returnModule("AppStore");r&&r.openAppstoreOverlay(e,r)})}catch(e){}try{Array.from(document.getElementsByClassName("modules_mods_checkbox")).forEach((function(t){t.onclick=function(){var t=a(regeneratorRuntime.mark((function t(r){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=parseInt(r.currentTarget.id),a=r.currentTarget,1!=r.currentTarget.checked){t.next=9;break}return t.next=5,sconfirm("Reactivate this module?");case 5:t.sent?(e.options.modules[n].active=1,e.storage.saveOptions(),window.location=window.location):window.location=window.location,t.next=13;break;case 9:return t.next=11,sconfirm("Remove this module?");case 11:t.sent?(e.options.modules[n].active=0,e.storage.saveOptions(),window.location=window.location):a.checked=!0;case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))}catch(e){console.log(e)}try{document.getElementById("backup-account-btn").addEventListener("click",(function(t){e.wallet.backupWallet()}))}catch(e){console.log(e)}try{document.getElementById("restore-account-btn").onclick=function(){var t=a(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:document.getElementById("file-input").addEventListener("change",(function(t){var r=t.target.files[0];e.wallet.restoreWallet(r)})),document.querySelector("#file-input").click();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}catch(e){console.log(e)}try{document.getElementById("reset-account-btn").onclick=function(){var r=a(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,sconfirm("This will reset your account, do you wish to proceed?");case 2:confirmation=r.sent,confirmation&&(e.wallet.resetWallet(),e.modules.returnModule("Arcade").onResetWallet(),e.storage.saveOptions(),t.emails.inbox=[],t.emails.sent=[],t.emails.trash=[],t.render(e,t),t.attachEvents(e,t),e.blockchain.resetBlockchain());case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}catch(e){}try{document.getElementById("restore-privatekey-btn").onclick=function(){var t=a(regeneratorRuntime.mark((function t(r){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.storage.resetOptions();case 2:return n="",a="",t.prev=4,t.next=7,sprompt("Enter Private Key:");case 7:if(""==(n=t.sent)){t.next=20;break}return a=e.crypto.returnPublicKey(n),e.wallet.wallet.privatekey=n,e.wallet.wallet.publickey=a,e.wallet.wallet.inputs=[],e.wallet.wallet.outputs=[],e.wallet.wallet.spends=[],e.wallet.wallet.pending=[],e.blockchain.resetBlockchain(),t.next=19,e.wallet.saveWallet();case 19:window.location=window.location;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(4),salert("Restore Private Key ERROR: "+t.t0),console.log("Restore Private Key ERROR: "+t.t0);case 26:case"end":return t.stop()}}),t,null,[[4,22]])})));return function(e){return t.apply(this,arguments)}}()}catch(e){}}catch(e){console.log("Error in Settings Appspace: "+JSON.stringify(e))}}}},function(e,t){e.exports=SettingsAppspaceTemplate=function(e){var t=e.keys.returnEmail(e.wallet.returnPublicKey()),r=e.keys.returnIdentifierByPublicKey(e.wallet.returnPublicKey());""==t&&(t='<span id="register-email-btn" style="cursor:pointer" class="register-email-btn">register an email address</span>'),""==r&&(r='<span id="register-identifier-btn" style="cursor:pointer" class="register-identifier-btn">register a username</span>');var n="Wallet Outdated - module selection not supported";try{n=e.options.modules.map((function(e,t){var r=e.active?"CHECKED":"";return'\n        <div class="settings-app-select">\n          <label class="s-container">'.concat(e.name,'\n            <input\n              type="checkbox"\n              value="modules_mods_').concat(t,'"\n              class="modules_mods_checkbox"\n              name="modules_mods_').concat(t,'" id="').concat(t,'" ').concat(r,'/>\n            <span class="s-checkmark"></span>\n          </label>\n         </div>\n      ')})).join("")}catch(e){n=e.message.startsWith("Cannot read property 'map'")?"Initialization error. Refresh page should fix this.":"Unknown error<br/>".concat(e)}var a="";e.modules.mods.forEach((function(t){"Balance"==t.name&&(a='\n        <a target="_blank" href="'.concat(window.location.origin+"/balance?address="+e.wallet.returnPublicKey(),'">Check Recorded Balance</a>\n      '))}));var i='\n  <link rel="stylesheet" href="/settings/style.css">\n  <div class="email-appspace-settings">\n\n    <div class="settings-grid">\n\n      <div class="settings-wallet-management">\n\n        <div class="settings-buttons">\n          <button id="backup-account-btn" class="backup-account-btn"">Backup Wallet</button>\n          <button id="restore-account-btn" class="restore-account-btn">Restore Wallet</button>\n          <button id="restore-privatekey-btn" class="restore-privatekey-btn">Import Private Key</button>\n          <input id="file-input" class="file-input" type="file" name="name" style="display:none;" />\n        </div>\n\n        '.concat(a,'\n\n\n        <div class="grid-2">\n\n          <div>Email:</div>\n          <div>').concat(t,"</div>\n\n          <div>Username:</div>\n          <div>").concat(r,'</div>\n\n          <div class="public-key">Public Key:</div>\n          <div>').concat(e.wallet.returnPublicKey(),'</div>\n\n          <div>Private Key:</div>\n          <div class="private-key">\n            <input id="privatekey" type="text" value="').concat(e.wallet.returnPrivateKey(),'" class="password" />\n            <i class="see-password fas fa-eye" id="see-password"></i>\n          </div>\n\n\t</div>\n\n      </div>\n\n      <div class="settings-app-management">\n\n        <h3>Installed Modules: ');return null!=e.modules.returnModule("AppStore")&&(i+=' &nbsp; [<span id="trigger-appstore-btn" class="trigger-appstore-btn">&nbsp;install more&nbsp;</span>]'),i+='</h2>\n        <div class="settings-app-list">\n        '.concat(n,'\n        </div>\n      </div>\n\n      <div id="settings-appspace" class="settings-appspace"></div>\n\n      <hr />\n      <div class="grid-4">\n        <div>Code Version:</div>\n        <div>').concat(e.wallet.wallet.version,"</div>\n        <div>Wallet Version:</div>\n        <div>").concat(e.options.wallet.version,'</div>\n      </div>\n\n      <div style="padding-bottom:40px;">\n        Having trouble? Try clearing your browser cache or <span style="cursor:pointer; border-bottom: 1px dashed" id="reset-account-btn" class="">resetting your account</span>. If that doesn\'t fix things, write to us at info@saito.tech.\n      </div>\n\n    </div>\n  </div>\n</div>\n  ')}},function(e,t){function r(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw s}}}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"classic";switch(console.log("Skin Option:",e),e){case"elements":this.c1={name:"shrine",svg:'<svg viewbox="0 0 200 200" stroke="black"><line x1="25" x2="175" y1="30" y2="30" stroke-width="15px"/><line x1="45" x2="155" y1="70" y2="70"  stroke-width="9px"/><line x1="55" x2="30" y1="30" y2="200"  stroke-width="21px"/><line x1="145" x2="170" y1="30" y2="200"  stroke-width="21px"/>\n\t<line x1="100" x2="100" y1="30" y2="70"  stroke-width="18px"/></svg>'},this.c2={name:"pagoda",svg:'<svg viewbox="0 0 200 200"><polygon points="100,0 160,30, 120,25 120,40 170,70 130,65 130,100 180,130 140,125 140,180 190,180 200,200 0,200 10,180 60,180 60,125 20,130 70,100 70,65 30,70 80,40 80,25 40,30"/></svg>'},this.r={name:"foot path"},this.b={name:"demon"},this.s={name:"yinyang master",img:'<img class="token" src="/settlers/img/wN.png">'},this.t={name:"nature"},this.vp={name:"Mana",svg:'<svg viewbox="0 0 200 200"><circle fill="gold" cx="100" cy="100" r="95" stroke="goldenrod" stroke-width="5"/> <text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle" font-size="132px" fill="saddlebrown">1</text></svg>'},this.longest={name:"Philosopher's Path",svg:'<svg viewbox="0 0 200 200"><circle fill="gold" cx="100" cy="100" r="95" stroke="goldenrod" stroke-width="5"/>\n\t\t      \t\t\t\t\t\t<text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle" font-size="132px" fill="saddlebrown">2</text></svg>'},this.largest={name:"Largest Yinyang Bureau",svg:'<svg viewbox="0 0 200 200"><circle fill="silver" cx="100" cy="100" r="95" stroke="goldenrod" stroke-width="5"/>\n\t\t      <text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle" font-size="132px" fill="saddlebrown">2</text></svg>'},this.resources=[{name:"fire",count:3,ict:1,tile:"/settlers/img/sectors/brick1.png",card:"/settlers/img/cards/brick.png"},{name:"wood",count:4,ict:1,tile:"/settlers/img/sectors/wood1.png",card:"/settlers/img/cards/wood.png"},{name:"earth",count:4,ict:1,tile:"/settlers/img/sectors/_wheat1.png",card:"/settlers/img/cards/wheat_old.png"},{name:"water",count:4,ict:1,tile:"/settlers/img/sectors/wool1.png",card:"/settlers/img/cards/wool.png"},{name:"metal",count:3,ict:1,tile:"/settlers/img/sectors/ore1.png",card:"/settlers/img/cards/ore.png"},{name:"desert",count:1,ict:1}],this.priceList=[["fire","wood"],["fire","wood","earth","water"],["metal","metal","metal","earth","earth"],["metal","water","earth"]],this.cardDir="/settlers/img/cards/",this.back="/settlers/img/cards/red_back.png",this.card={name:"meditation",back:"/settlers/img/cards/red_back.png"},this.deck=[{card:"Yinyang Shi",count:14,img:"/settlers/img/cards/wizard.png",action:1},{card:"Elixir of Life",count:2,img:"/settlers/img/cards/potion.png",action:2},{card:"Possession",count:2,img:"/settlers/img/cards/treasure.png",action:3},{card:"Pilgrimage",count:2,img:"/settlers/img/cards/wagon.png",action:4},{card:"Apostles",count:1,img:"/settlers/img/cards/drinking.png",action:0},{card:"Armed Alcolytes",count:1,img:"/settlers/img/cards/knight.png",action:0},{card:"Gift Shop",count:1,img:"/settlers/img/cards/shop.png",action:0},{card:"Scriptures",count:1,img:"/settlers/img/cards/scroll.png",action:0},{card:"Monastery",count:1,img:"/settlers/img/cards/church.png",action:0}],this.gametitle="Alchemists of Saitoa",this.winState="annointed high priest";break;default:this.c1={name:"village",svg:'<svg viewbox="0 0 200 200"><polygon points="0,75 100,0, 200,75 200,200 0,200"/></svg>'},this.c2={name:"city",svg:'<svg viewbox="0 0 200 200"><polygon points="0,100 100,100, 100,50 150,0 200,50 200,200 0,200"/></svg>'},this.r={name:"road"},this.b={name:"bandit"},this.s={name:"soldier",img:'<img class="token" src="/settlers/img/wN.png">'},this.t={name:"bank"},this.vp={name:"VP",svg:'<svg viewbox="0 0 200 200"><circle fill="gold" cx="100" cy="100" r="95" stroke="goldenrod" stroke-width="5"/> <text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle" font-size="132px" fill="saddlebrown">1</text></svg>'},this.longest={name:"Longest Road",svg:'<svg viewbox="0 0 200 200"><circle fill="gold" cx="100" cy="100" r="95" stroke="goldenrod" stroke-width="5"/>\n\t\t      \t\t\t\t\t\t<text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle" font-size="132px" fill="saddlebrown">2</text></svg>'},this.largest={name:"Largest Army",svg:'<svg viewbox="0 0 200 200"><circle fill="silver" cx="100" cy="100" r="95" stroke="goldenrod" stroke-width="5"/>\n\t\t      <text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle" font-size="132px" fill="saddlebrown">2</text></svg>'},this.resources=[{name:"brick",count:3,ict:3},{name:"wood",count:4,ict:3},{name:"wheat",count:4,ict:1},{name:"wool",count:4,ict:1},{name:"ore",count:3,ict:3},{name:"desert",count:1,ict:1}],this.priceList=[["brick","wood"],["brick","wood","wheat","wool"],["ore","ore","ore","wheat","wheat"],["ore","wool","wheat"]],this.cardDir="/settlers/img/cards/",this.back="/settlers/img/cards/red_back.png",this.card={name:"development",back:"/settlers/img/cards/red_back.png"},this.deck=[{card:"Knight",count:14,img:"/settlers/img/cards/knight.png",action:1},{card:"Unexpected Bounty",count:2,img:"/settlers/img/cards/treasure.png",action:2},{card:"Legal Monopoly",count:2,img:"/settlers/img/cards/scroll.png",action:3},{card:"Caravan",count:2,img:"/settlers/img/cards/wagon.png",action:4},{card:"Microbrewery",count:1,img:"/settlers/img/cards/drinking.png",action:0},{card:"Bazaar",count:1,img:"/settlers/img/cards/shop.png",action:0},{card:"Advanced Industry",count:1,img:"/settlers/img/cards/windmill.png",action:0},{card:"Cathedral",count:1,img:"/settlers/img/cards/church.png",action:0},{card:"Chemistry",count:1,img:"/settlers/img/cards/potion.png",action:0}],this.gametitle="Settlers of Saitoa",this.winState="elected governor"}this.rules=["Gain 1 ".concat(this.vp.name,"."),"Move the ".concat(this.b.name," to a tile of your choosing"),"Gain any two resources","Collect all cards of a resource from the other players","Build 2 ".concat(this.r.name,"s")]}},{key:"resourceArray",value:function(){var e,t=[],n=r(this.resources);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.count>1&&t.push(a.name)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"resourceObject",value:function(){var e,t={},n=r(this.resources);try{for(n.s();!(e=n.n()).done;)t[e.value.name]=0}catch(e){n.e(e)}finally{n.f()}return t}},{key:"resourceCard",value:function(e){var t,n=r(this.resources);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.name==e)return a.card?a.card:"".concat(this.cardDir).concat(e,".png")}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"nullResource",value:function(){var e,t=r(this.resources);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(1==n.count)return n.name}}catch(e){t.e(e)}finally{t.f()}}},{key:"returnHexes",value:function(){var e,t=[],n=r(this.resources);try{for(n.s();!(e=n.n()).done;)for(var a=e.value,i=0;i<a.count;i++)a.tile?t.push({resource:a.name,img:a.tile}):t.push({resource:a.name,img:this.randomizeTileImage(a)})}catch(e){n.e(e)}finally{n.f()}return t}},{key:"randomizeTileImage",value:function(e){var t=Math.ceil(Math.random()*e.ict);return"/settlers/img/sectors/"+e.name+t+".png"}},{key:"returnDeck",value:function(e){var t,n=[],a=r(this.deck);try{for(a.s();!(t=a.n()).done;)for(var i=t.value,s=0;s<i.count;s++)n.push(i)}catch(e){a.e(e)}finally{a.f()}return n}},{key:"isActionCard",value:function(e){var t,n=r(this.deck);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(e==a.card&&a.action>0)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}}])&&a(t.prototype,n),i&&a(t,i),e}();e.exports=i},function(e,t){e.exports=WebsiteDataTemplate=function(){return'\n    <div>Latest Block Number:</div>\n    <div class="info block-number"></div>\n    <div>Latest Block Time:</div>\n    <div class="info block-time"></div>\n    '}},function(e,t){e.exports=FAQTemplate=function(e){var t="";return[{q:"What is Saito?",a:"Saito is a layer-one blockchain. The network is noteworthy for being more secure than Bitcoin while making payments not just to miners and stakers but also the nodes in the network that offer data-services to users in the network."},{q:"Why do we need another blockchain?",a:"There are two market failures that affect every non-Saito blockchain: a tragedy of the commons problems that encourages blockchain bloat, and a free-rider problem that pushes up the cost of using the network. These problems get worse and worse as networks scale and costs rise. In order to have a truly-scalable public blockchain we need to fix these problems."},{q:"How does Saito solve the 51 percent attack?",a:"Saito ensures that producing blocks is always expensive. Honest nodes pay those costs with the fees they collect from users. Attackers must pay out-of-pocket and are guaranteed to lose a quantifiable amount of money with each block they produce. There is no point at which this cost-of-attack falls below zero."},{q:"How does Saito solve the fifty-one percent attack?",a:"Unless attackers match the amount of work done by the overall network, they either cannot produce blocks as quickly as honest nodes, or are able to produce blocks but not collect payments. Attackers must either go bankrupt or permit others to add work to their chain."},{q:"Surely there is a 51 percent attack in there somewhere?",a:"No. Attackers who have a mere 50 percent of network resources lose about half their money each block. The cost-of-attack scales with the volume of network fees collected by others in the network."},{q:"How does transaction rebroadcasting work?",a:"Saito uses a technique called Automatic Transaction rebroadcasting. This forces old transactions to compete with new ones for space on the blockchain. In market equilibrium the most profitable strategy for block producers is to ensure the same amount of data is deleted from the chain as is added each block."}].forEach((function(e,r){var n=0==r;t+='\n    <section class="drop-down-menu">\n      <input type="checkbox" class="activate" id="accordion-'.concat(r,'" name="accordion-').concat(r,'" ').concat(n?"checked":"",'>\n      <label for="accordion-').concat(r,'" class="menu-title">').concat(e.q,'</label>\n      <div class="drop-down">\n        ').concat(e.a,"\n      </div>\n    </section>")})),'\n    <div class="faq-page">\n      <h1 class="page-title">Frequently Asked Questions</h1>\n      <div class="faq-container menu">\n        '.concat(t,"\n      </div>\n    </div>")}},function(e,t){e.exports=HowSaitoWorksTemplate=function(e){return'\n    <div class="how-saito-works-page">\n        <h1 class="page-title">Welcome to the Saito Project</h1>\n        <h2>What is Saito?</h2>\n        <p>Saito is an open network that runs cryptocurrency applications in browsers without plugins, private APIs and non-open infrastructure. Saito survives without an owner while funding the nodes that provide user-facing infrastructure for its own network and other public blockchains.</p>\n        <p>If you are new to Saito, you might enjoy our quick video introduction on <a href="https://www.youtube.com/watch?v=7LQQWOIeWSw">what problems Saito solves</a>. Or jump to trying out the network by visiting our community-driven <a href="/arcade">Saito Arcade</a>. For developers interested in building applications or adding support for other crypto cryptocurrencies, our developer section has technical information and tutorials that will get you started. And coding on Saito is really very easy: our introductory tutorial covering how to build and deploy your first application takes about five minutes to complete.</p>\n        <p>The remainder of this site contains information on Saitos mechanism design, economics and technical implementation. Because the problems that Saito solves are still poorly understood outside of actual economics, we recommend that those interested in learning how Saito works start with our overview of the <a href="https://org.saito.tech/economics">economic problems</a> that stand in the way of other scaling attempts. Once the basic economic problems can be seen, it is easier to understand why Saito makes the design decisions it does, as documented in our <a href="/saito-whitepaper.pdf">Saito whitepaper</a> and online repositories for <a href="https://github.com/saitotech/saito-lite">code and other network documentation</a>.</p>\n    </div>'}},function(e,t){e.exports=TeamTemplate=function(){var e="";return[{name:"David Lancashire",photoFile:"David_Lancashire.jpeg",desc:"A tech entrepreneur who has been involved with the Chinese crypto space since 2012. He co-founded the Saito project and has presented on blockchain at Tsinghua, Deconomy, and at the Asia Blockchain Summit in Taipei. David did graduate work at the Berkeley and has a background in tech, political science and economics.",linkedin:"https://linkedin.com/in/david-lancashire"},{name:"Richard Parris",photoFile:"richard-headshot-300x300.jpg",desc:"Has 15 years of experience leading technology projects and teams in Japan and China. After exiting his previous startup Richard helped design Saito Consensus and co-founded the project. He has degrees in Mathematics and Philosophy from Melbourne, and has lived in Beijing since 2007.",linkedin:"https://linkedin.com/in/richard-parris-02b5a39/"},{name:"Clayton Rabenda",photoFile:"Clayton_Rabenda.jpg",desc:"Studied Electrical Engineering at Lehigh University and worked on the web technologies teams at Viacom and Amplify Inc. before joining Google as a Senior Software Engineer on their advertising fraud protection team, Ad Traffic Quality, which leveraged Machine Learning at Internet Scale to defend the majority Google's revenue.",linkedin:"https://linkedin.com/in/clayton-rabenda-6ab9b39"}].forEach((function(t){e+='\n    <div class="team-member">\n      <div class="team-photo" style="background-image: url(\'/subpagestyle/team/'.concat(t.photoFile,'\')"></div>\n      <div class="team-details">\n        <h3 class="team-name">').concat(t.name,'</h3>\n        <p class="team-desc">').concat(t.desc,'</p>\n        <div class="team-links">\n          <a href="').concat(t.linkedin,'" class="button">LinkedIn Profile</a></div>\n      </div>\n    </div>\n    ')})),'\n    <div class="team-page">\n      <h1 class="page-title">Our Team</h1>\n      <p class="desc">Our team is based in Chaoyang District, Beijing. For more information or to speak to a member of the team please contact our address for general email inquiries: info@saito.tech.</p>\n      \n      <div class="team-container">'.concat(e,'</div>\n\n      <p class="team-footer">We are also proud to be running a distributed team of marketing staff, network debuggers and testers, application developers and community managers. Approximately half of our staff are based in Asia, with the remainder distributed through Spain, South Africa and South America.</p>\n    </div>')}},function(e,t){var r="",n="",a="",i="";["0x002e6dafc52d6db609e1148d5b3724479608bfab","0x008c068bfd922e3eb7d14e31ecf0daa1e04f906f","0x010ed7839b8a2ea15d8e6382735b725ad1f8bb6c","0x0177e505a8fdf5ab39f6fd7f7335e16c6e0a66c5","0x018686f68b9d0f366c132550bdb982a301590384","0x029b317b115dc4a40cb4774069e69c40705e0e2a","0x02b24ff4bdd38c09cee33c9231454e59f1f36cbf","0x02c9cc94dd0ca7c85e1153c6e7ecad336bd6726e","0x0316196c7d2bc1354723d3fbf445f783d8febe53","0x03b308b0091c8d1fec5406cff741352a2e66ae28","0x03b76647464cf57255f20289d2501417a5ec457e","0x03b924278d38db7bdfddb3a57b538debb420770b","0x0409f1e6cac36afa03ab57c25cbb0334cef7f8e4","0x0448b99214c85013cd3e5e25cb1a421c96e7c060","0x050d2623b8ebc71653acefe6700248bf2991e58f","0x056615f0364429a85fd9bea32e3f27a916c84bfb","0x05de4af98481dc6ca566679bee656d1d6ac6999d","0x06783487ef7579d65a619b8a16abaf3497fba4bc","0x068bdd067ce78427901c01607f9e42722975821a","0x0718d289e4e6fa61e9fb05c6f46681a25baeede3","0x0757c4f0c97e1d3703661c4fa3d6280ec2d74d5f","0x0768edad62715ca3c5d7b919b7f52a704f1d87c6","0x079a13288f70b52d927a345c004376c500414121","0x0871c4db647a0a948598fb374af82756f5cec6c0","0x08bf8d6fa77f7bc937e62dcb7a5d1201890c48fa","0x090595122594786f97934ae1f27a4aa7939f18ae","0x0a16ddb102df6a250dd21389b2baebabeee268d5","0x0a2b975557c0262d3844c719fc021d371f82f747","0x0a465bd9404d2e2e6fafc86c0fef430d3f84cf86","0x0a5bd327b39cb8c996118f1b42e68dd3e8727e6f","0x0ab6f86fdf3c4c45090641c276a983941787587b","0x0aeed0374ec871243bb4d78392ca7777f22fb3ce","0x0b120a91a256ebae10acd8fbcaf2bf75d629e565","0x0b5d27f291c55c4742bbe2ed99b49dcce7684191","0x0b5d2f7d8b1cdb0974e3aa056f94ca98f139f369","0x0ba857029c8d486696a04d719932f1b4a94913d9","0x0bbaf4af7344754ca26b5def315756744f5d9e8b","0x0bd13e45eb62770d200f2efb658f73546f9a8c37","0x0bd61a2ef4c1b3c293f9cb98d5d985134e832711","0x0bf98720eb6ef66968b1db120c31335f13df94f8","0x0c4c9e3e0b8582b791d42db5f3921d9e5147fb98","0x0ca3f1f475d9c07c86e2f3cf0e92451d7d7d5240","0x0cb50da1b23c41c5a3e2cd2c4019e7af6e372477","0x0ce730fac3a07820fdc9e17bb68e3574f6fdfc0e","0x0cea740790617e2875c6ad1ac6f7d4f0ee907de3","0x0d1cab82681b58ff0ef38ff92a2369668b867990","0x0d7391085f27e910fb203cdce825dd28d9e29701","0x0d97a3b5a15ed668aa41d6f45ab9c32770b656d1","0x0e5773642def2ff242128fba88c5ceee83b6ded3","0x0e5a6bf662bd640f54bf766748592872a624c51d","0x0e715539593063503d9827237610788fb86c0182","0x0ebce9bb5e2a18d5e735ccbb835b219998a560cc","0x0f0924a3a5111e7987a23a49af826d2ba431342e","0x0f0ada09222c149d292f8786353a0b539af22277","0x0f9ff5028ef1aa963c965632f0bc113a140e63d2","0x0fcc669136934da42e4c48a0703721c34bee777d","0x104252d77c7b3c4e2e8ba18f4997d9b6399fad82","0x105cc968def09b0a6a5bee111d527ceffd611242","0x10c811e24f5653ac9842f3314d1149d5abeb470f","0x112af92409b81bd996cd3aa6d33d366e19230fea","0x1140e000bc127c1799040d8b61afd822083274a3","0x1181ea8ed8e4db358d5a20ee18382e11cff82a26","0x11a163ef98b019dddb0dbec8afb9fade50f1e9e3","0x11a1b7eb973dd982ae6e8b077a5cefcbcdb534e1","0x11ce4333f56fda2afa263206d43e1c00c4ce2479","0x121dd42384db6ad04851f7ac1e81bcd8bbb1876e","0x1274c165bc582b1bd81c38cbf5c95fcdb924a201","0x12e3633a8a4d6ef918b156374b7ac750e092332a","0x132a3643b457db8c20652c0be1810791c070c5f4","0x13abdf5f2ce5187c14de18982551367280b88fac","0x14008ab6c4e87a0679a0e4b3fc242587fe3c1aa7","0x14200888c9b85b4f1e589de4be12e46916b7af31","0x145109949f6af5e9068714aa8376a862e6e26bfe","0x14798026c6bf1c70835992056c7e128bc3b39143","0x150e90bc93e1527b6d45df5b802d83d575b76126","0x1563547dd0c62a802779bf55af1184e65bb1a6e5","0x15660fb6d6b66d00ce6e8b9692414fe33dfce431","0x158a714d69072f78398b7f1ad1fd6ce7bf908437","0x15a6e66988a886f8ca3548262841d0317e26acff","0x1621c4f772b284dd71052e882e197366e1faa942","0x16632f29451e49120e44f36211ac924905186616","0x16b0e4ad0b7287341e8436f335b558d168dd0985","0x16b942a59054186dc4c4067169fb126bd0f443dd","0x16d267f8f77617d327af137d2c9137cfd140df86","0x174b7da2e94bbcb498fe5f71801f9b7941e20613","0x179d9788f34618c88996d749d32a74e875964f50","0x17a58cdcee893486f7b17351f69d5d44b2961eed","0x17ac83fa732eacb07d57c4767eb3aed2928c558c","0x17d2549712fe4347c9c574431b360df11f89e3e0","0x185d38d04b3e52811a5f010ec5a8e0435abd0bbc","0x189621aad41e1be257ddf8049c4276697af7806e","0x189c7f09d72a1d8233478751ddd3e7d7f4bb3055","0x1920b396867915c7763a9860875d971f81eac9ac","0x1993b688ef5f5ce61cd71cd8a8d7516a97d58681","0x1a3c8759566071ca5fd32299aecd84a1f51e53f2","0x1a6d7040161fd4c0e8872c5bd3ec4d1cd22a255a","0x1a748ad5b635b422a99817092207150152cdef3f","0x1ab73cfe1cdb707a9b7b466db281546241d54e39","0x1abaffb51ea7cb711b6af78e294634df30ecb10f","0x1b0243ce8781cfff2a6b64e1f0ba3017fc4b89c2","0x1b752293437f25032ac09a51e3c5d9c49420cd14","0x1b8375e5626fb491cedaa63741469c9bb631b900","0x1c46718463877607b620aa26d10e75bc771ba24e","0x1ce454b07a7c5a5a6d488fea3f5f37cbbf32030d","0x1d1c483d1571342fe0ebdd3f1fb8ef6510690919","0x1d436c04aa4875866a14d124171eb3cb8564077b","0x1d5543d3906204414e033c00d70380a3741bcc8d","0x1d6cba2d941c6800deb7dc4eda00eb54d16210f0","0x1d9808c8c12fe4192e60890e7830ac32a7cff634","0x1db69578db176694c61643869f8668ddc66d82af","0x1e3dea460ef6745b7080953cbc3fa10d84dffefc","0x1f8d2df6024d42bd3eb4030a68776c5a2ab4907b","0x1f94157cd424f3390c65e2dcdef1536fd9ee509c","0x202f3b669a8e971b66553e493a0883713dff8d68","0x20b084c18809ebd560d1c392ac05fb28838ebec5","0x20b4a99014e33a9167db54d322cac1ef5d481250","0x21b85d5e5c9a752eedcfb9cef464eeb1150ba03d","0x2258782b63ca3683c4d4e3012808532c24ae5d52","0x238d968a7e6755469c8a4fdd2ce115dcde5e3a09","0x23d1ed22383c5c6517ad8da3f5d5181b79254fe7","0x24109da5f19ce30d57d5dd4373da99b781a72ee8","0x2490dc1685200c2dffff04df450dbd4c0971ffb5","0x249e8d871dbe1985cb49f35c7747eb0f0454fce3","0x24d6d4b311e29651d011bc0bd221de08025587dd","0x251fa89b5430ab0f0dcf0779000b48e70e9a7c6e","0x2545471cabbb93c2245101e3f1418c18fb7603fd","0x259d542b3507404af5dbdd90432a64228639452e","0x25ee71e0141347972b2ef66faf197cd09c93ae88","0x262dd61271d02870307567e19de1a69e92e32554","0x265adabfdb4dd7f5b6a104c2cdb6e0259cbcb2f0","0x2663d87f4e34b7b0356efe93426e8e7f050afb77","0x266988c1f5648f7510eecd85162e24cc5a391f14","0x26aaa46b57a5ce4254a6adb72b5adfa12bf1744a","0x26d802bce108f310b08cecd6237c47401a802867","0x271b68a4aa515a78b8d6dd0b2628fed2f1224643","0x271be020715b307000d11f5d2a86f60c56628210","0x27689177ddda66a138ef573fc41d381f2d94bbc8","0x27d4cfc6dc3a0ff6a931d19f6d8e743c03bdf88d","0x27f4ff93a39bd5d3f1ffac43bc8adc63d77bfde6","0x28047b79cfff41c513acfbb7e0e60366c23eea94","0x28c448b185894c003a812586b1466e9f56b20883","0x2980d9076aeb79d87fb7a07c830bcedb70650142","0x299f08a8ed7238efcf377cc0b89524d01657190e","0x29d6d6d84c9662486198667b5a9fbda3e698b23f","0x29e2bbb64a06d3b66f6b3d9aab6b80eb1784df3d","0x29e433a7da5ed6cdb2678bb0b4bda234ea2703fa","0x2aa9b52c4e57d3517301dfb39fefa2ec89bc1796","0x2ada97af9cc3e4c50d919aa6d4ce095b51a3030f","0x2ae3abf255c417d0b3aec296c0a607f54e9673e4","0x2b78452cf3bd2b1a00b3296b54005b78dbeb3a0f","0x2ba81a31ff63f31d190fb6c3aa12084fd61b56ac","0x2be1a753b1c0562c4cf35a24f6f62619961ceb53","0x2c15d08b51ab773c23387ae48bb7978b6e58f02e","0x2c2add1c863551a0644876be227604c8e458dd7e","0x2c59900b9442b7a865f93219c04f553a0d7bd003","0x2d818498053a15990c71de6744faff9753f91d24","0x2dbab983d00b6bfbe00f6f08d71602ce6ddb0b3d","0x2dfa6e0f031f3f246787bdcefed866be3e26977b","0x2e5c0674da08c3461a12bc4b44dad48727729497","0x2f7c6ea622a1722125bccbedb47307c7b3b9aa69","0x2fa805e45d39ebcec106e035aa3b942d3b8eb13e","0x304d702a8d7085c8e5dea787e63c0d3db0f669b8","0x3079d3a14aa8d8c9bb69122b1805cf7acc4321dd","0x3105e43caab7cddc8c70843195ea00f0159aecf1","0x3117d469c817c66233ebcc0714789a04762dacff","0x31b1c5b5e2d1c8d23c556f6d6029d265ee0af98e","0x31b6f2771e2e56aa754b319b7ee8134d9bd66cc0","0x32188df16621e517c49406b08b4c3fc7a8464cdc","0x324768c81f1d580225dec690f5389cef9358a904","0x32eb7acbc60eec7101b063da8df148454410a353","0x32f8e0361ce2b9ca84824bc4b446c18f6b2fc183","0x33119674cdb6bc1754ef466b1d0f175f3b51c88a","0x3333bbcfec5af86e14758ac684d01279d9089863","0x33929cbafbd7f2df4b7f38b5dd318d2c788dc564","0x33d1d53c2c9df744682d0d4f3a0a57e3b7b76595","0x346fbd09e7d6055164bac365d8f386170094b3e3","0x348ecbd26decdb75f1a14231f063ca82d32cbc83","0x3531eae7584747af1536881b1ca3c3e96a122124","0x3563fd9a390eb7425935cb5774bac91c87caf1d5","0x35672696496dd9d2d1cf8520fc6556e4d570eb64","0x358913b531e1cf4e937f524d4c09b4100b137cde","0x35f26e17229381ce51e49eb6678af436937b9e34","0x362c2c1f5ebc1d0f1fc6f28eefb9dd542c384830","0x363a83b68ce43476e9e2a505cb9020eb5a7fec83","0x3673cf19b6efb296e29d9b07666e9625ed63cfe1","0x371ee3545f78465aa29c7d842546f9c7cfb175b8","0x3756681f03dd2c8b5cce162d22986ed86c385b10","0x386c82b52d6e0dfb636c51b577577140cc1df4bf","0x387227d2681c547ca874417a70dd5edac08e129e","0x388445266e5d3c029e2ddcf18c803124efbf79b8","0x38e87dea8b44059c54d1f6bd7fa390bd1ab82d08","0x38e96dda4f19f2658719bc4ead69c7c21970b799","0x3916839ae08c8723c5cb7a1f789a12accfca9aa9","0x393746c74d3b3bdd1816133da4d7961b36e88346","0x39493d461cc533ea4ebb15cb266d1f45cda150e7","0x39869f20b65675c49d2884fab2e15ac2d1c30728","0x39d565a3a1a90cc3dc13e35ab59b7435e4066d28","0x39fbd25cf5a2c1fc32f01d56e11643a8cf3c2a09","0x3a3d8d6e73e15f6c289c08ef215a3ecb94111d42","0x3a8781327bc0d0c80cbd5a1505edc5e4aacf5732","0x3a995db2c00d3fd595e1003d04de35d6beaba934","0x3ab7fcd5798713a03887661dc495b5f82092feab","0x3b39427bfa2cd333daeb8a3e811e827447ef3dde","0x3bf124372c36a8a946010e4899dd45586d82c481","0x3c033aab89b26650057881dabbc0815146ffc0f2","0x3d2c7eac8e154988314681ed5aaef730976f87b8","0x3db21955a90f83aafd568ecaf55b7cee52f88bce","0x3de2da6ad41e50c21fcf271fe414aa86e1776891","0x3df047d6ffe88d5309859cebb1bd9a3e19338fcd","0x3e49faed39e1f8f7147d33eef177b9fedff8b0d2","0x3e702e39e0649bd8581d07a5bf1b9e5924d94ce0","0x3ed1e4f3db895f3990ac06f7c22ac83ef70f12b9","0x3eecaf77f17bdde5e4304ff2bebb050f7031bc21","0x3ef37b4bb5e64d0d9536ad437342c216107d6df5","0x3f4cbf443aff15add12f8179fea19839cc0593ef","0x3f923a45e473331de342e98db7a07c867308c849","0x3f942244b1f18c843752e914cb3b96cedbecfe29","0x3fe7493385eaae7ec98dc33f77b4fbe71aeb5edd","0x4033ad61ce26b65c5b6bbf01dc4a0139b3486cfb","0x403991744ee359971ddef35ed540ef837373af73","0x408a426153f4578d88ff0383cf5a32073e755fa8","0x409f29238cc6f2505cb7c8cf3f45728f060582d1","0x40f35fcceb856bdfc0d40d67891dd83f77905432","0x40ffd28ca404cfcd1bf7b0c92a997138f73a02c8","0x41022a0594bfbe728cf8457787b42e54df167ca3","0x4184edea458b3dbe3492e5a93c08aec926bc74af","0x42309ab9681352613bfffb6df39acd25e7444ef6","0x427912304f97d34116f033eecf6929e20c31a3e6","0x429100fffc1b37b4117219ca3f831a55643d384f","0x42b89ae22833935bc10e4b2eedabc9cdca868f4c","0x431431b7da6a87c08312dae9d15625a4753d354a","0x435e39c2093d3bc133715fc1ae18136baada81d8","0x438aba1f5b2abc4bb56ef518f1d42de454164a93","0x441aa3be62291d4c651639d823bd61ea44049ad3","0x445365e92f8d3b3c4525a04a8b603bd66e76aa9e","0x44dc3320ead2bd42a0f8c4abd980c568f1e40417","0x452e99c306c63c1264012bf036df034a8ee4b7e2","0x454debf212f4a30fbcfcc04c3fc21f33e2714c3f","0x454ef2831c463ec265010924e7aaf8b1e937bb5f","0x4620921a5e85acaec95b9908f42fdd8dc637cd5e","0x469bd2246fd4b94de0939c4e97b3bc6ded660fb5","0x4787a53a3e59f88ef5ae785a48cf4e81a165d6b6","0x47927b4e81a4a36dc1c6c340464fd8aa502fdbf2","0x47c3eb3dcdd524c2508da649d08f94571dcd398a","0x4803300b595e627c8167a8586795c4056c4fafd0","0x480d57dc208fd4c5a2306f0c8614621053b7c643","0x480dc8e2a679901c39080bcfd21d4f2cd2eef58c","0x4811fcb686708ed7712b5287dfb263fa68c91b05","0x48373b8cd69333fb65500f0a52e0f9d1a3188068","0x48c5be9c033d64af2ccba5dbe155a27663b78cff","0x48f9eebcbedb325f88ca819bbfd098ccc3522333","0x495833d72cb1c78c5f53e0fbafdbe18e012b2482","0x499bccf632e06dea6a768f84b764f4f721885003","0x49a3de1241d9cd15eb5615a4aaaba41ad4cc536b","0x4a38a0d781ed30c7f2f7decb3c2d933017deea49","0x4a5431099650f07e4bd35131499a8b26f8090ece","0x4a58c28f4ecd250c3b24792add4a03352dc3bffd","0x4a5aaf21e9baf9ef59e758a6754efe0d5fa1cea2","0x4b69511c0b077200771f73f3c7cd4ecd60c77707","0x4b98d7050682f26c0ff800c12826f03c58336c82","0x4c3d50a0a003e640e18b13e13c770d4cbf3e8ae2","0x4c4d89104a853540fecb617df1dae16280a0f19c","0x4ccd298f069f4305e842cd427bff649bb9209485","0x4cef2cf576dc4bcdf7a2a09ce457fd01cc50c7d9","0x4d04a3bfd8d9eec765412cb03a3020215ea58156","0x4da6643c5c6f36c326e679501f71b634d0c27111","0x4db947dd4c0c183df03fb38907839ad927e16cdb","0x4dc0a736d0b2ff9222fd6d347b03f0c010c5390e","0x4def87be9f22ad43cb20eb0f0092136b536205cd","0x4e72f7e288f7c1c58a439f8d101ded16587045d1","0x4e8c101bd3beaaa049e42b0db1877c9c5f90b724","0x4ea71d9b0a41ac87bed08ba19ff2e47a57cbec1a","0x4eb395694556a8b95bc4dfff47ea5babdf57ec74","0x4eb5c09f266a6681f3a7729cd4587cbb1ae3d41e","0x50060fdac9a4617bf64a16d7ab422ee439cd08f7","0x511bcfc958011b7ab9fd0098ab9a0667eb7f03aa","0x51bd618e74b4796585edb3d4ef17166077032a48","0x51df7b838a61d95b3f7508ac84316f4daf656302","0x520a6e36c86d35996c9a1d7c73ed9f801ebbbf0f","0x5363c32d81266cbe7e00e867a11462c3bfc771c9","0x5368fa588d7c6a4353b2b0a3683ed7a4006bbd76","0x5408c0acbb51ee6934f3102bcc1a5523a108ac95","0x54198623da15e0690e665e490c470391d92fcfde","0x54a0c58d2d38f39bd01f3a2761f3ada530001cee","0x5559720211fa37842efdce0951ee699fe20dff40","0x58addb0456871d27fd96d58c9efa0ad4d90d38b8","0x58f8b97a4ebb481731765e917ddeab1ac3fb200a","0x59311215f55b02f30cbf5c48aafb1d3307a91f38","0x5a03d04c2586699319844245fab96e47afdbe57d","0x5a343e35a472d49d50598b8f4e08e6fe5aa9aaa8","0x5a91621b20eb28a19862e6a20993478a44c65410","0x5ab2d1f5069dd2f9aeec3b0a8e923b1cdbe7fc44","0x5ae5e5278ce81a34b1fdfb737f7a6adaf8d110c4","0x5b191f5a2b4a867c4ed71858daccc51fc59c69c0","0x5b206e074347912603ee1dabde6ffed5108b86ab","0x5b7102185ef51982809c6d5e17d008d1dc272ad1","0x5be798bf258ac5319e74428a66e635df491de2b2","0x5bfdbed17075ef1e06fe13a6260e51c4abdd96b3","0x5c35b34610343bf51c30b3f5c590d972d9fae97f","0x5cce781b6a9408b438cd6b7aae486a6dd4356655","0x5cfc0af2db55938b879c5be94d0cd860ec2db029","0x5d3d79d8e5fca2b8756682a045f8ee119d5c4f19","0x5d5119df5db720fd12bff0d14096db5762f523f8","0x5d78037e90a0866ad9a00a3aa0afc7066610f1b5","0x5d9b1a54422dc49522d6a7d4eafb27091faf8171","0x5dc000b8060fca14234d8034326b73eb95c88502","0x5e6a70bce4f53a3f56e9047f1378d8eba6ecf79b","0x5e902a9ff6289fc5dc245e67a239fc01739a7332","0x5f0b23d415b82421780aaeea6362860e76e90a2f","0x5f6602f4e257b9836295c826c0a38260019b549a","0x5fbeff3e8bbce68ad8eb99dca3c38105eead9dad","0x5fff5a656ace8da161fe9ff71648321b98fe1b7d","0x60b17b6302d6fd1848e5328ddbe85fe42cd26110","0x60b83af2bc4f1f2a7db6c4c1d10d3da24f9e70eb","0x610409d24a2aa193d53ea45f9314aa54b9511dfb","0x6152d1010ab7f0b7fe1ffc866446b58638ed1d56","0x61555d49b2eee106aa5b07916e63969ecfe0ca95","0x615f0dd2a5717318917fb0d413e9248739f11223","0x61fc898bd97ab50c72780266f2d4ab251db07458","0x62756bedc2c98f80ce83e45bc9f8062345b65d8e","0x62c466f7aae3d51c48226598e66619c42cfead85","0x62d609d5890a01fc816220124ff04d3e5b9b1d86","0x62ebac26547363ce8211eac4ca4c255abe5ceac8","0x6385f783506a8e4917569dcf017202ffb5ea3e0e","0x63b67d9b4cc64bb4a1d773066784b7f5a6d27c8e","0x6475372b5207fcbc430a8fb98e5345a597236ad6","0x64db70e8cbb6f1cbb04154a378389f51b5c3682d","0x6586ddf4a8dc7002ff78a2c78dfd0a68db9c1c4d","0x658d777dadc32b2385655913dacccf70e687ccf8","0x65b495d9a24f5f10c73f233e25f9d88fa146b6bc","0x660bfb45df18e718264efe1f9f03b6e00dfe5be3","0x662018e6971d8fa89f707886aab59c5b86802735","0x6661e7afbe1bf703992889e9ad93832df60a3d99","0x668f1099990bcf968ed6cdcb29c8167c0831873b","0x6691c2af7d7eafddd5b1747b16c943ead6e5a928","0x66b7720207c04e5ad95e92bda8f8e4a0b19eea0c","0x66c3545900c352147ce00c6040adfd678c66e77f","0x67ca64e6d0a97bae9d85b6b005a0ccdd876ab896","0x67e0623132e24076b62e401efb8c739a1091c818","0x68662163a2e664f8f81a751463db74864eea7522","0x68ae8c25e9c0d2c245fa63434286765bde7c00e3","0x68cc876034e0a1f38e21b5018af131c5994c657d","0x68da0dceb08660d0f6a17fe8f8b8a6c9d161e7fe","0x6942b8dfc13c63b733c17a38ca4706be1f6fdb90","0x694a046ab2728d67365069af3093de18fe026c5e","0x694b09f4697ec0185722bc91f0b9722c5b57a632","0x69a4e5e84cb9ee053900a678bd845f644f5d2100","0x69aae96a220813975083048175926c3f1f19da16","0x6a5904d318d2820292876f97e3834c16cd7a16c3","0x6ab79ff8206f607a53a86f60e275d464351a3c8b","0x6ad12f37dc2357bb7dc19fe50afd2a981440aa99","0x6b3de22ec227d168dfaee06f1fc629b49eb73e60","0x6bb861e9363d6440fc2faeaa7883ba853c913d8e","0x6c85835c1ff1a30c839acb9e6b9bafe749424b6b","0x6cc52fd37374e257b80b8ec9dc8145cd1e689605","0x6ce2abaeb765337bf54c45ab3da2a0c60f3f84a3","0x6d1201947680d780d1bd9e7a322d7a0a7f6d83b7","0x6d40c602cf27bb690d4c7a8436b7868af347732b","0x6db1f499e420f43d9b9c07ead32e0695b7200b82","0x6dc9e5c4200fcdf0fbc6148eaec5cc9417295131","0x6dcd96c4c1e8b98c99db39d8c0b351a134631d01","0x6dcff558cb0f7c0e45ff7f968a68709250d6c6c7","0x6dd44477808e8e1a77b1f4bc10b32d01d7051597","0x6e0f74ce1630529e766f6ce0d6b5d8d655a897bf","0x6e159e0429ed6eb90c54f99014eaee0b3c287a87","0x6e3998bab30f24d0b7bb09a24fbc7105f3f2dcf8","0x6ead67d57f5b0cec890fa47ef8085a5e86a2008f","0x6eafbc2fa701bd8710466e6bc4c8544b9cc6e1ed","0x6ec24b2b96abbf08fc5a2612e29001b13e883d13","0x6f446e99e322593775a2944fcac4adb3e2518ac2","0x6f8b0d7ef9465498ef88f64ff5fbbb822113976e","0x6fc3b5a4e815bf18ee303fef81a4dba30974aad3","0x7021163e97179b328dc746ca9213174ca180df04","0x70817f848cc79acb114f606685e8751943fb02c2","0x70b3886f26bb60716c8e2fc3e5c0b0b0e87cacf8","0x70de1021e0dc0876ce3df2889adbf1aed381fc69","0x7118ba0bdf2a1ac06f8cee78fd6e5a86b159f2e7","0x7132949f1637e0ec1722b40f9e2e58f8b40ffbcc","0x7189e276277088fdce943ece936fd9ce7f161671","0x71ec5abfc49075e158b0f85575d400d0f5d7d3be","0x72cdc67f32a853fdab3440d842c215466480cba9","0x72dc63ccc77626f3dc0309feccb17c6ea7fb3b8a","0x72e9323a9e7ad11178372aab0e62f67d9ac36253","0x7335f905b4dd29d58c5afcb4f8d8016e1eb5ad9b","0x7350b22228aa71c1ae9ae5502a62eb04a2128d7c","0x739621ea040cf397a169047df2935458c6502d63","0x744c409f310c12d731b596312c59743f94058f2a","0x744ef3c4b61909432b88be78f0ce4f6de7f67817","0x74aa8b45270cb70719070d008ec26fe568625f73","0x74f4d373c24ef347ecc86609af00831d7d62bb40","0x752ecc81eb5bffec6366e00483bccfebb933affa","0x75a70b3f24eb6f32e75b53fbe9315111d05851d0","0x75ca62210e38d111896f6b46d47201d6bba9f4a2","0x760dfc5f7ef070159d9106156eb8b4e27c11dc1d","0x765af8f104ec655a4b421bff2b66b96702ac25c7","0x76a366289781477ac1a181d2c346cdca244d6cc7","0x76e4dc8ffc318b45518774a57e4277c98ec197ac","0x7729de7dad47e5c283c249f2c21a64f494946723","0x772afcb40272cf109c4952782fdc4a17bb529917","0x7742b9643958770ea186b6e5a0d67b42fbf2f0e0","0x777ad2a02d28f1aef023aff6526effd7f6ef499d","0x77965bb2a20a91b7d476eeb5b25e450f476d3281","0x77f6c2b37d38fb42c0f27ac2ff52190805ba46d2","0x783fff4152b25150eec13c19b7b9546301b75f9e","0x7885948abffb2ce9c3efc3075bca1796ab7c63e1","0x78c64ff0d6f3a3419688bb2624231a43e842365e","0x796b0389b596c35d40ec0bef393c46012bff180c","0x7a0584eafd56e980ef74dd053802b832eabdbbff","0x7a3578d9007485a77ab90ac4b94bd8d8e55d67f2","0x7a5c81cce0c4fa27c94dc46427cf794987b0124f","0x7a7892b3ef64abede8348684ba57a37fd7edc0d9","0x7a9c9e82382b8a9df2291e1af44d47ddd9834366","0x7ab417afd459335213601f160dda165b789b0193","0x7b001b722e36150dc8820226b11fac792e49fbf7","0x7b0f2412fed45d8160209b0ad140de93c0eff42d","0x7b359142aa64654932b3fe21bf26caa57b72e2f8","0x7bfc4c5c47d2c2a7e727438d3e02fec0f9fe88fb","0x7c61134c814622b3533291520f682009811578ea","0x7c8206bfbb42171e2a620e16e669d79b1a800c27","0x7d0057450d0ee0ae7997077792cd5a6f199b8122","0x7d537213300571b3e2e020c0c5d42b3f27db3a27","0x7dfd5fec79cc6877ae6a62f97f57980fc99dab3e","0x7e13edf4cfaeead0d5f97d950897d0759e95bc3e","0x7e1ff6e9ea45b83d5992171fc20f13a07111962c","0x7e36f211736333ca3cba204181e2f49fcc828cad","0x7e5550abc321fc49c2e9d0a0425a93b1a193a841","0x7e6f169c5bdbaa06cf81936d5395340c524f3815","0x7e7aa18bd8664e5366082c9bba855a3486609f8b","0x7ed5bbd68063b7708e749bdf8a110769ebf8ad7f","0x7eea962086ed3ba5ed35c5aef8784bda29a22185","0x7f05e2326caf37626faa7dd542aa7847cb627822","0x7f0ca7bc35a0b45e25055fc1775631ade7c082be","0x7f592ef45d8c5d4f630a7b92ec7cdf470ebf5b5d","0x7f892323bc373ed7e7c3ba4e95f9838690d7e0cc","0x7f8e64e458b3699dd96d4d0ffc167a7803bd6c18","0x7fff30cdca03629e4b47ef25bd0de3a82b5f6c93","0x5ffef06d2207a8ceea5cd704246861b9a3345026"].forEach((function(e,t){r+='<div class="address">'.concat(e,"</div>")})),["0x80b759f0a9391e64351e6b94e32c384a40d96b7d","0x80bdf29f00a508107d02d30d1ea4125da38b03d8","0x80e6a290dbeea137970f779900f87f5e34f05f6e","0x80fc46fc85c32e8f0b89753549aa7ca5a9155957","0x81210106806bcd45df0fead7c5226cdca1b5edab","0x81a0751be20155bb1039afae1e3f8992f8bf1b8d","0x81a7e8c827286ac78e1b669bd5f1dba341582edb","0x8219a3bcaa0cd2c2d0ec16524284bd5a80502ca6","0x821ec1bd94fb961315cab6a1f9b11d506d68de12","0x82340331ca670b95a02d433237458aa05dbfb64c","0x8257e8d24f1960de1ce366f7704c930ccac09716","0x82aafa5136bdf51d6b63ec38aa8ce89e87edaaef","0x82ab6ab7905a1a03ed7c34631e5448fffb8c8293","0x834fd28b731e45d150d4e4a1deee343da04f47eb","0x835649a4ad9c806405b03e39bfcd02d6e81b408f","0x83aaf8cc72bbfaa434af7c6f0a8aab9b581b48c5","0x83b82623d62e4620e8f62406c15d42e2cfe1dfdd","0x843fdd402952da6e170497e40bcadccf704e1320","0x84c191dcfd652f6b1012bde262aaa933a793e56f","0x8502adfe5318f0b302b26f3ca82385994a63bb1d","0x858e6ca4fad8b103f97b2cafc1ab181b1e3de6f1","0x8596baa4ed3c95ac55e73a2f2bdeb138b428d54d","0x85dd36038eacbeedf785927cde2ac47fdb581032","0x863ad0c4cfd3fdd2cb435d186c3477ac95e8029e","0x8667e16238752e6afe8da6a68ca92ff5e5ab5253","0x8669d2a4a5c5ef2c1cb3a0f44c527f9ad73e5d00","0x86c4b6000b6f5c8a213589d7f6985d77ff1cb2ad","0x86c4f1983ada6f36ff56d8892be6bbaa21decd90","0x87227b608f9ad95d88da75e6813a8dfdfdc9ddfa","0x8727b0d5e43ca8525490962d33d5eb9c6d554ce3","0x8975a0910288d04fccf16a3be8f561cb6fd7e90d","0x89cf691caff859ec99432863516824bc1325ab26","0x8af39232099b1732ab876b2247b9ff2cb038e285","0x8b400882263dfa8c1f7558a6bebcaa37622da3b1","0x8b9a45071aedf59f57da339a90b57ee2796abff1","0x8cf947b055f1d95bd10f9f69e23a38ff557656d6","0x8cfd525eb5f38195ea5b6d269f0dfc36cdb4e953","0x8ee58f10611d0371fb9fd388d1cb8497c57a7331","0x8f1ca7b7689b75db9f5701cff07dcd335e7774cb","0x8f39f0be19fcd7ad14ab4890743ea5c046f4460b","0x8f43080660760216fb21863f98e3cfb079215a61","0x8f4b3c45c05efff44c8af8c5e506054cb7a5c3b8","0x8fd76f31a0c7ed0588d6c630e0fe35154937acbb","0x90615bf436f18a824224d48ba6fa2d7a510453d7","0x9092164dcde75456862c7ac90c52120fa87094fb","0x90cf7434b764923c32a66162559a1a878530603a","0x90d39d816c50f719bb57c2a3f78d327659b1d562","0x90e563e070e201c134a822d651fc5c2fe44ba735","0x90f90ce6487c70a042a36e1487c1e506a936ffd7","0x9103644e4a493763de37d0d46d25b3547d17ae33","0x91221cc001724872ac6b6563a047b1a12a14efb7","0x91282d4550f3619e37fefb18435799ac2ec20b6d","0x9140fea79f58cb0558e8e171943abd74f1e2e4a9","0x91a35d0d46792ec18d3ec72e7fddd85653c385d3","0x91af56e2f6e58da67054310295421afe034c1246","0x91ce2eaaa0ae31b8b109e4a2038fa7ac3e83034f","0x925c15e3e3b1a57b94dc51909b9891073350b653","0x927edb33ab70071a2bf571f287037d18a94e5e4a","0x9280b633f45eaced5a0129ed853f264dff8b6d63","0x92ab3c14a092a1852973a3a42fbb05c6c8dab79f","0x9329c98e8c09031f3228ed44fcf8fcffc8725699","0x9346a5ec7bd8f5993e1cb68c4890709671ba4ff2","0x93628e1326df23e742e9ffa25aab350f9ab197e7","0x937d55363c487dd2ae6a1ef77675c394e32fcc45","0x93f3fa9c721707cdbfccf4a4a3a01df7da0047af","0x93f4db584fc56f5dfd2a16d0040e045fc4511cc7","0x94b52ce06ce6b5d4220491e7a1deae36d27ddf71","0x94c62922a83da3a258666719518678ba18e9e869","0x9542cbaee99cd2c18cfe54730a5c88cf4d0bab21","0x959a80a8ec49af23d3502fd50cd8243f09286061","0x95a5f38b726dbcbbaf233f318b2bd711159c6ec8","0x95fe31703a15aefe22b2d4638ec5ec03d8e514aa","0x96593577d6ff8feba6bc2b2feb5811bd1442304b","0x968187c08a42cc32f5a5652a9083691173e1d492","0x9692ede6566b0296b359b9bbf66fb8a23de32167","0x97b102e00d88f02debfd6b1e4b901dd6931bb982","0x983f3fbe0abd51484da4d5f076e199b5bae03e13","0x989842bf1c679dab41e06bad31139272bc1ad960","0x9924b012a230776408ce8d3863573657140f7a8e","0x9a97a784f33b492ca0faa884cf9629eebf0bc505","0x9aca73f166d46dac8afe9feb57045a0edd792dc6","0x9ae8d8ed55aac2edbf8b94c5ed81c69f67e7e906","0x9b06a34e264336b1e3ac292c211a0b4b3e1c8fa1","0x9b5ebe633fae7ade637af998d2099dcca8af4215","0x9b795c57aafc2e20e57c4f6f29fe0b55625cbe4c","0x9bb07e2cf238360c373689d66d82ad2492a749ee","0x9bce3aa6f5d938eb5e60632777385f7dfb5b5a75","0x9bf7cc7c1217f97308f7e50c11ed731a3f52ac75","0x9c62088c11af7f9630b8c8d666127f6dcff0e1c4","0x9ca23235728ce9ef5bc879a9abb68af3a003551c","0x9d401a9c0e1481810512ee2b5b54a9ddbb360d63","0x9d5a852240770e6f0538ed6bbc4e366386ede52c","0x9da1701efe0369ccfa4f50b347ebebc626d66134","0x9e80d62ab4e0f13444914a685c8cefed8a7f2f78","0x9ea0749cd68c88034f52b4835b467308376dd84a","0x9ea83a28f16d2d4e37468eeda7a15d41c6357c9a","0x9eb1a2cb2ea19336006e49c16d0a2b0c296e1413","0x9ec568e0566f19912c632a99d8dad5c6240c4e4d","0x9faa1d30f0fd9ed130ffe3abb6b4cda16e15a05a","0x9fcae73fbf4fc6283b636f707c17529c2ba7b684","0xa002b3f5cbc5e00d0fa17b29ddee4f1a6e9f57fb","0xa05941a77dc6fc50440de6e67bb7166ae9a7e428","0xa0d751cae2ba4d1c5f2566767fd70e6130729667","0xa0ec32d109bd544252848596d291348e62e660e3","0xa12d205d2b2aef73089ec2b8bd700789489742c4","0xa167efb805e22407390a525e970d9de2e818f14f","0xa1a971124137d0f8eabc36f473a5668b8d86dabb","0xa1b1389dd5f571352d642d39be702b71aa9d3fbd","0xa20d33f08abccbd0007bce2852e0e545b584cecb","0xa214c3dae6cf372db39f219d6a8c788044db7e2b","0xa2165c20395f602b1bd91a6f311858386531ea93","0xa239a14afd3448161efe657d5f93c83d6cfeb57e","0xa23d2bc20ad9ae652c58ca4956273ef4d06dd489","0xa28e586e24e6d78d05e822188ddc118ac2fb034b","0xa2be0ef4ae2e20c4eb6f2f194b1a78bc71bc376d","0xa314921b83db11d8139eb977880809b96bb09d1e","0xa3795ee3215258f223349fa8a079eedd8b174e93","0xa38e734035540001b950f3a9295e1bfa85de50eb","0xa3d7cceeb6831e8d80637e2e490fff7b257fc3f0","0xa4117d4a882c1a569963f42dcf56c8287442a99a","0xa43589fc8f89f02ab33f3a96de1601624f7ee06c","0xa469d886022025b08de50e1ef8cc2209bf0d7c04","0xa47e77fa3bc838d8ce1514de2b272231ab07e34a","0xa496e24f30e778f75e21e5842197c3b609f95aab","0xa4c350f7ee6d318215a76a22d6d1d10d62cd2137","0xa5aa940b4ac3f71e86a36ceed2ec65325d163954","0xa637360862d3889b4d171b33cc587a22baee6fee","0xa6585b22c2c7c92e80c33bb6620e2869bad08cf5","0xa6c9b5696cf6edbef25d941714ce1bfca544f3c4","0xa6d674cb39567d9f03a882eff5755f2307dcbd49","0xa709f05606a95d75af8d8a3e36dedc0ae74f598b","0xa73660448d30b1a14c15593f004ca2df7a8de0f0","0xa74974367597159d97442ac54496f3f2afd0f984","0xa767e4c1365323c7a7823206a3e647b97380799c","0xa7894d97369fe4a66d1f1c0596e5f7c60117502b","0xa7c63e27c86aae5b1f558a45a4ec1a83c3e54d85","0xa7e5a837382c4b2a484bd2afadc8b5a5f6d74e87","0xa8085e19e0cf43652edb0b32bc10ea13f545d9c4","0xa8208234cace0fc629ae4177467bb09e27e7df6d","0xa8804df6f73782fdbe5b0c9bce43ef12183cff75","0xa899c645381fc951bf764c3594cb6af3a2534380","0xa942533ecf3b410e773f9c6692893f338e39aa1d","0xa9cd05d325d9faeaea0faed9efe01711e7c4e956","0xa9d1fb515510474cccf71bc8fa6f511b262b4045","0xa9d885dd4b6277caa830dc49dc5a8dd8eeb6b64a","0xaa51734bb35ca823ae5c8606726c62953c8933a2","0xaa753b07bd6e763867d508048018393a3fb5c230","0xab69b3c138e9252d6b5f0021240620a2e5e40524","0xab94ad5b4e71a160664f3aa86df61b364fba3f00","0xabaa3af313d8059d82b00ef2b6e72ab14eedc680","0xabfc60bc9e4c0c158b74fe045f0aa12e3debe64f","0xac931bbbc70d3b0c152de83ea4930260744f4d06","0xad5240b6780555e4a177c39280f2fa6f4c87c2a9","0xadb9a7cc511ab7a81a24c8d85fc6165a93567b87","0xae28ac855cd33d4019a4aaa26d4fcaab00c37b89","0xae2c61b70712520a9379ffc0d6850fd74196472c","0xae5195823004e2654fbc39a1a8719b62264c6171","0xae53fbb432e07a4305cd46ebf23a210d8298aeb2","0xae78517d081f15782a876ea0bb07096d6998c076","0xae85d9232b23fda93e481b831b0d3d4e10b027de","0xaee9fb881b178c164c5a8919eae013806bb9f049","0xaf49a9d6c202d6aea7277adf765096e6191a981e","0xaf507392d8c30afe3a467ec0379720ce0b4071c5","0xaf9b8f51802ed65f80f96d84ca6baae1b5f92e2f","0xafa76f79442cdea9eee862b1a63eff1018302728","0xafcd469822ceda9ecdb884766ed5219583e34872","0xafe019f6f74880e4ab83211b39d8b278744f6e9f","0xafe8fcf13821cb259b982008d4e2d90c93bdf3f7","0xb0e95798c439b0796cea52e380b545b1cbee72fb","0xb18b0a5884ca2b86eeed964c9b573598b74ef27a","0xb218bbbbb916cdbe26eabbefbd61c5a169e65368","0xb234f5c6a51b1b04a675e318a2209a6064cb7ca2","0xb25e6ac820428f6c96e3ecb6d64d9bcddf781aa0","0xb260ce46b192afb520d90ef253a1b3b0301a678b","0xb2e56c203881d609447b63c5e642379ac70fd7eb","0xb42da6073a45d89ca334ebe5ed015291b8e731d8","0xb46dd1a2aee6d757498ec1a31934e48acc0aa24b","0xb4c343d7b271dccb741588d83fb69d3504e582e3","0xb4d0e8be45395e72e9c1af25f59d854bc7dc5b48","0xb50bab0ff3f28250556fd6f030911c69e0c524df","0xb526852aa1bdcd20e3bebdaa640e6ec157d23c4f","0xb5b882bc92245398352c225d7375196f1dcd9815","0xb5ff53fdec916f39021cc5e8a84a89c0e7fe18f7","0xb6b6d490acfd383dcd296b316e81e767db4a7a80","0xb774b7a1095b99ce4706ae8bfc43b944a0019179","0xb7c877d5e555fffbe799a4604b774001398d99d3","0xb86f79e12e97bb484ee4fe7f3dce7aeded032e5d","0xb8b773eaf43ad51717cb653386427af91ad4a6fe","0xb8e38504a8f19bbf6ebf6d9f6e4efb1127dc2a7d","0xb8ee2a367c4e7be085b5b00f9a01a0935fa5ca6f","0xb9943826b76a11ff0feedbd3f53b2cab1ee0a61f","0xb9f831f19f94f09709cf75c757e5bd7a9a812819","0xba0bfdd660bdce11fd35d004556da799df3c6dc2","0xba29da594a4d959d32b549378b15bec6c45d8cfc","0xba85054cae9f3da71e8527367ffe4352df930383","0xba87af3ae788b0e97536592f49d8e2824c011553","0xba96a2ba89ea249148ee599d2bbcd669de94d4b6","0xbb31c023bb56d028db6a41338b60a5f07071d634","0xbbac6d7e6f7a0d3a00546ba5977e791d5622b834","0xbc0939b9b2cbe1e66ea4d0c9d81a57071148defc","0xbc19ea63e0749521c26afe71ce3b2f6b939b3089","0xbc3e272fa8af6ad5b75ded59aca6a9173cc1d847","0xbc46f94f79f22b6e2600b8ae79801b306cd58a87","0xbca920d946ccf181609d3bf39877385a16df8adc","0xbcb1584db935fe69630222e1fe20d4a1da1548af","0xbd44d8add2c59584c37c5dee45c8b8efb445ba4f","0xbe676a680343de114f7e71df9397bdeabe77551e","0xbf6e4a14d6b66e49b81e6dbd2306040278bae769","0xbf8bd0d0b1fe8e9322792961631c59eb248d97f3","0xc0741cb56a86ddd99e2a5fd0053c380fc1daf435","0xc0d3a8d939d8653f0fd8fe7a0646dd3884293466","0xc157ebd304ca3d25c0c690c80e371372bfd3bc44","0xc17894874503314905e99bb97c290af0b2bc72cc","0xc19543c278b109399d311ef57bf671585d2d1b5e","0xc19758964270a4e17d64eb20e946eed6359603fb","0xc1e8378af6b6aa2386012fa40290282d53e740e5","0xc290f9607c5e598d9b7f6548813b489b9382ecf7","0xc2bcc918533695edf778db941d8301bc3a9f6716","0xc2ea697505f6c53e6cb910de80c57ea083722c44","0xc3095115383c84030b71547f56a86db816b8b237","0xc30acafea2d005b711601fd2ce192bfcba0bab36","0xc33acb0c3fc2b44b2ae6d69ff6dabff84b3e15cf","0xc342313b119697f292ac2debd79192e75b602061","0xc37e705f34801896121b2da24327332cb7dc2ca7","0xc3c8462d6caebc894697a24030796a33e0c8b240","0xc3ec4a1e588ce22c85a58c790e5a75db076fa394","0xc44ad6546ec4aa311e1130055ee77211414275db","0xc52b32709966fccb9179ad9c3c794a2f76580f96","0xc5a15e32ae94d405d4700cd6ac7620f7c6f01ee9","0xc5af04edd873c4591c377ad47d13f2fffb3d3829","0xc5b35ff8dc087d09a9a802dea8efd8dabd88ca8c","0xc5efc0fed2a350fe0119d49ed38584e62f5f01e8","0xc60d7112618227253702ecab9eff4a8ce56ab02a","0xc62367a7ffd67a932a7950fa926a9899f0a2c69a","0xc632388da43dbb86fabe22e8dc4a510956dea66c","0xc65c48fb1f2ac66b106e7bfbf703e57536808c63","0xc6be020af953b4a1f27872348aaeb4501128acdb","0xc72f3c1a11d8fd137673796f91d29fe8d10b72ce","0xc736d9e06419ef52b02aa969940fd1da4fc9a519","0xc7610188eb55b700cf89d6461b1b559d6718bb77","0xc770240526d75bd0b5662d7b8d8aed9cba243d5f","0xc771d2f0f04bbfc9f243fe12ece0c16055d6cd6b","0xc7bc7edd3d12640616192b17aaa0c4cdbd66e9ac","0xc7c009c6cb1b4f2f147a5aca84a6e19fc8ad7b2e","0xc837899d2448cf5de4ce5e40cbfb30e3d73cf05c","0xc85d47c7a6520e390404ac13cc6fb379d23cb1f8","0xc869a312104958deb20583ae524edf43252baf7b","0xc86e15edf575c511a0d7af9552003edd31a03ac9","0xc87dbc752f7993e5da314541f8c6e36734baaeca","0xc89d3ebdb88724ab5295ecac386d3d25dea74446","0xc8aec25691ce21dcc905855c1162bf0bdce8cd55","0xc9201294cd69c65d9a00c038ba92982b9153aac4","0xc97ef8b510ef22d9194b9542c37e631777225b3d","0xc9b359a287a06a22bf8154e6ea0dea5cb0fcd8cb","0xc9c645c50ff45320c47fee44664b3ec37b93e027","0xca05da65c7f83a30556ffffb035e58bada4d9ccf","0xca4c17c45c7ff5e3355efd51d86ee9a3fe858edf","0xca7ee42b6a83667812a6ff544bdc7ab51dd977d1","0xcaaadda6c4f21f7b658e5cfafe21342eeea48476","0xcaaf1042892717a91d850b481422a0116cb022d0","0xcb62acfd962b8a412b152e72d8643d3d60ba2dab","0xcb7edf27e4f37ef3884c2e8aabc88790d51f0540","0xcbb592d7a8f5c56007634d5fd1e26d6b3e3aa091","0xcbc40bf02bedddc03dd36b2a6250fcde00c95d13","0xcc1d1e75d5a79a0ad8d1a5d8608d8d7e8b3c157d","0xcc65d65afb907b855b2e366f65f5df2c8521e54a","0xcc7203f89d87a26c8bb4a6101a01b67772766ad8","0xccadb7e9bf311fb80e2e77a2fa75c4d00e67431a","0xccd7d496840ce0d7d47f37a6c407952644582379","0xcd56a103af16169c7ed5b249c6e20c1841449fef","0xcd67717950db3169e18aaf7ddc9887fe40b336a8","0xcd677598298bc995d5e9cbf006bb75942ce88f8e","0xcda114e4433e86fd6904b9d00be8244637732097","0xcdb90b32097c3694cde5266ff42a96f98128d4b1","0xcdf3531d5efab6bba12613482025aad570d88d2b","0xce4f23068693241d9579f0f889097a042b5e82d5","0xce7032d22218ef180fd3d9049d355a5024cce7ec","0xcf0387fde3f2168b623e3be42c6b1a09986402c9","0xcf41bf8a499dfff5fd25edee80bb5e51c27a4b90","0xcf54f040936df968bc7cae732903c926af3c0e20","0xcf5f03d5a38a41a805e078763c5dc90619a13fad","0xcf883f477e6c7ba87baa1312d73f1a46a7a5b6e2","0xd07bdb3cd7813df5446dd34ed52c4dd3460db4e7","0xd0cac792a8d1e276ab5c49b02090767ed5cd963d","0xd0d129096ee74a5aa705597b7032b46ee47b71a5","0xd13efd856f87acfb13432c4ead3a153dac4c3865","0xd18848abfa3747fb05038a287b763bc2bae9f99a","0xd18992db12494f18f0fd2e4a05c1596aced9131e","0xd2143b88b098bfe433292d90d8aa13dc0f58f69a","0xd280572f0f2e6386589aaea71fd87a1bdd9bf304","0xd3aed84a9d7c8676104b405276a54b5e02b716bd","0xd435d8a86ae726623fa723037cab6e290b924077","0xd490a652433d94bd3ad98eae707c2c7318a5f473","0xd518d11b35b0d9c379fa618aec44ba5186b57583","0xd623b57f3cff2008938eaabb5fac2e2265a12100","0xd6fab8562a4187b9dc03e32d701a7a7d1aaca5e8","0xd71fe01201c5f6a5cf3e4ee0a39c2a510255a66d","0xd79629e3e67305375b59472e48c4972b7b169973","0xd7dece5204b669926b09da4e5ea85473cf2d2ee7","0xd7f136be5eb9762034727e77c6d09b1f42e3321a","0xd7f54bdc3dcc865854ef72e0e38b1ddfe51a1b94","0xd8b3eb911e261c3cc4534b374ece6f3672d724d4","0xd8edab5e646d724a3e2d40d41858ea650ceaceb9","0xd971dd609cf44c60a8b80114db25fb49cfeffbcd","0xd9ff99d7d37cc95014c12f1eeb54cd935c14e369","0xda1d7fa6ec63004f43025731e63cfa2ecb929f9a","0xda93f8e08c439d7ffe77e0bce1ca6a8ab153d35b","0xdab6adaccaf60960e9b9c0c32c3c8c564f2db890","0xdb106e923031395ddc7032545cde695eb86c00a1","0xdb5f98d56f9731d265cd1ed771ecd4abfafc3902","0xdc11e7196a5b9c1b7c61e3351bca8215d6d2bd00","0xdc324433c9936c38c9334b373db2468719cc17b9","0xdce15d156ef74e3aa0e433b0439b6f91409cf164","0xdcff982963ee55df2ab68d41b50b9a6fde4cb7f8","0xdd14ab54cf695664bdd7172940efc7e3693b1c52","0xdd645db3b4895cd01edaf7848984354fa149c43d","0xdd7253d5030d3c4ebd5ecad49ae13dabab8b6b01","0xde243d9ac33ec3d329bbae465a69f6547e051894","0xde5dc85b8a951c1c2072cef8e0b72b912f0baa10","0xde9bd8a6b86f2754944e6eceffd6f7f02920e345","0xdec35dd5f3fc1ac8ce0c14a88353b99ffbdfaa5c","0xdf2593f626c4e859727f21609381e4f8f4e7acc3","0xdfda8ed37215ea5f15352443b9ceaa2474f8f6a1","0xe03bd3cc3c646ace450f740c6317c5afa7fcafa6","0xe09a4684d0481df72af26f2a210e64180db16a47","0xe0ae80c87b4b833bfff6cd52389746920913ae71","0xe0fe58a5b982f5feeb10cafc4c76bc9f9effa81a","0xe1442612771a25b1bfc13bce6f827ad4c75e6d88","0xe182e66eb47bf155fc384473697b948973f72256","0xe1e0da672b12f7d0d025f4b52512ab1678b2c7fd","0xe26211851e76370091004bf543121e967a56a0e2","0xe2ea0a384bb20ba4e000c64ffe9ee14f642270f2","0xe2f0284aa44a35cfd83f2946b767335b14347b96","0xe3120f4510f05666592d5864b0cd9b2a1a139b0c","0xe394f6de596ed18fa8298b5af36f398620bb3347","0xe3bdaa9ffc03f8aa3f51168c5205e445ab216f15","0xe3e50c0d809a42b361128efc478660cbe077fec4","0xe3f9249256f6c3987c520475cb6b1882e5bf5fd2","0xe419bc78d80a3689dff874e83cc2e3e9aa822f7e","0xe427865bd83ccf16387efebc0c1b1b6506d4dd85","0xe4369be6df50aa406db8212ae00cf81917c848ea","0xe45afe9ad8ff46108524414be5687ea3a7ce41f3","0xe4fe8492ab211e10175209160c9dc257daef47ab","0xe52da1186b764fdefa2ed05dd567bfcba7dfd3c6","0xe5a84dbb403f199586b51ad3480ddf9068bd8cc1","0xe650b41b32af0e642338fc5ca46e9236556b1070","0xe699da57db4886f6b2240aee33ac81ac43bea824","0xe72544fe12930afca5a4a18d48ec390ddcc94bc5","0xe73c8c4f440e6223172bdab5c83da2639274832e","0xe7525df6328557c642eb2d8657d4a91b73504a0a","0xe7736944eb074bd0708a6d02f4a4961c032c072d","0xe7c1db78d86a6ab2295a2b911559fd754710b64e","0xe861e92bb2ada49f2af17c4830a8f0f8f6578eab","0xe8a0ab3057db4a881415e88ca9f6b317974924b0","0xe8b1aac4c3ff77eeb26948faf930c9b645eccdb3","0xe8ea4a357b04e9de5dbd0ccb3d16e72f4954ebf2","0xe900903c0cd72ce0fff46edf936a5f62dff467a5","0xe9033f151edd1aef6a77e025fd10cd04af49880c","0xe92a7c379fae71fba24070a00f0d79e3577b817d","0xe966534f34e6ec039cbc1df1c3b5d18e9c32795b","0xe9f0a8030957fa13ecc1b7c01c92d9b056167361","0xea6f1dcdb06bd36ac1f8df137d1263446865ab7a","0xea90a2afb358a1d26d2ede65a35bd15af69fdb4e","0xeaa80a2bf835a81e04ef2199bf68aedcb2b74c2a","0xeb5dd4f80270242e7abe71fd951008b269c9d464","0xebc7e58735280478eadb480f7584c79ab955b094","0xebfaa8a9caabebc93a1eef9006b0ff440d450d75","0xec0a9996fec2f38cfda6c307c22c8ee7305eec56","0xec4976ef2c41aae824a6efbfe04fbc2f3c1a9d49","0xec4fef5a46a6b6a14a785ab8a889374031b6231b","0xec580b42c76f09216f1f177068ab880fd59c453b","0xecc5bea14144fb565fabd9ed3780234c8685829f","0xed1ca63db6eda02b140fbcd0b2cd0af09ab3b67e","0xed31be2c881ae9f91846e3d249157b9242ed7967","0xed4eb8f301d38120798e23cd0de5f3bc8e5b213c","0xed694315a7a63ce2283630c2be5083182040d0ba","0xeda452817a24aea26e6e90cd6f614c121a3fb014","0xee22ee448a3a2b6b8f01a45da1476e2d01e24f3a","0xee842cae52a6f77e3abadd575966ec2dbd61d9ea","0xeec177e86e93ba2c9e1c67312baf691a41c8129c","0xeefb745e597f887d6d1cf4e474134c6e71c06fb9","0xef2425952ec14433b52217368674d908900b82d6","0xef3dba55a6e07f8e6c06f483bc14bd4d10a57e2d","0xefb421f95f958011849847cebbf2edb182ad3cb4","0xf0029d065f6cebec6c245f1d97adbb979eb7dd0e","0xf04e04f02f4da915aeb512408fab8b09e7599bee","0xf152581b8cb486b24d73ad51e23a3fd3e0222538","0xf179945e6d4b3c56f5b00c6d80ad3c184ccfe0d2","0xf1a496317368b028c2578f32f151bd1745047b98","0xf29544ac8202c5b24d7a6c67b4a961e4e2de33ca","0xf2c95079e35a27c296b01759431e05c38e392a21","0xf2f01c54b21bf8d73e414200a8c9e1c12536d7ca","0xf30442d1d41acf211b9e294bb3c0ed11f03d0676","0xf306213d72d081f872c5ed8566bb5505b3e4be20","0xf30b1be86b062b2deb159df7265ce070e6a15d32","0xf321ed95bbd3776a7c7d6592d989fae98eae4560","0xf32838d9647681066ef040cbf9382d3eb55eb98b","0xf37c3fbe0a404f848c38a31fdbbc37294531363b","0xf3d39d852d513246c1d627a664d2e1bba94a8859","0xf41a10e5eadcf58a9ebf4957ddbabc364379f6e5","0xf499122e3453d264ff2360531308bfe5580759ed","0xf4e4388e34342a5f2c8300efb2223fcff23b2256","0xf519b290b3019889f1c5da98e4408ef502140cb3","0xf539cb2f1093279ce1509c89cf229b54393a8546","0xf56188ac23c57fd9ccc55ea76e542b86e46b9a51","0xf5f8dd66f5359c2b8e2990be6d6c0bc762d5e575","0xf5fb1cca28137c1bf274660bf49cbb6307fcb778","0xf61845a86282d63be91b5b5818abce5ab2cc8a9f","0xf6769fbe1ece4e9e851c1c30af8fbada0d07d84d","0xf6c0dd57dd4db03cc898ad396bb7c8ceaf554d30","0xf73d5f6509c1369242dab42f5bcc255edb1cb19e","0xf79aa684927b27175477b2d9439a9e4f819e4877","0xf7ba5c25bfea681b29a9326359314ce66c07d5c7","0xf9091ba435a41f0d461d896cfea6f5e78ffb475e","0xf9560151036625c0a0a49380bfe38f0384e20a2f","0xf9df3fa78e095b560555ddc03f0834781727fbed","0xfa4e2a87c2380f41539133a8f5dc275176fbb4bb","0xfa787e81a06019c92fd70bfee89be38b07171725","0xfa9e56b3bb8de6f9ca2abbb4d8b7c88e48ea454f","0xfab71b789653fb120476f5bf51d32e69c1f495b4","0xfb07899adb82676956440d8efdb39f97a131c3f8","0xfb77b72e5ead7ac452deeabb39919a717a5b77d8","0xfb9025fc1967bff23da9b95aab2f0b5679d4ede0","0xfcd69b45f3620a56dd5d6bd166b95a69d6ccd29c","0xfce0413bad4e59f55946669e678eccfe87777777","0xfcfaf264c820a06027a8e3f78761829da5073965","0xfd432fde40256cf0afad2a9353431c62f0c0f8cc","0xfd61f2b20e34f06243117338df3f29d8c4657e20","0xfd8ee0bb372c48e1ecb4157d41359e7d70da897c","0xfe368b52cd9e985ef47b8113f2b4543c5222b311","0xfe8b1168fa27a2a7b0228bd30cdf2dd3a991e118","0xfea13addf5d01e63a7a015db13f691b6f86227fa","0xfeca43c1d638e70f7ab76df1db480419eab9fb28","0xfedde14ac70ed6aec56f955d204355196427e09f","0xff2ba16fd74389907f4e9ad808ef6c6b25e7e5c5","0xff36a97ba095c69698f8e1059b17b9a061732ef9","0xff4a016b08caa88cb42b72264ccdfe6fb892efe3","0xff8f6f4accc8fe7db1940f9799e4e7ca4f476616"].forEach((function(e,t){n+='<div class="address">'.concat(e,"</div>")})),["0x0079eb5d976cc513b6add198c8bb7fd6f47f3ded","0x00839b7f009017966ad34ffc656eb62523d304df","0x00e9fff5d7a833e83cd6eda4e73443ddc48abb1e","0x015b9422b7822a3913915fc84fb710cc56a0dfd8","0x016155b2dcc9e4828c50674e3e24d488f847e3b5","0x01d7a98d738e571b48070ec7a84d2029e7fdcdcd","0x033836b8c7c03647621fcc2d84ce8c0c39a26b05","0x033c831b6701779f6c503471901c6b07ba68b5d0","0x039fdd26513f05fdb56b45031c5a26d201f2d748","0x044d943766c5370d466e666ddc80fb160a800015","0x049808d5eaa90a2665b9703d2246dded34f1eb73","0x04c1c15a1554891fb2dd7c4939e7d95d06ee253f","0x04db4fe56824f83692cec5776f0779f27fb2e047","0x04ee321ee32021c6607a5e6421b3e09008bebc08","0x05377e8833340628434ef89aa74464a4e10ff2c9","0x054f2aeb6195dd48990c928e9b890a3feae036ef","0x05610f81b1c013d93395a831a87126760650e817","0x057e951678c8344f95628da6b5f3827daf8589b3","0x05bf3be79137365b0839254b7b47d846edaebb2d","0x06b6f68670f26a140d9bfce83d2bd3dea672e3ab","0x06deeb0fd82ee006ea10433f1e024160619e1422","0x0743c080ab509b7f2643db1fdcd591e0d6051daa","0x07628cdd664ba384a3cb54462004378025611da0","0x079fbccd9f57c38060bfd02ff17ccc7be53c23cd","0x07f63d15a3843dbf0284359e4326e66a6031e2d9","0x08066b76c7513f1dc2e405939e215c7443231d7b","0x0854301c8bcb7de95101c74ffc22b145015e7a68","0x086ee1beb10153972922fc4328170ca52a271ea8","0x089f2d56d39f3b79bd1a1f520259a36896eef9a3","0x092bb2154499d79ff6741374dcecae3b71fb767b","0x093a7a7535701990805a768de29e2f3a4473b1cf","0x09ad2713b8944c8f01997c6da240baa035c8ccbd","0x0a25d60c7294d5bae7387f3114fc30c1186e6690","0x0a69420b3ce18e166d0f7f1d8224212a19b251ed","0x0ad5027bf85c2d984f722c90e0e2d99f960a0d89","0x0b24dc8537340dcf4ff89f522f32ceb6395ef396","0x0b954316dae976ace03382bd7a81c62ead656c1b","0x0c2fe3108f1f5693b796f054843aca2b64ef5b69","0x0c801e6087f05291057147376ae78aa9e63b2300","0x0cbe26d99453ae4a72a9343a697cb4f8669c6c80","0x0dd3d2c271d7d534138675db6ce1092d4d59a71a","0x0e03dfb967edc8ad751b5ae31d27547b9b07b5ef","0x0e7b9ce009b1014cb1fac27a69e46b2eec84da38","0x0f08cc35b12d11a617756466b20354e4a9be3a77","0x0f10375515be5bcadd6782353bbbef21d0ce985c","0x0f5e3c3c9f55a2557da91908c2aa9c688220ecff","0x0f651ec1d3fbba195e06478dff2bca215d653e63","0x100447360303a97c980e758b45ec96377ceb1f24","0x11ba1f1cb9d2b13de813457fbc82e7e17b00809a","0x11c54dc71f782094c2f059684cf6066589d3ba07","0x120d59681f45eecabaf9a3ba0b4c8d6865213902","0x1259ba53592708adea6eecd8eb0b10be0d89cb8f","0x12c6c468371313c9b1512bdd551802635e94e91a","0x1393af6536e05754d4e6488fed320ccf90f10be6","0x13d2a0bd700610f27b0ce3c0238b9563206c1c10","0x1546b970afc85bb7448b2c50504be0c4640408dd","0x1568e9ea15f65a69b12e0ff4df3c21e747b51037","0x15c365665da4f503d9e6c0b2c79aa5c997347aa2","0x15cd1328b9fe4c05a9c668c2ff68a0d5a5d308e2","0x15d3ffac9b7d5dbbee095910db6380040222b99f","0x160de5667b9e251f49847fac351c16caa44f3521","0x166720672d63ba30a10ba606064e92d7e552f5d4","0x16eac9445a686ef706b146a93d490fa28b16b48f","0x170d40ec525fa42fbdbfe11495c47c5328090f65","0x17543a55aa8bf29b3faff59e10c528951954c7ea","0x17d070ce7da089805d10d6099e1a22a46bc4f407","0x183de20c42cc189127acfefaa87ee7c49168e294","0x18c2d34291326500e07eba84170add0052ca000e","0x18d5ed48783e4864b94eb9c6bdc042d96c46a063","0x1a23efea1f7be73e1f36677507e2d3b6a73fe9d4","0x1b44b67def7e5264901944ed940172a9c8829453","0x1c48ca819a3b2ef555223de007ec85eb15c8a321","0x1ca71ab71833ed9ff7478c647860a90e0a08c3f4","0x1dd0bc47a0aa714c7ccf9fe1c8f4070e085bb98b","0x1e214b2be566cc97803761fb695d2f707d360643","0x1e95cc833aa15a03827c77ae605ec943764c39b6","0x1ee5c736b3e81925c0680534527e86b71a3d5970","0x1f512addf482b8a3fced3c3ad04991b37b2ac5ae","0x1f9c2618981f3a51030a21391803f98c434d5c27","0x1fcb50404bbee6ff9b8383f34c6e174c8e86ff44","0x2010f0d8b26622f862462f76a92bc02c2ab3aca0","0x20564d3de7dd48c7fc717aa8f9f0ad87ddbd6063","0x2063a5502bae0ceb7c9c8ab8fc27b61f3d1e19e3","0x20ac54b286f6787003869b1e2f97b79fcdcc5bce","0x20ca412f9b5a6ec52ad2c068f619362c6c5539c6","0x212139306aa39d8848b055857035a463c2eb6bf6","0x212306e9a787d2b74b2f3ca198309380a5a9d7d0","0x21c9664134144955774cf08bcf934f042589eef7","0x227aece8066cb077bba73e08303ae091c652bd01","0x22a2964902e79ce63bdad987e4fc6cde6b7273e8","0x234d7c0858632fe0133a72a227bbd00159b7b5b1","0x2359e2a063af5b28a011483af708053d5ef8f24c","0x23c6188a898c16fb14c0e19b40be89e928d676d2","0x23e01e05aa1376fa3ac83c954816b967a7302891","0x23f9a100a25ebe03f663f9417ffd12428f711b15","0x2477a40f0e5419ef9bbcc8cbacd23bef96588179","0x24a2ba747e099de4099e2c10d4089b45e8522f65","0x24ab430a4e3ea24a685b01ecc67fb694b5d040c9","0x24d1415cc5f130f5708ce73aefa34f436fd219ea","0x24ef6a325a0e7e9c594368f50b0eea99f51adb76","0x25679e25318512b89d1376b18e3f9561daae1069","0x259D542b3507404Af5dBdD90432A64228639452E","0x25b7b8e65c37535a657e2ddb72979ed2c501cb3a","0x25c8276388eaa942f8c3ef565befc91d0d5489d0","0x25d98329345e90a9edf85ebdcc30c052fc173fd5","0x25f281738e3a5c4e44f579ee43c65325098c07c7","0x2615d6323a425a3b851dcadc2c2ae22272028dd6","0x2631029b7f7019ac7a27a7b135493923381cc0fb","0x2638dd18b3005c6edeb077ac9f120317f18fb81d","0x269fbf2aa791b17e56202f09f83ff11adaf78387","0x270f6f2bd050d0349f0ad81fb123bb0799a7d6f6","0x2755f07c0619876e01733338625f67730f6ff26b","0x27b524858f4646150696d5b8cd08c4d058e9b0dc","0x28141dc9447521ab33c84cf9257a0e46c073f794","0x28e672a29a5a059f5e7b84ef3c11e4d1019ac540","0x29bd5cab96ba39c037a4a01f78fee24362212503","0x29f050ed2a2644bb31837ac60e7dbfe64d7b620f","0x2a3007e6c55c4a1eaf68018b913181185b7c3e82","0x2a78ae3d2c048794ebe71c56984552483a35201c","0x2afa376e98be0b2d386aa09ffe32a7890d92fab7","0x2afbc4356bf863a029ef58875ad00cf6b8975a52","0x2c5b6570dcecd5b3dfdd62855cf94359d1b2a3b1","0x2cb34f0bf904f588e7a794c52ed46c552b0fb38a","0x2ccab11adbafa8fd2a04014dea0ee138e14fe081","0x2cd1de9846dd8236e6c16ebe232b7ab6472fa6ad","0x2d4104788d3776ea60ca32e8f87522d198490605","0x2e3a13e1d4c78bdf1904ada6dbb0d1a2987f1440","0x2e7552eb0526e08f0e6ea3d28f9296620bc0c635","0x2ecf0b742d8d9e54681fd200a0e55d7d57b00a87","0x2f5947a91da9dfcf6cc2e5a2a60ae087a540c3d2","0x2f944e3cc9714425e43a6f28e71d039e58955750","0x2fd6f509245ae085945d9710f54a955c06c8a036","0x30da457f284bf5e72d9bd5a0866415522819242b","0x30e40e470914d6cbc38ff19c2ef1d1467731e988","0x30ff41ed5cc8fcab63265d69cf43a884b6c3ab18","0x3169f86536e378110a8583e9f3834ef08e458ebc","0x31c79acbe36f88f616842714c599c920f9a35b6a","0x31e11bce49e482332627099d5ed2e455e28e6869","0x3209ef1116affca49d3a3f646f5921e9224d0424","0x3279132306c1fe366181a58509172fab0b5d7cb9","0x3288ad9b8e7d32f698ac35de51ccc18373e33a85","0x331d936b49511a81719e1dc0b6de78258ecd85e1","0x331e09e1efb62cdb1b9f9a7bf92d6f28ac00e856","0x33596f5b00c5386ebde2e699fff370095f68053c","0x33b39338577db9b513259580fc22057351fd7da4","0x33f8c8016cc37a7da4d2b699c0f008d6c10beef8","0x3439735eb520eab31a58b45aae98513ca158b7a6","0x345904891a163187784fdbf6703720586c44ae72","0x346eb1024c756b5eb9be31a04e29300a8badf77c","0x34ba976f202cc700586f9d12aa11a6a56bbc1bf7","0x356fa5c2b6e217b2c1d42a309283fc42561fd77f","0x36efe492ab7e91c17cbcadd94097d01559379c34","0x36f42dd3e548f721623e66e496a57c3f1fbf5640","0x36fcd9f92d79b45bdcef267e834e276f45f0d27d","0x37508968369fb97d76ed89ce18027219f65824b4","0x3780220f9869ecae387c3725f89679dc8ecdcb7b","0x3780d4b9977122cf52392ec07d5e5269dcebd479","0x3783e4456974b56f9dfc9eb7704342cc008bcb94","0x383f9e2d3c462f34d9ebb6c674d06bdd7c9466a9","0x38630f5c0a85fa3436f23d3af4a27763cbdb113f","0x386fc8c61b460d1bc73fede8315389ee2cfbb0c7","0x38be01a71115156edec961f893b6fee1d3ad71d3","0x398c70ae80129ed503f6c73af5c0e5f0c7370564","0x39aa32b0552342201ef6fc0667bee4ca46263970","0x39b0b46956638d395ffb44ea49a436c8ca438cf7","0x3a2ed3fcb00814e325eadbaba88bb903047c3fed","0x3a31d9d9120013a2f1f55ce45068ed9ce4795e9f","0x3a41c922a3ed3c9e6b0a4ec1763fecf4f0c15d86","0x3a8419038c5c72cabee30696759146986d95397f","0x3ad2a8d7301d301817cbc7a88000ba729f324a8d","0x3b061104d9e9da05df48d73c059be04c0024590f","0x3b5bee36fec63c9eac657b99f4638c72f4e51357","0x3b7318457f091965c488dac7e58559993e4971de","0x3c11656a88646be05576c456cf1ffeab690c17fa","0x3c71ebe6840d6ef501fed6221f5e4f45c062c864","0x3c89c28de5148377e7f806bb12677d6267159ba0","0x3d03291f68358cd14d0cbe850dd14465431200ec","0x3d62630d9e1cc40c168ce7acd334c608276cf11d","0x3d7371bf02fedc56e742baae3c09964827edcf2c","0x3ea911f1a11a1894c73a7efede30328e78cf9d39","0x3f3b64fa895e6e81bf7d4ed39cfd12ecad3d9f33","0x3f8ceee4f53d8ffbabba13e3e90334c6702a8440","0x3f8ea8d62e117bca3845760e7ea75e977df955a4","0x402824c43d9b95c3337892b4d39f4b222a46cb7f","0x41b670b34523b20f58d6b1395741425f5fc1edc1","0x41da60e3fdbdba213ee316635d854da4ef77f6a1","0x420922832ee49545e09af4896d462fb0501066b2","0x425317b10a8b81d45cb56dddc0b15a637f218858","0x42dc8eec314f05c81c495c6f8ce8f8dd6795b575","0x42e04be7efea3e152347a78f510a51e8f4698f76","0x42f1605c24c38def2943142f3cf03ea4f5489b30","0x43f5fd8c7e64b4092be216ff5b3cb43231698f1b","0x44df5bedd373e7ae7e93a8e4d4122ead2a4ee472","0x45aed24e4c2d1b523a79dff802dbdf596572cf50","0x463b0e723cc5bf3623dace1f692dff52ed49ed52","0x464c07eb99995b44b8cb67cef702f59b8ceab593","0x46a7552be51f4e2beb6c595ed52711e4c5f7ba6c","0x46ad7a9fdbd2cbb33f3db8b76bba7dfde88f941f","0x46ea7f5c3d03cebc68915a1acdc92f6f56f23bf1","0x47747a55f23e768d50b041458e18cdcc35eea833","0x47b4d3546892237c55bcf9078b10b6be5e922551","0x480a2e76ee81897711892b75dace053d22e1c290","0x48698b507747eef21168e44b380e2619191ab130","0x48788252ec154730eeca50b0cef6dd43b757f9bb","0x487944d8d5c5ce50600967d9c47982e73708de59","0x48d7b3659c1f93562205c97d784fcd13ea940499","0x491025393407ed348ca9ea841d1b82cf0b369358","0x49b70ebb91a03b6b67a89e383f0e1eb77de4fb0f","0x49f9307536739580deb16f2dae82ba0d25a23b47","0x4a05776d37b755b61bf1c6f9d681ae45bdc43f26","0x4b0898b36cdcc9d0eb1ecbc87ba9ba066bc04411","0x4b8720b15ba0da6e4b223617a1d15f0ee9347d38","0x4b8a45eeff56ed07aa618d15f852bc23b23c18fa","0x4ba245c3d3ee8509e7470fa86ef921ad4a8fcd58","0x4be8086ce43a04e93e919be274e3cd15fb64d762","0x4c11b4e28ee88b17e11ca0c0f72fdb1f156a3ceb","0x4c78a07c85a4ceb0357eadaa6d4eba37edbf921e","0x4c9929111d9e9f8c399c07d7553a1c96b9830418","0x4ce7d126dcb606008a711b46c2d8df50d88e4244","0x4d0d19eccf3129557a537e90437a3a627fe50f1e","0x4d14f48f340e62f75b6e306b73d614a539a95bfc","0x4d17247380a4ad216fc1e05cebbb42f5a818d193","0x4d58b698966814b9ac52211aa196b08cf3f06327","0x4dd898b16506ee60b72ba961927cd2ad26f263e2","0x4e19646b2744021690f7da584117b083dc73a412","0x4e7654fa749cd589e05b28f64349d03e2282bc06","0x4ed789996d3c09e230ff3d5dc90b4d49b3b839d5","0x4fd4b42c5c17aeb9fbf36353eff9d4efea032d1c","0x502e7535b1e7a9698351358fb1fef10844e82c3b","0x5035cc6e16f6bce951807ed33e68cca951cc2b5b","0x5044911aadd74207a6a7b2950e008b3f27ca7ca9","0x506dc121f906159c9085320fad8c5c07a21fe7fd","0x50a0f8ddc966afa76d39a8c346a2d3ad9e591d1d","0x50d3867bf345b27f2ceb812142408e5d645bd87e","0x511f0c12772479204968ae6c988984bc08d7a2f2","0x5173afb1acda54a24fec5d474ce5775231802670","0x519e50d624fa85c16abea62fee7f5b233d913697","0x51c0ac97fe85b5bfccb7f631b49a90b0cb75de24","0x51fe1f2a9695e9d52d8c6743a08781c64ba776df","0x5257a189c782c3823791fa6a1aeb62b154dd188d","0x525b82244b74098082ac20916bc7bb592da3d96f","0x52c6d2a4c77f057c327816b2f5c6ad8c8b325f27","0x534be5ff046ce5e5c156090b57f39f37f73b1624","0x53a6bc4ef69da237c728935128c977af3f57020b","0x53c13001d390dde50703482c855c0ac930cac7e2","0x53cc62fe9d7d0c1642cec459819a37e6b095c6df","0x53dd188dcafacf67c98ca512ce1032031c7df49e","0x54143c1e28b2f54a77ea8fd046a939e3ea808d0a","0x541785b3c6ee75b4f14d95319e27e37ff379fe47","0x5447489df2e2ce3c7d74730fdef1f5212b2132c8","0x548bd646d0d2c5c7f79ebdcdb74365a5b032b1cc","0x54a401769c38281a79b101769fd5543260e2e8ac","0x55291a528b04b9f366e38a6ce1eb965fc5d67391","0x557447245b6aaae989e5191f13f037c8c8f63e67","0x55d8bb862f8084cc6264254ac756ffc7cb6c643a","0x55ea12c4197ad3d1b0ddb7fb35ddb7d7d53cb739","0x560c1a7dd6dcd97855f9cc4ead8f0c74ddceea7e","0x5675cdadcdf34bd1e52049794b5b70a8cb8cc69c","0x571b90ff189c2b9b5fd01baa88bed41073f388a6","0x57a01ebd0449c08da3dbc9531692bc0244291b57","0x57dd7f7dec129f623eb9dda3acd900be2619200f","0x587a533ae239db6d5efad5b9906a4a4b2803951b","0x58901db470b92c9e6bf25cca25bab50d90733877","0x58b02efbb922d6db49b1642e1ff9133300d84143","0x5905bb9fab89822c9496f46542334e3b1d20e853","0x5992fb8c5ef1e22ef742c5ebd681d693a7e50547","0x5b2a8b9867628cdc1ff5b285204ad9eb3f58574c","0x5b54f9251ce57440628f3a37ef8510453bfc1bb8","0x5b769ec4eca27386c796a075ce19236d05fdc910","0x5b97a6f636233394a59858e3d4a4e1698739e20a","0x5ba1fbbae044907b22b0f01a566d30a2e3401dc1","0x5c9a360dcf17d751d519daacedef8336e4780d7c","0x5d12224d75f9ae39ccdfa805e1a81dc9d64c865e","0x5d39036947e83862ce5f3db351cc64e3d4592cd5","0x5d920cc69b1ade6822c38b3815a45a4600b2cbf4","0x5dcec3d1410697f7d8d15378d39ffac86120c126","0x5e82370cd816a88628e0029db4bdad227bce845c","0x5e88f89f428495458ff99c411ddf77e177fe3f62","0x5ede481beee1fcce692baf31bdaf96290a8142d3","0x5efcf030649f1475aa93ef4b01ab127583238795","0x5fb0058280611b57e7fd96dc4ba3616bd0d29806","0x5fbb91b6f86c60f5b135e3f1871c0cdeb4f810bc","0x5fdac9911566521032b26f4466382c29ab74a3cf","0x60848b288b4f554407ae149656dba63909ea0326","0x60964766bb471e0c11dc763d1e603d2ad45f675e","0x60e2a272b6233d4fe08908bfa6ea44518501732a","0x61858bf584fc67bedda2cd244e9dddcefff56ad3","0x620828155203a098a74a23d64840da9a6083b9a2","0x62300cda14b11e06769fcda7c55d42a988489c42","0x6273ca89c39c8576611b3d6e4737e7814d81ab21","0x62b242f0365931d4b3441c745a66cd337e7122fd","0x6325246e88510d64dbdf10ca77095f06c5ca8735","0x633cc03b8f2b53d65dff0c20fd9ac9872c5d55a5","0x6359f52241d07b5dc53e6e38d42f2a46079ea535","0x63ece9430f424661c0fc7351ad6e71d4281b64df","0x63fa298d1650c6f4b8e856f8917c56481e9a0c82","0x64290d1a6af37b74a37c5812bb27fe18af4847d7","0x645b8d820585c8a3bdedb8edaf86ec6f2fd0a3e0","0x645bb87363526ee8000c380d83a602553928b4e0","0x64e624a2d03cad550fee9961bf1bc6a7643efeaa","0x652773ac0fa1f6c87370ce5baf0c72d8f81df00c","0x6527f3e9547782a9a368925685a81a92d97b8b96","0x6529770a5c58ca859558670cf98171f600c48783","0x656fa6bf18a53a24f62d29f69c5005d22d85c0f2","0x6657cddf937c4ff4ebea43fce9e3488fdaa8c12c","0x66663a76d9067cb005196fc11cde4758b04e3aa8","0x6682e331c36ace77d022517b2e78bb1bd21746d1","0x66a2c7b0d4da7e699f6dd27f89b49ab15b0a51e8","0x66ef83647fd6828e51299df2957b6658e6a1e4d9","0x674751bf36ac637bf53f342e7b39e9e3eb6990d0","0x67c0fc4b0490ab7e76c08c2bbd30fac0059bbc7a","0x67fa427f624be81b7ccd0ead5ef0f6a1a4d62bff","0x680635f33646c3BA83E6Ec9D7be500f804cDCfEe","0x6814330fe3ecf1e81aa91660b6e75d10a17ef985","0x68aabe3f2d4d6fba703f97d06b8ba12693f97833","0x68bd992d5feeb3a3030c128a7a5b0764ba152a33","0x696248b0566eedbe8beb4733a68410f4cfbc83cb","0x69eb97ef47f711545a9ca79c8633298661c80dad","0x6a511b9404f1177b2489ab147ac45e151df0c782","0x6a595f46a215b73341adcdb98f04d5fa442857c9","0x6af58ced7d0e5162aae77aa05b7eb6cb026ef60b","0x6cca27411c2bcf026d5973f98de573e49b6be49f","0x6cdd6a55dc9b445afb1252fa5336db1e56b8c1ca","0x6d0dc00d2585b76e1081b8ebbafaaadd81dd6ed4","0x6d590febf12912fa7c25ef26347e9a0c869e88cb","0x6d88611f1788064a28b5cb79bdd29bf587879516","0x6da7a4bf934a7d3f8b188f7baf73097fee1a1774","0x6dc330a7e965a1836a5038c26f13063cd1a9f8fa","0x6df98843544a45295f91a0585349040d3089059e","0x6e2918b14fc8af5581ccb435deae586674663f06","0x6e4d867b0b9da23d0b15e28d1ddc8f382e9e3a5b","0x6f3c97e08a8f472426ece1ed944d4e91356eb3a3","0x6f94e44fbda18b57546342dce8f05f56cc957372","0x6facbfaf5901c01102798568f7fb71b2a059b651","0x702d0fb384d24580e71ef101a4e2b72f7b1f2ac6","0x7038e5400cd2d26a3bb48a95551bdeefbd483ceb","0x7071a5df87a625eea6c25c73dc2d4c51c4d3defd","0x711102ee2a92f718b5d3a807f1b896b9fac7a2a3","0x711c877958e6a6476c1607261de10778db5fa074","0x71e466f31cfef866d2b887b306c883cd7d096284","0x71fedc462ae56223da650365780202ae0145f221","0x723b2494dea104c29b410d7b9ba44bdfbc57c222","0x724505cea9304baa8eec6bf4c7da2c93e0969031","0x7259387ca93f2d26c1c31d58d6c39002b2dbcef4","0x72b77f235560388a28814a6321cb638a39fe88e2","0x72be0aee75afeb770ae7565838fdda70222713a6","0x72f3bbf44d853bc8839145646bb3b6a76a614fcc","0x7333e0a08beacf70f04e43edf3eb86a8a053f64b","0x7369155c75455333e2995097980bd1c26416a7aa","0x73c92bd0f8cb887f1bfaf4b821ebd7bc480bf3fb","0x73ea5acd464037330004ad9b50b3006ef2ac6e2e","0x745207d4c3b9fedc386eec2eb5a6966f27ee6854","0x74a1b835529d251637b4e48562abbea146f913d7","0x74ba331c57896f84f0c08845904a67d82012bac2","0x74e797cafec0b717ce93cccc31f874aaae988d43","0x751146f9e2fe39ce2b1e15098c79ad85f600afd3","0x7528d4cd80e58c20110cf96b892317b318cc1229","0x756e68f85226e17c2ad9a36f5f3c81f88a01b20d","0x75b0b49e014ee30a990e302390efc1bdbcf4692b","0x75c63fb3e4329f330a5cc178ab2f50e2bc9736c1","0x75d4519389c97746fd57645b44d55f9034cebd27","0x7607aedb36183deb0474037b8783f31d2026a36f","0x76b3e3184175a690a41b8a3dfedf7bde382ae5a5","0x7705e2ab68410af6a7be1f5a75d143f5455235d6","0x77542806ca1574a7ab2eb4b791d57be1932d1b78","0x77641ad6a12bda8a093a8b13e026960ecefe52b9","0x77a8bc96350cfc939dd7e73d995417e0526f189f","0x7894da4f32ceb6a9c9312d637af12eaa2520763c","0x7913cf6c639760319e477f78c3ad68e463fed453","0x7963097647906f831ea7e0509813fea903754493","0x7971c1ea756aeda3e1e1fae6d48d86e5b6d95341","0x799a478d13fdfe58232c4d592f84ec5f52ac3427","0x79aa911b8f1dbb6e5edb5d12e9bf8365cc6b9e36","0x79fe7b208422b97a83abf30149070bfd7b096160","0x7a3dadac73f44a29ca9f93a28ce134491851f9a1","0x7a444a7f4a60afc4f4ff6c8ba158788f1f587eba","0x7a588598ea0c589adff8f873b7f56d82f3873f10","0x7ab73a9e3c1fad2ea01e71caba34aba35002de62","0x7aaa2b547bfbf5082b3111d6f84c388953f7912b","0x7ae07f03d2a52396dec1da9f27f4b7122a68fc24","0x7b850bb3b7ce30f60eaa92aecb2154f180c46590","0x7ba80c4b38e2bfe6da2649c4861b877096e3c042","0x7c0ed78ac57c08199d3505ea8f0863584103995d","0x7c917078fc1eaa17de762e2f87652fb75ae8e190","0x7def7c46d3d56dadd8e5bea7c3d62b71651136b0","0x7ea1ee5dd03c7109332e643be2e96dc82da5689b","0x7ea4066237ffd02759abd20e9cf6f8768b2d835d","0x7ea715eea52104cb3d2f6b8c5cb7e8e60cb7da3f","0x7ed33a1763a88eddd8e055fe974f812f82ffb5c8","0x7fa6657ca88a9b27ffad59acce4280ae84e20067","0x7fabdae9211072af08e315334cdbc84762b43e01","0x7fd14822f93880a47aa6578283de50573e7a9428","0x7fe23b29085dbd51aa43b6000a38afb0f10712cb","0x7fe595bd221c29281b32bb1d8c6b51e7d8688e69","0x800f10c9ca6699bd17f445e7df69e3fc44049770","0x8055899293172b684d7e399b5e226277e826e1d4","0x8076ab95158ef060fad1a817a7dd2790eb762efa","0x80d2537b611cde21d0528c8ffe9e14a1e6372069","0x810a1435c57f5eb24604bce9585ddc2a20341338","0x812be860ec8aa47cd4109bff840b15cc5034ed53","0x82422fc1ecc281381236d376cb6ec9cb12c2b93c"].forEach((function(e,t){a+='<div class="address">'.concat(e,"</div>")})),["0x829c5b4af03b5374d39626389b3814603dfca69a","0x829ce26f3d97c96ad1be529957e3fef90800e471","0x832376f39d77fc8f33e65042f685e80ec25e7353","0x834c6238ac0182b26e3d59f6a7a7a430f3dd0d26","0x83a1279d786ee5794ed5140575c2e0bd6d5073b5","0x83bdae685001e4699050742f03e2eeb48498b408","0x83ec7ec8284d833a486ce2c8122475667eb5bc59","0x8494ab34ad3d308825e1af680e402ce788bec7a7","0x84b676bcd8cd46e4b7668856eb8c35887e104b69","0x853e960a347b24143e2c7d317b5e356cc987a05c","0x855b21503daf4518d3d5153993ed1152f0f1d438","0x855bea49cfff9fa595482bf5888935fdb851bc6f","0x858c08e7840ab8b559f6e131e28130e5bf8a4167","0x859fae6bb0ab6d0455e0db42f8bbaf80790078f7","0x85d31c01afac54830ccde094fc4a2dd429167890","0x86096686bbc522491ffd5ad694929d6fc0da952e","0x861cef0fc4b2065d60e41ea12d03523617cc00d0","0x864ca497e15c9416af8b4235c8d570a86c857749","0x8671ecd4ec55149642b7199d3a3037def5ff36cf","0x86c4b6000b6f5c8a213589d7f6985d77ff1cb2ad","0x8714a644abaea27bf1c8589176a6fc0629fecca6","0x87364e1bf02ffa328e626271afcc12089917c966","0x874725ee43dc646a0780dcecfb0ac7bb05e3d887","0x874d7afa627c52e42aa64cb270f76645151cfd82","0x88186de0866efae2d784152568eaa73c64ccc0fd","0x88573b505e2c588c7c14c66dda0264650fd774ce","0x887601a901bc05b18c1c9a92d2c260bc130ee568","0x88c3cdf79f47ab7af8efcb081771487ff13bf029","0x88da7e82eb3142eb7e5d6d437efcb9a44b27f21d","0x88f009c0882b3dec0a192011d5314a641e2adcff","0x8947a685e1c2934b3dfe45659331720573d46d5d","0x8951aa74800cd6d21333d285f0e4e203feec3f36","0x8a013a16d19e447c8e455cd836c6003b14dbad35","0x8a7122101039e6a1464a17cd54007657a91bb765","0x8afea1222b9837e18177be9f271b922e0cec0c9a","0x8b36e7e37be6e10f7a24b0000b0602b575fbb54f","0x8b3c22a2060fc0667e4b48ad1801bca7a7d1f067","0x8be7bb5c6146d4d48dd50a22d27cf065e1aa2dc8","0x8c0dd33aefa9782acacb7f2bcfc813a504322109","0x8c475e667aa6c90a672c25bd6977ca6efd75bdcf","0x8c85d91e649917914b7aefd38f1aa6a4e4dae3bc","0x8c8ae0b57a65ad4b7f0e67f8ad56caf975771810","0x8c9c3070b31f8a55c85b0ae8ca4680e6211233c4","0x8d1e946e47d8fc24bd02d56c37ca5559084de8fc","0x8d560b3ba4d4cb91f7e1ea69ce0d652893799ead","0x8db29161bc34b8786931646a96ca82236451ce96","0x8e0c7503bea7b4eac750fa90f680c0d0537f706c","0x8e6B6C79C09a7694B299AE96E84733a696C6326B","0x8fc4b234bbfd1bb03d70ecf1710b9f51f6d36246","0x8ffb5c1d19f771a0484652e6e9b408ff759ff687","0x901ee12bad8eacaf76341da658ac30d1d3f6b88c","0x90ae5e849127eb80272e3020f22276ce47768d49","0x918fcb82cf8da371bd346d7674e5fb472c4d7072","0x91a503945eaf68ff638da328931f460893ef42d6","0x91ea10899678cda7a155cfb652b3a8d9f3485a08","0x92045118179fda2f62c98aa3b64a8b451f615358","0x92ec90d6e692d39b189308621c9b12f33372ddb9","0x93860b13312c1d5f34d49aa67a6f009c03c0ceba","0x93bf0ab2cec1dc2eb3538b9dced2bb7207131a20","0x9401d4e05a6ee105707709fb075306623edc4316","0x944fa3dc8a4de7a048394cff541d81c4a161d82a","0x952377798bd0621266058b5ddb5e338fcfb460aa","0x953e94453c8f1819c5b8c0fade5f3ec7c423d07d","0x9553da295680bcb59e5a15ff582877f62e304297","0x9615f0b30ff3f634408a1e9b4bc3e970863a33b4","0x96bc70dd34ae6e58c4ab3df82f496b1a0d316aee","0x97077dfd4d8075b9e50d10688c22b9b0fd3248d2","0x978362165ff0001f95503e7e10126d940cbaa31a","0x9806d0ba3efd1eb53f349430dca7db307229879b","0x98620a02ab5313d78569fe2197271eed7cfd1d16","0x98c69c7f4808866481a31f3b5df50fda0bc004eb","0x98e8109f769eff0cff8c252768c2d794d15580e1","0x98fdc93da473c71fc5d00d6a9cdfb99c6f9502aa","0x990f7bb51e752e1670bdc0b8b699ae8e49d7c739","0x99c87707f324e42c2b09a4a7c5da78d50f42bde6","0x9a815e666c62aab21dcb3cb9542a610dbf420fa2","0x9af5b257b8209d6008a2436594df12a0f13fb747","0x9b2a48514415dfd388d775b3bee32e39efc0f1bd","0x9b83e45a5be4868df666ca29920877039ca532d2","0x9b8f6a9c9e6fb7e1f81abde8b228f009dbae8397","0x9bd3016a6b443942c1ef38f2f3af1d428c247120","0x9bd9b0f131b51d9e257e221f7c474d56b1f75afa","0x9cb081e573f0fa73b781c7982fb46bd78530d988","0x9cdbb3c9bfc043dab2cf10ccbb14fccb252afe6d","0x9d26588ef577766116ac96c7e6b3557c19025eec","0x9d5c4d02a741046d9ee2cdc76267fae7cd647ab2","0x9d9cedd04378dfa19bfbd677d6c605cdcd7e4adf","0x9db6aa030dc6f693e1c41af3e2953e8e1bfc2394","0x9dd3d075226fc201abdfa5c48571e3dbf16a28b7","0x9f14bd5754f740eb65c518290ce09197842cf532","0x9f4104e8752b759951bf9271f954966d0731d501","0x9f74b490fc968f1ef947855fa22efcc49d14f981","0x9fa79f61f53898a6b09afb1fc9fb7704ff92582a","0xa04f936fa0c4f35dcc6981f56d57ab034fe4a0f8","0xa058d180bdefe805dda2dc677b50df01010507e5","0xa07ae4f9e2d41715416ae074c7a6fe857693de4b","0xa0bceadcdd08aa74c2606eb720c1af8d89119955","0xa12c8eaced4109a836011d7e88a4d658e03a20b9","0xa199e33992b24041df113635c1a4d758286d5bb7","0xa1a6e58bb4a75be25fa601e89459cb8d896b37ba","0xa1a9b32fd542320f80c8216a8720a2a7b6c40878","0xa2681bdd3cfd2ece5a63dae1523d09cb0fd1c139","0xa32c699132b7f0ab620590f217344df44b85be84","0xa339ddf8237751e287bcf39ae53ebfcdfcd38cb0","0xa38d48a063b70693d557e88ff058d4e25897e790","0xa4152f3c42af66636ddafc79e11b8bbe0ae204b7","0xa43c750d5de3bd88ee4f35def72cf76afebec274","0xa44af547c564de2c3ff00a0649f744ad91f52e5c","0xa4865aa934df282c7c50854988e38d0667b36873","0xa5704fa7dd51481232d02996478781e217f14e77","0xa5c5677c63729c5b53ec8ce465e4b154b1f82f0c","0xa5e6cb5915a768aa26a1e5d0ab04141c86babd78","0xa5ff0af8113ab75b8c1200fcf5e67ba3cf040cc0","0xa626aff55e18faec57e507bf9483845323c23e0b","0xa64e9b0a6901b03e0c12febfcd18b21f2fb83d7f","0xa7353c8653c15333740b7d3edad8b412d140cce8","0xa75cdeb01f9cac60ccc07f2b7db3942a1b4c9903","0xa7a123b111ed601a90816541ddc0d6169eacd1dc","0xa85943c4bc0f269df2731f875ca3832f7652e7aa","0xa8627d272b0f355d43cd25d323a7e9b370dca26a","0xa86a7666f6b09f4709d94c59abf5df21898d3f0b","0xa87dbb982008e26f3ec39258dbb69344631274c5","0xa89c688e956bf4bbba9de4e90a9f1be2f4fa1be3","0xa89d5e9801cf0e7a3663b85b5861091641f739b6","0xa8e9e4d0f213736b463ebeff5b92dc8ef873f772","0xaa2498eb77801789ffd2f30aad906aced9cbcc10","0xaa34c2c73048eede963cc8089f733d37649e3560","0xaa638a5426ad0904cc52e161b4a4832168eb9d40","0xaa832692b3f0b065aabec2fcfbc1a9939f086e13","0xaa91fc64c276e34c1fdc39156e15a261c408b3ee","0xab4bf3dbfd731705cf9beb952774777b776debb1","0xab771667b15c7b648fcb18499fe56ce94a20ec35","0xab78af5d653f8bb2b0b33ba0363e492f724c05a8","0xac32faea1894d8063ad5685d08a5411172e4d096","0xac431575c4d47ee348ce6d271c7ff1cb64442bb3","0xac70fd3058022ca9e1728e229673ea68810f136b","0xAcA9b8AF5DDb180D6FF6E4BcE7533dd76820148C","0xacba37679a7903821c8493f988a7171b27a21941","0xacf164b7bc01ade3c42583b04635f52291a735ab","0xacf5b8f972aa883722d6b47b3c501a2283258f1f","0xad9f9194c68bd83250a534a7da574687e1f102ff","0xade076215b97847526c031dc3dc33757de62fe53","0xae04746a5134dd8596fb05c9c6358e82de138ba0","0xaea1005a554c0c78231d0310631cea1f0db1bea0","0xafbfb7bb2f09000ff9d43ae124db084d8e4ebee8","0xb089a6ed58d34aa53d4beea84b98a72244ea2ed8","0xb0c3f6aec528b406c8c54a0fff5f57a3a49faa7f","0xb1399f1489c67832a1cca4ed124cb3bfaccdfcbd","0xb14a2843fce9b592048d1ed7edd939b3b1dc36de","0xb1a8ea6b8876ce8685c2d5c5d61385036bcc965d","0xb1ab255d5e2c1c2fbebe3596629a513ba9ee57a3","0xb1da2bf874377401cff866b7473f2a4390dbd65e","0xb204648e4467fd2e5c07634b7553f42b542879f0","0xb210169f7b8c98b03c8ba442906b7f9d6d4462d4","0xb25e559bd09e91f3b28f787c17530b2da5d2b5fe","0xb288090e6b2427e2e4b52afb0590f0f22ea0f6d4","0xb2a51faddd831e31d8b8594f786a744be29733c1","0xb2ee11060806ed93eb9e9cd89b425f5e4c0609cf","0xb32533aa64e513c68b3c79bb751d10d57f4665d2","0xb3b0fffef3397d7a3e85751ba5e7b18684f75131","0xb3c2471c028e254b212fafed202df313d4c8e21b","0xb3f48a4ff10e3b21d9e6e7f99a15247866806044","0xb47343e384c878125f8de007dca361a32d3b95f0","0xb4af91e789b9b0ec41eef93b44ce7bea4eecf413","0xb4b04564f56f4795ea4e14d566af78da54a99980","0xb4bbcd6408756dc719087cc4b8549ca73f110a92","0xb4ffecb1aa10758988b83f7eee5cb3765c133359","0xb5d2ab0cae9a8c1aab8527120308b5b8f06666ac","0xb5efdb84b02844dd4fbd378c4abe73a680ec6a60","0xb65e6425fcba02008169fc9616cd597d6c630d88","0xb6a6a6fbafcfb120d5de6535c27db98432e8bcb0","0xb6f898ffffbf531d545c3d169e029cc030048b6b","0xb711c62db3a995afb5cc26c3197f7ddc6b4981ec","0xb71e2bc7592ca3c0aff6b59a9e61a8cb3fee2945","0xb797dcb569cd0f9583c16f824499096549b4bf99","0xb802914ba42591d6e03aa34e37ef73f22370761f","0xb82033cd4d80d51f2769fec8b91156b0ef1022bf","0xb8507ee604c5c7937002e3cb2937ddd430051f62","0xb87f9e0868918e8bdac47bc83c5a6253d6e56623","0xb8cf513f7df90bca3bf35d706567825c6f7fd7d6","0xb8d2349d9e98040b7edb7b359135e0173e0160e2","0xb9baf97c2db7f2e2ff0a1377b3f6e646a4b912ef","0xba99926be550865a956febaf4a747ffa0648797a","0xbc6540ae63301e1af04033a1a1c5e34ef3029cd2","0xbc7a5da2f8334ed07d3c4cf26f4126892d0626a2","0xbd4921f4e6109a6cb616ab7a549cf0afd32ef778","0xbde59da9549572047ffd196e08b963a38b6abc86","0xbdf6ec1c2fe3b4a489c38e8e66af0e6b4e350916","0xbe19425f73f843a6e97e97fb3229c337d5f1d64f","0xbe73748446811ebc2a4ddddcd55867d013d6136e","0xbec9f774f12b9b370e9922fb5c8739edb019aa81","0xbee96173c3ad333766db277ebf6384fb17085774","0xc01bc2728960decdb6633bc5d7f441972cd41caa","0xc068a2f22f7c7f95c60281ae938b6970dccb5a99","0xc0706a8f5c509186d7f4977f53d2637930ace388","0xc0d773ca30871fef7c21cedfa60d380215d45a3d","0xc0f7192815c6f81ac9c155bf1f56c89de8f44cf6","0xc1276e4ac0628e88501de7f4f89123bdec57089f","0xc1603a5085f46c4c6f8b1a88d7eb590fecc2f7b1","0xc1d5547d9b644016b889510e4a094c22b6f6f070","0xc1e4c83845fbb84dde84701013072433abc9ed26","0xc1f793803346bbb8090a084cd8c64e057b9043db","0xc2b07c9deb5c6e4b74f0dd9453c7fdbbbbc4cb49","0xc2b5e6717e22b28c824c7581f3c39388eb90e00f","0xc31047a053e1a9c1ba548792c9f3b6f619428986","0xc32b7438b3df7844c9ee799930a2224fe6e26426","0xc365dbcb86abbe473b286d4d0c1e290b77b28bdd","0xc3f2ca4edc2275e0c1f933ada41d6930aead88c6","0xc47c1e1c624654700b5141b5e2fd0e6e963d5288","0xc4ea745a21c7cc9e6e7b2384996b6b312db8c7c1","0xc5822bA39771C774759Ee4Cf9010a6084CCC2134","0xc6743aedd9abea181bc81d80e6af4e1d00802651","0xc690e2f703c541251d0ba1aedb00993ca29c54fb","0xc6e3879bccf181d0c3dc4d925eda6afaf2b1f53a","0xc70136f393c147d9901c816ac2e92de7ef8eb43b","0xc769f2eef1d247b70240d0b6d243be9a046ce015","0xc7754ad9e918f2ff55520ffe76a7c358ec1d2b21","0xc8495c741afef91a558abf145afbe96a83ffee51","0xc8b122c3f31438f6cba3841b6628e790300c6233","0xc8d73e2c225b2291d6697f1f73a81e243cfd9864","0xc90f53218b8021d8369f57084fcd78f5c37398db","0xc92baf0d320ce18af4cff5795dbe6ea3a40e7c01","0xca04b1d80f0aeee157b341f4af6691eb4f3b38d5","0xca927f005b5b8d333351c481ab3246689c9533be","0xcb802f085a02d604e65fa9eff1c5b6485072fb9d","0xcb91840635ed62cb71579fc55b4b0165055b4f9d","0xcBbE207A43Ea8937A04d2f47A0FD51566C79b0e0","0xCBC83a731E2baF8C26507EF952deE6889770c6f3","0xcc0b1e3d129b54595a3e2096c1aa16e2835ccbe5","0xcc158cd1d38779a5ac9c78a6237d797fb9a97cbc","0xcc6552ab6bebb53a1a13da97100ce0bfd4074214","0xccb9dffdae3911889543e40ff93b72d91b0e882d","0xccee13c19efbce3449c1fddf2733556472280954","0xcd0f5386305a667cf9a8e0ff6b1c98ebd4643689","0xcd43e0c21bfa737afde548af3a80e20eafed6a04","0xcd4463e40b3d2858cfe449cc5ebb6eb53a6303d6","0xcd8e2ef83fbe32c81e6b4271dd39a18d03b9306f","0xcdc2c4b5007baf387a2a09cb2b8e43b38c447492","0xcdf80ed32e01bba48db89595ac040871d1808de8","0xce48bb7958253a5e8efa14b6775315adae09376b","0xce66389ac799547e77a28e1f32da38b491ad4375","0xce79d6f01e83023613f92c6e98b45489918a030d","0xceabed0e4df7f38d1609bbf937bc5ca30f70aa01","0xceacf4230c2df593e3130b2d73b614bbb6b087ff","0xcf4d8f04650764377d04277b3b07ff60bd70e13b","0xcf6fb2edbbfeee3238faa4358f12f1e9c0a47fd6","0xcf7538d392b9538b85a4b4cf10499123beaf9e50","0xd102414e9630b4388204ebfbedabb870ef88a90d","0xd1036faf90c4503193d287cd2845704fd1ccce0f","0xd10914b85d585b5fe085ba81c8df624777b15a30","0xd116fac0563ab7785d8bc6ec5f676b36b0f9fad3","0xd16bdde3c4388e90e3f640896c9b92f28a71bf08","0xd1acde3e5c7051ad407a12e47192f7a16b3052ad","0xd1ff49ff845ffbf1f6a1ba8ff4c7909a38768986","0xd206b9bb19cc50323e964a18df47d37f565d9dcd","0xd2725d2b609c2a090a8c358caedae747f1f42a53","0xd2a414c79fbc3ee3d8adc8c3d960ffa32ef73747","0xd3081c8bbc56ced89de090daf50565a4c5fee21f","0xd31e15811507f9e6308a0d9dbb3b0aaa60d69c4f","0xd3c3c4ca6d1a136be570016f6a7c283559e3f654","0xd3d8e3e442815a89023a89a1f077db66bd7d04d2","0xd3dadc71b44d390b28f54e1faa7267cc37d6aec2","0xd40f7683b9bbe7547a70b44603ba265e5d5df0d0","0xd4aE1C3Dc64371F6Ee619E328EF14a70a9298d04","0xd4c88a429a2ee72c92edc9d28ae2f77120e9f67d","0xd4de9f0fa7c40853146ad4994bb3a52615ffdb40","0xd5b9595b49e6fd3bb639ff0c17e64ba4dd665f12","0xd5caa8a47bf5f9a4a6b89d8306a9505ae8b999db","0xd678e9825e0261838b51c6b1952d4a45967f68aa","0xd6c5e5daa110115ed6fc5b62d7ccd2433ec63c92","0xd72d5f6c53e480abcfb030adc1adf25debe156f0","0xd76b29d1995200586aa58db8d715ba1214c6d51c","0xd87a666145b589f2a604be4a05eb20d109050d70","0xd91e89e68871e04d9ff8f56299810c1824a331d8","0xd975f2bf87333edc2b5510d2d7b65eefa1570329","0xd98de831a9da563243a70252a0c59f0946fbf4e1","0xda0402ae38ec0a808134cc990b6bd28c1f64aaa8","0xda16459ad529997b2f6b3ec232f4f95ca6f77f91","0xda3140d6698805aec58384f99897d9781bd1ac6e","0xda573972cb1d4cf5df5ff31afecb8f434f546da4","0xda88b50e9db7894b00c816789a859576e3eb2373","0xda8e703a378b491b13e2b34fcff41b9e0b6b6f44","0xdab9311032141e38e388f5f2e6f5365eb8f1ccb4","0xdad9ea8de6b159245648bf126e884e0425f3735b","0xdbfa71b513e22df96768c38f3739dd9fd07bf94f","0xdc00faa14901bc93c6fd3e3e49eb8b4cb09ebf72","0xdc66441f5a58ad1dd983bb0e3eb17ef8df530383","0xdc82b3659fd8fcb8a38b827865011863311a61f4","0xdc9803c9d1dae20bbe5e64866019419ae4225534","0xdcc047ed047efe5740fab936860bb666b261bda8","0xdde09c753d2f535882661abb41663b7bbf24bc09","0xde1f9cb3978be5a545dc8c383160ac1fb3626986","0xdfb0cb3393684ca1160aff0d087b649a7c560258","0xdff969438dcb83f17e34cc7a41b5deed3ac636a0","0xe019b48e08a238ebe9f7107f8327b60803a4ba67","0xe04aa993c63476faabbc92d334179321e38e421c","0xe073b5872dcdb01c6208e30e045a321f23cbe6fd","0xe0b27124a91b745df258c981682cb7bfc26d9ba5","0xe1506ea9d720651b4b4dbf4d3c2b5528d56b80da","0xe1891116b9fe32296c7bc95d9534b26145effc1c","0xe1ae152439993d035bb1ead71db3e663a550ccc9","0xe1ebb6ae67f99a53a1e1c987d9dfc1134a44fb32","0xe23cedadbba887bf6bbb6f161ff9281f6c39b5eb","0xe268f93e94514aaf5c6eae6c92f4049bd6ecaa64","0xe26ea9010d93d1ae4e57a74f5d11d4c11ce14e35","0xe2e1449dba3093e4eb43a0b7ddd6ffc508f7d9d4","0xe2e83df35ab973a52ce086b761c1673bd9d8ce51","0xe32ebd6b6b5c74d58096afc9fd99bffc79cd487b","0xe35483c045e12bd679681469a0a38445e228417c","0xe41df0c883d7e1f4f9df0b856cb14cebde0f2e21","0xe44102f08e1dcde4e21649ad27edd285f1a1ce1f","0xe44e17f364d5d24ba7df23fe8ea565c544ae36d4","0xe4d72a7fe71e6fb91fbc09459905c6031e120865","0xe50548454ec410bed6b2338d77121aa67d277ff4","0xe59030b21b2714708afd08a7e0f8d0a90f5ec251","0xe5ccee17815a0a39e2e7efe6854582c1dd103d2b","0xe5f83ce1e8f41cfd9ddcc85a0db726c81c9f789f","0xe71fc339d0783875d4942ad17540c3f2650915ba","0xe7eac2a558e9f0e009f6a0fb7f53923c39c37035","0xe7ef6563fcf1965e91075f13a4cfb4b607fceeef","0xe81a57f5b208735e44e99f84728a047ae29256ab","0xe8a305b264ae56cc115e036e63ee94ecf0d993a4","0xe94d448083dfd5feafb629ff1d546ae2bd189783","0xe95baeb396ecec3ed3fe37ba8f0e3fcf922c583f","0xe97a8888c89951ed4567d61fbca8a6c6c7e762c2","0xe9aa8eb20a2fa96c0e3c26173cc0ebdc9838fa94","0xe9b4f7755f74be4389f54e07c94d1541e27c2f33","0xea24918a807399a819b74e30baa05f0375ecdbbd","0xea50a527fb7dddb11bd7361285b3decda432ea2c","0xea7f8af79b6e69b3e65959f41ea6c181740e570d","0xeae4581390f2a537350169b9ca14d0856e208785","0xeb4019bc9aec9160ad9c9c7c2331cc7c4ca31465","0xeb6b06c316dc8f43538480fad4cdcf7d1ee48d6e","0xeb76f570e30419010acbbe765bba90263f3b8bab","0xeb9402df89bc70a6b9dc31fcf2d6b8078ea4b0f4","0xeba3af243ce855c2506f9a2e176adec456378e22","0xebbc65643714d884486356a6bb071a012037a364","0xebcb909bd7dfd73eec9c2bedb72d9ff0bdb1e32e","0xebf21c70465e0c9ca5faf21e1c17d3bfac95c647","0xec5f1a1d7ea81e5f08b7ae00e6f56f161f6ab869","0xed608006bc545bf7948d79a152e7fc101e0e44fb","0xed7dea54dbeff0dd16aef8d227564c1aa289626f","0xee3711ea1fd2fc2b770fe258a822aeb1d9199467","0xee853ddB68BE3D5431B62e5305295e8215a86A60","0xef07780777d1449e7d4a09c1f5bbeac51b55c037","0xef321b3871add26b727b6eb0895eefd881118399","0xef5c424b1b0a04418bfec2799ed5e2896836a8d1","0xef6ee1ece8664605493e69de51f490c096beeaa7","0xefa171c1939ae0fff98513daab961785b1c79514","0xefdf43acfe9050948468ccb732dfc3f0d4f75e80","0xf03e21afd74bfc892e3314507952d749b92afe16","0xf0404545ff84ac7d265f1c87ad00801a678ed076","0xf04663fd686eae663448547c19451e1afbaecfa4","0xf1298c937d86f8be3b2ac4579681c2e6ed6c21cf","0xf13bcf5d81626808646c18f60d078a1823471d26","0xf172db4d92bf8e72fa4e9182dcc811641b85fa97","0xf1b2030efd520136f7c5c7bddfdba54ca4f4ddbc","0xf1c0694962ab2c64e625758c71f82cd325c93dd7","0xf1dcd0dc8126c8e7bb2aa6793b03ad75b3b17af7","0xf1dfa94d8b0bc4a627217abc6b09a2821a50e9f6","0xf1f838ebb4b949b20afc3859991a27ffb87ba276","0xf2ce1fc162ff873c226304314c685ef6ef7ef96e","0xf313a87f42729655ba41a3b142078b19cc86da89","0xf3956963b012930d94a86c91da2905ff7a4ec34f","0xf3b706a26fa7298bf1309a49ccb5886db176639a","0xf45227bd50fcce84908b6a0439ac0035cc175b6f","0xf46bf67c9fe161ad0dccf2bdcd5a787fd8a1a929","0xf4802f43e0656267821a68b7d75a9ededc42f958","0xf48c70d44618f8862a0fbb7076b362c0f07787fa","0xf4b0011d2921df727132c44429aa4985e5a366c4","0xf56001723d00c15ca5c390fd38d1786d34f0ad48","0xf58ef1e69b1d2299e41033657c4e3ea828479dbb","0xf5b4c93a02b7264f5bcf6443cdc70728ced257c8","0xf5c7e89021183cb51409829f07eedb855c6b83de","0xf619b6e1beca45a13e147eaa935ef91b9c1bd918","0xf84432862824a1535b8a8cfaad6c82a3a9e8e49f","0xF870Fb499CAbA8D0a77e33E1BF0592c6b6aE2E2f","0xf8bafbf962b791e416d9c218994e86f489a970e1","0xf9033d896d9adfc2439668b561ee757bcb8e1eac","0xf9102e3b05eb6f26c300df9e21bdd3f3b40d329b","0xf9b51d5415fd38414299950083357444849e509f","0xfa7933c0398951493232a4ca95caa94d2d888bee","0xfb2ccaacb87ed7495b3be858029878fadee14b6b","0xfb562be56c348e6486e2fd32cf0fb47782f04501","0xfb884e55644ae7289553983d822d3f12d1becd0c","0xfc045b4b949ffd654fd8b7596682a686e150b36d","0xfc4b2f6ef1efa354d602fb8feb2737f8de2ae52e","0xfcc0894f7b5d115f9f3bc16b7928faa6388ab598","0xfcced881dd348c8c33493a5ddbae8604bd1c9ae1","0xfce50ec01725d9bc975ce358b266dfdbe7cc26c5","0xfd03bdac6895acad03dbf0eb343aab5a7373cd1b","0xfe330cda968026db1a0793243f43486955b82c42","0xfe3f30ab5fad436a0b4d71d6e348e907b00a9472","0xfef5bc8e7bbf4da33ba52791d2d260b635812f7e","0xff513529cfd2718ea94ca6580dbb10bc79d981b3","0xff85e61f719b09f3590b9343b86c84878300c6e6","0xff8ba48f19979a2fa42fa56ce3b85979c6170671","0xff9b4c8352f0caefbf15651e80204a5682da9ef1","0xffd7cc82fbdd7c1d9be09bd0a686ecb63df33eb1","0x33982ed97cc9a2bb4d06e059b6aad66ecc1ecac1"].forEach((function(e,t){i+='<div class="address">'.concat(e,"</div>")})),e.exports=WhitelistTemplate=function(){return'\n  <div class="whitelistSection">\n    <div class="communityAddresses">\n      <div class="whitelistTitle">Saito POLS 1</div>\n      '.concat(r,'\n    </div>\n    <div class="polsAddresses">\n      <div class="whitelistTitle">Saito POLS 2</div>\n      ').concat(n,'\n    </div>\n    <div class="polsAddresses">\n      <div class="whitelistTitle">Saito Public 1</div>\n      ').concat(a,'\n    </div>\n    <div class="polsAddresses">\n      <div class="whitelistTitle">Saito Public 2</div>\n      ').concat(i,"\n    </div>\n  </div>")}},function(e,t){function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.exports=TokenTemplate=function(){var e,t=(r(e={title:"SAITO ERC-20 Token Contract",para1:'The token\'s address is <a href="https://etherscan.io/token/0xFa14Fa6958401314851A17d6C5360cA29f74B57B">0xFa14Fa6958401314851A17d6C5360cA29f74B57B</a> and the Uniswap pair is <a href="https://info.uniswap.org/pair/0xdfcf744c8ae896e8631ba9b9dc717546646f6708">0xdfcf744c8ae896e8631ba9b9dc717546646f6708</a>.',para2:'Details can be seen on <a href="https://etherscan.io/token/0xFa14Fa6958401314851A17d6C5360cA29f74B57B">Etherscan</a>, <a href="https://coinmarketcap.com/currencies/saito/">Coinmarketcap</a>, and <a href="https://www.coingecko.com/en/coins/saito">Coingecko</a>.'},"para2","Following our successful IDO launched on PolkaStarter, SAITO is available as a swappable ERC-20 Token. Each ERC-20 SAITO represents a native SAITO coin and is 1-to-1 convertible to native coins withheld on the native network by the Saito Team."),r(e,"para3","SAITO can be traded on Uniswap and will soon also be available on more traditional platforms, so stay tuned for those announcements."),r(e,"para4","In order to receive and hold your ERC-20 SAITO, you should use an ERC-20 compatible wallet such as MyEtherWallet, MetaMask or TrustWallet."),r(e,"para5","We encourage you to consider a hardware-based solution for you key storage such as a Trezor or Ledger device. Also be sure to keep a backup of your keys in a safe place."),r(e,"para6","Also be careful not to use the token address as a receiving address!"),r(e,"para7","Team Saito greatly appreciates your support. A blockchain is only as strong as it's community, we couldn't succeed without you."),r(e,"para8",'<a id="burnlink" href="/website/tokenburn">Click here</a> for instructions on how to burn your ERC-20 SAITO in exchange for native SAITO.'),r(e,"class8","burninfo"),e);return document.location.host.includes("cn.saito.io")&&(t={title:"SAITO ERC-20 ",para1:'0xFa14Fa6958401314851A17d6C5360cA29f74B57B <a href="https://etherscan.io/token/0xFa14Fa6958401314851A17d6C5360cA29f74B57B">Etherscan</a><a href="https://coinmarketcap.com/currencies/saito/">Coinmarketcap</a><a href="https://www.coingecko.com/en/coins/saito">Coingecko</a> ',para2:"PolkaStarterIDOSAITOERC-20 ERC- 20 SAITOSAITO1:1Saito",para3:"SAITOUniswap",para4:"ERC-20 SAITOERC-20 MyEtherWalletMetaMaskTrustWallet",para5:"TrezorLedger  ",para6:"!",para7:"Saito ",para8:'<a id="burnlink" href="/website/tokenburn"></a>ERC-20 SAITOSAITO',class8:"burninfo"}),'\n  <div>\n    <div class="title">'.concat(t.title,"</div>\n    <p>\n      ").concat(t.para1,"\n    </p>\n    <p>\n      ").concat(t.para2,"\n    </p>\n    <p>\n      ").concat(t.para3,"\n    </p>\n    <p>\n      ").concat(t.para4,"\n    </p>\n    <p>\n      ").concat(t.para5,"\n    </p>\n    <p>\n      ").concat(t.para6,"\n    </p>\n    <p>\n      ").concat(t.para7,'\n    </p>\n    <p class="').concat(t.class8,'">\n      ').concat(t.para8,"\n    </p>\n  </div>")}},function(e,t){e.exports=TokenTemplate=function(){return'\n  <div class="">\n    <div class="title">How to burn your ERC-20 SAITO in exchange for Native SAITO</div>\n    <p>\n      By burning your ERC-20 SAITO, it\'s possible to swap to Native Saito.\n    </p>\n    <p>\n      In the burn function of our ERC-20 token, the data field of the burn function should be used to provide a valid SAITO native address in base-58 format.\n    </p>\n    <p>\n      If you\'re using MyEtherWallet, you\'ll need to provide the ABI, which can be found <a href="https://github.com/SaitoTech/saito-evm-token/tree/master/deployments/live-0xFa14Fa6958401314851A17d6C5360cA29f74B57B">in the ERC20 github project in the deployments directory</a>. Detailed instructions for burning via MEW can be found <a href="https://github.com/SaitoTech/saito-evm-token/blob/master/README.md">in the README</a>.\n    </p>\n    <p>\n      The ABI has also been uploaded to Etherscan and the burn() function can be accessed via their writeContract interface <a href="https://etherscan.io/token/0xFa14Fa6958401314851A17d6C5360cA29f74B57B#writeContract">here</a>.\n    </p>\n    <p>\n      Please consider reaching out to the team at info@saito.tech before proceeding. We may have other means to help you with what you\'re trying to accomplish.\n    </p>\n  </div>  \n  '}},function(e,t){e.exports=Web3Template=function(e){return'\n    <div class="web3-page">\n      <div class="web3-heading">\n        <div class="left">\n          <h1>Play <span class="heading-poker">Poker</span></h1>\n          <h2>with Westend Coins</h2>\n          <div class="powered-by">\n            <div class="powered">powered by</div>\n            <div class="powered-logo"><img src="/saito/img/logo.svg" /></div>\n          </div>\n        </div>\n        <div class="right">\n          <img src="/subpagestyle/web3/poker_cards.png" />\n        </div>\n      </div>\n      <h3 class="page-heading">Before you can start a game,<br />\n      you\'ll need to get some <a href="">WND</a>.</h3>\n      <div class="page-content">\n        <p>You already have a new <b>Westend wallet</b> running in this webpage. Under the menu on the top right you should see your <b>Westend address</b>. \n        </p>\n        <p><span class="the-button"><a class="button" href="">Visit the faucet</a></span> and get some tokens sent to your address.\n        </p>\n        <p>After you get your tokens, you should see your balance by visiting <a href="">this block explorer link</a> or by refreshing this page and checking your balance in the sidebar menu below your address.\n        </p>\n        <p class="flex">After you confirm your balance you can visit the <a href="/arcade" class="arcade-button"><img src="/website/img/top_logo.png" class="saito-logo" />  <span class="sep">|</span> <span class="arcade">Arcade</span></a> to start a game.</p> \n        <p>Look for a <b>poker invite using Westend</b> or <b>start your own game</b> by clicking Poker on the left, choosing <b>advanaced options</b>, and selecting <b>WND</b> under the Token dropdown.\n        </p>\n      </div>\n    </div>'}},function(e,t,r){(function(n,a){var i;
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */!function(){"use strict";var s="input is invalid type",o="object"==typeof window,c=o?window:{};c.JS_SHA3_NO_WINDOW&&(o=!1);var u=!o&&"object"==typeof self;!c.JS_SHA3_NO_NODE_JS&&"object"==typeof n&&n.versions&&n.versions.node?c=a:u&&(c=self);var l=!c.JS_SHA3_NO_COMMON_JS&&"object"==typeof e&&e.exports,d=r(1228),h=!c.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,p="0123456789abcdef".split(""),f=[4,1024,262144,67108864],m=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],b=[128,256],v=["hex","buffer","arrayBuffer","array","digest"],_={128:168,256:136};!c.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!h||!c.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var w=function(e,t,r){return function(n){return new B(e,t,e).update(n)[r]()}},x=function(e,t,r){return function(n,a){return new B(e,t,a).update(n)[r]()}},k=function(e,t,r){return function(t,n,a,i){return A["cshake"+e].update(t,n,a,i)[r]()}},S=function(e,t,r){return function(t,n,a,i){return A["kmac"+e].update(t,n,a,i)[r]()}},O=function(e,t,r,n){for(var a=0;a<v.length;++a){var i=v[a];e[i]=t(r,n,i)}return e},P=function(e,t){var r=w(e,t,"hex");return r.create=function(){return new B(e,t,e)},r.update=function(e){return r.create().update(e)},O(r,w,e,t)},E=[{name:"keccak",padding:[1,256,65536,16777216],bits:y,createMethod:P},{name:"sha3",padding:[6,1536,393216,100663296],bits:y,createMethod:P},{name:"shake",padding:[31,7936,2031616,520093696],bits:b,createMethod:function(e,t){var r=x(e,t,"hex");return r.create=function(r){return new B(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},O(r,x,e,t)}},{name:"cshake",padding:f,bits:b,createMethod:function(e,t){var r=_[e],n=k(e,0,"hex");return n.create=function(n,a,i){return a||i?new B(e,t,n).bytepad([a,i],r):A["shake"+e].create(n)},n.update=function(e,t,r,a){return n.create(t,r,a).update(e)},O(n,k,e,t)}},{name:"kmac",padding:f,bits:b,createMethod:function(e,t){var r=_[e],n=S(e,0,"hex");return n.create=function(n,a,i){return new N(e,t,a).bytepad(["KMAC",i],r).bytepad([n],r)},n.update=function(e,t,r,a){return n.create(e,r,a).update(t)},O(n,S,e,t)}}],A={},C=[],T=0;T<E.length;++T)for(var D=E[T],j=D.bits,M=0;M<j.length;++M){var I=D.name+"_"+j[M];if(C.push(I),A[I]=D.createMethod(j[M],D.padding),"sha3"!==D.name){var R=D.name+j[M];C.push(R),A[R]=A[I]}}function B(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function N(e,t,r){B.call(this,e,t,r)}B.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(s);if(null===e)throw new Error(s);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||h&&ArrayBuffer.isView(e)))throw new Error(s);t=!0}for(var n,a,i=this.blocks,o=this.byteCount,c=e.length,u=this.blockCount,l=0,d=this.s;l<c;){if(this.reset)for(this.reset=!1,i[0]=this.block,n=1;n<u+1;++n)i[n]=0;if(t)for(n=this.start;l<c&&n<o;++l)i[n>>2]|=e[l]<<m[3&n++];else for(n=this.start;l<c&&n<o;++l)(a=e.charCodeAt(l))<128?i[n>>2]|=a<<m[3&n++]:a<2048?(i[n>>2]|=(192|a>>6)<<m[3&n++],i[n>>2]|=(128|63&a)<<m[3&n++]):a<55296||a>=57344?(i[n>>2]|=(224|a>>12)<<m[3&n++],i[n>>2]|=(128|a>>6&63)<<m[3&n++],i[n>>2]|=(128|63&a)<<m[3&n++]):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++l)),i[n>>2]|=(240|a>>18)<<m[3&n++],i[n>>2]|=(128|a>>12&63)<<m[3&n++],i[n>>2]|=(128|a>>6&63)<<m[3&n++],i[n>>2]|=(128|63&a)<<m[3&n++]);if(this.lastByteIndex=n,n>=o){for(this.start=n-o,this.block=i[u],n=0;n<u;++n)d[n]^=i[n];F(d),this.reset=!0}else this.start=n}return this},B.prototype.encode=function(e,t){var r=255&e,n=1,a=[r];for(r=255&(e>>=8);r>0;)a.unshift(r),r=255&(e>>=8),++n;return t?a.push(n):a.unshift(n),this.update(a),a.length},B.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(s);if(null===e)throw new Error(s);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||h&&ArrayBuffer.isView(e)))throw new Error(s);t=!0}var n=0,a=e.length;if(t)n=a;else for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);o<128?n+=1:o<2048?n+=2:o<55296||o>=57344?n+=3:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++i)),n+=4)}return n+=this.encode(8*n),this.update(e),n},B.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var a=t-r%t,i=[];return i.length=a,this.update(i),this},B.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];F(n)}},B.prototype.toString=B.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,a=this.extraBytes,i=0,s=0,o="";s<n;){for(i=0;i<t&&s<n;++i,++s)e=r[i],o+=p[e>>4&15]+p[15&e]+p[e>>12&15]+p[e>>8&15]+p[e>>20&15]+p[e>>16&15]+p[e>>28&15]+p[e>>24&15];s%t==0&&(F(r),i=0)}return a&&(e=r[i],o+=p[e>>4&15]+p[15&e],a>1&&(o+=p[e>>12&15]+p[e>>8&15]),a>2&&(o+=p[e>>20&15]+p[e>>16&15])),o},B.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,a=this.extraBytes,i=0,s=0,o=this.outputBits>>3;e=a?new ArrayBuffer(n+1<<2):new ArrayBuffer(o);for(var c=new Uint32Array(e);s<n;){for(i=0;i<t&&s<n;++i,++s)c[s]=r[i];s%t==0&&F(r)}return a&&(c[i]=r[i],e=e.slice(0,o)),e},B.prototype.buffer=B.prototype.arrayBuffer,B.prototype.digest=B.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,a=this.outputBlocks,i=this.extraBytes,s=0,o=0,c=[];o<a;){for(s=0;s<r&&o<a;++s,++o)e=o<<2,t=n[s],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;o%r==0&&F(n)}return i&&(e=o<<2,t=n[s],c[e]=255&t,i>1&&(c[e+1]=t>>8&255),i>2&&(c[e+2]=t>>16&255)),c},N.prototype=new B,N.prototype.finalize=function(){return this.encode(this.outputBits,!0),B.prototype.finalize.call(this)};var F=function(e){var t,r,n,a,i,s,o,c,u,l,d,h,p,f,m,y,b,v,_,w,x,k,S,O,P,E,A,C,T,D,j,M,I,R,B,N,F,q,L,H,U,z,V,G,W,K,Y,X,J,Q,Z,$,ee,te,re,ne,ae,ie,se,oe,ce,ue,le;for(n=0;n<48;n+=2)a=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],o=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|o>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(o<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=a^(c<<1|u>>>31),r=i^(u<<1|c>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(l<<1|d>>>31),r=o^(d<<1|l>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=c^(h<<1|p>>>31),r=u^(p<<1|h>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=l^(a<<1|i>>>31),r=d^(i<<1|a>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,f=e[0],m=e[1],K=e[11]<<4|e[10]>>>28,Y=e[10]<<4|e[11]>>>28,C=e[20]<<3|e[21]>>>29,T=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,z=e[40]<<18|e[41]>>>14,V=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,B=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,b=e[12]<<12|e[13]>>>20,X=e[22]<<10|e[23]>>>22,J=e[23]<<10|e[22]>>>22,D=e[33]<<13|e[32]>>>19,j=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,N=e[14]<<6|e[15]>>>26,F=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,_=e[24]<<11|e[25]>>>21,Q=e[34]<<15|e[35]>>>17,Z=e[35]<<15|e[34]>>>17,M=e[45]<<29|e[44]>>>3,I=e[44]<<29|e[45]>>>3,O=e[6]<<28|e[7]>>>4,P=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ae=e[16]<<23|e[17]>>>9,q=e[26]<<25|e[27]>>>7,L=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,x=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,G=e[8]<<27|e[9]>>>5,W=e[9]<<27|e[8]>>>5,E=e[18]<<20|e[19]>>>12,A=e[19]<<20|e[18]>>>12,ie=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,H=e[38]<<8|e[39]>>>24,U=e[39]<<8|e[38]>>>24,k=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=f^~y&v,e[1]=m^~b&_,e[10]=O^~E&C,e[11]=P^~A&T,e[20]=R^~N&q,e[21]=B^~F&L,e[30]=G^~K&X,e[31]=W^~Y&J,e[40]=te^~ne&ie,e[41]=re^~ae&se,e[2]=y^~v&w,e[3]=b^~_&x,e[12]=E^~C&D,e[13]=A^~T&j,e[22]=N^~q&H,e[23]=F^~L&U,e[32]=K^~X&Q,e[33]=Y^~J&Z,e[42]=ne^~ie&oe,e[43]=ae^~se&ce,e[4]=v^~w&k,e[5]=_^~x&S,e[14]=C^~D&M,e[15]=T^~j&I,e[24]=q^~H&z,e[25]=L^~U&V,e[34]=X^~Q&$,e[35]=J^~Z&ee,e[44]=ie^~oe&ue,e[45]=se^~ce&le,e[6]=w^~k&f,e[7]=x^~S&m,e[16]=D^~M&O,e[17]=j^~I&P,e[26]=H^~z&R,e[27]=U^~V&B,e[36]=Q^~$&G,e[37]=Z^~ee&W,e[46]=oe^~ue&te,e[47]=ce^~le&re,e[8]=k^~f&y,e[9]=S^~m&b,e[18]=M^~O&E,e[19]=I^~P&A,e[28]=z^~R&N,e[29]=V^~B&F,e[38]=$^~G&K,e[39]=ee^~W&Y,e[48]=ue^~te&ne,e[49]=le^~re&ae,e[0]^=g[n],e[1]^=g[n+1]};if(l)e.exports=A;else{for(T=0;T<C.length;++T)c[C[T]]=A[C[T]];d&&(void 0===(i=function(){return A}.call(t,r,t,e))||(e.exports=i))}}()}).call(this,r(19),r(26))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(25),a=r(112),i=r(79),s=r(28);function o(e){Object(n.a)([33,65].includes(e.length),"Invalid publicKey provided");const t=s.b.keyFromPublic(e).getPublic();return Object(a.a)(Object(i.a)(t.getX(),s.a),Object(i.a)(t.getY(),s.a))}},function(e,t,r){!function(t,n){"use strict";e.exports?e.exports=n(r(30)):t.ed2curve=n(t.nacl)}(this,(function(e){"use strict";if(!e)throw new Error("tweetnacl not loaded");var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=t(),n=t([1]),a=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),i=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function s(e){var t,r;for(r=0;r<16;r++)e[r]+=65536,t=Math.floor(e[r]/65536),e[(r+1)*(r<15?1:0)]+=t-1+37*(t-1)*(15===r?1:0),e[r]-=65536*t}function o(e,t,r){for(var n,a=~(r-1),i=0;i<16;i++)n=a&(e[i]^t[i]),e[i]^=n,t[i]^=n}function c(e,t,r){var n;for(n=0;n<16;n++)e[n]=t[n]+r[n]|0}function u(e,t,r){var n;for(n=0;n<16;n++)e[n]=t[n]-r[n]|0}function l(e,t,r){var n,a,i=new Float64Array(31);for(n=0;n<31;n++)i[n]=0;for(n=0;n<16;n++)for(a=0;a<16;a++)i[n+a]+=t[n]*r[a];for(n=0;n<15;n++)i[n]+=38*i[n+16];for(n=0;n<16;n++)e[n]=i[n];s(e),s(e)}function d(e,t){l(e,t,t)}function h(e,r){var n,a,i,c=t(),u=t();for(n=0;n<16;n++)u[n]=r[n];for(s(u),s(u),s(u),a=0;a<2;a++){for(c[0]=u[0]-65517,n=1;n<15;n++)c[n]=u[n]-65535-(c[n-1]>>16&1),c[n-1]&=65535;c[15]=u[15]-32767-(c[14]>>16&1),i=c[15]>>16&1,c[14]&=65535,o(u,c,1-i)}for(n=0;n<16;n++)e[2*n]=255&u[n],e[2*n+1]=u[n]>>8}function p(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return h(r,e),h(n,t),function(e,t,r,n){return function(e,t,r,n,a){var i,s=0;for(i=0;i<a;i++)s|=e[t+i]^r[n+i];return(1&s-1>>>8)-1}(e,t,r,n,32)}(r,0,n,0)}function f(e,s){var o,f,m=t(),g=t(),y=t(),b=t(),v=t(),_=t(),w=t();return function(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}(e[2],n),function(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],s),d(y,e[1]),l(b,y,a),u(y,y,e[2]),c(b,e[2],b),d(v,b),d(_,v),l(w,_,v),l(m,w,y),l(m,m,b),function(e,r){var n,a=t();for(n=0;n<16;n++)a[n]=r[n];for(n=250;n>=0;n--)d(a,a),1!==n&&l(a,a,r);for(n=0;n<16;n++)e[n]=a[n]}(m,m),l(m,m,y),l(m,m,b),l(m,m,b),l(e[0],m,b),d(g,e[0]),l(g,g,b),p(g,y)&&l(e[0],e[0],i),d(g,e[0]),l(g,g,b),p(g,y)?-1:(o=e[0],h(f=new Uint8Array(32),o),(1&f[0])==s[31]>>7&&u(e[0],r,e[0]),l(e[3],e[0],e[1]),0)}function m(e){var r=new Uint8Array(32),a=[t(),t(),t(),t()],i=t(),s=t();if(f(a,e))return null;var o=a[1];return c(i,n,o),u(s,n,o),function(e,r){var n,a=t();for(n=0;n<16;n++)a[n]=r[n];for(n=253;n>=0;n--)d(a,a),2!==n&&4!==n&&l(a,a,r);for(n=0;n<16;n++)e[n]=a[n]}(s,s),l(i,i,s),h(r,i),r}function g(t){var r,n=new Uint8Array(64),a=new Uint8Array(32);for(e.lowlevel.crypto_hash(n,t,32),n[0]&=248,n[31]&=127,n[31]|=64,r=0;r<32;r++)a[r]=n[r];for(r=0;r<64;r++)n[r]=0;return a}return{convertPublicKey:m,convertSecretKey:g,convertKeyPair:function(e){var t=m(e.publicKey);return t?{publicKey:t,secretKey:g(e.secretKey)}:null}}}))},,,,,,,function(e,t,r){e.exports=!r(20)&&!r(14)((function(){return 7!=Object.defineProperty(r(197)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){t.f=r(17)},function(e,t,r){var n=r(35),a=r(36),i=r(137)(!1),s=r(199)("IE_PROTO");e.exports=function(e,t){var r,o=a(e),c=0,u=[];for(r in o)r!=s&&n(o,r)&&u.push(r);for(;t.length>c;)n(o,r=t[c++])&&(~i(u,r)||u.push(r));return u}},function(e,t,r){var n=r(21),a=r(10),i=r(82);e.exports=r(20)?Object.defineProperties:function(e,t){a(e);for(var r,s=i(t),o=s.length,c=0;o>c;)n.f(e,r=s[c++],t[r]);return e}},function(e,t,r){var n=r(36),a=r(85).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==i.call(e)?function(e){try{return a(e)}catch(e){return s.slice()}}(e):a(n(e))}},function(e,t,r){"use strict";var n=r(20),a=r(82),i=r(138),s=r(118),o=r(23),c=r(117),u=Object.assign;e.exports=!u||r(14)((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n}))?function(e,t){for(var r=o(e),u=arguments.length,l=1,d=i.f,h=s.f;u>l;)for(var p,f=c(arguments[l++]),m=d?a(f).concat(d(f)):a(f),g=m.length,y=0;g>y;)p=m[y++],n&&!h.call(f,p)||(r[p]=f[p]);return r}:u},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,r){"use strict";var n=r(29),a=r(15),i=r(386),s=[].slice,o={},c=function(e,t,r){if(!(t in o)){for(var n=[],a=0;a<t;a++)n[a]="a["+a+"]";o[t]=Function("F,a","return new F("+n.join(",")+")")}return o[t](e,r)};e.exports=Function.bind||function(e){var t=n(this),r=s.call(arguments,1),o=function(){var n=r.concat(s.call(arguments));return this instanceof o?c(t,n.length,n):i(t,n,e)};return a(t.prototype)&&(o.prototype=t.prototype),o}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(13).parseInt,a=r(99).trim,i=r(203),s=/^[-+]?0[xX]/;e.exports=8!==n(i+"08")||22!==n(i+"0x16")?function(e,t){var r=a(String(e),3);return n(r,t>>>0||(s.test(r)?16:10))}:n},function(e,t,r){var n=r(13).parseFloat,a=r(99).trim;e.exports=1/n(r(203)+"-0")!=-1/0?function(e){var t=a(String(e),3),r=n(t);return 0===r&&"-"==t.charAt(0)?-0:r}:n},function(e,t,r){var n=r(44);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},function(e,t,r){var n=r(15),a=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&a(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,r){var n=r(206),a=Math.pow,i=a(2,-52),s=a(2,-23),o=a(2,127)*(2-s),c=a(2,-126);e.exports=Math.fround||function(e){var t,r,a=Math.abs(e),u=n(e);return a<c?u*(a/c/s+1/i-1/i)*c*s:(r=(t=(1+s/i)*a)-(t-a))>o||r!=r?u*(1/0):u*r}},function(e,t,r){var n=r(10);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,r){var n=r(29),a=r(23),i=r(117),s=r(18);e.exports=function(e,t,r,o,c){n(t);var u=a(e),l=i(u),d=s(u.length),h=c?d-1:0,p=c?-1:1;if(r<2)for(;;){if(h in l){o=l[h],h+=p;break}if(h+=p,c?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;c?h>=0:d>h;h+=p)h in l&&(o=t(o,l[h],h,u));return o}},function(e,t,r){"use strict";var n=r(23),a=r(83),i=r(18);e.exports=[].copyWithin||function(e,t){var r=n(this),s=i(r.length),o=a(e,s),c=a(t,s),u=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===u?s:a(u,s))-c,s-o),d=1;for(c<o&&o<c+l&&(d=-1,c+=l-1,o+=l-1);l-- >0;)c in r?r[o]=r[c]:delete r[o],o+=d,c+=d;return r}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n=r(218);r(4)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(e,t,r){r(20)&&"g"!=/./g.flags&&r(21).f(RegExp.prototype,"flags",{configurable:!0,get:r(119)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(10),a=r(15),i=r(222);e.exports=function(e,t){if(n(e),a(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var n=r(402),a=r(90);e.exports=r(146)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=n.getEntry(a(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(a(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,r){"use strict";var n=r(21).f,a=r(84),i=r(89),s=r(43),o=r(87),c=r(88),u=r(208),l=r(396),d=r(86),h=r(20),p=r(65).fastKey,f=r(90),m=h?"_s":"size",g=function(e,t){var r,n=p(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,u){var l=e((function(e,n){o(e,l,t,"_i"),e._t=t,e._i=a(null),e._f=void 0,e._l=void 0,e[m]=0,null!=n&&c(n,r,e[u],e)}));return i(l.prototype,{clear:function(){for(var e=f(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var r=f(this,t),n=g(r,e);if(n){var a=n.n,i=n.p;delete r._i[n.i],n.r=!0,i&&(i.n=a),a&&(a.p=i),r._f==n&&(r._f=a),r._l==n&&(r._l=i),r[m]--}return!!n},forEach:function(e){f(this,t);for(var r,n=s(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!g(f(this,t),e)}}),h&&n(l.prototype,"size",{get:function(){return f(this,t)[m]}}),l},def:function(e,t,r){var n,a,i=g(e,t);return i?i.v=r:(e._l=i={i:a=p(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[m]++,"F"!==a&&(e._i[a]=i)),e},getEntry:g,setStrong:function(e,t,r){u(e,t,(function(e,r){this._t=f(e,t),this._k=r,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))}),r?"entries":"values",!r,!0),d(t)}}},function(e,t,r){"use strict";var n=r(402),a=r(90);e.exports=r(146)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(a(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,r){"use strict";var n,a=r(13),i=r(51)(0),s=r(33),o=r(65),c=r(383),u=r(405),l=r(15),d=r(90),h=r(90),p=!a.ActiveXObject&&"ActiveXObject"in a,f=o.getWeak,m=Object.isExtensible,g=u.ufstore,y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(l(e)){var t=f(e);return!0===t?g(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(d(this,"WeakMap"),e,t)}},v=e.exports=r(146)("WeakMap",y,b,u,!0,!0);h&&p&&(c((n=u.getConstructor(y,"WeakMap")).prototype,b),o.NEED=!0,i(["delete","has","get","set"],(function(e){var t=v.prototype,r=t[e];s(t,e,(function(t,a){if(l(t)&&!m(t)){this._f||(this._f=new n);var i=this._f[e](t,a);return"set"==e?this:i}return r.call(this,t,a)}))})))},function(e,t,r){"use strict";var n=r(89),a=r(65).getWeak,i=r(10),s=r(15),o=r(87),c=r(88),u=r(51),l=r(35),d=r(90),h=u(5),p=u(6),f=0,m=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},y=function(e,t){return h(e.a,(function(e){return e[0]===t}))};g.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var r=y(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,i){var u=e((function(e,n){o(e,u,t,"_i"),e._t=t,e._i=f++,e._l=void 0,null!=n&&c(n,r,e[i],e)}));return n(u.prototype,{delete:function(e){if(!s(e))return!1;var r=a(e);return!0===r?m(d(this,t)).delete(e):r&&l(r,this._i)&&delete r[this._i]},has:function(e){if(!s(e))return!1;var r=a(e);return!0===r?m(d(this,t)).has(e):r&&l(r,this._i)}}),u},def:function(e,t,r){var n=a(i(t),!0);return!0===n?m(e).set(t,r):n[e._i]=r,e},ufstore:m}},function(e,t,r){var n=r(45),a=r(18);e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=a(t);if(t!==r)throw RangeError("Wrong length!");return r}},function(e,t,r){var n=r(85),a=r(138),i=r(10),s=r(13).Reflect;e.exports=s&&s.ownKeys||function(e){var t=n.f(i(e)),r=a.f;return r?t.concat(r(e)):t}},function(e,t,r){"use strict";var n=r(139),a=r(15),i=r(18),s=r(43),o=r(17)("isConcatSpreadable");e.exports=function e(t,r,c,u,l,d,h,p){for(var f,m,g=l,y=0,b=!!h&&s(h,p,3);y<u;){if(y in c){if(f=b?b(c[y],y,r):c[y],m=!1,a(f)&&(m=void 0!==(m=f[o])?!!m:n(f)),m&&d>0)g=e(t,r,f,i(f.length),g,d-1)-1;else{if(g>=9007199254740991)throw TypeError();t[g]=f}g++}y++}return g}},function(e,t,r){var n=r(18),a=r(205),i=r(49);e.exports=function(e,t,r,s){var o=String(i(e)),c=o.length,u=void 0===r?" ":String(r),l=n(t);if(l<=c||""==u)return o;var d=l-c,h=a.call(u,Math.ceil(d/u.length));return h.length>d&&(h=h.slice(0,d)),s?h+o:o+h}},function(e,t,r){var n=r(20),a=r(82),i=r(36),s=r(118).f;e.exports=function(e){return function(t){for(var r,o=i(t),c=a(o),u=c.length,l=0,d=[];u>l;)r=c[l++],n&&!s.call(o,r)||d.push(e?[r,o[r]]:o[r]);return d}}},function(e,t,r){var n=r(98),a=r(412);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return a(this)}}},function(e,t,r){var n=r(88);e.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},function(e,t){e.exports=Math.scale||function(e,t,r,n,a){return 0===arguments.length||e!=e||t!=t||r!=r||n!=n||a!=a?NaN:e===1/0||e===-1/0?e:(e-t)*(a-n)/(r-t)+n}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";var n=r(9).Buffer,a=r(416).Transform;function i(e){a.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(7)(i,a),i.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},i.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},i.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,a=0;this._blockOffset+e.length-a>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[a++];this._update(),this._blockOffset=0}for(;a<e.length;)r[this._blockOffset++]=e[a++];for(var s=0,o=8*e.length;o>0;++s)this._length[s]+=o,(o=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*o);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=i},function(e,t,r){(t=e.exports=r(417)).Stream=t,t.Readable=t,t.Writable=r(421),t.Duplex=r(104),t.Transform=r(423),t.PassThrough=r(882),t.finished=r(225),t.pipeline=r(883)},function(e,t,r){"use strict";(function(t,n){var a;e.exports=O,O.ReadableState=S;r(67).EventEmitter;var i=function(e,t){return e.listeners(t).length},s=r(418),o=r(11).Buffer,c=t.Uint8Array||function(){};var u,l=r(877);u=l&&l.debuglog?l.debuglog("stream"):function(){};var d,h,p,f=r(878),m=r(419),g=r(420).getHighWaterMark,y=r(103).codes,b=y.ERR_INVALID_ARG_TYPE,v=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(7)(O,s);var x=m.errorOrDestroy,k=["error","close","destroy","pause","resume"];function S(e,t,n){a=a||r(104),e=e||{},"boolean"!=typeof n&&(n=t instanceof a),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",n),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(105).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function O(e){if(a=a||r(104),!(this instanceof O))return new O(e);var t=this instanceof a;this._readableState=new S(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function P(e,t,r,n,a){u("readableAddChunk",t);var i,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?C(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}(e,s);else if(a||(i=function(e,t){var r;n=t,o.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(s,t)),i)x(e,i);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===o.prototype||(t=function(e){return o.from(e)}(t)),n)s.endEmitted?x(e,new w):E(e,s,t,!0);else if(s.ended)x(e,new v);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?E(e,s,t,!1):D(e,s)):E(e,s,t,!1)}else n||(s.reading=!1,D(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function E(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&C(e)),D(e,t)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),O.prototype.destroy=m.destroy,O.prototype._undestroy=m.undestroy,O.prototype._destroy=function(e,t){t(e)},O.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=o.from(e,t),t=""),r=!0),P(this,e,t,!1,r)},O.prototype.unshift=function(e){return P(this,e,null,!0,!1)},O.prototype.isPaused=function(){return!1===this._readableState.flowing},O.prototype.setEncoding=function(e){d||(d=r(105).StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,a="";null!==n;)a+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==a&&this._readableState.buffer.push(a),this._readableState.length=a.length,this};function A(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(T,e))}function T(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,B(e)}function D(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(j,e,t))}function j(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(u("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function M(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function I(e){u("readable nexttick read 0"),e.read(0)}function R(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function F(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(q,t,e))}function q(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function L(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}O.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?F(this):C(this),null;if(0===(e=A(e,t))&&t.ended)return 0===t.length&&F(this),null;var n,a=t.needReadable;return u("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",a=!0),t.ended||t.reading?u("reading or ended",a=!1):a&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=A(r,t))),null===(n=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&F(this)),null!==n&&this.emit("data",n),n},O.prototype._read=function(e){x(this,new _("_read()"))},O.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,u("pipe count=%d opts=%j",a.pipesCount,t);var s=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?c:g;function o(t,n){u("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,u("cleanup"),e.removeListener("close",f),e.removeListener("finish",m),e.removeListener("drain",l),e.removeListener("error",p),e.removeListener("unpipe",o),r.removeListener("end",c),r.removeListener("end",g),r.removeListener("data",h),d=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function c(){u("onend"),e.end()}a.endEmitted?n.nextTick(s):r.once("end",s),e.on("unpipe",o);var l=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,B(e))}}(r);e.on("drain",l);var d=!1;function h(t){u("ondata");var n=e.write(t);u("dest.write",n),!1===n&&((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==L(a.pipes,e))&&!d&&(u("false write response, pause",a.awaitDrain),a.awaitDrain++),r.pause())}function p(t){u("onerror",t),g(),e.removeListener("error",p),0===i(e,"error")&&x(e,t)}function f(){e.removeListener("finish",m),g()}function m(){u("onfinish"),e.removeListener("close",f),g()}function g(){u("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",p),e.once("close",f),e.once("finish",m),e.emit("pipe",r),a.flowing||(u("pipe resume"),r.resume()),e},O.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var s=L(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},O.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),a=this._readableState;return"data"===e?(a.readableListening=this.listenerCount("readable")>0,!1!==a.flowing&&this.resume()):"readable"===e&&(a.endEmitted||a.readableListening||(a.readableListening=a.needReadable=!0,a.flowing=!1,a.emittedReadable=!1,u("on readable",a.length,a.reading),a.length?C(this):a.reading||n.nextTick(I,this))),r},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(M,this),r},O.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(M,this),t},O.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(R,e,t))}(this,e)),e.paused=!1,this},O.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},O.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var a in e.on("end",(function(){if(u("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(a){(u("wrapped data"),r.decoder&&(a=r.decoder.write(a)),r.objectMode&&null==a)||(r.objectMode||a&&a.length)&&(t.push(a)||(n=!0,e.pause()))})),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<k.length;i++)e.on(k[i],this.emit.bind(this,k[i]));return this._read=function(t){u("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(O.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(880)),h(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),O._fromList=N,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(O.from=function(e,t){return void 0===p&&(p=r(881)),p(O,e,t)})}).call(this,r(26),r(19))},function(e,t,r){e.exports=r(67).EventEmitter},function(e,t,r){"use strict";(function(t){function r(e,t){a(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var s=this,o=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return o||c?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(a,this,e)):t.nextTick(a,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?s._writableState?s._writableState.errorEmitted?t.nextTick(n,s):(s._writableState.errorEmitted=!0,t.nextTick(r,s,e)):t.nextTick(r,s,e):i?(t.nextTick(n,s),i(e)):t.nextTick(n,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,r(19))},function(e,t,r){"use strict";var n=r(103).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,a){var i=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,a,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new n(a?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";(function(t,n){function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var a=n.callback;t.pendingcb--,a(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=O,O.WritableState=S;var s={deprecate:r(422)},o=r(418),c=r(11).Buffer,u=t.Uint8Array||function(){};var l,d=r(419),h=r(420).getHighWaterMark,p=r(103).codes,f=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,b=p.ERR_STREAM_DESTROYED,v=p.ERR_STREAM_NULL_VALUES,_=p.ERR_STREAM_WRITE_AFTER_END,w=p.ERR_UNKNOWN_ENCODING,x=d.errorOrDestroy;function k(){}function S(e,t,s){i=i||r(104),e=e||{},"boolean"!=typeof s&&(s=t instanceof i),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,a=r.sync,i=r.writecb;if("function"!=typeof i)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,a,i){--t.pendingcb,r?(n.nextTick(i,a),n.nextTick(D,e,t),e._writableState.errorEmitted=!0,x(e,a)):(i(a),e._writableState.errorEmitted=!0,x(e,a),D(e,t))}(e,r,a,t,i);else{var s=C(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||A(e,r),a?n.nextTick(E,e,r,s,i):E(e,r,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function O(e){var t=this instanceof(i=i||r(104));if(!t&&!l.call(O,this))return new O(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),o.call(this)}function P(e,t,r,n,a,i,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function E(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),D(e,t)}function A(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,c=!0;r;)i[o]=r,r.isBuf||(c=!1),r=r.next,o+=1;i.allBuffers=c,P(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,d=r.callback;if(P(e,t,!1,t.objectMode?1:u.length,u,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(r){t.pendingcb--,r&&x(e,r),t.prefinished=!0,e.emit("prefinish"),D(e,t)}))}function D(e,t){var r=C(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var a=e._readableState;(!a||a.autoDestroy&&a.endEmitted)&&e.destroy()}return r}r(7)(O,o),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(e){return!!l.call(this,e)||this===O&&(e&&e._writableState instanceof S)}})):l=function(e){return e instanceof this},O.prototype.pipe=function(){x(this,new y)},O.prototype.write=function(e,t,r){var a,i=this._writableState,s=!1,o=!i.objectMode&&(a=e,c.isBuffer(a)||a instanceof u);return o&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=k),i.ending?function(e,t){var r=new _;x(e,r),n.nextTick(t,r)}(this,r):(o||function(e,t,r,a){var i;return null===r?i=new v:"string"==typeof r||t.objectMode||(i=new f("chunk",["string","Buffer"],r)),!i||(x(e,i),n.nextTick(a,i),!1)}(this,i,e,r))&&(i.pendingcb++,s=function(e,t,r,n,a,i){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r));return t}(t,n,a);n!==s&&(r=!0,a="buffer",n=s)}var o=t.objectMode?1:n.length;t.length+=o;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:i,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else P(e,t,!1,o,n,a,i);return u}(this,i,o,e,t,r)),s},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||A(this,e))},O.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),O.prototype._write=function(e,t,r){r(new m("_write()"))},O.prototype._writev=null,O.prototype.end=function(e,t,r){var a=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),a.corked&&(a.corked=1,this.uncork()),a.ending||function(e,t,r){t.ending=!0,D(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,a,r),this},Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),O.prototype.destroy=d.destroy,O.prototype._undestroy=d.undestroy,O.prototype._destroy=function(e,t){t(e)}}).call(this,r(26),r(19))},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(26))},function(e,t,r){"use strict";e.exports=l;var n=r(103).codes,a=n.ERR_METHOD_NOT_IMPLEMENTED,i=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(104);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}r(7)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new a("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,r){var n=r(7),a=r(106),i=r(9).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function c(){this.init(),this._w=o,a.call(this,64,56)}function u(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function d(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function h(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function p(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function f(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}n(c,a),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,a=0|this._c,i=0|this._d,o=0|this._e,c=0|this._f,m=0|this._g,g=0|this._h,y=0;y<16;++y)t[y]=e.readInt32BE(4*y);for(;y<64;++y)t[y]=f(t[y-2])+t[y-7]+p(t[y-15])+t[y-16]|0;for(var b=0;b<64;++b){var v=g+h(o)+u(o,c,m)+s[b]+t[b]|0,_=d(r)+l(r,n,a)|0;g=m,m=c,c=o,o=i+v|0,i=a,a=n,n=r,r=v+_|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0,this._f=c+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},c.prototype._hash=function(){var e=i.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},function(e,t,r){var n=r(7),a=r(106),i=r(9).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function c(){this.init(),this._w=o,a.call(this,128,112)}function u(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function d(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function h(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function f(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function y(e,t){return e>>>0<t>>>0?1:0}n(c,a),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,a=0|this._ch,i=0|this._dh,o=0|this._eh,c=0|this._fh,b=0|this._gh,v=0|this._hh,_=0|this._al,w=0|this._bl,x=0|this._cl,k=0|this._dl,S=0|this._el,O=0|this._fl,P=0|this._gl,E=0|this._hl,A=0;A<32;A+=2)t[A]=e.readInt32BE(4*A),t[A+1]=e.readInt32BE(4*A+4);for(;A<160;A+=2){var C=t[A-30],T=t[A-30+1],D=p(C,T),j=f(T,C),M=m(C=t[A-4],T=t[A-4+1]),I=g(T,C),R=t[A-14],B=t[A-14+1],N=t[A-32],F=t[A-32+1],q=j+B|0,L=D+R+y(q,j)|0;L=(L=L+M+y(q=q+I|0,I)|0)+N+y(q=q+F|0,F)|0,t[A]=L,t[A+1]=q}for(var H=0;H<160;H+=2){L=t[H],q=t[H+1];var U=l(r,n,a),z=l(_,w,x),V=d(r,_),G=d(_,r),W=h(o,S),K=h(S,o),Y=s[H],X=s[H+1],J=u(o,c,b),Q=u(S,O,P),Z=E+K|0,$=v+W+y(Z,E)|0;$=($=($=$+J+y(Z=Z+Q|0,Q)|0)+Y+y(Z=Z+X|0,X)|0)+L+y(Z=Z+q|0,q)|0;var ee=G+z|0,te=V+U+y(ee,G)|0;v=b,E=P,b=c,P=O,c=o,O=S,o=i+$+y(S=k+Z|0,k)|0,i=a,k=x,a=n,x=w,n=r,w=_,r=$+te+y(_=Z+ee|0,Z)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+x|0,this._dl=this._dl+k|0,this._el=this._el+S|0,this._fl=this._fl+O|0,this._gl=this._gl+P|0,this._hl=this._hl+E|0,this._ah=this._ah+r+y(this._al,_)|0,this._bh=this._bh+n+y(this._bl,w)|0,this._ch=this._ch+a+y(this._cl,x)|0,this._dh=this._dh+i+y(this._dl,k)|0,this._eh=this._eh+o+y(this._el,S)|0,this._fh=this._fh+c+y(this._fl,O)|0,this._gh=this._gh+b+y(this._gl,P)|0,this._hh=this._hh+v+y(this._hl,E)|0},c.prototype._hash=function(){var e=i.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},function(e,t,r){"use strict";(function(t,n){var a=r(151);e.exports=v;var i,s=r(414);v.ReadableState=b;r(67).EventEmitter;var o=function(e,t){return e.listeners(t).length},c=r(427),u=r(229).Buffer,l=t.Uint8Array||function(){};var d=Object.create(r(121));d.inherits=r(7);var h=r(889),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var f,m=r(890),g=r(428);d.inherits(v,c);var y=["error","close","destroy","pause","resume"];function b(e,t){e=e||{};var n=t instanceof(i=i||r(91));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var a=e.highWaterMark,s=e.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:n&&(s||0===s)?s:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(105).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function v(e){if(i=i||r(91),!(this instanceof v))return new v(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),c.call(this)}function _(e,t,r,n,a){var i,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,k(e)}(e,s)):(a||(i=function(e,t){var r;n=t,u.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(s,t)),i?e.emit("error",i):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?w(e,s,t,!1):O(e,s)):w(e,s,t,!1))):n||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function w(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),O(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=u.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},v.prototype.unshift=function(e){return _(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return f||(f=r(105).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?a.nextTick(S,e):S(e))}function S(e){p("emit readable"),e.emit("readable"),C(e)}function O(e,t){t.readingMore||(t.readingMore=!0,a.nextTick(P,e,t))}function P(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function E(e){p("readable nexttick read 0"),e.read(0)}function A(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),C(e),t.flowing&&!t.reading&&e.read(0)}function C(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function T(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,a=r.data;e-=a.length;for(;r=r.next;){var i=r.data,s=e>i.length?i.length:e;if(s===i.length?a+=i:a+=i.slice(0,e),0===(e-=s)){s===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(s));break}++n}return t.length-=n,a}(e,t):function(e,t){var r=u.allocUnsafe(e),n=t.head,a=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var i=n.data,s=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,s),0===(e-=s)){s===i.length?(++a,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(s));break}++a}return t.length-=a,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function D(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,a.nextTick(j,t,e))}function j(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function M(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}v.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):k(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&D(this),null;var n,a=t.needReadable;return p("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",a=!0),t.ended||t.reading?p("reading or ended",a=!1):a&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?T(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==n&&this.emit("data",n),n},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,p("pipe count=%d opts=%j",i.pipesCount,t);var c=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?l:v;function u(t,n){p("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,p("cleanup"),e.removeListener("close",y),e.removeListener("finish",b),e.removeListener("drain",d),e.removeListener("error",g),e.removeListener("unpipe",u),r.removeListener("end",l),r.removeListener("end",v),r.removeListener("data",m),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function l(){p("onend"),e.end()}i.endEmitted?a.nextTick(c):r.once("end",c),e.on("unpipe",u);var d=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,C(e))}}(r);e.on("drain",d);var h=!1;var f=!1;function m(t){p("ondata"),f=!1,!1!==e.write(t)||f||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==M(i.pipes,e))&&!h&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function g(t){p("onerror",t),v(),e.removeListener("error",g),0===o(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",b),v()}function b(){p("onfinish"),e.removeListener("close",y),v()}function v(){p("unpipe"),r.unpipe(e)}return r.on("data",m),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",b),e.emit("pipe",r),i.flowing||(p("pipe resume"),r.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)n[i].emit("unpipe",this,r);return this}var s=M(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},v.prototype.on=function(e,t){var r=c.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&k(this):a.nextTick(E,this))}return r},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,a.nextTick(A,e,t))}(this,e)),this},v.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var a in e.on("end",(function(){if(p("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(a){(p("wrapped data"),r.decoder&&(a=r.decoder.write(a)),r.objectMode&&null==a)||(r.objectMode||a&&a.length)&&(t.push(a)||(n=!0,e.pause()))})),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<y.length;i++)e.on(y[i],this.emit.bind(this,y[i]));return this._read=function(t){p("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=T}).call(this,r(26),r(19))},function(e,t,r){e.exports=r(67).EventEmitter},function(e,t,r){"use strict";var n=r(151);function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return i||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(a,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(a,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(a.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(892),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(26))},function(e,t,r){"use strict";e.exports=s;var n=r(91),a=Object.create(r(121));function i(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){c(e,t,r)})):c(this,null,null)}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a.inherits=r(7),a.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},function(e,t,r){"use strict";var n=r(7),a=r(898),i=r(69),s=r(9).Buffer,o=r(432),c=r(226),u=r(227),l=s.alloc(128);function d(e,t){i.call(this,"digest"),"string"==typeof t&&(t=s.from(t));var r="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>r)?t=("rmd160"===e?new c:u(e)).update(t).digest():t.length<r&&(t=s.concat([t,l],r));for(var n=this._ipad=s.allocUnsafe(r),a=this._opad=s.allocUnsafe(r),o=0;o<r;o++)n[o]=54^t[o],a[o]=92^t[o];this._hash="rmd160"===e?new c:u(e),this._hash.update(n)}n(d,i),d.prototype._update=function(e){this._hash.update(e)},d.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new d("rmd160",t):"md5"===e?new a(o,t):new d(e,t)}},function(e,t,r){var n=r(224);e.exports=function(e){return(new n).update(e).digest()}},function(e){e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},function(e,t,r){t.pbkdf2=r(900),t.pbkdf2Sync=r(437)},function(e,t){var r=Math.pow(2,30)-1;e.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>r||t!=t)throw new TypeError("Bad key length")}},function(e,t,r){(function(t,r){var n;if(t.process&&t.process.browser)n="utf-8";else if(t.process&&t.process.version){n=parseInt(r.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else n="utf-8";e.exports=n}).call(this,r(26),r(19))},function(e,t,r){var n=r(432),a=r(226),i=r(227),s=r(9).Buffer,o=r(435),c=r(436),u=r(438),l=s.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(e,t,r){var o=function(e){function t(t){return i(e).update(t).digest()}return"rmd160"===e||"ripemd160"===e?function(e){return(new a).update(e).digest()}:"md5"===e?n:t}(e),c="sha512"===e||"sha384"===e?128:64;t.length>c?t=o(t):t.length<c&&(t=s.concat([t,l],c));for(var u=s.allocUnsafe(c+d[e]),h=s.allocUnsafe(c+d[e]),p=0;p<c;p++)u[p]=54^t[p],h[p]=92^t[p];var f=s.allocUnsafe(c+r+4);u.copy(f,0,0,c),this.ipad1=f,this.ipad2=u,this.opad=h,this.alg=e,this.blocksize=c,this.hash=o,this.size=d[e]}h.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,r,n,a){o(r,n);var i=new h(a=a||"sha1",e=u(e,c,"Password"),(t=u(t,c,"Salt")).length),l=s.allocUnsafe(n),p=s.allocUnsafe(t.length+4);t.copy(p,0,0,t.length);for(var f=0,m=d[a],g=Math.ceil(n/m),y=1;y<=g;y++){p.writeUInt32BE(y,t.length);for(var b=i.run(p,i.ipad1),v=b,_=1;_<r;_++){v=i.run(v,i.ipad2);for(var w=0;w<m;w++)b[w]^=v[w]}b.copy(l,f),f+=m}return l}},function(e,t,r){var n=r(9).Buffer;e.exports=function(e,t,r){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,t);if(ArrayBuffer.isView(e))return n.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},function(e,t,r){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},t.ip=function(e,t,r,n){for(var a=0,i=0,s=6;s>=0;s-=2){for(var o=0;o<=24;o+=8)a<<=1,a|=t>>>o+s&1;for(o=0;o<=24;o+=8)a<<=1,a|=e>>>o+s&1}for(s=6;s>=0;s-=2){for(o=1;o<=25;o+=8)i<<=1,i|=t>>>o+s&1;for(o=1;o<=25;o+=8)i<<=1,i|=e>>>o+s&1}r[n+0]=a>>>0,r[n+1]=i>>>0},t.rip=function(e,t,r,n){for(var a=0,i=0,s=0;s<4;s++)for(var o=24;o>=0;o-=8)a<<=1,a|=t>>>o+s&1,a<<=1,a|=e>>>o+s&1;for(s=4;s<8;s++)for(o=24;o>=0;o-=8)i<<=1,i|=t>>>o+s&1,i<<=1,i|=e>>>o+s&1;r[n+0]=a>>>0,r[n+1]=i>>>0},t.pc1=function(e,t,r,n){for(var a=0,i=0,s=7;s>=5;s--){for(var o=0;o<=24;o+=8)a<<=1,a|=t>>o+s&1;for(o=0;o<=24;o+=8)a<<=1,a|=e>>o+s&1}for(o=0;o<=24;o+=8)a<<=1,a|=t>>o+s&1;for(s=1;s<=3;s++){for(o=0;o<=24;o+=8)i<<=1,i|=t>>o+s&1;for(o=0;o<=24;o+=8)i<<=1,i|=e>>o+s&1}for(o=0;o<=24;o+=8)i<<=1,i|=e>>o+s&1;r[n+0]=a>>>0,r[n+1]=i>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,r,a){for(var i=0,s=0,o=n.length>>>1,c=0;c<o;c++)i<<=1,i|=e>>>n[c]&1;for(c=o;c<n.length;c++)s<<=1,s|=t>>>n[c]&1;r[a+0]=i>>>0,r[a+1]=s>>>0},t.expand=function(e,t,r){var n=0,a=0;n=(1&e)<<5|e>>>27;for(var i=23;i>=15;i-=4)n<<=6,n|=e>>>i&63;for(i=11;i>=3;i-=4)a|=e>>>i&63,a<<=6;a|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=a>>>0};var a=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var r=0,n=0;n<4;n++){r<<=4,r|=a[64*n+(e>>>18-6*n&63)]}for(n=0;n<4;n++){r<<=4,r|=a[256+64*n+(t>>>18-6*n&63)]}return r>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,r=0;r<i.length;r++)t<<=1,t|=e>>>i[r]&1;return t>>>0},t.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var a=[],i=0;i<t;i+=r)a.push(n.slice(i,i+r));return a.join(" ")}},function(e,t,r){"use strict";var n=r(39),a=r(7),i=r(439),s=r(231);function o(){this.tmp=new Array(2),this.keys=null}function c(e){s.call(this,e);var t=new o;this._desState=t,this.deriveKeys(t,e.key)}a(c,s),e.exports=c,c.create=function(e){return new c(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var r=i.readUInt32BE(t,0),a=i.readUInt32BE(t,4);i.pc1(r,a,e.tmp,0),r=e.tmp[0],a=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var o=u[s>>>1];r=i.r28shl(r,o),a=i.r28shl(a,o),i.pc2(r,a,e.keys,s)}},c.prototype._update=function(e,t,r,n){var a=this._desState,s=i.readUInt32BE(e,t),o=i.readUInt32BE(e,t+4);i.ip(s,o,a.tmp,0),s=a.tmp[0],o=a.tmp[1],"encrypt"===this.type?this._encrypt(a,s,o,a.tmp,0):this._decrypt(a,s,o,a.tmp,0),s=a.tmp[0],o=a.tmp[1],i.writeUInt32BE(r,s,n),i.writeUInt32BE(r,o,n+4)},c.prototype._pad=function(e,t){for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},c.prototype._unpad=function(e){for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)n.equal(e[r],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,r,n,a){for(var s=t,o=r,c=0;c<e.keys.length;c+=2){var u=e.keys[c],l=e.keys[c+1];i.expand(o,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var d=i.substitute(u,l),h=o;o=(s^i.permute(d))>>>0,s=h}i.rip(o,s,n,a)},c.prototype._decrypt=function(e,t,r,n,a){for(var s=r,o=t,c=e.keys.length-2;c>=0;c-=2){var u=e.keys[c],l=e.keys[c+1];i.expand(s,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var d=i.substitute(u,l),h=s;s=(o^i.permute(d))>>>0,o=h}i.rip(s,o,n,a)}},function(e,t,r){var n=r(122),a=r(9).Buffer,i=r(442);function s(e){var t=e._cipher.encryptBlockRaw(e._prev);return i(e._prev),t}t.encrypt=function(e,t){var r=Math.ceil(t.length/16),i=e._cache.length;e._cache=a.concat([e._cache,a.allocUnsafe(16*r)]);for(var o=0;o<r;o++){var c=s(e),u=i+16*o;e._cache.writeUInt32BE(c[0],u+0),e._cache.writeUInt32BE(c[1],u+4),e._cache.writeUInt32BE(c[2],u+8),e._cache.writeUInt32BE(c[3],u+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,l)}},function(e,t){e.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}},function(e){e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},function(e,t,r){var n=r(152),a=r(9).Buffer,i=r(69),s=r(7),o=r(913),c=r(122),u=r(442);function l(e,t,r,s){i.call(this);var c=a.alloc(4,0);this._cipher=new n.AES(t);var l=this._cipher.encryptBlock(c);this._ghash=new o(l),r=function(e,t,r){if(12===t.length)return e._finID=a.concat([t,a.from([0,0,0,1])]),a.concat([t,a.from([0,0,0,2])]);var n=new o(r),i=t.length,s=i%16;n.update(t),s&&(s=16-s,n.update(a.alloc(s,0))),n.update(a.alloc(8,0));var c=8*i,l=a.alloc(8);l.writeUIntBE(c,0,8),n.update(l),e._finID=n.state;var d=a.from(e._finID);return u(d),d}(this,r,l),this._prev=a.from(r),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}s(l,i),l.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=a.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),a=0;a<n;++a)r+=e[a]^t[a];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!a.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},l.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=l},function(e,t,r){var n=r(152),a=r(9).Buffer,i=r(69);function s(e,t,r,s){i.call(this),this._cipher=new n.AES(t),this._prev=a.from(r),this._cache=a.allocUnsafe(0),this._secCache=a.allocUnsafe(0),this._decrypt=s,this._mode=e}r(7)(s,i),s.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},e.exports=s},function(e,t,r){var n=r(101);e.exports=b,b.simpleSieve=g,b.fermatTest=y;var a=r(8),i=new a(24),s=new(r(447)),o=new a(1),c=new a(2),u=new a(5),l=(new a(16),new a(8),new a(10)),d=new a(3),h=(new a(7),new a(11)),p=new a(4),f=(new a(12),null);function m(){if(null!==f)return f;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),a=0;a<t&&e[a]<=n&&r%e[a]!=0;a++);t!==a&&e[a]<=n||(e[t++]=r)}return f=e,e}function g(e){for(var t=m(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function y(e){var t=a.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function b(e,t){if(e<16)return new a(2===t||5===t?[140,123]:[140,39]);var r,f;for(t=new a(t);;){for(r=new a(n(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(o),r.testn(1)||r.iadd(c),t.cmp(c)){if(!t.cmp(u))for(;r.mod(l).cmp(d);)r.iadd(p)}else for(;r.mod(i).cmp(h);)r.iadd(p);if(g(f=r.shrn(1))&&g(r)&&y(f)&&y(r)&&s.test(f)&&s.test(r))return r}}},function(e,t,r){var n=r(8),a=r(234);function i(e){this.rand=e||new a.Rand}e.exports=i,i.create=function(e){return new i(e)},i.prototype._randbelow=function(e){var t=e.bitLength(),r=Math.ceil(t/8);do{var a=new n(this.rand.generate(r))}while(a.cmp(e)>=0);return a},i.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},i.prototype.test=function(e,t,r){var a=e.bitLength(),i=n.mont(e),s=new n(1).toRed(i);t||(t=Math.max(1,a/48|0));for(var o=e.subn(1),c=0;!o.testn(c);c++);for(var u=e.shrn(c),l=o.toRed(i);t>0;t--){var d=this._randrange(new n(2),o);r&&r(d);var h=d.toRed(i).redPow(u);if(0!==h.cmp(s)&&0!==h.cmp(l)){for(var p=1;p<c;p++){if(0===(h=h.redSqr()).cmp(s))return!1;if(0===h.cmp(l))break}if(p===c)return!1}}return!0},i.prototype.getDivisor=function(e,t){var r=e.bitLength(),a=n.mont(e),i=new n(1).toRed(a);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),o=0;!s.testn(o);o++);for(var c=e.shrn(o),u=s.toRed(a);t>0;t--){var l=this._randrange(new n(2),s),d=e.gcd(l);if(0!==d.cmpn(1))return d;var h=l.toRed(a).redPow(c);if(0!==h.cmp(i)&&0!==h.cmp(u)){for(var p=1;p<o;p++){if(0===(h=h.redSqr()).cmp(i))return h.fromRed().subn(1).gcd(e);if(0===h.cmp(u))break}if(p===o)return(h=h.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},function(e,t,r){"use strict";var n=t;function a(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var a=e.charCodeAt(n),i=a>>8,s=255&a;i?r.push(i,s):r.push(s)}return r},n.zero2=a,n.toHex=i,n.encode=function(e,t){return"hex"===t?i(e):e}},function(e,t,r){"use strict";var n=t;n.base=r(154),n.short=r(926),n.mont=r(927),n.edwards=r(928)},function(e,t,r){"use strict";var n=r(52).rotr32;function a(e,t,r){return e&t^~e&r}function i(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?a(t,r,n):1===e||3===e?s(t,r,n):2===e?i(t,r,n):void 0},t.ch32=a,t.maj32=i,t.p32=s,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},function(e,t,r){"use strict";var n=r(52),a=r(123),i=r(450),s=r(39),o=n.sum32,c=n.sum32_4,u=n.sum32_5,l=i.ch32,d=i.maj32,h=i.s0_256,p=i.s1_256,f=i.g0_256,m=i.g1_256,g=a.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}n.inherits(b,g),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(m(r[n-2]),r[n-7],f(r[n-15]),r[n-16]);var a=this.h[0],i=this.h[1],g=this.h[2],y=this.h[3],b=this.h[4],v=this.h[5],_=this.h[6],w=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var x=u(w,p(b),l(b,v,_),this.k[n],r[n]),k=o(h(a),d(a,i,g));w=_,_=v,v=b,b=o(y,x),y=g,g=i,i=a,a=o(x,k)}this.h[0]=o(this.h[0],a),this.h[1]=o(this.h[1],i),this.h[2]=o(this.h[2],g),this.h[3]=o(this.h[3],y),this.h[4]=o(this.h[4],b),this.h[5]=o(this.h[5],v),this.h[6]=o(this.h[6],_),this.h[7]=o(this.h[7],w)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";var n=r(52),a=r(123),i=r(39),s=n.rotr64_hi,o=n.rotr64_lo,c=n.shr64_hi,u=n.shr64_lo,l=n.sum64,d=n.sum64_hi,h=n.sum64_lo,p=n.sum64_4_hi,f=n.sum64_4_lo,m=n.sum64_5_hi,g=n.sum64_5_lo,y=a.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function _(e,t,r,n,a){var i=e&r^~e&a;return i<0&&(i+=4294967296),i}function w(e,t,r,n,a,i){var s=t&n^~t&i;return s<0&&(s+=4294967296),s}function x(e,t,r,n,a){var i=e&r^e&a^r&a;return i<0&&(i+=4294967296),i}function k(e,t,r,n,a,i){var s=t&n^t&i^n&i;return s<0&&(s+=4294967296),s}function S(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function O(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function E(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function A(e,t){var r=s(e,t,1)^s(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function C(e,t){var r=o(e,t,1)^o(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function T(e,t){var r=s(e,t,19)^s(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}function D(e,t){var r=o(e,t,19)^o(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(v,y),e.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var a=T(r[n-4],r[n-3]),i=D(r[n-4],r[n-3]),s=r[n-14],o=r[n-13],c=A(r[n-30],r[n-29]),u=C(r[n-30],r[n-29]),l=r[n-32],d=r[n-31];r[n]=p(a,i,s,o,c,u,l,d),r[n+1]=f(a,i,s,o,c,u,l,d)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4],u=this.h[5],p=this.h[6],f=this.h[7],y=this.h[8],b=this.h[9],v=this.h[10],A=this.h[11],C=this.h[12],T=this.h[13],D=this.h[14],j=this.h[15];i(this.k.length===r.length);for(var M=0;M<r.length;M+=2){var I=D,R=j,B=P(y,b),N=E(y,b),F=_(y,b,v,A,C),q=w(y,b,v,A,C,T),L=this.k[M],H=this.k[M+1],U=r[M],z=r[M+1],V=m(I,R,B,N,F,q,L,H,U,z),G=g(I,R,B,N,F,q,L,H,U,z);I=S(n,a),R=O(n,a),B=x(n,a,s,o,c),N=k(n,a,s,o,c,u);var W=d(I,R,B,N),K=h(I,R,B,N);D=C,j=T,C=v,T=A,v=y,A=b,y=d(p,f,V,G),b=h(f,f,V,G),p=c,f=u,c=s,u=o,s=n,o=a,n=d(V,G,W,K),a=h(V,G,W,K)}l(this.h,0,n,a),l(this.h,2,s,o),l(this.h,4,c,u),l(this.h,6,p,f),l(this.h,8,y,b),l(this.h,10,v,A),l(this.h,12,C,T),l(this.h,14,D,j)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){(function(e){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function a(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(943).Buffer}catch(e){}function o(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function c(e,t,r){var n=o(e,r);return r-1>=t&&(n|=o(e,r-1)<<4),n}function u(e,t,r,a){for(var i=0,s=0,o=Math.min(e.length,r),c=t;c<o;c++){var u=e.charCodeAt(c)-48;i*=a,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<a,"Invalid character"),i+=s}return i}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var a=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(a++,this.negative=1),a<e.length&&(16===t?this._parseHex(e,a,r):(this._parseBase(e,t,a),"le"===r&&this._initArray(this.toArray(),t,r)))},i.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var i,s,o=0;if("be"===r)for(a=e.length-1,i=0;a>=0;a-=3)s=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);else if("le"===r)for(a=0,i=0;a<e.length;a+=3)s=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);return this._strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var a,i=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)a=c(e,t,n)<<i,this.words[s]|=67108863&a,i>=18?(i-=18,s+=1,this.words[s]|=a>>>26):i+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)a=c(e,t,n)<<i,this.words[s]|=67108863&a,i>=18?(i-=18,s+=1,this.words[s]|=a>>>26):i+=8;this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,a=1;a<=67108863;a*=t)n++;n--,a=a/t|0;for(var i=e.length-r,s=i%n,o=Math.min(i,i-s)+r,c=0,l=r;l<o;l+=n)c=u(e,l,l+n,t),this.imuln(a),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(e,l,e.length,t),l=0;l<s;l++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){l(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){i.prototype.inspect=d}else i.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var a=0,i=0,s=0;s<this.length;s++){var o=this.words[s],c=(16777215&(o<<a|i)).toString(16);r=0!==(i=o>>>24-a&16777215)||s!==this.length-1?h[6-c.length]+c+r:c+r,(a+=2)>=26&&(a-=26,s--)}for(0!==i&&(r=i.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=p[e],l=f[e];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modrn(l).toString(e);r=(d=d.idivn(l)).isZero()?m+r:h[u-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function m(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var a=0|e.words[0],i=0|t.words[0],s=a*i,o=67108863&s,c=s/67108864|0;r.words[0]=o;for(var u=1;u<n;u++){for(var l=c>>>26,d=67108863&c,h=Math.min(u,t.length-1),p=Math.max(0,u-e.length+1);p<=h;p++){var f=u-p|0;l+=(s=(a=0|e.words[f])*(i=0|t.words[p])+d)/67108864|0,d=67108863&s}r.words[u]=0|d,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}i.prototype.toArrayLike=function(e,t,r){this._strip();var a=this.byteLength(),i=r||Math.max(1,a);n(a<=i,"byte array longer than desired length"),n(i>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,i);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,a),s},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,a=0,i=0;a<this.length;a++){var s=this.words[a]<<i|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===i?(r<e.length&&(e[r++]=s>>24&255),n=0,i=0):(n=s>>>24,i+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,a=0,i=0;a<this.length;a++){var s=this.words[a]<<i|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===i?(r>=0&&(e[r--]=s>>24&255),n=0,i=0):(n=s>>>24,i+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var a=0;a<t;a++)this.words[a]=67108863&~this.words[a];return r>0&&(this.words[a]=~this.words[a]&67108863>>26-r),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,a=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<a:this.words[r]&~(1<<a),this._strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var a=0,i=0;i<n.length;i++)t=(0|r.words[i])+(0|n.words[i])+a,this.words[i]=67108863&t,a=t>>>26;for(;0!==a&&i<r.length;i++)t=(0|r.words[i])+a,this.words[i]=67108863&t,a=t>>>26;if(this.length=r.length,0!==a)this.words[this.length]=a,this.length++;else if(r!==this)for(;i<r.length;i++)this.words[i]=r.words[i];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,a=this.cmp(e);if(0===a)return this.negative=0,this.length=1,this.words[0]=0,this;a>0?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)i=(t=(0|r.words[s])-(0|n.words[s])+i)>>26,this.words[s]=67108863&t;for(;0!==i&&s<r.length;s++)i=(t=(0|r.words[s])+i)>>26,this.words[s]=67108863&t;if(0===i&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var n,a,i,s=e.words,o=t.words,c=r.words,u=0,l=0|s[0],d=8191&l,h=l>>>13,p=0|s[1],f=8191&p,m=p>>>13,g=0|s[2],y=8191&g,b=g>>>13,v=0|s[3],_=8191&v,w=v>>>13,x=0|s[4],k=8191&x,S=x>>>13,O=0|s[5],P=8191&O,E=O>>>13,A=0|s[6],C=8191&A,T=A>>>13,D=0|s[7],j=8191&D,M=D>>>13,I=0|s[8],R=8191&I,B=I>>>13,N=0|s[9],F=8191&N,q=N>>>13,L=0|o[0],H=8191&L,U=L>>>13,z=0|o[1],V=8191&z,G=z>>>13,W=0|o[2],K=8191&W,Y=W>>>13,X=0|o[3],J=8191&X,Q=X>>>13,Z=0|o[4],$=8191&Z,ee=Z>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ae=0|o[6],ie=8191&ae,se=ae>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,le=0|o[8],de=8191&le,he=le>>>13,pe=0|o[9],fe=8191&pe,me=pe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(u+(n=Math.imul(d,H))|0)+((8191&(a=(a=Math.imul(d,U))+Math.imul(h,H)|0))<<13)|0;u=((i=Math.imul(h,U))+(a>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(f,H),a=(a=Math.imul(f,U))+Math.imul(m,H)|0,i=Math.imul(m,U);var ye=(u+(n=n+Math.imul(d,V)|0)|0)+((8191&(a=(a=a+Math.imul(d,G)|0)+Math.imul(h,V)|0))<<13)|0;u=((i=i+Math.imul(h,G)|0)+(a>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,H),a=(a=Math.imul(y,U))+Math.imul(b,H)|0,i=Math.imul(b,U),n=n+Math.imul(f,V)|0,a=(a=a+Math.imul(f,G)|0)+Math.imul(m,V)|0,i=i+Math.imul(m,G)|0;var be=(u+(n=n+Math.imul(d,K)|0)|0)+((8191&(a=(a=a+Math.imul(d,Y)|0)+Math.imul(h,K)|0))<<13)|0;u=((i=i+Math.imul(h,Y)|0)+(a>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(_,H),a=(a=Math.imul(_,U))+Math.imul(w,H)|0,i=Math.imul(w,U),n=n+Math.imul(y,V)|0,a=(a=a+Math.imul(y,G)|0)+Math.imul(b,V)|0,i=i+Math.imul(b,G)|0,n=n+Math.imul(f,K)|0,a=(a=a+Math.imul(f,Y)|0)+Math.imul(m,K)|0,i=i+Math.imul(m,Y)|0;var ve=(u+(n=n+Math.imul(d,J)|0)|0)+((8191&(a=(a=a+Math.imul(d,Q)|0)+Math.imul(h,J)|0))<<13)|0;u=((i=i+Math.imul(h,Q)|0)+(a>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,H),a=(a=Math.imul(k,U))+Math.imul(S,H)|0,i=Math.imul(S,U),n=n+Math.imul(_,V)|0,a=(a=a+Math.imul(_,G)|0)+Math.imul(w,V)|0,i=i+Math.imul(w,G)|0,n=n+Math.imul(y,K)|0,a=(a=a+Math.imul(y,Y)|0)+Math.imul(b,K)|0,i=i+Math.imul(b,Y)|0,n=n+Math.imul(f,J)|0,a=(a=a+Math.imul(f,Q)|0)+Math.imul(m,J)|0,i=i+Math.imul(m,Q)|0;var _e=(u+(n=n+Math.imul(d,$)|0)|0)+((8191&(a=(a=a+Math.imul(d,ee)|0)+Math.imul(h,$)|0))<<13)|0;u=((i=i+Math.imul(h,ee)|0)+(a>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,H),a=(a=Math.imul(P,U))+Math.imul(E,H)|0,i=Math.imul(E,U),n=n+Math.imul(k,V)|0,a=(a=a+Math.imul(k,G)|0)+Math.imul(S,V)|0,i=i+Math.imul(S,G)|0,n=n+Math.imul(_,K)|0,a=(a=a+Math.imul(_,Y)|0)+Math.imul(w,K)|0,i=i+Math.imul(w,Y)|0,n=n+Math.imul(y,J)|0,a=(a=a+Math.imul(y,Q)|0)+Math.imul(b,J)|0,i=i+Math.imul(b,Q)|0,n=n+Math.imul(f,$)|0,a=(a=a+Math.imul(f,ee)|0)+Math.imul(m,$)|0,i=i+Math.imul(m,ee)|0;var we=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(a=(a=a+Math.imul(d,ne)|0)+Math.imul(h,re)|0))<<13)|0;u=((i=i+Math.imul(h,ne)|0)+(a>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(C,H),a=(a=Math.imul(C,U))+Math.imul(T,H)|0,i=Math.imul(T,U),n=n+Math.imul(P,V)|0,a=(a=a+Math.imul(P,G)|0)+Math.imul(E,V)|0,i=i+Math.imul(E,G)|0,n=n+Math.imul(k,K)|0,a=(a=a+Math.imul(k,Y)|0)+Math.imul(S,K)|0,i=i+Math.imul(S,Y)|0,n=n+Math.imul(_,J)|0,a=(a=a+Math.imul(_,Q)|0)+Math.imul(w,J)|0,i=i+Math.imul(w,Q)|0,n=n+Math.imul(y,$)|0,a=(a=a+Math.imul(y,ee)|0)+Math.imul(b,$)|0,i=i+Math.imul(b,ee)|0,n=n+Math.imul(f,re)|0,a=(a=a+Math.imul(f,ne)|0)+Math.imul(m,re)|0,i=i+Math.imul(m,ne)|0;var xe=(u+(n=n+Math.imul(d,ie)|0)|0)+((8191&(a=(a=a+Math.imul(d,se)|0)+Math.imul(h,ie)|0))<<13)|0;u=((i=i+Math.imul(h,se)|0)+(a>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(j,H),a=(a=Math.imul(j,U))+Math.imul(M,H)|0,i=Math.imul(M,U),n=n+Math.imul(C,V)|0,a=(a=a+Math.imul(C,G)|0)+Math.imul(T,V)|0,i=i+Math.imul(T,G)|0,n=n+Math.imul(P,K)|0,a=(a=a+Math.imul(P,Y)|0)+Math.imul(E,K)|0,i=i+Math.imul(E,Y)|0,n=n+Math.imul(k,J)|0,a=(a=a+Math.imul(k,Q)|0)+Math.imul(S,J)|0,i=i+Math.imul(S,Q)|0,n=n+Math.imul(_,$)|0,a=(a=a+Math.imul(_,ee)|0)+Math.imul(w,$)|0,i=i+Math.imul(w,ee)|0,n=n+Math.imul(y,re)|0,a=(a=a+Math.imul(y,ne)|0)+Math.imul(b,re)|0,i=i+Math.imul(b,ne)|0,n=n+Math.imul(f,ie)|0,a=(a=a+Math.imul(f,se)|0)+Math.imul(m,ie)|0,i=i+Math.imul(m,se)|0;var ke=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(a=(a=a+Math.imul(d,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((i=i+Math.imul(h,ue)|0)+(a>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(R,H),a=(a=Math.imul(R,U))+Math.imul(B,H)|0,i=Math.imul(B,U),n=n+Math.imul(j,V)|0,a=(a=a+Math.imul(j,G)|0)+Math.imul(M,V)|0,i=i+Math.imul(M,G)|0,n=n+Math.imul(C,K)|0,a=(a=a+Math.imul(C,Y)|0)+Math.imul(T,K)|0,i=i+Math.imul(T,Y)|0,n=n+Math.imul(P,J)|0,a=(a=a+Math.imul(P,Q)|0)+Math.imul(E,J)|0,i=i+Math.imul(E,Q)|0,n=n+Math.imul(k,$)|0,a=(a=a+Math.imul(k,ee)|0)+Math.imul(S,$)|0,i=i+Math.imul(S,ee)|0,n=n+Math.imul(_,re)|0,a=(a=a+Math.imul(_,ne)|0)+Math.imul(w,re)|0,i=i+Math.imul(w,ne)|0,n=n+Math.imul(y,ie)|0,a=(a=a+Math.imul(y,se)|0)+Math.imul(b,ie)|0,i=i+Math.imul(b,se)|0,n=n+Math.imul(f,ce)|0,a=(a=a+Math.imul(f,ue)|0)+Math.imul(m,ce)|0,i=i+Math.imul(m,ue)|0;var Se=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(a=(a=a+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;u=((i=i+Math.imul(h,he)|0)+(a>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(F,H),a=(a=Math.imul(F,U))+Math.imul(q,H)|0,i=Math.imul(q,U),n=n+Math.imul(R,V)|0,a=(a=a+Math.imul(R,G)|0)+Math.imul(B,V)|0,i=i+Math.imul(B,G)|0,n=n+Math.imul(j,K)|0,a=(a=a+Math.imul(j,Y)|0)+Math.imul(M,K)|0,i=i+Math.imul(M,Y)|0,n=n+Math.imul(C,J)|0,a=(a=a+Math.imul(C,Q)|0)+Math.imul(T,J)|0,i=i+Math.imul(T,Q)|0,n=n+Math.imul(P,$)|0,a=(a=a+Math.imul(P,ee)|0)+Math.imul(E,$)|0,i=i+Math.imul(E,ee)|0,n=n+Math.imul(k,re)|0,a=(a=a+Math.imul(k,ne)|0)+Math.imul(S,re)|0,i=i+Math.imul(S,ne)|0,n=n+Math.imul(_,ie)|0,a=(a=a+Math.imul(_,se)|0)+Math.imul(w,ie)|0,i=i+Math.imul(w,se)|0,n=n+Math.imul(y,ce)|0,a=(a=a+Math.imul(y,ue)|0)+Math.imul(b,ce)|0,i=i+Math.imul(b,ue)|0,n=n+Math.imul(f,de)|0,a=(a=a+Math.imul(f,he)|0)+Math.imul(m,de)|0,i=i+Math.imul(m,he)|0;var Oe=(u+(n=n+Math.imul(d,fe)|0)|0)+((8191&(a=(a=a+Math.imul(d,me)|0)+Math.imul(h,fe)|0))<<13)|0;u=((i=i+Math.imul(h,me)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(F,V),a=(a=Math.imul(F,G))+Math.imul(q,V)|0,i=Math.imul(q,G),n=n+Math.imul(R,K)|0,a=(a=a+Math.imul(R,Y)|0)+Math.imul(B,K)|0,i=i+Math.imul(B,Y)|0,n=n+Math.imul(j,J)|0,a=(a=a+Math.imul(j,Q)|0)+Math.imul(M,J)|0,i=i+Math.imul(M,Q)|0,n=n+Math.imul(C,$)|0,a=(a=a+Math.imul(C,ee)|0)+Math.imul(T,$)|0,i=i+Math.imul(T,ee)|0,n=n+Math.imul(P,re)|0,a=(a=a+Math.imul(P,ne)|0)+Math.imul(E,re)|0,i=i+Math.imul(E,ne)|0,n=n+Math.imul(k,ie)|0,a=(a=a+Math.imul(k,se)|0)+Math.imul(S,ie)|0,i=i+Math.imul(S,se)|0,n=n+Math.imul(_,ce)|0,a=(a=a+Math.imul(_,ue)|0)+Math.imul(w,ce)|0,i=i+Math.imul(w,ue)|0,n=n+Math.imul(y,de)|0,a=(a=a+Math.imul(y,he)|0)+Math.imul(b,de)|0,i=i+Math.imul(b,he)|0;var Pe=(u+(n=n+Math.imul(f,fe)|0)|0)+((8191&(a=(a=a+Math.imul(f,me)|0)+Math.imul(m,fe)|0))<<13)|0;u=((i=i+Math.imul(m,me)|0)+(a>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(F,K),a=(a=Math.imul(F,Y))+Math.imul(q,K)|0,i=Math.imul(q,Y),n=n+Math.imul(R,J)|0,a=(a=a+Math.imul(R,Q)|0)+Math.imul(B,J)|0,i=i+Math.imul(B,Q)|0,n=n+Math.imul(j,$)|0,a=(a=a+Math.imul(j,ee)|0)+Math.imul(M,$)|0,i=i+Math.imul(M,ee)|0,n=n+Math.imul(C,re)|0,a=(a=a+Math.imul(C,ne)|0)+Math.imul(T,re)|0,i=i+Math.imul(T,ne)|0,n=n+Math.imul(P,ie)|0,a=(a=a+Math.imul(P,se)|0)+Math.imul(E,ie)|0,i=i+Math.imul(E,se)|0,n=n+Math.imul(k,ce)|0,a=(a=a+Math.imul(k,ue)|0)+Math.imul(S,ce)|0,i=i+Math.imul(S,ue)|0,n=n+Math.imul(_,de)|0,a=(a=a+Math.imul(_,he)|0)+Math.imul(w,de)|0,i=i+Math.imul(w,he)|0;var Ee=(u+(n=n+Math.imul(y,fe)|0)|0)+((8191&(a=(a=a+Math.imul(y,me)|0)+Math.imul(b,fe)|0))<<13)|0;u=((i=i+Math.imul(b,me)|0)+(a>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(F,J),a=(a=Math.imul(F,Q))+Math.imul(q,J)|0,i=Math.imul(q,Q),n=n+Math.imul(R,$)|0,a=(a=a+Math.imul(R,ee)|0)+Math.imul(B,$)|0,i=i+Math.imul(B,ee)|0,n=n+Math.imul(j,re)|0,a=(a=a+Math.imul(j,ne)|0)+Math.imul(M,re)|0,i=i+Math.imul(M,ne)|0,n=n+Math.imul(C,ie)|0,a=(a=a+Math.imul(C,se)|0)+Math.imul(T,ie)|0,i=i+Math.imul(T,se)|0,n=n+Math.imul(P,ce)|0,a=(a=a+Math.imul(P,ue)|0)+Math.imul(E,ce)|0,i=i+Math.imul(E,ue)|0,n=n+Math.imul(k,de)|0,a=(a=a+Math.imul(k,he)|0)+Math.imul(S,de)|0,i=i+Math.imul(S,he)|0;var Ae=(u+(n=n+Math.imul(_,fe)|0)|0)+((8191&(a=(a=a+Math.imul(_,me)|0)+Math.imul(w,fe)|0))<<13)|0;u=((i=i+Math.imul(w,me)|0)+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(F,$),a=(a=Math.imul(F,ee))+Math.imul(q,$)|0,i=Math.imul(q,ee),n=n+Math.imul(R,re)|0,a=(a=a+Math.imul(R,ne)|0)+Math.imul(B,re)|0,i=i+Math.imul(B,ne)|0,n=n+Math.imul(j,ie)|0,a=(a=a+Math.imul(j,se)|0)+Math.imul(M,ie)|0,i=i+Math.imul(M,se)|0,n=n+Math.imul(C,ce)|0,a=(a=a+Math.imul(C,ue)|0)+Math.imul(T,ce)|0,i=i+Math.imul(T,ue)|0,n=n+Math.imul(P,de)|0,a=(a=a+Math.imul(P,he)|0)+Math.imul(E,de)|0,i=i+Math.imul(E,he)|0;var Ce=(u+(n=n+Math.imul(k,fe)|0)|0)+((8191&(a=(a=a+Math.imul(k,me)|0)+Math.imul(S,fe)|0))<<13)|0;u=((i=i+Math.imul(S,me)|0)+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(F,re),a=(a=Math.imul(F,ne))+Math.imul(q,re)|0,i=Math.imul(q,ne),n=n+Math.imul(R,ie)|0,a=(a=a+Math.imul(R,se)|0)+Math.imul(B,ie)|0,i=i+Math.imul(B,se)|0,n=n+Math.imul(j,ce)|0,a=(a=a+Math.imul(j,ue)|0)+Math.imul(M,ce)|0,i=i+Math.imul(M,ue)|0,n=n+Math.imul(C,de)|0,a=(a=a+Math.imul(C,he)|0)+Math.imul(T,de)|0,i=i+Math.imul(T,he)|0;var Te=(u+(n=n+Math.imul(P,fe)|0)|0)+((8191&(a=(a=a+Math.imul(P,me)|0)+Math.imul(E,fe)|0))<<13)|0;u=((i=i+Math.imul(E,me)|0)+(a>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(F,ie),a=(a=Math.imul(F,se))+Math.imul(q,ie)|0,i=Math.imul(q,se),n=n+Math.imul(R,ce)|0,a=(a=a+Math.imul(R,ue)|0)+Math.imul(B,ce)|0,i=i+Math.imul(B,ue)|0,n=n+Math.imul(j,de)|0,a=(a=a+Math.imul(j,he)|0)+Math.imul(M,de)|0,i=i+Math.imul(M,he)|0;var De=(u+(n=n+Math.imul(C,fe)|0)|0)+((8191&(a=(a=a+Math.imul(C,me)|0)+Math.imul(T,fe)|0))<<13)|0;u=((i=i+Math.imul(T,me)|0)+(a>>>13)|0)+(De>>>26)|0,De&=67108863,n=Math.imul(F,ce),a=(a=Math.imul(F,ue))+Math.imul(q,ce)|0,i=Math.imul(q,ue),n=n+Math.imul(R,de)|0,a=(a=a+Math.imul(R,he)|0)+Math.imul(B,de)|0,i=i+Math.imul(B,he)|0;var je=(u+(n=n+Math.imul(j,fe)|0)|0)+((8191&(a=(a=a+Math.imul(j,me)|0)+Math.imul(M,fe)|0))<<13)|0;u=((i=i+Math.imul(M,me)|0)+(a>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(F,de),a=(a=Math.imul(F,he))+Math.imul(q,de)|0,i=Math.imul(q,he);var Me=(u+(n=n+Math.imul(R,fe)|0)|0)+((8191&(a=(a=a+Math.imul(R,me)|0)+Math.imul(B,fe)|0))<<13)|0;u=((i=i+Math.imul(B,me)|0)+(a>>>13)|0)+(Me>>>26)|0,Me&=67108863;var Ie=(u+(n=Math.imul(F,fe))|0)+((8191&(a=(a=Math.imul(F,me))+Math.imul(q,fe)|0))<<13)|0;return u=((i=Math.imul(q,me))+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,c[0]=ge,c[1]=ye,c[2]=be,c[3]=ve,c[4]=_e,c[5]=we,c[6]=xe,c[7]=ke,c[8]=Se,c[9]=Oe,c[10]=Pe,c[11]=Ee,c[12]=Ae,c[13]=Ce,c[14]=Te,c[15]=De,c[16]=je,c[17]=Me,c[18]=Ie,0!==u&&(c[19]=u,r.length++),r};function y(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,a=0,i=0;i<r.length-1;i++){var s=a;a=0;for(var o=67108863&n,c=Math.min(i,t.length-1),u=Math.max(0,i-e.length+1);u<=c;u++){var l=i-u,d=(0|e.words[l])*(0|t.words[u]),h=67108863&d;o=67108863&(h=h+o|0),a+=(s=(s=s+(d/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[i]=o,n=s,s=a}return 0!==n?r.words[i]=n:r.length--,r._strip()}function b(e,t,r){return y(e,t,r)}function v(e,t){this.x=e,this.y=t}Math.imul||(g=m),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):r<63?m(this,e,t):r<1024?y(this,e,t):b(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,a=0;a<t;a++)n|=(1&e)<<t-a-1,e>>=1;return n},v.prototype.permute=function(e,t,r,n,a,i){for(var s=0;s<i;s++)n[s]=t[e[s]],a[s]=r[e[s]]},v.prototype.transform=function(e,t,r,n,a,i){this.permute(i,e,t,r,n,a);for(var s=1;s<a;s<<=1)for(var o=s<<1,c=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),l=0;l<a;l+=o)for(var d=c,h=u,p=0;p<s;p++){var f=r[l+p],m=n[l+p],g=r[l+p+s],y=n[l+p+s],b=d*g-h*y;y=d*y+h*g,g=b,r[l+p]=f+g,n[l+p]=m+y,r[l+p+s]=f-g,n[l+p+s]=m-y,p!==o&&(b=c*d-u*h,h=c*h+u*d,d=b)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,a=0;for(r=r/2|0;r;r>>>=1)a++;return 1<<a+1+n},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var a=e[n];e[n]=e[r-n-1],e[r-n-1]=a,a=t[n],t[n]=-t[r-n-1],t[r-n-1]=-a}},v.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var a=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&a,r=a<67108864?0:a/67108864|0}return e},v.prototype.convert13b=function(e,t,r,a){for(var i=0,s=0;s<t;s++)i+=0|e[s],r[2*s]=8191&i,i>>>=13,r[2*s+1]=8191&i,i>>>=13;for(s=2*t;s<a;++s)r[s]=0;n(0===i),n(0==(-8192&i))},v.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),a=this.makeRBT(n),i=this.stub(n),s=new Array(n),o=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),d=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,i,o,c,n,a),this.transform(u,i,l,d,n,a);for(var p=0;p<n;p++){var f=o[p]*l[p]-c[p]*d[p];c[p]=o[p]*d[p]+c[p]*l[p],o[p]=f}return this.conjugate(o,c,n),this.transform(o,c,h,i,n,a),this.conjugate(h,i,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),b(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,a=0;a<this.length;a++){var i=(0|this.words[a])*e,s=(67108863&i)+(67108863&r);r>>=26,r+=i/67108864|0,r+=s>>>26,this.words[a]=67108863&s}return 0!==r&&(this.words[a]=r,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,a=r%26;t[r]=e.words[n]>>>a&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},i.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,a=(e-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&i,c=(0|this.words[t])-o<<r;this.words[t]=c|s,s=o>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==a){for(t=this.length-1;t>=0;t--)this.words[t+a]=this.words[t];for(t=0;t<a;t++)this.words[t]=0;this.length+=a}return this._strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,r){var a;n("number"==typeof e&&e>=0),a=t?(t-t%26)/26:0;var i=e%26,s=Math.min((e-i)/26,this.length),o=67108863^67108863>>>i<<i,c=r;if(a-=s,a=Math.max(0,a),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=a);u--){var d=0|this.words[u];this.words[u]=l<<26-i|d>>>i,l=d&o}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,a=1<<t;return!(this.length<=r)&&!!(this.words[r]&a)},i.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var a=67108863^67108863>>>t<<t;this.words[this.length-1]&=a}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,r){var a,i,s=e.length+r;this._expand(s);var o=0;for(a=0;a<e.length;a++){i=(0|this.words[a+r])+o;var c=(0|e.words[a])*t;o=((i-=67108863&c)>>26)-(c/67108864|0),this.words[a+r]=67108863&i}for(;a<this.length-r;a++)o=(i=(0|this.words[a+r])+o)>>26,this.words[a+r]=67108863&i;if(0===o)return this._strip();for(n(-1===o),o=0,a=0;a<this.length;a++)o=(i=-(0|this.words[a])+o)>>26,this.words[a]=67108863&i;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),a=e,s=0|a.words[a.length-1];0!==(r=26-this._countBits(s))&&(a=a.ushln(r),n.iushln(r),s=0|a.words[a.length-1]);var o,c=n.length-a.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var l=n.clone()._ishlnsubmul(a,1,c);0===l.negative&&(n=l,o&&(o.words[c]=1));for(var d=c-1;d>=0;d--){var h=67108864*(0|n.words[a.length+d])+(0|n.words[a.length+d-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(a,h,d);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(a,1,d),n.isZero()||(n.negative^=1);o&&(o.words[d]=h)}return o&&o._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},i.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var a,s,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),a=e.andln(1),i=r.cmp(n);return i<0||1===a&&0===i?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,a=0,i=this.length-1;i>=0;i--)a=(r*a+(0|this.words[i]))%e;return t?-a:a},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,a=this.length-1;a>=0;a--){var i=(0|this.words[a])+67108864*r;this.words[a]=i/e|0,r=i%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),s=new i(0),o=new i(0),c=new i(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),d=t.clone();!t.isZero();){for(var h=0,p=1;0==(t.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(l),s.isub(d)),a.iushrn(1),s.iushrn(1);for(var f=0,m=1;0==(r.words[0]&m)&&f<26;++f,m<<=1);if(f>0)for(r.iushrn(f);f-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(l),c.isub(d)),o.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o),s.isub(c)):(r.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:r.iushln(u)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,s=new i(1),o=new i(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,h=1;0==(r.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(r.iushrn(d);d-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(o)):(r.isub(t),o.isub(s))}return(a=0===t.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var a=t.cmp(r);if(a<0){var i=t;t=r,r=i}else if(0===a||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,a=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=a,this;for(var i=a,s=r;0!==i&&s<this.length;s++){var o=0|this.words[s];i=(o+=i)>>>26,o&=67108863,this.words[s]=o}return 0!==i&&(this.words[s]=i,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var a=0|this.words[0];t=a===e?0:a<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],a=0|e.words[r];if(n!==a){n<a?t=-1:n>a&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new P(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var _={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function O(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function P(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){P.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},a(x,w),x.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=4194303&a,n=10;n<e.length;n++){var i=0|e.words[n];e.words[n-10]=(4194303&i)<<4|a>>>22,a=i}a>>>=22,e.words[n-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},x.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},a(k,w),a(S,w),a(O,w),O.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,a=67108863&n;n>>>=26,e.words[r]=a,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(_[e])return _[e];var t;if("k256"===e)t=new x;else if("p224"===e)t=new k;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new O}return _[e]=t,t},P.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},P.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},P.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},P.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},P.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},P.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},P.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},P.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},P.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},P.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},P.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},P.prototype.isqr=function(e){return this.imul(e,e.clone())},P.prototype.sqr=function(e){return this.mul(e,e)},P.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new i(1)).iushrn(2);return this.pow(e,r)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);n(!a.isZero());var o=new i(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var d=this.pow(l,a),h=this.pow(e,a.addn(1).iushrn(1)),p=this.pow(e,a),f=s;0!==p.cmp(o);){for(var m=p,g=0;0!==m.cmp(o);g++)m=m.redSqr();n(g<f);var y=this.pow(d,new i(1).iushln(f-g-1));h=h.redMul(y),d=y.redSqr(),p=p.redMul(d),f=g}return h},P.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},P.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var d=u>>l&1;a!==r[0]&&(a=this.sqr(a)),0!==d||0!==s?(s<<=1,s|=d,(4===++o||0===n&&0===l)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}c=26}return a},P.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},P.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new E(e)},a(E,P),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),i=a;return a.cmp(this.m)>=0?i=a.isub(this.m):a.cmpn(0)<0&&(i=a.iadd(this.m)),i._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,r(92)(e))},function(e,t,r){"use strict";const n=t;n.bignum=r(8),n.define=r(945).define,n.base=r(948),n.constants=r(949),n.decoders=r(457),n.encoders=r(455)},function(e,t,r){"use strict";const n=t;n.der=r(456),n.pem=r(946)},function(e,t,r){"use strict";const n=r(7),a=r(237).Buffer,i=r(238),s=r(240);function o(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){i.call(this,"der",e)}function u(e){return e<10?"0"+e:e}e.exports=o,o.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(c,i),c.prototype._encodeComposite=function(e,t,r,n){const i=function(e,t,r,n){let a;"seqof"===e?e="seq":"setof"===e&&(e="set");if(s.tagByName.hasOwnProperty(e))a=s.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);a=e}if(a>=31)return n.error("Multi-octet tag encoding unsupported");t||(a|=32);return a|=s.tagClassByName[r||"universal"]<<6,a}(e,t,r,this.reporter);if(n.length<128){const e=a.alloc(2);return e[0]=i,e[1]=n.length,this._createEncoderBuffer([e,n])}let o=1;for(let e=n.length;e>=256;e>>=8)o++;const c=a.alloc(2+o);c[0]=i,c[1]=128|o;for(let e=1+o,t=n.length;t>0;e--,t>>=8)c[e]=255&t;return this._createEncoderBuffer([c,n])},c.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){const t=a.alloc(2*e.length);for(let r=0;r<e.length;r++)t.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(t)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},c.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let n=0;for(let t=0;t<e.length;t++){let r=e[t];for(n++;r>=128;r>>=7)n++}const i=a.alloc(n);let s=i.length-1;for(let t=e.length-1;t>=0;t--){let r=e[t];for(i[s--]=127&r;(r>>=7)>0;)i[s--]=128|127&r}return this._createEncoderBuffer(i)},c.prototype._encodeTime=function(e,t){let r;const n=new Date(e);return"gentime"===t?r=[u(n.getUTCFullYear()),u(n.getUTCMonth()+1),u(n.getUTCDate()),u(n.getUTCHours()),u(n.getUTCMinutes()),u(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[u(n.getUTCFullYear()%100),u(n.getUTCMonth()+1),u(n.getUTCDate()),u(n.getUTCHours()),u(n.getUTCMinutes()),u(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!a.isBuffer(e)){const t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=a.from(t)}if(a.isBuffer(e)){let t=e.length;0===e.length&&t++;const r=a.alloc(t);return e.copy(r),0===e.length&&(r[0]=0),this._createEncoderBuffer(r)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let r=1;for(let t=e;t>=256;t>>=8)r++;const n=new Array(r);for(let t=n.length-1;t>=0;t--)n[t]=255&e,e>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(a.from(n))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,r){const n=this._baseState;let a;if(null===n.default)return!1;const i=e.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,t,r).join()),i.length!==n.defaultBuffer.length)return!1;for(a=0;a<i.length;a++)if(i[a]!==n.defaultBuffer[a])return!1;return!0}},function(e,t,r){"use strict";const n=t;n.der=r(458),n.pem=r(947)},function(e,t,r){"use strict";const n=r(7),a=r(8),i=r(124).DecoderBuffer,s=r(238),o=r(240);function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){s.call(this,"der",e)}function l(e,t){let r=e.readUInt8(t);if(e.isError(r))return r;const n=o.tagClass[r>>6],a=0==(32&r);if(31==(31&r)){let n=r;for(r=0;128==(128&n);){if(n=e.readUInt8(t),e.isError(n))return n;r<<=7,r|=127&n}}else r&=31;return{cls:n,primitive:a,tag:r,tagStr:o.tag[r]}}function d(e,t,r){let n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0==(128&n))return n;const a=127&n;if(a>4)return e.error("length octect is too long");n=0;for(let t=0;t<a;t++){n<<=8;const t=e.readUInt8(r);if(e.isError(t))return t;n|=t}return n}e.exports=c,c.prototype.decode=function(e,t){return i.isDecoderBuffer(e)||(e=new i(e,t)),this.tree._decode(e,t)},n(u,s),u.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;const n=e.save(),a=l(e,'Failed to peek tag: "'+t+'"');return e.isError(a)?a:(e.restore(n),a.tag===t||a.tagStr===t||a.tagStr+"of"===t||r)},u.prototype._decodeTag=function(e,t,r){const n=l(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;let a=d(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(a))return a;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==a)return e.skip(a,'Failed to match body of: "'+t+'"');const i=e.save(),s=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(s)?s:(a=e.offset-i.offset,e.restore(i),e.skip(a,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){const r=l(e,t);if(e.isError(r))return r;const n=d(e,r.primitive,t);if(e.isError(n))return n;let a;if(a=r.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(a))return a;if("end"===r.tagStr)break}},u.prototype._decodeList=function(e,t,r,n){const a=[];for(;!e.isEmpty();){const t=this._peekTag(e,"end");if(e.isError(t))return t;const i=r.decode(e,"der",n);if(e.isError(i)&&t)break;a.push(i)}return a},u.prototype._decodeStr=function(e,t){if("bitstr"===t){const t=e.readUInt8();return e.isError(t)?t:{unused:t,data:e.raw()}}if("bmpstr"===t){const t=e.raw();if(t.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let r="";for(let e=0;e<t.length/2;e++)r+=String.fromCharCode(t.readUInt16BE(2*e));return r}if("numstr"===t){const t=e.raw().toString("ascii");return this._isNumstr(t)?t:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){const t=e.raw().toString("ascii");return this._isPrintstr(t)?t:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,r){let n;const a=[];let i=0,s=0;for(;!e.isEmpty();)s=e.readUInt8(),i<<=7,i|=127&s,0==(128&s)&&(a.push(i),i=0);128&s&&a.push(i);const o=a[0]/40|0,c=a[0]%40;if(n=r?a:[o,c].concat(a.slice(1)),t){let e=t[n.join(" ")];void 0===e&&(e=t[n.join(".")]),void 0!==e&&(n=e)}return n},u.prototype._decodeTime=function(e,t){const r=e.raw().toString();let n,a,i,s,o,c;if("gentime"===t)n=0|r.slice(0,4),a=0|r.slice(4,6),i=0|r.slice(6,8),s=0|r.slice(8,10),o=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),a=0|r.slice(2,4),i=0|r.slice(4,6),s=0|r.slice(6,8),o=0|r.slice(8,10),c=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,a-1,i,s,o,c,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){const r=e.raw();let n=new a(r);return t&&(n=t[n.toString(10)]||n),n},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e){e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},function(e,t,r){var n=r(102),a=r(9).Buffer;function i(e){var t=a.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var r,s=a.alloc(0),o=0;s.length<t;)r=i(o++),s=a.concat([s,n("sha1").update(e).update(r).digest()]);return s.slice(0,t)}},function(e,t){e.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},function(e,t,r){var n=r(8),a=r(9).Buffer;e.exports=function(e,t){return a.from(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}},function(e){e.exports=JSON.parse('{"COMPRESSED_TYPE_INVALID":"compressed should be a boolean","EC_PRIVATE_KEY_TYPE_INVALID":"private key should be a Buffer","EC_PRIVATE_KEY_LENGTH_INVALID":"private key length is invalid","EC_PRIVATE_KEY_RANGE_INVALID":"private key range is invalid","EC_PRIVATE_KEY_TWEAK_ADD_FAIL":"tweak out of range or resulting private key is invalid","EC_PRIVATE_KEY_TWEAK_MUL_FAIL":"tweak out of range","EC_PRIVATE_KEY_EXPORT_DER_FAIL":"couldn\'t export to DER format","EC_PRIVATE_KEY_IMPORT_DER_FAIL":"couldn\'t import from DER format","EC_PUBLIC_KEYS_TYPE_INVALID":"public keys should be an Array","EC_PUBLIC_KEYS_LENGTH_INVALID":"public keys Array should have at least 1 element","EC_PUBLIC_KEY_TYPE_INVALID":"public key should be a Buffer","EC_PUBLIC_KEY_LENGTH_INVALID":"public key length is invalid","EC_PUBLIC_KEY_PARSE_FAIL":"the public key could not be parsed or is invalid","EC_PUBLIC_KEY_CREATE_FAIL":"private was invalid, try again","EC_PUBLIC_KEY_TWEAK_ADD_FAIL":"tweak out of range or resulting public key is invalid","EC_PUBLIC_KEY_TWEAK_MUL_FAIL":"tweak out of range","EC_PUBLIC_KEY_COMBINE_FAIL":"the sum of the public keys is not valid","ECDH_FAIL":"scalar was invalid (zero or overflow)","ECDSA_SIGNATURE_TYPE_INVALID":"signature should be a Buffer","ECDSA_SIGNATURE_LENGTH_INVALID":"signature length is invalid","ECDSA_SIGNATURE_PARSE_FAIL":"couldn\'t parse signature","ECDSA_SIGNATURE_PARSE_DER_FAIL":"couldn\'t parse DER signature","ECDSA_SIGNATURE_SERIALIZE_DER_FAIL":"couldn\'t serialize signature to DER format","ECDSA_SIGN_FAIL":"nonce generation function failed or private key is invalid","ECDSA_RECOVER_FAIL":"couldn\'t recover public key from signature","MSG32_TYPE_INVALID":"message should be a Buffer","MSG32_LENGTH_INVALID":"message length is invalid","OPTIONS_TYPE_INVALID":"options should be an Object","OPTIONS_DATA_TYPE_INVALID":"options.data should be a Buffer","OPTIONS_DATA_LENGTH_INVALID":"options.data length is invalid","OPTIONS_NONCEFN_TYPE_INVALID":"options.noncefn should be a Function","RECOVERY_ID_TYPE_INVALID":"recovery should be a Number","RECOVERY_ID_VALUE_INVALID":"recovery should have value between -1 and 4","TWEAK_TYPE_INVALID":"tweak should be a Buffer","TWEAK_LENGTH_INVALID":"tweak length is invalid"}')},function(e,t,r){"use strict";const n=r(984),a={null:null,true:!0,false:!1};e.exports=function(e){if("?"!==e.substr(0,1))throw new Error("A valid query string passed to parseQuery should begin with '?'");if(!(e=e.substr(1)))return{};if("{"===e.substr(0,1)&&"}"===e.substr(-1))return n.parse(e);const t=e.split(/[,&]/g),r={};return t.forEach(e=>{const t=e.indexOf("=");if(t>=0){let n=e.substr(0,t),i=decodeURIComponent(e.substr(t+1));a.hasOwnProperty(i)&&(i=a[i]),"[]"===n.substr(-2)?(n=decodeURIComponent(n.substr(0,n.length-2)),Array.isArray(r[n])||(r[n]=[]),r[n].push(i)):(n=decodeURIComponent(n),r[n]=i)}else"-"===e.substr(0,1)?r[decodeURIComponent(e.substr(1))]=!1:"+"===e.substr(0,1)?r[decodeURIComponent(e.substr(1))]=!0:r[decodeURIComponent(e)]=!0}),r}},function(e,t,r){"use strict";const n={26:"abcdefghijklmnopqrstuvwxyz",32:"123456789abcdefghjkmnpqrstuvwxyz",36:"0123456789abcdefghijklmnopqrstuvwxyz",49:"abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",52:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",58:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",62:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",64:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_"};let a=void 0;e.exports=function(e,t,i,s){let o;t=t||"md4",s=s||9999;try{o=r(68).createHash(t)}catch(e){if("ERR_OSSL_EVP_UNSUPPORTED"===e.code&&"md4"===t&&(void 0===a&&(a=r(991)),o=a()),!o)throw e}return o.update(e),"base26"===i||"base32"===i||"base36"===i||"base49"===i||"base52"===i||"base58"===i||"base62"===i||"base64"===i?function(e,t){const a=n[t];if(!a)throw new Error("Unknown encoding base"+t);const i=e.length,s=r(47);s.RM=s.DP=0;let o=new s(0);for(let t=i-1;t>=0;t--)o=o.times(256).plus(e[t]);let c="";for(;o.gt(0);)c=a[o.mod(t)]+c,o=o.div(t);return s.DP=20,s.RM=1,c}(o.digest(),i.substr(4)).substr(0,s):o.digest(i||"hex").substr(0,s)}},function(e,t,r){"use strict";var n=r(107);e.exports=function(e){n.copy(e,this)}},function(e,t,r){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,n="boolean"==typeof t.cycles&&t.cycles,a=t.cmp&&(r=t.cmp,function(e){return function(t,n){var a={key:t,value:e[t]},i={key:n,value:e[n]};return r(a,i)}}),i=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,s;if(Array.isArray(t)){for(s="[",r=0;r<t.length;r++)r&&(s+=","),s+=e(t[r])||"null";return s+"]"}if(null===t)return"null";if(-1!==i.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var o=i.push(t)-1,c=Object.keys(t).sort(a&&a(t));for(s="",r=0;r<c.length;r++){var u=c[r],l=e(t[u]);l&&(s&&(s+=","),s+=JSON.stringify(u)+":"+l)}return i.splice(o,1),"{"+s+"}"}}(e)}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n="",a=!0===e.schema.$async,i=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),s=e.self._getId(e.schema);if(e.opts.strictKeywords){var o=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(o){var c="unknown keyword: "+o;if("log"!==e.opts.strictKeywords)throw new Error(c);e.logger.warn(c)}}if(e.isTop&&(n+=" var validate = ",a&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",s&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" /*# sourceURL="+s+" */ ")),"boolean"==typeof e.schema||!i&&!e.schema.$ref){var u=e.level,l=e.dataLevel,d=e.schema["false schema"],h=e.schemaPath+e.util.getProperty("false schema"),p=e.errSchemaPath+"/false schema",f=!e.opts.allErrors,m="data"+(l||""),g="valid"+u;if(!1===e.schema){e.isTop?f=!0:n+=" var "+g+" = false; ",(J=J||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";var y=n;n=J.pop(),!e.compositeRule&&f?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?n+=a?" return data; ":" validate.errors = null; return true; ":n+=" var "+g+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var b=e.isTop;u=e.level=0,l=e.dataLevel=0,m="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var v="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(v);e.logger.warn(v)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{u=e.level,m="data"+((l=e.dataLevel)||"");if(s&&(e.baseId=e.resolve.url(e.baseId,s)),a&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+u+" = errors;"}g="valid"+u,f=!e.opts.allErrors;var _="",w="",x=e.schema.type,k=Array.isArray(x);if(x&&e.opts.nullable&&!0===e.schema.nullable&&(k?-1==x.indexOf("null")&&(x=x.concat("null")):"null"!=x&&(x=[x,"null"],k=!0)),k&&1==x.length&&(x=x[0],k=!1),e.schema.$ref&&i){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(i=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),x){if(e.opts.coerceTypes)var S=e.util.coerceToTypes(e.opts.coerceTypes,x);var O=e.RULES.types[x];if(S||k||!0===O||O&&!Q(O)){h=e.schemaPath+".type",p=e.errSchemaPath+"/type",h=e.schemaPath+".type",p=e.errSchemaPath+"/type";var P=k?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[P](x,m,e.opts.strictNumbers,!0)+") { ",S){var E="dataType"+u,A="coerced"+u;n+=" var "+E+" = typeof "+m+"; var "+A+" = undefined; ","array"==e.opts.coerceTypes&&(n+=" if ("+E+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+E+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+A+" = "+m+"; } "),n+=" if ("+A+" !== undefined) ; ";var C=S;if(C)for(var T,D=-1,j=C.length-1;D<j;)"string"==(T=C[D+=1])?n+=" else if ("+E+" == 'number' || "+E+" == 'boolean') "+A+" = '' + "+m+"; else if ("+m+" === null) "+A+" = ''; ":"number"==T||"integer"==T?(n+=" else if ("+E+" == 'boolean' || "+m+" === null || ("+E+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==T&&(n+=" && !("+m+" % 1)"),n+=")) "+A+" = +"+m+"; "):"boolean"==T?n+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+A+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+A+" = true; ":"null"==T?n+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+A+" = null; ":"array"==e.opts.coerceTypes&&"array"==T&&(n+=" else if ("+E+" == 'string' || "+E+" == 'number' || "+E+" == 'boolean' || "+m+" == null) "+A+" = ["+m+"]; ");n+=" else {   ",(J=J||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=k?""+x.join(","):""+x,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=k?""+x.join(","):""+x,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";y=n;n=J.pop(),!e.compositeRule&&f?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+A+" !== undefined) {  ";var M=l?"data"+(l-1||""):"parentData";n+=" "+m+" = "+A+"; ",l||(n+="if ("+M+" !== undefined)"),n+=" "+M+"["+(l?e.dataPathArr[l]:"parentDataProperty")+"] = "+A+"; } "}else{(J=J||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=k?""+x.join(","):""+x,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=k?""+x.join(","):""+x,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";y=n;n=J.pop(),!e.compositeRule&&f?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(e.schema.$ref&&!i)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",f&&(n+=" } if (errors === ",n+=b?"0":"errs_"+u,n+=") { ",w+="}");else{var I=e.RULES;if(I)for(var R=-1,B=I.length-1;R<B;)if(Q(O=I[R+=1])){if(O.type&&(n+=" if ("+e.util.checkDataType(O.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==O.type&&e.schema.properties){d=e.schema.properties;var N=Object.keys(d);if(N)for(var F,q=-1,L=N.length-1;q<L;){if(void 0!==(z=d[F=N[q+=1]]).default){var H=m+e.util.getProperty(F);if(e.compositeRule){if(e.opts.strictDefaults){v="default is ignored for: "+H;if("log"!==e.opts.strictDefaults)throw new Error(v);e.logger.warn(v)}}else n+=" if ("+H+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+H+" === null || "+H+" === '' "),n+=" ) "+H+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(z.default)+" ":n+=" "+JSON.stringify(z.default)+" ",n+="; "}}}else if("array"==O.type&&Array.isArray(e.schema.items)){var U=e.schema.items;if(U){D=-1;for(var z,V=U.length-1;D<V;)if(void 0!==(z=U[D+=1]).default){H=m+"["+D+"]";if(e.compositeRule){if(e.opts.strictDefaults){v="default is ignored for: "+H;if("log"!==e.opts.strictDefaults)throw new Error(v);e.logger.warn(v)}}else n+=" if ("+H+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+H+" === null || "+H+" === '' "),n+=" ) "+H+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(z.default)+" ":n+=" "+JSON.stringify(z.default)+" ",n+="; "}}}var G=O.rules;if(G)for(var W,K=-1,Y=G.length-1;K<Y;)if(Z(W=G[K+=1])){var X=W.code(e,W.keyword,O.type);X&&(n+=" "+X+" ",f&&(_+="}"))}if(f&&(n+=" "+_+" ",_=""),O.type&&(n+=" } ",x&&x===O.type&&!S)){n+=" else { ";var J;h=e.schemaPath+".type",p=e.errSchemaPath+"/type";(J=J||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=k?""+x.join(","):""+x,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=k?""+x.join(","):""+x,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";y=n;n=J.pop(),!e.compositeRule&&f?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}f&&(n+=" if (errors === ",n+=b?"0":"errs_"+u,n+=") { ",w+="}")}}function Q(e){for(var t=e.rules,r=0;r<t.length;r++)if(Z(t[r]))return!0}function Z(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,n=0;n<r.length;n++)if(void 0!==e.schema[r[n]])return!0}(t)}return f&&(n+=" "+w+" "),b?(a?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+g+" = errors === errs_"+u+";",n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&o&&o.$data;h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",n="schema"+i):n=o;var p="maximum"==t,f=p?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[f],g=e.opts.$data&&m&&m.$data,y=p?"<":">",b=p?">":"<",v=void 0;if(!h&&"number"!=typeof o&&void 0!==o)throw new Error(t+" must be number");if(!g&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(f+" must be number or boolean");if(g){var _=e.util.getData(m.$data,s,e.dataPathArr),w="exclusive"+i,x="exclType"+i,k="exclIsNumber"+i,S="' + "+(E="op"+i)+" + '";a+=" var schemaExcl"+i+" = "+_+"; ",a+=" var "+w+"; var "+x+" = typeof "+(_="schemaExcl"+i)+"; if ("+x+" != 'boolean' && "+x+" != 'undefined' && "+x+" != 'number') { ";var O;v=f;(O=O||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(v||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var P=a;a=O.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+P+"]); ":a+=" validate.errors = ["+P+"]; return false; ":a+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if ( ",h&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),a+=" "+x+" == 'number' ? ( ("+w+" = "+n+" === undefined || "+_+" "+y+"= "+n+") ? "+d+" "+b+"= "+_+" : "+d+" "+b+" "+n+" ) : ( ("+w+" = "+_+" === true) ? "+d+" "+b+"= "+n+" : "+d+" "+b+" "+n+" ) || "+d+" !== "+d+") { var op"+i+" = "+w+" ? '"+y+"' : '"+y+"='; ",void 0===o&&(v=f,u=e.errSchemaPath+"/"+f,n=_,h=g)}else{S=y;if((k="number"==typeof m)&&h){var E="'"+S+"'";a+=" if ( ",h&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),a+=" ( "+n+" === undefined || "+m+" "+y+"= "+n+" ? "+d+" "+b+"= "+m+" : "+d+" "+b+" "+n+" ) || "+d+" !== "+d+") { "}else{k&&void 0===o?(w=!0,v=f,u=e.errSchemaPath+"/"+f,n=m,b+="="):(k&&(n=Math[p?"min":"max"](m,o)),m===(!k||n)?(w=!0,v=f,u=e.errSchemaPath+"/"+f,b+="="):(w=!1,S+="="));E="'"+S+"'";a+=" if ( ",h&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),a+=" "+d+" "+b+" "+n+" || "+d+" !== "+d+") { "}}v=v||t,(O=O||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(v||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+E+", limit: "+n+", exclusive: "+w+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be "+S+" ",a+=h?"' + "+n:n+"'"),e.opts.verbose&&(a+=" , schema:  ",a+=h?"validate.schema"+c:""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";P=a;return a=O.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+P+"]); ":a+=" validate.errors = ["+P+"]; return false; ":a+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",l&&(a+=" else { "),a}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&o&&o.$data;if(h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",n="schema"+i):n=o,!h&&"number"!=typeof o)throw new Error(t+" must be number");a+="if ( ",h&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),a+=" "+d+".length "+("maxItems"==t?">":"<")+" "+n+") { ";var p=t,f=f||[];f.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have ",a+="maxItems"==t?"more":"fewer",a+=" than ",a+=h?"' + "+n+" + '":""+o,a+=" items' "),e.opts.verbose&&(a+=" , schema:  ",a+=h?"validate.schema"+c:""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var m=a;return a=f.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&o&&o.$data;if(h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",n="schema"+i):n=o,!h&&"number"!=typeof o)throw new Error(t+" must be number");var p="maxLength"==t?">":"<";a+="if ( ",h&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),!1===e.opts.unicode?a+=" "+d+".length ":a+=" ucs2length("+d+") ",a+=" "+p+" "+n+") { ";var f=t,m=m||[];m.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be ",a+="maxLength"==t?"longer":"shorter",a+=" than ",a+=h?"' + "+n+" + '":""+o,a+=" characters' "),e.opts.verbose&&(a+=" , schema:  ",a+=h?"validate.schema"+c:""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var g=a;return a=m.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&o&&o.$data;if(h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",n="schema"+i):n=o,!h&&"number"!=typeof o)throw new Error(t+" must be number");a+="if ( ",h&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),a+=" Object.keys("+d+").length "+("maxProperties"==t?">":"<")+" "+n+") { ";var p=t,f=f||[];f.push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have ",a+="maxProperties"==t?"more":"fewer",a+=" than ",a+=h?"' + "+n+" + '":""+o,a+=" properties' "),e.opts.verbose&&(a+=" , schema:  ",a+=h?"validate.schema"+c:""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var m=a;return a=f.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+m+"]); ":a+=" validate.errors = ["+m+"]; return false; ":a+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},function(e,t,r){"use strict";var n=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,a=/t|\s/i,i={date:o,time:c,"date-time":function(e,t){if(!e||!t)return;e=e.split(a),t=t.split(a);var r=o(e[0],t[0]);if(void 0===r)return;return r||c(e[1],t[1])}},s={type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1};function o(e,t){if(e&&t)return e>t?1:e<t?-1:e===t?0:void 0}function c(e,t){if(e&&t&&(e=e.match(n),t=t.match(n),e&&t))return(e=e[1]+e[2]+e[3]+(e[4]||""))>(t=t[1]+t[2]+t[3]+(t[4]||""))?1:e<t?-1:e===t?0:void 0}e.exports=function(e){var t="format"+e;return function n(a){return n.definition={type:"string",inline:r(1050),statements:!0,errors:"full",dependencies:["format"],metaSchema:{anyOf:[{type:"string"},s]}},a.addKeyword(t,n.definition),a.addKeyword("formatExclusive"+e,{dependencies:["format"+e],metaSchema:{anyOf:[{type:"boolean"},s]}}),function(e){var t=e._formats;for(var r in i){var n=t[r];("object"!=typeof n||n instanceof RegExp||!n.validate)&&(n=t[r]={validate:n}),n.compare||(n.compare=i[r])}}(a),a}}},function(e,t,r){var n,a;
/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */void 0===(a="function"==typeof(n=function(){var e,t,r,n,a,i={},s={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},c={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function u(e,t){this._input=e,this._value=t}return(e=function(r){var n,a,s,o;if(e.isNumeral(r))n=r.value();else if(0===r||void 0===r)n=0;else if(null===r||t.isNaN(r))n=null;else if("string"==typeof r)if(c.zeroFormat&&r===c.zeroFormat)n=0;else if(c.nullFormat&&r===c.nullFormat||!r.replace(/[^0-9]+/g,"").length)n=null;else{for(a in i)if((o="function"==typeof i[a].regexps.unformat?i[a].regexps.unformat():i[a].regexps.unformat)&&r.match(o)){s=i[a].unformat;break}n=(s=s||e._.stringToNumber)(r)}else n=Number(r)||null;return new u(r,n)}).version="2.0.6",e.isNumeral=function(e){return e instanceof u},e._=t={numberToFormat:function(t,r,n){var a,i,o,c,u,l,d,h,p=s[e.options.currentLocale],f=!1,m=!1,g="",y="",b=!1;if(t=t||0,o=Math.abs(t),e._.includes(r,"(")?(f=!0,r=r.replace(/[\(|\)]/g,"")):(e._.includes(r,"+")||e._.includes(r,"-"))&&(l=e._.includes(r,"+")?r.indexOf("+"):t<0?r.indexOf("-"):-1,r=r.replace(/[\+|\-]/g,"")),e._.includes(r,"a")&&(i=!!(i=r.match(/a(k|m|b|t)?/))&&i[1],e._.includes(r," a")&&(g=" "),r=r.replace(new RegExp(g+"a[kmbt]?"),""),o>=1e12&&!i||"t"===i?(g+=p.abbreviations.trillion,t/=1e12):o<1e12&&o>=1e9&&!i||"b"===i?(g+=p.abbreviations.billion,t/=1e9):o<1e9&&o>=1e6&&!i||"m"===i?(g+=p.abbreviations.million,t/=1e6):(o<1e6&&o>=1e3&&!i||"k"===i)&&(g+=p.abbreviations.thousand,t/=1e3)),e._.includes(r,"[.]")&&(m=!0,r=r.replace("[.]",".")),c=t.toString().split(".")[0],u=r.split(".")[1],d=r.indexOf(","),a=(r.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(e._.includes(u,"[")?(u=(u=u.replace("]","")).split("["),y=e._.toFixed(t,u[0].length+u[1].length,n,u[1].length)):y=e._.toFixed(t,u.length,n),c=y.split(".")[0],y=e._.includes(y,".")?p.delimiters.decimal+y.split(".")[1]:"",m&&0===Number(y.slice(1))&&(y="")):c=e._.toFixed(t,0,n),g&&!i&&Number(c)>=1e3&&g!==p.abbreviations.trillion)switch(c=String(Number(c)/1e3),g){case p.abbreviations.thousand:g=p.abbreviations.million;break;case p.abbreviations.million:g=p.abbreviations.billion;break;case p.abbreviations.billion:g=p.abbreviations.trillion}if(e._.includes(c,"-")&&(c=c.slice(1),b=!0),c.length<a)for(var v=a-c.length;v>0;v--)c="0"+c;return d>-1&&(c=c.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p.delimiters.thousands)),0===r.indexOf(".")&&(c=""),h=c+y+(g||""),f?h=(f&&b?"(":"")+h+(f&&b?")":""):l>=0?h=0===l?(b?"-":"+")+h:h+(b?"-":"+"):b&&(h="-"+h),h},stringToNumber:function(e){var t,r,n,a=s[c.currentLocale],i=e,o={thousand:3,million:6,billion:9,trillion:12};if(c.zeroFormat&&e===c.zeroFormat)r=0;else if(c.nullFormat&&e===c.nullFormat||!e.replace(/[^0-9]+/g,"").length)r=null;else{for(t in r=1,"."!==a.delimiters.decimal&&(e=e.replace(/\./g,"").replace(a.delimiters.decimal,".")),o)if(n=new RegExp("[^a-zA-Z]"+a.abbreviations[t]+"(?:\\)|(\\"+a.currency.symbol+")?(?:\\))?)?$"),i.match(n)){r*=Math.pow(10,o[t]);break}r*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),r*=Number(e)}return r},isNaN:function(e){return"number"==typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,r){return e.slice(0,r)+t+e.slice(r)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var r,n=Object(e),a=n.length>>>0,i=0;if(3===arguments.length)r=arguments[2];else{for(;i<a&&!(i in n);)i++;if(i>=a)throw new TypeError("Reduce of empty array with no initial value");r=n[i++]}for(;i<a;i++)i in n&&(r=t(r,n[i],i,n));return r},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){var e=Array.prototype.slice.call(arguments);return e.reduce((function(e,r){var n=t.multiplier(r);return e>n?e:n}),1)},toFixed:function(e,t,r,n){var a,i,s,o,c=e.toString().split("."),u=t-(n||0);return a=2===c.length?Math.min(Math.max(c[1].length,u),t):u,s=Math.pow(10,a),o=(r(e+"e+"+a)/s).toFixed(a),n>t-a&&(i=new RegExp("\\.?0{1,"+(n-(t-a))+"}$"),o=o.replace(i,"")),o}},e.options=c,e.formats=i,e.locales=s,e.locale=function(e){return e&&(c.currentLocale=e.toLowerCase()),c.currentLocale},e.localeData=function(e){if(!e)return s[c.currentLocale];if(e=e.toLowerCase(),!s[e])throw new Error("Unknown locale : "+e);return s[e]},e.reset=function(){for(var e in o)c[e]=o[e]},e.zeroFormat=function(e){c.zeroFormat="string"==typeof e?e:null},e.nullFormat=function(e){c.nullFormat="string"==typeof e?e:null},e.defaultFormat=function(e){c.defaultFormat="string"==typeof e?e:"0.0"},e.register=function(e,t,r){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=r,r},e.validate=function(t,r){var n,a,i,s,o,c,u,l;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{u=e.localeData(r)}catch(t){u=e.localeData(e.locale())}return i=u.currency.symbol,o=u.abbreviations,n=u.delimiters.decimal,a="."===u.delimiters.thousands?"\\.":u.delimiters.thousands,!(null!==(l=t.match(/^[^\d]+/))&&(t=t.substr(1),l[0]!==i)||null!==(l=t.match(/[^\d]+$/))&&(t=t.slice(0,-1),l[0]!==o.thousand&&l[0]!==o.million&&l[0]!==o.billion&&l[0]!==o.trillion)||(c=new RegExp(a+"{2}"),t.match(/[^\d.,]/g)||(s=t.split(n)).length>2||(s.length<2?!s[0].match(/^\d+.*\d$/)||s[0].match(c):1===s[0].length?!s[0].match(/^\d+$/)||s[0].match(c)||!s[1].match(/^\d+$/):!s[0].match(/^\d+.*\d$/)||s[0].match(c)||!s[1].match(/^\d+$/))))},e.fn=u.prototype={clone:function(){return e(this)},format:function(t,r){var n,a,s,o=this._value,u=t||c.defaultFormat;if(r=r||Math.round,0===o&&null!==c.zeroFormat)a=c.zeroFormat;else if(null===o&&null!==c.nullFormat)a=c.nullFormat;else{for(n in i)if(u.match(i[n].regexps.format)){s=i[n].format;break}a=(s=s||e._.numberToFormat)(o,u,r)}return a},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var r=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([this._value,e],(function(e,t,n,a){return e+Math.round(r*t)}),0)/r,this},subtract:function(e){var r=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([e],(function(e,t,n,a){return e-Math.round(r*t)}),Math.round(this._value*r))/r,this},multiply:function(e){return this._value=t.reduce([this._value,e],(function(e,r,n,a){var i=t.correctionFactor(e,r);return Math.round(e*i)*Math.round(r*i)/Math.round(i*i)}),1),this},divide:function(e){return this._value=t.reduce([this._value,e],(function(e,r,n,a){var i=t.correctionFactor(e,r);return Math.round(e*i)/Math.round(r*i)})),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,r,n){var a,i=e._.includes(r," BPS")?" ":"";return t*=1e4,r=r.replace(/\s?BPS/,""),a=e._.numberToFormat(t,r,n),e._.includes(a,")")?((a=a.split("")).splice(-1,0,i+"BPS"),a=a.join("")):a=a+i+"BPS",a},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}}),n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},a="("+(a=(r={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(n.suffixes.filter((function(e){return r.suffixes.indexOf(e)<0}))).join("|")).replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(a)},format:function(t,a,i){var s,o,c,u=e._.includes(a,"ib")?n:r,l=e._.includes(a," b")||e._.includes(a," ib")?" ":"";for(a=a.replace(/\s?i?b/,""),s=0;s<=u.suffixes.length;s++)if(o=Math.pow(u.base,s),c=Math.pow(u.base,s+1),null===t||0===t||t>=o&&t<c){l+=u.suffixes[s],o>0&&(t/=o);break}return e._.numberToFormat(t,a,i)+l},unformat:function(t){var a,i,s=e._.stringToNumber(t);if(s){for(a=r.suffixes.length-1;a>=0;a--){if(e._.includes(t,r.suffixes[a])){i=Math.pow(r.base,a);break}if(e._.includes(t,n.suffixes[a])){i=Math.pow(n.base,a);break}}s*=i||1}return s}}),e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,r,n){var a,i,s=e.locales[e.options.currentLocale],o={before:r.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:r.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(r=r.replace(/\s?\$\s?/,""),a=e._.numberToFormat(t,r,n),t>=0?(o.before=o.before.replace(/[\-\(]/,""),o.after=o.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(o.before,"-")&&!e._.includes(o.before,"(")&&(o.before="-"+o.before),i=0;i<o.before.length;i++)switch(o.before[i]){case"$":a=e._.insert(a,s.currency.symbol,i);break;case" ":a=e._.insert(a," ",i+s.currency.symbol.length-1)}for(i=o.after.length-1;i>=0;i--)switch(o.after[i]){case"$":a=i===o.after.length-1?a+s.currency.symbol:e._.insert(a,s.currency.symbol,-(o.after.length-(1+i)));break;case" ":a=i===o.after.length-1?a+" ":e._.insert(a," ",-(o.after.length-(1+i)+s.currency.symbol.length-1))}return a}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,r,n){var a=("number"!=typeof t||e._.isNaN(t)?"0e+0":t.toExponential()).split("e");return r=r.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(a[0]),r,n)+"e"+a[1]},unformat:function(t){var r=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),n=Number(r[0]),a=Number(r[1]);return a=e._.includes(t,"e-")?a*=-1:a,e._.reduce([n,Math.pow(10,a)],(function(t,r,n,a){var i=e._.correctionFactor(t,r);return t*i*(r*i)/(i*i)}),1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,r,n){var a=e.locales[e.options.currentLocale],i=e._.includes(r," o")?" ":"";return r=r.replace(/\s?o/,""),i+=a.ordinal(t),e._.numberToFormat(t,r,n)+i}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,r,n){var a,i=e._.includes(r," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),r=r.replace(/\s?\%/,""),a=e._.numberToFormat(t,r,n),e._.includes(a,")")?((a=a.split("")).splice(-1,0,i+"%"),a=a.join("")):a=a+i+"%",a},unformat:function(t){var r=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*r:r}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,r){var n=Math.floor(e/60/60),a=Math.floor((e-60*n*60)/60),i=Math.round(e-60*n*60-60*a);return n+":"+(a<10?"0"+a:a)+":"+(i<10?"0"+i:i)},unformat:function(e){var t=e.split(":"),r=0;return 3===t.length?(r+=60*Number(t[0])*60,r+=60*Number(t[1]),r+=Number(t[2])):2===t.length&&(r+=60*Number(t[0]),r+=Number(t[1])),Number(r)}}),e})?n.call(t,r,t,e):n)||(e.exports=a)},function(e,t){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,a=e.indexOf("["),i=e.indexOf("]");-1!=a&&-1!=i&&(e=e.substring(0,a)+e.substring(a,i).replace(/:/g,";")+e.substring(i,e.length));for(var s=r.exec(e||""),o={},c=14;c--;)o[n[c]]=s[c]||"";return-1!=a&&-1!=i&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){var r=t.replace(/\/{2,9}/g,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||r.splice(0,1);"/"==t.substr(t.length-1,1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(e,t){var r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,o.query),o}},function(e,t){var r=1e3,n=6e4,a=60*n,i=24*a;function s(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,t){t=t||{};var o,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*a;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?s(o=e,i,"day")||s(o,a,"hour")||s(o,n,"minute")||s(o,r,"second")||o+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=a)return Math.round(e/a)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){(function(t){e.exports=function(e){return r&&t.isBuffer(e)||n&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))};var r="function"==typeof t&&"function"==typeof t.isBuffer,n="function"==typeof ArrayBuffer}).call(this,r(11).Buffer)},function(e,t,r){var n=r(1074),a=r(486),i=r(94),s=r(246),o=r(487),c=r(488),u=r(125)("socket.io-client:manager"),l=r(485),d=r(1090),h=Object.prototype.hasOwnProperty;function p(e,t){if(!(this instanceof p))return new p(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new d({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=t.parser||s;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=p,p.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},p.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},p.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},i(p.prototype),p.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},p.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},p.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=n(this.uri,this.opts);var r=this.engine,a=this;this.readyState="opening",this.skipReconnect=!1;var i=o(r,"open",(function(){a.onopen(),e&&e()})),s=o(r,"error",(function(t){if(u("connect_error"),a.cleanup(),a.readyState="closed",a.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else a.maybeReconnectOnOpen()}));if(!1!==this._timeout){var c=this._timeout;u("connect attempt will timeout after %d",c),0===c&&i.destroy();var l=setTimeout((function(){u("connect attempt timed out after %d",c),i.destroy(),r.close(),r.emit("error","timeout"),a.emitAll("connect_timeout",c)}),c);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(i),this.subs.push(s),this},p.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(o(e,"data",c(this,"ondata"))),this.subs.push(o(e,"ping",c(this,"onping"))),this.subs.push(o(e,"pong",c(this,"onpong"))),this.subs.push(o(e,"error",c(this,"onerror"))),this.subs.push(o(e,"close",c(this,"onclose"))),this.subs.push(o(this.decoder,"decoded",c(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(e){this.decoder.add(e)},p.prototype.ondecoded=function(e){this.emit("packet",e)},p.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},p.prototype.socket=function(e,t){var r=this.nsps[e];if(!r){r=new a(this,e,t),this.nsps[e]=r;var n=this;r.on("connecting",i),r.on("connect",(function(){r.id=n.generateId(e)})),this.autoConnect&&i()}function i(){~l(n.connecting,r)||n.connecting.push(r)}return r},p.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},p.prototype.packet=function(e){u("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(r){for(var n=0;n<r.length;n++)t.engine.write(r[n],e.options);t.encoding=!1,t.processPacketQueue()})))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},p.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var r=setTimeout((function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(r)}})}},p.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,r){var n=r(247),a=r(1077),i=r(1086),s=r(1087);t.polling=function(e){var t=!1,r=!1,s=!1!==e.jsonp;if("undefined"!=typeof location){var o="https:"===location.protocol,c=location.port;c||(c=o?443:80),t=e.hostname!==location.hostname||c!==e.port,r=e.secure!==o}if(e.xdomain=t,e.xscheme=r,"open"in new n(e)&&!e.forceJSONP)return new a(e);if(!s)throw new Error("JSONP disabled");return new i(e)},t.websocket=s},function(e,t,r){var n=r(249),a=r(158),i=r(108),s=r(159),o=r(484),c=r(160)("engine.io-client:polling");e.exports=l;var u=null!=new(r(247))({xdomain:!1}).responseType;function l(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),n.call(this,e)}s(l,n),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(e){var t=this;function r(){c("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(c("we are currently polling - waiting to pause"),n++,this.once("pollComplete",(function(){c("pre-pause polling complete"),--n||r()}))),this.writable||(c("we are currently writing - waiting to pause"),n++,this.once("drain",(function(){c("pre-pause writing complete"),--n||r()})))}else r()},l.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(e){var t=this;c("polling got data %s",e);i.decodePayload(e,this.socket.binaryType,(function(e,r,n){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var e=this;function t(){c("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),t()):(c("transport not open - deferring close"),this.once("open",t))},l.prototype.write=function(e){var t=this;this.writable=!1;var r=function(){t.writable=!0,t.emit("drain")};i.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,r)}))},l.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",r="";return!1!==this.timestampRequests&&(e[this.timestampParam]=o()),this.supportsBinary||e.sid||(e.b64=1),e=a.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(r=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+e}},function(e,t,r){(function(t){var n=r(1079),a=Object.prototype.toString,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===a.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===a.call(File);e.exports=function e(r){if(!r||"object"!=typeof r)return!1;if(n(r)){for(var a=0,o=r.length;a<o;a++)if(e(r[a]))return!0;return!1}if("function"==typeof t&&t.isBuffer&&t.isBuffer(r)||"function"==typeof ArrayBuffer&&r instanceof ArrayBuffer||i&&r instanceof Blob||s&&r instanceof File)return!0;if(r.toJSON&&"function"==typeof r.toJSON&&1===arguments.length)return e(r.toJSON(),!0);for(var c in r)if(Object.prototype.hasOwnProperty.call(r,c)&&e(r[c]))return!0;return!1}}).call(this,r(11).Buffer)},function(e,t,r){"use strict";var n,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i={},s=0,o=0;function c(e){var t="";do{t=a[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function u(){var e=c(+new Date);return e!==n?(s=0,n=e):e+"."+c(s++)}for(;o<64;o++)i[a[o]]=o;u.encode=c,u.decode=function(e){var t=0;for(o=0;o<e.length;o++)t=64*t+i[e.charAt(o)];return t},e.exports=u},function(e,t){var r=[].indexOf;e.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,r){var n=r(246),a=r(94),i=r(1089),s=r(487),o=r(488),c=r(125)("socket.io-client:socket"),u=r(158),l=r(483);e.exports=p;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=a.prototype.emit;function p(e,t,r){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}a(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",o(this,"onopen")),s(e,"packet",o(this,"onpacket")),s(e,"close",o(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.reconnecting||this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},p.prototype.send=function(){var e=i(arguments);return e.unshift("message"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(d.hasOwnProperty(e))return h.apply(this,arguments),this;var t=i(arguments),r={type:(void 0!==this.flags.binary?this.flags.binary:l(t))?n.BINARY_EVENT:n.EVENT,data:t,options:{}};return r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?u.encode(this.query):this.query;c("sending connect packet with query %s",e),this.packet({type:n.CONNECT,query:e})}else this.packet({type:n.CONNECT})},p.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},p.prototype.onpacket=function(e){var t=e.nsp===this.nsp,r=e.type===n.ERROR&&"/"===e.nsp;if(t||r)switch(e.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(e);break;case n.ACK:case n.BINARY_ACK:this.onack(e);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,r=!1;return function(){if(!r){r=!0;var a=i(arguments);c("sending ack %j",a),t.packet({type:l(a)?n.BINARY_ACK:n.ACK,id:e,data:a})}}},p.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(e){return this.flags.compress=e,this},p.prototype.binary=function(e){return this.flags.binary=e,this}},function(e,t){e.exports=function(e,t,r){return e.on(t,r),{destroy:function(){e.removeListener(t,r)}}}},function(e,t){var r=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},function(e,t,r){r(1091),r(490);e.exports=GameHammerMobile={fixHammerjsDeltaIssue:null,lastEvent:null,pinchZoomOrigin:null,element:null,pinchStart:{x:void 0,y:void 0},originalSize:{width:2550,height:1650},current:{x:0,y:0,z:1,zooming:!1,width:2550,height:1650},last:{x:0,y:0,z:1},render:function(e,t){},attachEvents:function(e,t){try{var r=this;r.element=document.getElementById("gameboard");var n=new Hammer(r.element,{});n.get("pinch").set({enable:!0}),n.get("pan").set({threshold:0}),n.on("pan",(function(e){"pan"!==r.lastEvent&&(r.fixHammerjsDeltaIssue={x:e.deltaX,y:e.deltaY}),r.current.x=r.last.x+e.deltaX-r.fixHammerjsDeltaIssue.x,r.current.y=r.last.y+e.deltaY-r.fixHammerjsDeltaIssue.y,r.lastEvent="pan",r.update()})),n.on("pinch",(function(e){var t=r.scaleFrom(r.pinchZoomOrigin,r.last.z,r.last.z*e.scale);r.current.x=t.x+r.last.x+e.deltaX,r.current.y=t.y+r.last.y+e.deltaY,r.current.z=t.z+r.last.z,r.lastEvent="pinch",r.update()})),n.on("pinchstart",(function(e){r.pinchStart.x=e.center.x,r.pinchStart.y=e.center.y,r.pinchZoomOrigin=r.getRelativePosition(r.element,{x:r.pinchStart.x,y:r.pinchStart.y},r.originalSize,r.current.z),r.lastEvent="pinchstart"})),n.on("panend",(function(e){r.last.x=r.current.x,r.last.y=r.current.y,r.lastEvent="panend"})),n.on("pinchend",(function(e){r.last.x=r.current.x,r.last.y=r.current.y,r.last.z=r.current.z,r.lastEvent="pinchend"})),t.hammertime=n}catch(e){}},update:function(){this.current.height=this.originalSize.height*this.current.z,this.current.width=this.originalSize.width*this.current.z,this.element.style.transform="translate3d("+this.current.x+"px, "+this.current.y+"px, 0) scale("+this.current.z+")"},getRelativePosition:function(e,t,r,n){var a=this.getCoords(e),i=t.x-a.x,s=t.y-a.y;return{x:i/(r.width*n/2)-1,y:s/(r.height*n/2)-1}},getCoords:function(e){var t=e.getBoundingClientRect(),r=document.body,n=document.documentElement,a=window.pageYOffset||n.scrollTop||r.scrollTop,i=window.pageXOffset||n.scrollLeft||r.scrollLeft,s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,c=t.top+a-s,u=t.left+i-o;return{x:Math.round(u),y:Math.round(c)}},scaleFrom:function(e,t,r){var n=this.getCoordinateShiftDueToScale(this.originalSize,t),a=this.getCoordinateShiftDueToScale(this.originalSize,r),i=r-t,s=n.x-a.x,o=n.y-a.y;return{x:e.x*s,y:e.y*o,z:i}},getCoordinateShiftDueToScale:function(e,t){var r=t*e.width,n=t*e.height;return{x:(r-e.width)/2,y:(n-e.height)/2}}}},function(e,t){e.exports=function(e,t){var r=new Hammer(t,{});e.hammertime=r,r.get("pinch").set({enable:!0}),r.get("pan").set({threshold:0});var n=void 0,a={x:void 0,y:void 0},i=void 0,s={width:2550,height:1650},o={x:0,y:0,z:1,zooming:!1,width:1*s.width,height:1*s.height},c={x:o.x,y:o.y,z:o.z};function u(e,t,r,n){var a,i,s,o,c,u,l,d,h,p=(a=e.getBoundingClientRect(),i=document.body,s=document.documentElement,o=window.pageYOffset||s.scrollTop||i.scrollTop,c=window.pageXOffset||s.scrollLeft||i.scrollLeft,u=s.clientTop||i.clientTop||0,l=s.clientLeft||i.clientLeft||0,d=a.top+o-u,h=a.left+c-l,{x:Math.round(h),y:Math.round(d)}),f=t.x-p.x,m=t.y-p.y;return{x:f/(r.width*n/2)-1,y:m/(r.height*n/2)-1}}function l(e,t){var r=t*e.width,n=t*e.height;return{x:(r-e.width)/2,y:(n-e.height)/2}}r.on("pan",(function(e){"pan"!==i&&(n={x:e.deltaX,y:e.deltaY}),o.x=c.x+e.deltaX-n.x,o.y=c.y+e.deltaY-n.y,i="pan",h()})),r.on("pinch",(function(e){var t,r,n,a,u,p,f,m,g=(t=d,r=c.z,n=c.z*e.scale,a=l(s,r),u=l(s,n),p=n-r,f=a.x-u.x,m=a.y-u.y,{x:t.x*f,y:t.y*m,z:p});o.x=g.x+c.x+e.deltaX,o.y=g.y+c.y+e.deltaY,o.z=g.z+c.z,i="pinch",h()}));var d=void 0;function h(){o.height=s.height*o.z,o.width=s.width*o.z,t.style.transform="translate3d("+o.x+"px, "+o.y+"px, 0) scale("+o.z+")"}r.on("pinchstart",(function(e){a.x=e.center.x,a.y=e.center.y,d=u(t,{x:a.x,y:a.y},s,o.z),i="pinchstart"})),r.on("panend",(function(e){c.x=o.x,c.y=o.y,i="panend"})),r.on("pinchend",(function(e){c.x=o.x,c.y=o.y,c.z=o.z,i="pinchend"}))}},function(e,t,r){"use strict";function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(12),c=function(){function e(t,r){i(this,e),this.app=t||{},this.save_options=1}var t,r,n,c,u,l,d,h,p,f,m,g,y,b;return t=e,(r=[{key:"initialize",value:(b=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadOptions();case 2:return e.next=4,this.loadRuntimeOptions();case 4:return this.saveOptions(),e.abrupt("return");case 6:case"end":return e.stop()}}),e,this)}))),function(){return b.apply(this,arguments)})},{key:"loadOptions",value:(y=a(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e){t.next=19;break}if("null"==(r=localStorage.getItem("options"))||null==r){t.next=6;break}this.app.options=JSON.parse(r),t.next=19;break;case 6:return t.prev=6,t.next=9,fetch("/options");case 9:return n=t.sent,t.next=12,n.json();case 12:this.app.options=t.sent,this.saveOptions(),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),console.error(t.t0);case 19:case"end":return t.stop()}}),t,this,[[6,16]])}))),function(){return y.apply(this,arguments)})},{key:"loadRuntimeOptions",value:(g=a(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.app.options.runtime||(this.app.options.runtime={}),e.prev=1,"DEV"!==this.app.options.runtime.env){e.next=10;break}return e.next=5,fetch("/runtime");case 5:return t=e.sent,e.next=8,t.json();case 8:this.app.options.runtime=e.sent,this.saveOptions();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])}))),function(){return g.apply(this,arguments)})},{key:"saveOptions",value:function(){if(1!=this.app.BROWSER||0!=this.save_options)try{void 0!==e&&localStorage.setItem("options",JSON.stringify(this.app.options))}catch(e){console.log(e)}}},{key:"resetOptions",value:(m=a(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/options");case 3:return t=e.sent,e.next=6,t.json();case 6:this.app.options=e.sent,this.saveOptions(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return m.apply(this,arguments)})},{key:"deleteBlock",value:(f=a(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e,t,r){return f.apply(this,arguments)})},{key:"saveTransaction",value:function(e){var t=e.returnMessage(),r={request:"save"};r.tx=e,r.type=t.module,this.app.network.sendRequestWithCallback("archive",r,(function(e){}))}},{key:"saveTransactionByKey",value:function(e,t){var r=t.returnMessage(),n={request:"save_key"};n.tx=t,n.key=e,n.type=r.module,this.app.network.sendRequestWithCallback("archive",n,(function(e){}))}},{key:"deleteTransaction",value:function(e){var t={request:"delete"};t.tx=e,t.publickey=this.app.wallet.returnPublicKey(),t.sig=this.app.crypto.signMessage("delete_"+e.transaction.sig,this.app.wallet.returnPrivateKey()),this.app.network.sendRequestWithCallback("archive",t,(function(e){}))}},{key:"loadTransactions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2?arguments[2]:void 0,n="archive",a={request:"load"};a.type=e,a.num=t,a.publickey=this.app.wallet.returnPublicKey(),this.app.network.sendRequestWithCallback(n,a,(function(e){var t=[];e&&e.txs&&e.txs.length>0&&(t=e.txs.map((function(e){return new o.transaction(JSON.parse(e))}))),r(t)}))}},{key:"loadTransactionsByKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,n=arguments.length>3?arguments[3]:void 0,a="archive",i={request:"load_keys"};i.keys=e,i.type=t,i.num=r,this.app.network.sendRequestWithCallback(a,i,(function(e){if(null!=e)if(null!=e.txs)if(0!=e.txs.length){var t=[];e&&e.txs&&e.txs.length>0&&(t=e.txs.map((function(e){return new o.transaction(JSON.parse(e))}))),n(t)}else n([]);else n([]);else n([])}))}},{key:"convertBlockStringToHeadersAndTransactionsJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={headers:"",transactions:[]};if(-1==e.indexOf("\n"))return t.headers=e,t;var r=e.split("\n");r.length>0&&(t.headers=r[0]);for(var n=1;n<r.length;n++)t.transactions.push(r[n]);return t}},{key:"getModuleOptionsByName",value:function(e){for(var t=0;t<this.app.options.modules.length;t++)if(this.app.options.modules[t].name===e)return this.app.options.modules[t];return null}},{key:"loadBlockById",value:function(e){}},{key:"loadBlockByHash",value:function(e){}},{key:"loadBlockByFilename",value:function(e){}},{key:"loadBlocksFromDisk",value:(p=a(regeneratorRuntime.mark((function e(){var t=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length>0&&void 0!==t[0]&&t[0];case 1:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{key:"returnFileSystem",value:function(){return null}},{key:"saveBlock",value:(h=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)})},{key:"saveClientOptions",value:function(){}},{key:"returnDatabaseByName",value:(d=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"returnBlockFilenameByHash",value:(l=a(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e,t){return l.apply(this,arguments)})},{key:"returnBlockFilenameByHashPromise",value:function(e){}},{key:"queryDatabase",value:(u=a(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e,t,r){return u.apply(this,arguments)})},{key:"executeDatabase",value:(c=a(regeneratorRuntime.mark((function e(t,r,n){var a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.length>3&&void 0!==a[3]&&a[3];case 1:case"end":return e.stop()}}),e)}))),function(e,t,r){return c.apply(this,arguments)})}])&&s(t.prototype,r),n&&s(t,n),e}();e.exports=c},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,c,"next",e)}function c(e){a(s,n,i,o,c,"throw",e)}o(void 0)}))}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=r(27),h=(r(68).randomBytes,r(67)),p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(d,e);var t,r,n,a,u,l=c(d);function d(e,t){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(r=l.call(this,e)).previously_selected=0,r.introduction="",r.warning="",r.optionsStorage={},(this instanceof d?this.constructor:void 0)===d)throw new TypeError("Cannot construct Abstract instances directly");if("function"!=typeof r.returnBalance)throw new TypeError("Must override returnBalance");if("function"!=typeof r.transfer)throw new TypeError("Must override transfer");if("function"!=typeof r.returnAddress)throw new TypeError("Must override returnAddress");if("function"!=typeof r.returnPrivateKey)throw new TypeError("Must override returnPrivateKey");if("function"!=typeof r.hasPayment)throw new TypeError("Must override hasPayment");return r.app=e,r.ticker=t,r.categories="Cryptocurrency",r.eventEmitter=new h,r.optionsStorage.isActivated=!1,r}return t=d,(r=[{key:"initialize",value:function(e){this.optionsStorage.isActivated&&this.eventEmitter.emit("activated")}},{key:"activate",value:function(){this.optionsStorage.isActivated||(this.optionsStorage.isActivated=!0,this.save(),this.eventEmitter.emit("activated"))}},{key:"returnIsActivated",value:function(){return this.optionsStorage.isActivated}},{key:"onIsActivated",value:function(){var e=this;return new Promise((function(t,r){e.optionsStorage.isActivated&&t(),e.eventEmitter.on("activated",(function(){t()}))}))}},{key:"formatBalance",value:(u=i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.returnBalance();case 2:return t=e.sent,balace=parseFloat(t),t<9999&&(t=t.toPrecision(5)),e.abrupt("return",t.toString());case 6:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"handlePeerRequest",value:(a=i(regeneratorRuntime.mark((function e(t,r,n,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r.request){e.next=2;break}return e.abrupt("return");case 2:if(null!=r.data){e.next=4;break}return e.abrupt("return");case 4:"cryptoAddressRequest"===r.request&&r.data.recipient===this.app.wallet.returnPublicKey()&&r.data.ticker===this.ticker&&a({address:this.returnAddress()});case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return a.apply(this,arguments)})},{key:"save",value:function(){this.app.storage.getModuleOptionsByName(this.name).storage=this.optionsStorage,this.app.storage.saveOptions()}},{key:"load",value:function(){var e=this.app.storage.getModuleOptionsByName(this.name);if(!e)throw"Module Not Installed: "+this.name;e.storage||(e.storage={},this.save()),this.optionsStorage=e.storage}}])&&s(t.prototype,r),n&&s(t,n),d}(d);p.prototype.renderModalSelectCrypto=function(){return null},p.prototype.attachEventsModalSelectCrypto=function(){return null},p.prototype.returnBalance=function(){throw new Error("returnBalance must be implemented by subclass!")},p.prototype.transfer=function(){throw new Error("transfer must be implemented by subclass!")},p.prototype.returnAddress=function(){throw new Error("returnAddress must be implemented by subclass!")},p.prototype.returnPrivateKey=function(){throw new Error("returnPrivateKey must be implemented by subclass!")},p.prototype.hasPayment=function(){throw new Error("hasPayment must be implemented by subclass!")},e.exports=p},function(e,t,r){(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,c,"next",e)}function c(e){a(s,n,i,o,c,"throw",e)}o(void 0)}))}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=r(12),p=r(54),f=r(27),m=r(250),g=r(263),y=r(127),b=(r(266),r(126));r(267);fetch=r(157);var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(C,e);var n,a,l,f,v,_,w,x,k,S,O,P,E,A=u(C);function C(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C),(t=A.call(this,e)).name="Arcade",t.description="Interface for creating and joining games coded for the Saito Open Source Game Engine.",t.categories="Games Entertainment",t.events=["chat-render-request"],t.mods=[],t.affix_callbacks_to=[],t.games=[],t.observer=[],t.old_game_removal_delay=2e6,t.is_initializing=!1,t.initialization_timer=null,t.viewing_arcade_initialization_page=0,t.icon_fa="fas fa-gamepad",t.accepted=[],t.description="A place to find, play and manage games!",t.categories="Games Utilities",t.header=null,t.overlay=null,t}return n=C,(a=[{key:"receiveEvent",value:function(e,t){"chat-render-request"==e&&this.browser_active&&(g.render(this.app,this),g.attachEvents(this.app,this))}},{key:"handleUrlParams",value:function(e){if("watch"==e.get("i")){var t=e.get("msg");this.observeGame(t,0)}}},{key:"renderArcadeMain",value:function(e,t){1==this.browser_active&&0==this.viewing_arcade_initialization_page&&(m.render(this.app,this),m.attachEvents(this.app,this))}},{key:"returnServices",value:function(){var e=[];return e.push({service:"arcade",domain:"saito"}),e}},{key:"respondTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"header-dropdown"==e?{name:this.appname?this.appname:this.name,icon_fa:this.icon_fa,browser_active:this.browser_active,slug:this.returnSlug()}:null}},{key:"initialize",value:function(e){var t=this;o(d(C.prototype),"initialize",this).call(this,e),null!=this.app.options.games&&this.addGamesToOpenList(this.app.options.games.map((function(e){return t.createGameTXFromOptionsGame(e)}))),this.app.modules.respondTo("arcade-games").forEach((function(e){t.affix_callbacks_to.push(e.name)}))}},{key:"initializeHTML",value:function(e){this.header=new y(e,this),e.modules.getRespondTos("private_sale_overlay").forEach((function(e,t){e.initializePrivateSaleOverlay()}))}},{key:"onPeerHandshakeComplete",value:function(e,t){var r=this;if(0!=this.browser_active){var n=(new Date).getTime()-this.old_game_removal_delay;this.sendPeerDatabaseRequestWithFilter("Arcade",'SELECT * FROM games WHERE status = "open" AND created_at > '.concat(n),(function(e){e.rows&&r.addGamesToOpenList(e.rows.map((function(e){return new h.transaction(JSON.parse(e.tx))})))})),(new Date).getTime(),this.sendPeerDatabaseRequestWithFilter("Arcade","SELECT DISTINCT id, count(id) as count, last_move, game_id, module, player, players_array FROM gamestate WHERE 1 = 1 AND last_move > 10 GROUP BY game_id ORDER BY count DESC, last_move DESC LIMIT 8",(function(e){e.rows&&e.rows.forEach((function(e){var t=e.game_id,n=e.module,a=e.players_array,i=e.player;r.addGameToObserverList({game_id:t,module:n,players_array:a,player:i})}))}))}}},{key:"render",value:(E=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("arcade-container")||t.browser.addElementToDom(b()),null==this.header&&(this.header=new y(t,this)),null==this.overlay&&(this.overlay=new p(t,this)),this.header.render(t,this),this.header.attachEvents(t,this),this.overlay.render(t,this),this.overlay.attachEvents(t,this),g.render(t,this),g.attachEvents(t,this),this.renderArcadeMain(this.app,this);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return E.apply(this,arguments)})},{key:"isMyGame",value:function(e,t){for(var r=0;r<e.msg.players.length;r++)if(e.msg.players[r]==t.wallet.returnPublicKey())return!0;return!1}},{key:"purgeBadGames",value:function(e){if(e.options&&e.options.games)for(var t=e.options.games.length-1;t>=0;t--)""===e.options.games[t].module&&e.options.games[t].id.length<25&&e.options.games.splice(t,1)}},{key:"notifyPeers",value:function(e,t){for(var r=0;r<e.network.peers.length;r++)if("lite"==e.network.peers[r].peer.synctype){var n={request:"arcade spv update",data:{}};n.data.tx=t,e.network.peers[r].sendRequest(n.request,n.data)}}},{key:"joinGame",value:function(e,t){for(var r=t.returnMessage(),n=(r.game_id,0);n<this.games;n++)if(this.games[n].transaction&&this.games[n].transaction.msg&&r.game_id==this.games[n].transaction.msg.game_id){for(var a=0;a<this.games[n].transaction.msg.players.length;a++)for(var i=0;i<t.transaction.to.length;i++)this.games[n].transaction.msg.players[a]==t.transaction.to[i].add&&(a=this.games[n].transaction.msg.players.length+1);this.games[n].transaction.msg.players.length}if(this.joinGameOnOpenList(t),this.receiveJoinRequest(null,t,0,e),t.transaction){if(!t.transaction.sig)return;if(1==t.msg.over)return;for(var s=0;s<this.games.length;s++)if(this.games[s].transaction.sig==r.game_id&&this.games[s].msg.players.length>=this.games[s].msg.players_needed&&this.games[s].msg.players[0]==this.app.wallet.returnPublicKey()){this.games[s].msg.players.splice(0,1),this.games[s].msg.players_sigs.splice(0,1);var o=this.createAcceptTransaction(this.games[s]);this.app.network.propagateTransaction(o)}}}},{key:"onConfirmation",value:(P=i(regeneratorRuntime.mark((function e(t,r,n,a){var i,s,o,c,u,l,d,h,p,f,m,g,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.returnMessage(),0!=n){e.next=44;break}if(this.purgeBadGames(a),(0==a.BROWSER&&"open"==i.request||"join"==i.request||"accept"==i.request||"close"==i.request)&&this.notifyPeers(a,r),"Arcade"===i.module&&"open"==i.request&&(this.addGameToOpenList(r),this.receiveOpenRequest(t,r,n,a)),"ArcadeInvite"===i.module&&"open"==i.request&&r.isTo(a.wallet.returnPublicKey())&&this.addGameToOpenList(r),"join"==i.request&&this.joinGame(a,r),"Arcade"==i.module&&"close"==i.request&&(this.receiveCloseRequest(t,r,n,a),this.receiveGameoverRequest(t,r,n,a)),null!=i.game_state&&""!=i.game_id&&this.saveGameState(t,r,n,a),"sorry"===i.request&&r.isTo(a.wallet.returnPublicKey())&&a.modules.returnModule("Arcade").receiveSorryAcceptedTransaction(t,r,n,a),"accept"!==i.request){e.next=44;break}return s={$game_id:r.msg.game_id},e.next=15,this.app.storage.executeDatabase('UPDATE games SET status = "active" WHERE game_id = $game_id',s,"arcade");case 15:if(r.isTo(a.wallet.returnPublicKey())){e.next=17;break}return e.abrupt("return");case 17:if(this.app.options&&(this.app.options.games||(this.app.options.games=[]),this.app.options.games)){for(o=!1,c=0;c<this.app.options.games.length;c++)this.app.options.games[c].id==i.game_id&&(o=!0);if(0==o){if(!r.isTo(a.wallet.returnPublicKey())&&this.games.length>0)for(u=0;u<this.games.length;u++)(l=Object.assign({sig:""},this.games[u].transaction)).sig==i.game_id&&(l.msg=Object.assign({players_needed:0,players:[]},this.games[u].msg),parseInt(l.msg.players_needed)>=l.msg.players.length+1&&this.removeGameFromOpenList(i.game_id));r.isTo(a.wallet.returnPublicKey())&&(d=this.app.modules.returnModule(r.msg.game))&&d.loadGame(r.msg.game_id)}}if(1!=this.app.BROWSER){e.next=34;break}if(null==this.app.options){e.next=32;break}if(null==this.app.options.games){e.next=32;break}h=0;case 22:if(!(h<this.app.options.games.length)){e.next=32;break}if(this.app.options.games[h].id!=i.game_id){e.next=29;break}if(0!=this.app.options.games[h].initializing){e.next=29;break}if(!((p=(new Date).getTime())-this.app.options.games[h].ts>5e3)){e.next=29;break}return console.log("".concat(p," ------- ").concat(this.app.options.games[h].ts)),e.abrupt("return");case 29:h++,e.next=22;break;case 32:if(!r.isTo(a.wallet.returnPublicKey())&&this.games.length>0)for(f=0;f<this.games.length;f++)(m=Object.assign({sig:""},this.games[f].transaction)).sig==i.game_id&&(m.msg=Object.assign({players_needed:0,players:[]},this.games[f].msg),parseInt(m.msg.players_needed)==m.msg.players.length+1&&this.removeGameFromOpenList(i.game_id));for(g=0;g<this.games.length;g++)(y=Object.assign({sig:""},this.games[g].transaction)).sig===r.msg.game_id&&y.options&&y.options.players_needed<=y.players.length+1&&(console.info("ACCEPT MESSAGE SENT ON GAME WAITING FOR ONE PLAYER! -- deleting"),this.games.splice(g,1),console.info("RE-RENDER"),this.renderArcadeMain(this.app,this));case 34:return e.next=36,this.receiveAcceptRequest(t,r,n,a);case 36:if(0==this.browser_active&&"Arcade"===i.module&&r.isTo(a.wallet.returnPublicKey())&&this.showAlert(),!r.isTo(a.wallet.returnPublicKey())){e.next=44;break}if(console.info("THIS GAMEIS FOR ME: "+r.isTo(a.wallet.returnPublicKey())),console.info("OUR GAMES: ",this.app.options.games),!r.msg.over){e.next=43;break}if(1!=r.msg.over){e.next=43;break}return e.abrupt("return");case 43:this.launchGame(i.game_id);case 44:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return P.apply(this,arguments)})},{key:"handlePeerRequest",value:(O=i(regeneratorRuntime.mark((function e(t,r,n){var a,i,s,c,u,l,p,f,m,g,y,b,v=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=v.length>3&&void 0!==v[3]?v[3]:null,"arcade spv update"===r.request){if(i=new h.transaction(r.data.tx.transaction),s=i.returnMessage(),c=0,u=null,console.log("arcade spv update: "+JSON.stringify(s)),"Arcade"===s.module&&"open"==s.request&&(siteMessage(s.game+" invite created.",3e3),this.addGameToOpenList(i),this.receiveOpenRequest(u,i,c,t)),"ArcadeInvite"===s.module&&"open"==s.request&&i.isTo(t.wallet.returnPublicKey())&&(siteMessage("Private "+s.game+" invite created.",3e3),this.addGameToOpenList(i)),"join"==s.request&&(console.log("joining game on open list..."),this.joinGameOnOpenList(i),console.log("and processing join request"),this.receiveJoinRequest(u,i,c,t)),"accept"==s.request&&(this.removeGameFromOpenList(s.game_id),s.players.includes(t.wallet.returnPublicKey())&&(siteMessage(s.module+" invite accepted.",2e4),t.browser.sendNotification("Game Accepted",s.module+" invite accepted.","game-acceptance-notification"))),"Arcade"==s.module&&"close"==s.request){if(i.isFrom(this.app.wallet.returnPublicKey()))this.removeGameFromOpenList(i.returnMessage().sig);else if(this.app.options&&this.app.options.games)for(l=0;l<this.app.options.games.length;l++)this.app.options.games[l].id===i.returnMessage().sig&&(console.log("%%%%%%%%%%%%%%%%"),console.log("%%%%%%%%%%%%%%%%"),console.log("%%%% DELETED %%%"),console.log("%%%%%%%%%%%%%%%%"),console.log("%%%%%%%%%%%%%%%%"),t.options.games[l].players.includes(i.transaction.from[0].add)&&(this.app.options.games[l].status="Opponent Resigned",this.app.options.games[l].over=1,this.app.storage.saveOptions(),(p=this.app.modules.returnModule(this.app.options.games[l].module))&&(p.loadGame(i.returnMessage().sig),p.updateStatus("Opponent Resigned"),p.updateLog("Opponent Resigned"))));this.removeGameFromOpenList(s.sig)}this.receiveCloseRequest(u,i,c,t)}if("rawSQL"!=r.request||0!=t.BROWSER||"Arcade"!=r.data.module){e.next=29;break}if(!(r.data.sql.indexOf("is_game_already_accepted")>-1)){e.next=29;break}if(f=r.data.game_id,(m={}).rows=[],!(this.accepted[f]>0)){e.next=25;break}if(!(this.accepted[f]>2)){e.next=21;break}return g="SELECT status FROM games WHERE game_id = $game_id",y={$game_id:f},e.next=13,this.app.storage.queryDatabase(g,y,"arcade");case 13:if(!(b=e.sent)){e.next=21;break}if(!(b.length>0)){e.next=21;break}if("open"!==b[0].status){e.next=21;break}return this.accepted[f]=0,m.rows.push({game_still_open:1}),a(m),e.abrupt("return");case 21:this.accepted[f]++,m.rows.push({game_still_open:0}),e.next=27;break;case 25:this.accepted[f]=1,m.rows.push({game_still_open:1});case 27:return a(m),e.abrupt("return");case 29:o(d(C.prototype),"handlePeerRequest",this).call(this,t,r,n,a);case 30:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return O.apply(this,arguments)})},{key:"doesGameExistLocally",value:function(e){if(this.app.options&&this.app.options.games)for(var t=0;t<this.app.options.games.length;t++)if(this.app.options.games[t].id===e)return 1;return 0}},{key:"receiveGameoverRequest",value:(S=i(regeneratorRuntime.mark((function e(t,r,n,a){var i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.returnMessage(),s={$status:"over",$game_id:i.game_id,$winner:i.winner},e.next=5,this.app.storage.executeDatabase("UPDATE games SET status = $status, winner = $winner WHERE game_id = $game_id",s,"arcade");case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return S.apply(this,arguments)})},{key:"receiveOpenRequest",value:(k=i(regeneratorRuntime.mark((function e(t,r,n,a){var i,s,o,c,u,l,d,h,p,f,m,g,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.returnMessage(),s=r.transaction.sig,o=2,parseInt(i.players_needed)>2&&(o=parseInt(i.players_needed)),c=i.game,u={},null!=i.options&&(u=i.options),l=r.transaction.from[0].add,d=l,h=1,null!=t&&(h=t.block.id),p=parseInt(r.transaction.ts),f=p+6e4*parseInt(60),m="",i.players_sigs.length>0&&(m=i.players_sigs[0]),g={$game_id:s,$players_needed:parseInt(o),$players_array:d,$module:c,$status:"open",$options:u,$tx:JSON.stringify(r.transaction),$start_bid:h,$created_at:p,$expires_at:f},e.next=21,a.storage.executeDatabase("INSERT INTO games (\n                game_id ,\n                players_needed ,\n                players_array ,\n                module ,\n                status ,\n                options ,\n                tx ,\n                start_bid ,\n                created_at ,\n                expires_at\n              ) VALUES (\n                $game_id ,\n                $players_needed ,\n                $players_array ,\n                $module ,\n                $status ,\n                $options ,\n                $tx,\n                $start_bid ,\n                $created_at ,\n                $expires_at\n              )",g,"arcade");case 21:return y={$game_id:s,$player:l,$acceptance_sig:m,$module:c,$created_at:p,$expires_at:f},e.next=25,a.storage.executeDatabase("INSERT INTO invites (\n                game_id ,\n                player ,\n                acceptance_sig ,\n                module ,\n                created_at ,\n                expires_at\n              ) VALUES (\n                $game_id ,\n                $player ,\n                $acceptance_sig ,\n                $module ,\n                $created_at ,\n                $expires_at\n              )",y,"arcade");case 25:return e.abrupt("return");case 26:case"end":return e.stop()}}),e)}))),function(e,t,r,n){return k.apply(this,arguments)})},{key:"receiveJoinRequest",value:(x=i(regeneratorRuntime.mark((function e(t,r,n,a){var i,s,o,c,u,l,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.returnMessage(),s=r.msg.game_id,parseInt(i.players_needed)>2&&parseInt(i.players_needed),o=i.game,null!=i.options&&i.options,c=r.transaction.from[0].add,null!=t&&t.block.id,u=parseInt(r.transaction.ts),l=u+6e4*parseInt(60),d="",""!=i.invite_sig&&(d=i.invite_sig),h={$game_id:s,$player:c,$acceptance_sig:d,$module:o,$created_at:u,$expires_at:l},e.next=21,a.storage.executeDatabase("INSERT INTO invites (\n                game_id ,\n                player ,\n                acceptance_sig ,\n                module ,\n                created_at ,\n                expires_at\n              ) VALUES (\n                $game_id ,\n                $player ,\n                $acceptance_sig ,\n                $module ,\n                $created_at ,\n                $expires_at\n              )",h,"arcade");case 21:return e.abrupt("return");case 22:case"end":return e.stop()}}),e)}))),function(e,t,r,n){return x.apply(this,arguments)})},{key:"createOpenTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.app.wallet.returnPublicKey(),n="Arcade";""!=t&&(r=t,n="ArcadeInvite");var a=e.ts,i=e.name,s=e.options,o=e.options_html,c=e.players_needed,u=this.app.crypto.signMessage("invite_game_".concat(a),this.app.wallet.returnPrivateKey()),l=this.app.wallet.createUnsignedTransactionWithDefaultFee();return l.transaction.to.push(new h.slip(r,0)),l.msg={ts:a,module:n,request:"open",game:i,options:s,options_html:o||"",players_needed:parseInt(c),players:[this.app.wallet.returnPublicKey()],players_sigs:[u]},l=this.app.wallet.signTransaction(l)}},{key:"receiveCloseRequest",value:(w=i(regeneratorRuntime.mark((function e(t,r,n,a){var i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.returnMessage(),s={$status:"close",$game_id:i.sig},e.next=5,a.storage.executeDatabase("UPDATE games SET status = $status WHERE game_id = $game_id",s,"arcade");case 5:e.sent;case 6:case"end":return e.stop()}}),e)}))),function(e,t,r,n){return w.apply(this,arguments)})},{key:"createInviteTransaction",value:function(e,t,r){var n=r.returnMessage(),a=e.wallet.createUnsignedTransactionWithDefaultFee();return a.transaction.to.push(new h.slip(r.transaction.from[0].add,0)),a.transaction.to.push(new h.slip(e.wallet.returnPublicKey(),0)),a.msg.ts="",a.msg.module=n.game,a.msg.request="invite",a.msg.game_id=r.transaction.sig,a.msg.players_needed=parseInt(n.players_needed),a.msg.options=n.options,a.msg.accept_sig="",""!=r.msg.accept_sig&&(a.msg.accept_sig=r.msg.accept_sig),""!=r.msg.ts&&(a.msg.ts=r.msg.ts),a.msg.invite_sig=e.crypto.signMessage("invite_game_"+a.msg.ts,e.wallet.returnPrivateKey()),a=this.app.wallet.signTransaction(a)}},{key:"createJoinTransaction",value:function(e){var t=e.returnMessage(),r=this.app.wallet.createUnsignedTransactionWithDefaultFee();return r.transaction.to.push(new h.slip(e.transaction.from[0].add,0)),r.transaction.to.push(new h.slip(this.app.wallet.returnPublicKey(),0)),r.msg.ts="",r.msg.module=t.game,r.msg.request="join",r.msg.game_id=e.transaction.sig,r.msg.players_needed=parseInt(t.players_needed),r.msg.options=t.options,r.msg.invite_sig=this.app.crypto.signMessage("invite_game_"+e.msg.ts,this.app.wallet.returnPrivateKey()),""!=e.msg.ts&&(r.msg.ts=e.msg.ts),r=this.app.wallet.signTransaction(r)}},{key:"launchSinglePlayerGame",value:function(e,t){window.location="/"+t.slug}},{key:"createAcceptTransaction",value:function(e){var t=e.returnMessage(),r=this.app.crypto.signMessage("invite_game_"+t.ts,this.app.wallet.returnPrivateKey());t.players.push(this.app.wallet.returnPublicKey()),t.players_sigs.push(r),t.request="accept";for(var n=this.app.wallet.createUnsignedTransactionWithDefaultFee(),a=0;a<t.players.length;a++)n.transaction.to.push(new h.slip(t.players[a],0));return n.transaction.to.push(new h.slip(this.app.wallet.returnPublicKey(),0)),n.msg=t,n.msg.game_id=e.transaction.sig,n.msg.request="accept",n.msg.module=t.game,n=this.app.wallet.signTransaction(n)}},{key:"receiveSorryAcceptedTransaction",value:function(e,t,r,n){var a=t.returnMessage();try{if(n.options.games)for(var i=n.options.games.length-1;i>=0;i--)n.options.games[i].id==a.game_id&&(n.options.games[i].players.length!=parseInt(n.options.games[i].players_needed)||n.options.games[i].players.includes(t.transaction.from[0].add)||(1==this.browser_active&&salert("Opponent has responded claiming game already accepted :( -- returning to Arcade"),n.options.games.splice(i,1),n.storage.saveOptions()));if(1==this.browser_active)return salert("Sorry! Your opponent has replied that has already accepted that game!"),void(window.location="/arcade")}catch(e){}}},{key:"receiveAcceptRequest",value:(_=i(regeneratorRuntime.mark((function e(t,r,n,a){var i,s,o,c,u,l,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=this.browser_active){e.next=19;break}if(!r.isTo(a.wallet.returnPublicKey())){e.next=17;break}if(r.returnMessage().game_id,!a.options.games){e.next=12;break}i=0;case 6:if(!(i<a.options.games.length)){e.next=12;break}if(a.options.games[i].id!=r.transaction.sig){e.next=9;break}return e.abrupt("return");case 9:i++,e.next=6;break;case 12:GameLoader.render(a,this),GameLoader.attachEvents(a,this),this.viewing_arcade_initialization_page=1,e.next=19;break;case 17:if(0!=this.game.player){e.next=19;break}return e.abrupt("return");case 19:for(s=r.returnMessage(),o=[],c=0;c<r.transaction.to.length;c++)o.includes(r.transaction.to[c].add)||o.push(r.transaction.to[c].add);return(u=o).sort(),l=u.join("_"),d="UPDATE games SET players_array = $players_array WHERE status = $status AND game_id = $game_id",h={$players_array:l,$status:"open",$game_id:s.game_id},e.prev=27,e.next=30,this.app.storage.executeDatabase(d,h,"arcade");case 30:e.sent,e.next=35;break;case 33:e.prev=33,e.t0=e.catch(27);case 35:return d="UPDATE games SET status = 'active' WHERE game_id = $game_id",h={$game_id:s.game_id},e.prev=37,e.next=40,this.app.storage.executeDatabase(d,h,"arcade");case 40:e.sent,e.next=46;break;case 43:e.prev=43,e.t1=e.catch(37),console.log(e.t1);case 46:case"end":return e.stop()}}),e,this,[[27,33],[37,43]])}))),function(e,t,r,n){return _.apply(this,arguments)})},{key:"launchGame",value:function(e){var t=this;if(0!=this.browser_active){var r=this;r.is_initializing=!0,r.initialization_timer=setInterval((function(){console.log("setInterval");var n=-1;if(null!=r.app.options.games)for(var a=0;a<r.app.options.games.length;a++)r.app.options.games[a].id==e&&(n=a);if(-1!=n&&0==r.app.options.games[n].initializing){var i=1;if(r.app.wallet.wallet.pending.length>0)for(var s=0;s<r.app.wallet.wallet.pending.length;s++){var o=new h.transaction(JSON.parse(r.app.wallet.wallet.pending[s])).returnMessage();o.module==r.app.options.games[n].module&&o.game_id==r.app.options.games[n].id&&(i=0)}if(0==i)return void console.log("transaction for this game still in pending...");clearInterval(r.initialization_timer),GameLoader.render(t.app,t,e),GameLoader.attachEvents(t.app,t),t.viewing_arcade_initialization_page=1}}),1e3)}}},{key:"webServer",value:function(e,n,a){o(d(C.prototype),"webServer",this).call(this,e,n,a);var s=e.storage.returnFileSystem(),c=r(53);null!=s&&(n.get("/arcade/observer_multi/:game_id/:bid/:tid/:last_move",function(){var t=i(regeneratorRuntime.mark((function t(r,n){var a,i,s,o,c,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=0,i=0,s=0,o=0;try{r.params.last_move&&(a=r.params.last_move),r.params.bid&&(i=r.params.bid),r.params.tid&&(s=r.params.tid),r.params.game_id&&(o=r.params.game_id),"undefined"===i&&(i=0),"undefined"===s&&(s=0)}catch(e){}return c="SELECT * FROM gamestate WHERE game_id = $game_id AND last_move > $last_move ORDER BY last_move ASC LIMIT 10",u={$game_id:o,$last_move:a},0!=s&&(c="SELECT * FROM gamestate WHERE game_id = $game_id AND (last_move > $last_move OR tid > $last_tid) ORDER BY last_move ASC LIMIT 10",u={$game_id:o,$last_move:a,$last_tid:s}),t.next=10,e.storage.queryDatabase(c,u,"arcade");case 10:if(!((l=t.sent).length>0)){t.next=19;break}return n.setHeader("Content-type","text/html"),n.charset="UTF-8",n.write(JSON.stringify(l)),n.end(),t.abrupt("return");case 19:return n.setHeader("Content-type","text/html"),n.charset="UTF-8",n.write("{}"),n.end(),t.abrupt("return");case 24:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),n.get("/arcade/observer_prev/:game_id/:current_move",function(){var t=i(regeneratorRuntime.mark((function t(r,n){var a,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="SELECT * FROM gamestate WHERE game_id = $game_id AND last_move < $last_move ORDER BY last_move DESC LIMIT 2",i={$game_id:r.params.game_id,$last_move:r.params.current_move},0!=r.params.current_move&&"undefined"!==r.params.current_move||(a="SELECT * FROM gamestate WHERE game_id = $game_id ORDER BY last_move ASC LIMIT 1",i={$game_id:r.params.game_id}),t.next=5,e.storage.queryDatabase(a,i,"arcade");case 5:if(!((s=t.sent).length>0)){t.next=14;break}return n.setHeader("Content-type","text/html"),n.charset="UTF-8",n.write(JSON.stringify(s)),n.end(),t.abrupt("return");case 14:return n.setHeader("Content-type","text/html"),n.charset="UTF-8",n.write("{}"),n.end(),t.abrupt("return");case 19:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),n.get("/arcade/observer/:game_id",function(){var t=i(regeneratorRuntime.mark((function t(r,n){var a,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={$game_id:r.params.game_id},t.next=4,e.storage.queryDatabase("SELECT bid, tid, last_move, game_state FROM gamestate WHERE game_id = $game_id ORDER BY id DESC LIMIT 1",a,"arcade");case 4:if(!((i=t.sent).length>0)){t.next=12;break}return s=i[0],n.setHeader("Content-type","text/html"),n.charset="UTF-8",n.write(JSON.stringify(s)),n.end(),t.abrupt("return");case 12:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),n.get("/arcade/keystate/:game_id/:player_pkey",function(){var t=i(regeneratorRuntime.mark((function t(r,n){var a,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={$game_id:r.params.game_id,$playerpkey:r.params.player_pkey},t.next=4,e.storage.queryDatabase("SELECT * FROM gamestate WHERE game_id = $game_id AND player = $playerpkey ORDER BY id DESC LIMIT 1",a,"arcade");case 4:if(!((i=t.sent).length>0)){t.next=12;break}return s=i[0],n.setHeader("Content-type","text/html"),n.charset="UTF-8",n.write(s.game_state.toString()),n.end(),t.abrupt("return");case 12:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),n.get("/arcade/restore/:game_id/:player_pkey",function(){var t=i(regeneratorRuntime.mark((function t(r,n){var a,i,s,o,c,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={$game_id:r.params.game_id},t.next=4,e.storage.queryDatabase("SELECT * FROM gamestate WHERE game_id = $game_id ORDER BY id DESC LIMIT 10",a,"arcade");case 4:i=t.sent,s=0,o=[],c="";try{null!=r.params.player_pkey&&(c=r.params.pkayer_pkey)}catch(e){}if(!(i.length>0)){t.next=16;break}for(u=0;u<i.length;u++)(l=i[u]).player_pkey==c?s=1:o.push(l.state),""!=c&&1!=s||(u=i.length+1);return n.setHeader("Content-type","text/html"),n.charset="UTF-8",n.write(JSON.stringify(o)),n.end(),t.abrupt("return");case 16:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),n.get("/arcade/invite/:gameinvite",function(){var e=i(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setHeader("Content-type","text/html"),n.sendFile(c.resolve(t+"/web/invite.html"));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()))}},{key:"createGameTXFromOptionsGame",value:function(e){var t=new h.transaction;if(!(e.over&&e.last_block>0)){e.players?(t.transaction.to=e.players.map((function(e){return new h.slip(e)})),t.transaction.from=e.players.map((function(e){return new h.slip(e)}))):(t.transaction.from.push(new h.slip(this.app.wallet.returnPublicKey())),t.transaction.to.push(new h.slip(this.app.wallet.returnPublicKey())));var r={request:"loaded",game:e.module,game_id:e.id,options:e.options,players:e.players,players_needed:e.players_needed,over:e.over,last_block:e.last_block};return"Opponent Resigned"===e.status&&(r.options_html="Opponent Resigned"),t.transaction.sig=e.id,t.msg=r,t=this.app.wallet.signTransaction(t)}}},{key:"removeOldGames",value:function(){for(var e=0,t=0;t<this.games.length;t++){var r=parseInt(this.games[t].transaction.ts);(new Date).getTime()-r>this.old_game_removal_delay&&(this.games.splice(t,1),e=1,t--)}return e}},{key:"removeGameFromOpenList",value:function(e){this.games=this.games.filter((function(t){return!t.transaction||t.transaction.sig!=e})),this.renderArcadeMain(this.app,this)}},{key:"isForUs",value:function(e){var t=this;if(!e)return!1;var r=!0,n=e.returnMessage();return!!n&&(n.options.players_invited&&(r=!1,e.transaction.from[0].add==this.app.wallet.returnPublicKey()?r=!0:e.returnMessage().options.players_invited.forEach((function(e){e!=t.app.wallet.returnPublicKey()&&e!=t.app.keys.returnIdentifierByPublicKey(t.app.wallet.returnPublicKey())||(r=!0)}))),r)}},{key:"validateGame",value:function(e){if(!e)return!1;if(!e.transaction)return!1;if(!e.transaction.sig)return!1;if(1==e.msg.over)return!1;for(var t=0;t<this.games.length;t++){var r=Object.assign({sig:""},this.games[t].transaction);if(e.transaction.sig==r.sig)return!1;if(""!=e.returnMessage().game_id&&e.returnMessage().game_id==r.sig)return!1;if(e.returnMessage().game_id===this.games[t].transaction.sig)return console.log("ERROR 480394: not re-adding existing game to list"),!1}return!0}},{key:"joinGameOnOpenList",value:function(e){if(e.transaction&&e.transaction.sig&&1!=e.msg.over){for(var t=e.returnMessage(),r=0;r<this.games.length;r++)this.games[r].transaction.sig==t.game_id&&(this.games[r].msg.players.includes(e.transaction.from[0].add)||""!=t.invite_sig&&(this.games[r].msg.players.push(e.transaction.from[0].add),this.games[r].msg.players_sigs||(this.games[r].msg.players_sigs=[]),this.games[r].msg.players_sigs.push(t.invite_sig)));try{1==this.browser_active&&this.render(this.app)}catch(e){console.log("Non-fatal error rendering open game list")}}}},{key:"addGameToOpenList",value:function(e){if(console.log("addGameToOpenList"),this.validateGame(e)){var t=this.isForUs(e);t&&this.games.unshift(e);var r=this.removeOldGames();(t||r)&&this.renderArcadeMain(this.app,this)}}},{key:"addGamesToOpenList",value:function(e){var t=this,r=!1;e.forEach((function(e,n){if(t.validateGame(e)){var a=t.isForUs(e);a&&t.games.unshift(e),r=r||a}}));var n=this.removeOldGames();(r||n)&&this.renderArcadeMain(this.app,this)}},{key:"addGameToObserverList",value:function(e){for(var t=0;t<this.observer.length;t++)if(e.game_id==this.observer[t].game_id)return;this.observer.push(e),this.renderArcadeMain(this.app,this)}},{key:"saveGameState",value:(v=i(regeneratorRuntime.mark((function e(t,r,n,a){var i,s,o,c,u,l,d,h,p,f,m,g,y,b,v,_,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=r.returnMessage(),s="",""!=i.game_state&&(s=i.game_state),o='INSERT INTO gamestate (\n                game_id ,\n                player ,\n                players_array ,\n                module ,\n                bid ,\n                tid ,\n                lc ,\n                sharekey ,\n                game_state ,\n                tx ,\n                last_move\n       ) VALUES (\n                $game_id,\n                $player,\n                $players_array,\n                $module,\n                $bid,\n                $tid,\n                $lc,\n                "",\n                $game_state,\n                $tx ,\n                $last_move\n        )',c=[],u=r.transaction.to,l=0;l<u.length;l++)c.includes(u[l].add)||c.push(u[l].add);if(s.last_turn=i.turn,1!=c.length){e.next=10;break}return e.abrupt("return");case 10:return d=c.join("_"),h={$game_id:i.game_id,$player:r.transaction.from[0].add,$players_array:d,$module:i.module,$bid:t.block.id,$tid:r.transaction.id,$lc:1,$game_state:JSON.stringify(s),$tx:JSON.stringify(r.transaction),$last_move:(new Date).getTime()},e.next=14,a.storage.executeDatabase(o,h,"arcade");case 14:if(!(Math.random()<.005)){e.next=43;break}return p=(new Date).getTime(),f={$last_move:p-64e7},e.next=21,a.storage.queryDatabase("SELECT game_id FROM gamestate WHERE last_move < $last_move GROUP BY game_id ORDER BY last_move ASC",f,"arcade");case 21:if(!(m=e.sent)){e.next=34;break}if(!(m.length>0)){e.next=34;break}g=0;case 25:if(!(g<m.length)){e.next=34;break}return y=m[g].game_id,b={$game_id:y},e.next=31,a.storage.executeDatabase("DELETE FROM gamestate WHERE game_id = $game_id",b,"arcade");case 31:g++,e.next=25;break;case 34:return v=(new Date).getTime()-12e5,_={$adjusted_ts:v},e.next=39,this.app.storage.executeDatabase("DELETE FROM games WHERE status = 'open' AND created_at < $adjusted_ts",_,"arcade");case 39:return w={$adjusted_ts:v},e.next=43,this.app.storage.executeDatabase("DELETE FROM invites WHERE created_at < $adjusted_timestamp",w,"arcade");case 43:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return v.apply(this,arguments)})},{key:"observeGame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this,n=JSON.parse(this.app.crypto.base64ToString(e)),a=n.player,i=n.game_id,s=n.tid,o=n.bid,c=n.last_move;if(void 0!==s&&""!=s||(s=1),void 0!==o&&""!=o||(s=1),void 0!==c&&""!=c||(s=1),this.app.options.games)for(var u=this.app.options.games,l=0;l<u.length;l++)if(u[l].id===i){u[l].observer_mode=1,u[l].observer_mode_active=0;for(var d=0;d<u[l].players.length;d++)u[l].players[d]==a&&(u[l].observer_mode_player=d+1);u[l].observer_mode_player||(u[l].observer_mode_player=1),""==a&&(a=u[l].players[0]),u[l].ts=(new Date).getTime(),r.app.keys.addWatchedPublicKey(a),r.app.options.games=u,r.app.storage.saveOptions();var h=r.app.modules.returnModule(n.module).returnSlug();return void(window.location="/"+h)}r.app.keys.addWatchedPublicKey(a);var p=r.app.options.games;null==p&&(p=[]);for(var f=0;f<p.length;f++)p[f].id==i&&p.splice(f,1);console.log("ABOUT TO KICK INTO OBSERVER MODE!"),r.app.options.games=p,r.initializeObserverMode(i,t),console.log("AND CONTINUING")}},{key:"observerDownloadNextMoves",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this,n=0;n<e.game.future.length;n++){var a=new h.transaction(JSON.parse(e.game.future[n])),i=a.returnMessage();i.step.game<=e.game.step.game&&i.step.game<=e.game.step.players[a.transaction.from[0].add]&&(e.game.future.splice(n,1),n--)}console.log(" NEXT MOVES: /arcade/observer_multi/".concat(e.game.id,"/").concat(e.game.step.bid,"/").concat(e.game.step.tid,"/").concat(e.game.step.ts)),fetch("/arcade/observer_multi/".concat(e.game.id,"/").concat(e.game.step.bid,"/").concat(e.game.step.tid,"/").concat(e.game.step.ts)).then((function(n){n.json().then((function(n){console.log("data length: "+n.length);for(var a=0;a<n.length;a++){console.log("i: "+a+" --- tx id: "+n[a].id);var i=new h.transaction(JSON.parse(n[a].tx));i.msg=i.returnMessage(),i.msg.game_state={},i.msg.last_move=n[a].last_move,i.msg.last_tid=n[a].tid,i.msg.last_bid=n[a].bid,i=r.app.wallet.signTransaction(i);for(var s=0,o=0;o<e.game.future.length;o++)new h.transaction(JSON.parse(e.game.future[o])),console.log("steps comparison: "+i.msg.step.game+" -- vs -- "+e.game.step.game),i.msg.step.game<=e.game.step.game&&i.msg.step.game<=e.game.step.players[i.transaction.from[0].add]&&(s=1);0==s&&e.game.future.push(JSON.stringify(i.transaction))}e.saveGame(e.game.id),e.saveFutureMoves(e.game.id),null!=t&&t(e)}))})).catch((function(e){return console.info("ERROR 354322: error downloading next moves",e)}))}},{key:"initializeObserverModePreviousStep",value:(f=i(regeneratorRuntime.mark((function e(t,r){var n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(n=this).app.options.games,i=null,console.log("FETCHING: /arcade/observer_prev/".concat(t,"/").concat(r)),fetch("/arcade/observer_prev/".concat(t,"/").concat(r)).then((function(e){e.json().then((function(e){i=JSON.parse(e[0].game_state),console.log("UPDATED GAME TS to: "+JSON.stringify(i.step)),console.log("UPDATED GAME QUEUE to: "+JSON.stringify(i.queue));var t=new h.transaction(JSON.parse(e[0].tx));t.msg=t.returnMessage(),t.msg.game_state={},t.msg.last_move=e[0].last_move,t.msg.last_tid=e[0].tid,t.msg.last_bid=e[0].bid,t=n.app.wallet.signTransaction(t),null!=i.future&&"undefined"!=i.future&&null!=i.future||(i.future=[]),i.future.push(JSON.stringify(t.transaction));var r=i;r.turn=[],console.log("reset to step: "+r.step.game),console.log("queue at this step: "+r.queue),r.observer_mode=1,r.observer_mode_active=0,r.player=0,r.step.ts=0;for(var s=-1,o=0;o<a.length;o++)a[o].id===i.id&&(s=o);-1==s?a.push(r):a[s]=r,n.app.options.games=a,n.app.storage.saveOptions(),n.app.modules.returnModule(r.module);var c=n.app.modules.returnModule(i.module).returnSlug();window.location="/"+c}))}));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"initializeObserverMode",value:function(e,t){var r=this,n=r.app.options.games,a=null,i=0;console.log("initializing observer mode here!"),console.log("FETCHED: /arcade/observer_multi/".concat(e,"/0/0/").concat(t)),fetch("/arcade/observer_multi/".concat(e,"/0/0/").concat(t)).then((function(e){e.json().then((function(e){console.log("RECEIVED THE RESPONSE!");for(var t=0;t<e.length;t++)if(0==i){console.log("AA2"),a=JSON.parse(e[t].game_state),i=1,console.log("AA3");var s=new h.transaction(JSON.parse(e[t].tx));s.msg=s.returnMessage(),s.msg.game_state={},s.msg.last_move=e[t].last_move,s.msg.last_tid=e[t].last_tid,s.msg.last_bid=e[t].bid,s=r.app.wallet.signTransaction(s),null!=a.future&&"undefined"!=a.future&&null!=a.future||(a.future=[]),a.future.push(JSON.stringify(s.transaction)),console.log("AAA")}else{console.log("BB1");var o=new h.transaction(JSON.parse(e[t].tx));o.msg=o.returnMessage(),o.msg.game_state={},o.msg.last_move=e[t].last_move,o.msg.last_tid=e[t].tid,o.msg.last_bid=e[t].bid,o=r.app.wallet.signTransaction(o),null!=a.future&&"undefined"!=a.future&&null!=a.future||(a.future=[]),a.future.push(JSON.stringify(o.transaction)),console.log("BB2")}var c=a;c.observer_mode=1,c.observer_mode_active=0,c.player=0;for(var u=-1,l=0;l<n.length;l++)n[l].id===a.id&&(u=l);-1==u?n.push(c):n[u]=c,r.app.options.games=n,r.app.storage.saveOptions();var d=r.app.modules.returnModule(a.module).returnSlug();window.location="/"+d}))})).catch((function(e){return console.info("ERROR 351232: error fetching queued games for observer mode",e)}))}},{key:"shouldAffixCallbackToModule",value:function(e){if("ArcadeInvite"==e)return 1;if("Arcade"==e)return 1;for(var t=0;t<this.affix_callbacks_to.length;t++)if(this.affix_callbacks_to[t]==e)return 1;return 0}},{key:"updateIdentifier",value:function(){}},{key:"onResetWallet",value:function(){this.app.options&&(this.app.options.games=[])}}])&&s(n.prototype,a),l&&s(n,l),C}(f);e.exports=v}).call(this,"/")},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(1107),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t}var t,r,s;return t=e,(r=[{key:"render",value:function(e,t){document.querySelector(".game-overlay-backdrop")||e.browser.addElementToDom(i())}},{key:"attachEvents",value:function(e,t){}},{key:"showOverlay",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.render(e,t);var a=this,i=document.querySelector(".game-overlay"),s=document.querySelector(".game-overlay-backdrop");i.innerHTML=r,i.style.display="block",s.style.display="block",s.onclick=function(e){a.hideOverlay(n)}}},{key:"blockClose",value:function(){document.querySelector(".game-overlay-backdrop").onclick=function(e){}}},{key:"hideOverlay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.querySelector(".game-overlay"),r=document.querySelector(".game-overlay-backdrop");t.style.display="none",r.style.display="none",null!=e&&e()}},{key:"showCardSelectionOverlay",value:function(e,t,r){var a=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s="",o="";i.backgroundImage&&(o+="background-image: url(".concat(i.backgroundImage,"); background-size: cover;")),i.padding&&(o+="padding:".concat(i.padding,";")),i.textAlign&&(o+="text-align:".concat(i.textAlign,";")),s+='<div style="'.concat(o,'">');var c=1,u=1,l=0,d=1,h="80vh",p="80vw",f=[];for(var m in i.onContinue||(i.onContinue=function(){},c=0),i.onClose||(i.onClose=function(){},u=0),i.onCardSelect||(i.onCardSelect=function(){},d=0),i.onOpen||(i.onOpen=function(){}),(c||u)&&(l=1),i.rowGap&&i.rowGap,i.columnGap&&i.columnGap,i.title&&(s+='<div class="game-overlay-cardlist-title">'.concat(i.title,"</div>")),i.subtitle&&(s+='<div class="game-overlay-cardlist-subtitle">'.concat(i.subtitle,"</div>")),i.cardlistHeight&&(h=i.cardlistHeight),i.cardlistWidth&&(p=i.cardlistWidth),i.unselectableCards&&(f=i.unselectableCards),s+='<div class="game-overlay-cardlist-container">',r){var g='<div class="game-overlay-cardlist-card">';if(null!=r[m]){var y=0;"object"!==n(r[m])||Array.isArray(r[m])||null==r[m]||"undefined"!=r[m].returnCardImage&&null!=r[m].returnCardImage&&(g+=r[m].returnCardImage(),y=1),0==y&&(Array.isArray(r)?g+=t.returnCardImage(r[m]):g+=t.returnCardImage(m))}else g+=t.returnCardImage(m);g+="</div>";for(var b=0;b<f.length;b++)JSON.stringify(f[b])===JSON.stringify(r[m])&&(g=g.replace(/game-overlay-cardlist-card/g,"game-overlay-cardlist-card game-overlay-cardlist-unselectable"));s+=g}if(s+="</div>",l&&(s+='<div class="game-overlay-button-container">',c&&(s+='<div class="game-overlay-button-continue button game-overlay-cardlist-button">continue</div>'),u&&(s+='<div class="game-overlay-button-close button super game-overlay-cardlist-button">close</div>'),s+="</div>"),s+="</div>",this.showOverlay(e,t,s,(function(){i.onClose()})),i.onOpen(),document.querySelectorAll(".game-overlay-cardlist-card").forEach((function(e){e.children&&(e.style.height=a.calculateElementHeight(e.children[0]))})),document.querySelector(".game-overlay-cardlist-container").style.width=p,document.querySelector(".game-overlay-cardlist-container").style.height="auto",document.querySelector(".game-overlay-cardlist-container").style.maxWidth=p,document.querySelector(".game-overlay-cardlist-container").style.maxHeight=h,2==r.length){var v=document.querySelector(".game-overlay-cardlist-container");if(v){v.style.justifyItems="unset";var _=v.children[0];if(_){var w=_.children[0];w&&(w.style.float="right")}}}else{var x=document.querySelector(".game-overlay-cardlist-container");x&&(x.style.justifyItems="center")}if(1==r.length){var k=document.querySelector(".game-overlay-cardlist-card");k.style.marginRight="auto",k.style.marginLeft="auto"}if(c&&(document.querySelector(".game-overlay-button-continue").onclick=function(e){i.onContinue()}),u&&(document.querySelector(".game-overlay-button-close").onclick=function(e){i.onClose()}),d&&(document.querySelectorAll(".game-overlay-cardlist-card").forEach((function(e){e.onclick=function(t){var r=e.getAttribute("id");null==r&&e.children&&(r=e.children[0].getAttribute("id")),i.onCardSelect(r)}})),document.querySelectorAll(".game-overlay-cardlist-unselectable").forEach((function(e){e.onclick=function(e){}}))),i.columns>0){for(var S="1fr ",O=1;O<i.columns;O++)S+="1fr ";document.querySelector(".game-overlay-cardlist-container").style.gridTemplateColumns=S}else document.querySelector(".game-overlay-cardlist-container").style.gridTemplateColumns="1fr 1fr 1fr 1fr"}},{key:"calculateElementHeight",value:function(e){return document.all?(elmHeight=e.currentStyle.height,elmMargin=parseInt(e.currentStyle.marginTop,10)+parseInt(e.currentStyle.marginBottom,10)):(elmHeight=document.defaultView.getComputedStyle(e,"").getPropertyValue("height"),elmMargin=parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("margin-top"))+parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("margin-bottom"))),parseInt(elmHeight)+parseInt(elmMargin)+"px"}}])&&a(t.prototype,r),s&&a(t,s),e}();e.exports=s},function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(1108),s=r(54),o=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};n(this,e),this.app=t,this.callback=r}var t,r,o;return t=e,(r=[{key:"render",value:function(e,t){t.modal_overlay=new s(e),t.modal_overlay.render(e,t),t.modal_overlay.attachEvents(e,t),document.querySelector(".add-user")||t.modal_overlay.showOverlay(e,t,i())}},{key:"attachEvents",value:function(e,t){var r=this;document.querySelector(".username-registry-input").select(),document.querySelector(".username-registry-input").setAttribute("placeholder",""),document.querySelector(".tutorial-skip").onclick=function(){e.options.wallet.anonymous=1,e.storage.saveOptions(),t.modal_overlay.hideOverlay(),r.callback()},document.querySelector("#registry-modal-button").onclick=function(){var n=document.querySelector("#registry-input").value;""==document.querySelector("#name").value&&e.modules.returnActiveModule().sendPeerDatabaseRequestWithFilter("Registry",'SELECT * FROM records WHERE identifier = "'.concat(n,'@saito"'),(function(a){if(a.rows){if(a.rows.length>0)return void salert("Identifier already in use. Please select another");e.modules.returnModule("Registry")&&(e.modules.returnModule("Registry").tryRegisterIdentifier(n)?(salert("Registering "+n+"@saito"),t.modal_overlay.hideOverlay(),r.callback()):salert("Error 411413: Error Registering Username"))}}))}}}])&&a(t.prototype,r),o&&a(t,o),e}();e.exports=o},function(e,t){e.exports=AracadeGameCarouselLeafTemplate=function(e,t){return'\n         <div class="leaf" style="background: url('.concat(t.background,');background-size:cover">\n           <div class="big">').concat(t.title,"</div>\n         </div>\n  ")}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,c,"next",e)}function c(e){a(s,n,i,o,c,"throw",e)}o(void 0)}))}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(g,e);var t,r,n,a,u,l,d,h,p,f,m=c(g);function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=m.call(this,e)).name="Archive",t.description="Supports the saving and serving of network transactions",t.categories="Utilities Core",t.events=[],t.description="A tool for storing transactions for asynchronous retreival.",t.categories="Utilities",t}return t=g,(r=[{key:"onConfirmation",value:function(e,t,r,n){t.returnMessage(),0==r&&""!=t.msg.module&&this.saveTransaction(t)}},{key:"handlePeerRequest",value:(f=i(regeneratorRuntime.mark((function e(t,r,n,a){var i,s,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r.request){e.next=2;break}return e.abrupt("return");case 2:if(null!=r.data){e.next=4;break}return e.abrupt("return");case 4:if(s={},"archive"!==r.request){e.next=32;break}if("delete"===r.data.request&&this.deleteTransaction(r.data.tx,r.data.publickey,r.data.sig),"save"===r.data.request&&this.saveTransaction(r.data.tx,r.data.type),"save_key"!==r.data.request){e.next=12;break}if(r.data.key){e.next=11;break}return e.abrupt("return");case 11:this.saveTransactionByKey(r.data.key,r.data.tx,r.data.type);case 12:if("load"!==r.data.request){e.next=23;break}return o="",c=50,""!=r.data.num&&(c=r.data.num),""!=r.data.type&&(o=r.data.type),e.next=19,this.loadTransactions(r.data.publickey,r.data.sig,o,c);case 19:i=e.sent,s.err="",s.txs=i,a(s);case 23:if("load_keys"!==r.data.request){e.next=32;break}if(r.data.keys){e.next=26;break}return e.abrupt("return");case 26:return e.next=28,this.loadTransactionsByKeys(r.data);case 28:i=e.sent,s.err="",s.txs=i,a(s);case 32:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return f.apply(this,arguments)})},{key:"saveTransaction",value:(p=i(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:null,r=o.length>1&&void 0!==o[1]?o[1]:"",null!=t){e.next=4;break}return e.abrupt("return");case 4:n="",a={},i=0;case 7:if(!(i<t.transaction.to.length)){e.next=15;break}return n="INSERT OR IGNORE INTO txs (sig, publickey, tx, ts, type) VALUES ($sig, $publickey, $tx, $ts, $type)",a={$sig:t.transaction.sig,$publickey:t.transaction.to[i].add,$tx:JSON.stringify(t.transaction),$ts:t.transaction.ts,$type:r},e.next=12,this.app.storage.executeDatabase(n,a,"archive");case 12:i++,e.next=7;break;case 15:s=0;case 16:if(!(s<t.transaction.from.length)){e.next=24;break}return n="INSERT OR IGNORE INTO txs (sig, publickey, tx, ts, type) VALUES ($sig, $publickey, $tx, $ts, $type)",a={$sig:t.transaction.sig,$publickey:t.transaction.from[s].add,$tx:JSON.stringify(t.transaction),$ts:t.transaction.ts,$type:r},e.next=21,this.app.storage.executeDatabase(n,a,"archive");case 21:s++,e.next=16;break;case 24:Math.random()<1e-4&&this.pruneOldTransactions();case 25:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"pruneOldTransactions",value:(h=i(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(new Date).getTime()-1e8,r={$ts:t,$type:"Chat"},this.app.storage.executeDatabase("DELETE FROM txs WHERE ts < $ts AND type = $type",r,"archive");case 4:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"saveTransactionByKey",value:(d=i(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:"",r=s.length>1&&void 0!==s[1]?s[1]:null,n=s.length>2&&void 0!==s[2]?s[2]:"",null!=r){e.next=5;break}return e.abrupt("return");case 5:return a="INSERT OR IGNORE INTO txs (sig, publickey, tx, ts, type) VALUES ($sig, $publickey, $tx, $ts, $type)",i={$sig:r.transaction.sig,$publickey:t,$tx:JSON.stringify(r.transaction),$ts:r.transaction.ts,$type:n},e.next=9,this.app.storage.executeDatabase(a,i,"archive");case 9:Math.random()<1e-4&&this.pruneOldData();case 10:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"deleteTransaction",value:(l=i(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:null,r=s.length>1&&void 0!==s[1]?s[1]:"",n=s.length>2&&void 0!==s[2]?s[2]:"",null!=t){e.next=5;break}return e.abrupt("return");case 5:if(!this.app.crypto.verifyMessage("delete_"+t.transaction.sig,n,r)){e.next=10;break}return a="DELETE FROM txs WHERE publickey = $publickey AND sig = $sig",i={$sig:t.transaction.sig,$publickey:r},e.next=10,this.app.storage.executeDatabase(a,i,"archive");case 10:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"loadTransactions",value:(u=i(regeneratorRuntime.mark((function e(t,r,n,a){var i,s,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="",s={},"all"===n?(i="SELECT * FROM txs WHERE publickey = $publickey ORDER BY id DESC LIMIT $num",s={$publickey:t,$num:a}):(i="SELECT * FROM txs WHERE publickey = $publickey AND type = $type ORDER BY id DESC LIMIT $num",s={$publickey:t,$type:n,$num:a}),e.next=5,this.app.storage.queryDatabase(i,s,"archive");case 5:return o=e.sent,c=[],null!=o&&o.length>0&&(c=o.map((function(e){return e.tx}))),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return u.apply(this,arguments)})},{key:"loadTransactionsByKeys",value:(a=i(regeneratorRuntime.mark((function e(t){var r,n,a,i,s,o,c,u,l,d,h,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.keys,n=void 0===r?[]:r,a=t.type,i=void 0===a?"all":a,s=t.num,o=void 0===s?50:s,c="",u={},l=0,d="",h=[];try{n.forEach((function(e){d="$key".concat(l),h.push(d),u[d]=e,l++})),"all"===i?(c="SELECT * FROM txs WHERE publickey IN ( ".concat(h.join(",")," ) ORDER BY id DESC LIMIT $num"),u=Object.assign(u,{$num:o})):(c="SELECT * FROM txs WHERE publickey IN ( ".concat(h.join(",")," ) AND type = $type ORDER BY id DESC LIMIT $num"),u=Object.assign(u,{$type:i,$num:o}))}catch(e){console.log(e)}return e.prev=7,e.next=10,this.app.storage.queryDatabase(c,u,"archive");case 10:return p=e.sent,f=[],null!=p&&p.length>0&&(f=p.map((function(e){return e.tx}))),e.abrupt("return",f);case 16:e.prev=16,e.t0=e.catch(7),console.log(e.t0);case 19:case"end":return e.stop()}}),e,this,[[7,16]])}))),function(e){return a.apply(this,arguments)})}])&&s(t.prototype,r),n&&s(t,n),g}(r(27));e.exports=d},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=r(70),h=(r(12),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(h,e);var t,r,n,d=o(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=d.call(this,e)).app=e,t.name="Blackjack",t.description="This game is a playable demo under active development!",t.categories="Games Arcade Entertainment",t.type="Classic Cardgame",t.status="Alpha",t.card_img_dir="/blackjack/img/cards",t.useHUD=0,t.minPlayers=2,t.maxPlayers=6,t.interface=1,t.boardgameWidth=5100,t.settlement=[],t.updateHTML="",c(t,u(t))}return t=h,(r=[{key:"respondTo",value:function(e){if(null!=i(l(h.prototype),"respondTo",this).call(this,e))return i(l(h.prototype),"respondTo",this).call(this,e);if("arcade-carousel"==e){var t={background:"/blackjack/img/arcade/arcade-banner-background.png",title:"Blackjack"};return t}return null}},{key:"toggleIntro",value:function(){this.overlay.showOverlay(this.app,this,'<div class="intro">\n    <h1>Homestyle Blackjack</h1>\n    <p><strong>Homestyle Blackjack is quite different than Casino Blackjack. </strong></p>\n    <p>The game is played with a single deck (shuffled between each round) and <strong>each player takes turns as dealer</strong>, acting as the house against the other players. This means the dealer stakes the bets of all the other players. <strong>Each player is dealt a single card and given the chance to place a bet.</strong> After all the players (excluding the dealer) have placed their bets, one more card is dealt face up and gameplay begins.</p>\n    <p>Beginning to the left of the dealer, each player takes a turn, at which time all other players may view their full hand. Players may hit (take another card) or stand (end their turn). Players may hit as many times as they like, but they lose if they exceed 21 points (bust).\n    Cards are scored as usual per the number value and with J, Q, and K counting as 10. Aces count as either 1 or 11. If the player busts, the dealer immediately collects their bet and the player loses. The dealer is the last to play and may use their discretion, i.e. no mandatory casino rule of hitting below 17. If the dealer busts, remaining players win automatically. Any player with a higher score than the dealer wins their bet. <strong>The dealer wins all ties.</strong></p>\n    <p>Blackjacks--21 points with two cards--<strong>pay 2:1!</strong></p>\n    </div>')}},{key:"initializeHTML",value:function(e){var t=this;i(l(h.prototype),"initializeHTML",this).call(this,e),this.app.modules.respondTo("chat-manager").forEach((function(r){r.respondTo("chat-manager").render(e,t),r.respondTo("chat-manager").attachEvents(e,t)})),this.menu.addMenuOption({text:"Game",id:"game-game",class:"game-game",callback:function(e,t){t.menu.showSubMenu("game-game")}}),this.menu.addSubMenuOption("game-game",{text:"Log",id:"game-log",class:"game-log",callback:function(e,t){t.menu.hideSubMenus(),t.log.toggleLog()}}),this.menu.addSubMenuOption("game-game",{text:"Help",id:"game-intro",class:"game-intro",callback:function(e,t){t.menu.hideSubMenus(),t.toggleIntro()}}),this.menu.addSubMenuOption("game-game",{text:"Exit",id:"game-exit",class:"game-exit",callback:function(e,t){window.location.href="/arcade"}}),this.menu.addMenuIcon({text:'<i class="fa fa-window-maximize" aria-hidden="true"></i>',id:"game-menu-fullscreen",callback:function(e,t){t.menu.hideSubMenus(),e.browser.requestFullscreen()}});for(var r=0,n=0,a=0;a<this.app.modules.mods.length;a++)if("chat"===this.app.modules.mods[a].slug)for(var s=0;s<this.game.players.length;s++)this.game.players[s]!=this.app.wallet.returnPublicKey()&&function(){0==r&&(t.menu.addMenuOption({text:"Chat",id:"game-chat",class:"game-chat",callback:function(e,t){t.menu.showSubMenu("game-chat")}}),r=1),0==n&&(t.menu.addSubMenuOption("game-chat",{text:"Community",id:"game-chat-community",class:"game-chat-community",callback:function(e,t){t.menu.hideSubMenus(),c.mute_community_chat=0,c.sendEvent("chat-render-request",{}),c.openChatBox()}}),n=1);var e=[t.game.players[s],t.app.wallet.returnPublicKey()].sort(),i=t.app.crypto.hash(e.join("_")),o="Player "+(s+1),c=t.app.modules.mods[a];t.menu.addSubMenuOption("game-chat",{text:o,id:"game-chat-"+(s+1),class:"game-chat-"+(s+1),callback:function(t,r){r.menu.hideSubMenus(),c.createChatGroup(e,o),c.openChatBox(i),c.sendEvent("chat-render-request",{}),c.saveChat()}})}();this.menu.render(e,this),this.menu.attachEvents(e,this),this.log.render(e,this),this.log.attachEvents(e,this),this.playerbox.render(e,this),this.playerbox.attachEvents(e,this),this.playerbox.addClassAll("poker-seat-",!0),this.playerbox.addGraphicClass("hand"),this.playerbox.addGraphicClass("tinyhand"),this.playerbox.addStatus()}},{key:"initializeGame",value:function(e){""!=this.game.status&&this.updateStatus(this.game.status),""==this.game.dice&&this.initializeDice(),0==this.game.deck.length&&(this.game.state=this.returnInitialState(this.game.players.length),this.updateStatus("Generating the Game"),this.game.queue=[],this.game.queue.push("start"),this.game.queue.push("READY")),this.game.options?(this.game.options.stake?this.game.options.stake=parseFloat(this.game.options.stake):this.game.options.stake=1e3,this.game.options.crypto=this.game.options.crypto?this.game.options.crypto:"SAITO"):this.game.options={stake:1e3,crypto:"SAITO"},this.browser_active&&this.displayBoard()}},{key:"returnInitialState",value:function(e){var t={round:0,turn:0,dealer:0};t.player=Array(e);for(var r=0;r<e;r++)t.player[r]={credit:parseFloat(this.game.options.stake),name:this.app.keys.returnIdentifierByPublicKey(this.game.players[r],1)},t.player[r].name.indexOf("@")>0&&(t.player[r].name=t.player[r].name.substring(0,t.player[r].name.indexOf("@"))),t.player[r].name===this.game.players[r]&&(t.player[r].name=this.game.players[r].substring(0,10)+"...");return t}},{key:"initializeQueue",value:function(){for(var e=0;e<this.game.state.player.length;e++)this.game.state.player[e].wager=0,this.game.state.player[e].payout=1,this.game.state.player[e].hand=[],this.game.state.player[e].total=0,this.game.state.player[e].winner=null;this.game.queue=[],this.game.queue.push("takebets");for(var t=this.game.players.length;t>0;t--)this.game.queue.push("DEAL\t1\t".concat(t,"\t1"));for(var r=this.game.players.length;r>0;r--)this.game.queue.push("DECKENCRYPT\t1\t".concat(r));for(var n=this.game.players.length;n>0;n--)this.game.queue.push("DECKXOR\t1\t".concat(n));this.game.queue.push("DECK\t1\t"+JSON.stringify(this.returnDeck()))}},{key:"newRound",value:function(){if(1==this.countActivePlayers())return console.log("No more players"),this.game.queue.push("winner\t".concat(this.firstActivePlayer())),1;if(this.game.state.player.length>2){for(var e=!1,t=0;t<this.game.state.player.length;t++)this.game.state.player[t].credit<=0&&(console.log(this.game.players,this.game.state),e=!0,this.game.state.player.splice(t,1),this.removePlayer(this.game.players[t]),t--);e&&console.log(this.game.players,this.game.state)}for(var r=0;r<this.game.players.length;r++)this.game.players[r]===this.app.wallet.returnPublicKey()&&(this.game.player=r+1);this.game.state.turn=0,this.game.state.blackjack=0,this.game.state.round++,this.game.state.dealer=this.game.state.dealer%this.game.players.length+1,this.updateLog("Round: ".concat(this.game.state.round,", Dealer: P").concat(this.game.state.dealer," (").concat(this.game.state.player[this.game.state.dealer-1].name,")")),document.querySelectorAll(".plog").forEach((function(e){e.innerHTML=""})),this.initializeQueue()}},{key:"handleGameLoop",value:function(){if(this.game.queue.length>0){var e=this.game.queue.length-1,t=this.game.queue[e].split("\t");if(this.displayBoard(),"start"===t[0]||"newround"===t[0])return this.game.queue.splice(e,1),this.newRound(),1;if("play"===t[0])return this.game.queue.splice(e,1),parseInt(t[1])==this.game.player?this.playerTurn():this.updateStatus("Waiting for "+this.game.state.player[t[1]-1].name),0;if("hit"===t[0]){var r=parseInt(t[1]),n=r==this.game.state.dealer?"Dealer":"Player ".concat(r);return this.updateLog("".concat(n," hits")),this.game.queue.splice(e,1),this.game.queue.push("play\t"+r),this.game.queue.push("revealhand\t"+r+"\t1"),this.game.queue.push("DEAL\t1\t"+r+"\t1"),1}if("selectwager"===t[0]){var a=this,i=parseInt(t[1]);if(this.game.queue.splice(e,1),this.game.player!=i)this.game.player==this.game.state.dealer?this.updateStatus('<div class="status-info">You are the dealer. Waiting for players to set their wager</div>'):this.updateStatus('<div class="status-info">Player '+i+" is picking wager</div>");else{var s=parseFloat(this.game.options.stake),o=[.01,.05,.1,.25],c=this.game.state.player[i-1].credit,u='<div class="status-info">How much would you like to wager? (Available credit: '.concat(c,")</div>");u+="<ul>";for(var l=0;l<o.length;l++)o[l]*s<c&&(u+='<li class="menu_option" id="'.concat(o[l]*s,'">').concat(o[l]*s,"</li>"));o.slice(-1)*s>=c&&(u+='<li class="menu_option" id="'.concat(c,'">All In!</li>')),u+="</ul>",this.updateStatus(u,1),this.lockInterface();try{$(".menu_option").off(),$(".menu_option").on("click",(function(){$(".menu_option").off(),a.unlockInterface(),a.updateStatus("dealing cards");var e=$(this).attr("id");return a.addMove("setwager\t"+a.game.player+"\t"+e),a.endTurn(),0}))}catch(e){console.log("selectwager error",e)}}return 0}if("setwager"===t[0]){this.game.queue.splice(e,1);var d=parseInt(t[1]),h=parseInt(t[2]);return this.game.state.player[d-1].wager=h,this.updateLog("Player ".concat(d," is betting ").concat(h)),1}if("blackjack"===t[0]){this.game.queue.splice(e,1);var p=parseInt(t[1]),f=p==this.game.state.dealer?"Dealer":"Player ".concat(t[1]);return this.game.state.player[p-1].payout=2,this.updateLog("".concat(f," has a blackjack!")),1}if("stand"===t[0]){this.game.queue.splice(e,1);var m=t[1]==this.game.state.dealer?"Dealer":"Player ".concat(t[1]);return this.updateLog("".concat(m," stands")),1}if("bust"===t[0]){this.game.queue.splice(e,1);var g=t[1];if(g!=this.game.state.dealer){var y=this.game.state.player[g-1].wager;this.updateLog("Player ".concat(g," busts, loses ").concat(y," to dealer")),this.game.state.player[g-1].credit-=y,this.game.state.player[this.game.state.dealer-1].wager+=y,this.game.state.player[g-1].wager=0,g==this.game.player&&this.updateStatus("<div>You lose your bet of ".concat(y,"</div>"))}else this.updateLog("Dealer busts");return 1}if("takebets"===t[0]){this.game.queue.splice(e,1),this.game.queue.push("startplay");for(var b=this.game.players.length;b>0;b--)this.game.queue.push("revealhand\t".concat(b));for(var v=this.game.players.length;v>0;v--)this.game.queue.push("DEAL\t1\t".concat(v,"\t1"));for(var _=0;_<this.game.players.length-1;_++){var w=(this.game.state.dealer+_)%this.game.players.length+1;this.game.queue.push("selectwager\t"+w)}return console.log("Bet order:",this.game.queue),1}if("dealer"===t[0])return this.game.queue.splice(e,1),this.game.state.dealer==this.game.player?(21==this.scoreArrayOfCards(this.myCards())&&(this.addMove("announceblackjack"),this.addMove("revealhand\t".concat(this.game.state.dealer,"\t1"))),this.endTurn()):this.updateStatus("Waiting for dealer"),0;if("announceblackjack"===t[0]){this.game.state.blackjack=1,this.updateLog("Dealer has a blackjack! All players lose!"),this.game.queue=[],this.game.queue.push("pickwinner");for(var x=1;x<=this.game.players.length;x++)this.game.queue.push("revealhand\t".concat(x,"\t1"));return 1}if("startplay"===t[0]){this.game.queue.splice(e,1),this.game.queue.push("pickwinner"),this.game.queue.push("play\t"+this.game.state.dealer),this.game.queue.push("revealhand\t".concat(this.game.state.dealer,"\t1")),this.game.queue.push("STATUS\tThe dealer is taking their turn");for(var k=0;k<this.game.players.length-1;k++){var S=(this.game.state.dealer+k)%this.game.players.length+1;this.game.queue.push("play\t"+S),this.game.queue.push("revealhand\t".concat(S,"\t1"))}return this.game.queue.push("dealer"),1}if("revealhand"===t[0]){this.game.queue.splice(e,1);var O="1"==t[2];if(this.game.player==parseInt(t[1])){if(O)this.addMove("hand\t"+this.game.player+"\t"+JSON.stringify(this.game.deck[0].hand));else{var P=[this.game.deck[0].hand[0]];this.addMove("hand\t"+this.game.player+"\t"+JSON.stringify(P))}this.endTurn()}return 0}if("hand"===t[0]){var E=parseInt(t[1]),A=JSON.parse(t[2]);this.game.state.player[E-1].hand=A,this.game.queue.splice(e,1);var C=this.scoreArrayOfCards(this.myCards(A)),T=E==this.game.state.dealer?"Dealer":"Player ".concat(t[1]);if(C>0){var D;if(1==A.length&&E==this.game.state.dealer)D="Dealer has ".concat(C," showing");else{if(!(A.length>1))return 1;D="".concat(T," has ").concat(C)}this.updateLog(D)}return 1}if("pickwinner"===t[0])return this.game.queue.push("newround"),this.game.queue.splice(e,1),this.pickWinner(),1;if("winner"===t[0]){var j=parseInt(t[1]),M=this.game.state.player[j].name+" wins!";this.updateLog("Game Over: "+M);var I="<h2>Game Over: </h2><p>";return I+=j+1==this.game.player?"You win!":M,I+="</p>",this.updateStatus(I),this.game.winner=this.game.players[j],0}}return 1}},{key:"areThereAnyBets",value:function(){for(var e=0;e<this.game.state.player.length;e++)if(e+1!=this.game.state.dealer&&this.game.state.player[e].wager>0&&2!=this.game.state.player[e].payout)return!0;return!1}},{key:"countActivePlayers",value:function(){for(var e=0,t=0;t<this.game.state.player.length;t++)this.game.state.player[t].credit>0&&e++;return e}},{key:"firstActivePlayer",value:function(){for(var e=0;e<this.game.state.player.length;e++)if(this.game.state.player[e].credit>0)return e}},{key:"myCards",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=this.game.deck[0].hand);for(var t=[],r=0;r<e.length;r++){var n=this.game.deck[0].cards[e[r]].name,a=n.split(".");t.push(a[0])}return t}},{key:"canSplit",value:function(){if(this.game.player==this.game.state.dealer)return!1;var e=this.myCards();if(2!=e.length)return!1;var t=this.game.state.player[this.game.player-1];return!(t.credit<2*t.wager)&&2==e[0].length&&2==e[1].length&&e[0][1]==e[1][1]}},{key:"playerTurn",value:function(){var e,t=this;my_total=this.scoreArrayOfCards(this.myCards()),my_total<0?(e="",e+='<div class="menu-player">You have gone bust</div>',e+="<ul>",e+='<li class="menu_option" id="bust">confirm</li>',e+="</ul>"):t.areThereAnyBets()?(e=t.game.player==t.game.state.dealer?'<div class="menu-player">Dealer, your move:</div><ul>':'<div class="menu-player">Your move:</div><ul>',e+='<li class="menu_option" id="hit">hit</li><li class="menu_option" id="stand">stand</li></ul>'):(e='<div class="menu-player">All the players have gone bust</div><div>You win by default</div>\n                    <ul><li class="menu_option" id="win">confirm</li></ul>',this.updateStatus(e,1)),21==my_total&&2==this.game.deck[0].hand.length&&(e='<div class="menu-player">You got a blackjack</div>\n              <ul><li class="menu_option" id="blackjack">confirm</li></ul>'),this.updateStatus(e,1),this.lockInterface(),$(".menu_option").off(),$(".menu_option").on("click",(function(){$(".menu_option").off(),t.unlockInterface();var e=$(this).attr("id");return"hit"===e?(t.addMove("hit\t"+t.game.player),t.endTurn(),0):"bust"===e?(t.addMove("bust\t"+t.game.player),t.endTurn(),0):"stand"===e||"win"===e?(t.addMove("stand\t"+t.game.player+"\t"+my_total),t.endTurn(),0):"blackjack"===e?(t.addMove("blackjack\t"+t.game.player),t.endTurn(),0):void 0}))}},{key:"displayBoard",value:function(){0!=this.browser_active&&(this.displayPlayers(),this.displayHand())}},{key:"returnCardFromDeck",value:function(e){var t=this.returnDeck()[e];return t.name.substring(0,t.name.indexOf("."))}},{key:"returnDeck",value:function(){for(var e={},t=["S","C","H","D"],r=1,n=0;n<4;n++)for(var a=1;a<=13;a++){var i="".concat(t[n]).concat(a,".png");e[r.toString()]={name:i},r++}return e}},{key:"displayPlayers",value:function(){if(0!=this.browser_active)for(var e=0;e<this.game.players.length;e++){var t="",r=0;if(this.game.state.player.length>0&&(this.playerbox.refreshName(e+1),t='<div class="chips">'.concat(this.game.state.player[e].credit," ").concat(this.game.options.crypto,"</div>"),this.game.state.dealer==e+1?t+='<div class="player-notice dealer">DEALER</div>':t+='<div class="player-notice">Player '.concat(e+1,"</div>"),this.playerbox.refreshInfo(t,e+1),t="",this.game.state.player[e].hand)){if(r=1,0==this.game.state.player[e].hand.length)t+='<img class="card" src="'.concat(this.card_img_dir,'/red_back.png">'),t+='<img class="card" src="'.concat(this.card_img_dir,'/red_back.png">');else{1==this.game.state.player[e].hand.length&&(t+='<img class="card" src="'.concat(this.card_img_dir,'/red_back.png">'));for(var n=0;n<this.game.state.player[e].hand.length;n++){var a=this.game.deck[0].cards[this.game.state.player[e].hand[n]];t+='<img class="card" src="'.concat(this.card_img_dir,"/").concat(a.name,'">')}}t+="</div>",this.playerbox.refreshGraphic(t,e+1)}if(0==r){console.log("player ".concat(e," hand not shown")),t='\n          <div class="player-info-hand hand tinyhand" id="player-info-hand-'.concat(e+1,'">\n            <img class="card" src="').concat(this.card_img_dir,'/red_back.png">\n            <img class="card" src="').concat(this.card_img_dir,'/red_back.png">\n          </div>\n          <div class="player-info-name" id="player-info-name-').concat(e+1,'">').concat(this.game.state.player[e].name,'</div>\n          <div class="player-info-chips" id="player-info-chips-').concat(e+1,'">Chis: ').concat(this.game.state.player[e].credit," ").concat(this.game.options.crypto,"</div> \n        ");var i='\n\t    <img class="card" src="'.concat(this.card_img_dir,'/red_back.png">\n\t    <img class="card" src="').concat(this.card_img_dir,'/red_back.png">\n\t  ');this.cardfan.render(this.app,this,i),this.cardfan.attachEvents(this.app,this)}}}},{key:"displayHand",value:function(){this.cardfan.render(this.app,this),1==this.game.deck[0].hand.length&&this.cardfan.prependCard(this.app,this,'<img class="card" src="'.concat(this.card_img_dir,'/red_back.png">')),this.cardfan.attachEvents(this.app,this)}},{key:"addMove",value:function(e){this.moves.push(e)}},{key:"endTurn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;$(".menu_option").off();var t={};t.target=this.returnNextPlayer(this.game.player),0!=e&&(t.target=e),this.game.turn=this.moves,this.moves=[],this.sendMessage("game",t)}},{key:"scoreArrayOfCards",value:function(e){for(var t=0,r=0,n=0;n<e.length;n++){var a=e[n];if("1"===a[1]&&2==a.length)t+=parseInt(1),r++;else{var i=parseInt(a.substring(1));if(i+t==11&&1==r)return 21;i>10&&(i=10),t+=parseInt(i)}}for(var s=0;s<r;s++)t+10<=21&&(t+=10);return t>21?-1:t}},{key:"pickWinner",value:function(){for(var e=0,t=0;t<this.game.state.player.length;t++){var r=[];if(null!=this.game.state.player[t].hand)for(var n=0;n<this.game.state.player[t].hand.length;n++){var a=this.game.deck[0].cards[this.game.state.player[t].hand[n]].name.split(".");r.push(a[0])}this.game.state.player[t].total=this.scoreArrayOfCards(r),console.log("Player ",t," total:",this.game.state.player[t].total),t+1==this.game.state.dealer?e=this.game.state.player[t].total:21==this.game.state.player[t].total&&2==this.game.state.player[t].hand.length&&(this.game.state.player[t].payout=2)}for(var i=0;i<this.game.state.player.length;i++)this.game.state.player[i].winner=(this.game.state.player[i].total>e||2===this.game.state.player[i].payout)&&0==this.game.state.blackjack;var s,o=0;if(1==this.game.state.blackjack)for(var c=0;c<this.game.state.player.length;c++)c!=this.game.state.dealer-1&&(2==this.game.state.player[c].payout?(o=this.game.state.player[c].wager,s="Congrats on your blackjack, but you still lose your wager of ".concat(o,".")):(o=2*this.game.state.player[c].wager,s="You have to pay the dealer double your wager for a total of ".concat(o,".")),this.game.state.player[this.game.state.dealer-1].wager+=Math.min(o,this.game.state.player[c].credit),this.game.state.player[c].credit-=o,this.game.state.player[c].credit<0&&(s+=" That bankrupts you!"),c+1==this.game.player&&this.game.queue.push("ACKNOWLEDGE\t"+s),this.updateLog("Player ".concat(c+1," loses ").concat(o)));else for(var u=0;u<this.game.state.player.length;u++)if(u!=this.game.state.dealer-1&&this.game.state.player[u].wager>0)if(o=this.game.state.player[u].wager*this.game.state.player[u].payout,this.game.state.player[u].winner){if(this.updateLog("Player ".concat(u+1," wins ").concat(o)),this.game.state.player[this.game.state.dealer-1].wager-=o,this.game.state.player[u].credit+=Math.min(o,this.game.state.player[this.game.state.dealer-1].credit),u+1==this.game.player){var l=1==this.game.state.player[u].payout?"You Win Your Bet of ".concat(o):"Blackjack! You win double your bet, total winnings: ".concat(o);this.game.queue.push("ACKNOWLEDGE\t"+l)}}else this.game.state.player[this.game.state.dealer-1].wager+=Math.min(o,this.game.state.player[u].credit),this.game.state.player[u].credit-=o,this.updateLog("Player ".concat(u+1," loses ").concat(o)),u+1==this.game.player&&(this.game.state.player[u].credit<=0?this.game.queue.push("ACKNOWLEDGE\tYou Lose Your Bet of ".concat(o," and are out of money! Better luck next time")):this.game.queue.push("ACKNOWLEDGE\tYou Lose Your Bet of ".concat(o)));var d=this.game.state.player[this.game.state.dealer-1].wager;this.game.state.player[this.game.state.dealer-1].credit+=d;var h="";d>0?(h="You win ".concat(d),this.updateLog("Dealer collects ".concat(d," total"))):d<0?(h="You lose ".concat(-d),this.updateLog("Dealer pays out ".concat(-d," total"))):(h="It's a wash!",this.updateLog("Dealer has no change in credits")),this.game.player==this.game.state.dealer&&(this.game.state.player[this.game.player-1].credit<=0&&(h+=" You are out of money! Better luck next time"),this.game.queue.push("ACKNOWLEDGE\t"+h));for(var p=0;p<this.game.state.player.length;p++)this.game.state.player[p].credit<=0&&this.updateLog("Player ".concat(p+1," goes bankrupt!"));return 1}},{key:"returnGameOptionsHTML",value:function(){for(var e='\n      <label for="stake">Initial Stake:</label>\n      <select name="stake">\n              <option value="0.001">0.001</option>\n              <option value="0.01" >0.01</option>\n              <option value="0.1" >0.1</option>\n              <option value="1" >1.0</option>\n              <option value="5" >5.0</option>\n              <option value="10" >10</option>\n              <option value="100" selected="selected">100</option>\n              <option value="500" >500</option>\n              <option value="1000" >1000</option>\n              <option value="5000" >5000</option>\n              <option value="10000">10000</option>\n      </select>\n\n      <label for="crypto">Crypto to stake:</label>\n      <select name="crypto">\n          <option value="" selected>none</option>\n          <option value="SAITO">SAITO</option>\n    ',t=0;t<this.app.modules.mods.length;t++)""!=this.app.modules.mods[t].ticker&&null!=this.app.modules.mods[t].ticker&&(e+='<option value="'.concat(this.app.modules.mods[t].ticker,'">').concat(this.app.modules.mods[t].ticker,"</option>"));return e+='\n            </select>\n      <div id="game-wizard-advanced-return-btn" class="game-wizard-advanced-return-btn button" style="margin-top:20px;padding:30px;text-align:center">accept</div>\n\n\n    '}},{key:"returnFormattedGameOptions",value:function(e){var t={};for(var r in e)"stake"==r&&(t[r]=e[r]),"crypto"==r&&(t[r]=e[r]);return t}},{key:"updateStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{if(0==t?this.playerbox.showInfo():this.playerbox.hideInfo(),1==this.lock_interface)return;if(this.game.status=e,1==this.browser_active){var r=document.querySelector(".status");this.game.players.includes(this.app.wallet.returnPublicKey())&&(r.innerHTML=e)}}catch(e){console.log("ERR: "+e)}}}])&&a(t.prototype,r),n&&a(t,n),h}(d));e.exports=h},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,c,"next",e)}function c(e){a(s,n,i,o,c,"throw",e)}o(void 0)}))}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=r(12),p=r(27),f=r(269),m=r(291),g=r(132),y=r(127),b=r(277),v=r(278),_=r(290),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(x,e);var t,r,n,a,l,p,w=u(x);function x(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,x),(t=w.call(this,e)).name="Chat",t.description="Saito instant-messaging client and application platform",t.events=["encrypt-key-exchange-confirm"],t.groups=[],t.timeerror_tolerance=18e5,t.header=null,t.renderMode="none",t.relay_moves_onchain_if_possible=1,t.mute_community_chat=0,t.max_msg_size=307200,t.icon_fa="far fa-comments",t.inTransitImageMsgSig=null,t}return t=x,(r=[{key:"receiveEvent",value:function(e,t){if("encrypt-key-exchange-confirm"===e){if(void 0===t.members)return;this.createChatGroup(t.members),this.sendEvent("chat-render-request",{}),this.saveChat(),this.render(this.app)}}},{key:"respondTo",value:function(e){switch(e){case"email-chat":return{render:this.renderEmailChat,attachEvents:this.attachEventsEmailChat};case"header-dropdown":return{name:this.appname?this.appname:this.name,icon_fa:this.icon_fa,browser_active:this.browser_active,slug:this.returnSlug()};default:return null}}},{key:"renderEmailChat",value:function(e,t){var r=e.modules.returnModule("Chat");f.render(e,r),f.attachEvents(e,r)}},{key:"attachEventsEmailChat",value:function(e,t){e.modules.returnModule("Chat")}},{key:"render",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""!=t&&(this.renderMode=t),"chatroom"==this.renderMode)return g.render(e,this),void g.attachEvents(e,this);"main"==this.renderMode&&(m.render(e,this),m.attachEvents(e,this)),"email"==this.renderMode&&(f.render(e,this),f.attachEvents(e,this))}},{key:"initializeHTML",value:function(e){1==this.browser_active&&"other"!=this.renderMode&&(this.renderMode="main"),"main"==this.renderMode&&(null==this.header&&(this.header=new y(e,this)),this.header.render(e,this),this.header.attachEvents(e,this),m.render(e,this),m.attachEvents(e,this))}},{key:"initialize",value:function(e){o(d(x.prototype),"initialize",this).call(this,e);for(var t=this.app.keys.returnKeys(),r=0;r<t.length;r++){if(""==t[r].aes_publickey)return;this.createChatGroup([t[r].publickey,this.app.wallet.returnPublicKey()],t[r].name)}for(var n=this.app.keys.returnGroups(),a=0;a<n.length;a++)this.createChatGroup(n[a].members,n[a].name);this.sendEvent("chat-render-request",{})}},{key:"onPeerHandshakeComplete",value:(p=i(regeneratorRuntime.mark((function e(t,r){var n,a,i,s,o,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=0,!r.isMainPeer()){e.next=5;break}this.createChatGroup([r.peer.publickey],"Saito Community Chat"),e.next=7;break;case 5:if(1!=n){e.next=7;break}return e.abrupt("return");case 7:return a=this.groups.map((function(e){return e.id})),i=new Promise((function(e,r){t.storage.loadTransactionsByKeys(a,"Chat",25,(function(t){e(t)}))})),e.next=11,i;case 11:for(i=e.sent,s=0;s<i.length;s++)for(n=1,i[s].decryptMessage(t),o=i[s].returnMessage(),c=0;c<this.groups.length;c++)this.groups[c].id===o.group_id&&t.blockchain.binaryInsert(this.groups[c].txs,i[s],(function(e,t){return e.transaction.ts-t.transaction.ts}));for(u=0;u<this.groups.length;u++)"email"==this.renderMode&&(this.groups[u].txs.length>0?this.updateLastMessage(this.groups[u].id,this.groups[u].txs[this.groups[u].txs.length-1].returnMessage().message,this.groups[u].txs[this.groups[u].txs.length-1].transaction.ts):this.updateLastMessage(this.groups[u].id,"new chat")),"main"==this.renderMode&&this.groups[u].txs.length>0&&this.updateLastMessage(this.groups[u].id,this.groups[u].txs[this.groups[u].txs.length-1].returnMessage().message,this.groups[u].txs[this.groups[u].txs.length-1].transaction.ts);this.sendEvent("chat-render-request",{}),this.sendEvent("chat-render-box-request",{}),this.render(this.app);case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"updateLastMessage",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=(new Date).getTime();null!=r&&(n=r);for(var a=this.app.browser.formatDate(n),i=0;i<this.groups.length;i++)if(this.groups[i].id===e){var s="chat-last-message-"+e;try{document.getElementById(s).innerHTML=t}catch(e){}s="chat-last-message-timestamp-"+e;try{document.getElementById(s).innerHTML="".concat(a.hours,"-").concat(a.minutes)}catch(e){}}}},{key:"onConfirmation",value:function(e,t,r,n){t.decryptMessage(n);var a=t.returnMessage();if(0==r&&"chat message"==a.request){var i=JSON.parse(JSON.stringify(t.transaction)),s=new h.transaction(i);if(s.transaction.ts=(new Date).getTime(),n.storage.saveTransactionByKey(a.group_id,s),t.transaction.from[0].add==n.wallet.returnPublicKey())return;this.receiveMessage(n,t)}}},{key:"handlePeerRequest",value:(l=i(regeneratorRuntime.mark((function e(t,r,n,a){var i,s,o,c,u,l,d,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r.request){e.next=2;break}return e.abrupt("return");case 2:if(null!=r.data){e.next=4;break}return e.abrupt("return");case 4:i=r.data,e.prev=5,e.t0=r.request,e.next="chat message"===e.t0?9:"chat broadcast message"===e.t0?19:32;break;case 9:return s=JSON.parse(JSON.stringify(i.transaction)),(o=new h.transaction(s)).transaction.ts=(new Date).getTime(),(c=new h.transaction(i.transaction)).decryptMessage(t),this.receiveMessage(t,c),this.app.storage.saveTransaction(o),a&&a({payload:"success",error:{}}),e.abrupt("break",32);case 19:return(u=new h.transaction(i.transaction)).decryptMessage(this.app),l=u.returnMessage(),u.transaction.ts=(new Date).getTime(),u.isTo(t.wallet.returnPublicKey())&&this.receiveMessage(t,u),d=JSON.parse(JSON.stringify(u.transaction)),(p=new h.transaction(d)).transaction.ts=(new Date).getTime(),(f=this.app.modules.returnModule("Archive"))&&f.saveTransactionByKey(l.group_id,p),this.app.network.peers.forEach((function(e){e.peer.publickey!==n.peer.publickey&&e.sendRequest("chat message",i)})),a&&a({payload:"success",error:{}}),e.abrupt("break",32);case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(5),console.log(e.t1);case 37:case"end":return e.stop()}}),e,this,[[5,34]])}))),function(e,t,r,n){return l.apply(this,arguments)})},{key:"sendMessage",value:function(e,t){if("<img"==t.msg.message.substring(0,4)){if(null!=this.inTransitImageMsgSig)return void salert("Image already being sent");this.inTransitImageMsgSig=t.transaction.sig}if(e.network.peers.length>0){var r=e.network.peers[0].peer.publickey,n=e.modules.returnModule("Relay");t=this.app.wallet.signAndEncryptTransaction(t),1==this.relay_moves_onchain_if_possible&&this.app.network.propagateTransaction(t),n.sendRelayMessage(r,"chat broadcast message",t)}else salert("Connection to chat server lost")}},{key:"createMessage",value:function(e,t){for(var r=[],n=0;n<this.groups.length;n++)if(e===this.groups[n].id)for(var a=0;a<this.groups[n].members.length;a++)r.includes(this.groups[n].members[a])||r.push(this.groups[n].members[a]);r[0]===this.app.wallet.returnPublicKey()&&(r.splice(0,1),r.push(this.app.wallet.returnPublicKey()));var i=this.app.wallet.createUnsignedTransaction(r[0],0,0);if(null!=i){for(var s=1;s<r.length;s++)i.transaction.to.push(this.app.wallet.createSlip(r[s]));return i.msg={module:"Chat",request:"chat message",group_id:e,message:t,type:"myself",timestamp:(new Date).getTime()},i.msg.sig=this.app.wallet.signMessage(JSON.stringify(i.msg)),i=this.app.wallet.signTransaction(i)}}},{key:"createMessageBlocks",value:function(e){for(var t=0,r=[],n=[],a=e.txs,i="";t<a.length;)0==r.length?(""==i||a[t].isFrom(i)?n.push(a[t]):(r.push(n),(n=[]).push(a[t])),i=a[t].transaction.from[0].add):a[t].isFrom(i)?n.push(a[t]):(r.push(n),(n=[]).push(a[t]),i=a[t].transaction.from[0].add),t++;return r.push(n),r}},{key:"formatMessage",value:function(e){return e=_(e,{target:{url:"_self"}}),e=b(e),e=v(e,{allowedTags:["h1","h2","h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre","img","marquee","pre"],allowedAttributes:{div:["class","id"],a:["href","name","target","class","id"],img:["src","class"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","cite"],allowProtocolRelative:!0,transformTags:{a:v.simpleTransform("a",{target:"_blank"})}})}},{key:"receiveMessage",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.inTransitImageMsgSig==t.transaction.sig&&(this.inTransitImageMsgSig=null);var a=t.returnMessage();if(t.transaction.from[0].add==e.wallet.returnPublicKey()&&e.keys.hasSharedSecret(t.transaction.to[0].add)&&(t.decryptMessage(e),a=t.returnMessage()),1==e.BROWSER){var i=e.modules.returnActiveModule();i.events.includes("chat-render-request")||this.showAlert()}if(t.isTo(e.wallet.returnPublicKey())){for(var s=1,o=[],c=0;c<t.transaction.to.length;c++)o.includes(t.transaction.to[c].add)||o.push(t.transaction.to[c].add);o.sort();for(var u=this.app.crypto.hash(o.join("_")),l=0;l<this.groups.length;l++)this.groups[l].id==u&&(s=0);1==s?(this.createChatGroup(o),a.group_id=u):u&&(a.group_id=u)}var d=1;try{var h="#chat-box-"+a.group_id;document.querySelector(h)||(d=0)}catch(e){}var p=a.message;if(this.groups.forEach((function(n){try{if(n.id==a.group_id)if(t.isFrom(r.app.wallet.returnPublicKey())){var i=e.keys.returnIdentifierByPublicKey(r.app.wallet.returnPublicKey()),s=i||r.app.wallet.returnPublicKey();n.txs.push(t),e.browser.sendNotification(s,p,"chat-message-notification")}else{var o=e.keys.returnIdentifierByPublicKey(t.transaction.from[0].add),c=o||t.transaction.from[0].add;n.txs.push(t),e.browser.sendNotification(c,p,"chat-message-notification")}}catch(e){console.log("ERROR 113234: chat error receiving message: "+e)}})),0==d){if(!t.isFrom(this.app.wallet.returnPublicKey())){this.openChatBox(a.group_id);try{0==this.isOtherInputActive()&&(document.getElementById("chat-box-new-message-input-".concat(a.group_id)).focus(),""===document.getElementById("chat-box-new-message-input-".concat(a.group_id)).val&&document.getElementById("chat-box-new-message-input-".concat(a.group_id)).select())}catch(e){}}}else try{0==this.isOtherInputActive()&&(document.getElementById("chat-box-new-message-input-".concat(a.group_id)).focus(),""===document.getElementById("chat-box-new-message-input-".concat(a.group_id)).val&&document.getElementById("chat-box-new-message-input-".concat(a.group_id)).select())}catch(e){}this.updateLastMessage(a.group_id,p),this.sendEvent("chat_receive_message",p),this.render(this.app,n);var f=e.keys.returnIdentifierByPublicKey(t.transaction.from[0].add);f!==t.transaction.from[0].add&&""!=f||e.browser.addIdentifiersToDom([t.transaction.from[0].add])}},{key:"saveChat",value:function(){this.app.options.chat=Object.assign({},this.app.options.chat),this.app.options.chat.groups=this.groups.map((function(e){return{id:e.id,name:e.name,members:e.members,is_encrypted:e.is_encrypted}})),this.app.storage.saveOptions()}},{key:"openChatBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if("email"==this.renderMode||"none"==this.renderMode)if(null!=e){var t=this.returnCommunityChat();if(t.id!=e||1!=this.mute_community_chat)if(document.getElementById("chat-box-".concat(e))){var r=document.getElementById("chat-box-new-message-input-".concat(e));0==this.isOtherInputActive()&&r.focus();var n=document.getElementById("chat-box-".concat(e));n.classList.remove("chat-box-hide")}else{for(var a=0;a<this.groups.length;a++)this.groups[a].id==e&&f.showChatBox(this.app,this,this.groups[a]);this.render(this.app);try{0==this.isOtherInputActive()&&(document.getElementById("chat-box-new-message-input-".concat(e)).focus(),""===document.getElementById("chat-box-new-message-input-".concat(e)).val&&document.getElementById("chat-box-new-message-input-".concat(e)).select())}catch(e){}}}else{var i=this.returnCommunityChat();if(null==i||null==i)return;if(null==i.id||null==i.id)return;this.openChatBox(i.id)}}},{key:"createChatGroup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=e){if(e.sort(),null==t||""==t||null==t){for(var r=0;r<e.length;r++)e[r]!=this.app.wallet.returnPublicKey()&&(t=e[r]);null==t&&(t="me")}for(var n=this.app.crypto.hash("".concat(e.join("_"))),a=0;a<this.groups.length;a++)if(this.groups[a].id==n)return null;this.groups.push({id:n,members:e,name:t,txs:[]})}}},{key:"returnCommunityChat",value:function(){for(var e=0;e<this.groups.length;e++)if(this.app.options.peers.length>0&&"Community Chat"===this.groups[e].name)return this.groups[e];return this.groups[0]}},{key:"returnDefaultChat",value:function(){for(var e=0;e<this.groups.length;e++){if(this.app.options.peers.length>0&&this.groups[e].members[0]===this.app.options.peers[0].publickey)return this.groups[e];if(this.app.network.peers.length>0&&this.groups[e].members[0]===this.app.network.peers[0].peer.publickey)return this.groups[e]}return this.groups[0]}},{key:"isOtherInputActive",value:function(){try{var e=document.activeElement;if(document.getElementById("saito-overlay-backdrop")&&"block"==document.getElementById("saito-overlay-backdrop").style.display)return 1;if(document.getElementById("game-overlay-backdrop")&&"block"==document.getElementById("game-overlay-backdrop").style.display)return 1;if(!e)return 0;if("INPUT"==e.tagName)return 1;if("TEXTAREA"==e.tagName)return 1;if("input"==e.tagName)return 1;if("textarea"==e.tagName)return 1}catch(e){}return 0}},{key:"chatLoadMessages",value:function(e,t){}},{key:"chatRequestMessages",value:(a=i(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)})}])&&s(t.prototype,r),n&&s(t,n),x}(p);e.exports=w},function(e,t,r){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(1139),s=r(1140),o=r(54),c=(r(1141),r(1143),r(1144)),u=r(1145);var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t}var t,r,l;return t=e,(r=[{key:"render",value:function(e,t){t.modal_overlay=new o(e),t.modal_overlay.render(e,t),t.modal_overlay.attachEvents(e,t),document.querySelector(".add-user")||t.modal_overlay.showOverlay(e,t,i())}},{key:"attachEvents",value:function(e,t){var r=function(){var r,a=(r=regeneratorRuntime.mark((function r(n){var a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(console.log("pkey: "+n),a=function(r){try{e.modules.returnModule("Encrypt").initiate_key_exchange(r),console.log("done initiate key exchange"),t.modal_overlay.showOverlay(e,t,s()),document.querySelector("#confirm-box").onclick=function(){t.modal_overlay.hideOverlay()}}catch(e){console.log(JSON.stringify(e)),salert("Address is not a valid Saito Address")}},e.crypto.isPublicKey(n)){r.next=8;break}return r.next=5,e.keys.fetchPublicKey(n,a);case 5:n=r.sent,r.next=9;break;case 8:a(n);case 9:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(a,i){var s=r.apply(e,t);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))});return function(e){return a.apply(this,arguments)}}();document.querySelector(".tutorial-skip").onclick=function(){var e;(e=document.querySelector("video"))&&e.srcObject.getTracks().forEach((function(e){return e.stop()})),t.modal_overlay.hideOverlay()},document.querySelector(".generate-link-box").onclick=function(){document.querySelector(".welcome-modal-left").innerHTML=c(e),document.querySelector(".link-space").addEventListener("click",(function(e){document.querySelector(".share-link").select(),document.execCommand("copy")}))},document.querySelector(".scanqr-link-box").onclick=function(){var t=e.modules.returnModule("QRScanner");t&&t.startScanner()},document.querySelector(".address-link-box").onclick=function(){document.querySelector(".welcome-modal-left").innerHTML=u(e),document.getElementById("add-contact-btn").onclick=function(){var e=document.getElementById("add-contact-input").value;console.log("VALUE: "+e),r(e)}}}}])&&a(t.prototype,r),l&&a(t,l),e}();e.exports=l},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(26))},function(e,t,r){var n=r(129),a=r(503);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,r){var n=r(502),a=r(506);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var a=n(r(509)),i=new Set(["input","option","optgroup","select","button","datalist","textarea"]),s=new Set(["p"]),o={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:s,h1:s,h2:s,h3:s,h4:s,h5:s,h6:s,select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:s,article:s,aside:s,blockquote:s,details:s,div:s,dl:s,fieldset:s,figcaption:s,figure:s,footer:s,form:s,header:s,hr:s,main:s,nav:s,ol:s,pre:s,section:s,table:s,ul:s,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},c=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),u=new Set(["math","svg"]),l=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),d=/\s|\//,h=function(){function e(e,t){var r,n,i,s,o;void 0===t&&(t={}),this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=t,this.cbs=null!=e?e:{},this.lowerCaseTagNames=null!==(r=t.lowerCaseTags)&&void 0!==r?r:!t.xmlMode,this.lowerCaseAttributeNames=null!==(n=t.lowerCaseAttributeNames)&&void 0!==n?n:!t.xmlMode,this.tokenizer=new(null!==(i=t.Tokenizer)&&void 0!==i?i:a.default)(this.options,this),null===(o=(s=this.cbs).onparserinit)||void 0===o||o.call(s,this)}return e.prototype.updatePosition=function(e){null===this.endIndex?this.tokenizer.sectionStart<=e?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},e.prototype.ontext=function(e){var t,r;this.updatePosition(1),this.endIndex--,null===(r=(t=this.cbs).ontext)||void 0===r||r.call(t,e)},e.prototype.onopentagname=function(e){var t,r;if(this.lowerCaseTagNames&&(e=e.toLowerCase()),this.tagname=e,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(o,e))for(var n=void 0;this.stack.length>0&&o[e].has(n=this.stack[this.stack.length-1]);)this.onclosetag(n);!this.options.xmlMode&&c.has(e)||(this.stack.push(e),u.has(e)?this.foreignContext.push(!0):l.has(e)&&this.foreignContext.push(!1)),null===(r=(t=this.cbs).onopentagname)||void 0===r||r.call(t,e),this.cbs.onopentag&&(this.attribs={})},e.prototype.onopentagend=function(){var e,t;this.updatePosition(1),this.attribs&&(null===(t=(e=this.cbs).onopentag)||void 0===t||t.call(e,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&c.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},e.prototype.onclosetag=function(e){if(this.updatePosition(1),this.lowerCaseTagNames&&(e=e.toLowerCase()),(u.has(e)||l.has(e))&&this.foreignContext.pop(),!this.stack.length||!this.options.xmlMode&&c.has(e))this.options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this.closeCurrentTag());else{var t=this.stack.lastIndexOf(e);if(-1!==t)if(this.cbs.onclosetag)for(t=this.stack.length-t;t--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=t;else"p"!==e||this.options.xmlMode||(this.onopentagname(e),this.closeCurrentTag())}},e.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},e.prototype.closeCurrentTag=function(){var e,t,r=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===r&&(null===(t=(e=this.cbs).onclosetag)||void 0===t||t.call(e,r),this.stack.pop())},e.prototype.onattribname=function(e){this.lowerCaseAttributeNames&&(e=e.toLowerCase()),this.attribname=e},e.prototype.onattribdata=function(e){this.attribvalue+=e},e.prototype.onattribend=function(e){var t,r;null===(r=(t=this.cbs).onattribute)||void 0===r||r.call(t,this.attribname,this.attribvalue,e),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},e.prototype.getInstructionName=function(e){var t=e.search(d),r=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r},e.prototype.ondeclaration=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("!"+t,"!"+e)}},e.prototype.onprocessinginstruction=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("?"+t,"?"+e)}},e.prototype.oncomment=function(e){var t,r,n,a;this.updatePosition(4),null===(r=(t=this.cbs).oncomment)||void 0===r||r.call(t,e),null===(a=(n=this.cbs).oncommentend)||void 0===a||a.call(n)},e.prototype.oncdata=function(e){var t,r,n,a,i,s;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?(null===(r=(t=this.cbs).oncdatastart)||void 0===r||r.call(t),null===(a=(n=this.cbs).ontext)||void 0===a||a.call(n,e),null===(s=(i=this.cbs).oncdataend)||void 0===s||s.call(i)):this.oncomment("[CDATA["+e+"]]")},e.prototype.onerror=function(e){var t,r;null===(r=(t=this.cbs).onerror)||void 0===r||r.call(t,e)},e.prototype.onend=function(){var e,t;if(this.cbs.onclosetag)for(var r=this.stack.length;r>0;this.cbs.onclosetag(this.stack[--r]));null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)},e.prototype.reset=function(){var e,t,r,n;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],null===(n=(r=this.cbs).onparserinit)||void 0===n||n.call(r,this)},e.prototype.parseComplete=function(e){this.reset(),this.end(e)},e.prototype.write=function(e){this.tokenizer.write(e)},e.prototype.end=function(e){this.tokenizer.end(e)},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){this.tokenizer.resume()},e.prototype.parseChunk=function(e){this.write(e)},e.prototype.done=function(e){this.end(e)},e}();t.Parser=h},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(510)),i=n(r(279)),s=n(r(511)),o=n(r(280));function c(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function u(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}function l(e,t,r){var n=e.toLowerCase();return e===n?function(e,a){a===n?e._state=t:(e._state=r,e._index--)}:function(a,i){i===n||i===e?a._state=t:(a._state=r,a._index--)}}function d(e,t){var r=e.toLowerCase();return function(n,a){a===r||a===e?n._state=t:(n._state=3,n._index--)}}var h=l("C",24,16),p=l("D",25,16),f=l("A",26,16),m=l("T",27,16),g=l("A",28,16),y=d("R",35),b=d("I",36),v=d("P",37),_=d("T",38),w=l("R",40,1),x=l("I",41,1),k=l("P",42,1),S=l("T",43,1),O=d("Y",45),P=d("L",46),E=d("E",47),A=l("Y",49,1),C=l("L",50,1),T=l("E",51,1),D=d("I",54),j=d("T",55),M=d("L",56),I=d("E",57),R=l("I",58,1),B=l("T",59,1),N=l("L",60,1),F=l("E",61,1),q=l("#",63,64),L=l("X",66,65),H=function(){function e(e,t){var r;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=t,this.xmlMode=!!(null==e?void 0:e.xmlMode),this.decodeEntities=null===(r=null==e?void 0:e.decodeEntities)||void 0===r||r}return e.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},e.prototype.write=function(e){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=e,this.parse()},e.prototype.end=function(e){this.ended&&this.cbs.onerror(Error(".end() after done!")),e&&this.write(e),this.ended=!0,this.running&&this.finish()},e.prototype.pause=function(){this.running=!1},e.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},e.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},e.prototype.stateText=function(e){"<"===e?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):!this.decodeEntities||"&"!==e||1!==this.special&&4!==this.special||(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},e.prototype.isTagStartChar=function(e){return u(e)||this.xmlMode&&!c(e)&&"/"!==e&&">"!==e},e.prototype.stateBeforeTagName=function(e){"/"===e?this._state=5:"<"===e?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):">"===e||1!==this.special||c(e)?this._state=1:"!"===e?(this._state=15,this.sectionStart=this._index+1):"?"===e?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(e)?(this._state=this.xmlMode||"s"!==e&&"S"!==e?this.xmlMode||"t"!==e&&"T"!==e?3:52:32,this.sectionStart=this._index):this._state=1},e.prototype.stateInTagName=function(e){("/"===e||">"===e||c(e))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},e.prototype.stateBeforeClosingTagName=function(e){c(e)||(">"===e?this._state=1:1!==this.special?4===this.special||"s"!==e&&"S"!==e?4!==this.special||"t"!==e&&"T"!==e?(this._state=1,this._index--):this._state=53:this._state=33:this.isTagStartChar(e)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},e.prototype.stateInClosingTagName=function(e){(">"===e||c(e))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},e.prototype.stateAfterClosingTagName=function(e){">"===e&&(this._state=1,this.sectionStart=this._index+1)},e.prototype.stateBeforeAttributeName=function(e){">"===e?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):"/"===e?this._state=4:c(e)||(this._state=9,this.sectionStart=this._index)},e.prototype.stateInSelfClosingTag=function(e){">"===e?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):c(e)||(this._state=8,this._index--)},e.prototype.stateInAttributeName=function(e){("="===e||"/"===e||">"===e||c(e))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},e.prototype.stateAfterAttributeName=function(e){"="===e?this._state=11:"/"===e||">"===e?(this.cbs.onattribend(void 0),this._state=8,this._index--):c(e)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},e.prototype.stateBeforeAttributeValue=function(e){'"'===e?(this._state=12,this.sectionStart=this._index+1):"'"===e?(this._state=13,this.sectionStart=this._index+1):c(e)||(this._state=14,this.sectionStart=this._index,this._index--)},e.prototype.handleInAttributeValue=function(e,t){e===t?(this.emitToken("onattribdata"),this.cbs.onattribend(t),this._state=8):this.decodeEntities&&"&"===e&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},e.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,'"')},e.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,"'")},e.prototype.stateInAttributeValueNoQuotes=function(e){c(e)||">"===e?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&"&"===e&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},e.prototype.stateBeforeDeclaration=function(e){this._state="["===e?23:"-"===e?18:16},e.prototype.stateInDeclaration=function(e){">"===e&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateInProcessingInstruction=function(e){">"===e&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateBeforeComment=function(e){"-"===e?(this._state=19,this.sectionStart=this._index+1):this._state=16},e.prototype.stateInComment=function(e){"-"===e&&(this._state=21)},e.prototype.stateInSpecialComment=function(e){">"===e&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateAfterComment1=function(e){this._state="-"===e?22:19},e.prototype.stateAfterComment2=function(e){">"===e?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"-"!==e&&(this._state=19)},e.prototype.stateBeforeCdata6=function(e){"["===e?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},e.prototype.stateInCdata=function(e){"]"===e&&(this._state=30)},e.prototype.stateAfterCdata1=function(e){this._state="]"===e?31:29},e.prototype.stateAfterCdata2=function(e){">"===e?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"]"!==e&&(this._state=29)},e.prototype.stateBeforeSpecialS=function(e){"c"===e||"C"===e?this._state=34:"t"===e||"T"===e?this._state=44:(this._state=3,this._index--)},e.prototype.stateBeforeSpecialSEnd=function(e){2!==this.special||"c"!==e&&"C"!==e?3!==this.special||"t"!==e&&"T"!==e?this._state=1:this._state=48:this._state=39},e.prototype.stateBeforeSpecialLast=function(e,t){("/"===e||">"===e||c(e))&&(this.special=t),this._state=3,this._index--},e.prototype.stateAfterSpecialLast=function(e,t){">"===e||c(e)?(this.special=1,this._state=6,this.sectionStart=this._index-t,this._index--):this._state=1},e.prototype.parseFixedEntity=function(e){if(void 0===e&&(e=this.xmlMode?o.default:i.default),this.sectionStart+1<this._index){var t=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(e,t)&&(this.emitPartial(e[t]),this.sectionStart=this._index+1)}},e.prototype.parseLegacyEntity=function(){for(var e=this.sectionStart+1,t=Math.min(this._index-e,6);t>=2;){var r=this.buffer.substr(e,t);if(Object.prototype.hasOwnProperty.call(s.default,r))return this.emitPartial(s.default[r]),void(this.sectionStart+=t+1);t--}},e.prototype.stateInNamedEntity=function(e){";"===e?(this.parseFixedEntity(),1===this.baseState&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(e<"0"||e>"9")&&!u(e)&&(this.xmlMode||this.sectionStart+1===this._index||(1!==this.baseState?"="!==e&&this.parseFixedEntity(s.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},e.prototype.decodeNumericEntity=function(e,t,r){var n=this.sectionStart+e;if(n!==this._index){var i=this.buffer.substring(n,this._index),s=parseInt(i,t);this.emitPartial(a.default(s)),this.sectionStart=r?this._index+1:this._index}this._state=this.baseState},e.prototype.stateInNumericEntity=function(e){";"===e?this.decodeNumericEntity(2,10,!0):(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},e.prototype.stateInHexEntity=function(e){";"===e?this.decodeNumericEntity(3,16,!0):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},e.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(1===this._state?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},e.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var e=this.buffer.charAt(this._index);1===this._state?this.stateText(e):12===this._state?this.stateInAttributeValueDoubleQuotes(e):9===this._state?this.stateInAttributeName(e):19===this._state?this.stateInComment(e):20===this._state?this.stateInSpecialComment(e):8===this._state?this.stateBeforeAttributeName(e):3===this._state?this.stateInTagName(e):6===this._state?this.stateInClosingTagName(e):2===this._state?this.stateBeforeTagName(e):10===this._state?this.stateAfterAttributeName(e):13===this._state?this.stateInAttributeValueSingleQuotes(e):11===this._state?this.stateBeforeAttributeValue(e):5===this._state?this.stateBeforeClosingTagName(e):7===this._state?this.stateAfterClosingTagName(e):32===this._state?this.stateBeforeSpecialS(e):21===this._state?this.stateAfterComment1(e):14===this._state?this.stateInAttributeValueNoQuotes(e):4===this._state?this.stateInSelfClosingTag(e):16===this._state?this.stateInDeclaration(e):15===this._state?this.stateBeforeDeclaration(e):22===this._state?this.stateAfterComment2(e):18===this._state?this.stateBeforeComment(e):33===this._state?this.stateBeforeSpecialSEnd(e):53===this._state?R(this,e):39===this._state?w(this,e):40===this._state?x(this,e):41===this._state?k(this,e):34===this._state?y(this,e):35===this._state?b(this,e):36===this._state?v(this,e):37===this._state?_(this,e):38===this._state?this.stateBeforeSpecialLast(e,2):42===this._state?S(this,e):43===this._state?this.stateAfterSpecialLast(e,6):44===this._state?O(this,e):29===this._state?this.stateInCdata(e):45===this._state?P(this,e):46===this._state?E(this,e):47===this._state?this.stateBeforeSpecialLast(e,3):48===this._state?A(this,e):49===this._state?C(this,e):50===this._state?T(this,e):51===this._state?this.stateAfterSpecialLast(e,5):52===this._state?D(this,e):54===this._state?j(this,e):55===this._state?M(this,e):56===this._state?I(this,e):57===this._state?this.stateBeforeSpecialLast(e,4):58===this._state?B(this,e):59===this._state?N(this,e):60===this._state?F(this,e):61===this._state?this.stateAfterSpecialLast(e,5):17===this._state?this.stateInProcessingInstruction(e):64===this._state?this.stateInNamedEntity(e):23===this._state?h(this,e):62===this._state?q(this,e):24===this._state?p(this,e):25===this._state?f(this,e):30===this._state?this.stateAfterCdata1(e):31===this._state?this.stateAfterCdata2(e):26===this._state?m(this,e):27===this._state?g(this,e):28===this._state?this.stateBeforeCdata6(e):66===this._state?this.stateInHexEntity(e):65===this._state?this.stateInNumericEntity(e):63===this._state?L(this,e):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},e.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},e.prototype.handleTrailingData=function(){var e=this.buffer.substr(this.sectionStart);29===this._state||30===this._state||31===this._state?this.cbs.oncdata(e):19===this._state||21===this._state||22===this._state?this.cbs.oncomment(e):64!==this._state||this.xmlMode?65!==this._state||this.xmlMode?66!==this._state||this.xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this.cbs.ontext(e):(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData()))},e.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},e.prototype.emitToken=function(e){this.cbs[e](this.getSection()),this.sectionStart=-1},e.prototype.emitPartial=function(e){1!==this.baseState?this.cbs.onattribdata(e):this.cbs.ontext(e)},e}();t.default=H},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(1191)),i=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)};t.default=function(e){return e>=55296&&e<=57343||e>1114111?"":(e in a.default&&(e=a.default[e]),i(e))}},function(e){e.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var s=r(130),o=new Map([[s.ElementType.Tag,1],[s.ElementType.Script,1],[s.ElementType.Style,1],[s.ElementType.Directive,1],[s.ElementType.Text,3],[s.ElementType.CDATA,4],[s.ElementType.Comment,8],[s.ElementType.Root,9]]),c=function(){function e(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){var e;return null!==(e=o.get(this.type))&&void 0!==e?e:1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),x(this,e)},e}();t.Node=c;var u=function(e){function t(t,r){var n=e.call(this,t)||this;return n.data=r,n}return a(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(c);t.DataNode=u;var l=function(e){function t(t){return e.call(this,s.ElementType.Text,t)||this}return a(t,e),t}(u);t.Text=l;var d=function(e){function t(t){return e.call(this,s.ElementType.Comment,t)||this}return a(t,e),t}(u);t.Comment=d;var h=function(e){function t(t,r){var n=e.call(this,s.ElementType.Directive,r)||this;return n.name=t,n}return a(t,e),t}(u);t.ProcessingInstruction=h;var p=function(e){function t(t,r){var n=e.call(this,t)||this;return n.children=r,n}return a(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(c);t.NodeWithChildren=p;var f=function(e){function t(t){return e.call(this,s.ElementType.Root,t)||this}return a(t,e),t}(p);t.Document=f;var m=function(e){function t(t,r,n,a){void 0===n&&(n=[]),void 0===a&&(a="script"===t?s.ElementType.Script:"style"===t?s.ElementType.Style:s.ElementType.Tag);var i=e.call(this,a,n)||this;return i.name=t,i.attribs=r,i}return a(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var r,n;return{name:t,value:e.attribs[t],namespace:null===(r=e["x-attribsNamespace"])||void 0===r?void 0:r[t],prefix:null===(n=e["x-attribsPrefix"])||void 0===n?void 0:n[t]}}))},enumerable:!1,configurable:!0}),t}(p);function g(e){return(0,s.isTag)(e)}function y(e){return e.type===s.ElementType.CDATA}function b(e){return e.type===s.ElementType.Text}function v(e){return e.type===s.ElementType.Comment}function _(e){return e.type===s.ElementType.Directive}function w(e){return e.type===s.ElementType.Root}function x(e,t){var r;if(void 0===t&&(t=!1),b(e))r=new l(e.data);else if(v(e))r=new d(e.data);else if(g(e)){var n=t?k(e.children):[],a=new m(e.name,i({},e.attribs),n);n.forEach((function(e){return e.parent=a})),e["x-attribsNamespace"]&&(a["x-attribsNamespace"]=i({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(a["x-attribsPrefix"]=i({},e["x-attribsPrefix"])),r=a}else if(y(e)){n=t?k(e.children):[];var o=new p(s.ElementType.CDATA,n);n.forEach((function(e){return e.parent=o})),r=o}else if(w(e)){n=t?k(e.children):[];var c=new f(n);n.forEach((function(e){return e.parent=c})),e["x-mode"]&&(c["x-mode"]=e["x-mode"]),r=c}else{if(!_(e))throw new Error("Not implemented yet: "+e.type);var u=new h(e.name,e.data);null!=e["x-name"]&&(u["x-name"]=e["x-name"],u["x-publicId"]=e["x-publicId"],u["x-systemId"]=e["x-systemId"]),r=u}return r.startIndex=e.startIndex,r.endIndex=e.endIndex,r}function k(e){for(var t=e.map((function(e){return x(e,!0)})),r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}t.Element=m,t.isTag=g,t.isCDATA=y,t.isText=b,t.isComment=v,t.isDirective=_,t.isDocument=w,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=x},function(e,t,r){"use strict";var n,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseFeed=t.FeedHandler=void 0;var u,l,d=c(r(72)),h=o(r(514)),p=r(508);!function(e){e[e.image=0]="image",e[e.audio=1]="audio",e[e.video=2]="video",e[e.document=3]="document",e[e.executable=4]="executable"}(u||(u={})),function(e){e[e.sample=0]="sample",e[e.full=1]="full",e[e.nonstop=2]="nonstop"}(l||(l={}));var f=function(e){function t(t,r){return"object"==typeof t&&(r=t=void 0),e.call(this,t,r)||this}return a(t,e),t.prototype.onend=function(){var e,t,r=y(w,this.dom);if(r){var n={};if("feed"===r.name){var a=r.children;n.type="atom",_(n,"id","id",a),_(n,"title","title",a);var i=v("href",y("link",a));i&&(n.link=i),_(n,"description","subtitle",a),(s=b("updated",a))&&(n.updated=new Date(s)),_(n,"author","email",a,!0),n.items=g("entry",a).map((function(e){var t={},r=e.children;_(t,"id","id",r),_(t,"title","title",r);var n=v("href",y("link",r));n&&(t.link=n);var a=b("summary",r)||b("content",r);a&&(t.description=a);var i=b("updated",r);return i&&(t.pubDate=new Date(i)),t.media=m(r),t}))}else{var s;a=null!==(t=null===(e=y("channel",r.children))||void 0===e?void 0:e.children)&&void 0!==t?t:[];n.type=r.name.substr(0,3),n.id="",_(n,"title","title",a),_(n,"link","link",a),_(n,"description","description",a),(s=b("lastBuildDate",a))&&(n.updated=new Date(s)),_(n,"author","managingEditor",a,!0),n.items=g("item",r.children).map((function(e){var t={},r=e.children;_(t,"id","guid",r),_(t,"title","title",r),_(t,"link","link",r),_(t,"description","description",r);var n=b("pubDate",r);return n&&(t.pubDate=new Date(n)),t.media=m(r),t}))}this.feed=n,this.handleCallback(null)}else this.handleCallback(new Error("couldn't find root of feed"))},t}(d.default);function m(e){return g("media:content",e).map((function(e){var t={medium:e.attribs.medium,isDefault:!!e.attribs.isDefault};return e.attribs.url&&(t.url=e.attribs.url),e.attribs.fileSize&&(t.fileSize=parseInt(e.attribs.fileSize,10)),e.attribs.type&&(t.type=e.attribs.type),e.attribs.expression&&(t.expression=e.attribs.expression),e.attribs.bitrate&&(t.bitrate=parseInt(e.attribs.bitrate,10)),e.attribs.framerate&&(t.framerate=parseInt(e.attribs.framerate,10)),e.attribs.samplingrate&&(t.samplingrate=parseInt(e.attribs.samplingrate,10)),e.attribs.channels&&(t.channels=parseInt(e.attribs.channels,10)),e.attribs.duration&&(t.duration=parseInt(e.attribs.duration,10)),e.attribs.height&&(t.height=parseInt(e.attribs.height,10)),e.attribs.width&&(t.width=parseInt(e.attribs.width,10)),e.attribs.lang&&(t.lang=e.attribs.lang),t}))}function g(e,t){return h.getElementsByTagName(e,t,!0)}function y(e,t){return h.getElementsByTagName(e,t,!0,1)[0]}function b(e,t,r){return void 0===r&&(r=!1),h.getText(h.getElementsByTagName(e,t,r,1)).trim()}function v(e,t){return t?t.attribs[e]:null}function _(e,t,r,n,a){void 0===a&&(a=!1);var i=b(r,n,a);i&&(e[t]=i)}function w(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}t.FeedHandler=f,t.parseFeed=function(e,t){void 0===t&&(t={xmlMode:!0});var r=new f(t);return new p.Parser(r,t).end(e),r.feed}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,a(r(515),t),a(r(1195),t),a(r(1196),t),a(r(518),t),a(r(519),t),a(r(1197),t),a(r(1198),t);var i=r(72);Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return i.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return i.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return i.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return i.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return i.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return i.hasChildren}})},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.innerText=t.textContent=t.getText=t.getInnerHTML=t.getOuterHTML=void 0;var a=r(72),i=n(r(1192)),s=r(130);function o(e,t){return(0,i.default)(e,t)}t.getOuterHTML=o,t.getInnerHTML=function(e,t){return(0,a.hasChildren)(e)?e.children.map((function(e){return o(e,t)})).join(""):""},t.getText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,a.isTag)(t)?"br"===t.name?"\n":e(t.children):(0,a.isCDATA)(t)?e(t.children):(0,a.isText)(t)?t.data:""},t.textContent=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,a.hasChildren)(t)&&!(0,a.isComment)(t)?e(t.children):(0,a.isText)(t)?t.data:""},t.innerText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,a.hasChildren)(t)&&(t.type===s.ElementType.Tag||(0,a.isCDATA)(t))?e(t.children):(0,a.isText)(t)?t.data:""}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHTML=t.decodeHTMLStrict=t.decodeXML=void 0;var a=n(r(279)),i=n(r(511)),s=n(r(280)),o=n(r(510)),c=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function u(e){var t=d(e);return function(e){return String(e).replace(c,t)}}t.decodeXML=u(s.default),t.decodeHTMLStrict=u(a.default);var l=function(e,t){return e<t?1:-1};function d(e){return function(t){if("#"===t.charAt(1)){var r=t.charAt(2);return"X"===r||"x"===r?o.default(parseInt(t.substr(3),16)):o.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]||t}}t.decodeHTML=function(){for(var e=Object.keys(i.default).sort(l),t=Object.keys(a.default).sort(l),r=0,n=0;r<t.length;r++)e[n]===t[r]?(t[r]+=";?",n++):t[r]+=";";var s=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=d(a.default);function c(e){return";"!==e.substr(-1)&&(e+=";"),o(e)}return function(e){return String(e).replace(s,c)}}()},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=void 0;var a=l(n(r(280)).default),i=d(a);t.encodeXML=g(a);var s,o,c=l(n(r(279)).default),u=d(c);function l(e){return Object.keys(e).sort().reduce((function(t,r){return t[e[r]]="&"+r+";",t}),{})}function d(e){for(var t=[],r=[],n=0,a=Object.keys(e);n<a.length;n++){var i=a[n];1===i.length?t.push("\\"+i):r.push(i)}t.sort();for(var s=0;s<t.length-1;s++){for(var o=s;o<t.length-1&&t[o].charCodeAt(1)+1===t[o+1].charCodeAt(1);)o+=1;var c=1+o-s;c<3||t.splice(s,c,t[s]+"-"+t[o])}return r.unshift("["+t.join("")+"]"),new RegExp(r.join("|"),"g")}t.encodeHTML=(s=c,o=u,function(e){return e.replace(o,(function(e){return s[e]})).replace(h,f)}),t.encodeNonAsciiHTML=g(c);var h=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,p=null!=String.prototype.codePointAt?function(e){return e.codePointAt(0)}:function(e){return 1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536};function f(e){return"&#x"+(e.length>1?p(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}var m=new RegExp(i.source+"|"+h.source,"g");function g(e){return function(t){return t.replace(m,(function(t){return e[t]||f(t)}))}}t.escape=function(e){return e.replace(m,f)},t.escapeUTF8=function(e){return e.replace(i,f)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=t.existsOne=t.findOne=t.findOneChild=t.find=t.filter=void 0;var n=r(72);function a(e,t,r,i){for(var s=[],o=0,c=t;o<c.length;o++){var u=c[o];if(e(u)&&(s.push(u),--i<=0))break;if(r&&(0,n.hasChildren)(u)&&u.children.length>0){var l=a(e,u.children,r,i);if(s.push.apply(s,l),(i-=l.length)<=0)break}}return s}t.filter=function(e,t,r,n){return void 0===r&&(r=!0),void 0===n&&(n=1/0),Array.isArray(t)||(t=[t]),a(e,t,r,n)},t.find=a,t.findOneChild=function(e,t){return t.find(e)},t.findOne=function e(t,r,a){void 0===a&&(a=!0);for(var i=null,s=0;s<r.length&&!i;s++){var o=r[s];(0,n.isTag)(o)&&(t(o)?i=o:a&&o.children.length>0&&(i=e(t,o.children)))}return i},t.existsOne=function e(t,r){return r.some((function(r){return(0,n.isTag)(r)&&(t(r)||r.children.length>0&&e(t,r.children))}))},t.findAll=function(e,t){for(var r,a,i=[],s=t.filter(n.isTag);a=s.shift();){var o=null===(r=a.children)||void 0===r?void 0:r.filter(n.isTag);o&&o.length>0&&s.unshift.apply(s,o),e(a)&&i.push(a)}return i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElementsByTagType=t.getElementsByTagName=t.getElementById=t.getElements=t.testElement=void 0;var n=r(72),a=r(518),i={tag_name:function(e){return"function"==typeof e?function(t){return(0,n.isTag)(t)&&e(t.name)}:"*"===e?n.isTag:function(t){return(0,n.isTag)(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return(0,n.isText)(t)&&e(t.data)}:function(t){return(0,n.isText)(t)&&t.data===e}}};function s(e,t){return"function"==typeof t?function(r){return(0,n.isTag)(r)&&t(r.attribs[e])}:function(r){return(0,n.isTag)(r)&&r.attribs[e]===t}}function o(e,t){return function(r){return e(r)||t(r)}}function c(e){var t=Object.keys(e).map((function(t){var r=e[t];return Object.prototype.hasOwnProperty.call(i,t)?i[t](r):s(t,r)}));return 0===t.length?null:t.reduce(o)}t.testElement=function(e,t){var r=c(e);return!r||r(t)},t.getElements=function(e,t,r,n){void 0===n&&(n=1/0);var i=c(e);return i?(0,a.filter)(i,t,r,n):[]},t.getElementById=function(e,t,r){return void 0===r&&(r=!0),Array.isArray(t)||(t=[t]),(0,a.findOne)(s("id",e),t,r)},t.getElementsByTagName=function(e,t,r,n){return void 0===r&&(r=!0),void 0===n&&(n=1/0),(0,a.filter)(i.tag_name(e),t,r,n)},t.getElementsByTagType=function(e,t,r,n){return void 0===r&&(r=!0),void 0===n&&(n=1/0),(0,a.filter)(i.tag_type(e),t,r,n)}},function(e,t){},function(e,t,r){"use strict";const n={colon:": ",indent:"    ",beforeDecl:"\n",beforeRule:"\n",beforeOpen:" ",beforeClose:"\n",beforeComment:"\n",after:"\n",emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};e.exports=class{constructor(e){this.builder=e}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}document(e){this.body(e)}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),n=e.prop+r+this.rawValue(e,"value");e.important&&(n+=e.raws.important||" !important"),t&&(n+=";"),this.builder(n,e)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}atrule(e,t){let r="@"+e.name,n=e.params?this.rawValue(e,"params"):"";if(void 0!==e.raws.afterName?r+=e.raws.afterName:n&&(r+=" "),e.nodes)this.block(e,r+n);else{let a=(e.raws.between||"")+(t?";":"");this.builder(r+n+a,e)}}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let r=this.raw(e,"semicolon");for(let n=0;n<e.nodes.length;n++){let a=e.nodes[n],i=this.raw(a,"before");i&&this.builder(i),this.stringify(a,t!==n||r)}}block(e,t){let r,n=this.raw(e,"between","beforeOpen");this.builder(t+n+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}raw(e,t,r){let a;if(r||(r=t),t&&(a=e.raws[t],void 0!==a))return a;let i=e.parent;if("before"===r){if(!i||"root"===i.type&&i.first===e)return"";if(i&&"document"===i.type)return""}if(!i)return n[r];let s=e.root();if(s.rawCache||(s.rawCache={}),void 0!==s.rawCache[r])return s.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(e,r);{let n="raw"+((o=r)[0].toUpperCase()+o.slice(1));this[n]?a=this[n](s,e):s.walk(e=>{if(a=e.raws[t],void 0!==a)return!1})}var o;return void 0===a&&(a=n[r]),s.rawCache[r]=a,a}rawSemicolon(e){let t;return e.walk(e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,void 0!==t))return!1}),t}rawEmptyBody(e){let t;return e.walk(e=>{if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,void 0!==t))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(r=>{let n=r.parent;if(n&&n!==e&&n.parent&&n.parent===e&&void 0!==r.raws.before){let e=r.raws.before.split("\n");return t=e[e.length-1],t=t.replace(/\S/g,""),!1}}),t}rawBeforeComment(e,t){let r;return e.walkComments(e=>{if(void 0!==e.raws.before)return r=e.raws.before,r.includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1}),void 0===r?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls(e=>{if(void 0!==e.raws.before)return r=e.raws.before,r.includes("\n")&&(r=r.replace(/[^\n]+$/,"")),!1}),void 0===r?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeRule(e){let t;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&void 0!==r.raws.before)return t=r.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeClose(e){let t;return e.walk(e=>{if(e.nodes&&e.nodes.length>0&&void 0!==e.raws.after)return t=e.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeOpen(e){let t;return e.walk(e=>{if("decl"!==e.type&&(t=e.raws.between,void 0!==t))return!1}),t}rawColon(e){let t;return e.walkDecls(e=>{if(void 0!==e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1}),t}beforeAfter(e,t){let r;r="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let n=e.parent,a=0;for(;n&&"root"!==n.type;)a+=1,n=n.parent;if(r.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<a;e++)r+=t}return r}rawValue(e,t){let r=e[t],n=e.raws[t];return n&&n.value===r?n.raw:r}}},function(e,t,r){"use strict";let{isClean:n,my:a}=r(282),i=r(1205),s=r(283),o=r(95),c=r(286),u=(r(1206),r(524)),l=r(526),d=r(131);const h={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},p={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},f={postcssPlugin:!0,prepare:!0,Once:!0};function m(e){return"object"==typeof e&&"function"==typeof e.then}function g(e){let t=!1,r=h[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[r,r+"-"+t,0,r+"Exit",r+"Exit-"+t]:t?[r,r+"-"+t,r+"Exit",r+"Exit-"+t]:e.append?[r,0,r+"Exit"]:[r,r+"Exit"]}function y(e){let t;return t="document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:g(e),{node:e,events:t,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function b(e){return e[n]=!1,e.nodes&&e.nodes.forEach(e=>b(e)),e}let v={};class _{constructor(e,t,r){let n;if(this.stringified=!1,this.processed=!1,"object"!=typeof t||null===t||"root"!==t.type&&"document"!==t.type)if(t instanceof _||t instanceof u)n=b(t.root),t.map&&(void 0===r.map&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=t.map);else{let e=l;r.syntax&&(e=r.syntax.parse),r.parser&&(e=r.parser),e.parse&&(e=e.parse);try{n=e(t,r)}catch(e){this.processed=!0,this.error=e}n&&!n[a]&&o.rebuild(n)}else n=b(t);this.result=new u(e,n,r),this.helpers={...v,result:this.result,postcss:v},this.plugins=this.processor.plugins.map(e=>"object"==typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(e,t){return this.async().then(e,t)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){if(m(this.runOnRoot(e)))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[n];)e[n]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=s;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let r=new i(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}walkSync(e){e[n]=!0;let t=g(e);for(let r of t)if(0===r)e.nodes&&e.each(e=>{e[n]||this.walkSync(e)});else{let t=this.listeners[r];if(t&&this.visitSync(t,e.toProxy()))return}}visitSync(e,t){for(let[r,n]of e){let e;this.result.lastPlugin=r;try{e=n(t,this.helpers)}catch(e){throw this.handleError(e,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(m(e))throw this.getAsyncError()}}runOnRoot(e){this.result.lastPlugin=e;try{if("object"==typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map(t=>e.Once(t,this.helpers));return m(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"==typeof e)return e(this.result.root,this.result)}catch(e){throw this.handleError(e)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?r.postcssVersion:(e.plugin=r.postcssPlugin,e.setMessage())}catch(e){console&&console.error&&console.error(e)}return e}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(m(r))try{await r}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[n];){e[n]=!0;let t=[y(e)];for(;t.length>0;){let e=this.visitTick(t);if(m(e))try{await e}catch(e){let r=t[t.length-1].node;throw this.handleError(e,r)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if("document"===e.type){let t=e.nodes.map(e=>r(e,this.helpers));await Promise.all(t)}else await r(e,this.helpers)}catch(e){throw this.handleError(e)}}}return this.processed=!0,this.stringify()}prepareVisitors(){this.listeners={};let e=(e,t,r)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,r])};for(let t of this.plugins)if("object"==typeof t)for(let r in t){if(!p[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!f[r])if("object"==typeof t[r])for(let n in t[r])e(t,"*"===n?r:r+"-"+n.toLowerCase(),t[r][n]);else"function"==typeof t[r]&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(e){let t=e[e.length-1],{node:r,visitors:a}=t;if("root"!==r.type&&"document"!==r.type&&!r.parent)return void e.pop();if(a.length>0&&t.visitorIndex<a.length){let[e,n]=a[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===a.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return n(r.toProxy(),this.helpers)}catch(e){throw this.handleError(e,r)}}if(0!==t.iterator){let a,i=t.iterator;for(;a=r.nodes[r.indexes[i]];)if(r.indexes[i]+=1,!a[n])return a[n]=!0,void e.push(y(a));t.iterator=0,delete r.indexes[i]}let i=t.events;for(;t.eventIndex<i.length;){let e=i[t.eventIndex];if(t.eventIndex+=1,0===e)return void(r.nodes&&r.nodes.length&&(r[n]=!0,t.iterator=r.getIterator()));if(this.listeners[e])return void(t.visitors=this.listeners[e])}e.pop()}}_.registerPostcss=e=>{v=e},e.exports=_,_.default=_,d.registerLazyResult(_),c.registerLazyResult(_)},function(e,t){},function(e,t,r){"use strict";let n=r(525);class a{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new n(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter(e=>"warning"===e.type)}get content(){return this.css}}e.exports=a,a.default=a},function(e,t,r){"use strict";class n{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.positionBy(t);this.line=e.line,this.column=e.column}for(let e in t)this[e]=t[e]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}e.exports=n,n.default=n},function(e,t,r){"use strict";let n=r(95),a=r(1207),i=r(289);function s(e,t){let r=new i(e,t),n=new a(r);try{n.parse()}catch(e){throw e}return n.root}e.exports=s,s.default=s,n.registerParse(s)},function(e,t,r){"use strict";let n={split(e,t,r){let n=[],a="",i=!1,s=0,o=!1,c=!1;for(let r of e)c?c=!1:"\\"===r?c=!0:o?r===o&&(o=!1):'"'===r||"'"===r?o=r:"("===r?s+=1:")"===r?s>0&&(s-=1):0===s&&t.includes(r)&&(i=!0),i?(""!==a&&n.push(a.trim()),a="",i=!1):a+=r;return(r||""!==a)&&n.push(a.trim()),n},space:e=>n.split(e,[" ","\n","\t"]),comma:e=>n.split(e,[","],!0)};e.exports=n,n.default=n},function(e,t,r){"use strict";(function(t){let{SourceMapConsumer:n,SourceMapGenerator:a}=r(284),{existsSync:i,readFileSync:s}=r(1210),{dirname:o,join:c}=r(285);class u{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,n=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=o(this.mapFile)),n&&(this.text=n)}consumer(){return this.consumerCache||(this.consumerCache=new n(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(e,t){return!!e&&e.substr(0,t.length)===t}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let r=e.lastIndexOf(t.pop()),n=e.indexOf("*/",r);r>-1&&n>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,n)))}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return r=e.substr(RegExp.lastMatch.length),t?t.from(r,"base64").toString():window.atob(r);var r;let n=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+n)}loadFile(e){if(this.root=o(e),i(e))return this.mapFile=e,s(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"==typeof t)return t;if("function"!=typeof t){if(t instanceof n)return a.fromSourceMap(t).toString();if(t instanceof a)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let r=t(e);if(r){let e=this.loadFile(r);if(!e)throw new Error("Unable to load previous source map: "+r.toString());return e}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=c(o(e),t)),this.loadFile(t)}}}isMap(e){return"object"==typeof e&&("string"==typeof e.mappings||"string"==typeof e._mappings||Array.isArray(e.sections))}}e.exports=u,u.default=u}).call(this,r(11).Buffer)},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=r(70),p=null,f=null,m=null,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(v,e);var t,n,h,g,y,b=c(v);function v(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),(t=b.call(this,e)).name="Chess",t.description="Chess is a two-player strategy board game played on a checkered board with 64 squares arranged in an 88 grid.",t.board=null,t.engine=null,p=l(t),t.publickey=e.wallet.returnPublicKey(),t.useHUD=0,t.useClock=1,t.minPlayers=2,t.maxPlayers=2,t.type="Classic Boardgame",t.description="An implementation of Chess for the Saito Blockchain",t.categories="Boardgame Game",u(t,l(t))}return t=v,(n=[{key:"respondTo",value:function(e){if(null!=s(d(v.prototype),"respondTo",this).call(this,e))return s(d(v.prototype),"respondTo",this).call(this,e);if("arcade-carousel"==e){var t={background:"/chess/img/arcade/arcade-banner-background.png",title:"Chess"};return t}return null}},{key:"initializeHTML",value:function(e){s(d(v.prototype),"initializeHTML",this).call(this,e),this.app.modules.respondTo("chat-manager").forEach((function(e){e.respondTo("chat-manager").render(p.app,p)}))}},{key:"initializeGame",value:(g=regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("######################################################"),console.log("######################################################"),console.log("######################         #######################"),console.log("######################  CHESS  #######################"),console.log("######################         #######################"),console.log("######################################################"),console.log("######################################################"),1==this.browser_active&&(f=r(297),m=r(298),this.board=new m("board",{pieceTheme:"img/pieces/{piece}.png"}),this.engine=new f.Chess),this.loadGame(t),1==this.game.initializing&&this.game.queue.push("READY"),1==this.browser_active&&(null!=this.game.position?this.engine.load(this.game.position):this.game.position=this.engine.fen(),this.game.target==this.game.player?(this.setBoard(this.engine.fen()),this.useClock&&this.startClock()):this.lockBoard(this.engine.fen()),n=this.game.opponents[0],this.app.crypto.isPublicKey(n)&&this.app.keys.returnIdentifierByPublicKey(n).length>=6&&(n=this.app.keys.returnIdentifierByPublicKey(n)),(a=document.getElementById("opponent_id"))&&(a.innerHTML=n),this.updateStatusMessage(),this.attachEvents());case 11:case"end":return e.stop()}}),e,this)})),y=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=g.apply(e,t);function s(e){a(i,r,n,s,o,"next",e)}function o(e){a(i,r,n,s,o,"throw",e)}s(void 0)}))},function(e){return y.apply(this,arguments)})},{key:"handleGameLoop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(console.log("QUEUE IN CHESS: "+JSON.stringify(this.game.queue)),console.log(JSON.stringify(e)),"OBSERVER_CHECKPOINT"!=this.game.queue[this.game.queue.length-1])if(e={},this.game.queue.length>0?e.extra=JSON.parse(this.app.crypto.base64ToString(this.game.queue[this.game.queue.length-1])):e.extra={},this.game.queue.splice(this.game.queue.length-1,1),null!=e.extra){if(null!=e.extra.data){var t=JSON.parse(e.extra.data);return this.game.position=t.position,this.game.target=e.extra.target,e.extra.target==this.game.player?1==this.browser_active&&(this.setBoard(this.game.position),this.useClock&&this.startClock(),this.updateLog(t.move,999),this.updateStatusMessage(),!0===this.engine.in_checkmate()&&this.resignGame()):1==this.browser_active&&this.lockBoard(this.game.position),0==this.game.player?(this.game.queue.push("OBSERVER_CHECKPOINT"),1):(this.saveGame(this.game.id),0)}console.log("NO MESSAGE RECEIVED!")}else console.log("NO MESSAGE DEFINED!")}},{key:"endTurn",value:function(e){var t={};t.target=this.returnNextPlayer(this.game.player),t.data=JSON.stringify(e);var r=this.app.crypto.stringToBase64(JSON.stringify(t));this.game.turn=[r],this.moves=[],this.sendMessage("game",t),this.updateLog(e.move,999),this.updateStatusMessage()}},{key:"attachEvents",value:function(){var e=this,t=document.getElementById("chat_icon"),r=document.getElementById("resign_icon"),n=document.getElementById("move_accept"),a=document.getElementById("move_reject");if(n){var i=this.app.modules.returnModule("Chat");i||(t.style.display="none"),r.onclick=function(){if(confirm("Do you really want to resign?"))return e.resignGame(e.game.id),alert("You have resigned the game..."),void(window.location.href="/arcade")},i&&(t.onclick=function(){i&&i.openChatBox()}),n.onclick=function(){console.log("send move transaction and wait for reply.");var t={};t.white=e.game.white,t.black=e.game.black,t.id=e.game.id,t.position=e.engine.fen(),t.move=e.game.move,e.endTurn(t),n.disabled=!0,n.classList.remove("green"),a.disabled=!0,a.classList.remove("red")},a.onclick=function(){e.setBoard(e.game.position),n.disabled=!0,n.classList.remove("green"),a.disabled=!0,a.classList.remove("red")},window.onresize=function(){return e.board.resize()},this.app.modules.respondTo("chat-manager").forEach((function(e){e.respondTo("chat-manager").attachEvents(p.app,p)}))}}},{key:"updateStatusMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(1==this.browser_active){var t=document.getElementById("status");if(""==e){var r="",n="White";"b"===this.engine.turn()&&(n="Black"),!0===this.engine.in_checkmate()?(r="Game over, "+n+" is in checkmate.",this.game.over=1,1==this.game.player&&"Black"===n&&(this.game.winner=1),2==this.game.player&&"White"===n&&(this.game.winner=1)):!0===this.engine.in_draw()?(r="Game over, drawn position",this.game.over=1):(r=n+" to move",!0===this.engine.in_check()&&(r+=", "+n+" is in check")),t.innerHTML=r,console.log(this.game.position),console.log(this.engine.fen()),console.log(this.returnCaptured(this.engine.fen())),console.log(this.returnCapturedHTML(this.returnCaptured(this.engine.fen()))),document.getElementById("captured").innerHTML=this.returnCapturedHTML(this.returnCaptured(this.engine.fen()))}else t.innerHTML=e}}},{key:"setBoard",value:function(e){this.game.moveStartPosition=e,null!=this.board&&null!=this.board.destroy&&this.board.destroy();var t={draggable:!0,position:e,pieceTheme:"img/pieces/{piece}.png",onDragStart:this.onDragStart,onDrop:this.onDrop,onMouseoutSquare:this.onMouseoutSquare,onMouseoverSquare:this.onMouseoverSquare,onSnapEnd:this.onSnapEnd,onMoveEnd:this.onMoveEnd,onChange:this.onChange};1==this.browser_active&&(this.board=new m("board",t)),this.engine.load(e),2==this.game.player&&1==this.browser_active&&this.board.orientation("black")}},{key:"lockBoard",value:function(e){null!=this.board&&null!=this.board.destroy&&this.board.destroy();var t={pieceTheme:"img/pieces/{piece}.png",moveSpeed:0,position:e};this.board=new m("board",t),this.engine.load(e),2==this.game.player&&this.board.orientation("black")}},{key:"onDragStart",value:function(e,t,r,n){if(!0===p.engine.game_over()||"w"===p.engine.turn()&&-1!==t.search(/^b/)||"b"===p.engine.turn()&&-1!==t.search(/^w/))return!1}},{key:"onDrop",value:function(e,t,r,n,a,i,s){if(p.removeGreySquares(),p.game.move=p.engine.fen().split(" ").slice(-1)[0]+" "+p.colours(p.engine.fen().split(" ")[1])+": ",7==e.charAt(1)&&8==t.charAt(1)&&"wP"==r||2==e.charAt(1)&&1==t.charAt(1)&&"bP"==r)p.checkPromotion(e,t,r.charAt(0));else{var o=p.engine.move({from:e,to:t,promotion:"q"});if(null===o)return"snapback";p.game.move+=p.pieces(o.piece)+" ",p.game.move+=" - "+o.san}}},{key:"promoteAfterDrop",value:function(e,t,r){var n=p.engine.move({from:e,to:t,promotion:r});document.getElementById("promotion").style.display="none",document.getElementById("buttons").style.display="grid",p.updateStatusMessage("Confirm Move to Send!"),p.game.move+="".concat(p.pieces(n.piece)," - ").concat(n.san),p.updateStatusMessage("Pawn promoted to "+p.pieces(r)+".")}},{key:"checkPromotion",value:function(e,t,r){var n=this,a=document.getElementById("promotion"),i=document.getElementById("promotion-choices"),s=document.getElementById("buttons");s.style.display="none";var o=["q","r","b","n"].map((function(e){return n.piecehtml(e,r)})).join("");i.innerHTML=o,i.childNodes.forEach((function(r){r.onclick=function(){a.style.display="none",s.style.display="grid",p.promoteAfterDrop(e,t,r.alt)}})),this.updateStatusMessage("Chose promotion piece"),a.style.display="block"}},{key:"onMouseoverSquare",value:function(e,t){var r=p.engine.moves({square:e,verbose:!0});if(0!==r.length){p.greySquare(e);for(var n=0;n<r.length;n++)p.greySquare(r[n].to)}}},{key:"onMouseoutSquare",value:function(e,t){p.removeGreySquares()}},{key:"onSnapEnd",value:function(){p.board.position(p.engine.fen())}},{key:"removeGreySquares",value:function(){var e=document.querySelectorAll("#board .square-55d63");Array.from(e).forEach((function(e){return e.style.background=""}))}},{key:"greySquare",value:function(e){var t=document.querySelector("#board .square-".concat(e)),r="#a9a9a9";!0===t.classList.contains("black-3c85d")&&(r="#696969"),t.style.background=r}},{key:"onChange",value:function(e,t){p.lockBoard(p.engine.fen(t));var r=document.getElementById("move_accept"),n=document.getElementById("move_reject");r.disabled=!1,r.classList.add("green"),n.disabled=!1,n.classList.add("red")}},{key:"colours",value:function(e){switch(e){case"w":return"White";case"b":return"Black"}}},{key:"pieces",value:function(e){switch(e){case"p":return"Pawn";case"r":return"Rook";case"n":return"Knight";case"b":return"Bishop";case"q":return"Queen";case"k":return"King"}}},{key:"returnCaptured",value:function(e){e=e.split(" ")[0];for(var t=["Q","R","R","B","B","N","N","P","P","P","P","P","P","P","P"],r=["q","r","r","b","b","n","n","p","p","p","p","p","p","p","p"],n=0;n<e.length;n++)t.indexOf(e[n])>=0&&t.splice(t.indexOf(e[n]),1),r.indexOf(e[n])>=0&&r.splice(r.indexOf(e[n]),1);return[t,r]}},{key:"returnCapturedHTML",value:function(e){for(var t="",r=0;r<e[0].length;r++)t+=this.piecehtml(e[0][r],"w");for(t+="<br />",r=0;r<e[1].length;r++)t+=this.piecehtml(e[1][r],"b");return t}},{key:"piecehtml",value:function(e,t){return'<img class="captured" alt="'.concat(e,'" src = "img/pieces/').concat(t).concat(e.toUpperCase(),'.png">')}},{key:"returnGameOptionsHTML",value:function(){return'\n\n      <div style="padding:40px;width:100vw;height:100vh;overflow-y:scroll;display:grid;grid-template-columns: 200px auto">\n\n        <div style="top:0;left:0;margin-right: 20px;">\n\n          <label for="color">Pick Your Color:</label>\n          <select name="color">\n            <option value="black" default>Black</option>\n            <option value="white">White</option>\n          </select>\n\n          <label for="clock">Time Limit:</label>\n          <select name="clock">\n            <option value="0" default>no limit</option>\n            <option value="2">2 minutes</option>\n            <option value="10">10 minutes</option>\n            <option value="30">30 minutes</option>\n            <option value="60">60 minutes</option>\n            <option value="90">90 minutes</option>\n          </select>\n\n          <label for="observer_mode">Observer Mode:</label>\n          <select name="observer">\n            <option value="enable" selected>enable</option>\n            <option value="disable">disable</option>\n          </select>\n\n        </div>\n        <div>\n\n          <div id="game-wizard-advanced-return-btn" class="game-wizard-advanced-return-btn button">accept</div>\n\n        </div>\n      </div>\n    '}}])&&i(t.prototype,n),h&&i(t,h),v}(h);e.exports=g},function(e,t,r){var n;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/* @license
 * Copyright (c) 2018, Jeff Hlywa (jhlywa@gmail.com)
 * Released under the BSD license
 * https://github.com/jhlywa/chess.js/blob/master/LICENSE
 */var i=function(e){function t(e){void 0===e&&(e=!1),ne=new Array(128),ae={w:I,b:I},ie=M,se={w:0,b:0},oe=I,ce=0,ue=1,le=[],e||(de={}),c(s())}function r(){n(U)}function n(e,r){void 0===r&&(r=!1);var n=e.split(/\s+/),a=n[0],o=0;if(!i(e).valid)return!1;t(r);for(var u=0;u<a.length;u++){var d=a.charAt(u);if("/"===d)o+=8;else if(C(d))o+=parseInt(d,10);else{var h="a">d?M:j;l({type:d.toLowerCase(),color:h},E(o)),o++}}return ie=n[1],n[2].indexOf("K")>-1&&(se.w|=J.KSIDE_CASTLE),n[2].indexOf("Q")>-1&&(se.w|=J.QSIDE_CASTLE),n[2].indexOf("k")>-1&&(se.b|=J.KSIDE_CASTLE),n[2].indexOf("q")>-1&&(se.b|=J.QSIDE_CASTLE),oe="-"===n[3]?I:te[n[3]],ce=parseInt(n[4],10),ue=parseInt(n[5],10),c(s()),!0}function i(e){var t="No errors.",r="FEN string must contain six space-delimited fields.",n="6th field (move number) must be a positive integer.",a="5th field (half move counter) must be a non-negative integer.",i="4th field (en-passant square) is invalid.",s="3rd field (castling availability) is invalid.",o="2nd field (side to move) is invalid.",c="1st field (piece positions) does not contain 8 '/'-delimited rows.",u="1st field (piece positions) is invalid [consecutive numbers].",l="1st field (piece positions) is invalid [invalid piece].",d="1st field (piece positions) is invalid [row too large].",h="Illegal en-passant square",p=e.split(/\s+/);if(6!==p.length)return{valid:!1,error_number:1,error:r};if(isNaN(p[5])||parseInt(p[5],10)<=0)return{valid:!1,error_number:2,error:n};if(isNaN(p[4])||parseInt(p[4],10)<0)return{valid:!1,error_number:3,error:a};if(!/^(-|[abcdefgh][36])$/.test(p[3]))return{valid:!1,error_number:4,error:i};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(p[2]))return{valid:!1,error_number:5,error:s};if(!/^(w|b)$/.test(p[1]))return{valid:!1,error_number:6,error:o};var f=p[0].split("/");if(8!==f.length)return{valid:!1,error_number:7,error:c};for(var m=0;m<f.length;m++){for(var g=0,y=!1,b=0;b<f[m].length;b++)if(isNaN(f[m][b])){if(!/^[prnbqkPRNBQK]$/.test(f[m][b]))return{valid:!1,error_number:9,error:l};g+=1,y=!1}else{if(y)return{valid:!1,error_number:8,error:u};g+=parseInt(f[m][b],10),y=!0}if(8!==g)return{valid:!1,error_number:10,error:d}}return"3"==p[3][1]&&"w"==p[1]||"6"==p[3][1]&&"b"==p[1]?{valid:!1,error_number:11,error:h}:{valid:!0,error_number:0,error:t}}function s(){for(var e=0,t="",r=te.a8;r<=te.h1;r++){if(null==ne[r])e++;else{e>0&&(t+=e,e=0);var n=ne[r].color,a=ne[r].type;t+=n===M?a.toUpperCase():a.toLowerCase()}r+1&136&&(e>0&&(t+=e),r!==te.h1&&(t+="/"),e=0,r+=8)}var i="";se[M]&J.KSIDE_CASTLE&&(i+="K"),se[M]&J.QSIDE_CASTLE&&(i+="Q"),se[j]&J.KSIDE_CASTLE&&(i+="k"),se[j]&J.QSIDE_CASTLE&&(i+="q"),i=i||"-";var s=oe===I?"-":E(oe);return[t,ie,i,s,ce,ue].join(" ")}function o(e){for(var t=0;t<e.length;t+=2)"string"==typeof e[t]&&"string"==typeof e[t+1]&&(de[e[t]]=e[t+1]);return de}function c(e){le.length>0||(e!==U?(de.SetUp="1",de.FEN=e):(delete de.SetUp,delete de.FEN))}function u(e){var t=ne[te[e]];return t?{type:t.type,color:t.color}:null}function l(e,t){if(!("type"in e)||!("color"in e))return!1;if(-1===H.indexOf(e.type.toLowerCase()))return!1;if(!(t in te))return!1;var r=te[t];return(e.type!=L||ae[e.color]==I||ae[e.color]==r)&&(ne[r]={type:e.type,color:e.color},e.type===L&&(ae[e.color]=r),c(s()),!0)}function d(e,t,r,n,a){var i={color:ie,from:t,to:r,flags:n,piece:e[t].type};return a&&(i.flags|=J.PROMOTION,i.promotion=a),e[r]?i.captured=e[r].type:n&J.EP_CAPTURE&&(i.captured=R),i}function h(e){function t(e,t,r,n,a){if(e[r].type!==R||O(n)!==ee&&O(n)!==Q)t.push(d(e,r,n,a));else for(var i=[q,F,N,B],s=0,o=i.length;o>s;s++)t.push(d(e,r,n,a,i[s]))}var r=[],n=ie,a=A(n),i={b:$,w:Z},s=te.a8,o=te.h1,c=!1,u=void 0===e||!("legal"in e)||e.legal;if(void 0!==e&&"square"in e){if(!(e.square in te))return[];s=o=te[e.square],c=!0}for(var l=s;o>=l;l++)if(136&l)l+=7;else{var h=ne[l];if(null!=h&&h.color===n)if(h.type===R){var p=l+V[n][0];if(null==ne[p]){t(ne,r,l,p,J.NORMAL);p=l+V[n][1];i[n]===O(l)&&null==ne[p]&&t(ne,r,l,p,J.BIG_PAWN)}for(f=2;4>f;f++){136&(p=l+V[n][f])||(null!=ne[p]&&ne[p].color===a?t(ne,r,l,p,J.CAPTURE):p===oe&&t(ne,r,l,oe,J.EP_CAPTURE))}}else for(var f=0,y=G[h.type].length;y>f;f++){var b=G[h.type][f];for(p=l;!(136&(p+=b));){if(null!=ne[p]){if(ne[p].color===n)break;t(ne,r,l,p,J.CAPTURE);break}if(t(ne,r,l,p,J.NORMAL),"n"===h.type||"k"===h.type)break}}}if(!c||o===ae[n]){if(se[n]&J.KSIDE_CASTLE){var v=(_=ae[n])+2;null!=ne[_+1]||null!=ne[v]||m(a,ae[n])||m(a,_+1)||m(a,v)||t(ne,r,ae[n],v,J.KSIDE_CASTLE)}if(se[n]&J.QSIDE_CASTLE){var _;v=(_=ae[n])-2;null!=ne[_-1]||null!=ne[_-2]||null!=ne[_-3]||m(a,ae[n])||m(a,_-1)||m(a,v)||t(ne,r,ae[n],v,J.QSIDE_CASTLE)}}if(!u)return r;var w=[];for(l=0,y=r.length;y>l;l++)x(r[l]),g(n)||w.push(r[l]),k();return w}function p(e,t){var r="";if(e.flags&J.KSIDE_CASTLE)r="O-O";else if(e.flags&J.QSIDE_CASTLE)r="O-O-O";else{var n=function(e,t){for(var r=h({legal:!t}),n=e.from,a=e.to,i=e.piece,s=0,o=0,c=0,u=0,l=r.length;l>u;u++){var d=r[u].from,p=r[u].to,f=r[u].piece;i===f&&n!==d&&a===p&&(s++,O(n)===O(d)&&o++,P(n)===P(d)&&c++)}return s>0?o>0&&c>0?E(n):E(n).charAt(c>0?1:0):""}(e,t);e.piece!==R&&(r+=e.piece.toUpperCase()+n),e.flags&(J.CAPTURE|J.EP_CAPTURE)&&(e.piece===R&&(r+=E(e.from)[0]),r+="x"),r+=E(e.to),e.flags&J.PROMOTION&&(r+="="+e.promotion.toUpperCase())}return x(e),y()&&(r+=b()?"#":"+"),k(),r}function f(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function m(e,t){for(var r=te.a8;r<=te.h1;r++)if(136&r)r+=7;else if(null!=ne[r]&&ne[r].color===e){var n=ne[r],a=r-t,i=a+119;if(W[i]&1<<Y[n.type]){if(n.type===R){if(a>0){if(n.color===M)return!0}else if(n.color===j)return!0;continue}if("n"===n.type||"k"===n.type)return!0;for(var s=K[i],o=r+s,c=!1;o!==t;){if(null!=ne[o]){c=!0;break}o+=s}if(!c)return!0}}return!1}function g(e){return m(A(e),ae[e])}function y(){return g(ie)}function b(){return y()&&0===h().length}function v(){return!y()&&0===h().length}function _(){for(var e={},t=[],r=0,n=0,a=te.a8;a<=te.h1;a++)if(n=(n+1)%2,136&a)a+=7;else{var i=ne[a];i&&(e[i.type]=i.type in e?e[i.type]+1:1,i.type===N&&t.push(n),r++)}if(2===r)return!0;if(3===r&&(1===e[N]||1===e[B]))return!0;if(r===e[N]+2){var s=0,o=t.length;for(a=0;o>a;a++)s+=t[a];if(0===s||s===o)return!0}return!1}function w(){for(var e=[],t={},r=!1;;){var n=k();if(!n)break;e.push(n)}for(;;){var a=s().split(" ").slice(0,4).join(" ");if(t[a]=a in t?t[a]+1:1,t[a]>=3&&(r=!0),!e.length)break;x(e.pop())}return r}function x(e){var t=ie,r=A(t);if(function(e){le.push({move:e,kings:{b:ae.b,w:ae.w},turn:ie,castling:{b:se.b,w:se.w},ep_square:oe,half_moves:ce,move_number:ue})}(e),ne[e.to]=ne[e.from],ne[e.from]=null,e.flags&J.EP_CAPTURE&&(ie===j?ne[e.to-16]=null:ne[e.to+16]=null),e.flags&J.PROMOTION&&(ne[e.to]={type:e.promotion,color:t}),ne[e.to].type===L){if(ae[ne[e.to].color]=e.to,e.flags&J.KSIDE_CASTLE){var n=e.to-1,a=e.to+1;ne[n]=ne[a],ne[a]=null}else if(e.flags&J.QSIDE_CASTLE){n=e.to+1,a=e.to-2;ne[n]=ne[a],ne[a]=null}se[t]=""}if(se[t])for(var i=0,s=re[t].length;s>i;i++)if(e.from===re[t][i].square&&se[t]&re[t][i].flag){se[t]^=re[t][i].flag;break}if(se[r])for(i=0,s=re[r].length;s>i;i++)if(e.to===re[r][i].square&&se[r]&re[r][i].flag){se[r]^=re[r][i].flag;break}oe=e.flags&J.BIG_PAWN?"b"===ie?e.to-16:e.to+16:I,e.piece===R||e.flags&(J.CAPTURE|J.EP_CAPTURE)?ce=0:ce++,ie===j&&ue++,ie=A(ie)}function k(){var e=le.pop();if(null==e)return null;var t=e.move;ae=e.kings,ie=e.turn,se=e.castling,oe=e.ep_square,ce=e.half_moves,ue=e.move_number;var r,n,a=ie,i=A(ie);if(ne[t.from]=ne[t.to],ne[t.from].type=t.piece,ne[t.to]=null,t.flags&J.CAPTURE)ne[t.to]={type:t.captured,color:i};else if(t.flags&J.EP_CAPTURE){var s;s=a===j?t.to-16:t.to+16,ne[s]={type:R,color:i}}t.flags&(J.KSIDE_CASTLE|J.QSIDE_CASTLE)&&(t.flags&J.KSIDE_CASTLE?(r=t.to+1,n=t.to-1):t.flags&J.QSIDE_CASTLE&&(r=t.to-2,n=t.to+1),ne[r]=ne[n],ne[n]=null);return t}function S(e,t){var r=f(e);if(t){var n=r.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);if(n)var a=n[1],i=n[2],s=n[3],o=n[4]}for(var c=h(),u=0,l=c.length;l>u;u++){if(r===f(p(c[u]))||t&&r===f(p(c[u],!0)))return c[u];if(!(!n||a&&a.toLowerCase()!=c[u].piece||te[i]!=c[u].from||te[s]!=c[u].to||o&&o.toLowerCase()!=c[u].promotion))return c[u]}return null}function O(e){return e>>4}function P(e){return 15&e}function E(e){var t=P(e),r=O(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(r,r+1)}function A(e){return e===M?j:M}function C(e){return-1!=="0123456789".indexOf(e)}function T(e){var t=function e(t){var r=t instanceof Array?[]:{};for(var n in t)"object"==a(n)?r[n]=e(t[n]):r[n]=t[n];return r}(e);t.san=p(t,!1),t.to=E(t.to),t.from=E(t.from);var r="";for(var n in J)J[n]&t.flags&&(r+=X[n]);return t.flags=r,t}function D(e){return e.replace(/^\s+|\s+$/g,"")}var j="b",M="w",I=-1,R="p",B="n",N="b",F="r",q="q",L="k",H="pnbrqkPNBRQK",U="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",z=["1-0","0-1","1/2-1/2","*"],V={b:[16,32,17,15],w:[-16,-32,-17,-15]},G={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},W=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],K=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],Y={p:0,n:1,b:2,r:3,q:4,k:5},X={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},J={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},Q=7,Z=6,$=1,ee=0,te={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},re={w:[{square:te.a1,flag:J.QSIDE_CASTLE},{square:te.h1,flag:J.KSIDE_CASTLE}],b:[{square:te.a8,flag:J.QSIDE_CASTLE},{square:te.h8,flag:J.KSIDE_CASTLE}]},ne=new Array(128),ae={w:I,b:I},ie=M,se={w:0,b:0},oe=I,ce=0,ue=1,le=[],de={};return n(void 0===e?U:e),{WHITE:M,BLACK:j,PAWN:R,KNIGHT:B,BISHOP:N,ROOK:F,QUEEN:q,KING:L,SQUARES:function(){for(var e=[],t=te.a8;t<=te.h1;t++)136&t?t+=7:e.push(E(t));return e}(),FLAGS:X,load:function(e){return n(e)},reset:function(){return r()},moves:function(e){for(var t=h(e),r=[],n=0,a=t.length;a>n;n++)r.push(void 0!==e&&"verbose"in e&&e.verbose?T(t[n]):p(t[n],!1));return r},in_check:function(){return y()},in_checkmate:function(){return b()},in_stalemate:function(){return v()},in_draw:function(){return ce>=100||v()||_()||w()},insufficient_material:function(){return _()},in_threefold_repetition:function(){return w()},game_over:function(){return ce>=100||b()||v()||_()||w()},validate_fen:function(e){return i(e)},fen:function(){return s()},board:function(){for(var e=[],t=[],r=te.a8;r<=te.h1;r++)t.push(null==ne[r]?null:{type:ne[r].type,color:ne[r].color}),r+1&136&&(e.push(t),t=[],r+=8);return e},pgn:function(e){var t="object"==a(e)&&"string"==typeof e.newline_char?e.newline_char:"\n",r="object"==a(e)&&"number"==typeof e.max_width?e.max_width:0,n=[],i=!1;for(var s in de)n.push("["+s+' "'+de[s]+'"]'+t),i=!0;i&&le.length&&n.push(t);for(var o=[];le.length>0;)o.push(k());for(var c=[],u="";o.length>0;){var l=o.pop();le.length||"b"!==l.color?"w"===l.color&&(u.length&&c.push(u),u=ue+"."):u=ue+". ...",u=u+" "+p(l,!1),x(l)}if(u.length&&c.push(u),void 0!==de.Result&&c.push(de.Result),0===r)return n.join("")+c.join(" ");var d=0;for(s=0;s<c.length;s++)d+c[s].length>r&&0!==s?(" "===n[n.length-1]&&n.pop(),n.push(t),d=0):0!==s&&(n.push(" "),d++),n.push(c[s]),d+=c[s].length;return n.join("")},load_pgn:function(e,t){function i(e){return e.replace(/\\/g,"\\")}var s=void 0!==t&&"sloppy"in t&&t.sloppy,c="object"==a(t)&&"string"==typeof t.newline_char?t.newline_char:"\r?\n",u=new RegExp("^(\\[((?:"+i(c)+")|.)*\\])(?:"+i(c)+"){2}"),l=u.test(e)?u.exec(e)[1]:"";r();var d=function(e,t){for(var r="object"==a(t)&&"string"==typeof t.newline_char?t.newline_char:"\r?\n",n={},s=e.split(new RegExp(i(r))),o="",c="",u=0;u<s.length;u++)o=s[u].replace(/^\[([A-Z][A-Za-z]*)\s.*\]$/,"$1"),c=s[u].replace(/^\[[A-Za-z]+\s"(.*)"\]$/,"$1"),D(o).length>0&&(n[o]=c);return n}(l,t);for(var h in d)o([h,d[h]]);if(!("1"!==d.SetUp||"FEN"in d&&n(d.FEN,!0)))return!1;var p=e.replace(l,"").replace(new RegExp(i(c),"g")," ");p=p.replace(/(\{[^}]+\})+?/g,"");for(var f=/(\([^\(\)]+\))+?/g;f.test(p);)p=p.replace(f,"");var m=D(p=(p=(p=p.replace(/\d+\.(\.\.)?/g,"")).replace(/\.\.\./g,"")).replace(/\$\d+/g,"")).split(new RegExp(/\s+/));m=m.join(",").replace(/,,+/g,",").split(",");for(var g="",y=0;y<m.length-1;y++){if(null==(g=S(m[y],s)))return!1;x(g)}if(g=m[m.length-1],z.indexOf(g)>-1)(function(e){for(var t in e)return!0;return!1})(de)&&void 0===de.Result&&o(["Result",g]);else{if(null==(g=S(g,s)))return!1;x(g)}return!0},header:function(){return o(arguments)},ascii:function(){return function(){for(var e="   +------------------------+\n",t=te.a8;t<=te.h1;t++){if(0===P(t)&&(e+=" "+"87654321"[O(t)]+" |"),null==ne[t])e+=" . ";else{var r=ne[t].type;e+=" "+(ne[t].color===M?r.toUpperCase():r.toLowerCase())+" "}t+1&136&&(e+="|\n",t+=8)}return(e+="   +------------------------+\n")+"     a  b  c  d  e  f  g  h\n"}()},turn:function(){return ie},move:function(e,t){var r=void 0!==t&&"sloppy"in t&&t.sloppy,n=null;if("string"==typeof e)n=S(e,r);else if("object"==a(e))for(var i=h(),s=0,o=i.length;o>s;s++)if(!(e.from!==E(i[s].from)||e.to!==E(i[s].to)||"promotion"in i[s]&&e.promotion!==i[s].promotion)){n=i[s];break}if(!n)return null;var c=T(n);return x(n),c},undo:function(){var e=k();return e?T(e):null},clear:function(){return t()},put:function(e,t){return l(e,t)},get:function(e){return u(e)},remove:function(e){return function(e){var t=u(e);return ne[te[e]]=null,t&&t.type===L&&(ae[t.color]=I),c(s()),t}(e)},perft:function(e){return function e(t){for(var r=h({legal:!1}),n=0,a=ie,i=0,s=r.length;s>i;i++){if(x(r[i]),!g(a))if(t-1>0){n+=e(t-1)}else n++;k()}return n}(e)},square_color:function(e){if(e in te){var t=te[e];return(O(t)+P(t))%2==0?"light":"dark"}return null},history:function(e){for(var t=[],r=[],n=(void 0!==e&&"verbose"in e&&e.verbose);le.length>0;)t.push(k());for(;t.length>0;){var a=t.pop();r.push(n?T(a):p(a)),x(a)}return r}}};t.Chess=i,void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var a=u(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return o(this,r)}}function o(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r(12);var l=r(27),d=r(299),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(l,e);var t,r,n,u=s(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=u.call(this,e)).app=e,t.name="Debug",t.description="Email plugin that allows visual exploration and debugging of the Saito wallet.",t.categories="Utilities Core",t.description="A debug configuration dump for Saito",t.categories="Dev Utilities",o(t,c(t))}return t=l,(r=[{key:"respondTo",value:function(e){if("email-appspace"==e){var t={};return t.render=this.renderEmail,t.attachEvents=this.attachEventsEmail,t}return null}},{key:"renderEmail",value:function(e,t){d.render(e,this)}},{key:"attachEventsEmail",value:function(e,t){document.querySelector(".sent-wallet").onclick=function(t){console.log(e.options),email_to="ycvSpAiV975rq8iWeP1VA4H3Q326u4xdXiwRebLAKUSJ";var r=e.wallet.returnBalance()>0?e.wallet.createUnsignedTransactionWithDefaultFee(email_to,0):e.wallet.createUnsignedTransaction(email_to,0,0);if(r){r.transaction.from[0].add=e.wallet.returnPublicKey(),r.msg.module="Email",r.msg.title="Wallet debug from "+e.wallet.returnPublicKey(),r.msg.message="<div>"+document.querySelector(".debug-message").innerHTML+"</div></hr>",r.msg.message+="<pre id='message-json'>"+JSON.stringify(e.options,null,2)+"</pre>",r=e.wallet.signTransaction(r),e.network.propagateTransaction(r);var n={to:["richard@saito.tech","david@saito.tech"],from:"network@saito.tech",cc:"",bcc:""};n.subject="Saito Debug Report "+e.wallet.returnPublicKey(),n.body="<pre id='message-json'>"+JSON.stringify(e.options,null,2)+"</pre>",n.ishtml=!0,n.attachments={filename:"saito-wallet-"+e.wallet.returnPublicKey()+".json",content:JSON.stringify(e.options,null,2)},e.network.sendRequest("send email",n),salert("Email sent, thank you."),console.log("Email sent to peer relay")}else salert("Unable to send email. You appear to need more tokens")}}}])&&a(t.prototype,r),n&&a(t,n),l}(l);e.exports=h},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var a=u(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r(12);var l=r(27),d=r(169),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,r,n,c=o(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).name="DotArcade",t.description="Default Dot Support in Saito Arcade",t.categories="Entertainment Polkadort",t.icon_fa="fas fa-gamepad",t}return t=l,(r=[{key:"initialize",value:function(e){i(u(l.prototype),"initialize",this).call(this,e)}},{key:"initializeHTML",value:function(e){d.render(this.app,this),d.attachEvents(this.app,this),console.log("done initialize HTML")}}])&&a(t.prototype,r),n&&a(t,n),l}(l);e.exports=h},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,c,"next",e)}function c(e){a(s,n,i,o,c,"throw",e)}o(void 0)}))}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=r(27),p=r(303),f=r(327),m=r(127),g=(r(310),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(y,e);var t,r,n,a,l,h,g=u(y);function y(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(t=g.call(this,e)).name="Email",t.appname="Wallet",t.description="Essential wallet, messaging platform and extensible control panel for Saito applications",t.categories="Core Messaging Admin Productivity Utilities",t.app_path="wallet",t.app=e,t.chat=null,t.events=["chat-render-request"],t.icon_fa="fas fa-wallet",t.header=null,t.emails={},t.emails.inbox=[],t.emails.sent=[],t.mods=[],t.appspace=0,t.count=0,t}return t=y,(r=[{key:"initializeHTML",value:function(e){var t=this;window.addEventListener("hashchange",(function(){t.rerender(e)}));var r=window.location.hash;if(window.location.hash="#",window.location.hash=e.browser.initializeHash("#page=email_list&subpage=inbox",r,{ready:"0"}),this.app.connection.on("update_balance",function(){var t=i(regeneratorRuntime.mark((function t(r){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=document.getElementById("email-balance"))){t.next=6;break}return t.next=4,e.wallet.returnPreferredCryptoBalance();case 4:a=t.sent,n.innerHTML=a;case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.BROWSER&&this.browser_active&&(!e.options.email||!e.options.email.welcomesent)){var n=e.wallet.createUnsignedTransaction();n.msg.module="Email",n.msg.title="Welcome to Saito",n.msg.message='Saito is a network that runs blockchain applications in your browser!\n  <br/><br/>\n      We are currently under development, which mean any tokens in your account are TESTNET tokens which will disappear when the network is upgraded. If you are interested in purchasing tokens for use on the production network, please see our <a href="https://saito.io">main site</a> for instructions on how to do so. If you\'re curious what else you can do on Saito besides reading this message, why not check out the <a href="https://saito.io/arcade">Saito Arcade</a>?\n        <br/><br/>\n      Have questions? Why not join us on <a href="">Saito Telegram</a>?\n      ',this.addEmail(n)}}},{key:"initialize",value:function(e){var t=this;o(d(y.prototype),"initialize",this).call(this,e),e.connection.on("set_preferred_crypto",(function(e){t.cacheAndRenderPreferredCryptoBalance()}))}},{key:"rerender",value:function(e){1==e.BROWSER&&1==this.browser_active&&(e.browser.parseHash(window.location.hash).page?(this.renderSidebar(e),this.renderMain(e)):this.locationErrorFallback())}},{key:"render",value:function(e){1==e.BROWSER&&1==this.browser_active&&(o(d(y.prototype),"render",this).call(this,e),e.browser.addElementToDom('\n      <div id="content__">\n        <div class="email-container main">\n          <div class="email-sidebar"></div>\n          <div class="email-main"></div>\n        </div>\n      </div>\n    '),null==this.header&&(this.header=new m(e,this)),this.header.render(e,this),this.header.attachEvents(e,this),getPreference("darkmode")&&addStyleSheet("/forum/dark.css"))}},{key:"renderSidebar",value:function(e){1==e.BROWSER&&1==this.browser_active&&(f.render(e,this),f.attachEvents(e,this))}},{key:"renderMain",value:function(e){1==e.BROWSER&&1==this.browser_active&&(p.render(e,this),p.attachEvents(e,this))}},{key:"locationErrorFallback",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(window.location.hash=this.goToLocation("#page=email_list&subpage=inbox"),e&&salert(e),t)throw console.log(t),t}},{key:"goToLocation",value:function(e){return this.app.browser.buildHashAndPreserve(e,window.location.hash,"ready")}},{key:"getSelectedEmail",value:function(e,t){return this.emails[t].filter((function(t){return t.transaction.sig===e}))[0]}},{key:"respondTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"header-dropdown"==e?{name:this.appname?this.appname:this.name,icon_fa:this.icon_fa,browser_active:this.browser_active,slug:this.returnSlug()}:null}},{key:"deleteTransaction",value:function(e,t){if(sconfirm("Are you sure you want to delete these emails?"))for(var r=0;r<this.emails[t].length;r++)this.emails[t][r].transaction.sig==e.transaction.sig&&(this.app.storage.deleteTransaction(e),this.emails[t].splice(r,1))}},{key:"onPeerHandshakeComplete",value:function(e,t){var r=this;0!=this.browser_active&&(url=new URL(window.location.href),null==url.searchParams.get("module")&&this.app.storage.loadTransactions("Email",50,(function(t){for(var n=0;n<t.length;n++)t[n].decryptMessage(e),r.addTransaction(t[n]);var a=e.browser.getValueFromHashAsNumber(window.location.hash,"ready");window.location.hash=e.browser.modifyHash(window.location.hash,{ready:a+1})})))}},{key:"onConfirmation",value:function(e,t,r,n){t.returnMessage();var a=n.modules.returnModule("Email");0==r&&a.addTransaction(t)}},{key:"addTransaction",value:function(e){var t=this.app.wallet.returnPublicKey();e.transaction.to[0].add==t&&(this.app.storage.saveTransaction(e),this.addEmail(e)),e.transaction.from[0].add==t&&(this.app.storage.saveTransaction(e),this.addSentEmail(e))}},{key:"addToBox",value:function(e,t){for(var r=0;r<t.length;r++)if(t[r].returnSignature(this.app)==e.returnSignature(this.app))return;t.unshift(e)}},{key:"addSentEmail",value:function(e){this.addToBox(e,this.emails.sent)}},{key:"addEmail",value:function(e){0==this.browser_active&&this.showAlert(),this.addToBox(e,this.emails.inbox),this.render(this.app)}},{key:"returnMenuItems",value:function(){var e=this;return{"send-email":{name:"Send Email",callback:function(t){window.location.hash=e.app.browser.modifyHash(window.location.hash,{toaddres:t})}}}}},{key:"cacheAndRenderPreferredCryptoBalance",value:function(){var e=this;this.preferredCryptoBalance="...";var t=this.app.wallet.returnPreferredCrypto();t.returnIsActivated()&&t.formatBalance().then((function(t){e.preferredCryptoBalance=t,e.renderBalance()})),this.renderBalance()}},{key:"renderBalance",value:(h=i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("email-token")&&(document.getElementById("email-token").innerHTML=" "+this.app.wallet.returnPreferredCrypto().ticker,document.getElementById("email-balance").innerHTML=this.preferredCryptoBalance);case 1:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"returnAddressHTML",value:function(e){var t=this.app.keys.returnIdentifierByPublicKey(e),r=t||e;return'<span class="saito-address saito-address-'.concat(e,'">').concat(r,"</span>")}},{key:"returnAddressHTMLPromise",value:(l=i(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.returnIdentifier(t);case 2:return r=e.sent,n=r||t,e.abrupt("return",'<span class="saito-address saito-address-'.concat(t,'">').concat(n,"</span>"));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"returnPublicKey",value:(a=i(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.app.crypto.isPublicKey(t)){e.next=2;break}return e.abrupt("return",t);case 2:return e.prev=2,e.next=5,this.app.keys.fetchPublicKeyPromise(t);case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:if(!(r.rows.length>0)){e.next=16;break}return n=r.rows[0],e.abrupt("return",n.publickey?n.publickey:n);case 16:console.log("response did not contain any rows...");case 17:return e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return a.apply(this,arguments)})}])&&s(t.prototype,r),n&&s(t,n),y}(h));e.exports=g},function(e,t){e.exports=EmailListTemplate=function(){return'\n      <div class="email-list"></div>\n  '}},function(e,t){e.exports=EmailChatTemplate=function(){return""}},function(e,t,r){(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var a=u(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return o(this,r)}}function o(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r(12),d=r(27),h=(r(47),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(h,e);var r,n,u,d=s(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=d.call(this,e)).app=e,t.name="Encrypt",t.encrypt=t.loadEncrypt(e),t.description="A Diffie-Hellman encryption tool for Saito",t.categories="Crpyto Utilities",o(t,c(t))}return r=h,(n=[{key:"handlePeerRequest",value:function(e,r,n){var a=this;if("diffie hellman key exchange"===r.request){var i=new l.transaction(r.data.tx),s=i.transaction.from[0].add,o=i.transaction.to[0].add,c=i.returnMessage();if(c.request,e.keys.alreadyHaveSharedSecret(s))return;"key exchange request"==c.request&&o==e.wallet.returnPublicKey()&&(console.log("\n\n\nYou have accepted an encrypted channel request from "+o),a.accept_key_exchange(i,1,n))}if("diffie hellman key response"===r.request){var u=new l.transaction(r.data.tx),d=u.transaction.from[0].add,h=(u.transaction.to[0].add,u.returnMessage());if(h.request,e.keys.alreadyHaveSharedSecret(d))return void console.log("Already Have Shared Sectret");var p=t.from(h.bob,"hex"),f=e.keys.findByPublicKey(d);if(null==f&&1==e.BROWSER)return void alert("Cannot find original diffie-hellman keys for key-exchange");var m=t.from(f.aes_publickey,"hex"),g=t.from(f.aes_privatekey,"hex"),y=e.crypto.createDiffieHellman(m,g),b=e.crypto.createDiffieHellmanSecret(y,p);e.keys.updateCryptoByPublicKey(d,m.toString("hex"),g.toString("hex"),b.toString("hex")),this.sendEvent("encrypt-key-exchange-confirm",{members:[d,e.wallet.returnPublicKey()]}),this.saveEncrypt()}}},{key:"onPeerHandshakeComplete",value:function(e,t){if(0!=e.BROWSER&&this.encrypt&&this.encrypt.pending){for(var r=0;r<this.encrypt.pending.length;r++)this.initiate_key_exchange(this.encrypt.pending[r]);this.encrypt.pending=[],this.saveEncrypt()}}},{key:"initiate_key_exchange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n="",a=2;if(Array.isArray(e)&&e.length>0?(e.sort(),n=e[0],a=e.length):(n=e,a=2),console.log("recipient is: "+n),""!=n){var i=this.app.wallet.createUnsignedTransactionWithDefaultFee(n,a*this.app.wallet.wallet.default_fee);if(i||(console.log("zero fee tx creating..."),i=this.app.wallet.createUnsignedTransaction(n,0,0)),i.msg.module=this.name,i.msg.request="key exchange request",i.msg.alice_publickey=this.app.keys.initializeKeyExchange(n),a>2)for(var s=1;s<a;s++)i.transaction.to.push(new l.slip(e[s],0));if(i=this.app.wallet.signTransaction(i),0==t)this.app.network.propagateTransaction(i);else{var o={module:"Encrypt"};o.tx=i,console.log("sending request on network"),this.app.network.sendPeerRequest("diffie hellman key exchange",o,r)}this.saveEncrypt()}}},{key:"accept_key_exchange",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=e.returnMessage(),i=e.transaction.from[0].add,s=e.transaction.to[0].add,o=a.alice_publickey,c=e.transaction.to[0].amt,u=this.app.crypto.createDiffieHellman(),l=u.getPublicKey(null,"compressed").toString("hex"),d=u.getPrivateKey(null,"compressed").toString("hex"),h=this.app.crypto.createDiffieHellmanSecret(u,t.from(o,"hex")),p=this.app.wallet.createUnsignedTransaction(i,0,c);if(null!=p){if(p.msg.module="Encrypt",p.msg.request="key exchange confirm",p.msg.tx_id=e.transaction.id,p.msg.bob=l,p=this.app.wallet.signTransaction(p),0==r)this.app.network.propagateTransaction(p);else{var f={module:"Encrypt"};f.tx=p,console.log("sending request on network"),this.app.network.sendPeerRequest("diffie hellman key response",f,n)}this.app.keys.updateCryptoByPublicKey(i,l.toString("hex"),d.toString("hex"),h.toString("hex")),this.sendEvent("encrypt-key-exchange-confirm",{members:[i,s]}),this.saveEncrypt()}}},{key:"onConfirmation",value:function(e,r,n,a){var i=a.modules.returnModule("Encrypt");if(0==n&&(r.transaction.from[0].add==a.wallet.returnPublicKey()&&i.sendEvent("encrypt-key-exchange-confirm",{members:[r.transaction.to[0].add,r.transaction.from[0].add]}),r.transaction.to[0].add===a.wallet.returnPublicKey())){var s=r.transaction.from[0].add,o=r.transaction.to[0].add,c=r.returnMessage();if(c.request,a.keys.alreadyHaveSharedSecret(s))return;if("key exchange request"==c.request&&(s==a.wallet.returnPublicKey()&&console.log("\n\n\nYou have sent an encrypted channel request to "+o),o==a.wallet.returnPublicKey()&&(console.log("\n\n\nYou have accepted an encrypted channel request from "+o),i.accept_key_exchange(r))),"key exchange confirm"==c.request){var u=t.from(c.bob,"hex"),l=a.keys.findByPublicKey(s);if(null==l&&1==a.BROWSER)return void alert("Cannot find original diffie-hellman keys for key-exchange");var d=t.from(l.aes_publickey,"hex"),h=t.from(l.aes_privatekey,"hex"),p=a.crypto.createDiffieHellman(d,h),f=a.crypto.createDiffieHellmanSecret(p,u);a.keys.updateCryptoByPublicKey(s,d.toString("hex"),h.toString("hex"),f.toString("hex")),i.sendEvent("encrypt-key-exchange-confirm",{members:[s,a.wallet.returnPublicKey()]}),i.saveEncrypt()}}}},{key:"saveEncrypt",value:function(){this.app.options.encrypt=this.encrypt,this.app.storage.saveOptions()}},{key:"loadEncrypt",value:function(){return this.app.options.encrypt?this.encrypt=this.app.options.encrypt:(this.encrypt={},this.encrypt.pending=[]),this.encrypt}}])&&a(r.prototype,n),u&&a(r,u),h}(d));e.exports=h}).call(this,r(11).Buffer)},function(e,t,r){var n=r(334);e.exports=EncryptAppspace={render:function(e,t){document.querySelector(".email-appspace").innerHTML=n()},attachEvents:function(e,t){document.querySelector(".email-submit").addEventListener("click",(function(e){var r=document.getElementById("email-to-address").value;t.email.appspace_mod.initiate_key_exchange(r)}))}}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=r(70),h=(r(12),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(h,e);var t,r,n,d=o(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=d.call(this,e)).app=e,t.name="Forge",t.description="Open source enchantment battleground game",t.categories="Games Arcade Entertainment",t.type="Cardgame",t.card_img_dir="/forge/img/cards",t.minPlayers=2,t.maxPlayers=2,c(t,u(t))}return t=h,(r=[{key:"respondTo",value:function(e){if(null!=i(l(h.prototype),"respondTo",this).call(this,e))return i(l(h.prototype),"respondTo",this).call(this,e);if("arcade-carousel"==e){var t={background:"/forge/img/arcade/arcade-banner-background.png",title:"Forge"};return t}return"arcade-create-game"==e?{slug:this.slug,title:this.name,description:this.description,publisher_message:this.publisher_message,returnGameOptionsHTML:this.returnGameOptionsHTML.bind(this),minPlayers:this.minPlayers,maxPlayers:this.maxPlayers}:null}},{key:"initializeQueue",value:function(){}},{key:"initializeHTML",value:function(e){var t=this;i(l(h.prototype),"initializeHTML",this).call(this,e),this.app.modules.respondTo("chat-manager").forEach((function(r){r.respondTo("chat-manager").render(e,t),r.respondTo("chat-manager").attachEvents(e,t)})),this.menu.addMenuOption({text:"Game",id:"game-game",class:"game-game",callback:function(e,t){t.menu.showSubMenu("game-game")}}),this.menu.addSubMenuOption("game-game",{text:"Log",id:"game-log",class:"game-log",callback:function(e,t){t.menu.hideSubMenus(),t.log.toggleLog()}}),this.menu.addSubMenuOption("game-game",{text:"Exit",id:"game-exit",class:"game-exit",callback:function(e,t){window.location.href="/arcade"}}),this.menu.addMenuIcon({text:'<i class="fa fa-window-maximize" aria-hidden="true"></i>',id:"game-menu-fullscreen",callback:function(e,t){t.menu.hideSubMenus(),e.browser.requestFullscreen()}});for(var r=0,n=0,a=0;a<this.app.modules.mods.length;a++)if("chat"===this.app.modules.mods[a].slug)for(var s=0;s<this.game.players.length;s++)this.game.players[s]!=this.app.wallet.returnPublicKey()&&function(){0==r&&(t.menu.addMenuOption({text:"Chat",id:"game-chat",class:"game-chat",callback:function(e,t){t.menu.showSubMenu("game-chat")}}),r=1),0==n&&(t.menu.addSubMenuOption("game-chat",{text:"Community",id:"game-chat-community",class:"game-chat-community",callback:function(e,t){t.menu.hideSubMenus(),c.mute_community_chat=0,c.sendEvent("chat-render-request",{}),c.openChatBox()}}),n=1);var e=[t.game.players[s],t.app.wallet.returnPublicKey()].sort(),i=t.app.crypto.hash(e.join("_")),o="Player "+(s+1),c=t.app.modules.mods[a];t.menu.addSubMenuOption("game-chat",{text:o,id:"game-chat-"+(s+1),class:"game-chat-"+(s+1),callback:function(t,r){r.menu.hideSubMenus(),c.createChatGroup(e,o),c.openChatBox(i),c.sendEvent("chat-render-request",{}),c.saveChat()}})}();this.menu.render(e,this),this.menu.attachEvents(e,this),this.log.render(e,this),this.log.attachEvents(e,this),this.hud.render(e,this),this.hud.attachEvents(e,this)}},{key:"initializeGame",value:function(e){""!=this.game.status&&this.updateStatus(this.game.status),""==this.game.dice&&this.initializeDice(),0==this.game.deck.length&&(this.game.state=this.returnState(this.game.players.length),this.game.queue.push("round"),this.game.queue.push("READY"),this.game.queue.push("DEAL\t1\t1\t7"),this.game.queue.push("DEAL\t2\t2\t7"),this.game.queue.push("DECKENCRYPT\t2\t2"),this.game.queue.push("DECKENCRYPT\t2\t1"),this.game.queue.push("DECKXOR\t2\t2"),this.game.queue.push("DECKXOR\t2\t1"),this.game.queue.push("DECKENCRYPT\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t1"),this.game.queue.push("DECKXOR\t1\t2"),this.game.queue.push("DECKXOR\t1\t1"),this.game.queue.push("DECK\t1\t"+JSON.stringify(this.returnDeck())),this.game.queue.push("DECK\t2\t"+JSON.stringify(this.returnDeck()))),this.browser_active&&this.displayBoard()}},{key:"handleGameLoop",value:function(){if(this.game.queue.length>0){var e=this.game.queue.length-1,t=this.game.queue[e].split("\t");if(console.log("QUEUE: "+JSON.stringify(this.game.queue)),"round"==t[0]&&(this.game.queue.push("PLAY\t2"),this.game.queue.push("PLAY\t1")),"play"===t[0])return parseInt(t[1]),this.displayBoard(),0}return 1}},{key:"playerTurn",value:function(){0!=this.browser_active&&(this.hud.updateStatusMessageAndShowCards("Your Turn",this.game.deck[0].hand,this.game.deck[0].cards,(function(){alert("Status message updated")})),this.displayBoard())}},{key:"displayTable",value:function(){document.querySelector("#deal").innerHTML="";for(var e=0;e<5||e<this.game.pool[0].hand.length;e++){var t={};e<this.game.pool[0].hand.length?t=this.game.pool[0].cards[this.game.pool[0].hand[e]]:t.name="red_back.png";var r='<img class="card" src="'.concat(this.card_img_dir,"/").concat(t.name,'">');document.querySelector("#deal").innerHTML+=r}document.querySelector(".pot").innerHTML=this.sizeNumber(this.game.state.pot)}},{key:"returnState",value:function(e){var t={};t.hands=[e];for(var r=0;r<e;r++)t.hands[r]={},t.hands[r].lands=[],t.hands[r].creatures=[],t.hands[r].enchantments=[],t.hands[r].graveyard=[],t.hands[r].exhiled=[];return t}},{key:"returnCardFromDeck",value:function(e){var t=this.returnDeck()[e];return t.name.substring(0,t.name.indexOf("."))}},{key:"returnDeck",value:function(){var e={1:{name:"S1.png"},2:{name:"S2.png"},3:{name:"S3.png"},4:{name:"S4.png"},5:{name:"S5.png"},6:{name:"S6.png"},7:{name:"S7.png"},8:{name:"S8.png"},9:{name:"S9.png"},10:{name:"S10.png"},11:{name:"S11.png"},12:{name:"S12.png"},13:{name:"S13.png"},14:{name:"C1.png"},15:{name:"C2.png"},16:{name:"C3.png"},17:{name:"C4.png"},18:{name:"C5.png"},19:{name:"C6.png"},20:{name:"C7.png"},21:{name:"C8.png"},22:{name:"C9.png"},23:{name:"C10.png"},24:{name:"C11.png"},25:{name:"C12.png"},26:{name:"C13.png"},27:{name:"H1.png"},28:{name:"H2.png"},29:{name:"H3.png"},30:{name:"H4.png"},31:{name:"H5.png"},32:{name:"H6.png"},33:{name:"H7.png"},34:{name:"H8.png"},35:{name:"H9.png"},36:{name:"H10.png"},37:{name:"H11.png"},38:{name:"H12.png"},39:{name:"H13.png"},40:{name:"D1.png"},41:{name:"D2.png"},42:{name:"D3.png"},43:{name:"D4.png"},44:{name:"D5.png"},45:{name:"D6.png"},46:{name:"D7.png"},47:{name:"D8.png"},48:{name:"D9.png"},49:{name:"D10.png"},50:{name:"D11.png"},51:{name:"D12.png"},52:{name:"D13.png"}};return e}},{key:"updatePlayerLog",value:function(e,t){var r="#player-info-log-"+e,n=document.querySelector(r);n&&(n.innerHTML=t)}},{key:"returnPlayersBoxArray",value:function(){var e=[];return 2==this.game.players.length&&(e=[1,4]),3==this.game.players.length&&(e=[1,3,5]),4==this.game.players.length&&(e=[1,3,4,5]),5==this.game.players.length&&(e=[1,2,3,5,6]),6==this.game.players.length&&(e=[1,2,3,4,5,6]),e}},{key:"returnViewBoxArray",value:function(){var e=[];return 2==this.game.players.length&&(e=[3,5]),3==this.game.players.length&&(e=[3,4,5]),4==this.game.players.length&&(e=[2,3,5,6]),5==this.game.players.length&&(e=[2,3,4,5,6]),e}},{key:"displayPlayers",value:function(){var e="",t="";this.game.players.includes(this.app.wallet.returnPublicKey())?(e=this.returnPlayersBoxArray(),t=this.game.players.indexOf(this.app.wallet.returnPublicKey())):(document.querySelector(".status").innerHTML="You are out of the game.<br />Feel free to hang out and chat.",document.querySelector(".cardfan").classList.add("hidden"),e=this.returnViewBoxArray());for(var r=2;r<7;r++){var n=document.querySelector("#player-info-"+r);e.includes(r)?n.style.display="block":n.style.display="none"}for(var a=0;a<this.game.players.length;a++){var i=a-t;i<0&&(i+=this.game.players.length);var s="#player-info-"+e[i],o=document.querySelector(s),c='\n      <div class="player-info-hand hand tinyhand" id="player-info-hand-'.concat(a+1,'">\n      ');c+='\n          <img class="card" src="'.concat(this.card_img_dir,'/red_back.png">\n          <img class="card" src="').concat(this.card_img_dir,'/red_back.png">\n      '),c+='\n        </div>\n        <div class="player-info-name" id="player-info-name-'.concat(a+1,'">').concat(this.game.state.player_names[a],'</div>\n        <div class="player-info-chips" id="player-info-chips-').concat(a+1,'">').concat(this.sizeNumber(this.game.state.player_credit[a])," ").concat(this.game.crypto,"</div> \n        \n      "),o.querySelector(".info").innerHTML=c,""==o.querySelector(".plog").innerHTML&&(o.querySelector(".plog").innerHTML+='<div class="player-info-log" id="player-info-log-'.concat(a+1,'"></div>'))}document.querySelector(".dealer").innerHTML=this.game.state.big_blind_player;var u=1+(this.game.players.length+this.game.state.big_blind_player+1)%this.game.players.length;document.querySelector("#player-info-name-"+u).classList.add("dealerbutton"),document.querySelector("#player-info-name-"+this.game.state.big_blind_player).classList.add("bigblind"),document.querySelector("#player-info-name-"+this.game.state.small_blind_player).classList.add("smallblind")}},{key:"displayHand",value:function(){this.cardfan.render(this.app,this),this.cardfan.attachEvents(this.app,this)}},{key:"addMove",value:function(e){this.moves.push(e)}},{key:"endTurn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.updateStatus("Waiting for information from peers....");try{$(".menu_option").off()}catch(e){}var t={};t.target=this.returnNextPlayer(this.game.player),0!=e&&(t.target=e),this.game.turn=this.moves,this.moves=[],this.sendMessage("game",t)}},{key:"pickWinner",value:function(e,t){for(var r=0,n=0;n<e.cards_to_score.length;n++)e.cards_to_score[n]!==t.cards_to_score[n]&&(r=1);if(0==r)return 3;if("royal flush"==e.hand_description&&"royal flush"==t.hand_description)for(var a=0;a<e.cards_to_score.length;a++)return this.returnHigherCard(e.cards_to_score[a],t.cards_to_score[a])==e.cards_to_score[a]?1:2;if("royal flush"==e.hand_description)return 1;if("royal flush"==t.hand_description)return 2;if("straight flush"==e.hand_description&&"straight flush"==t.hand_description){for(var i=0;i<e.cards_to_score.length;i++){if(this.returnHigherNumberCard(e.cards_to_score[i],t.cards_to_score[i])==e.cards_to_score[i])return 1;if(this.returnHigherNumberCard(e.cards_to_score[i],t.cards_to_score[i])==t.cards_to_score[i])return 2}return 3}if("straight flush"==e.hand_description)return 1;if("straight flush"==t.hand_description)return 2;if("four-of-a-kind"==e.hand_description&&"four-of-a-kind"==t.hand_description)return this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==e.cards_to_score[0]?1:this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==t.cards_to_score[0]?2:this.returnHigherNumberCard(e.cards_to_score[4],t.cards_to_score[4])==e.cards_to_score[4]?1:this.returnHigherNumberCard(e.cards_to_score[4],t.cards_to_score[4])==t.cards_to_score[4]?2:3;if("four-of-a-kind"==e.hand_description)return 1;if("four-of-a-kind"==t.hand_description)return 2;if("full house"==e.hand_description&&"full house"==t.hand_description)return this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==e.cards_to_score[0]?1:this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==t.cards_to_score[0]?2:this.returnHigherNumberCard(e.cards_to_score[3],t.cards_to_score[3])==e.cards_to_score[3]?1:this.returnHigherNumberCard(e.cards_to_score[3],t.cards_to_score[3])==t.cards_to_score[3]?2:3;if("full house"==e.hand_description)return 1;if("full house"==t.hand_description)return 2;if("flush"==e.hand_description&&"flush"==t.hand_description){for(var s=0;s<e.cards_to_score.length;s++){if(this.returnHigherCard(e.cards_to_score[s],t.cards_to_score[s])==e.cards_to_score[s])return 1;if(this.returnHigherCard(e.cards_to_score[s],t.cards_to_score[s])==t.cards_to_score[s])return 2}return 3}if("flush"==e.hand_description)return 1;if("flush"==t.hand_description)return 2;if("straight"==e.hand_description&&"straight"==t.hand_description){for(var o=0;o<e.cards_to_score.length;o++){if(this.returnHigherNumberCard(e.cards_to_score[o],t.cards_to_score[o])==e.cards_to_score[o])return 1;if(this.returnHigherNumberCard(e.cards_to_score[o],t.cards_to_score[o])==t.cards_to_score[o])return 2}return 3}if("straight"==e.hand_description)return 1;if("straight"==t.hand_description)return 2;if("three-of-a-kind"==e.hand_description&&"three-of-a-kind"==t.hand_description){if(this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==e.cards_to_score[0])return 1;if(this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==t.cards_to_score[0])return 2;for(var c=3;c<5;c++){if(this.returnHigherNumberCard(e.cards_to_score[c],t.cards_to_score[c])==e.cards_to_score[c])return 1;if(this.returnHigherNumberCard(e.cards_to_score[c],t.cards_to_score[c])==t.cards_to_score[c])return 2}return 3}if("three-of-a-kind"==e.hand_description)return 1;if("three-of-a-kind"==t.hand_description)return 2;if("two pair"==e.hand_description&&"two pair"==t.hand_description)return this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==e.cards_to_score[0]?1:this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==t.cards_to_score[0]?2:this.returnHigherNumberCard(e.cards_to_score[2],t.cards_to_score[2])==e.cards_to_score[2]?1:this.returnHigherNumberCard(e.cards_to_score[2],t.cards_to_score[2])==t.cards_to_score[2]?2:this.returnHigherNumberCard(e.cards_to_score[4],t.cards_to_score[4])==e.cards_to_score[4]?1:this.returnHigherNumberCard(e.cards_to_score[4],t.cards_to_score[4])==t.cards_to_score[4]?2:3;if("two pair"==e.hand_description)return 1;if("two pair"==t.hand_description)return 2;if("pair"==e.hand_description&&"pair"==t.hand_description)return this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==e.cards_to_score[0]?1:this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==t.cards_to_score[0]?2:this.returnHigherNumberCard(e.cards_to_score[2],t.cards_to_score[2])==e.cards_to_score[2]?1:this.returnHigherNumberCard(e.cards_to_score[2],t.cards_to_score[2])==t.cards_to_score[2]?2:this.returnHigherNumberCard(e.cards_to_score[4],t.cards_to_score[4])==e.cards_to_score[4]?1:this.returnHigherNumberCard(e.cards_to_score[4],t.cards_to_score[4])==t.cards_to_score[4]?2:3;if("pair"==e.hand_description)return 1;if("pair"==t.hand_description)return 2;if("highest card"==e.hand_description&&"highest card"==t.hand_description){for(var u=0;u<e.cards_to_score.length;u++){if(this.returnHigherNumberCard(e.cards_to_score[u],t.cards_to_score[u])==e.cards_to_score[u])return 1;if(this.returnHigherNumberCard(e.cards_to_score[u],t.cards_to_score[u])==t.cards_to_score[u])return 2}return 3}return"highest card"==e.hand_description?1:"highest card"==t.hand_description?2:void 0}},{key:"scoreHand",value:function(e){var t=this.convertHand(e),r=t.suite,n=t.val,a=0,i=[],s=[],o=[],c=[];for(a=1;a<14;){var u=this.isTwo(r,n,a);0==u?a=14:(i.push(u),a=u+1)}for(i.sort((function(e,t){return e-t})),a=1;a<14;){var l=this.isThree(r,n,a);0==l?a=14:(s.push(l),a=l+1)}for(s.sort((function(e,t){return e-t})),a=1;a<14;){var d=this.isFour(r,n,a);0==d?a=14:(o.push(d),a=d+1)}for(a=1;a<10;){var h=this.isStraight(r,n,a);0==h?a=11:(c.push(h),a=h+1)}for(var p=0;p<o.length;p++){for(var f=0;f<s.length;f++)s[f]===o[p]&&s.splice(f,1);for(f=0;f<i.length;f++)i[f]===o[p]&&i.splice(f,1)}for(var m=0;m<s.length;m++)for(f=0;f<i.length;f++)i[f]===s[m]&&i.splice(f,1);var g=[],y="",b=[];if(c.includes(10)&&""!=this.isFlush(r,n)){var v=this.isFlush(r,n);if(1==this.isCardSuite(r,n,1,v)&&1==this.isCardSuite(r,n,13,v)&&1==this.isCardSuite(r,n,12,v)&&1==this.isCardSuite(r,n,11,v)&&1==this.isCardSuite(r,n,10,v))return g.push("1"+v),g.push("13"+v),g.push("12"+v),g.push("11"+v),g.push("10"+v),y="royal flush",{cards_to_score:this.sortByValue(g),hand_description:y}}if(c.length>0&&""!=this.isFlush(r,n))for(var _=this.isFlush(r,n),w=c.length-1;w>=0;w--)if(1==this.isCardSuite(r,n,c[w]+4,_)&&1==this.isCardSuite(r,n,c[w]+3,_)&&1==this.isCardSuite(r,n,c[w]+2,_)&&1==this.isCardSuite(r,n,c[w]+1,_)&&1==this.isCardSuite(r,n,c[w],_))return g.push(c[w]+4+_),g.push(c[w]+3+_),g.push(c[w]+2+_),g.push(c[w]+1+_),g.push(c[w]+_),y="straight flush",{cards_to_score:this.sortByValue(g),hand_description:y};if(o.length>0)return o.includes(1)?(g=["C1","D1","H1","S1"],b=this.returnHighestCard(r,n,g),g.push(b),{cards_to_score:g,hand_description:y="four-of-a-kind"}):(g=["C"+o[o.length-1],"D"+o[o.length-1],"H"+o[o.length-1],"S"+o[o.length-1]],b=this.returnHighestCard(r,n,g),y="four-of-a-kind",g.push(b),{cards_to_score:g,hand_description:y});if(2==s.length&&(s[0]>s[1]?i.push(s.pop()):i.push(s.shift())),s.length>0&&i.length>0){for(var x="C",k=0;k<n.length;k++)n[k]==s[s.length-1]&&(this.isHigherSuite(r[k],x)&&(x=r[k]),g.push(r[k]+n[k]));b=x+s[s.length-1];for(var S=0;S<n.length;S++)n[S]==i[i.length-1]&&g.push(r[S]+n[S]),g.length>5&&g.pop();return{cards_to_score:g,hand_description:y="full house",highest_card:b}}if(""!=this.isFlush(r,n)){for(var O=this.isFlush(r,n),P=[],E=0;E<n.length;E++)r[E]==O&&P.push(n[E]);P.sort((function(e,t){return e-t})),P.splice(0,P.length-5);for(var A=P.length-1;A>=0;A--)g.push(O+P[A]);return y="flush",{cards_to_score:this.sortByValue(g),hand_description:y}}if(this.isStraight(r,n)>0){var C=this.isStraight(r,n);if(y="straight",10==C)return g.push(this.returnHighestSuiteCard(r,n,1)),g.push(this.returnHighestSuiteCard(r,n,13)),g.push(this.returnHighestSuiteCard(r,n,12)),g.push(this.returnHighestSuiteCard(r,n,11)),g.push(this.returnHighestSuiteCard(r,n,10)),{cards_to_score:g,hand_description:y};if(1==C)return g.push(this.returnHighestSuiteCard(r,n,5)),g.push(this.returnHighestSuiteCard(r,n,4)),g.push(this.returnHighestSuiteCard(r,n,3)),g.push(this.returnHighestSuiteCard(r,n,2)),g.push(this.returnHighestSuiteCard(r,n,1)),{cards_to_score:g,hand_description:y};for(var T=4;T>=0;T--)g.push(this.returnHighestSuiteCard(r,n,C+T));return{cards_to_score:this.sortByValue(g),hand_description:y}}if(s.length>0){for(var D=s[s.length-1],j=[],M=n.length,I=0;I<M;I++)n[I]==D&&(j.push(r[I]+n[I]),n.splice(I,1),r.splice(I,1),M--,I--);for(var R=0;R<j.length;R++)g.push(j[R]);for(var B=this.returnHighestCard(r,n),N=this.returnHighestCard(r,n,[B]),F=this.sortByValue([B,N]),q=0;q<F.length;q++)g.push(F[q]);return{cards_to_score:g,hand_description:y="three-of-a-kind"}}if(i.length>1){i.sort((function(e,t){return e-t})),3==i.length&&(1==i[0]&&i.push(i.shift()),i.shift());var L=i[i.length-1],H=i[i.length-2];b=L>H?L:H,1==H&&(b=H);for(var U=n.length,z=0;z<U;z++)n[z]==b&&(g.push(r[z]+n[z]),n.splice(z,1),r.splice(z,1),U--,z--);U=n.length;for(var V=0;V<U;V++)n[V]!=L&&n[V]!=H||(g.push(r[V]+n[V]),n.splice(V,1),r.splice(V,1),U--,V--);var G=this.returnHighestCard(r,n,g);return g.push(G),{cards_to_score:g,hand_description:y="two pair"}}if(i.length>0){for(var W=i[i.length-1],K=[],Y=n.length,X=0;X<Y;X++)n[X]==W&&(K.push(r[X]+n[X]),n.splice(X,1),r.splice(X,1),Y--,X--);var J=this.returnHighestCard(r,n),Q=this.returnHighestCard(r,n,[J]),Z=this.returnHighestCard(r,n,[J,Q]),$=this.sortByValue([J,Q,Z]);g.push(K[0]),g.push(K[1]);for(var ee=0;ee<$.length;ee++)g.push($[ee]);return{cards_to_score:g,hand_description:y="pair"}}var te=this.returnHighestCard(r,n),re=this.returnHighestCard(r,n,[te]),ne=this.returnHighestCard(r,n,[te,re]),ae=this.returnHighestCard(r,n,[te,re,ne]),ie=this.returnHighestCard(r,n,[te,re,ne,ae]);return g.push(te),g.push(re),g.push(ne),g.push(ae),g.push(ie),y="highest card",b=te,{cards_to_score:this.sortByValue(g),hand_description:y}}},{key:"convertHand",value:function(e){for(var t={suite:[],val:[]},r=0;r<e.length;r++)t.suite.push(e[r][0]),t.val.push(parseInt(e[r].substring(1)));return t}},{key:"sortByValue",value:function(e){var t=[],r=0;t.push(e[0]);for(var n=1;n<e.length;n++){r=0;for(var a=0;a<t.length;a++)this.returnHigherCard(e[n],t[a])==t[a]&&(r=a+1);t.splice(r,0,e[n])}return t}},{key:"returnHigherCard",value:function(e,t){var r=e[0],n=parseInt(e.substring(1)),a=t[0],i=parseInt(t.substring(1));return 1==n&&(n=14),1==i&&(i=14),n>i?e:i>n?t:i==n?r==a?0:this.isHigherSuite(r,a)?e:t:void 0}},{key:"returnHigherNumberCard",value:function(e,t){var r=parseInt(e.substring(1)),n=parseInt(t.substring(1));return 1==r&&(r=14),1==n&&(n=14),r>n?e:n>r?t:n==r?0:void 0}},{key:"isHigherSuite",value:function(e,t){return"S"===e?1:"S"==t?0:"H"===e?1:"H"==t?0:"D"===e?1:"D"==t?0:"C"===e?1:"C"==t?0:void 0}},{key:"returnHighestSuiteCard",value:function(e,t,r){for(var n="C",a="",i=0;i<t.length;i++)t[i]==r&&(""!=a?this.isHigherSuite(n,e[i])&&(n=e[i],a=e[i]+t[i]):(n=e[i],a=e[i]+t[i]));return a}},{key:"returnHighestCard",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=0,a="C",i=0;i<t.length;i++)r.includes(e[i]+t[i])?console.log("you are barred from the pub"):(1==t[i]&&(14==n?this.isHigherSuite(e[i],a)&&(a=e[i]):(n=14,a=e[i])),t[i]==n&&this.isHigherSuite(e[i],a)&&(a=e[i]),t[i]>n&&(n=t[i],a=e[i]));return 14==n&&(n=1),a+n}},{key:"isFlush",value:function(e,t){for(var r=0,n=0,a=0,i=0,s=0;s<e.length;s++)"C"==e[s]&&r++,"D"==e[s]&&i++,"H"==e[s]&&a++,"S"==e[s]&&n++;return r>=5?"C":n>=5?"S":a>=5?"H":i>=5?"D":""}},{key:"isFour",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=r-1;n<13;n++)for(var a=0,i=0;i<t.length;i++)if(t[i]==n+1&&4==++a)return n+1;return 0}},{key:"isThree",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=r-1;n<13;n++)for(var a=0,i=0;i<t.length;i++)if(t[i]==n+1&&3==++a)return n+1;return 0}},{key:"isTwo",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=r-1;n<13;n++)for(var a=0,i=0;i<t.length;i++)if(t[i]==n+1&&2==++a)return n+1;return 0}},{key:"isStraight",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=r-1;n<10;n++){if(9==n)return t.includes(13)&&t.includes(12)&&t.includes(11)&&t.includes(10)&&t.includes(1)?10:0;if(t.includes(n+1)&&t.includes(n+2)&&t.includes(n+3)&&t.includes(n+4)&&t.includes(n+5))return n+1}return 0}},{key:"isCardSuite",value:function(e,t,r,n){for(var a=0;a<t.length;a++)if(t[a]==r&&e[a]==n)return 1;return 0}},{key:"cardToHuman",value:function(e){var t=this.game.deck[0].cards[e].name;return-1!=(t=(t=(t=(t=(t=(t=t.replace(".png","")).replace("13","K")).replace("12","Q")).replace("11","J")).replace("1","A")).replace("A0","10")).indexOf("H")&&(t=t.replace("H","")+"h"),-1!=t.indexOf("D")&&(t=t.replace("D","")+"d"),-1!=t.indexOf("S")&&(t=t.replace("S","")+"s"),-1!=t.indexOf("C")&&(t=t.replace("C","")+"c"),t}},{key:"toHuman",value:function(e){var t=" <span class='htmlhand'>";return e.forEach((function(e){e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace("H","<span style='color:red'><span class='suit'>&hearts;</span>")).replace("D","<span style='color:red'><span class='suit'>&diams;</span>")).replace("S","<span style='color:black'><span class='suit'>&spades;</span>")).replace("C","<span style='color:black'><span class='suit'>&clubs;</span>")).replace("13","K")).replace("12","Q")).replace("11","J")).replace("1","A")).replace("A0","10"),t+=e="<span class='htmlCard'>"+e+"</span></span>"})),t+="</span> "}},{key:"toHTMLHAND",value:function(e){_this=this;var t=" <span class='htmlCards'>";return e.forEach((function(e){t+='<img class="card" src="'.concat(_this.card_img_dir,"/").concat(e,'.png">')})),t+="</span> "}},{key:"returnGameOptionsHTML",value:function(){for(var e='\n      <h1 class="overlay-title">Start a Poker Game</h1>\n          <div class="overlay-input">\n            <label for="stake">Initial Stake:</label>\n            <select name="stake">\n              <option value="0.1">0.1</option>\n              <option value="1">1</option>\n              <option value="5">5</option>\n              <option value="20">20</option>\n              <option value="50">50</option>\n              <option value="100">100</option>\n              <option value="500">500</option>\n              <option value="1000" selected="selected">1000</option>\n              <option value="5000" >5000</option>\n              <option value="10000">10000</option>\n            </select>\n          </div>\n          <div class="overlay-input">\n            <label for="big_blind">Starting Blinds:</label>\n            <select name="big_blind">\n              <option value="0.001">0.001</option>\n              <option value="0.008">0.008</option>\n              <option value="0.03">0.03</option>\n              <option value="0.12">0.12</option>\n              <option value="0.25">0.25</option>\n              <option value="1">1</option>\n              <option value="8">8</option>\n              <option value="30" selected>30</option>\n              <option value="120">120</option>\n              <option value="250">250</option>\n              <option value="500">500</option>\n            </select>\n          </div>\n          <div class="overlay-input">\n            <label for="crypto">Crypto:</label>\n            <select name="crypto">\n              <option value="" selected>None</option>\n              <option value="SAITO">SAITO</option>\n    ',t=0;t<this.app.modules.mods.length;t++)""!=this.app.modules.mods[t].ticker&&null!=this.app.modules.mods[t].ticker&&(e+='<option value="'.concat(this.app.modules.mods[t].ticker,'">').concat(this.app.modules.mods[t].ticker,"</option>"));return e+='\n            </select>\n          </div>\n          <div class="overlay-input">\n            <label for="stake">Mode:</label>\n            <select name="blinds">\n              <option value="static">static blinds</option>\n              <option value="increase">increasing blinds</option>\n            </select>\n          </div>\n          <div class="overlay-input">\n            <label for="observer_mode">Observer Mode:</label>\n            <select name="observer">\n              <option value="enable" selected>enable</option>\n              <option value="disable">disable</option>\n            </select>\n          </div>\n\n      <div id="game-wizard-advanced-return-btn" class="game-wizard-advanced-return-btn button">accept</div>\n\n    '}},{key:"returnFormattedGameOptions",value:function(e){var t={};for(var r in e)"stake"==r&&(t[r]=e[r]),"crypto"==r&&(t[r]=e[r]),"blinds"==r&&(t[r]=e[r]),"big_blind"==r&&(t[r]=e[r]);return t}},{key:"showSplash",value:function(e){var t=document.querySelector(".shim");t.classList.remove("hidden"),t.firstElementChild.innerHTML=e,t.addEventListener("click",(function(e){t.classList.add("hidden"),t.firstElementChild.innerHTML=""}))}},{key:"updateStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{if(document.querySelector(".p1 > .info").style.display=0==t?"block":"none",1==this.lock_interface)return;if(this.game.status=e,1==this.browser_active){var r=document.querySelector(".status");this.game.players.includes(this.app.wallet.returnPublicKey())&&(r.innerHTML=e)}}catch(e){}}},{key:"handleStatsMenu",value:function(){this.overlay.showOverlay(this.app,this,'\n      <div class="game-overlay-menu" id="game-overlay-menu">\n        <div>Game Statistics:</div>\n        <div class="statistics-info">\n        We\'re adding statistics, tracking and other information to help improve player games. If you\'re comfortable with JAVASCRIPT / HTML / CSS and want to help, please reach out.\n        </div>\n      </div>\n    ')}},{key:"increaseBlinds",value:function(){return this.game.state.blinds_idx++,1}},{key:"returnShortGameOptionsArray",value:function(e){var t=i(l(h.prototype),"returnShortGameOptionsArray",this).call(this,e),r=[];for(var n in t)if(""!=t[n]){var a=n,s=e[n],o=1;"big_blind"==n&&(a="blinds"),"blinds"==n&&("increase"==s?(a="mode",s="tournament"):o=0),1==o&&(r[a]=s)}return r}}])&&a(t.prototype,r),n&&a(t,n),h}(d));e.exports=h},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,c,"next",e)}function c(e){a(s,n,i,o,c,"throw",e)}o(void 0)}))}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var a=p(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(y,e);var t,r,n,a,f,g=l(y);function y(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(t=g.call(this,e)).name="Imperium",t.gamename="Red Imperium",t.slug="imperium",t.description="Red Imperium is a multi-player space exploration and conquest simulator. Each player controls a unique faction vying for political control of a galaxy in the waning days of a dying Empire.",t.categories="Arcade Games Entertainment",t.minPlayers=2,t.maxPlayers=6,t.type="Strategy Boardgame",t.status="Beta",t.gameboardWidth=1900,t.rmoves=[],t.totalPlayers=2,t.game.board=null,t.game.sectors=null,t.game.planets=null,t.game.confirms_needed=0,t.game.confirms_received=0,t.game.confirms_players=[],t.game.tmp_confirms_received=0,t.game.tmp_confirms_players=[],t.factions={},t.tech={},t.strategy_cards={},t.action_cards={},t.agenda_cards={},t.secret_objectives={},t.stage_i_objectives={},t.stage_ii_objectives={},t.units={},t.promissary_notes={},t.hud.mode=1,t.tutorial_move_clicked=0,t.tutorial_produce_clicked=0,t.assigns=[],t.game.tracker={},t.activated_systems_player=0,d(t,h(t))}return t=y,(r=[{key:"initializeGameObjects",value:function(){console.log("INITIALIZE GAME OBJECTS"),this.importTech("antimass-deflectors",{name:"Antimass Deflectors",color:"blue",prereqs:[],text:"You may move through asteroid fields and gain -1 when receiving PDS fire",initialize:function(e,t){null==e.game.players_info[t-1].antimass_deflectors&&(e.game.players_info[t-1].antimass_deflectors=0)},gainTechnology:function(e,t,r){"antimass-deflectors"==r&&(e.game.players_info[t-1].antimass_deflectors=1,e.game.players_info[t-1].fly_through_asteroids=1)}}),this.importTech("gravity-drive",{name:"Gravity Drive",color:"blue",prereqs:["blue"],text:"One ship may gain +1 movement when you activate a system",initialize:function(e,t){null==e.game.players_info[t-1].gravity_drive&&(e.game.players_info[t-1].gravity_drive=0)},gainTechnology:function(e,t,r){"gravity-drive"==r&&(e.game.players_info[t-1].gravity_drive=1,e.game.players_info[t-1].ship_move_bonus=1)}}),this.importTech("fleet-logistics",{name:"Fleet Logistics",color:"blue",prereqs:["blue","blue"],text:"You may perform two actions in any turn",onNewRound:function(e,t){e.doesPlayerHaveTech(t,"fleet-logistics")&&(e.game.players_info[t-1].fleet_logistics_turn=0)},onNewTurn:function(e,t){e.doesPlayerHaveTech(t,"fleet-logistics")&&e.game.players_info[t-1].fleet_logistics_turn++},initialize:function(e,t){null==e.game.players_info[t-1].fleet_logistics&&(e.game.players_info[t-1].fleet_logistics=0,e.game.players_info[t-1].fleet_logistics_exhausted=0,e.game.players_info[t-1].fleet_logistics_turn=0)},gainTechnology:function(e,t,r){"fleet-logistics"==r&&(e.game.players_info[t-1].fleet_logistics=1,e.game.players_info[t-1].fleet_logistics_exhausted=0,e.game.players_info[t-1].perform_two_actions=1)},menuOption:function(e,t,r){return"main"==t&&e.doesPlayerHaveTech(r,"fleet-logistics")?{event:"fleetlogistics",html:'<li class="option" id="fleetlogistics">use fleet logistics</li>'}:{}},menuOptionTriggers:function(e,t,r){return"main"==t&&e.doesPlayerHaveTech(r,"fleet-logistics")&&0==e.game.players_info[r-1].fleet_logistics_exhausted&&e.game.players_info[r-1].fleet_logistics_turn<2&&1==e.game.players_info[r-1].fleet_logistics?1:0},menuOptionActivated:function(e,t,r){return"main"==t&&(e.game.players_info[r-1].fleet_logistics_exhausted=1,e.updateLog(e.returnFaction(r)+" exhausts Fleet Logistics"),e.addMove("setvar\tplayers\t"+r+"\tfleet_logistics_exhausted\tint\t1"),e.addMove("play\t"+r),e.addMove("play\t"+r),e.addMove("NOTIFY\t"+r+" activates fleet logistics"),e.endTurn(),e.updateStatus("Activating Fleet Logistics")),0}}),this.importTech("lightwave-deflector",{name:"Light/Wave Deflector",color:"blue",prereqs:["blue","blue","blue"],text:"Your fleet may move through sectors with opponent ships",initialize:function(e,t){null==e.game.players_info[t-1].lightwave_deflector&&(e.game.players_info[t-1].lightwave_deflector=0)},gainTechnology:function(e,t,r){"lightwave-deflector"==r&&(e.game.players_info[t-1].lightwave_deflector=1,e.game.players_info[t-1].move_through_sectors_with_opponent_ships=1)}}),this.importTech("neural-motivator",{name:"Neural Motivator",color:"green",prereqs:[],text:"Gain an extra action card each turn",initialize:function(e,t){null==e.game.players_info[t-1].neural_motivator&&(e.game.players_info[t-1].neural_motivator=0)},gainTechnology:function(e,t,r){"neural-motivator"==r&&(e.game.players_info[t-1].neural_motivator=1,e.game.players_info[t-1].action_cards_bonus_when_issued=1)}}),this.importTech("dacxive-animators",{name:"Dacxive Animators",color:"green",prereqs:["green"],text:"Place an extra infantry on any planet after winning a defensive ground combat tbere",initialize:function(e,t){null==e.game.players_info[t-1].dacxive_animators&&(e.game.players_info[t-1].dacxive_animators=0)},gainTechnology:function(e,t,r){"dacxive-animators"==r&&(e.game.players_info[t-1].dacxive_animators=1)},groundCombatRoundEnd:function(e,t,r,n,a){var i=e.returnNumberOfGroundForcesOnPlanet(t,n,a),s=e.returnNumberOfGroundForcesOnPlanet(r,n,a);e.doesPlayerHaveTech(r,"dacxive-animators")&&i<s&&0==i&&(e.addPlanetaryUnit(r,n,a,"infantry"),e.updateLog(e.returnFaction(r)+" reinforces infantry with Dacxive Animators"))}}),this.importTech("hyper-metabolism",{name:"Hyper Metabolism",color:"green",prereqs:["green","green"],text:"Gain an extra command token each round",initialize:function(e,t){null==e.game.players_info[t-1].hyper_metabolism&&(e.game.players_info[t-1].hyper_metabolism=0)},gainTechnology:function(e,t,r){"hyper-metabolism"==r&&(e.game.players_info[t-1].hyper_metabolism=1,e.game.players_info[t-1].new_token_bonus_when_issued=1)}}),this.importTech("x89-bacterial-weapon",{name:"X-89 Bacterial Weapon",color:"green",prereqs:["green","green","green"],text:"Bombardment destroys all infantry on planet",initialize:function(e,t){null==e.game.players_info[t-1].x89_bacterial_weapon&&(e.game.players_info[t-1].x89_bacterial_weapon=0,e.game.players_info[t-1].x89_bacterial_weapon_exhausted=0)},gainTechnology:function(e,t,r){"x89-bacterial-weapon"==r&&(e.game.players_info[t-1].x89_bacterial_weapon=1,e.game.players_info[t-1].x89_bacterial_weapon_exhausted=0)},onNewRound:function(e,t){return e.game.players_info[t-1].x89_bacterial_weapon_exhausted=0,1},bombardmentTriggers:function(e,t,r,n){return 1==e.game.players_info[r-1].x89_bacterial_weapon&&0==e.game.players_info[r-1].x89_bacterial_weapon_exhausted&&(e.doesSectorContainPlayerUnit(r,n,"warsun")||e.doesSectorContainPlayerUnit(r,n,"dreadnaught"))?1:0},bombardmentEvent:function(e,t,r,n,a){return e.game.player!=r||e.game.player!=t||(e.returnSectorAndPlanets(n).p[a],e.updateStatus('<p>Do you wish to use Bacterial Weapons during Bombardment?</p><ul><li class="option textchoice" id="attack">use bacterial weapons?</li><li class="option textchoice" id="skip">skip</li></ul>'),$(".textchoice").off(),$(".textchoice").on("click",(function(){var r=$(this).attr("id");"attack"==r&&(e.addMove("destroy_infantry_on_planet\t"+t+"\t"+n+"\t"+a+"\t100"),e.addMove("setvar\tplayers\t"+t+"\tx89_bacterial_weapon_exhausted\tint\t1"),e.addMove("NOTIFY\t"+e.returnFaction(t)+" uses X89 Bacterial Weapons"),e.endTurn()),"skip"==r&&(e.addMove("NOTIFY\t"+e.returnFaction(t)+" refrains from using X89 Bacterial Weapons"),e.endTurn())}))),0}}),this.importTech("plasma-scoring",{name:"Plasma Scoring",color:"red",prereqs:[],text:"All PDS and bombardment fire gets +1 bonus shot",initialize:function(e,t){null==e.game.players_info[t-1].plasma_scoring&&(e.game.players_info[t-1].plasma_scoring=0)},gainTechnology:function(e,t,r){"plasma-scoring"==r&&(e.game.players_info[t-1].plasma_scoring=1,e.game.players_info[t-1].pds_combat_roll_bonus_shots++)},pdsSpaceAttackTriggers:function(e,t,r,n){return e.doesPlayerHaveTech(r,"plasma-scoring")&&1==e.doesPlayerHavePDSUnitsWithinRange(t,r,n)&&t!=r&&e.updateLog(e.returnFaction(r)+" gets +1 shot from Plasma Scoring"),0},pdsSpaceDefenseTriggers:function(e,t,r,n){return e.doesPlayerHaveTech(r,"plasma-scoring")&&1==e.doesPlayerHavePDSUnitsWithinRange(t,r,n)&&t!=r&&e.updateLog(e.returnFaction(r)+" gets +1 shot from Plasma Scoring"),0}}),this.importTech("magen-defense-grid",{name:"Magen Defense Grid",color:"red",text:"When ground combat begins on a planet with PDS or Space Dock, destroy one opponent infantry",prereqs:["red"],initialize:function(e,t){null==e.game.players_info[t-1].magen_defense_grid&&(e.game.players_info[t-1].magen_defense_grid=0)},onNewRound:function(e,t){return t==e.game.player&&(e.game.players_info[t-1].magen_defense_grid=1),1},groundCombatTriggers:function(e,t,r,n){if(e.game.state.ground_combat_round>=1)return 0;if(e.doesPlayerHaveTech(t,"magen-defense-grid")){var a=e.returnSectorAndPlanets(r).p[n];if(t==a.owner)for(var i=0;i<a.units[t-1].length;i++)if("spacedock"==a.units[t-1][i].type||"pds"==a.units[t-1][i].type)return e.updateLog("Magan Defense Grid triggers on "+a.name),1}return 0},groundCombatEvent:function(e,t,r,n){for(var a=e.returnSectorAndPlanets(r).p[n],i=a.owner,s=0;s<a.units.length;s++){var o=a.units[s].length;if(s!=i-1&&s<a.units.length)for(var c=0;c<o;c++){var u=s+1,l=t;"infantry"==a.units[s][c].type&&(e.assignHitsToGroundForces(l,u,r,n,1),e.eliminateDestroyedUnitsInSector(u,r),e.updateSectorGraphics(r),e.updateLog(e.returnFaction(u)+" loses 1 infantry to Magan Defense Grid"),c=a.units[s].length+3,s=a.units.length+3)}}return 1}}),this.importTech("duranium-armor",{name:"Duranium Armor",color:"red",prereqs:["red","red"],text:"Each round, you may repair any ship which has not taken damage this round",initialize:function(e,t){null==e.game.players_info[t-1].duranium_armor&&(e.game.players_info[t-1].duranium_armor=0,e.game.players_info[t-1].duranium_armor=0)},onNewRound:function(e,t,r){return t==e.game.player&&(e.game.players_info[t-1].duranium_armor=1,e.game.players_info[t-1].may_repair_damaged_ships_after_space_combat=1),1},spaceCombatRoundOver:function(e,t,r,n){var a=e.returnSectorAndPlanets(n);if(e.doesPlayerHaveTech(t,"duranium-armor"))for(var i=0;i<a.s.units[t-1].length;i++){var s=a.s.units[t-1][i];s.last_round_damaged<e.game.state.space_combat_round&&(s.strength=s.max_strength,e.updateLog(e.returnFaction(t)+" repairs ships with Duranium Armor"))}if(e.doesPlayerHaveTech(r,"duranium-armor"))for(var o=0;o<a.s.units[r-1].length;o++){var c=a.s.units[r-1][o];c.last_round_damaged<e.game.state.space_combat_round&&(c.strength=c.max_strength,e.updateLog(e.returnFaction(r)+" repairs ships with Duranium Armor"))}}}),this.importTech("assault-cannon",{name:"Assault Cannon",color:"red",prereqs:["red","red","red"],text:"If you have three or more capital ships in a sector, destroy one opponent capital ship",initialize:function(e,t){null==e.game.players_info[t-1].assault_cannont&&(e.game.players_info[t-1].assault_cannont=0)},onNewRound:function(e,t,r){return t==e.game.player&&(e.game.players_info[t-1].assault_cannont=1,e.game.players_info[t-1].may_assign_first_round_combat_shot=1),1},spaceCombatTriggers:function(e,t,r){e.game.state.activated_sector=r;for(var n=e.returnSectorAndPlanets(r),a=0,i=0;i<n.s.units.length;i++)if(i+1!=t&&e.doesPlayerHaveTech(i+1,"assault-cannon")){for(var s=0;s<n.s.units[i].length;s++){var o=n.s.units[i][s];"destroyer"==o.type&&a++,"carrier"==o.type&&a++,"cruiser"==o.type&&a++,"dreadnaught"==o.type&&a++,"flagship"==o.type&&a++,"warsun"==o.type&&a++}if(a>=3)for(var c=0;c<n.s.units[t-1].length;c++){var u=n.s.units[t-1][c];if("destroyer"==u.type)return 1;if("carrier"==u.type)return 1;if("cruiser"==u.type)return 1;if("dreadnaught"==u.type)return 1;if("flagship"==u.type)return 1;if("warsun"==u.type)return 1}}return 0},spaceCombatEvent:function(e,t,r){return e.game.players_info[t-1].target_units=["carrier","destroyer","cruiser","dreadnaught","flagship","warsun"],e.game.queue.push("destroy_ships\t"+t+"\t1\t"+e.game.state.activated_sector),e.game.queue.push("ACKNOWLEDGE\t"+e.returnFaction(t)+" must destroy 1 ship from Assault Cannon"),1}}),this.importTech("spacedock-ii",{name:"SpaceDock II",unit:1,prereqs:["yellow","yellow"],text:"May produce 4 more units than its planet resource value",initialize:function(e,t){if(1==e.game.players_info[t-1].spacedock_ii)return 1;e.game.players_info[t-1].spacedock_ii=0},gainTechnology:function(e,t,r){"spacedock-ii"==r&&(e.game.players_info[t-1].spacedock_ii=1)},upgradeUnit:function(e,t,r){return"spacedock"===r.type&&e.doesPlayerHaveTech(t,"spacedock-ii")?e.returnUnit("spacedock-ii",t,0):r}}),this.importTech("pds-ii",{name:"PDS II",unit:1,prereqs:["red","yellow"],text:"Hits on 5, able to fire into adjacent sectors",initialize:function(e,t){if(1==e.game.players_info[t-1].pds_ii)return 1;e.game.players_info[t-1].pds_ii=0},gainTechnology:function(e,t,r){"pds-ii"==r&&(e.game.players_info[t-1].pds_ii=1)},upgradeUnit:function(e,t,r){return"pds"===r.type&&e.doesPlayerHaveTech(t,"pds-ii")?e.returnUnit("pds-ii",t,0):r}}),this.importTech("carrier-ii",{name:"Carrier II",unit:1,prereqs:["blue","blue"],text:"Moves 2 hexes and carries 6 infantry or fighters",initialize:function(e,t){if(1==e.game.players_info[t-1].carrier_ii)return 1;e.game.players_info[t-1].carrier_ii=0},gainTechnology:function(e,t,r){"carrier-ii"==r&&(e.game.players_info[t-1].carrier_ii=1)},upgradeUnit:function(e,t,r){return"carrier"===r.type&&e.doesPlayerHaveTech(t,"carrier-ii")?(console.log("returning upgraded carrier..."),e.returnUnit("carrier-ii",t,0)):r}}),this.importTech("infantry-ii",{name:"Infantry II",unit:1,prereqs:["green","green"],text:"Chance of medical rescue and return to homeworld after unit is destroyed",initialize:function(e,t){if(1==e.game.players_info[t-1].infantry_ii)return 1;e.game.players_info[t-1].infantry_ii=0},gainTechnology:function(e,t,r){"infantry-ii"==r&&(e.game.players_info[t-1].infantry_ii=1)},upgradeUnit:function(e,t,r){return"infantry"==r.type&&e.doesPlayerHaveTech(t,"infantry-ii")?e.returnUnit("infantry-ii",t,0):r}}),this.importTech("destroyer-ii",{name:"Destroyer II",unit:1,prereqs:["red","red"],text:"Hits on 8 and has stronger anti-fighter barrage (6x3)",initialize:function(e,t){if(1==e.game.players_info[t-1].destroyer_ii)return 1;e.game.players_info[t-1].destroyer_ii=0},gainTechnology:function(e,t,r){"destroyer-ii"==r&&(e.game.players_info[t-1].destroyer_ii=1)},upgradeUnit:function(e,t,r){return"destroyer"==r.type&&e.doesPlayerHaveTech(t,"destroyer-ii")?e.returnUnit("destroyer-ii",t,0):r}}),this.importTech("fighter-ii",{name:"Fighter II",unit:1,prereqs:["green","blue"],text:"Hits on 8 and moves 2 hexes. May survive without carriers or support",initialize:function(e,t){if(1==e.game.players_info[t-1].fighter_ii)return 1;e.game.players_info[t-1].fighter_ii=0},gainTechnology:function(e,t,r){"fighter-ii"==r&&(e.game.players_info[t-1].fighter_ii=1)},upgradeUnit:function(e,t,r){return"fighter"==r.type&&e.doesPlayerHaveTech(t,"fighter-ii")?e.returnUnit("fighter-ii",t,0):r}}),this.importTech("cruiser-ii",{name:"Cruiser II",unit:1,prereqs:["green","yellow","red"],text:"Hits on 6, moves 3 sectors and can carry 1 fighter or infantry",initialize:function(e,t){if(1==e.game.players_info[t-1].cruiser_ii)return 1;e.game.players_info[t-1].cruiser_ii=0},gainTechnology:function(e,t,r){"cruiser-ii"==r&&(e.game.players_info[t-1].cruiser_ii=1)},upgradeUnit:function(e,t,r){return"cruiser"==r.type&&e.doesPlayerHaveTech(t,"cruiser-ii")?e.returnUnit("cruiser-ii",t,0):r}}),this.importTech("dreadnaught-ii",{name:"Dreadnaught II",unit:1,prereqs:["blue","blue","yellow"],text:"Hits on 5, moves 2 sectors and can carry 1 unit. 2 hits to destroy",initialize:function(e,t){if(1==e.game.players_info[t-1].dreadnaught_ii)return 1;e.game.players_info[t-1].dreadnaught_ii=0},gainTechnology:function(e,t,r){"dreadnaught-ii"==r&&(e.game.players_info[t-1].dreadnaught_ii=1)},upgradeUnit:function(e,t,r){return"dreadnaught"==r.type&&e.doesPlayerHaveTech(t,"dreadnaught-ii")?e.returnUnit("dreadnaught-ii",t,0):r}}),this.importTech("warsun",{name:"Warsun",unit:1,prereqs:["red","red","red","yellow"],text:"The Death Star: terrifying in combat, but fragile without supporting fleet",initialize:function(e,t){null==e.game.players_info[t-1].may_produce_warsuns&&(e.game.players_info[t-1].may_produce_warsuns=0)},gainTechnology:function(e,t,r){"warsun"==r&&(e.game.players_info[t-1].may_produce_warsuns=1)}}),this.importTech("sarween-tools",{name:"Sarween Tools",color:"yellow",text:"Reduce cost of units produced by -1 when using production",prereqs:[],initialize:function(e,t){null==e.game.players_info[t-1].sarween_tools&&(e.game.players_info[t-1].sarween_tools=0)},gainTechnology:function(e,t,r){"sarween-tools"==r&&(e.game.players_info[t-1].sarween_tools=1,e.game.players_info[t-1].production_bonus=1)}}),this.importTech("graviton-laser-system",{name:"Graviton Laser System",color:"yellow",text:"Exhaust card once per round to target capital ships with PDS fire",prereqs:["yellow"],initialize:function(e,t){null==e.game.players_info[t-1].graviton_laser_system&&(e.game.players_info[t-1].graviton_laser_system=0,e.game.players_info[t-1].graviton_laser_system_exhausted=0,e.game.players_info[t-1].graviton_laser_system_active=0)},onNewRound:function(e,t){1==e.game.players_info[t-1].graviton_laser_system&&(e.game.players_info[t-1].graviton_laser_system_exhausted=0,e.game.players_info[t-1].graviton_laser_system_active=0)},gainTechnology:function(e,t,r){"graviton-laser-system"==r&&(e.game.players_info[t-1].graviton_laser_system=1,e.game.players_info[t-1].graviton_laser_system_exhausted=0)},modifyTargets:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];return"pds"==a&&1==e.game.players_info[r-1].graviton_laser_system_active&&(i.includes("warsun")||i.push("warsun"),i.includes("flagship")||i.push("flagship"),i.includes("dreadnaught")||i.push("dreadnaught"),i.includes("cruiser")||i.push("cruiser"),i.includes("carrier")||i.push("carrier"),i.includes("destroyer")||i.push("destroyer")),i},menuOption:function(e,t,r){return"pds"==t?{event:"graviton",html:'<li class="option" id="graviton">use graviton laser targetting</li>'}:{}},menuOptionTriggers:function(e,t,r){return"pds"==t&&0==e.game.players_info[r-1].graviton_laser_system_exhausted&&1==e.game.players_info[r-1].graviton_laser_system?1:0},menuOptionActivated:function(e,t,r){return"pds"==t&&(e.updateLog(e.returnFaction(r)+" exhausts Graviton Laser System"),e.game.players_info[r-1].graviton_laser_system_exhausted=1,e.game.players_info[r-1].graviton_laser_system_active=1,e.addMove("setvar\tplayers\t"+r+"\tgraviton_laser_system_exhausted\tint\t1"),e.addMove("setvar\tplayers\t"+r+"\tgraviton_laser_system_active\tint\t1"),e.addMove("NOTIFY\t"+e.returnFactionNickname(r)+" activates Graviton Laser System")),0}}),this.importTech("transit-diodes",{name:"Transit Diodes",color:"yellow",prereqs:["yellow","yellow"],text:"Exhaust to reallocate 4 infantry between planets your control",initialize:function(e,t){null==e.game.players_info[t-1].transit_diodes&&(e.game.players_info[t-1].transit_diodes=0,e.game.players_info[t-1].transit_diodes_exhausted=0)},gainTechnology:function(e,t,r){"transit-diodes"==r&&(e.game.players_info[t-1].transit_diodes=1,e.game.players_info[t-1].transit_diodes_exhausted=0)},menuOption:function(e,t,r){return"main"==t?{event:"transitdiodes",html:'<li class="option" id="transitdiodes">use transit diodes</li>'}:{}},menuOptionTriggers:function(e,t,r){return"main"==t&&e.doesPlayerHaveTech(r,"transit-diodes")?1:0},menuOptionActivated:function(e,t,r){return"main"==t&&e.playerRemoveInfantryFromPlanets(r,4,(function(t){e.playerAddInfantryToPlanets(r,t,(function(){e.addMove("setvar\tplayers\t"+r+"\ttransit_diodes_exhausted\tint\t1"),e.addMove("NOTIFY\t"+r+" activates transit diodes"),e.addMove("NOTIFY\t"+e.returnFaction(r)+" has moved infantry"),e.endTurn()}))})),0}}),this.importTech("integrated-economy",{name:"Integrated Economy",color:"yellow",prereqs:["yellow","yellow","yellow"],text:"You may produce on a planet after capturing it, up to cost (resource) limit of planet.",initialize:function(e,t){null==e.game.players_info[t-1].integrated_economy&&(e.game.players_info[t-1].integrated_economy=0,e.game.players_info[t-1].integrated_economy_planet_invaded=0,e.game.players_info[t-1].integrated_economy_planet_invaded_resources=0)},gainTechnology:function(e,t,r){"integrated-economy"==r&&(e.game.players_info[t-1].integrated_economy=1,e.game.players_info[t-1].integrated_economy_planet_invaded=0,e.game.players_info[t-1].integrated_economy_planet_invaded_resources=0)},gainPlanet:function(e,t,r){e.doesPlayerHaveTech(t,"integrated-economy")&&(e.game.players_info[t-1].may_player_produce_without_spacedock=1,e.game.players_info[t-1].may_player_produce_without_spacedock_production_limit=0,console.log("P: "+r),e.game.players_info[t-1].may_player_produce_without_spacedock_cost_limit+=e.game.planets[r].resources)}}),this.importUnit("infantry",{name:"Infantry",type:"infantry",cost:.5,combat:8,strength:1,space:0,ground:1,can_be_stored:1,capacity_required:1,description:"Infantry invade planets, but cannot move between sectors without being carried on carriers or other ships with capacity."}),this.importUnit("fighter",{name:"Fighter",type:"fighter",cost:.5,move:1,combat:9,strength:1,can_be_stored:1,capacity_required:1,description:"Fighters are disposable ships deployed to protect capital ships. They must be transported on carriers or other ships with capacity."}),this.importUnit("pds",{name:"PDS",type:"pds",range:0,cost:5,combat:6,description:"PDS units fire on other ships that invade their sectors. They can also fire on foreign infantry that invade a planet."}),this.importUnit("spacedock",{name:"Spacedock",type:"spacedock",capacity:3,production:2,combat:0,range:0,description:"Spacedocks are used to produce infantry and other ships. They cannot produce ships in space if an opponent fighter is in the sector"}),this.importUnit("carrier",{name:"Carrier",type:"carrier",cost:3,move:1,combat:9,capacity:4,strength:1,description:"The Carrier is a troop and fighter transport ship. Load it with infantry and fighters and use it to conquer other sectors."}),this.importUnit("destroyer",{name:"Destroyer",type:"destroyer",cost:1,move:2,combat:9,strength:1,anti_fighter_barrage:2,anti_fighter_barrage_combat:9,description:"The Destroyer is an inexpensive but mobile ship designed to counter fighter swarms - its ANTI-FIGHTER BARRAGE (2 rolls hitting on 9 or higher) happens at the very start of space-combat"}),this.importUnit("cruiser",{name:"Cruiser",type:"cruiser",cost:2,move:2,combat:7,strength:1,description:"The Cruiser is a more powerful ship with a reasonable chance of landing hits in battle."}),this.importUnit("dreadnaught",{name:"Dreadnaught",type:"dreadnaught",cost:4,move:1,capacity:1,combat:6,strength:2,bombardment_rolls:1,bombardment_combat:5,description:"The Dreadnaught is a powerful combat ship able to SUSTAIN DAMAGE once before being destroyed in combat"}),this.importUnit("flagship",{name:"Flagship",type:"flagship",cost:8,move:1,capacity:1,combat:7,strength:2,description:"The Flagship is the pride of the fleet -- each faction's flagship confers specific abilities. See your factino sheet for more details"}),this.importUnit("warsun",{name:"War Sun",type:"warsun",cost:12,shots:3,move:1,capacity:3,combat:3,strength:2,bombardment_rolls:3,bombardment_combat:3,description:"The War Sun is death packaged in a mass of planet-destroying turbinium. Rumours of their lethality abound, as few have fought one and lived to tell the tale."}),this.importUnit("infantry-ii",{name:"Infantry II",type:"infantry",cost:.5,combat:7,strength:1,space:0,ground:1,can_be_stored:1,capacity_required:1,extension:1,description:"Infantry II are stronger and more resilient but cannot typically be moved between sectors without moving on carriers or other ships with capacity."}),this.importUnit("fighter-ii",{name:"Fighter II",type:"fighter",cost:.5,move:2,combat:8,strength:1,can_be_stored:1,capacity_required:1,extension:1,description:"Fighter II can move without being transported by other ships. Any ships inexcess of your carrying capacity could against your fleet supply."}),this.importUnit("spacedock-ii",{name:"Spacedock II",type:"spacedock",capacity:3,production:4,extension:1,description:"Spacedock II can produce more units whenever they produce."}),this.importUnit("pds-ii",{name:"PDS II",type:"pds",cost:5,combat:5,range:1,extension:1,description:"PDS II has a slightly more accurate targeting mechanism and can fire into adjacent sectors."}),this.importUnit("carrier-ii",{name:"Carrier II",type:"carrier",cost:3,move:2,combat:9,capacity:6,strength:1,extension:1,description:"Carrier II has upgraded ship capacity and is slightly more robust in combat"}),this.importUnit("destroyer-ii",{name:"Destroyer II",type:"destroyer",cost:1,move:2,combat:8,strength:1,extension:1,anti_fighter_barrage:3,anti_fighter_barrage_combat:6,description:"Destroyer II has improved ANTI-FIGHTER-BARRAGE (3x6) and is slightly more effective in general combat"}),this.importUnit("cruiser-ii",{name:"Cruiser II",type:"cruiser",cost:2,move:3,combat:6,strength:1,extension:1,description:"Cruiser II has extended range and the ability to support a small phalanx of ground troops"}),this.importUnit("dreadnaught-ii",{name:"Dreadnaught II",type:"dreadnaught",cost:4,move:2,capacity:1,combat:5,strength:2,extension:1,description:"Dreadnaught II has improved movement, can support a small ground team and is slightly more effective in space combat"}),this.importPromissary("ceasefire",{name:"Ceasefire Promissary",faction:-1,text:"When the owner activates a sector that contains one of your units, you may trigger this to prevent them moving in units.",activateSystemTriggers:function(e,t,r,n){var a=e.game.players_info[t-1].faction+"-ceasefire";return e.doesPlayerHavePromissary(r,a)&&t!=r&&e.doesPlayerHaveUnitsInSector(r,n)?1:0},activateSystemEvent:function(e,t,r,n){if(e.game.player!=r)return e.updateStatus(e.returnFaction(r)+" is deciding whether to use Ceasefire"),0;var a='<div clss="sf-readable">Permit '+e.returnFaction(t)+" to activate sector or use ceasefire? </div><ul>";a+='<li class="option" id="activate">use ceasefire</li>',a+='<li class="option" id="nothing">do nothing</li>',a+="</ul>",e.updateStatus(a),$(".option").off(),$(".option").on("click",(function(){var n=$(this).attr("id");return"nothing"===n?(e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" does not use Ceasefire"),e.endTurn(),0):"activate"===n?(e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" uses Ceasefire to end "+e.returnFaction(t)+" turn"),e.addMove("ceasefire\t"+t+"\t"+r),e.endTurn(),0):0}))},handleGameLoop:function(e,t,r){if("ceasefire"==r[0]){var n=parseInt(r[1]);r[2],e.game.queue.splice(t,1);for(var a=0,i=e.game.queue.length-1;i>=0;i--)0!=e.game.queue[i].indexOf("play")&&0==a?e.game.queue.splice(i,1):0==a&&(a=1,e.game.queue.push("resolve\tplay"),e.game.queue.push("setvar\tstate\t0\tactive_player_moved\tint\t0"),e.game.queue.push("player_end_turn\t"+n));return 1}return 1}}),this.importPromissary("trade",{name:"Trade Promissary",faction:-1,text:"When the owner replenishes commodities, this promissary triggers and you gain their commodities as trade goods",gainCommodities:function(e,t,r){for(var n=e.game.players_info[t-1].faction+"-trade",a=e.returnPromissaryPlayer(n),i=0;i<e.game.players_info.length;i++)if(i+1!=t&&e.doesPlayerHavePromissary(i+1,n))return e.game.players_info[i].goods+=r,e.givePromissary(t,i+1,n),e.updateLog(e.returnFaction(i+1)+" redeems their Trade Promissary from "+e.returnFaction(a)),0;return r}}),this.importPromissary("political",{name:"Political Promissary",faction:-1,text:"The owner of this card cannot participate in resolving this agenda",menuOption:function(e,t,r){var n={};return"pre_agenda"==t&&(n.event="political-promissary",n.html='<li class="option" id="political-promissary">Political Promissary</li>'),n},menuOptionTriggers:function(e,t,r){if("pre_agenda"!=t)return 0;for(var n=e.returnPlayablePromissaryArray(r,"political"),a=0;a<n.length;a++)if(e.game.players_info[e.game.player-1].promissary_notes.includes(n[a]))return 1;return 0},menuOptionActivated:function(e,t,r){if(e.game.player==r){for(var n='<div class="sf-readable">Select a Specific Promissary: </div><ul>',a=e.returnPlayablePromissaryArray(r,"political"),i=0;i<a.length;i++){var s=a[i].split("-"),o=e.returnPromissaryPlayer(a[i]);n+='<li class="option" id="'.concat(i,'">').concat(e.returnFactionName(o)," - ").concat(e.promissary_notes[s[1]].name,"</li>")}n+="</ul>",e.updateStatus(n),$(".option").off(),$(".option").on("click",(function(){var t=$(this).attr("id"),r=a[parseInt(t)],n=e.returnPromissaryPlayer(a[parseInt(t)]);return e.addMove("rider\t"+n+"\tpolitical-promissary\t-1"),e.addMove("give\t"+e.game.player+"\t"+r+"\tpromissary\t"+r),e.endTurn(),0}))}return 0}}),this.importPromissary("throne",{name:"Support for the Throne",faction:-1,text:"Gain 1 VP when you receive this card. Lose this card and 1 VP if the owner of this card is eliminated or you activate a system containing any of their units.",gainPromissary:function(e,t,r){r.indexOf("throne")>-1&&e.returnPromissaryPlayer(r)!=t&&(e.game.players_info[t-1][r]=1,e.game.players_info[t-1].vp++,e.updateLog(e.returnFaction(t)+" gains 1 VP from Support for the Throne"),e.updateLeaderboard())},losePromissary:function(e,t,r){r.indexOf("throne")>-1&&e.returnPromissaryPlayer(r)!=t&&(e.game.players_info[t-1][r]=1,e.game.players_info[t-1].vp--,e.updateLog(e.returnFaction(t)+" loses 1 VP from Support for the Throne"),e.updateLeaderboard())},activateSystemTriggers:function(e,t,r,n){e.returnSectorAndPlanets(n);for(var a=0;a<e.game.players_info.length;a++)if(a+1!=t&&e.doesPlayerHaveUnitsInSector(a+1,n)){var i=e.game.players_info[r-1].id+"-throne";e.doesPlayerHavePromissary(t,i)&&(e.game.players_info[t-1][i]=0,e.updateLog(e.returnFaction(t)+" loses 1 VP from Support for the Throne"),e.game.players_info[t-1].vp--,e.givePromissary(t,a+1,details))}return 0}}),this.importFaction("faction2",{id:"faction2",name:"Universities of Jol Nar",nickname:"Jol Nar",homeworld:"sector50",space_units:["carrier","carrier","dreadnaught","fighter"],ground_units:["infantry","infantry","pds","spacedock"],tech:["pds-ii","sarween-tools","neural-motivator","plasma-scoring","antimass-deflectors","faction2-analytic","faction2-brilliant","faction2-fragile","faction2-flagship"],background:"faction2.jpg",promissary_notes:["trade","political","ceasefire","throne"],intro:'<div style="font-weight:bold">Welcome to Red Imperium!</div><div style="margin-top:10px;margin-bottom:15px;">You are playing as the Universities of Jol Nar, a physically weak faction which excells at science and technology. Survive long enough to amass enough protective technology and you can be a contender for the Imperial Throne. Good luck!</div>'}),this.importTech("faction2-flagship",{name:"XXCha Flagship",faction:"faction2",type:"ability",text:"Extra hit on every roll of 9 or 10 before modifications",modifyUnitHits:function(e,t,r,n,a,i,s,o){return e.doesPlayerHaveTech(n,"faction2-flagship")&&i.owner==n&&"flagship"==i.type&&s>8?(e.updateLog("Jol Nar flagship scores an additional hit through flagshup ability"),++o):o}}),this.importTech("faction2-analytic",{name:"Analytic",faction:"faction2",type:"ability",text:"Ignore 1 tech prerequisite on non-unit upgrades",onNewRound:function(e,t){e.doesPlayerHaveTech(t,"faction2-analytic")&&(e.game.players_info[t-1].permanent_ignore_number_of_tech_prerequisites_on_nonunit_upgrade=1)}}),this.importTech("faction2-fragile",{name:"Fragile",faction:"faction2",type:"ability",text:"-1 on all combat rolls",onNewRound:function(e,t){e.doesPlayerHaveTech(t,"faction2-fragile")&&(e.game.players_info[t-1].permanent_ignore_number_of_tech_prerequisites_on_nonunit_upgrade=1)},modifyCombatRoll:function(e,t,r,n,a,i){return"space"!=a&&"ground"!=a||e.doesPlayerHaveTech(t,"faction2-fragile")&&(e.updateLog("Jol Nar combat rolls -1 due to fragility"),(i-=1)<1&&(i=1)),i}}),this.importTech("faction2-brilliant",{name:"Brilliant",faction:"faction2",type:"ability",text:"Tech primary is played when token spent to execute secondary",initialize:function(e,t){null==e.faction2_brilliant_swapped&&(e.faction2_brilliant_swapped=1,e.brilliant_original_event=e.strategy_cards.technology.strategySecondaryEvent,e.strategy_cards.technology.strategySecondaryEvent=function(e,t,r){e.doesPlayerHaveTech(t,"faction2-brilliant")&&t!=r&&e.game.player==t?(e.game.players_info[t-1].cost_of_technology_secondary=6,e.playerAcknowledgeNotice("The Tech strategy card has been played. You may expend a strategy token to research a technology. You can then purchase a second for 6 resources:",(function(){e.updateStatus('<p>Technology has been played. Do you wish to spend a strategy token to research a technology? </p><ul><li class="option" id="yes">Yes</li><li class="option" id="no">No</li></ul>'),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){if(e.unlockInterface(),"no"===$(this).attr("id"))return e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn(),0;e.playerResearchTechnology((function(r){e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.addMove("purchase\t"+t+"\ttechnology\t"+r),e.game.players_info[e.game.player-1].tech.push(r);var n=6,a="<p>Do you wish to spend 6 resources to research a second technology? </p><ul>";1!=e.game.players_info[t-1].permanent_research_technology_card_must_not_spend_resources&&1!=e.game.players_info[t-1].temporary_research_technology_card_must_not_spend_resources||(a="<p>Do you wish to research a second technology for free?",n=0),e.returnAvailableResources(e.game.player)>=n&&(a+='<li class="option" id="yes">Yes</li>'),a+='<li class="option" id="no">No</li>',a+="</ul>",e.updateStatus(a),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface();var r=$(this).attr("id");return"yes"===r&&(e.game.players_info[t-1].temporary_research_technology_card_must_not_spend_resources=0,e.playerSelectResources(n,(function(r){if(1!=r)return e.endTurn(),0;e.playerResearchTechnology((function(r){e.addMove("purchase\t"+t+"\ttechnology\t"+r),e.endTurn()}))}))),"no"===r?(e.endTurn(),0):void 0}salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}))}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}))):e.brilliant_original_event(e,t,r)})}}),this.importTech("faction2-eres-siphons",{name:"E-Res Siphons",faction:"faction2",type:"special",color:"yellow",prereqs:["yellow","yellow"],text:"Gain 4 trade goods whenever a system is activated containing your ships",initialize:function(e,t){null==e.game.players_info[t-1].eres_siphons&&(e.game.players_info[t-1].eres_siphons=0)},gainTechnology:function(e,t,r){"faction2-eres-siphons"==r&&(e.game.players_info[t-1].eres_siphons=1)},activateSystemTriggers:function(e,t,r,n){return 1==e.game.players_info[r-1].eres_siphons&&t!=r&&1==e.doesSectorContainPlayerShips(r,n)?1:0},postSystemActivation:function(e,t,r,n){e.game.players_info[r-1].goods+=4}}),this.importTech("faction2-deep-space-conduits",{name:"Deep Space Conduits",faction:"faction2",type:"special",color:"blue",prereqs:["blue","blue"],text:"Activate card to make activated system 1 hop away from all other systems with Jol Nar ships",initialize:function(e,t){null==e.game.players_info[t-1].deep_space_conduits&&(e.game.players_info[t-1].deep_space_conduits=0,e.game.players_info[t-1].deep_space_conduits_exhausted=0)},onNewRound:function(e,t){1==e.game.players_info[t-1].deep_space_conduits&&(e.game.players_info[t-1].deep_space_conduits_exhausted=0)},gainTechnology:function(e,t,r){"faction2-deep-space-conduits"==r&&(e.game.players_info[t-1].deep_space_conduits=1,e.game.players_info[t-1].deep_space_conduits_exhausted=0)},activateSystemTriggers:function(e,t,r,n){return r==e.game.player&&t==r&&1==e.game.players_info[t-1].deep_space_conduits&&0==e.game.players_info[t-1].deep_space_conduits_exhausted&&e.doesSectorContainPlayerUnits(t,n)?1:0},activateSystemEvent:function(e,t,r,n){e.updateStatus('Do you wish to activate Deep Space Conduits: <ul><li class="textchoice" id="yes">activate</li><li class="textchoice" id="no">skip</li></ul>'),$(".textchoice").off(),$(".textchoice").on("click",(function(){var a=$(this).attr("id");if("yes"==a){var i=e.returnSectorsWithPlayerUnits(t);e.game.players_info[t-1].deep_space_conduits_exhausted=1,e.addMove("setvar\tplayers\t"+r+"\tdeep_space_conduits_exhausted\tint\t1");for(var s=0;s<i.length;s++)e.addMove("adjacency\ttemporary\t"+i[s]+"\t"+n);e.endTurn()}"no"==a&&(e.updateStatus(),e.endTurn())}))}}),this.importFaction("faction7",{id:"faction7",name:"Embers of Muaat",nickname:"Muaat",homeworld:"sector76",space_units:["warsun","fighter","fighter"],ground_units:["infantry","infantry","infantry","infantry","spacedock"],tech:["plasma-scoring","faction7-star-forge","faction7-gashlai-physiology","faction7-advanced-warsun-i","faction7-flagship"],background:"faction7.jpg",promissary_notes:["trade","political","ceasefire","throne"],intro:'<div style="font-weight:bold">Welcome to Red Imperium!</div><div style="margin-top:10px;margin-bottom:15px;">You are playing as the Embers of Muaat, a faction which forges its instruments of war in the heat of lava-powered furnaces and whose technical research expands to conquering the heat of the very starts themselves. Goodl luck!</div>'}),this.importTech("faction7-star-forge",{name:"Star Forge",faction:"faction7",type:"ability",text:"Spend 1 strategy token to place 2 fighters or a destroy in sector with your warsun",initialize:function(e,t){null==e.game.players_info[t-1].star_forge&&(e.game.players_info[t-1].star_forge=0)},gainTechnology:function(e,t,r){"faction7-star-forge"==r&&(e.game.players_info[t-1].star_forge=1)},menuOption:function(e,t,r){var n={};return"main"===t&&(n.event="starforge",n.html='<li class="option" id="starforge">star forge</li>'),n},menuOptionTriggers:function(e,t,r){return e.doesPlayerHaveTech(r,"faction7-star-forge")&&"main"===t&&e.game.players_info[r-1].strategy_tokens>0?1:0},menuOptionActivated:function(e,t,r){return e.game.player==r?(e.playerSelectSectorWithFilter("Star Forge spends 1 strategy token to drop 2 fighters or 1 destroyer in a sector containing your War Sun: ",(function(t){return e.doesSectorContainPlayerUnit(e.game.player,t,"warsun")}),(function(t){return e.addMove("produce\t"+e.game.player+"\t1\t-1\tdestroyer\t"+t),e.addMove("NOTIFY\tStar Forge adds destroyer to "+t),e.addMove("expend\t"+e.game.player+"\tstrategy\t1"),e.endTurn(),0}),(function(){e.playerTurn()})),0):0}}),this.importTech("faction7-gashlai-physiology",{name:"Gashlai Physiology",faction:"faction7",type:"ability",text:"Player may move through supernovas",initialize:function(e,t){null==e.game.players_info[t-1].gashlai_physiology&&(e.game.players_info[t-1].gashlai_physiology=0)},gainTechnology:function(e,t,r){"faction7-gashlai-physiology"==r&&(e.game.players_info[t-1].gashlai_physiology=1,e.game.players_info[t-1].fly_through_supernovas=1)}}),this.importTech("faction7-magmus-reactor",{name:"Magmus Reactor",faction:"faction7",type:"special",color:"red",prereqs:["red","red"],text:"Player may move into supernovas. Gain 1 trade good producing with Warsun or adjacent to Supernova",initialize:function(e,t){null==e.game.players_info[t-1].magmus_reactor&&(e.game.players_info[t-1].magmus_reactor=0)},gainTechnology:function(e,t,r){"faction7-magmus-reactor"==r&&(e.game.players_info[t-1].magmus_reactor=1,e.game.players_info[t-1].move_into_supernovas=1)},postProduction:function(e,t,r,n){if(1==e.game.players_info[t-1].magmus_reactor){var a=e.returnAdjacentSectors(r),i=0;if(e.doesSectorContainPlayerUnit(t,r,"warsun")&&(i=1),0==i)for(var s=0;s<a.length;s++)4==e.returnSectorAndPlanets(a[s]).s.type&&(i=1);1==i&&(e.updateLog("Muatt gains 1 trade good from Magmus Reactor - producing in a sector with a Warsun or adjacent to a Supernova"),e.game.players_info[t-1].goods+=1,e.updateTokenDisplay(),e.displayFactionDashboard())}}}),this.importTech("faction7-flagship",{name:"Muaat Flagship",faction:"faction7",type:"ability",text:"May spend 1 strategy token to place a cruiser in your flagship system"}),this.importTech("faction7-advanced-warsun-i",{name:"Advanced Warsun I",faction:"faction7",replaces:"warsun",unit:1,type:"special",text:"A more dangerous and mobile warsun",prereqs:[],initialize:function(e,t){null==e.game.players_info[t-1].faction7_advanced_warsun_i&&(e.game.players_info[t-1].faction7_advanced_warsun_i=0)},gainTechnology:function(e,t,r){e.game.players_info[t-1].faction7_advanced_warsun_i=1,e.game.players_info[t-1].may_produce_warsuns=1},upgradeUnit:function(e,t,r){return 1==e.game.players_info[r.owner-1].faction7_advanced_warsun_i&&"warsun"==r.type&&(r.cost=12,r.combat=3,r.move=1,r.capacity=6,r.bombardment_rolls=3,r.bombardment_combat=3),r}}),this.importTech("faction7-advanced-warsun-ii",{name:"Advanced Warsun II",faction:"faction7",replaces:"warsun",unit:1,type:"special",text:"A more dangerous and mobile warsun",prereqs:["red","red","red","yellow"],initialize:function(e,t){null==e.game.players_info[t-1].faction7_advanced_warsun_ii&&(e.game.players_info[t-1].faction7_advanced_warsun_ii=0)},gainTechnology:function(e,t,r){e.game.players_info[t-1].faction7_advanced_warsun_ii=1},upgradeUnit:function(e,t,r){return 1==e.game.players_info[r.owner-1].faction7_advanced_warsun_ii&&"warsun"==r.type&&(r.cost=10,r.combat=3,r.move=3,r.capacity=6,r.bombardment_rolls=3,r.bombardment_combat=3),r}}),this.importFaction("faction4",{id:"faction4",name:"Sardakk N'Orr",nickname:"Sardakk",homeworld:"sector53",space_units:["carrier","carrier","cruiser"],ground_units:["infantry","infantry","infantry","infantry","infantry","spacedock"],tech:["faction4-unrelenting","faction4-exotrireme-i","faction4-flagship"],background:"faction4.jpg",promissary_notes:["trade","political","ceasefire","throne"],intro:'<div style="font-weight:bold">Welcome to Red Imperium!</div><div style="margin-top:10px;margin-bottom:15px;">You are playing as the Sardaak N\'Orr, an overpowered faction known for its raw strength in combat. Your brutal power makes you an intimidating faction on the board. Good luck!</div>'}),this.importTech("faction4-unrelenting",{name:"Unrelenting",faction:"faction4",type:"ability",text:"+1 on all combat rolls",onNewRound:function(e,t){e.doesPlayerHaveTech(t,"faction4-unrelenting")&&(e.game.players_info[t-1].faction4_unrelenting=1)},modifyCombatRoll:function(e,t,r,n,a,i){return"space"!=a&&"ground"!=a||e.doesPlayerHaveTech(t,"faction4-unrelenting")&&(e.updateLog("Sardakk combat rolls +1 due to Sardakk"),(i+=1)>10&&(i=10)),i}}),this.importTech("faction4-flagship",{name:"Sardakk Flagship",faction:"faction4",type:"ability",text:"+1 on all combat rolls for ships in same sector",modifyCombatRoll:function(e,t,r,n,a,i){return"space"==a&&e.doesSectorContainPlayerUnit(t,e.game.state.activated_sector,"flagship")&&(e.updateLog("Sardakk Flagship adds +1 to dice roll"),(i+=1)>10&&(i=10)),i}}),this.importTech("faction4-exotrireme-i",{name:"Exotrireme I",faction:"faction4",replaces:"dreadnaught",unit:1,type:"special",text:"A more powerful dreadnaught",prereqs:[],initialize:function(e,t){null==e.game.players_info[t-1].faction4_advanced_dreadnaught_i&&(e.game.players_info[t-1].faction4_advanced_dreadnaught_i=0)},gainTechnology:function(e,t,r){e.game.players_info[t-1].faction4_advanced_dreadnaught_i=1},upgradeUnit:function(e,t,r){return 1==e.game.players_info[r.owner-1].faction4_advanced_dreadnaught_i&&"dreadnaught"==r.type&&(r.cost=4,r.combat=5,r.move=1,r.capacity=1,r.strength=2,r.bombardment_rolls=2,r.bombardment_combat=4,r.description="The Exotrireme I is a more powerful dreadnaught not vulnerable to Direct Hit cards"),r}}),this.importTech("faction4-exotrireme-ii",{name:"Exotrireme II",faction:"faction4",replaces:"dreadnaught",unit:1,type:"special",prereqs:["blue","blue","yellow"],text:"A much more powerful dreadnaught",initialize:function(e,t){null==e.game.players_info[t-1].faction4_advanced_dreadnaught_ii&&(e.game.players_info[t-1].faction4_advanced_dreadnaught_ii=0)},gainTechnology:function(e,t,r){e.game.players_info[t-1].faction4_advanced_dreadnaught_ii=1,e.game.players_info[t-1].faction4_advanced_dreadnaught_i=0},upgradeUnit:function(e,t,r){return 1==e.game.players_info[r.owner-1].faction4_advanced_dreadnaught_ii&&"dreadnaught"==r.type&&(r.cost=4,r.combat=5,r.move=2,r.capacity=1,r.strength=2,r.bombardment_rolls=2,r.bombardment_combat=4,r.description="The Exotrireme II is a more powerful dreadnaught not vulnerable to Direct Hit cards. It may be destroyed after a round of space combat to destroy up to two opponent ships."),r},spaceCombatRoundEnd:function(e,t,r,n){return e.game.player==t?(e.doesPlayerHaveTech(t,"faction4-exotrireme-ii")&&e.doesSectorContainPlayerUnit(t,n,"dreadnaught")&&e.addMove("faction4_exotrireme_ii_sacrifice\t"+t+"\t"+n),e.doesPlayerHaveTech(r,"faction4-exotrireme-ii")&&e.doesSectorContainPlayerUnit(r,n,"dreadnaught")&&e.addMove("faction4_exotrireme_ii_sacrifice\t"+r+"\t"+n),1):0},handleGameLoop:function(e,t,r){if("faction4_exotrireme_ii_sacrifice"==r[0]){var n=parseInt(r[1]),a=e.returnSectorAndPlanets(r[2]),i=e.returnOpponentInSector(n,r[2]);if(n==e.game.player){if(-1==i)return e.addMove("resolve\tfaction4_exotrireme_ii_sacrifice"),e.addMove("NOTIFY\tNo target ships for Sardakk Exotrireme II faction ability"),e.endTurn(),0;for(var s=0,o=0;o<a.s.units[i-1].length;o++)a.s.units[i-1][o].strength>0&&(s=1);if(0==s)return e.addMove("resolve\tfaction4_exotrireme_ii_sacrifice"),e.addMove("NOTIFY\tNo target ships for Sardakk Exotrireme II action ability"),e.endTurn(),0;html='<div class="sf-readable">Do you wish to sacrifice a Dreadnaught to destroy up to 2 opponent ships?</div><ul>';for(var c=0;c<a.s.units[e.game.player-1].length;c++)"dreadnaught"==a.s.units[e.game.player-1][c].type&&(html+='<li class="option" id="'.concat(c,'">sacrifice ').concat(e.returnShipInformation(a.s.units[e.game.player-1][c]),"</li>"));html+='<li class="option" id="no">do not sacrifice</li>',html+="</ul>",e.updateStatus(html),$(".option").on("click",(function(){var t=$(this).attr("id");return"no"===t?(e.addMove("resolve\tfaction4_exotrireme_ii_sacrifice"),e.endTurn(),0):(e.addMove("resolve\tfaction4_exotrireme_ii_sacrifice"),e.addMove("faction4_exotrireme_ii_picktwo\t"+e.game.player+"\t"+r[2]),e.addMove("NOTIFY\tSardakk sacrifies Exotritreme II to destroy opponent ships"),e.addMove("destroy_unit\t"+e.game.player+"\t"+e.game.player+"\tspace\t"+r[2]+"\t0\t"+t+"\t1"),e.endTurn(),0)}))}return 0}if("faction4_exotrireme_ii_picktwo"==r[0]){var u=parseInt(r[1]);return e.returnSectorAndPlanets(r[2]),u==e.game.player?(e.addMove("resolve\tfaction4_exotrireme_ii_picktwo"),e.playerDestroyOpponentShips(u,2,r[2])):e.updateStatus("Exotrireme II engaging in suicide assault"),0}}}),this.importTech("faction4-particle-weave",{name:"Particle Weave",faction:"faction4",type:"special",prereqs:["red","red"],text:"Infantry vaporize 1 opponent for each hit received",initialize:function(e,t){null==e.game.players_info[t-1].faction4_particle_weave&&(e.game.players_info[t-1].faction4_particle_weave=0,e.game.players_info[t-1].faction4_particle_weave_opponent=0,e.game.players_info[t-1].faction4_particle_weave_my_forces=0)},gainTechnology:function(e,t,r){"faction4-particle-weave"==r&&(e.game.players_info[t-1].faction4_particle_weave=1)},groundCombatTriggers:function(e,t,r,n){if(e.doesPlayerHaveTech(t,"faction4-particle-weave")){var a=e.returnSectorAndPlanets(r).p[n];e.game.players_info[t-1].faction4_particle_weave_my_forces=a.units[t-1].length}return 0},groundCombatRoundEnd:function(e,t,r,n,a){if(e.doesPlayerHaveTech(t,"faction4-particle-weave")){var i=e.returnSectorAndPlanets(n),s=i.p[a];if(s.units[t-1].length<e.game.players_info[t-1].faction4_particle_weave_my_forces){e.updateLog("Sardakk Particle Weave vaporizes 1 opponent infantry...");for(var o=0;o<s.units[r-1].length;o++)"infantry"==s.units[r-1][o].type&&(s.units[r-1].splice(o,1),o=s.units[r-1].length+1)}e.saveSystemAndPlanets(i)}if(e.doesPlayerHaveTech(r,"faction4-particle-weave")){var c=e.returnSectorAndPlanets(n),u=c.p[a];if(u.units[r-1].length<e.game.players_info[r-1].faction4_particle_weave_my_forces){e.updateLog("Sardakk Particle Weave vaporizes 1 opponent infantry...");for(var l=0;l<u.units[t-1].length;l++)"infantry"==u.units[t-1][l].type&&(u.units[t-1].splice(l,1),l=u.units[t-1].length+1)}e.saveSystemAndPlanets(c)}return 1}}),this.importFaction("faction1",{id:"faction1",name:"Federation of Sol",nickname:"Sol",homeworld:"sector52",space_units:["carrier","carrier","destroyer","fighter","fighter","fighter"],ground_units:["infantry","infantry","infantry","infantry","infantry","spacedock"],tech:["neural-motivator","antimass-deflectors","faction1-orbital-drop","faction1-versatile","faction1-flagship"],background:"faction1.jpg",promissary_notes:["trade","political","ceasefire","throne"],intro:'<div style="font-weight:bold">Welcome to Red Imperium!</div><div style="margin-top:10px;margin-bottom:15px;">You are playing as the Sol Federation. a Terran faction under cellular military government. Your reinforced infantry and tactical flexibility will be important in your fight for the Imperial Throne. Good luck!</div>'}),this.importTech("faction1-flagship",{name:"Sol Flagship",faction:"faction1",text:"Flagship gains 1 infantry when player selects a strategy card",type:"ability",playersChooseStrategyCardsBeforeTriggers:function(e,t){return e.doesPlayerHaveTech(t,"faction1-flagship")&&e.returnPlayerFleet(t).flagship>0?1:0},playersChooseStrategyCardsBeforeEvent:function(e,t){for(var r in e.game.sectors)if(e.doesSectorContainPlayerUnit(t,r,"flagship"))for(var n=e.game.sectors[r],a=0;a<n.units[t-1].length;a++)if("flagship"==n.units[t-1][a].type)return e.loadUnitOntoShip(t,r,a,"infantry"),e.updateLog("Faction Ability: infantry added to Sol Flagship..."),1;return 1}}),this.importTech("faction1-orbital-drop",{name:"Orbital Drop",faction:"faction1",type:"ability",text:"Drop two infantry onto any controlled planet",initialize:function(e,t){null==e.game.players_info[t-1].orbital_drop&&(e.game.players_info[t-1].orbital_drop=0)},gainTechnology:function(e,t,r){"faction1-orbital-drop"==r&&(e.game.players_info[t-1].orbital_drop=1)},menuOption:function(e,t,r){var n={};return"main"===t&&(n.event="orbitaldrop",n.html='<li class="option" id="orbitaldrop">orbital drop</li>'),n},menuOptionTriggers:function(e,t,r){return e.doesPlayerHaveTech(r,"faction1-orbital-drop")&&"main"===t&&e.game.players_info[r-1].strategy_tokens>0&&0==e.game.state.active_player_moved?1:0},menuOptionActivated:function(e,t,r){if(e.game.player==r)return e.playerSelectPlanetWithFilter("Use Orbital Drop to reinforce which planet with two infantry: ",(function(t){return e.game.planets[t].owner==e.game.player?1:0}),(function(t){return t=e.game.planets[t],e.addMove("resolve\tplay"),e.addMove("setvar\tstate\t0\tactive_player_moved\tint\t0"),e.addMove("player_end_turn\t"+e.game.player),e.addMove("produce\t"+e.game.player+"\t1\t"+t.idx+"\tinfantry\t"+t.sector),e.addMove("produce\t"+e.game.player+"\t1\t"+t.idx+"\tinfantry\t"+t.sector),e.addMove("expend\t"+e.game.player+"\tstrategy\t1"),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" orbital drops 2 infantry onto "+t.name),e.endTurn(),0}),null),0}}),this.importTech("faction1-versatile",{name:"Versatile",faction:"faction1",type:"ability",text:"Gain an extra command token each round",onNewRound:function(e,t){e.doesPlayerHaveTech(t,"faction1-versatile")&&(e.game.players_info[t-1].new_tokens_per_round=3)}}),this.importTech("faction1-advanced-carrier-ii",{name:"Advanced Carrier II",faction:"faction1",replaces:"carrier-ii",unit:1,type:"special",text:"A more sophisticated carrier",prereqs:["blue","blue"],initialize:function(e,t){null==e.game.players_info[t-1].faction1_advanced_carrier_ii&&(e.game.players_info[t-1].faction1_advanced_carrier_ii=0)},gainTechnology:function(e,t,r){e.game.players_info[t-1].faction1_advanced_carrier_ii=1},upgradeUnit:function(e,t,r){return 1==e.game.players_info[r.owner-1].faction1_advanced_carrier_ii&&"carrier"==r.type&&(r.cost=3,r.combat=9,r.move=2,r.capacity=8),r}}),this.importTech("faction1-advanced-infantry-ii",{name:"Special Ops II",faction:"faction1",replaces:"infantry-ii",unit:1,type:"special",text:"Battle-hardened infantry",prereqs:["green","green"],initialize:function(e,t){e.game.players_info[t-1].faction1_advanced_infantry_ii=0},gainTechnology:function(e,t,r){e.game.players_info[t-1].faction1_advanced_infantry_ii=1},upgradeUnit:function(e,t,r){return 1==e.game.players_info[r.owner-1].faction1_advanced_infantry_ii&&"infantry"==r.type&&(r.cost=.5,r.combat=6),r}}),this.importFaction("faction3",{id:"faction3",name:"XXCha Kingdom",nickname:"XXCha",homeworld:"sector51",space_units:["carrier","cruiser","cruiser","fighter","fighter","fighter"],ground_units:["infantry","infantry","infantry","infantry","pds","spacedock"],tech:["graviton-laser-system","faction3-peace-accords","faction3-quash","faction3-flagship"],background:"faction3.jpg",promissary_notes:["trade","political","ceasefire","throne"],intro:'<div style="font-weight:bold">Welcome to Red Imperium!</div><div style="margin-top:10px;margin-bottom:15px;">You are playing as the XXCha Kingdom, a faction which excels in diplomacy and defensive weaponry. With the proper alliances and political maneuvers your faction you can be a contender for the Imperial Throne. Good luck!</div>'}),this.importTech("faction3-flagship",{name:"XXCha Flagship",faction:"faction3",type:"ability",text:"3 space cannons which target adjacent systems attached to flagship",returnPDSUnitsWithinRange:function(e,t,r,n,a,i){if(!e.doesPlayerHaveTech(t,"faction3-flagship"))return i;if(e.returnPlayerFleet(t).flagship>0)for(var s=e.returnAdjacentSectors(a),o=0;o<s.length;o++)if(e.doesSectorContainPlayerUnit(t,s[o],"flagship")){var c={name:"XXCha Flagship #1"};c.unit=JSON.parse(JSON.stringify(e.returnUnit("pds",t))),c.unit.name="Flagship",c.range=1,c.combat=6,c.owner=t,c.sector=a;var u={name:"XXCha Flagship #2"};u.unit=JSON.parse(JSON.stringify(e.returnUnit("pds",t))),u.unit.name="Flagship",u.range=1,u.combat=6,u.owner=t,u.sector=a;var l={name:"XXCha Flagship #3"};return l.unit=JSON.parse(JSON.stringify(e.returnUnit("pds",t))),l.unit.name="Flagship",l.range=1,l.combat=6,l.owner=t,l.sector=a,i.push(c),i.push(u),i.push(l),i}return i}}),this.importTech("faction3-peace-accords",{name:"Peace Accords",faction:"faction3",type:"ability",text:"Colonize adjacent unprotected planet when diplomacy secondary is played",initialize:function(e,t){null==e.game.players_info[t-1].peace_accords&&(e.game.players_info[t-1].peace_accords=0)},gainTechnology:function(e,t,r){"faction3-peace-accords"==r&&(e.game.players_info[t-1].peace_accords=1)},strategyCardAfterTriggers:function(e,t,r,n){return 1==e.game.players_info[t-1].peace_accords?1:0},strategyCardAfterEvent:function(e,t,r,n){if("diplomacy"==n){for(var a=e.returnPlayerPlanetCards(t),i=[],s=[],o=[],c=0;c<a.length;c++)i.includes(e.game.planets[a[c]].sector)||(i.push(e.game.planets[a[c]].sector),s.push(e.game.planets[a[c]].sector));for(var u=0;u<i.length;u++)for(var l=e.returnAdjacentSectors(i[u]),d=0;d<l.length;d++)s.includes(l[d])||s.push(l[d]);for(var h=0;h<s.length;h++){var p=e.returnSectorAndPlanets(s[h]);if(p.p)for(var f=0;f<p.p.length;f++)p.p[f].owner!=t&&(e.doesPlanetHaveInfantry(p.p[f])||o.push(p.p[f].planet))}return o.length<0?(e.updateLog("XXCha cannot annex any unguarded planets via Peace Accords"),1):1==e.game.players_info[t-1].peace_accords?(e.updateStatus("XXCha selecting planet to annex with Peace Accords"),e.game.player==t&&e.playerSelectPlanetWithFilter("Select a planet to annex via Peace Accords: ",(function(e){return o.includes(e)?1:0}),(function(t){return e.addMove("annex\t"+e.game.player+"\t"+e.game.planets[t].sector+"\t"+e.game.planets[t].idx),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" annexes "+e.game.planets[t].name+" via Peace Accords"),e.endTurn(),0}),(function(){return e.endTurn(),0})),0):1}return 1}}),this.importTech("faction3-quash",{name:"Quash",faction:"faction3",type:"ability",text:"Spend strategy token to quash upcoming agenda",initialize:function(e,t){null==e.game.players_info[t-1].quash&&(e.game.players_info[t-1].quash=0)},gainTechnology:function(e,t,r){"faction3-quash"==r&&(e.game.players_info[t-1].quash=1)},menuOption:function(e,t,r){var n={};return"main"===t&&(n.event="quash",n.html='<li class="option" id="quash">quash agenda</li>'),n},menuOptionTriggers:function(e,t,r){return e.doesPlayerHaveTech(r,"faction3-quash")&&"main"==t&&e.game.players_info[r-1].strategy_tokens>0&&0==e.game.state.active_player_moved?1:0},menuOptionActivated:function(e,t,r){if(e.game.player==r){var n="";for(n+="Select one agenda to quash in the Galactic Senate.<ul>",i=0;i<e.game.state.agendas.length;i++)""!=e.game.state.agendas[i]&&(n+='<li class="option" id="'+e.game.state.agendas[i]+'">'+e.agenda_cards[e.game.state.agendas[i]].name+"</li>");n+="</ul>",e.updateStatus(n),$(".option").off(),$(".option").on("mouseenter",(function(){var t=$(this).attr("id");e.showAgendaCard(t)})),$(".option").on("mouseleave",(function(){var t=$(this).attr("id");e.hideAgendaCard(t)})),$(".option").on("click",(function(){var t=$(this).attr("id");e.updateStatus("Quashing Agenda"),e.addMove("expend\t"+e.game.player+"\tstrategy\t1"),e.addMove("quash\t"+t+"\t1"),e.endTurn()}))}}}),this.importTech("faction3-instinct-training",{name:"Instinct Training",faction:"faction3",prereqs:["green"],color:"green",type:"special",text:"Expend strategy token to cancel opponent action card",initialize:function(e,t){null==e.game.players_info[t-1].instinct_training&&(e.game.players_info[t-1].instinct_training=0)},gainTechnology:function(e,t,r){"faction3-instinct-training"==r&&(e.game.players_info[t-1].instinct_training=1)},playActionCardTriggers:function(e,t,r,n){return 1==e.game.players_info[t-1].instinct_training&&e.game.players_info[t-1].strategy_tokens>0?1:0},playActionCardEvent:function(e,t,r,n){return e.game.player==t&&(e.updateStatus('<div class=\'sf-readable\'>Do you wish to spend a strategy token to cancel opponent action card with Instinct Training?</div><ul><li class="textchoice" id="yes">yes</li><li class="textchoice" id="no">no</li></ul>'),$(".textchoice").off(),$(".textchoice").on("click",(function(){"no"===$(this).attr("id")||(e.addMove("resolve\taction_card"),e.addMove("resolve\taction_card_post"),e.addMove("expend\t"+e.game.player+"strategy1")),e.endTurn()}))),0}}),this.importTech("faction3-field-nullification",{name:"Nullification Fields",faction:"faction3",type:"special",color:"yellow",prereqs:["yellow","yellow"],text:"Terminate the turn of active player who activates a system containing your ship",initialize:function(e,t){null==e.game.players_info[t-1].field_nullification&&(e.game.players_info[t-1].field_nullification=0,e.game.players_info[t-1].field_nullification_exhausted=0)},onNewRound:function(e,t){e.doesPlayerHaveTech(t,"faction3-field-nullification")&&(e.game.players_info[t-1].field_nullification_exhausted=0)},gainTechnology:function(e,t,r){"faction3-field-nullification"==r&&(e.game.players_info[t-1].field_nullification=1,e.game.players_info[t-1].field_nullification_exhausted=0)},activateSystemTriggers:function(e,t,r,n){return e.doesPlayerHaveTech(r,"faction3-field-nullification")&&e.doesSectorContainPlayerShips(r,n)&&t!=r?1:0},activateSystemEvent:function(e,t,r,n){return e.doesPlayerHaveTech(r,"faction3-field-nullification")?1==e.game.players_info[r-1].field_nullification_exhausted?1:e.game.player!=r?(e.updateStatus(e.returnFaction(r)+" is deciding whether to use Nullification Fields"),0):(e.updateStatus('Do you wish to use Field Nullification to terminate this player\'s turn? <ul><li class="textchoice" id="yes">activate nullification field</li><li class="textchoice" id="no">do not activate</li></ul>'),$(".textchoice").off(),$(".textchoice").on("click",(function(){var a=$(this).attr("id");"yes"==a&&(e.addMove("resolve\tplay"),e.addMove("setvar\tstate\t0\tactive_player_moved\tint\t0"),e.addMove("player_end_turn\t"+e.game.player),e.addMove("field_nullification\t"+r+"\t"+t+"\t"+n),e.endTurn()),"no"==a&&e.endTurn()})),0):1},handleGameLoop:function(e,t,r){if("field_nullification"==r[0]){var n=parseInt(r[1]),a=parseInt(r[2]);return r[3],e.game.queue.splice(t,1),e.updateLog(e.returnFactionNickname(n)+" uses Nullification Fields to end "+e.returnFactionNickname(a)+" turn"),1}return 1}}),this.importFaction("faction5",{id:"faction5",name:"Yin Brotherhood",nickname:"Yin",homeworld:"sector74",space_units:["carrier","carrier","destroyer","fighter","fighter","fighter","fighter"],ground_units:["infantry","infantry","infantry","infantry","spacedock"],tech:["sarween-tools","faction5-indoctrination","faction5-devotion","faction5-flagship"],background:"faction5.jpg",promissary_notes:["trade","political","ceasefire","throne"],intro:'<div style="font-weight:bold">Welcome to Red Imperium!</div><div style="margin-top:10px;margin-bottom:15px;">You are playing as the Yin Brotherhood, a monastic order of religious zealots whose eagerness to sacrifice their lives for the collective good makes them terrifying in one-on-one combat. Direct their self-destructive passion and you can win the Imperial Throne. Good luck!</div>'}),this.importTech("faction5-indoctrination",{name:"Indoctrination",faction:"faction5",type:"ability",text:"Spend 2 influence to convert 1 enemy infantry at combat start",groundCombatTriggers:function(e,t,r,n){return e.doesPlayerHaveTech(t,"faction5-indoctrination")&&e.returnSectorAndPlanets(r).p[n].units[t-1].length>0&&e.returnAvailableInfluence(t)>=2&&e.game.state.ground_combat_round<2?1:0},groundCombatEvent:function(e,t,r,n){if(e.game.player==t)return e.returnSectorAndPlanets(r).p[n].units[t-1].length>0?e.playIndoctrination(e,t,r,n,(function(e){e.endTurn()})):e.endTurn(),0}}),this.importTech("faction5-devotion",{name:"Devotion",faction:"faction5",type:"ability",text:"Sacrifice destroyer or cruiser to assign 1 enemy hit at combat end",spaceCombatTriggers:function(e,t,r){return e.doesPlayerHaveTech(t,"faction5-devotion")&&e.doesPlayerHaveShipsInSector(t,r)&&e.game.state.space_combat_round>0?1:0},spaceCombatEvent:function(e,t,r){return e.game.player==t&&e.playDevotion(e,t,r,(function(){e.endTurn()})),0}}),this.importTech("faction5-impulse-core",{name:"Impulse Core",faction:"faction5",prereqs:["yellow","yellow"],color:"yellow",type:"special",text:"Sacrifice destroyer or cruiser at combat start, opponent takes hit on capital ship",spaceCombatTriggers:function(e,t,r){return e.doesPlayerHaveTech(t,"faction5-impulse-core")&&e.doesPlayerHaveShipsInSector(t,r)&&0==e.game.state.space_combat_round?1:0},spaceCombatEvent:function(e,t,r){return e.game.player==t&&e.playDevotion(e,t,r,(function(){e.endTurn()}),1),0}}),this.importTech("faction5-yin-spinner",{name:"Yin Spinner",faction:"faction5",prereqs:["green","green"],color:"green",type:"special",text:"Place additional infantry on planet after producing in sector",initialize:function(e,t){null==e.game.players_info[t-1].faction5_yin_spinner&&(e.game.players_info[t-1].faction5_yin_spinner=0)},gainTechnology:function(e,t,r){"faction5-yin-spinner"==r&&(e.game.players_info[t-1].faction5_yin_spinner=1)},playerEndTurnTriggers:function(e,t){return 1==e.game.players_info[t-1].faction5_yin_spinner&&e.game.player==t&&1==e.game.state.active_player_has_produced?1:0},playerEndTurnEvent:function(e,t){if(e.game.player!=t)return 0;e.playerSelectPlanetWithFilter("Yin Spinner Tech: place additional infantry on which planet?",(function(t){return(t=e.game.planets[t]).owner==e.game.player?1:0}),(function(t){return t=e.game.planets[t],e.addMove("produce\t"+e.game.player+"\t1\t"+t.idx+"\tinfantry\t"+t.sectors),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" spins extra infantry on "+t.name),e.endTurn(),0}),(function(){e.playerTurn()}))}}),this.importTech("faction5-flagship",{name:"Yin Flagship",faction:"faction5",type:"ability",text:"Wipes out all ships in sector when destroyed",unitDestroyed:function(e,t,r){if("flagship"==r.type&&e.doesPlayerHaveTech(r.owner,"faction5-flagship")){var n=e.game.state.activated_sector;""===n&&(n=e.game.state.space_combat_sector);var a=e.returnSectorAndPlanets(n);if(a){for(var i=0;i<a.s.units.length;i++)a.s.units[i]=[];for(var s=0;s<a.p.length;s++)for(var o=0;o<a.p[s].units.length;o++)a.p[s].units[o]=[];e.saveSystemAndPlanets(n),e.updateSectorGraphics(n),e.updateLog("The destruction of the Yin Flagship has caused a terrible calamity...")}}return r}}),this.playIndoctrination=function(e,t,r,n,a){if(this.game.player==t&&this.game.player==t){var i=e.returnSectorAndPlanets(r),s=i.p[n],o=e.returnOpponentOnPlanet(t,s);e.returnNonPlayerInfantryOnPlanet(t,s)<=0||-1==o||i.p[n].units[o-1].length<=0?a(e):(this.updateStatus('<div class=\'sf-readable\'>Do you wish to spend 2 influence to convert 1 enemy infantry to your side?</div><ul><li class="textchoice" id="yes">yes</li><li class="textchoice" id="no">no</li></ul>'),$(".textchoice").off(),$(".textchoice").on("click",(function(){var i=$(this).attr("id");"no"!==i?"yes"===i&&e.playerSelectInfluence(2,(function(i){1==i?(e.addMove("destroy_infantry_on_planet\t"+t+"\t"+r+"\t"+n+"\t1"),e.addMove("add_infantry_to_planet\t"+t+"\t"+s.planet+"\t1"),e.addMove("NOTIFY\tYin Indoctrination converts opposing infantry"),e.endTurn()):a(e)})):a(e)})))}},this.playDevotion=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(e.game.player!=t)return 0;var i=e.returnSectorAndPlanets(r),s=e.returnOpponentInSector(t,r),o=e.doesSectorContainPlayerUnit(t,r,"destroyer"),c=e.doesSectorContainPlayerUnit(t,r,"cruiser");if(1==o||1==c){if(-1!=s){var u="<div class='sf-readable'>Do you wish to sacrifice a Destroyer or Cruiser to assign 1 hit to an enemy ship?</div><ul>";return o&&(u+='<li class="textchoice" id="destroyer">sacrifice destroyer</li>'),c&&(u+='<li class="textchoice" id="cruiser">sacrifice cruiser</li>'),u+='<li class="textchoice" id="no">no</li>',u+="</ul>",e.updateStatus(u),$(".textchoice").off(),$(".textchoice").on("click",(function(){var s=$(this).attr("id");if("no"!==s){if("destroyer"===s){for(var o=0,c=0;c<i.s.units[t-1].length;c++)"destroyer"==i.s.units[t-1][c].type&&(o=c);return e.addMove("destroy_unit\t"+t+"\t"+t+"\tspace\t"+r+"\t0\t"+o+"\t1"),void e.playDevotionAssignHit(e,t,r,n,a)}if("cruiser"===s){for(var u=0,l=0;l<i.s.units[t-1].length;l++)"cruiser"==i.s.units[t-1][l].type&&(u=l);return e.addMove("destroy_unit\t"+t+"\t"+t+"\tspace\t"+r+"\t0\t"+u+"\t1"),void e.playDevotionAssignHit(e,t,r,n,a)}}else n(e)})),0}n(e)}else n(e)},this.playDevotionAssignHit=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=e.returnSectorAndPlanets(r),s=e.returnOpponentInSector(t,r);if(1==a)return this.addMove("assign_hits_capital_ship\t"+s+"\t"+r+"\t1"),void n();for(var o="<div class='sf-readable'>Assign 1 hit to which opponent ship?</div><ul>",c=0;c<i.s.units[s-1].length;c++){var u=i.s.units[s-1][c];if(o+='<li class="textchoice" id="'+c+'">'+u.name,u.capacity>=1){for(var l="",d=0,h=0,p=0;p<u.storage.length;p++)"infantry"==u.storage[p].type&&h++,"fighter"==i.s.units[e.game.player-1][c].storage[p].type&&d++;(h>0||d>0)&&(l+=" ",h>0&&(l+=h+"i"),d>0&&(h>0&&(l+=", "),l+=d+"f"),l+=" "),o+=l}o+="</li>"}o+="</ul>",e.updateStatus(o),$(".textchoice").off(),$(".textchoice").on("click",(function(){$(".textchoice").off();var a=$(this).attr("id");e.addMove("assign_hit\t"+t+"\t"+s+"\t"+t+"\tship\t"+r+"\t"+a+"\t1"),n(e)}))},this.importFaction("faction6",{id:"faction6",name:"Yssaril Tribes",nickname:"Yssaril",homeworld:"sector75",space_units:["carrier","carrier","cruiser","fighter","fighter"],ground_units:["infantry","infantry","infantry","infantry","infantry","pds","spacedock"],tech:["neural-motivator","faction6-stall-tactics","faction6-scheming","faction6-crafty","faction6-flagship"],background:"faction6.jpg",promissary_notes:["trade","political","ceasefire","throne"],intro:'<div style="font-weight:bold">Welcome to Red Imperium!</div><div style="margin-top:10px;margin-bottom:15px;">You are playing as the Yssaril Tribe, a primitive race of swamp-dwelling creatures whose fast instincts and almost unerring ability to change tactics on-the-fly lead many to suspect more is at work than their primitive appearance belies. Good luck!</div>'}),this.importTech("faction6-stall-tactics",{name:"Stall Tactics",faction:"faction6",type:"ability",text:"Discard an Action Card to stall one turn",initialize:function(e,t){null==e.game.players_info[t-1].stall_tactics&&(e.game.players_info[t-1].stall_tactics=0)},gainTechnology:function(e,t,r){"faction6-stall-tactics"==r&&(e.game.players_info[t-1].stall_tactics=1)},menuOption:function(e,t,r){var n={};return"main"===t&&(n.event="stalltactics",n.html='<li class="option" id="stalltactics">discard action card (stall)</li>'),n},menuOptionTriggers:function(e,t,r){return e.doesPlayerHaveTech(r,"faction6-stall-tactics")&&"main"===t&&e.returnPlayerActionCards(r).length>0?1:0},menuOptionActivated:function(e,t,r){return e.game.player==r&&e.playerDiscardActionCards(1,(function(){return e.addMove("resolve\tplay"),e.addMove("setvar\tstate\t0\tactive_player_moved\tint\t0"),e.addMove("player_end_turn\t"+e.game.player),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" stalls by discarding an action card"),e.endTurn(),0})),0}}),this.importTech("faction6-crafty",{name:"Crafty",faction:"faction6",type:"ability",text:"Unlimited action cards. Game effects cannot change.",onNewRound:function(e,t){e.doesPlayerHaveTech(t,"faction6-crafty")&&(e.game.players_info[t-1].action_card_limit=1e3)}}),this.importTech("faction6-scheming",{name:"Scheming",faction:"faction6",type:"ability",text:"Receive bonus card when gaining action cards, then discard one",initialize:function(e,t){null==e.game.players_info[t-1].faction6_scheming&&(e.game.players_info[t-1].faction6_scheming=0)},gainTechnology:function(e,t,r){"faction6-scheming"==r&&(e.game.players_info[t-1].faction6_scheming=1)},gainActionCards:function(e,t,r){return e.doesPlayerHaveTech(t,"faction6-scheming")&&(e.game.queue.push("yssaril_action_card_discard\t"+t+"\t1"),e.game.queue.push("gain\t"+t+"\taction_cards\t1\t0"),e.game.queue.push("DEAL\t2\t"+t+"\t1"),e.game.queue.push("NOTIFY\t"+e.returnFaction(t)+" gains bonus action card and must discard one")),1},handleGameLoop:function(e,t,r){if("yssaril_action_card_discard"==r[0]){var n=parseInt(r[1]),a=parseInt(r[2]);return e.game.queue.splice(t,1),e.game.player===n&&e.playerDiscardActionCards(a,(function(){e.endTurn()})),0}return 1}}),this.importTech("faction6-transparasteel-plating",{name:"Transparasteel Plating",faction:"faction6",prereqs:["green"],color:"green",type:"special",text:"Selectively terminate action cards from players who have passed on your turn",initialize:function(e,t){null==e.game.players_info[t-1].transparasteel_plating&&(e.game.players_info[t-1].transparasteel_plating=0)},gainTechnology:function(e,t,r){"faction6-transparasteel-plating"==r&&(e.game.players_info[t-1].transparasteel_plating=1)},playActionCardTriggers:function(e,t,r,n){return 1==e.game.players_info[t-1].transparasteel_plating&&e.game.player==t&&r!=t&&1==e.game.players_info[r-1].passed?1:0},playActionCardEvent:function(e,t,r,n){return e.game.player==t&&(e.addMove("resolve\taction_card"),e.addMove("resolve\taction_card_post"),e.addMove("expend\t"+e.game.player+"strategy1"),e.endTurn()),0}}),this.importTech("faction6-mageon-implants",{name:"Mageon Implants",faction:"faction6",prereqs:["green","green","green"],color:"green",type:"special",text:"Exhaust to look at other players action cards and take one.",initialize:function(e,t){null==e.game.players_info[t-1].mageon_implants&&(e.game.players_info[t-1].mageon_implants=0,e.game.players_info[t-1].mageon_implants_exhausted=0)},onNewRound:function(e,t){1==e.game.players_info[t-1].mageon_implants&&(e.game.players_info[t-1].mageon_implants=1,e.game.players_info[t-1].mageon_implants_exhausted=0)},gainTechnology:function(e,t,r){"faction6-mageon-implants"==r&&(e.game.players_info[t-1].mageon_implants=1,e.game.players_info[t-1].mageon_implants_exhausted=0)},menuOption:function(e,t,r){return"main"==t?{event:"mageonimplants",html:'<li class="option" id="mageonimplants">exhaust mageon implants</li>'}:{}},menuOptionTriggers:function(e,t,r){return"main"==t&&0==e.game.players_info[r-1].mageon_implants_exhausted&&1==e.game.players_info[r-1].mageon_implants?1:0},menuOptionActivated:function(e,t,r){return e.playerSelectPlayerWithFilter("Select a player from which to take an action card (if possible): ",(function(t){return t!=e.game.player?1:0}),(function(t){return e.addMove("faction6_choose_card_triggered\t"+e.game.player+"\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" pulls a random action card from "+e.returnFaction(t)),e.endTurn(),0}),(function(){e.playerTurn()})),0},handleGameLoop:function(e,t,r){if("faction6_choose_card_triggered"==r[0]){var n=parseInt(r[1]),a=parseInt(r[2]);if(e.game.queue.splice(t,1),e.game.player===a){var i=e.returnPlayerActionCards();e.addMove("faction6_choose_card_return\t"+n+"\t"+a+"\t"+JSON.stringify(i)),e.endTurn()}return 0}if("faction6_choose_card_return"==r[0]){var s=parseInt(r[1]),o=parseInt(r[2]),c=JSON.parse(r[3]);if(e.game.queue.splice(t,1),e.game.player===s){for(var u='<div class="" style="margin-bottom:10px">Select '+e.returnFactionNickname(o)+" action card:</div><ul>",l=0;l<c.length;l++)u+='<li class="option" id="'.concat(l,'">').concat(e.action_cards[c[l]].name,"</li>");u+='<li class="option" id="cancel">skip</li>',e.updateStatus(u),$(".option").off(),$(".option").on("click",(function(){$(".option").off();var t=$(this).attr("id");return"skip"===t?(e.playerTurn(),0):(e.addMove("setvar\tplayers\t"+e.game.player+"\tmageon_implants_exhausted\tint\t1"),e.addMove("pull\t"+e.game.player+"\t"+o+"\taction\t"+c[t]),e.endTurn(),0)}))}return 0}return 1}}),this.importTech("faction6-flagship",{name:"Yssaril Flagship",faction:"faction6",type:"ability",text:"May move through sectors containing other ships",upgradeUnit:function(e,t,r){return e.doesPlayerHaveTech(r.owner,"faction6-flagship")&&"flagship"==r.type&&(r.may_fly_through_sectors_containing_other_ships=1,r.move=3),r}}),this.importStrategyCard("leadership",{name:"Leadership",rank:1,img:"/strategy/1_LEADERSHIP.png",text:"<b>Player</b> gains three tokens.<hr /><b>All players</b> may purchase tokens for three influence each.",strategyPrimaryEvent:function(e,t,r){return e.game.player==r&&t==r&&(e.addMove("resolve\tstrategy"),e.addMove("strategy\tleadership\t"+r+"\t2"),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.playerAllocateNewTokens(e.game.player,3,0,1,1)),0},strategySecondaryEvent:function(e,t,r){return t==e.game.player?(e.game.player,e.playerBuyTokens(2),0):1}}),this.importStrategyCard("diplomacy",{name:"Diplomacy",rank:2,img:"/strategy/2_DIPLOMACY.png",text:"<b>Player</b> activates non-Byzantium sector for others, refreshes two planets.<hr /><b>Others</b> may spend strategy token to refresh two planets.",strategyPrimaryEvent:function(e,t,r){return e.game.player==r&&t==r&&(e.updateStatus("Select sector to quagmire in diplomatic negotiations, and refresh any planets in that system: "),e.playerSelectSector((function(t){t.indexOf("_")>-1&&(t=e.game.board[t].tile),e.addMove("resolve\tstrategy"),e.addMove("strategy\tdiplomacy\t"+r+"\t2"),e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" uses Diplomacy to activate "+e.game.sectors[t].name);for(var n=0;n<e.game.players_info.length;n++)e.addMove("activate\t"+(n+1)+"\t"+t);var a=e.returnSectorAndPlanets(t);if(a.p)for(var i=0;i<a.p.length;i++)if(a.p[i].owner==e.game.player)for(var s in e.game.planets)a.p[i]==e.game.planets[s]&&e.addMove("unexhaust\t"+e.game.player+"\tplanet\t"+s);e.saveSystemAndPlanets(a),e.endTurn()}))),0},strategySecondaryEvent:function(e,t,r){if(e.game.player!=r&&e.game.player==t){var n="<p>Do you wish to spend 1 strategy token to unexhaust two planet cards? </p><ul>";1==e.game.state.round&&(n='<p class="doublespace">'.concat(e.returnFaction(r)," has just played the Diplomacy strategy card. This lets you to spend 1 strategy token to unexhaust two planet cards. You have ").concat(e.game.players_info[t-1].strategy_tokens," strategy tokens. Use this ability? </p><ul>")),e.game.players_info[t-1].strategy_tokens>0&&(n+='<li class="option" id="yes">Yes</li>'),n+='<li class="option" id="no">No</li>',n+="</ul>",e.updateStatus(n),$(".option").off(),$(".option").on("click",(function(){var t=$(this).attr("id");if("yes"==t){for(var r=e.returnPlayerExhaustedPlanetCards(e.game.player),n=0,a=0,i="<p>Select planets to unexhaust: </p><ul>",s=".cardchoice",o=0;o<r.length;o++)a++,i+='<li class="cardchoice" id="cardchoice_'+r[o]+'">'+e.returnPlanetCard(r[o])+"</li>";0==a&&(i+='<li class="textchoice" id="cancel">cancel (no options)</li>',s=".textchoice"),i+="</ul>",a>=2&&(a=2),e.updateStatus(i),e.lockInterface(),$(s).off(),$(s).on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface();var t=$(this).attr("id");if("cancel"===t)return e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),void e.endTurn();for(var i=t.split("_"),s="#"+t,o=i[1],c=0,u=0;u<r.length;u++)r[u]===o&&(c=u);n++,e.addMove("unexhaust\t"+e.game.player+"\tplanet\t"+r[c]),$(s).off(),$(s).css("opacity","0.2"),n>=a&&(e.prependMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn())}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}if("no"==t)return e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn(),0}))}}}),this.importStrategyCard("politics",{name:"Politics",rank:3,img:"/strategy/3_POLITICS.png",text:"<b>Player</b> picks new Speaker and gains 2 action cards.<hr /><b>Others</b> may spend strategy token for two action cards.",strategyPrimaryEvent:function(e,t,r){if(e.game.player===r&&t==r){e.addMove("resolve\tstrategy"),e.addMove("gain\t"+e.game.player+"\taction_cards\t2"),e.addMove("DEAL\t2\t"+e.game.player+"\t2"),e.addMove("NOTIFY\t"+e.returnFaction(t)+" gains action cards"),e.addMove("strategy\tpolitics\t"+r+"\t2"),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length);for(var n=e.returnFactions(),a="Make which player the speaker? <ul>",i=0;i<e.game.players_info.length;i++)a+='<li class="option" id="'+i+'">'+n[e.game.players_info[i].faction].name+"</li>";a+="</ul>",e.updateStatus(a),e.game.player,$(".option").off(),$(".option").on("click",(function(){var t=parseInt($(this).attr("id"))+1;return e.returnAgendaCards(),e.playerAcknowledgeNotice("You will receive two action cards once other players have decided whether to purchase action cards.",(function(){e.addMove("change_speaker\t"+t),e.endTurn()})),0}))}},strategySecondaryEvent:function(e,t,r){e.game.player==t&&(e.game.player!=r&&e.game.players_info[t-1].strategy_tokens>0?e.playerBuyActionCards(2):(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn()))},strategyTertiaryEvent:function(e,t,r){var n=[],a=e.returnAgendaCards(),s=0;if(e.game.player==t){e.game.state.votes_available=[],e.game.state.votes_cast=[],e.game.state.how_voted_on_agenda=[],e.game.state.voted_on_agenda=[],e.game.state.voting_on_agenda=0;for(var o=0;o<e.game.players_info.length;o++){e.game.state.votes_available.push(e.returnAvailableVotes(o+1)),e.game.state.votes_cast.push(0),e.game.state.how_voted_on_agenda[o]="abstain",e.game.state.voted_on_agenda[o]=[],console.log("AP2: "+e.game.state.agendas_per_round);for(var c=0;c<e.game.state.agendas_per_round+2;c++)e.game.state.voted_on_agenda[o].push(0)}}if(console.log("----------------------"),console.log("---"+JSON.stringify(e.game.state.voted_on_agenda)+"---"),console.log("----------------------"),e.game.player===e.game.state.speaker){var u="";for(1==e.game.state.agendas_per_round&&(u+="Select one agenda to advance for consideration in the Galactic Senate.<ul>"),2==e.game.state.agendas_per_round&&(u+="Select two agendas to advance for consideration in the Galactic Senate.<ul>"),3==e.game.state.agendas_per_round&&(u+="Select three agendas to advance for consideration in the Galactic Senate.<ul>"),i=0;i<3&&i<e.game.state.agendas.length;i++)u+='<li class="option" id="'+e.game.state.agendas[i]+'">'+a[e.game.state.agendas[i]].name+"</li>";u+="</ul>",e.updateStatus(u),$(".option").off(),$(".option").on("mouseenter",(function(){var t=$(this).attr("id");e.showAgendaCard(t)})),$(".option").on("mouseleave",(function(){var t=$(this).attr("id");e.hideAgendaCard(t)})),$(".option").on("click",(function(){if(s++,n.push($(this).attr("id")),$(this).hide(),e.hideAgendaCard(n[n.length-1]),s>=e.game.state.agendas_per_round){for(i=1;i>=0;i--)"simultaneous"===e.game.state.agenda_voting_order?(e.addMove("resolve_agenda\t"+n[i]),e.addMove("post_agenda_stage_post\t"+n[i]),e.addMove("post_agenda_stage\t"+n[i]),e.addMove("simultaneous_agenda\t"+n[i]+"\t"+i),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.addMove("pre_agenda_stage_post\t"+n[i]),e.addMove("pre_agenda_stage\t"+n[i]),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length)):(e.addMove("resolve_agenda\t"+n[i]),e.addMove("post_agenda_stage_post\t"+n[i]),e.addMove("post_agenda_stage\t"+n[i]),e.addMove("agenda\t"+n[i]+"\t"+i),e.addMove("pre_agenda_stage_post\t"+n[i]),e.addMove("pre_agenda_stage\t"+n[i]),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length));e.endTurn()}}))}else e.updateStatus("The Speaker is selecting two Agendas for consideration by the Senate")}}),this.importStrategyCard("construction",{name:"Construction",rank:4,img:"/strategy/4_CONSTRUCTION.png",text:"<b>Player</b> builds Space Dock and PDS or two PDS units.<hr /><b>Others</b> may spend strategy token and activate sector to build PDS or Space Dock.",strategyPrimaryEvent:function(e,t,r){e.game.player==r&&t==r&&(e.addMove("resolve\tstrategy"),e.addMove("strategy\tconstruction\t"+r+"\t2"),e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.playerAcknowledgeNotice("You have played Construction. First you will have the option of producing a PDS or Space Dock. Then you will have the option of producing an additional PDS if you so choose.",(function(){e.playerBuildInfrastructure((function(t){e.playerBuildInfrastructure((function(t){e.updateSectorGraphics(t),e.endTurn()}),2)}),1)})))},strategySecondaryEvent:function(e,t,r){if(e.game.player!=r&&e.game.player==t){var n="<p>Construction has been played. Do you wish to spend 1 strategy token to build a PDS or Space Dock? This will activate the sector (if unactivated): </p><ul>";1==e.game.state.round&&(n='<p class="doublespace">'.concat(e.returnFaction(r)," has played the Construction strategy card. You may spend 1 strategy token to build a PDS or Space Dock on a planet you control (this will activate the sector). You have ").concat(e.game.players_info[t-1].strategy_tokens," strategy tokens. Use this ability? </p><ul>")),e.game.players_info[t-1].strategy_tokens>0&&(n+='<li class="option" id="yes">Yes</li>'),n+='<li class="option" id="no">No</li>',n+="</ul>",e.updateStatus(n),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface();var t=$(this).attr("id");return"yes"==t&&(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.addMove("expend\t"+e.game.player+"\tstrategy\t1"),e.playerBuildInfrastructure((function(t){e.addMove("activate\t"+e.game.player+"\t"+t),e.updateSectorGraphics(t),e.endTurn()}),1)),"no"==t?(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn(),0):void 0}salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}}}),this.importStrategyCard("trade",{name:"Trade",rank:5,img:"/strategy/5_TRADE.png",text:"<b>Player</b> gains 3 trade goods, may refresh any player's commodities.<hr /><b>Others</b> may spend strategy token to refresh their commodities.",strategyPrimaryEvent:function(e,t,r){if(e.game.player==r&&t==r){e.addMove("resolve\tstrategy"),e.addMove("strategy\ttrade\t"+r+"\t2"),e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.addMove("purchase\t"+e.game.player+"\tgoods\t3"),e.addMove("purchase\t"+e.game.player+"\tcommodities\t"+e.game.players_info[e.game.player-1].commodity_limit);for(var n=e.returnFactions(),a="<p>You will receive 3 trade goods and "+e.game.players_info[e.game.player-1].commodity_limit+" commodities. You may choose to replenish the commodities of any other players: </p><ul>",i=0;i<e.game.players_info.length;i++)i!=e.game.player-1&&(a+='<li class="option" id="'+i+'">'+n[e.game.players_info[i].faction].name+"</li>");a+='<li class="option" id="finish">done</li>',e.updateStatus(a),$(".option").off(),$(".option").on("click",(function(){var t=$(this).attr("id");"finish"!=t?(e.addMove("purchase\t"+(parseInt(t)+1)+"\tcommodities\t"+e.game.players_info[t].commodity_limit),$(this).hide()):e.endTurn()}))}},strategySecondaryEvent:function(e,t,r){if(e.game.player==t&&e.game.player!=r){if(e.game.players_info[t-1].commodities==e.game.players_info[t-1].commodity_limit)return e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.updateLog(e.returnFaction(t)+" skips the Trade secondary as they have already refreshed commodities"),e.endTurn(),1;var n="<p>Trade has been played. Do you wish to spend 1 strategy token to refresh your commodities? </p><ul>";if(1==e.game.state.round&&(n='<p class="doublespace">'.concat(e.returnFaction(r)," has played the Trade strategy card. You may spend 1 strategy token to refresh your faction commodities, which may be exchanged with your neighbours on the board for trade goods. You have ").concat(e.game.players_info[t-1].strategy_tokens," strategy tokens. Use this ability? </p><ul>")),e.game.players_info[t-1].strategy_tokens>0&&(n+='<li class="option" id="yes">Yes</li>'),n+='<li class="option" id="no">No</li>',n+="</ul>",e.game.players_info[e.game.player-1].commodities==e.game.players_info[e.game.player-1].commodity_limit)return e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" already has commodities and skips trade secondary"),e.endTurn(),0;e.updateStatus(n),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface(),$(".option").off();var t=$(this).attr("id");return"yes"==t&&(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.addMove("purchase\t"+e.game.player+"\tcommodities\t"+e.game.players_info[e.game.player-1].commodity_limit),e.addMove("expend\t"+e.game.player+"\tstrategy\t1"),e.endTurn()),"no"==t?(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn(),0):void 0}salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}}}),this.importStrategyCard("warfare",{name:"Warfare",rank:6,img:"/strategy/6_WARFARE.png",text:"<b>Player</b> may de-activate any sector and gain 1 token.<hr /><b>Others</b> may spend strategy token to produce in home system",strategyPrimaryEvent:function(e,t,r){e.game.player==r&&t==r&&(e.updateStatus("Select sector to de-activate."),e.playerSelectSector((function(t){var n=e.returnSectorAndPlanets(t);e.addMove("resolve\tstrategy"),e.addMove("strategy\twarfare\t"+r+"\t2"),e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.addMove("deactivate\t"+r+"\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(r)+" deactivates "+n.s.name),e.playerAllocateNewTokens(e.game.player,1,0,3,0)})))},strategySecondaryEvent:function(e,t,r){if(e.game.player==t&&e.game.player!=r){var n="<p>Do you wish to spend 1 strategy token to produce in your home sector? </p><ul>";1==e.game.state.round&&(n='<p class="doublespace">'.concat(e.returnFaction(r)," has played the Warfare strategy card. You may spend 1 strategy token to produce in your Homeworld without activating the sector. You have ").concat(e.game.players_info[t-1].strategy_tokens," strategy tokens. Use this ability? </p><ul>")),e.game.players_info[t-1].strategy_tokens>0&&(n+='<li class="option" id="yes">Yes</li>'),n+='<li class="option" id="no">No</li>',n+="</ul>",e.updateStatus(n),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface();var t=$(this).attr("id");return"yes"==t&&e.playerProduceUnits(e.game.players_info[e.game.player-1].homeworld,0,0,2,1),"no"==t?(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn(),0):void 0}salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}}}),this.importStrategyCard("technology",{name:"Technology",rank:7,img:"/strategy/7_TECHNOLOGY.png",text:"<b>Player</b> researches a tech and may spend 6 resources for a second.<hr /><b>Others</b> may research for strategy token and 4 resources",strategyPrimaryEvent:function(e,t,r){e.game.player==r&&t==r&&e.playerAcknowledgeNotice("You will first have the option of researching a free-technology, and then invited to purchase an additional tech for 6 resources:",(function(){e.playerResearchTechnology((function(n){e.game.players_info[e.game.player-1].tech.push(n),e.addMove("resolve\tstrategy"),e.addMove("strategy\ttechnology\t"+r+"\t2"),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.addMove("purchase\t"+t+"\ttechnology\t"+n),e.endTurn()}))}))},strategySecondaryEvent:function(e,t,r){var n="",a=0;return console.log("STRAT SEC: "+t+" -- "+r),e.game.player==t&&e.game.player!=r?(a=e.game.players_info[e.game.player-1].cost_of_technology_secondary,n="<p>Technology has been played. Do you wish to spend 4 resources and a strategy token to research a technology? </p><ul>",1==e.game.state.round&&(n='<p class="doublespace">'.concat(e.returnFaction(r)," has played the Technology strategy card. You may spend 4 resources and a strategy token to gain a permanent new unit or ability. You have ").concat(e.game.players_info[t-1].strategy_tokens," strategy tokens. Use this ability?</p><ul>")),1!=e.game.players_info[t-1].permanent_research_technology_card_must_not_spend_resources&&1!=e.game.players_info[t-1].temporary_research_technology_card_must_not_spend_resources||(n="<p>Technology has been played. Do you wish to spend a strategy token to research a technology? </p><ul>",a=0),e.returnAvailableResources(e.game.player)>=a&&e.game.players_info[t-1].strategy_tokens>0&&(n+='<li class="option" id="yes">Yes</li>'),n+='<li class="option" id="no">No</li>',n+="</ul>",e.updateStatus(n),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface();var r=$(this).attr("id");return"yes"===r&&(e.game.players_info[t-1].temporary_research_technology_card_must_not_spend_resources=0,e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.playerSelectResources(a,(function(r){1==r?e.playerResearchTechnology((function(r){e.addMove("purchase\t"+t+"\ttechnology\t"+r),e.addMove("expend\t"+e.game.player+"\tstrategy\t1"),e.endTurn()})):e.endTurn()}))),"no"===r?(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn(),0):void 0}salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")})),0):(e.game.player!=r||(n="<p>Do you wish to spend "+(a=e.game.players_info[e.game.player-1].cost_of_technology_primary)+" resources to research an additional technology? </p><ul>",1!=e.game.players_info[e.game.player-1].permanent_research_technology_card_must_not_spend_resources&&1!=e.game.players_info[e.game.player-1].temporary_research_technology_card_must_not_spend_resources||(n="<p>Do you wish to research an additional technology? </p><ul>",a=0),e.returnAvailableResources(e.game.player)>=a&&(n+='<li class="option" id="yes">Yes</li>'),n+='<li class="option" id="no">No</li>',n+="</ul>",e.updateStatus(n),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface();var t=$(this).attr("id");return"yes"==t&&(e.game.players_info[e.game.player-1].temporary_research_technology_card_must_not_spend_resources,e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.playerSelectResources(a,(function(t){1==t&&e.playerResearchTechnology((function(t){e.addMove("purchase\t"+e.game.player+"\ttechnology\t"+t),e.endTurn()}))}))),"no"==t?(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn(),0):void 0}salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))),0)}}),this.importAgendaCard("minister-of-technology",{name:"Minister of Technology",type:"Law",text:"Elect a player. They do not need to spend resources to research technology when the technology card is played",initialize:function(e){if(!e.game.state.ministery_of_technology){e.game.state.minster_of_technology=null,e.game.state.minster_of_technology_player=null;for(var t=0;t<e.game.players_info.length;t++)e.game.players_info[t].temporary_research_technology_card_must_not_spend_resources||(e.game.players_info[t].temporary_research_technology_card_must_not_spend_resources=0,e.game.players_info[t].permanent_research_technology_card_must_not_spend_resources=0)}},returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.players_info.length;r++)t.push(e.returnFaction(r+1));return t},onPass:function(e,t){for(var r=0,n=0;n<e.game.players_info.length;n++)e.returnFaction(n+1)==t&&(r=n);e.game.state.minister_of_technology=1,e.game.state.minister_of_technology_player=r+1,e.game.players_info[r].permanent_research_technology_card_must_not_spend_resources=1,e.game.state.laws.push({agenda:"minister-of-technology",option:t})}}),this.importActionCard("unexpected-breakthrough",{name:"Unexpected Breakthrough",type:"action",text:"Do not spend resources to research technology the next time the Technology card is played",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_research_technology_card_must_not_spend_resources=1,1}}),this.importStrategyCard("imperial",{name:"Imperial",rank:8,img:"/strategy/8_IMPERIAL.png",text:"<b>Player</b> may score a public objective, gains 1 VP for controlling New Byzantium or secret objective if not.<hr /><b>Others</b> may spend strategy token to purchase secret objective",strategyPrimaryEvent:function(e,t,r){return e.game.player==r&&t==r&&(e.game.planets["new-byzantium"].owner==r?e.playerAcknowledgeNotice("You are granted an additional Victory Point for controlling New Byzantium during Imperial Scoring",(function(){e.playerAcknowledgeNotice("You will first be asked to score your public objective. The game will then allow other players to purchase secret objectives.",(function(){e.addMove("resolve\tstrategy"),e.addMove("strategy\timperial\t"+r+"\t2"),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.playerScoreVictoryPoints(e,(function(e,r,n){r>0&&(null!=e.stage_i_objectives[n]||null!=e.stage_ii_objectives[n])?null!=e.stage_i_objectives[n]?e.stage_i_objectives[n].scoreObjective(e,t,(function(){e.addMove("score\t"+e.game.player+"\t1\tnew-byzantium"),e.addMove("score\t"+t+"\t"+r+"\t"+n),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(n),e.updateStatus("scoring completed"),e.endTurn()})):e.stage_ii_objectives[n].scoreObjective(e,t,(function(){e.addMove("score\t"+e.game.player+"\t1\tnew-byzantium"),e.addMove("score\t"+t+"\t"+r+"\t"+n),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(n),e.updateStatus("scoring completed"),e.endTurn()})):(e.addMove("score\t"+e.game.player+"\t1\tnew-byzantium"),e.updateStatus("scoring completed"),e.endTurn())}),1)}))})):e.playerAcknowledgeNotice("As you do not control New Byzantium during Imperial Scoring, you will be issued an additional Secret Objective",(function(){e.playerAcknowledgeNotice("You will next be asked to score a public objective. The game will then allow other players to purchase secret objectives.",(function(){e.addMove("resolve\tstrategy"),e.addMove("strategy\timperial\t"+r+"\t2"),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.playerScoreVictoryPoints(e,(function(e,n,a){n>0&&(null!=e.stage_i_objectives[a]||null!=e.stage_ii_objectives[a])?null!=e.stage_i_objectives[a]?e.stage_i_objectives[a].scoreObjective(e,t,(function(){e.addMove("score\t"+t+"\t"+n+"\t"+a),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(a),e.updateStatus("scoring completed"),e.addMove("gain\t"+r+"\tsecret_objective\t1"),e.addMove("DEAL\t6\t"+r+"\t1"),e.endTurn()})):e.stage_ii_objectives[a].scoreObjective(e,t,(function(){e.addMove("score\t"+t+"\t"+n+"\t"+a),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(a),e.updateStatus("scoring completed"),e.addMove("gain\t"+r+"\tsecret_objective\t1"),e.addMove("DEAL\t6\t"+r+"\t1"),e.endTurn()})):(e.addMove("gain\t"+r+"\tsecret_objective\t1"),e.addMove("DEAL\t6\t"+r+"\t1"),e.endTurn())}),1)}))}))),0},strategySecondaryEvent:function(e,t,r){return e.game.state.playing_strategy_card_secondary=1,e.game.player==t&&(e.game.player!=r&&e.game.players_info[t-1].strategy_tokens>0?e.playerBuySecretObjective(2):(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn())),0},strategyTertiaryEvent:function(e,t,r){if(e.game.state.playing_strategy_card_secondary=1,e.game.state.round_scoring=1,t==e.game.player){var n="",a="";return e.game.state.round_scoring=2,e.playerScoreSecretObjective(e,(function(r,i,s){a=i,n=s,e.playerScoreVictoryPoints(e,(function(r,i,s){if(e.updateStatus("scoring completed"),e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),a>0)return null!=e.secret_objectives[n]&&e.secret_objectives[n].scoreObjective(e,t,(function(){e.addMove("score\t"+t+"\t"+a+"\t"+n),i>0?(null!=e.stage_i_objectives[s]&&e.stage_i_objectives[s].scoreObjective(e,t,(function(){e.addMove("score\t"+t+"\t"+i+"\t"+s),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(n),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(s),e.endTurn()})),null!=e.stage_ii_objectives[s]&&e.stage_ii_objectives[s].scoreObjective(e,t,(function(){e.addMove("score\t"+t+"\t"+i+"\t"+s),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(n),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(s),e.endTurn()}))):(e.game.players_info[e.game.player-1].objectives_scored_this_round.push(n),e.endTurn())})),0;i>0?(null!=e.stage_i_objectives[s]&&e.stage_i_objectives[s].scoreObjective(e,t,(function(){e.addMove("score\t"+t+"\t"+i+"\t"+s),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(s),e.endTurn()})),null!=e.stage_ii_objectives[s]&&e.stage_ii_objectives[s].scoreObjective(e,t,(function(){e.addMove("score\t"+t+"\t"+i+"\t"+s),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(s),e.endTurn()}))):e.endTurn()}),2)})),0}}}),this.importSecretObjective("military-catastrophe",{name:"Military Catastrophe",text:"Destroy the flagship of another player",type:"secret",phase:"action",onNewTurn:function(e,t,r){return e.game.state.secret_objective_military_catastrophe=0,0},spaceCombatRoundEnd:function(e,t,r,n){return e.game.players_info[e.game.player-1].units_i_destroyed_this_combat_round.includes("flagship")&&(e.game.state.secret_objective_military_catastrophe=1),0},groundCombatRoundEnd:function(e,t,r,n,a){return 0},canPlayerScoreVictoryPoints:function(e,t){return 1==e.game.state.secret_objective_military_catastrophe?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("flagship-dominance",{name:"Blood Christening",text:"Achieve victory in a space combat in a system containing your flagship. Your flagship must survive this combat",type:"secret",phase:"action",onNewTurn:function(e,t,r){return e.game.state.secret_objective_flagship_dominance=0,0},spaceCombatRoundEnd:function(e,t,r,n){return e.doesSectorContainPlayerUnit(e.game.player,n,"flagship")&&(e.returnSectorAndPlanets(n),e.doesPlayerHaveShipsInSector(r,n)||t==e.game.player&&e.doesPlayerHaveShipsInSector(t,n)&&(e.game.state.secret_objective_flagship_dominance=1),e.doesPlayerHaveShipsInSector(t,n)||r==e.game.player&&e.doesPlayerHaveShipsInSector(r,n)&&(e.game.state.secret_objective_flagship_dominance=1)),0},canPlayerScoreVictoryPoints:function(e,t){return 1==e.game.state.secret_objective_flagship_dominance?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("nuke-them-from-orbit",{name:"Nuke them from Orbit",text:"Destroy the last of a player's ground forces using bombardment",type:"secret",phase:"action",onNewTurn:function(e,t,r){return e.game.state.secret_objective_nuke_from_orbit=0,e.game.state.secret_objective_nuke_from_orbit_how_many_got_nuked=0,0},bombardmentTriggers:function(e,t,r,n,a){e.game.state.secret_objective_nuke_from_orbit_how_many_got_nuked=0;for(var i=e.returnSectorAndPlanets(n).p[a],s=e.returnInfantryOnPlanet(i),o=0;o<i.units.length;o++)i.units[o].length>0&&o+1!=r&&(defender=o+1,e.game.state.secret_objective_nuke_from_orbit_how_many_got_nuked=s);return 0},planetaryDefenseTriggers:function(e,t,r,n){if(e.game.state.secret_objective_nuke_from_orbit_how_many_got_nuked>0){var a=e.returnSectorAndPlanets(r).p[n];0==e.returnInfantryOnPlanet(a)&&(e.game.state.secret_objective_nuke_from_orbit_how_many_got_nuked=1)}return 0},canPlayerScoreVictoryPoints:function(e,t){return 1==e.game.state.secret_objective_nuke_from_orbit?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("anti-imperialism",{name:"Anti-Imperialism",text:"Achieve victory in combat with a player with the most VP",type:"secret",phase:"action",onNewTurn:function(e,t,r){return e.game.state.secret_objective_anti_imperialism=0,0},spaceCombatRoundEnd:function(e,t,r,n){e.game.state.secret_objective_anti_imperialism=0,e.returnSectorAndPlanets(n);var a=e.returnPlayersWithHighestVP();return e.game.player==t&&!e.doesPlayerHaveShipsInSector(r,n)&&e.doesPlayerHaveShipsInSector(t,n)&&0==e.hasUnresolvedSpaceCombat(t,n)&&a.includes(r)&&(e.game.state.secret_objective_anti_imperialism=1),e.game.player==r&&!e.doesPlayerHaveShipsInSector(t,n)&&e.doesPlayerHaveShipsInSector(r,n)&&0==e.hasUnresolvedSpaceCombat(r,n)&&a.includes(t)&&(e.game.state.secret_objective_anti_imperialism=1),0},groundCombatRoundEnd:function(e,t,r,n,a){var i=e.returnSectorAndPlanets(n).p[a],s=e.returnPlayersWithHighestVP();return e.game.player==t&&i.units[t-1].length>0&&0==i.units[r-1].length&&s.includes(r)&&(e.game.state.secret_objective_anti_imperialism=1),e.game.player==r&&i.units[r-1].length>0&&0==i.units[t-1].length&&s.includes(t)&&(e.game.state.secret_objective_anti_imperialism=1),0},canPlayerScoreVictoryPoints:function(e,t){return 1==e.game.state.secret_objective_anti_imperialism?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("end-their-suffering",{name:"End Their Suffering",text:"Eliminate a player with the lowest VP from the board in Space or Ground Combat",type:"secret",phase:"action",onNewTurn:function(e,t,r){return e.game.state.secret_objective_end_their_suffering=0,0},spaceCombatRoundEnd:function(e,t,r,n){var a=e.returnSectorAndPlanets(n),i=e.returnPlayersWithLowestVP();if(e.game.player==t&&0==a.s.units[r-1].length&&i.includes(r)){for(var s in e.game.sectors)if(e.game.sectors[s].units[r-1].length>0)return;for(var o in e.game.planets)if(e.game.planets[o].units[r-1].length>0)return;e.game.state.secret_objective_end_their_suffering=1}if(e.game.player==r&&0==a.s.units[t-1].length&&i.includes(t)){for(var c in e.game.sectors)if(e.game.sectors[c].units[t-1].length>0)return;for(var u in e.game.planets)if(e.game.planets[u].units[t-1].length>0)return;e.game.state.secret_objective_end_their_suffering=1}return 0},groundCombatRoundEnd:function(e,t,r,n,a){var i=e.returnSectorAndPlanets(n).p[a],s=e.returnPlayersWithLowestVP();if(e.game.player==t&&0==i.units[r-1].length&&s.includes(r)){for(var o in e.game.sectors)if(e.game.sectors[o].units[r-1].length>0)return;for(var c in e.game.planets)if(e.game.planets[c].units[r-1].length>0)return;e.game.state.secret_objective_end_their_suffering=1}if(e.game.player==r&&0==i.units[t-1].length&&s.includes(t)){for(var u in e.game.sectors)if(e.game.sectors[u].units[t-1].length>0)return;for(var l in e.game.planets)if(e.game.planets[l].units[t-1].length>0)return;e.game.state.secret_objective_end_their_suffering=1}return 0},canPlayerScoreVictoryPoints:function(e,t){return 1==e.game.state.secret_objective_end_their_suffering?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("establish-a-blockade",{name:"Establish a Blockade",text:"Have at least 1 ship in the same sector as an opponent's spacedock",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r in e.game.sectors)if(e.game.sectors[r].units[t-1].length>0)for(var n=e.returnSectorAndPlanets(r),a=0;a<n.p.length;a++)for(var i=0;i<n.p[a].units.length;i++)if(i+1!=t)for(var s=0;s<n.p[a].units[i].length;s++)if("spacedock"===n.p[a].units[i][s].type)return 1;return 0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("close-the-trap",{name:"Close the Trap",text:"Destroy another player's last ship in a system using a PDS",type:"secret",phase:"action",onNewTurn:function(e,t,r){return e.game.state.secret_objective_close_the_trap=0,e.game.state.secret_objective_close_the_trap_pds_fired=0,0},modifyPDSRoll:function(e,t,r,n,a){return t==e.game.player&&(e.game.state.secret_objective_close_the_trap_pds_fired=1),r==e.game.player&&(e.game.state.secret_objective_close_the_trap_pds_fired=1),a},modifySpaceCombatRoll:function(e,t,r,n){e.game.state.secret_objective_close_the_trap_pds_fired=0},spaceCombatRoundEnd:function(e,t,r,n){return e.returnSectorAndPlanets(n),e.game.player!=t||e.doesPlayerHaveShipsInSector(r,n)||0==e.hasUnresolvedSpaceCombat(t,n)&&1==e.game.state.secret_objective_close_the_trap_pds_fired&&(e.game.state.secret_objective_close_the_trap=1,e.game.state.secret_objective_close_the_trap_pds_fired=1),e.game.player!=r||e.doesPlayerHaveShipsInSector(t,n)||0==e.hasUnresolvedSpaceCombat(r,n)&&1==e.game.state.secret_objective_close_the_trap_pds_fired&&(e.game.state.secret_objective_close_the_trap=1,e.game.state.secret_objective_close_the_trap_pds_fired=1),0},canPlayerScoreVictoryPoints:function(e,t){return 1==e.game.state.secret_objective_close_the_trap?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("galactic-observer",{name:"Galactic Observer",text:"Have at least 1 ship in 6 different sectors",type:"secret",canPlayerScoreVictoryPoints:function(e,t){var r=0;for(var n in e.game.board){var a=e.game.board[n].tile;e.doesSectorContainPlayerShip(t,a)&&r++}return r>5?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("master-of-the-ion-cannon",{name:"Master Cannoneer",text:"Have at least 4 PDS units in play",type:"secret",canPlayerScoreVictoryPoints:function(e,t){var r=0;for(var n in e.game.planets)for(var a=e.game.planets[n],i=0;i<a.units[t-1].length;i++)"pds"==a.units[t-1][i].type&&r++;return r>3?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("war-engine",{name:"War Engine",text:"Have three spacedocks in play",type:"secret",canPlayerScoreVictoryPoints:function(e,t){var r=0;for(var n in e.game.planets)for(var a=e.game.planets[n],i=0;i<a.units[t-1].length;i++)"spacedock"==a.units[t-1][i].type&&r++;return r>2?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("wormhole-administrator",{name:"Wormhole Administrator",text:"Have at least 1 ship in systems containing alpha and beta wormholes respectively",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.returnSectorsWithPlayerShips(t),n=0,a=0,i=0;i<r.length;i++)1==e.game.sectors[r[i]].wormhole&&(n=1),2==e.game.sectors[r[i]].wormhole&&(a=1);return 1==n&&1==a?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("fleet-of-terror",{name:"Fleet of Terror",text:"Have five dreadnaughts in play",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=e.returnSectorsWithPlayerShips(t),a=0;a<n.length;a++)for(var i=0;i<e.game.sectors[n[a]].units[t-1].length;i++)"dreadnaught"===e.game.sectors[n[a]].units[t-1][i].type&&r++;return r>=5?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("cultural-diplomacy",{name:"Cultural Diplomacy",text:"Control at least 4 cultural planets",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=e.returnPlayerPlanetCards(t),a=0;a<n.length;a++)"cultural"===e.game.planets[n[a]].type&&r++;return r>=4?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("act-of-espionage",{name:"Act of Espionage",text:"Discard five action cards from your hard",type:"secret",canPlayerScoreVictoryPoints:function(e,t){return e.returnPlayerActionCards(t).length>=5?1:0},scoreObjective:function(e,t,r){e.game.player==t?e.playerDiscardActionCards(5,(function(){r(1)})):r(0)}}),this.importSecretObjective("space-to-breathe",{name:"Space to Breathe",text:"Have at least 1 ship in 3 systems with no planets",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.returnSectorsWithPlayerShips(t),n=0,a=0;a<r.length;a++)0==e.game.sectors[r[a]].planets.length&&n++;return n>=3?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("ascendant-technocracy",{name:"Ascendant Technocracy",text:"Research 4 tech upgrades on the same color path",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.game.players_info[t-1].tech,n=0,a=0,i=0,s=0,o=0;o<r.length;o++)"blue"==e.tech[r[o]].color&&a++,"red"==e.tech[r[o]].color&&i++,"yellow"==e.tech[r[o]].color&&s++,"green"==e.tech[r[o]].color&&n++;return a>=4||s>=4||i>=4||n>=4?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("penal-colonies",{name:"Penal Colonies",text:"Control four planets with hazardous conditions",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=e.returnPlayerPlanetCards(t),a=0;a<n.length;a++)"hazardous"===e.game.planets[n[a]].type&&r++;return r>=4?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("master-of-production",{name:"Master of Production",text:"Control four planets with industrial civilizations",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=e.returnPlayerPlanetCards(t),a=0;a<n.length;a++)"industrial"===e.game.planets[n[a]].type&&r++;return r>=4?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("faction-technologies",{name:"Faction Technologies",text:"Research 2 faction technologies",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.game.players_info[t-1].tech,n=0,a=0;a<r.length;a++)"special"==e.tech[r[a]].type&&0==r[a].indexOf("faction")&&n++;return n>=2?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("occupy-new-byzantium",{name:"Occupy New Byzantium",text:"Control New Byzantium and have at least 3 ships protecting the sector",type:"secret",canPlayerScoreVictoryPoints:function(e,t){return e.game.planets["new-byzantium"].owner==t&&e.game.sectors["new-byzantium"].units[t-1].length>=3?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("cast-a-long-shadow",{name:"Cast a Long Shadow",text:"Have at least 1 ship in a system adjacent to an opponent homeworld",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.returnHomeworldSectors(e.game.players_info.length),n=[],a=0;a<r.length;a++)e.game.board[r[a]].tile!=e.game.board[e.game.players_info[t-1].homeworld].tile&&n.push(e.game.board[r[a]].tile);for(var i=0;i<n.length;i++)if(e.isPlayerAdjacentToSector(t,n[i]))return 1;return 0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIPublicObjective("planetary-unity",{name:"Planetary Unity",img:"/imperium/img/victory_point_1.png",text:"Control four planets of the same planet type",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=0,a=0,i=e.returnPlayerPlanetCards(t),s=0;s<i.length;s++)e.game.planets[i[s]],"hazardous"===e.game.planets[i[s]].type&&r++,"industrial"===e.game.planets[i[s]].type&&a++,"cultural"===e.game.planets[i[s]].type&&n++;return r>=4||n>=4||a>=4?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIPublicObjective("forge-of-war",{name:"Forge of War",img:"/imperium/img/victory_point_1.png",text:"Research 2 unit upgrade technologies",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.game.players_info[t-1].tech,n=0,a=0;a<r.length;a++)1==e.tech[r[a]].unit&&n++;return n>=2?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIPublicObjective("diversified-research",{name:"Diversified Research",img:"/imperium/img/victory_point_1.png",text:"Research 2 technologies in two different color paths",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.game.players_info[t-1].tech,n=0,a=0,i=0,s=0,o=0;o<r.length;o++)"blue"==e.tech[r[o]].color&&a++,"red"==e.tech[r[o]].color&&i++,"yellow"==e.tech[r[o]].color&&s++,"green"==e.tech[r[o]].color&&n++;var c=0;return a>=2&&c++,s>=2&&c++,i>=2&&c++,n>=2&&c++,c>=2?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIPublicObjective("mining-conglomerate",{name:"Mining Conglomerate",img:"/imperium/img/victory_point_1.png",text:"Spend eight resources when scoring",canPlayerScoreVictoryPoints:function(e,t){return e.returnAvailableResources(t)>=8?1:0},scoreObjective:function(e,t,r){e.game.player==t?e.playerSelectResources(8,(function(e){r(e)})):r(0)}}),this.importStageIPublicObjective("conquest-of-science",{name:"Conquest of Science",minPlayers:4,img:"/imperium/img/victory_point_1.png",text:"Control 3 planets with tech specialities",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=e.returnPlayerPlanetCards(t),a=0;a<n.length;a++)"red"==n[a].bonus&&r++,"blue"==n[a].bonus&&r++,"green"==n[a].bonus&&r++,"yellow"==n[a].bonus&&r++;return r>=3?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIPublicObjective("colonization",{name:"Colonization",img:"/imperium/img/victory_point_1.png",text:"Control six planets outside your home system",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=0,a=0,i=0,s=e.returnPlayerPlanetCards(t),o=0;o<s.length;o++)"hazardous"===e.game.planets[s[o]].type&&r++,"industrial"===e.game.planets[s[o]].type&&a++,"cultural"===e.game.planets[s[o]].type&&n++,"diplomatic"===e.game.planets[s[o]].type&&i++;return n+r+a+i>=6?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIPublicObjective("grand-gesture",{name:"A Grand Gesture",img:"/imperium/img/victory_point_1.png",text:"Spend 3 command or strategy tokens when scoring",canPlayerScoreVictoryPoints:function(e,t){return e.game.players_info[t-1].strategy_tokens+e.game.players_info[t-1].command_tokens>=3?1:0},scoreObjective:function(e,t,r){e.game.player==t?e.playerSelectStrategyAndCommandTokens(3,(function(e){r(e)})):r(0)}}),this.importStageIPublicObjective("establish-trade-outposts",{name:"Establish Trade Outposts",img:"/imperium/img/victory_point_1.png",text:"Spend 5 trade goods when scoring",canPlayerScoreVictoryPoints:function(e,t){return e.returnAvailableTradeGoods(t)>=5?1:0},scoreObjective:function(e,t,r){e.game.players_info[t-1].goods-=5,e.displayFactionDashboard(),r(1)}}),this.importStageIPublicObjective("pecuniary-diplomacy",{name:"Pecuniary Diplomacy",img:"/imperium/img/victory_point_1.png",text:"Spend 8 influence when scoring",canPlayerScoreVictoryPoints:function(e,t){return e.returnAvailableInfluence(t)>=8?1:0},scoreObjective:function(e,t,r){e.game.player==t?e.playerSelectInfluence(8,(function(e){r(e)})):r(0)}}),this.importStageIIPublicObjective("master-of-commerce",{name:"Master of Commerce",img:"/imperium/img/victory_point_2.png",text:"Spend 10 trade goods when scoring",canPlayerScoreVictoryPoints:function(e,t){return e.returnAvailableTradeGoods(t)>=10?1:0},scoreObjective:function(e,t,r){e.game.players_info[t-1].goods-=10,e.displayFactionDashboard(),r(1)}}),this.importStageIIPublicObjective("display-of-dominance",{name:"Display of Dominance",img:"/imperium/img/victory_point_2.png",text:"Control at least 1 planet in another player's home sector",canPlayerScoreVictoryPoints:function(e,t){for(var r=[],n=0;n<e.game.players_info.length;n++)for(var a=e.game.board[e.game.players_info[t-1].homeworld].tile,i=e.returnSectorAndPlanets(a),s=0;s<i.p.length;s++)r.push(i.p[s].name);for(var o=e.returnPlayerPlanetCards(t),c=0;c<o.length;c++)if(r.includes(o[c].name))return 1;return 0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIIPublicObjective("technological-empire",{name:"Technological Empire",minPlayers:4,img:"/imperium/img/victory_point_2.png",text:"Control 5 planets with tech bonuses",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=e.returnPlayerPlanetCards(t),a=0;a<n.length;a++)"red"==n[a].bonus&&r++,"blue"==n[a].bonus&&r++,"green"==n[a].bonus&&r++,"yellow"==n[a].bonus&&r++;return r>=3?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIIPublicObjective("establish-galactic-currency",{name:"Establish Galactic Currency",img:"/imperium/img/victory_point_2.png",text:"Spend 16 resources when scoring",canPlayerScoreVictoryPoints:function(e,t){return e.returnAvailableResources(t)>=16?1:0},scoreObjective:function(e,t,r){e.game.player==t?e.playerSelectResources(16,(function(e){r(e)})):r(0)}}),this.importStageIIPublicObjective("master-of-science",{name:"Master of Science",img:"/imperium/img/victory_point_2.png",text:"Own 2 tech upgrades in each of 4 tech color paths",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.game.players_info[t-1].tech,n=0,a=0,i=0,s=0,o=0;o<r.length;o++)"blue"==e.tech[r[o]].color&&a++,"red"==e.tech[r[o]].color&&i++,"yellow"==e.tech[r[o]].color&&s++,"green"==e.tech[r[o]].color&&n++;var c=0;return a>=2&&c++,s>=2&&c++,i>=2&&c++,n>=2&&c++,c>=4?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIIPublicObjective("imperial-unity",{name:"Imperial Unity",img:"/imperium/img/victory_point_2.png",text:"Control 6 planets of the same planet type",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=0,a=0,i=0,s=e.returnPlayerPlanetCards(t),o=0;o<s.length;o++)"hazardous"===e.game.planets[s[o]].type&&r++,"industrial"===e.game.planets[s[o]].type&&a++,"cultural"===e.game.planets[s[o]].type&&n++,"diplomatic"===e.game.planets[s[o]].type&&i++;return r>=6||n>=6||a>=6||i>=6?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIIPublicObjective("advanced-technologies",{name:"Advanced Technologies",img:"/imperium/img/victory_point_2.png",text:"Research 3 unit upgrade technologies",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.game.players_info[t-1].tech,n=0,a=0;a<r.length;a++)1==e.tech[r[a]].unit&&n++;return n>=3?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIIPublicObjective("colonial-dominance",{name:"Colonial Dominance",img:"/imperium/img/victory_point_2.png",text:"Control 11 planets outside your home system",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=0,a=0,i=0,s=e.returnPlayerPlanetCards(t),o=0;o<s.length;o++)"hazardous"===e.game.planets[s[o]].type&&r++,"industrial"===e.game.planets[s[o]].type&&a++,"cultural"===e.game.planets[s[o]].type&&n++,"diplomatic"===e.game.planets[s[o]].type&&i++;return n+r+a+i>=11?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIIPublicObjective("power-broker",{name:"Power Broker",img:"/imperium/img/victory_point_2.png",text:"Spend 16 influence when scoring",canPlayerScoreVictoryPoints:function(e,t){return e.returnAvailableInfluence(t)>=16?1:0},scoreObjective:function(e,t,r){e.game.player==t?e.playerSelectInfluence(16,(function(e){r(e)})):r(0)}}),this.importStageIIPublicObjective("cultural-revolution",{name:"Cultural Revolution",img:"/imperium/img/victory_point_2.png",text:"Spend 6 command or strategy tokens when scoring",canPlayerScoreVictoryPoints:function(e,t){return e.game.players_info[t-1].strategy_tokens+e.game.players_info[t-1].command_tokens>=6?1:0},scoreObjective:function(e,t,r){e.game.player==t?e.playerSelectStrategyAndCommandTokens(6,(function(e){r(e)})):r(0)}}),this.importAgendaCard("sequential-voting",{name:"Sequential Voting",type:"Law",text:"Players must vote on Agendas in Initiative Order, not Simultaneously",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){e.game.state.agenda_voting_order="for"===t?"initiative":"simultaneous"}}),this.importAgendaCard("shard-of-the-throne",{name:"Shard of the Throne",type:"Law",elect:"player",text:"Elect a Player to earn 1 VP. When this player loses a space combat to another player, they transfer the VP to that player",returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.players_info.length;r++)t.push(e.returnFaction(r+1));return t},onPass:function(e,t){e.game.state.shard_of_the_throne=1;for(var r=0;r<e.game.players_info.length;r++)t===e.returnFaction(r+1)&&(e.game.state.shard_of_the_throne_player=r+1);var n={agenda:"shard-of-the-throne"};n.option=t,e.game.state.laws.push(n),e.game.players_info[e.game.state.shard_of_the_throne_player-1].vp+=1,e.updateLeaderboard(),e.updateLog(e.returnFaction(e.game.state.shard_of_the_throne_player)+" gains the Shard of the Throne (1VP)")},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"shard-of-the-throne"===e.game.state.laws[t].agenda&&(e.game.state.laws.splice(t,1),t--);return e.game.state.shard_of_the_throne_player=-2,1},spaceCombatRoundEnd:function(e,t,r,n){r==e.game.state.shard_of_the_throne_player&&(e.doesPlayerHaveShipsInSector(r,n)||(e.game.state.shard_of_the_throne_player=t,e.updateLog(e.returnFaction(e.game.state.shard_of_the_throne_player)+" gains the Shard of the Throne (1VP)"),e.game.players_info[t-1].vp+=1,e.game.players_info[r-1].vp-=1,e.updateLeaderboard()))},groundCombatRoundEnd:function(e,t,r,n,a){r==e.game.state.shard_of_the_throne_player&&(e.doesPlayerHaveInfantryOnPlanet(r,n,a)||(e.game.state.shard_of_the_throne_player=t,e.updateLog(e.returnFaction(e.game.state.shard_of_the_throne_player)+" gains the Shard of the Throne (1VP)"),e.game.players_info[t-1].vp+=1,e.game.players_info[r-1].vp-=1,e.updateLeaderboard()))}}),this.importAgendaCard("homeland-defense-act",{name:"Homeland Defense Act",type:"Law",text:"FOR: there is no limit to the number of PDS units on a planet. AGAINST: each player must destroy one PDS unit",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){e.game.state.homeland_defense_act=1;var r={agenda:"homeland-defense-act"};if(r.option=t,e.game.state.laws.push(r),"for"===t&&(e.game.state.pds_limit_per_planet=100),"against"===t)for(var n=0;n<e.game.players_info.length;n++)e.doesPlayerHaveUnitOnBoard(n+1,"pds")&&e.game.queue.push("destroy_a_pds\t"+(n+1));e.game.state.laws.push({agenda:"homeland-defense-act",option:t})},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"homeland-defense-act"===e.game.state.laws[t].agenda&&(e.game.state.laws.splice(t,1),t--);return e.game.state.homeland_defense_act=0,e.game.state.pds_limit_per_planet=2,1},handleGameLoop:function(e,t,r){if("destroy_a_pds"==r[0]){var n=parseInt(r[1]);return e.game.queue.splice(t,1),e.game.player==n&&e.playerSelectUnitWithFilter("Select a PDS unit to destroy: ",(function(e){return null==e?0:"pds"==e.type?1:0}),(function(t){var r=t.sector,n=t.planet_idx,a=t.unit_idx,i=t.unit,s=e.returnSectorAndPlanets(r);if(null==i)return e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" has no PDS units to destroy"),e.endTurn(),0;e.addMove("destroy_unit\t"+e.game.player+"\t"+e.game.player+"\tground\t"+r+"\t"+n+"\t"+a+"\t1"),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" destroys a "+i.name+" in "+s.s.name),e.endTurn()})),0}return 1}}),this.importAgendaCard("holy-planet-of-ixth",{name:"Holy Planet of Ixth",type:"Law",elect:"planet",text:"Elect a cultural planet. The planet's controller gains 1 VP. Units cannot be landed, produced or placed on this planet",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"cultural"===e.type?1:0}))},onPass:function(e,t){e.game.state.holy_planet_of_ixth=1,e.game.state.holy_planet_of_ixth_planet=t;var r={agenda:"holy-planet-of-ixth"};r.option=t,e.game.state.laws.push(r),e.game.planets[t].locked=1;var n=e.game.planets[t].owner;-1!=n&&(e.game.players_info[n-1].vp+=1,e.updateLeaderboard(),e.updateLog(e.returnFaction(n)+" gains 1 VP from Holy Planet of Ixth"))},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"holy-planet-of-ixth"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return null!=t&&(e.game.state.holy_planet_of_ixth=0,e.game.state.holy_planet_of_ixth_planet=-1,e.game.planets[t].locked=0),1}}),this.importAgendaCard("research-team-biotic",{name:"Research Team: Biotic",type:"Law",elect:"planet",text:"Elect an industrial planet. The owner may exhaust this planet to ignore 1 green technology prerequisite the next time they research a technology",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"industrial"===e.type?1:0}))},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"research-team-biotic"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return null!=t&&(e.game.state.research_team_biotic=0,e.game.state.research_team_biotic_planet=-1),1},onPass:function(e,t){e.game.state.research_team_biotic=1,e.game.state.research_team_biotic_planet=t;var r={agenda:"research-team-biotic"};r.option=t,e.game.state.laws.push(r)},menuOption:function(e,t,r){return"main"==t&&e.game.planets[e.game.state.research_team_biotic_planet].owner==r?{event:"research_team_biotic",html:'<li class="option" id="research_team_biotic">use biotic (green) tech-skip</li>'}:{}},menuOptionTriggers:function(e,t,r){return"main"==t&&e.game.planets[e.game.state.research_team_biotic_planet].owner==r&&0==e.game.planets[e.game.state.research_team_biotic_planet].exhausted?1:0},menuOptionActivated:function(e,t,r){return"main"==t&&(e.game.players_info[r-1].temporary_green_tech_prerequisite++,e.game.planets[e.game.state.research_team_biotic_planet].exhausted=1),0}}),this.importAgendaCard("research-team-cybernetic",{name:"Research Team: Cybernetic",type:"Law",elect:"planet",text:"Elect an industrial planet. The owner may exhaust this planet to ignore 1 yellow technology prerequisite the next time they research a technology",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"industrial"===e.type?1:0}))},onPass:function(e,t){e.game.state.research_team_cybernetic=1,e.game.state.research_team_cybernetic_planet=t;var r={agenda:"research-team-cybernetic"};r.option=t,e.game.state.laws.push(r)},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"research-team-cybernetic"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return null!=t&&(e.game.state.research_team_cybernetic=0,e.game.state.research_team_cybernetic_planet=-1),1},menuOption:function(e,t,r){return"main"==t&&e.game.planets[e.game.state.research_team_cybernetic_planet].owner==r?{event:"research_team_cybernetic",html:'<li class="option" id="research_team_cybernetic">use cybernetic (yellow) tech-skip</li>'}:{}},menuOptionTriggers:function(e,t,r){return"main"==t&&e.game.planets[e.game.state.research_team_cybernetic_planet].owner==r&&0==e.game.planets[e.game.state.research_team_cybernetic_planet].exhausted?1:0},menuOptionActivated:function(e,t,r){return"main"==t&&(e.game.players_info[r-1].temporary_yellow_tech_prerequisite++,e.game.planets[e.game.state.research_team_cybernetic_planet].exhausted=1),0}}),this.importAgendaCard("research-team-propulsion",{name:"Research Team: Propulsion",type:"Law",elect:"planet",text:"Elect an industrial planet. The owner may exhaust this planet to ignore 1 blue technology prerequisite the next time they research a technology",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"industrial"===e.type?1:0}))},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"research-team-propulsion"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return null!=t&&(e.game.state.research_team_propulsion=0,e.game.state.research_team_propulsion_planet=-1),1},onPass:function(e,t){e.game.state.research_team_propulsion=1,e.game.state.research_team_propulsion_planet=t;var r={agenda:"research-team-propulsion"};r.option=t,e.game.state.laws.push(r)},menuOption:function(e,t,r){return"main"==t&&e.game.planets[e.game.state.research_team_propulsion_planet].owner==r?{event:"research_team_propulsion",html:'<li class="option" id="research_team_propulsion">use propulsion (blue) tech-skip</li>'}:{}},menuOptionTriggers:function(e,t,r){return"main"==t&&e.game.planets[e.game.state.research_team_propulsion_planet].owner==r&&0==e.game.planets[e.game.state.research_team_propulsion_planet].exhausted?1:0},menuOptionActivated:function(e,t,r){return"main"==t&&(e.game.players_info[r-1].temporary_blue_tech_prerequisite++,e.game.planets[e.game.state.research_team_propulsion_planet].exhausted=1),0}}),this.importAgendaCard("research-team-warfare",{name:"Research Team: Warfare",type:"Law",elect:"planet",text:"Elect an hazardous planet. The owner may exhaust this planet to ignore 1 red technology prerequisite the next time they research a technology",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"industrial"===e.type?1:0}))},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"research-team-warfare"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return null!=t&&(e.game.state.research_team_warfare=0,e.game.state.research_team_warfare_planet=-1),1},onPass:function(e,t){e.game.state.research_team_warfare=1,e.game.state.research_team_warfare_planet=t;var r={agenda:"research-team-warfare"};r.option=t,e.game.state.laws.push(r)},menuOption:function(e,t,r){return"main"==t&&e.game.planets[e.game.state.research_team_warfare_planet].owner==r?{event:"research_team_warfare",html:'<li class="option" id="research_team_warfare">use warfare (red) tech-skip</li>'}:{}},menuOptionTriggers:function(e,t,r){return"main"==t&&e.game.planets[e.game.state.research_team_warfare_planet].owner==r&&0==e.game.planets[e.game.state.research_team_warfare_planet].exhausted?1:0},menuOptionActivated:function(e,t,r){return"main"==t&&(e.game.players_info[r-1].temporary_red_tech_prerequisite++,e.game.planets[e.game.state.research_team_warfare_planet].exhausted=1),0}}),this.importAgendaCard("demilitarized-zone",{name:"Demilitarized Zone",type:"Law",elect:"planet",text:"Elect a cultural planet. All units are destroyed and cannot be landed, produced or placed on this planet",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"cultural"===e.type?1:0}))},onPass:function(e,t){e.game.state.demilitarized_zone=1,e.game.state.demilitarized_zone_planet=t;var r={agenda:"demilitarized-zone"};r.option=t,e.game.state.laws.push(r),e.game.planets[t].units=[];for(var n=0;n<e.game.players_info.length;n++)e.game.planets[t].units.push([]);e.game.planets[t].locked=1},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"demilitarized-zone"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return null!=t&&(e.game.state.demilitarized_zone=0,e.game.state.demilitarized_zone_planet=-1,e.game.planets[t].locked=0),1}}),this.importAgendaCard("core-mining",{name:"Core Mining",type:"Law",elect:"planet",text:"Elect a hazardous planet. Destroy half the infantry on that planet and increase its resource value by +2",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"hazardous"===e.type?1:0}))},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"core-mining"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return null!=t&&(e.game.state.core_mining=0,e.game.state.core_mining_planet=-1,e.game.planets[t].locked=0,e.game.planets[t].resources-=2),1},onPass:function(e,t){e.game.state.core_mining=1,e.game.state.core_mining_planet=t;var r={agenda:"core-mining"};r.option=t,e.game.state.laws.push(r),e.returnPlanetsOnBoard((function(e){return"hazardous"===e.type?1:0}));for(var n=t,a=0;a<e.game.planets[n].units.length;a++)for(var i=1,s=0;s<e.game.planets[n].units[a].length;s++)"infantry"==e.game.planets[n].units[a][s].type&&(1==i?(e.game.planets[n].units[a].splice(s,1),s--,i=0):i=1);e.game.planets[t].resources+=2}}),this.importAgendaCard("anti-intellectual-revolution",{name:"Anti-Intellectual Revolution",type:"Law",text:"FOR: players must destroy a capital ship in order to play the Technology card. AGAINST: at the start of the next round, each player exhausts one planet for each technology they have.",returnAgendaOptions:function(e){return["for","against"]},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"anti-intellectual-revolution"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);var r=e.strategy_cards.technology;return r.strategyPrimaryEventBackup&&(r.strategyPrimaryEvent=r.strategyPrimaryEventBackup),r.strategySecondaryEventBackup&&(r.strategySecondaryEvent=r.strategySecondaryEventBackup),1},initialize:function(e,t){if("for"===t){var r=e.strategy_cards.technology,n=r.strategySecondaryEvent;r.strategySecondaryEventBackup=n,r.strategySecondaryEvent=function(e,t,r){e.game.player==t&&e.game.player!=r&&e.playerAcknowledgeNotice("Anti-Intellectual Revolution is in play. Do you wish to destroy a capital ship to research technology?",(function(){e.playerSelectUnitWithFilter("Select a capital ship to destroy: ",(function(e){return"destroyer"==e.type||"cruiser"==e.type||"carrier"==e.type||"dreadnaught"==e.type||"flagship"==e.type||"warsun"==e.type?1:0}),(function(a){var i=a.sector,s=a.planet_idx,o=a.unit_idx,c=a.unit,u=e.returnSectorAndPlanets(i);-1==s?e.addMove("destroy_unit\t"+e.game.player+"\t"+e.game.player+"\tspace\t"+i+"\t"+s+"\t"+o+"\t1"):e.addMove("destroy_unit\t"+e.game.player+"\t"+e.game.player+"\tground\t"+i+"\t"+s+"\t"+o+"\t1"),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" destroys a "+c.name+" in "+u.s.name),n(e,t,r)}))}))};var a=r.strategyPrimaryEvent;r.strategyPrimaryEventBackup=a,r.strategyPrimaryEvent=function(e,t,r){e.game.player==r&&t==r&&e.playerAcknowledgeNotice("Anti-Intellectual Revolution is in play. Do you wish to destroy a capital ship to research technology?",(function(){e.playerSelectUnitWithFilter("Select a capital ship to destroy: ",(function(e){return"destroyer"==e.type||"cruiser"==e.type||"carrier"==e.type||"dreadnaught"==e.type||"flagship"==e.type||"warsun"==e.type?1:0}),(function(n){var i=n.sector,s=n.planet_idx,o=n.unit_idx,c=n.unit,u=e.returnSectorAndPlanets(i);-1==s?e.addMove("destroy_unit\t"+e.game.player+"\t"+e.game.player+"\tspace\t"+i+"\t"+s+"\t"+o+"\t1"):e.addMove("destroy_unit\t"+e.game.player+"\t"+e.game.player+"\tground\t"+i+"\t"+s+"\t"+o+"\t1"),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" destroys a "+c.name+" in "+u.s.name),a(e,t,r)}))}))}}if("against"===t)for(var i=0;i<e.game.players_info.length;i++)e.game.players_info[i].must_exhaust_at_round_start.push("planet","planet")},onPass:function(e,t){e.game.state.anti_intellectual_revolution=1;var r={agenda:"anti-intellectual-revolution"};r.option=t,e.game.state.laws.push(r),this.initialize(e,t)}}),this.importAgendaCard("unconventional-measures",{name:"Unconventional Measures",type:"Directive",text:"FOR: each player that votes 'for' draws 2 action cards. AGAINST: each player that votes 'for' discards their action cards.",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if("for"===t)for(var r=0;r<e.game.players_info.length;r++)e.game.state.choices[e.game.state.how_voted_on_agenda[r]]==t&&(e.game.queue.push("gain\t2\t"+(r+2)+"\taction_cards\t2"),e.game.queue.push("DEAL\t2\t"+(r+1)+"\t2"),e.game.queue.push("NOTIFY\tdealing two action cards to player "+(r+1)));if("against"===t)for(var n=0;n<e.game.players_info.length;n++)console.log("uncon plyr: "+n),console.log(" how voted: "+e.game.state.choices[e.game.state.how_voted_on_agenda[n]]),"for"==e.game.state.choices[e.game.state.how_voted_on_agenda[n]]&&(e.game.player==n+1?(alert("clearing out my action cards!"),e.game.players_info[n].action_cards_in_hand=0,e.game.deck[1].hand=[]):(alert("clearing out my action cards!"),e.game.players_info[n].action_cards_in_hand=0))}}),this.importAgendaCard("seeds-of-an-empire",{name:"Seeds of an Empire",type:"Directive",text:"FOR: the player(s) with the most VP gain a VP. AGAINST: the players with the least VP gain a VP",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){var r=e.returnInitiativeOrder();if(console.log("seeds of the empire: "+t),"for"===t){for(var n=0,a=0;a<r.length;a++)n<e.game.players_info[r[a]-1].vp&&(n=e.game.players_info[r[a]-1].vp),e.game.state.seeds_of_an_empire=r[a];for(var i=0;i<r.length;i++)if(n==e.game.players_info[r[i]-1].vp&&(e.game.players_info[r[i]-1].vp+=1,e.game.queue.push("NOTIFY\t"+e.returnFaction(r[i])+" gains 1 VP from Seeds of an Empire"),e.game.state.seeds_of_an_empire=r[i],e.checkForVictory()))return 0}if("against"===t){for(var s=1e4,o=0;o<r.length;o++)s>e.game.players_info[r[o]-1].vp&&(s=e.game.players_info[r[o]-1].vp);for(var c=0;c<r.length;c++)if(s==e.game.players_info[r[c]-1].vp&&(e.game.players_info[r[c]-1].vp+=1,e.game.queue.push("NOTIFY\t"+e.returnFaction(r[c]+1)+" gains 1 VP from Seeds of an Empire"),e.game.state.seeds_of_an_empire=r[c],e.checkForVictory()))return 0}return e.updateLeaderboard(),1}}),this.importAgendaCard("space-cadet",{name:"Space Cadet",type:"Law",text:"Any player more than 3 VP behind the lead must henceforth be referred to as an Irrelevant Loser",returnAgendaOptions:function(e){return["for","against"]},initialize:function(e,t){null==e.space_cadet_initialized&&(e.space_cadet_initialized=1,1==e.game.state.space_cadet&&(e.returnFactionNamePreSpaceCadet=e.returnFactionName,e.returnFactionName=function(e,t){for(var r=0,n=0;n<e.game.players_info.length;n++)r<e.game.players_info[n].vp&&(r=e.game.players_info[n].vp);return e.game.players_info[t-1].vp<=r-3?"Irrelevant Loser":e.returnFactionNamePreSpaceCadet(e,t)},e.returnFactionNameNicknamePreSpaceCadet=e.returnFactionNameNickname,e.returnFactionNameNickname=function(e,t){for(var r=0,n=0;n<e.game.players_info.length;n++)r<e.game.players_info[n].vp&&(r=e.game.players_info[n].vp);return e.game.players_info[t-1].vp<=r-3?"Loser":e.returnFactionNameNicknamePreSpaceCadet(e,t)}))},onPass:function(e,t){if("for"==t){e.game.state.space_cadet=1;var r={agenda:"space-cadet"};r.option=t,e.game.state.laws.push(r),this.initialize(e)}},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"space-cadet"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);return e.game.state.space_cadet=0,e.returnFactionName=e.returnFactionNamePreSpaceCadet,1}}),this.importAgendaCard("galactic-threat",{name:"Galactic Threat",type:"Law",text:"Elect a player. They must henceforth be referred to as the Galatic Threat",returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.players_info.length;r++)t.push(e.returnFaction(r+1));return t},initialize:function(e,t){null==e.galactic_threat_initialized&&(e.galactic_threat_initialized=1,1==e.game.state.galactic_threat&&(e.returnFactionNamePreGalacticThreat=e.returnFactionName,e.returnFactionName=function(e,t){return e.game.state.galactic_threat_player==t?"The Galactic Threat":e.returnFactionNamePreGalacticThreat(e,t)},e.returnFactionNameNicknamePreGalacticThreat=e.returnFactionNameNickname,e.returnFactionNameNickname=function(e,t){return e.game.state.galactic_threat_player==t?"Threat":e.returnFactionNameNicknamePreGalacticThreat(e,t)}))},onPass:function(e,t){e.game.state.galactic_threat=1;for(var r=0;r<e.game.players_info.length;r++)t===e.returnFaction(r+1)&&(e.game.state.galactic_threat_player=r+1);var n={agenda:"galactic-threat"};n.option=t,e.game.state.laws.push(n),this.initialize(e)},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"galactic-threat"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);return e.game.state.galactic_threat=0,e.game.state.galactic_threat_initialized=0,e.returnFactionNamePreGalacticThreat&&(e.returnFactionName=e.returnFactionNamePreGalacticThreat),1}}),this.importAgendaCard("committee-formation",{name:"Committee Formation",type:"Law",elect:"player",text:"Elect a player. They may form a committee to vote on which player is elected in a future agenda",returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.players_info.length;r++)t.push(e.returnFaction(r+1));return t},preAgendaStageTriggers:function(e,t,r){return 1==e.game.state.committee_formation&&e.game.state.committee_formation_player==t&&"player"==e.agenda_cards[r].elect?1:0},preAgendaStageEvent:function(e,t,r){if(t!=e.game.player){var n=e.returnFaction(e.game.player)+" is deciding whether to Form a Committee";return e.updateStatus(n),0}return e.updateStatus('Do you wish to use Committee Formation to select the winner yourself? <ul><li class="textchoice" id="yes">assemble the committee</li><li class="textchoice" id="no">not this time</li></ul>'),$(".textchoice").off(),$(".textchoice").on("click",(function(){"no"==$(this).attr("id")&&e.endTurn();for(var r=0;r<e.game.players_info.length;r++)r!=e.game.player-1&&e.addMove("rider\t"+t+"\tassassinate-representative\t-1");e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" forms a committee..."),e.endTurn()})),0},onPass:function(e,t){e.game.state.committee_formation=1;for(var r=0;r<e.game.players_info.length;r++)t===e.returnFaction(r+1)&&(e.game.state.committee_formation_player=r+1);var n={agenda:"committee-formation"};n.option=t,console.log("pushing onto law: "+JSON.stringify(n)),e.game.state.laws.push(n)},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"committee_formation"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);return e.game.state.committee_formation=0,e.game.state.committee_formation_player=-1,1}}),this.importAgendaCard("minister-of-policy",{name:"Minister of Policy",type:"Law",elect:"player",text:"Elect a player. They draw an extra action card at the start of each round",returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.players_info.length;r++)t.push(e.returnFaction(r+1));return t},onPass:function(e,t){e.game.state.minister_of_policy=1,e.game.state.minister_of_policy_player=t;for(var r=0;r<e.game.players_info.length;r++)t===e.returnFaction(r+1)&&(e.game.state.minister_of_policy_player=r+1);e.game.players_info[e.game.state.minister_of_policy_player-1].action_cards_bonus_when_issued++;var n={agenda:"minister-of-policy"};n.option=t,e.game.state.laws.push(n)},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"minister-of-policy"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);return e.game.state.minister_of_policy=0,e.game.players_info[e.game.state.minister_of_policy_player-1].action_cards_bonus_when_issued--,e.game.state.minister_of_policy_player=-1,1}}),this.importAgendaCard("executive-sanctions",{name:"Executive Sanctions",type:"Law",text:"Players may have a maximum of 3 action cards in their hands at all times",returnAgendaOptions:function(e){return["support","oppose"]},onPass:function(e,t){if("support"==this.returnAgendaOptions(e)[t])for(var r=0;r<e.game.players_info.length;r++)e.game.players_info[r].action_card_limit=3;var n={agenda:"executive-sanctions"};return n.option=t,e.game.state.laws.push(n),1},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"executive-sanctions"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);for(var r=0;r<e.game.players_info.length;r++)3==e.game.players_info[r].action_card_limit&&(e.game.players_info[r].action_card_limit=7);return 1}}),this.importAgendaCard("fleet-limitations",{name:"Fleet Limitations",type:"Law",text:"Players may have a maximum of four tokens in their fleet supply.",img:"/imperium/img/agenda_card_template.png",returnAgendaOptions:function(e){return["support","oppose"]},onPass:function(e,t){if("support"==this.returnAgendaOptions(e)[t])for(var r=0;r<e.game.players_info.length;r++)e.game.players_info[r].fleet_supply_limit=4,e.game.players_info[r].fleet_supply>=4&&(e.game.players_info[r].fleet_supply=4);return 1},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"fleet-limitations"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);for(var r=0;r<e.game.players_info.length;r++)e.game.players_info[r].fleet_supply_limit=16;return 1}}),this.importAgendaCard("restricted-conscription",{name:"Restricted Conscription",type:"Law",text:"Production cost for infantry and fighters is 1 rather than 0.5 resources",img:"/imperium/img/agenda_card_template.png",returnAgendaOptions:function(e){return["support","oppose"]},onPass:function(e,t){"support"==this.returnAgendaOptions(e)[t]&&(e.units.infantry.cost=1,e.units.fighter.cost=1);var r={agenda:"restricted-conscription"};return r.option=t,e.game.state.laws.push(r),1},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"restricted-conscription"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);return e.units.infantry.cost=.5,e.units.fighter.cost=.5,1}}),this.importAgendaCard("wormhole-travel-ban",{name:"Wormhole Travel Ban",type:"Law",text:"All wormholes are closed.",img:"/imperium/img/agenda_card_template.png",returnAgendaOptions:function(e){return["support","oppose"]},onPass:function(e,t){"support"==this.returnAgendaOptions(e)[t]&&(e.game.state.wormholes_open=0);var r={agenda:"wormhole-travel-ban"};return r.option=t,e.game.state.laws.push(r),1},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"wormhole-travel-ban"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);return e.game.state.wormholes_open=1,1}}),this.importAgendaCard("archived-secret",{name:"Archived Secret",type:"Directive",text:"Elected Player draws one secret objective",returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.players_info.length;r++)t.push(e.returnFaction(r+1));return t},onPass:function(e,t){e.game.state.archived_secret=1;for(var r=0;r<e.game.players_info.length;r++)t===e.returnFaction(r+1)&&(e.game.state.archived_secret_player=r+1);return e.game.queue.push("gain\t"+e.game.state.archived_secret_player+"\tsecret_objectives\t1"),e.game.queue.push("DEAL\t6\t"+e.game.state.archived_secret_player+"\t1"),1}}),this.importAgendaCard("economic-equality",{name:"Economic Equality",type:"Directive",text:"FOR: all players discard all trade goods, AGAINST: players lose all trade goods and then gain 5 trade goods. ",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if(e.game.state.economic_equality=1,"for"===t){for(var r=0;r<e.game.players_info.length;r++)e.game.players_info[r].goods=0;e.updateLog("All players have 0 trade goods")}if("against"===t){for(var n=0;n<e.game.players_info.length;n++)e.game.players_info[n].goods=5;e.updateLog("All players have 5 trade goods")}return e.displayFactionDashboard(),1}}),this.importAgendaCard("mutiny",{name:"Mutiny",type:"Directive",text:"FOR: all who vote FOR gain 1 VP, AGAINST: all players who vote FOR lose 1 VP",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if(e.game.state.mutiny=1,"for"===t)for(var r=0;r<e.game.players_info.length;r++)"for"==e.game.state.choices[e.game.state.how_voted_on_agenda[r]]&&(e.game.players_info[r].vp++,e.updateLog(e.returnFaction(r+1)+" gains 1 VP from Mutiny"));if("against"===t)for(var n=0;n<e.game.players_info.length;n++)"for"===e.game.state.choices[e.game.state.how_voted_on_agenda[n]]&&(e.game.players_info[n].vp--,e.updateLog(e.returnFaction(n+1)+" loses 1 VP from Mutiny"));return e.updateLeaderboard(),1}}),this.importAgendaCard("conventions-of-war",{name:"Conventions of War",type:"Law",text:"FOR: cultural planets are exempt from bombardment, AGAINST: players who vote against discard all action cards",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if(e.game.state.conventions_of_war=1,"for"===t)for(var r=0;r<e.game.players_info.length;r++)"against"==e.game.state.choices[e.game.state.how_voted_on_agenda[r]]&&(e.game.players_info[r].action_cards_in_hand=0,e.game.player==r+1&&(e.game.deck[1].hand=[]));"against"===t&&(e.game.state.bombardment_against_cultural_planets=0);var n={agenda:"conventions-of-war"};return n.option=t,e.game.state.laws.push(n),1},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"conventions-of-war"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);return e.game.state.bombardment_against_cultural_planets=1,1}}),this.importAgendaCard("swords-to-ploughshares",{name:"Swords to Ploughshares",type:"Directive",text:"FOR: everyone destroys half their infantry (round up) on every planet, AGAINST: everyone gains 1 infantry each planet",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if(e.game.state.swords_to_ploughshares=1,"against"===t)for(var r in e.game.planets)-1!=e.game.planets[r].owner&&e.game.planets[r].units[e.game.planets[r].owner-1].push(e.returnUnit("infantry",e.game.planets[r].owner));if("for"===t)for(var n=0;n<e.game.players_info.length;n++){var a=0;for(var i in e.game.planets)if(e.game.planets[i].owner==n+1){for(var s=0,o=0;o<e.game.planets[i].units[n].length;o++)"infantry"==e.game.planets[i].units[n][o].type&&(1==s?(s=0,a++):s=1);for(var c=0,u=0;u<a&&c<e.game.planets[i].units[n].length;c++)"infantry"==e.game.planets[i].units[n][c].type&&(e.game.planets[i].units[n].splice(c,1),c--,u++)}1==a?e.updateLog(e.returnFaction(n+1)+" gains "+a+" trade good"):e.updateLog(e.returnFaction(n+1)+" gains "+a+" trade goods")}return 1}}),this.importAgendaCard("wormhole-research",{name:"Wormhole Research",type:"Directive",text:"FOR: all ships in sectors with alpha and beta wormholes are destroyed, their owners research 1 technology, AGAINST: everyone who voted against loses a command token",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){e.game.state.wormhole_research=1;var r=[];if("for"===t){for(var n in e.game.sectors)if(0!=e.game.sectors[n].wormhole)for(var a=0;a<e.game.sectors[n].units.length;a++)e.game.sectors[n].units[a].length>0&&(e.game.sectors[n].units[a]=[],r.includes(a+1)||r.push(a+1));r.sort();for(var i=0;i<r.length;i++)e.game.queue.push("research\t"+r[i])}if("against"===t){for(var s=0;s<e.game.players_info.length;s++)"against"==e.game.state.choices[e.game.state.how_voted_on_agenda[s]]&&(e.game.players_info[s].command_tokens--,e.game.players_info[s].command_tokens<=0&&(e.game.players_info[s].command_tokens=0));e.updateTokenDisplay()}return 1}}),this.importAgendaCard("new-constitution",{name:"New Constitution",type:"Directive",text:"FOR: remove all laws in play and exhaust all homeworld at the start of the next round",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){e.game.state.new_constitution=1;for(var r=e.game.state.laws.length-1;r>0;r--){var n=e.game.state.laws[r].agenda;e.agenda_cards[n].repealAgenda(e)}if("for"===t){e.game.state.laws=[];for(var a=0;a<e.game.players_info.length;a++)e.game.players_info[a].must_exhaust_at_round_start.push("homeworld")}return 1}}),this.importAgendaCard("shared-research",{name:"Shared Research",type:"Directive",text:"FOR: each player activates their home system, AGAINST: units can move through nebulas",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if(e.game.state.shared_research=1,"for"===t)for(var r=0;r<e.game.players_info.length;r++)e.game.queue.push("activate\t"+(r+1)+"\t"+e.returnPlayerHomeworld(r+1));return"against"===t&&(e.game.players_info[i].fly_through_nebulas=1),1}}),this.importAgendaCard("wormhole-reconstruction",{name:"Wormhole Reconstruction",type:"Directive",text:"FOR: alpha and beta wormholes connect to each other, AGAINST:  each player activates all systems with alpha and beta wormholes",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if(e.game.state.wormhole_reconstruction=1,"for"===t&&(e.game.state.wormholes_adjacent=1),"against"===t)for(var r in e.game.sectors)if(1==e.game.sectors[r].wormhole||2==e.game.sectors[r].wormhole){for(var n=0;n<e.game.players_info.length;n++)e.game.sectors[r].activated[n]=1;e.returnSectorAndPlanets(r).s&&e.updateSectorGraphics(r)}return 1}}),this.importAgendaCard("crown-of-emphidia",{name:"Crown of Emphidia",type:"Law",elect:"player",text:"Elect a Player to earn 1 VP. When this player loses a homeworld to another player, they lose 1 VP and their opponent gains 1 VP",returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.players_info.length;r++)t.push(e.returnFaction(r+1));return t},onPass:function(e,t){e.game.state.crown_of_emphidia=1;for(var r=0;r<e.game.players_info.length;r++)t===e.returnFaction(r+1)&&(e.game.state.crown_of_emphidia_player=r+1);var n={agenda:"crown-of-emphidia"};n.option=t,e.game.state.laws.push(n),e.game.players_info[e.game.state.crown_of_emphidia_player-1].vp+=1,e.updateLeaderboard(),e.updateLog(e.returnFaction(e.game.state.crown_of_emphidia_player)+" gains 1 VP from Crown of Emphidia")},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"crown-of-emphidia"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);return e.game.state.crown_of_emphidia=-1,e.game.state.crown_of_emphidia_player=-1,1},groundCombatRoundEnd:function(e,t,r,n,a){return r==e.game.state.crown_of_emphidia_player&&(e.doesPlayerHaveInfantryOnPlanet(r,n,a)||e.doesPlayerHaveInfantryOnPlanet(t,n,a)&&(e.updateLog(e.returnFaction(e.game.state.crown_of_emphidia_player)+" loses the Crown of Emphidia (-1VP)"),e.game.state.crown_of_emphidia_player=t,e.updateLog(e.returnFaction(e.game.state.crown_of_emphidia_player)+" gains the Crown of Emphidia (+1VP)"),e.game.players_info[t-1].vp+=1,e.game.players_info[r-1].vp-=1,e.updateLeaderboard())),1}}),this.importAgendaCard("terraforming-initiative",{name:"Terraforming Initiative",type:"Law",elect:"planet",text:"Elect a hazardous planet. The resource and influence values of this planet are increased by 1 point each",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"hazardous"===e.type?1:0}))},onPass:function(e,t){e.game.state.terraforming_initiative=1,e.game.state.terraforming_initiative_planet=t;var r={agenda:"terraforming-initiative"};return r.option=t,e.game.state.laws.push(r),e.game.planets[t].resources++,e.game.planets[t].influence++,e.updateLog(e.game.planets[t].name+" increases resource and influence through terraforming"),1},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"terraforming-initiative"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return e.game.state.terraforming_initiative=-1,t&&e.game.planets[t]&&(e.game.planets[t].resources--,e.game.planets[t].influence--),e.game.state.terraforming_initiative_planet=-1,1}}),this.importAgendaCard("senate-sanctuary",{name:"Senate Sanctuary",type:"Law",elect:"planet",text:"Elect a cultural planet. The influence value of this planet is increased by 2 points",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"cultural"===e.type?1:0}))},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"senate-sanctuary"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return t&&e.game.planets[t]&&(e.game.planets[t].influence-=2),e.game.state.senate_sanctuary=0,e.game.state.senate_sanctuary_planet=-1,1},onPass:function(e,t){e.game.state.senate_sanctuary=1,e.game.state.senate_sanctuary_planet=t;var r={agenda:"senate-sanctuary"};return r.option=t,e.game.state.laws.push(r),e.game.planets[t].influence+=2,e.updateLog(e.game.planets[t].name+" increases influence value by 2"),1}}),this.importAgendaCard("publicize-weapons-schematics",{name:"Publicize Weapons Schematics",type:"Directive",text:"FOR: all players now have War Suns technology, AGAINST: all players with War Suns technology discard all action cards",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if(e.game.state.publicize_weapons_schematics=1,"for"===t)for(var r=0;r<e.game.players_info.length;r++)e.doesPlayerHaveTech(r+1,"warsun")||e.game.queue.push("purchase\t"+(r+1)+"\ttech\twarsun");if("against"===t)for(var n=0;n<e.game.players_info.length;n++)e.doesPlayerHaveTech(n+1,"warsun")&&(e.game.players_info[n].action_cards_in_hand=0,e.game.player==n+1&&(e.game.deck[1].hand=[]),e.updateLog(e.returnFaction(n+1)+" discards all Action Cards"));return 1}}),this.importAgendaCard("incentive-program",{name:"Incentive Program",type:"Directive",text:"FOR: reveal a 1 VP public objective, AGAINST: reveal a 2 VP public objective",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if(e.game.state.incentive_program=1,"for"===t){e.game.queue.push("revealobjectives");for(var r=1;r<=e.game.players_info.length;r++)e.game.queue.push("FLIPCARD\t4\t1\t2\t"+r)}if("against"===t){e.game.queue.push("revealobjectives");for(var n=1;n<=e.game.players_info.length;n++)e.game.queue.push("FLIPCARD\t5\t1\t3\t"+n)}return 1}}),this.importAgendaCard("colonial-redistribution",{name:"Colonial Redistribution",type:"Directive",elect:"planet",text:"Elect a cultural, industrial or hazardous planet. Destroy all units on the planet. Planet owner chooses a player with the fewest VP to gain control of the planet and gain 1 infantry on it. If no-one controls that planet, the Speaker chooses the recipient.",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"cultural"===e.type||"industrial"===e.type||"hazardous"===e.type?1:0}))},onPass:function(e,t){return e.game.state.colonial_redistribution=1,e.game.state.colonial_redistribution_planet=t,e.game.queue.push("colonial_redistribution\t"+t),e.game.state.laws.push({agenda:"colonial-redistribution",option:t}),0},handleGameLoop:function(e,t,r){if("colonial_redistribution"==r[0]){var n=r[1];e.game.queue.splice(t,1);var a=e.game.planets[n].owner,i=e.game.planets[n].idx,s=e.game.planets[n].sector;return-1==a&&(a=e.game.state.speaker),e.game.planets[n].units[a]=[],e.game.player==a&&e.playerSelectPlayerWithFilter("Select a player to receive 1 infantry and this planet",(function(t){for(var r=0,n=t.vp,a=0;a<e.game.players_info.length;a++)e.game.players_info[a]<n&&(r=1);return 1==r?0:1}),(function(t){return e.updateStatus(""),e.addMove("produce\t"+t+"\t1\t"+i+"\tinfantry\t"+s),e.addMove("annex\t"+t+"\t"+s+"\t"+i),e.addMove("NOTIFY\t"+e.returnFaction(t)+" gains the contested planet"),e.endTurn(),0})),0}return 1}}),this.importAgendaCard("compensated-disarmament",{name:"Compensated Disarmament",type:"Directive",elect:"planet",text:"Destroy all ground forces on planet. For each infantry destroyed planet owner gains 1 trade good",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return 1}))},onPass:function(e,t){e.game.state.compensated_disarmament=1,e.game.state.compensated_disarmament_planet=t,console.log("planet is: "+t);var r=e.game.planets[t],n=parseInt(r.owner),a=0;if(-1==n)return 1;for(var i=r.units[n-1].length,s=0;s<i;s++)"infantry"==r.units[n-1][s].type&&(a++,r.units[n-1].splice(s,1),s--,i=r.units[n-1].length);return a>0&&e.game.queue.push("purchase\t"+n+"\tgoods\t"+a),e.updateSectorGraphics(r.sector),1}}),this.importAgendaCard("judicial-abolishment",{name:"Judicial Abolishment",type:"Directive",elect:"law",text:"Discard a law if one is in play",returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.state.laws.length;r++)t.push(e.agenda_cards[e.game.state.laws[r].agenda].name);return t},onPass:function(e,t){e.game.state.judicial_abolishment=1,e.game.state.judicial_abolishment_law=t;for(var r=null,n=0;n<e.game.state.laws.length;n++)t===e.agenda_cards[e.game.state.laws[n].agenda].name&&(e.agenda_cards[e.game.state.laws[n].agenda].repealAgenda(e),r=e.game.state.laws[n].agenda,n=e.game.state.laws.length+2);return r&&e.updateLog(e.agenda_cards[r].name+" abolished"),1}}),this.importAgendaCard("public-execution",{name:"Public Execution",type:"Directive",elect:"player",text:"Elect a player. They discard all their action cards, lose the speaker token to the next player in initiative order (if they have it) and lose all of their votes.",returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.players_info.length;r++)t.push(e.returnFaction(r+1));return t},onPass:function(e,t){var r=e.returnInitiativeOrder();e.game.state.public_execution=1;for(var n=0;n<e.game.players_info.length;n++)t===e.returnFaction(n+1)&&(e.game.state.public_execution_player=n+1);if(e.game.players_info[e.game.state.public_execution_player-1].action_cards_in_hand=0,e.game.player==e.game.state.public_execution_player&&(e.game.deck[1].hand=[]),e.game.state.public_execution_player==e.game.state.speaker){e.game.state.speaker=r[0];for(var a=0;a<r.length-1;a++)r[a]==e.game.state.public_execution_player&&(e.game.state.speaker=r[a+1])}return e.game.state.votes_available[e.game.state.public_execution_player-1]=0,e.updateLog(e.returnFaction(e.game.state.public_execution_player)+" representative publicly executed"),e.displayFactionDashboard(),1}}),this.importAgendaCard("ixthian-artifact",{name:"Ixthian Artifact",type:"Directive",text:"FOR: roll a die. On rolls of 5 and under destroy all units on New Byzantium and 3 units in each adjacent system. On all other rolls each player researches 2 technologies",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if("for"==t){var r=e.rollDice(10);if(e.updateLog("Ixthian Artifact rolls "+r),r<=5){for(var n=0;n<e.game.players_info.length;n++)e.game.planets["new-byzantium"].units[n]=[],e.game.sectors["new-byzantium"].units[n]=[];for(var a=e.returnAdjacentSectors("new-byzantium"),i=0;i<a.length;i++)for(var s=0;s<e.game.players_info.length;s++)e.doesSectorContainPlayerUnits(s+1,a[i])&&e.game.queue.push("destroy_units\t"+(s+1)+"\t3\t"+a[i]+"\t0")}if(r>=6){for(var o=0;o<e.game.players_info.length;o++)e.game.queue.push("research\t"+(o+1)),e.game.queue.push("research\t"+(o+1));e.game.queue.push("ACKNOWLEDGE\tThe Ixthian Artifact did not explode. All players may now research two technologies...")}}return 1}}),this.importActionCard("infiltrate",{name:"Infiltrate",type:"instant",text:"The next time you invade a planet, you may takeover any existing PDS units or Space Docks",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_infiltrate_infrastructure_on_invasion=1,1}}),this.importActionCard("reparations",{name:"Reparations",type:"action",text:"If you have lost a planet this round, refresh one of your planets",playActionCard:function(e,t,r,n){if(-1!=e.game.players_info[r-1].lost_planet_this_round&&r==e.game.player){var a=e.returnPlayerExhaustedPlanetCards(e.game.player);return e.playerSelectPlanetWithFilter("Select an exhausted planet to refresh: ",(function(e){return a.includes(e)?1:0}),(function(t){return e.addMove("unexhaust\tplanet\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(r)+" refreshes "+e.game.planets[t].name),e.endTurn(),0}),null),0}return 1}}),this.importActionCard("political-stability",{name:"Political Stability",type:"instant",text:"Pick a strategy card you have already played this round. You may keep this for next round",playActionCard:function(e,t,r,n){if(e.game.player==r){for(var a='<div class="sf-readable">Pick a Strategy Card to keep for next round: </div><ul>',i=0;i<e.game.players_info[r-1].strategy_cards_played.length;i++){var s=e.game.players_info[r-1].strategy_cards_played[i];a+='<li class="option" id="'+s+'">'+e.strategy_cards[s].name+"</li>"}for(var o=0;o<e.game.players_info[r-1].strategy.length;o++)if(!e.game.players_info[e.game.player-1].strategy_cards_played.includes(e.game.players_info[r-1].strategy[o])){var c=e.game.players_info[r-1].strategy[o];a+='<li class="option" id="'+c+'">'+e.strategy_cards[c].name+"</li>"}a+="</ul>",e.updateStatus(a),$(".option").off(),$(".option").on("click",(function(){var t=$(this).attr("id");return e.addMove("strategy_card_retained\t"+e.game.player+"\t"+t),e.endTurn(),0}))}return 0},handleGameLoop:function(e,t,r){if("strategy_card_retained"==r[0]){var n=parseInt(r[1]),a=r[2];return e.game.queue.splice(t,1),e.game.players_info[n-1].strategy_cards_retained.push(a),1}return 1}}),this.importActionCard("lost-star-chart",{name:"Lost Star Chart",type:"instant",text:"During this turn, all wormholes are adjacent to each other",playActionCard:function(e,t,r,n){return e.game.state.temporary_wormholes_adjacent=1,1}}),this.importActionCard("plague",{name:"Plague",type:"action",text:"ACTION: Select a planet. Roll a dice for each infantry on planet and destroy number of rolls 6 or higher.",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlanetWithFilter("Select a planet to cripple with the plague:",(function(t){return e.doesPlanetHaveInfantry(t)}),(function(t){return e.addMove("plague\t"+e.game.player+"\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" unleashes a plague on "+e.game.planets[t].name),e.endTurn(),0}),null),0},handleGameLoop:function(e,t,r){if("plague"==r[0]){for(var n=parseInt(r[1]),a=r[2],i=e.game.planets[a].sector,s=e.game.planets[a].idx,o=e.returnSectorAndPlanets(i),c=e.returnEventObjects(),u=o.p[s].owner,l=0,d=0;d<o.p[s].units.length;d++)for(var h=0;h<o.p[s].units[d].length;h++){var p=o.p[s].units[d][h];if("infantry"==p.type&&e.rollDice(10)>6){for(z_index in p.destroyed=1,c)p=c[z_index].unitDestroyed(this,n,p);l++}}return e.updateLog("The plague destroys "+l+" infantry"),e.eliminateDestroyedUnitsInSector(u,i),e.saveSystemAndPlanets(o),e.updateSectorGraphics(i),e.game.queue.splice(t,1),1}return 1}}),this.importActionCard("repeal-law",{name:"Repeal Law",type:"action",text:"ACTION: Repeal one law that is in effect.",playActionCard:function(e,t,r,n){if(e.game.player==r){for(var a='<div class="sf-readable">Pick a Law to Repeal: </div><ul>',i=0;i<e.game.state.laws.length;i++){var s=e.game.state.laws[i],o=e.agenda_cards[s];a+='<li class="option" id="'+o+'">'+o.name+"</li>"}a+='<li class="option" id="cancel">cancel</li>',a+="</ul>",e.updateStatus(a),$(".option").off(),$(".option").on("click",(function(){var t=$(this).attr("id");return"cancel"===t?(e.endTurn(),0):(e.addMove("repeal_law\t"+t),e.endTurn(),0)}))}return 0},handleGameLoop:function(e,t,r){if("repeal_law"==r[0]){var n=r[2];e.game.queue.splice(t,1);for(var a=0;a<e.game.state.laws.length;a++)if(e.game.state.laws[a]==n)return e.agenda_cards[n].repealAgenda(e),1;return 1}return 1}}),this.importActionCard("veto",{name:"Veto",type:"action",text:"ACTION: Select one agenda to remove from consideration and draw a replacement",playActionCard:function(e,t,r,n){if(e.game.player==r){var a="";for(a+="Select one agenda to quash in the Galactic Senate.<ul>",i=0;i<3;i++)a+='<li class="option" id="'+e.game.state.agendas[i]+'">'+e.agenda_cards[e.game.state.agendas[i]].name+"</li>";a+="</ul>",e.updateStatus(a),$(".option").off(),$(".option").on("mouseenter",(function(){var t=$(this).attr("id");e.showAgendaCard(t)})),$(".option").on("mouseleave",(function(){var t=$(this).attr("id");e.hideAgendaCard(t)})),$(".option").on("click",(function(){var t=$(this).attr("id");e.hideAgendaCard(t),e.updateStatus("Quashing Agenda"),e.addMove("quash\t"+t+"\t1"),e.endTurn()}))}return 0}}),this.importActionCard("flank-speed1",{name:"Flank Speed",type:"instant",text:"Gain +1 movement on all ships moved this turn",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_fleet_move_bonus=1,1}}),this.importActionCard("flank-speed2",{name:"Flank Speed",type:"instant",text:"Gain +1 movement on all ships moved this turn",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_fleet_move_bonus=1,1}}),this.importActionCard("flank-speed3",{name:"Flank Speed",type:"instant",text:"Gain +1 movement on all ships moved this turn",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_fleet_move_bonus=1,1}}),this.importActionCard("flank-speed4",{name:"Flank Speed",type:"instant",text:"Gain +1 movement on all ships moved this turn",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_fleet_move_bonus=1,1}}),this.importActionCard("propulsion-research",{name:"Propulsion Research",type:"instant",text:"Gain +1 movement on a single ship moved this turn",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_ship_move_bonus=1,1}}),this.importActionCard("military-drills",{name:"Military Drills",type:"action",text:"ACTION: Gain two new command tokens",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerAllocateNewTokens(r,2),0}}),this.importActionCard("cripple-defenses",{name:"Cripple Defenses",type:"action",text:"ACTION: Select a planet and destroy all PDS units on that planet",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlanetWithFilter("Select a planet to destroy all PDS units on that planet: ",(function(t){return e.doesPlanetHavePDS(t)}),(function(t){for(var r=(t=e.game.planets[t]).sector,n=(t.tile,t.idx),a=e.returnSectorAndPlanets(r),i=0;i<a.p[n].units.length;i++)for(var s=0;s<a.p[n].units[i].length;s++)"pds"==a.p[n].units[i][s].type&&e.addMove("destroy_unit\t"+e.game.player+"\t"+(i+1)+"\tground\t"+r+"\t"+n+"\t"+s+"\t1");return e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" destroys all PDS units destroyed on "+a.p[n].name),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("reactor-meltdown",{name:"Reactor Meltdown",type:"action",text:"ACTION: Select a non-homeworld planet and destroy one Space Dock on that planet",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlanetWithFilter("Select a non-homeworld planet and destroy one Space Dock on that planet: ",(function(t){if(0==(t=e.game.planets[t]).hw&&e.doesPlanetHaveSpaceDock(t))return 1}),(function(t){for(var r=(t=e.game.planets[t]).sector,n=(t.tile,t.idx),a=e.returnSectorAndPlanets(r),i=0;i<a.p[n].units.length;i++)for(var s=0;s<a.p[n].units[i].length;s++)"spacedock"==a.p[n].units[i][s].type&&e.addMove("destroy_unit\t"+e.game.player+"\t"+(i+1)+"\tground\t"+r+"\t"+n+"\t"+s+"\t1");return e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" destroys all Space Docks on "+a.p[n].name),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("lost-mission",{name:"Lost Mission",type:"action",text:"ACTION: Place 1 Destroyer in a system with no existing ships",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectSectorWithFilter("Select a sector with no existing ships in which to place a Destroyer: ",(function(t){return!e.doesSectorContainShips(t)}),(function(t){return e.addMove("produce\t"+e.game.player+"\t1\t-1\tdestroyer\t"+t),e.addMove("NOTIFY\tAdding destroyer to gamebaord"),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("accidental-colonization",{name:"Accidental Colonization",type:"action",text:"ACTION: Gain control of one planet not controlled by any player",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlanetWithFilter("Select a planet not controlled by another player: ",(function(t){return-1==(t=e.game.planets[t]).owner?1:0}),(function(t){var r=(t=e.game.planets[t]).sector;return e.addMove("gain_planet\t"+e.game.player+"\t"+r+"\t"+t.idx),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" gains planet "+t.name),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("uprising",{name:"Uprising",type:"action",text:"ACTION: Exhaust a non-home planet card held by another player. Gain trade goods equal to resource value.",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlanetWithFilter("Exhaust a non-homeworld planet card held by another player. Gain trade goods equal to resource value.",(function(t){return-1!=(t=e.game.planets[t]).owner&&t.owner!=e.game.player&&0==t.exhausted&&0==t.hw?1:0}),(function(t){var n=(t=e.game.planets[t]).resources;return e.addMove("purchase\t"+r+"\tgoods\t"+n),e.addMove("expend\t"+e.game.player+"\tplanet\t"+t.planet),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" exhausting "+t.name+" and gaining "+n+" trade goods"),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("diaspora-conflict",{name:"Diaspora Conflict",type:"action",text:"ACTION: Exhaust a non-home planet card held by another player. Gain trade goods equal to resource value.",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlanetWithFilter("Exhaust a planet card held by another player. Gain trade goods equal to resource value.",(function(t){return-1!=(t=e.game.planets[t]).owner&&t.owner!=e.game.player&&0==t.exhausted&&0==t.hw?1:0}),(function(t){var n=t,a=(t=e.game.planets[t]).resources;return e.addMove("purchase\t"+r+"\tgoods\t"+a),e.addMove("expend\t"+e.game.player+"\tplanet\t"+n),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" exhausting "+t.name+" and gaining "+a+" trade goods"),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("economic-initiative",{name:"Economic Initiative",type:"action",text:"ACTION: Ready each cultural planet in your control",playActionCard:function(e,t,r,n){for(var a in e.game.planets)e.game.planets[a].owner==r&&"cultural"==e.game.planets[a].type&&(e.game.planets[a].exhausted=0);return 1}}),this.importActionCard("focused-research",{name:"Focused Research",type:"action",text:"ACTION: Spend 4 Trade Goods to Research 1 Technology",playActionCard:function(e,t,r,n){return e.game.players_info[e.game.player-1].goods<4?(e.updateLog("Player does not have enough trade goods to research a technology"),1):(e.game.player==r&&e.playerResearchTechnology((function(t){e.addMove("purchase\t"+r+"\ttech\t"+t),e.addMove("expend\t"+e.game.player+"\tgoods\t4"),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" researches "+e.tech[t].name),e.endTurn()})),0)}}),this.importActionCard("frontline-deployment",{name:"Frontline Deployment",type:"action",text:"ACTION: Deploy three infantry on one planet you control",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlanetWithFilter("Deploy three infantry to a planet you control: ",(function(t){return e.game.planets[t].owner==e.game.player?1:0}),(function(t){return t=e.game.planets[t],e.addMove("produce\t"+e.game.player+"\t1\t"+t.idx+"\tinfantry\t"+t.sector),e.addMove("produce\t"+e.game.player+"\t1\t"+t.idx+"\tinfantry\t"+t.sector),e.addMove("produce\t"+e.game.player+"\t1\t"+t.idx+"\tinfantry\t"+t.sector),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" deploys three infantry to "+t.name),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("ghost-ship",{name:"Ghost Ship",type:"action",text:"ACTION: Place a destroyer in a sector with a wormhole and no enemy ships",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectSectorWithFilter("Place a destroyer in a sector with a wormhole and no enemy ships: ",(function(t){return 0==e.doesSectorContainShips(t)&&0!=e.game.sectors[t].wormhole?1:0}),(function(t){return e.addMove("produce\t"+e.game.player+"\t1\t-1\tdestroyer\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" deploys a Destroyer to "+e.game.sectors[t].name),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("war-effort",{name:"War Effort",type:"action",text:"ACTION: Place a cruiser in a sector with one of your ships",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectSectorWithFilter("Place a cruiser in a sector with one of your ships: ",(function(r){return 1==e.doesSectorContainPlayerShips(t,r)?1:0}),(function(t){return e.addMove("produce\t"+e.game.player+"\t1\t-1\tcruiser\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" deploys a Cruiser to "+e.game.sectors[t].name),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("industrial-initiative",{name:"Industrial Initiative",type:"action",text:"ACTION: Gain a trade good for each industrial planet you control",playActionCard:function(e,t,r,n){var a=0;for(var i in e.game.planets)e.game.planets[i].owner==r&&"industrial"==e.game.planets[i].type&&a++;return a>0&&e.game.queue.push("purchase\t"+r+"\tgoods\t"+a),1}}),this.importActionCard("Insubordination",{name:"Insubordination",type:"action",text:"ACTION: Select a player and remove 1 token from their command pool",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlayerWithFilter("Select a player and remove one token from their command pool: ",(function(t){return t!=e.game.player?1:0}),(function(t){return e.addMove("expend\t"+t+"\tcommand\t1"),e.addMove("NOTIFY\t"+e.returnFactionNickname(t)+" loses one comand token"),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("Lucky Shot",{name:"Lucky Shot",type:"action",text:"ACTION: Destroy a destroyer, cruiser or dreadnaught in a sector with a planet you control",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectSectorWithFilter("Destroy a destroyer, cruiser or dreadnaught in a sector containing a planet you control: ",(function(t){return e.doesSectorContainPlanetOwnedByPlayer(t,e.game.player)&&(e.doesSectorContainUnit(t,"destroyer")||e.doesSectorContainUnit(t,"cruiser")||e.doesSectorContainUnit(t,"dreadnaught"))?1:0}),(function(t){e.playerSelectOpponentUnitInSectorWithFilter("Select opponent ship in this sector to destroy: ",t,(function(e){return"destroyer"==e.type||"cruiser"==e.type||"dreadnaught"==e.type?1:0}),(function(t){var r=t.sector,n=(parseInt(t.unit.owner),t.unit_idx),a=e.returnSectorAndPlanets(r),i=t.unit;return e.addMove("destroy_unit\t"+e.game.player+"\t"+i.owner+"\tspace\t"+r+"\t-1\t"+n+"\t1"),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" destroys a "+i.name+" in "+a.name),e.endTurn(),0}),null)}),(function(){e.playerTurn()})),0}}),this.importActionCard("mining-initiative-ac",{name:"Mining Initiative",type:"action",text:"ACTION: Gain trade goods equal to the highest resource value planet you control",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=0;for(var i in e.game.planets)e.game.planets[i].owner==r&&e.game.planets[i].resources>a&&(a=e.game.planets[i].resources);return e.addMove("purchase\t"+r+"\tgoods\t"+a),e.endTurn(),0}return 0}}),this.importActionCard("rise-of-a-messiah",{name:"Rise of a Messiah",type:"action",text:"ACTION: Add one infantry to each planet player controls",playActionCard:function(e,t,r,n){for(var a in e.game.planets)e.game.planets[a].owner==r&&(e.updateLog(e.returnFaction(r)+" adds 1 infantry to "+e.game.planets[a].name),e.addPlanetaryUnit(r,e.game.planets[a].sector,e.game.planets[a].idx,"infantry"));return 1}}),this.importActionCard("unstable-planet",{name:"Unstable Planet",type:"action",text:"ACTION: Choose a hazardous planet and exhaust it. Destroy 3 infantry on that planet if they exist",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlanetWithFilter("Select a hazardous planet and exhaust it. Destroy 3 infantry on that planet if they exist",(function(t){return"hazardous"==(t=e.game.planets[t]).type?1:0}),(function(n){e.addMove("expend\t"+t+"\tplanet\t"+n);var a=e.game.planets[n],i=parseInt(a.owner),s=(parseInt(a.resources),0);if(i>=0)for(var o=a.units[i-1].length-1;o>=0;o--)s<3&&"infantry"==a.units[i-1][o].type&&(e.addMove("destroy_unit\t"+r+"\t"+i+"\tground\t"+a.sector+"\t"+a.idx+"\t"+o+"\t1"),s++);return e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("covert-operation",{name:"Covert Operation",type:"action",text:"ACTION: Choose a player. They give you one of their action cards, if possible",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlayerWithFilter("Select a player. They give you one of their action cards: ",(function(t){return t!=e.game.player?1:0}),(function(t){return e.addMove("pull\t"+e.game.player+"\t"+t+"\taction\trandom"),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" pulls a random action card from "+e.returnFaction(t)),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("tactical-bombardment",{name:"Tactical Bombardment",type:"action",text:"ACTION: Choose a sector in which you have ships with bombardment. Exhaust all planets in that sector",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectSectorWithFilter("Select a sector in which you have ships with bombardment. Exhaust all planets in that sector",(function(r){return 1==e.doesSectorContainPlayerUnit(t,r,"dreadnaught")||1==e.doesSectorContainPlayerUnit(t,r,"warsun")?1:0}),(function(r){for(var n=e.game.sectors[r].planets,a=0;a<n.length;a++)e.addMove("expend\t"+t+"\tplanet\t"+n[a]),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" exhausts "+e.game.planets[n[a]].name);return e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("signal-jamming",{name:"Signal Jamming",type:"action",text:"ACTION: Choose a player. They must activate a system in or next to a system in which you have a ship",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectSectorWithFilter("Select a sector in which you have a ship or one adjacent to one: ",(function(t){return e.isPlayerShipAdjacentToSector(r,t)?1:0}),(function(t){e.playerSelectPlayerWithFilter("Select a player to signal jam in that sector: ",(function(t){return t!=e.game.player?1:0}),(function(r){return e.addMove("activate\t"+r+"\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(r)+" suffers signal jamming in "+e.game.sectors[t].name),e.endTurn(),0}),null)}),(function(){e.playerTurn()})),0}}),this.importActionCard("unexpected-action",{name:"Unexpected Action",type:"action",text:"ACTION: Deactivate a stystem you have activated. Gain one command or strategy token: ",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectSectorWithFilter("Select a sector that you have activated and deactivate it: ",(function(t){if(1==e.game.sectors[t].activated[r-1])return 1}),(function(t){return e.updateStatus('<div class="sf-readable">Gain command or strategy token?</div><ul><li class="option" id="command">command token</li><li class="option" id="strategy">strategy token</li></ul>'),$(".option").off(),$(".option").on("click",(function(){var n=$(this).attr("id");e.addMove("purchase\t"+r+"\t"+n+"\t1"),e.addMove("deactivate\t"+r+"\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(r)+" deactivates "+e.game.sectors[t].name),e.endTurn()})),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("in-the-silence-of-space",{name:"In the Silence of Space",type:"instant",text:"Your ships may move through sectors with other player ships this turn: ",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_move_through_sectors_with_opponent_ships=1,1}}),this.importActionCard("upgrade",{name:"Upgrade",type:"post_activate_system",text:"After you activate a system containing one of your ships, place a Dreadnaught from your reinforcements in that sector",playActionCard:function(e,t,r,n){var a=e.game.state.activated_sector;return e.doesSectorContainPlayerShips(r,a)&&e.addSpaceUnit(r,a,"dreadnaught"),1}}),this.importActionCard("disable",{name:"Disable",type:"post_activate_system",text:"Your fleet cannot be hit by PDS fire or Planetary Defense during this invasion",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_immune_to_pds_fire=1,e.game.players_info[r-1].temporary_immune_to_planetary_defense=1,1}}),this.importActionCard("bunker",{name:"Bunker",type:"bombardment_defender",text:"During this bombardment, attacker gets -4 applied to each bombardment roll.",playActionCard:function(e,t,r,n){for(var a=0;a<e.game.players_info.length;a++)e.game.players_info[a].temporary_bombardment_combat_roll_modifier=-4;return 1}}),this.importActionCard("thunder-from-the-heavens",{name:"Thunder from the Heavens",type:"bombardment_attacker",text:"During this bombardment, attacker gets +2 applied to each bombardment roll.",playActionCard:function(e,t,r,n){for(var a=0;a<e.game.players_info.length;a++)e.game.players_info[a].temporary_bombardment_combat_roll_modifier=2;return 1}}),this.importActionCard("sabotage1",{name:"Sabotage",type:"counter",text:"When another player plays an action card, you may cancel that action card",playActionCard:function(e,t,r,n){console.log("QUEUE: "+JSON.stringify(e.game.queue));for(var a=e.game.queue.length-1;a>=0;a--)if(e.game.queue[a].indexOf("action_card_")>=0){var i=0;if(0==e.game.queue[a].indexOf("action_card_post")&&(i=1),console.log("removing: "+JSON.stringify(e.game.queue[a])),e.game.queue[a].indexOf("sabotage")>0&&(i=0),0!=e.game.queue[a].indexOf("resolve")&&e.game.queue.splice(a,1),1==i)return e.removeConfirmsNeeded(),e.updateLog(e.returnFaction(r)+" plays Sabotage!"),1}return 1}}),this.importActionCard("sabotage2",{name:"Sabotage",type:"counter",text:"When another player plays an action card, you may cancel that action card",playActionCard:function(e,t,r,n){console.log("QUEUE: "+JSON.stringify(e.game.queue));for(var a=e.game.queue.length-1;a>=0;a--)if(e.game.queue[a].indexOf("action_card_")>=0){var i=0;if(0==e.game.queue[a].indexOf("action_card_post")&&(i=1),console.log("removing: "+JSON.stringify(e.game.queue[a])),e.game.queue[a].indexOf("sabotage")>0&&(i=0),0!=e.game.queue[a].indexOf("resolve")&&e.game.queue.splice(a,1),1==i)return e.removeConfirmsNeeded(),e.updateLog(e.returnFaction(r)+" plays Sabotage!"),1}return 1}}),this.importActionCard("sabotage3",{name:"Sabotage",type:"counter",text:"When another player plays an action card, you may cancel that action card",playActionCard:function(e,t,r,n){console.log("QUEUE: "+JSON.stringify(e.game.queue));for(var a=e.game.queue.length-1;a>=0;a--)if(e.game.queue[a].indexOf("action_card_")>=0){var i=0;if(0==e.game.queue[a].indexOf("action_card_post")&&(i=1),console.log("removing: "+JSON.stringify(e.game.queue[a])),e.game.queue[a].indexOf("sabotage")>0&&(i=0),0!=e.game.queue[a].indexOf("resolve")&&e.game.queue.splice(a,1),1==i)return e.removeConfirmsNeeded(),e.updateLog(e.returnFaction(r)+" plays Sabotage!"),1}return 1}}),this.importActionCard("sabotage4",{name:"Sabotage",type:"counter",text:"When another player plays an action card, you may cancel that action card",playActionCard:function(e,t,r,n){for(var a=e.game.queue.length-1;a>=0;a--)if(e.game.queue[a].indexOf("action_card_")>=0){var i=0;if(0==e.game.queue[a].indexOf("action_card_post")&&(i=1),e.game.queue[a].indexOf("sabotage")>0&&(i=0),0!=e.game.queue[a].indexOf("resolve")&&e.game.queue.splice(a,1),1==i)return e.removeConfirmsNeeded(),e.updateLog(e.returnFaction(r)+" plays Sabotage!"),1}return 1}}),this.importActionCard("fire-team",{name:"Fire Team",type:"ground_combat",text:"Reroll up to 15 dice during this round of ground combat",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].combat_dice_reroll=15,1}}),this.importActionCard("parley",{name:"Parley",type:"ground_combat",text:"Return invading infantry to space if player ships exist in the sector",playActionCard:function(e,t,r,n){if(t==r){var a=e.game.state.ground_combat_sector,i=e.game.state.ground_combat_planet_idx,s=e.game.state.ground_combat_attacker,o=e.returnSectorAndPlanets(a),c=o.p[i].units[s-1];o.p[i].units[s-1]=[];for(var u=0;u<o.s.units[s-1].length;u++)for(;e.returnRemainingCapacity(o.s.units[s-1][u])>0&&c.length>0;)e.loadUnitByJSONOntoShip(s,a,u,JSON.stringify(c[0])),c.splice(0,1)}return e.updateSectorGraphics(sector),1}}),this.importActionCard("distinguished-councillor",{name:"Distinguished Coucillor",type:"post_agenda",text:"After the speaker has cast his votes, cast an additional 5 votes",playActionCard:function(e,t,r,n){return e.game.state.votes_cast[r-1]+=5,e.updateLog(e.returnFaction(r)+" casts an additional 5 votes with Distinguished Councillor"),1}}),this.importActionCard("bribery",{name:"Bribery",type:"post_agenda",text:"After the speaker has cast his vote, spend any number of trade goods to purchase additional votes",playActionCard:function(e,t,r,n){if(e.game.player==r){var a='<div class="sf-readable">Spend any number of trade goods to purchase additional votes: </div><ul>';if(e.game.players_info[r-1].goods>0){a+='<li class="textchoice" id="0">0 votes</li>';for(var i=1;i<=e.game.players_info[r-1].goods+1;i++)a+=1==i?'<li class="textchoice" id="1">'+i+" vote</li>":'<li class="textchoice" id="'+i+'">'+i+" votes</li>"}else a+='<li class="textchoice" id="0">0 votes</li>';a+="</ul>",e.updateStatus(a),$(".textchoice").off(),$(".textchoice").on("click",(function(){var t=$(this).attr("id");e.addMove("bribery\t"+r+"\t"+t),e.endTurn()}))}return 0},handleGameLoop:function(e,t,r){if("bribery"==r[0]){var n=parseInt(r[1]),a=parseInt(r[2]);return e.game.queue.splice(t,1),e.game.state.votes_cast[n-1].votes+=a,e.game.players_info[n-1].goods-=a,1==a?e.updateLog(e.returnFaction(n)+" bribes the Council for "+a+" additional vote"):e.updateLog(e.returnFaction(n)+" bribes the Council for "+a+" additional votes"),1}return 1}}),this.importActionCard("assassinate-representative",{name:"Assassinate Representative",type:"pre_agenda",text:"Choose a player. That player cannot vote on the Agenda",playActionCard:function(e,t,r,n){return r==e.game.player&&e.playerSelectPlayerWithFilter("Select a player who will not be able to vote on this Agenda: ",(function(t){return t!=e.game.player?1:0}),(function(t){return e.addMove("rider\t"+t+"\tassassinate-representative\t-1"),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" assassinates the "+e.returnFactionNickname(t)+" delegate"),e.endTurn(),0}),null),0}}),this.importActionCard("diplomatic-scandal",{name:"Diplomatic Scandal",type:"pre_agenda",text:"Choose a player. That player loses a maximum of four votes on this agenda",playActionCard:function(e,t,r,n){return r==e.game.player&&e.playerSelectPlayerWithFilter("Select a player to lose 4 votes: ",(function(t){return t!=e.game.player?1:0}),(function(t){return e.addMove("diplomatic_scandal\t"+e.game.player+"\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" unearths scandal concerning the voting representative of "+e.returnFaction(t)),e.endTurn(),0}),null),0},handleGameLoop:function(e,t,r){if("diplomatic_scandal"==r[0]){parseInt(r[1]);var n=parseInt(r[2]);return e.game.queue.splice(t,1),e.game.state.votes_available[n-1]-=4,e.game.state.votes_available[n-1]<0&&(e.game.state.votes_available[n-1]=0),1}return 1}}),this.importActionCard("leadership-rider",{name:"Leadership Rider",type:"rider",text:"Bet on agenda outcome to gain two strategy tokens and 1 command token",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.returnActiveAgenda(),i=e.agenda_cards[a].returnAgendaOptions(e),s=e.agenda_cards[a].elect;e.playerSelectChoice("On which choice do you wish to place your Leadership rider?",i,s,(function(t){e.addMove("rider\t"+e.game.player+"\tdiplomacy-rider\t"+i[t]),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" has placed a Leadership Rider on "+i[t]),e.endTurn()}))}return 0},playActionCardEvent:function(e,t,r,n){return e.game.players_info[r-1].strategy_tokens+=2,e.game.players_info[r-1].command_tokens+=1,e.updateLog(e.returnFaction(r)+" gains 2 strategy tokens and 1 command token"),1}}),this.importActionCard("diplomacy-rider",{name:"Diplomacy Rider",type:"rider",text:"Bet on agenda outcome to have others activate system with planet you control",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.returnActiveAgenda(),i=e.agenda_cards[a].returnAgendaOptions(e),s=e.agenda_cards[a].elect;e.playerSelectChoice("On which choice do you wish to place your Diplomacy rider?",i,s,(function(t){e.addMove("rider\t"+e.game.player+"\tdiplomacy-rider\t"+i[t]),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" has placed a Diplomacy Rider on "+i[t]),e.endTurn()}))}return 0},playActionCardEvent:function(e,t,r,n){return r==e.game.player&&e.playerSelectSectorWithFilter("Select a sector with a planet you control to mire in diplomatic conflict: ",(function(t){for(var r=0;r<e.game.sectors[t].planets.length;r++)return e.game.planets[e.game.sectors[t].planets[r]].owner==e.game.player?1:0}),(function(t){for(var n=0;n<e.game.players_info.length;n++)e.addMove("activate\t"+(n+1)+"\t"+t);return e.addMove("NOTIFY\t"+e.returnFactionNickname(r)+" uses Diplomacy Rider to protect "+t),e.endTurn(),0}),null),0}}),this.importActionCard("politics-rider",{name:"Politics Rider",type:"rider",text:"Bet on agenda outcome to gain three action cards and the speaker token",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.returnActiveAgenda(),i=e.agenda_cards[a].returnAgendaOptions(e),s=e.agenda_cards[a].elect;e.playerSelectChoice("On which choice do you wish to place your Politics rider?",i,s,(function(t){e.addMove("rider\t"+e.game.player+"\tpolitics-rider\t"+i[t]),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" has placed a Politics Rider on "+i[t]),e.endTurn()}))}return 0},playActionCardEvent:function(e,t,r,n){if(console.log(JSON.stringify(e.agenda_cards[active_agenda])),e.game.player==r){e.addMove("gain\t"+e.game.player+"\taction_cards\t3"),e.addMove("DEAL\t2\t"+e.game.player+"\t3"),e.addMove("NOTIFY\tdealing two action cards to "+e.returnFactionNickname(e.game.player));for(var a="Make which player the speaker? <ul>",i=0;i<e.game.players_info.length;i++)a+='<li class="textchoice" id="'+i+'">'+factions[e.game.players_info[i].faction].name+"</li>";a+="</ul>",e.updateStatus(a),e.game.player,$(".textchoice").off(),$(".textchoice").on("click",(function(){var t=parseInt($(this).attr("id"))+1;e.addMove("change_speaker\t"+t),e.endTurn()}))}return 0}}),this.importActionCard("construction-rider",{name:"Construction Rider",type:"rider",text:"Bet on agenda outcome to place a space dock on a planet you control",playActionCard:function(e,t,r,n){if(r==e.game.player){var a=e.returnActiveAgenda(),i=e.agenda_cards[a].returnAgendaOptions(e),s=e.agenda_cards[a].elect;e.playerSelectChoice("On which choice do you wish to place the Construction rider?",i,s,(function(t){e.addMove("rider\t"+e.game.player+"\tconstruction-rider\t"+i[t]),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" has placed a Construction Rider on "+i[t]),e.endTurn()}))}return 0},playActionCardEvent:function(e,t,r,n){return r==e.game.player&&e.playerSelectPlanetWithFilter("Select a planet you control without a Space Dock: ",(function(t){return e.game.planets[t].owner==e.game.player&&0==e.doesPlanetHaveSpaceDock(t)?1:0}),(function(t){return e.addMove("produce\t"+e.game.player+"\t1\t"+e.game.planets[t].idx+"\tspacedock\t"+e.game.planets[t].sector),e.addMove("NOTIFY\t"+e.returnFaction(r)+" builds a Space Dock in "+e.game.sectors[e.game.planets[t].sector].name),e.endTurn(),0}),null),0}}),this.importActionCard("trade-rider",{name:"Trade Rider",type:"rider",text:"Bet on agenda outcome to receive 5 trade goods",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.returnActiveAgenda(),i=e.agenda_cards[a].returnAgendaOptions(e),s=e.agenda_cards[a].elect;e.playerSelectChoice("On which choice do you wish to place your Trade rider?",i,s,(function(t){e.addMove("rider\t"+e.game.player+"\ttrade-rider\t"+i[t]),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" has placed a Trade Rider on "+i[t]),e.endTurn()}))}return 0},playActionCardEvent:function(e,t,r,n){return e.game.queue.push("purchase\t"+r+"\tgoods\t5"),e.game.queue.push("NOTIFY\t"+e.returnFaction(r)+" gains 5 Trade Goods through their Trade Rider"),1}}),this.importActionCard("warfare-rider",{name:"Warfare Rider",type:"rider",text:"Bet on agenda outcome to place a dreadnaught in a system with one of your ships: ",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.returnActiveAgenda(),i=e.agenda_cards[a].returnAgendaOptions(e),s=e.agenda_cards[a].elect;e.playerSelectChoice("On which choice do you wish to place your Warfare Rider?",i,s,(function(t){e.addMove("rider\t"+e.game.player+"\twarfare-rider\t"+i[t]),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" has placed a Warfare Rider on "+i[t]),e.endTurn()}))}return 0},playActionCardEvent:function(e,t,r,n){return e.game.player==r&&e.playerSelectSectorWithFilter("Select a sector which contains at least one of your ships: ",(function(t){return e.doesSectorContainPlayerShips(r,t)}),(function(t){return e.addMove("produce\t"+e.game.player+"\t1\t-1\tdreadnaught\t"+t),e.addMove("NOTIFY\tAdding dreadnaught to board"),e.endTurn(),0}),null),0}}),this.importActionCard("technology-rider",{name:"Technology Rider",type:"rider",text:"Bet on agenda outcome to research a technology for free",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.returnActiveAgenda();console.log("Active Agenda: "+a);var i=e.agenda_cards[a].returnAgendaOptions(e),s=e.agenda_cards[a].elect;e.playerSelectChoice("On which choice do you wish to place your Technology rider?",i,s,(function(t){e.addMove("rider\t"+e.game.player+"\ttechnology-rider\t"+i[t]),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" has placed a Technology Rider on "+i[t]),e.endTurn()}))}return 0},playActionCardEvent:function(e,t,r,n){return e.game.player==r&&e.playerResearchTechnology((function(t){e.endTurn()})),0}}),this.importActionCard("imperial-rider",{name:"Imperial Rider",type:"rider",text:"Player gains 1 VP",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.returnActiveAgenda(),i=e.agenda_cards[a].returnAgendaOptions(e),s=e.agenda_cards[a].elect;e.playerSelectChoice("On which choice do you wish to place the Imperial rider?",i,s,(function(t){e.addMove("rider\t"+e.game.player+"\timperial-rider\t"+i[t]),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" has placed an Imperial Rider on "+i[t]),e.endTurn()}))}},playActionCardEvent:function(e,t,r,n){return e.game.players_info[r-1].vp+=1,e.game.players_info[r-1].objectives_scored.push("imperial-rider"),1}}),this.importActionCard("intercept",{name:"Intercept",type:"retreat",text:"After your opponent declares a retreat in space combat, they cannot retreat",playActionCard:function(e,t,r,n){return e.game.players[r-1].temporary_opponent_cannot_retreat=1,1}}),this.importActionCard("courageous-to-the-end",{name:"Courageous to the End",type:"space_combat_after",text:"For one ship lost in last round of space combat, fire twice. With each hit your opponent must destroy a ship of their chosing",playActionCard:function(e,t,r,n){if(e.game.players_info[r-1].my_units_destroyed_last_combat_round.length>0){for(var a=10,i=0;i<e.game.players_info[r-1].my_units_destroyed_last_combat_round[i];i++){var s=e.game.players_info[r-1].my_units_destroyed_last_combat_round[i],o=e.returnUnit(s,t);o.combat<a&&(a=o.combat)}var c=e.rollDice(10),u=e.rollDice(10),l=e.game.state.space_combat_attacker;l==t&&(l=e.game.state.space_combat_defender);var d=0;return c>=a&&d++,u>=a&&d++,e.game.player==r&&(e.addMove("player_destroy_unit\t"+t+"\t"+l+"\t"+d+"\tspace\t"+e.game.state.space_combat_sector+"\t0"),e.endTurn()),0}return 1}}),this.importActionCard("salvage",{name:"Salvage",type:"space_combat_victory",text:"If you win a space combat, opponent gives you all their commodities",playActionCard:function(e,t,r,n){if(t==r){var a=e.game.players_info[e.game.state.space_combat_attacker],i=e.game.players_info[e.game.state.space_combat_defender];return i.commodities>0&&(a.goods+=i.commodities,e.updateLog(e.returnFaction(e.game.state.space_combat_attacker)+" takes "+i.commodities+" in trade goods from commodities lost in combat"),i.commodities=0),1}}}),this.importActionCard("shields-holding1",{name:"Shields Holding",type:"assign_hits",text:"Cancel 2 hits in Space Combat",playActionCard:function(e,t,r,n){return e.game.state.assign_hits_to_cancel+=2,1}}),this.importActionCard("shields-holding2",{name:"Shields Holding",type:"assign_hits",text:"Cancel 2 hits in Space Combat",playActionCard:function(e,t,r,n){return e.game.state.assign_hits_to_cancel+=2,1}}),this.importActionCard("shields-holding3",{name:"Shields Holding",type:"assign_hits",text:"Cancel 2 hits in Space Combat",playActionCard:function(e,t,r,n){return e.game.state.assign_hits_to_cancel+=2,1}}),this.importActionCard("shields-holding4",{name:"Shields Holding",type:"assign_hits",text:"Cancel 2 hits in Space Combat",playActionCard:function(e,t,r,n){return e.game.state.assign_hits_to_cancel+=2,1}}),this.importActionCard("maneuvering-jets1",{name:"Maneuvering Jets",type:"post_pds",text:"Cancel 1 hit from a PDS firing upon your ships",playActionCard:function(e,t,r,n){return e.game.state.assign_hits_to_cancel++,1}}),this.importActionCard("maneuvering-jets2",{name:"Maneuvering Jets",type:"post_pds",text:"Cancel 1 hit from a PDS firing upon your ships",playActionCard:function(e,t,r,n){return e.game.state.assign_hits_to_cancel++,1}}),this.importActionCard("maneuvering-jets3",{name:"Maneuvering Jets",type:"post_pds",text:"Cancel 1 hit from a PDS firing upon your ships",playActionCard:function(e,t,r,n){return e.game.state.assign_hits_to_cancel++,1}}),this.importActionCard("maneuvering-jets4",{name:"Maneuvering Jets",type:"post_pds",text:"Cancel 1 hit from a PDS firing upon your ships",playActionCard:function(e,t,r,n){return e.game.state.assign_hits_to_cancel++,1}}),this.importActionCard("emergency-repairs",{name:"Emergency Repairs",type:"assign_hits",text:"Repair all damaged ships not at full strength",playActionCard:function(e,t,r,n){for(var a=e.returnSectorAndPlanets(e.game.state.space_combat_sector),i=0;i<a.s.units[r-1].length;i++)a.s.units[r-1][i].strength<a.s.units[r-1][i].max_strength&&(a.s.units[r-1][i].strength=a.s.units[r-1][i].max_strength);return 1}}),this.importActionCard("experimental-fighter-prototype",{name:"Experimental Fighter Prototype",type:"space_combat",text:"Your fighters get +2 on their combat rolls for a single round of space combat",playActionCard:function(e,t,r,n){for(var a=e.returnSectorAndPlanets(e.game.state.space_combat_sector),i=0;i<a.s.units[r-1].length;i++){var s=a.s.units[r-1][i];"fighter"==s.type&&(s.temporary_combat_modifier+=2)}return 1}}),this.importActionCard("moral-boost",{name:"Moral Boost",type:"combat",text:"Apply +1 to each of your units' combat rolls during this round of combat",playActionCard:function(e,t,r,n){if(e.game.state.space_combat_sector)for(var a=e.returnSectorAndPlanets(e.game.state.space_combat_sector),s=0;s<a.s.units[r-1].length;s++)a.s.units[r-1][s].temporary_combat_modifier+=1;if(e.game.state.ground_combat_sector&&e.game.state.ground_combat_planet_idx)for(var o=e.returnSectorAndPlanets(e.game.state.space_combat_sector),c=0;i<o.p.length;c++)for(var u=0;u<o.p[c].units[r-1].length;u++)o.p[c].units[r-1][u].temporary_combat_modifier+=1;return 1}}),this.importActionCard("experimental-battlestation",{name:"Experimental Battlestation",type:"pre_pds",text:"After a player moves ships into a sector, a space dock in that or an adjacent sector can fire 3 PDS shots",playActionCard:function(e,t,r,n){e.updateLog("Experimental Battlestation");var a=e.game.state.activated_sector,i=e.returnAdjacentSectors(a);i.push(a);for(var s=0;s<i.length;s++)for(var o=e.returnSectorAndPlanets(i[s]),c=0;c<o.p.length;c++)if(o.p[c].owner==e.game.player&&e.doesPlayerHaveSpaceDockOnPlanet(e.game.player,o.p[c]))return e.game.players_info[r-1].experimental_battlestation=a,1;return 1}}),this.importActionCard("direct-hit1",{name:"Direct Hit",type:"space_combat_after",text:"Destroy a ship that is damaged or not at full strength",playActionCard:function(e,t,r,n){for(var a=e.returnEventObjects(),i=e.returnSectorAndPlanets(e.game.state.space_combat_sector),s=0;s<i.s.units.length;s++)if(s!=r-1)for(var o=0;o<i.s.units[s].length;o++)if(i.s.units[s][o].strength<i.s.units[r-1][o].max_strength){for(var c in i.s.units[s][o].strength=0,i.s.units[s][o].strength=0,a)a[c].unitDestroyed(e,attacker,i.p.units[s][o]);e.eliminateDestroyedUnitsInSector(s+1,sector),e.saveSystemAndPlanets(i),e.updateSectorGraphics(sector),o=i.s.units[s].length+2}return 1}}),this.importActionCard("direct-hit2",{name:"Direct Hit",type:"space_combat_after",text:"Destroy a ship that is damaged or not at full strength",playActionCard:function(e,t,r,n){for(var a=e.returnEventObjects(),i=e.returnSectorAndPlanets(e.game.state.space_combat_sector),s=0;s<i.s.units.length;s++)if(s!=r-1)for(var o=0;o<i.s.units[s].length;o++)if(i.s.units[s][o].strength<i.s.units[r-1][o].max_strength){for(var c in i.s.units[s][o].strength=0,i.s.units[s][o].strength=0,a)a[c].unitDestroyed(e,attacker,i.p.units[s][o]);e.eliminateDestroyedUnitsInSector(s+1,sector),e.saveSystemAndPlanets(i),e.updateSectorGraphics(sector),o=i.s.units[s].length+2}return 1}}),this.importActionCard("direct-hit3",{name:"Direct Hit",type:"space_combat_after",text:"Destroy a ship that is damaged or not at full strength",playActionCard:function(e,t,r,n){for(var a=e.returnEventObjects(),i=e.returnSectorAndPlanets(e.game.state.space_combat_sector),s=0;s<i.s.units.length;s++)if(s!=r-1)for(var o=0;o<i.s.units[s].length;o++)if(i.s.units[s][o].strength<i.s.units[r-1][o].max_strength){for(var c in i.s.units[s][o].strength=0,i.s.units[s][o].strength=0,a)a[c].unitDestroyed(e,attacker,i.p.units[s][o]);e.eliminateDestroyedUnitsInSector(s+1,sector),e.saveSystemAndPlanets(i),e.updateSectorGraphics(sector),o=i.s.units[s].length+2}return 1}}),this.importActionCard("direct-hit4",{name:"Direct Hit",type:"space_combat_after",text:"Destroy a ship that is damaged or not at full strength",playActionCard:function(e,t,r,n){for(var a=e.returnEventObjects(),i=e.returnSectorAndPlanets(e.game.state.space_combat_sector),s=0;s<i.s.units.length;s++)if(s!=r-1)for(var o=0;o<i.s.units[s].length;o++)if(i.s.units[s][o].strength<i.s.units[r-1][o].max_strength){for(var c in i.s.units[s][o].strength=0,i.s.units[s][o].strength=0,a)a[c].unitDestroyed(e,attacker,i.p.units[s][o]);e.eliminateDestroyedUnitsInSector(s+1,sector),e.saveSystemAndPlanets(i),e.updateSectorGraphics(sector),o=i.s.units[s].length+2}return 1}}),this.importActionCard("skilled-retreat1",{name:"Skilled Retreat",type:"space_combat",text:"Retreat into an adjacent system without enemy ships. Space Battle ends tied",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.game.state.space_combat_sector;e.returnAdjacentSectors(a),e.playerSelectSectorWithFilter("Select an adjacent sector without opponent ships into which to retreat: ",(function(t){return e.areSectorsAdjacent(a,t)&&t!=a&&!e.doesSectorContainNonPlayerShips(t)?1:0}),(function(t){e.addMove("skilled_retreat\t"+r+"\t"+t+"\t"+e.game.state.space_combat_sector),e.addMove("NOTIFY\t"+e.returnFaction(r)+" makes skilled retreat into "+e.game.sectors[t].name),e.addMove("activate\t"+r+"\t"+t),e.addMove("activate\t"+r+"\t"+e.game.state.space_combat_sector),e.endTurn()}),(function(){e.addMove("NOTIFY\tno suitable sectors available for skilled retreat"),e.endTurn()}))}return 0},handleGameLoop:function(e,t,r){if("skilled_retreat"==r[0]){var n=parseInt(r[1]),a=r[2],i=r[3];e.game.queue.splice(t,1);for(var s=e.returnSectorAndPlanets(a),o=e.returnSectorAndPlanets(i),c=0;c<o.s.units[n-1].length;c++)s.s.units[n-1].push(o.s.units[n-1][c]);o.s.units[n-1]=[],e.saveSystemAndPlanets(s),e.saveSystemAndPlanets(o);for(var u=e.game.queue.length-1;u>=0;u--)"continue"!==e.game.queue[u].split("\t")[0]?e.game.queue.splice(u,1):u=-1;return e.updateSectorGraphics(o.s.sector),e.updateSectorGraphics(s.s.sector),e.handleFleetSupply(n,a)}return 1}}),this.importActionCard("skilled-retreat2",{name:"Skilled Retreat",type:"space_combat",text:"Retreat into an adjacent system without enemy ships. Space Battle ends tied",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.game.state.space_combat_sector;e.returnAdjacentSectors(a),e.playerSelectSectorWithFilter("Select an adjacent sector without opponent ships into which to retreat: ",(function(t){return e.areSectorsAdjacent(a,t)&&t!=a&&!e.doesSectorContainNonPlayerShips(t)?1:0}),(function(t){e.addMove("skilled_retreat\t"+r+"\t"+t+"\t"+e.game.state.space_combat_sector),e.addMove("NOTIFY\t"+e.returnFaction(r)+" makes skilled retreat into "+e.game.sectors[t].name),e.addMove("activate\t"+r+"\t"+t),e.addMove("activate\t"+r+"\t"+e.game.state.space_combat_sector),e.endTurn()}),(function(){e.addMove("NOTIFY\tno suitable sectors available for skilled retreat"),e.endTurn()}))}return 0}}),this.importActionCard("skilled-retreat3",{name:"Skilled Retreat",type:"space_combat",text:"Retreat into an adjacent system without enemy ships. Space Battle ends tied",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.game.state.space_combat_sector;e.returnAdjacentSectors(a),e.playerSelectSectorWithFilter("Select an adjacent sector without opponent ships into which to retreat: ",(function(t){return e.areSectorsAdjacent(a,t)&&t!=a&&!e.doesSectorContainNonPlayerShips(t)?1:0}),(function(t){e.addMove("skilled_retreat\t"+r+"\t"+t+"\t"+e.game.state.space_combat_sector),e.addMove("NOTIFY\t"+e.returnFaction(r)+" makes skilled retreat into "+e.game.sectors[t].name),e.addMove("activate\t"+r+"\t"+t),e.addMove("activate\t"+r+"\t"+e.game.state.space_combat_sector),e.endTurn()}),(function(){e.addMove("NOTIFY\tno suitable sectors available for skilled retreat"),e.endTurn()}))}return 0}}),this.importActionCard("skilled-retreat4",{name:"Skilled Retreat",type:"space_combat",text:"Retreat into an adjacent system without enemy ships. Space Battle ends tied",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.game.state.space_combat_sector;e.returnAdjacentSectors(a),e.playerSelectSectorWithFilter("Select an adjacent sector without opponent ships into which to retreat: ",(function(t){return e.areSectorsAdjacent(a,t)&&t!=a&&!e.doesSectorContainNonPlayerShips(t)?1:0}),(function(t){e.addMove("skilled_retreat\t"+r+"\t"+t+"\t"+e.game.state.space_combat_sector),e.addMove("NOTIFY\t"+e.returnFaction(r)+" makes skilled retreat into "+e.game.sectors[t].name),e.addMove("activate\t"+r+"\t"+t),e.addMove("activate\t"+r+"\t"+e.game.state.space_combat_sector),e.endTurn()}),(function(){e.addMove("NOTIFY\tno suitable sectors available for skilled retreat"),e.endTurn()}))}return 0}}),this.importActionCard("public-disgrace",{name:"Public Disgrace",type:"activate",text:"Force a player who has already picked a strategy card to select another. They select before you do",playActionCard:function(e,t,r,n){return 0},handleGameLoop:function(e,t,r){if("public_disgrace"==r[0]){var n=parseInt(r[1]),a=parseInt(r[2]),i=r[3];e.game.queue.splice(t,1);for(var s=0;s<e.game.players_info[a-1].strategy.length;s++)e.game.players_info[a-1].strategy[s]==i&&e.game.players_info[a-1].strategy.splice(s,1);return e.game.queue.push("pickstrategy\t"+n),e.game.queue.push("reinsert_strategy_card\t"+i),e.game.queue.push("pickstrategy\t"+a),1}if("reinsert_strategy_card"==r[0]){var o=r[1];return e.game.state.strategy_cards.push(o),e.game.state.strategy_cards_bonus.push(0),1}return 1}})}},{key:"initializeHTML",value:function(e){var t=this,r=this;c(p(y.prototype),"initializeHTML",this).call(this,e);try{this.app.modules.respondTo("chat-manager").forEach((function(r){r.respondTo("chat-manager").render(e,t),r.respondTo("chat-manager").attachEvents(e,t)})),$(".content").css("visibility","visible"),$(".hud_menu_game-status").css("display","none"),this.menu.addMenuOption({text:"Game",id:"game-game",class:"game-game",callback:function(e,t){t.menu.showSubMenu("game-game")}}),this.menu.addSubMenuOption("game-game",{text:"Log",id:"game-log",class:"game-log",callback:function(e,t){t.menu.hideSubMenus(),t.log.toggleLog()}}),this.menu.addSubMenuOption("game-game",{text:"Rules",id:"game-rules",class:"game-rules",callback:function(e,t){t.menu.hideSubMenus(),t.overlay.showOverlay(t.app,t,'\n        <div class="game-overlay-menu" id="game-overlay-menu">\n          <div>Game Rules:</div>\n            <ul style="font-family: \'orbitron-medium\', helvetica">\n              <li class="menu-item" id="basic">Basic Rules</li>\n              <li class="menu-item" id="movement">Moving Units</li>\n              <li class="menu-item" id="production">Producing Units</li>\n              <li class="menu-item" id="combat">Combat</li>\n              <li class="menu-item" id="factions">Factions</li>\n            </ul>\n          </div>\n        '),$(".menu-item").on("click",(function(){switch($(this).attr("id")){case"basic":t.handleHowToPlayMenuItem();break;case"movement":t.overlay.showOverlay(t.app,t,t.returnUnitsOverlay());break;case"production":t.overlay.showOverlay(t.app,t,'<div style="margin-left:auto;margin-right:auto;width:auto;height:90vh"><img src="/imperium/img/tutorials/production.png" style="width:auto; height:90vh;" /></div>');break;case"combat":t.handleCombatMenuItem();break;case"factions":t.handleFactionMenuItem()}}))}}),this.menu.addSubMenuOption("game-game",{text:"Exit",id:"game-exit",class:"game-exit",callback:function(e,t){window.location.href="/arcade"}}),this.menu.addMenuOption({text:"Factions",id:"game-factions",class:"game-factions",callback:function(e,t){t.menu.showSubMenu("game-factions")}});for(var n=function(e){t.menu.addSubMenuOption("game-factions",{text:t.returnFactionNickname(e+1),id:"game-faction-"+(e+1),class:"game-faction-"+(e+1),callback:function(t,r){r.menu.hideSubMenus(),r.displayFactionSheet(e+1)}})},a=0;a<this.game.players.length;a++)n(a);this.menu.addMenuOption({text:"Cards",id:"game-cardlist",class:"game-cardlist",callback:function(e,t){t.menu.showSubMenu("game-cardlist")}}),this.menu.addSubMenuOption("game-cardlist",{text:"Strategy",id:"game-strategy-cardlist",class:"game-strategy-cardlist",callback:function(e,t){t.menu.hideSubMenus(),t.handleStrategyMenuItem()}}),this.menu.addSubMenuOption("game-cardlist",{text:"Action",id:"game-action-cardlist",class:"game-action-cardlist",callback:function(e,t){t.menu.hideSubMenus(),t.overlay.showCardSelectionOverlay(t.app,t,t.returnPlayerActionCards(),{},(function(){alert("cardlist close strategy init menu")}))}}),this.menu.addSubMenuOption("game-cardlist",{text:"Tech",id:"game-tech-cardlist",class:"game-tech-cardlist",callback:function(e,t){t.menu.hideSubMenus();var r=t.returnTechnology(),n=[];for(var a in r)"normal"==r[a].type&&1!=r[a].unit&&n.push(r[a]);t.overlay.showCardSelectionOverlay(t.app,t,n,{backgroundImage:"/imperium/img/starscape-background4.jpg",padding:"50px"},(function(){alert("cardlist close strategy init menu")}))}}),this.menu.addSubMenuOption("game-cardlist",{text:"Units",id:"game-units-cardlist",class:"game-units-cardlist",callback:function(e,t){t.menu.hideSubMenus(),t.overlay.showOverlay(t.app,t,t.returnUnitsOverlay())}}),this.menu.addSubMenuOption("game-cardlist",{text:"Upgrades",id:"game-unit-cardlist",class:"game-unit-cardlist",callback:function(e,t){t.menu.hideSubMenus();var r=t.returnTechnology(),n=[];for(var a in r)"normal"==r[a].type&&1==r[a].unit&&n.push(r[a]);t.overlay.showCardSelectionOverlay(t.app,t,n,{backgroundImage:"/imperium/img/starscape-background4.jpg",padding:"50px"},(function(){alert("cardlist close strategy init menu")}))}}),this.menu.addSubMenuOption("game-cardlist",{text:"Tech Tree",id:"game-tech-dependencies",class:"game-tech-dependencies",callback:function(e,t){t.menu.hideSubMenus(),t.handleTechMenuItem()}}),this.menu.addSubMenuOption("game-cardlist",{text:"Agendas",id:"game-agenda-cardlist",class:"game-agenda-cardlist",callback:function(e,t){t.menu.hideSubMenus();for(var r=[],n=0;n<t.game.state.agendas.length;n++)r.push(t.agenda_cards[t.game.state.agendas[n]]);t.overlay.showCardSelectionOverlay(t.app,t,r,{columns:3,cardlistWidth:"90vw",cardlistHeight:"90vh"},(function(){alert("cardlist close strategy init menu")}))}}),this.menu.addSubMenuOption("game-cardlist",{text:"Laws",id:"game-laws-cardlist",class:"game-laws-cardlist",callback:function(e,t){t.menu.hideSubMenus(),0!=t.game.state.laws.length?t.overlay.showOverlay(t.app,t,t.returnLawsOverlay()):salert("There are currently no Active Laws")}}),this.menu.addSubMenuOption("game-cardlist",{text:"Objectives",id:"game-objectives-cardlist",class:"game-objectives-cardlist",callback:function(e,t){t.menu.hideSubMenus(),t.handleObjectivesMenuItem()}});try{for(var i=0,s=0,o=0;o<this.app.modules.mods.length;o++)if("Chat"===this.app.modules.mods[o].name)for(var u=0;u<this.game.players.length;u++)this.game.players[u]!=this.app.wallet.returnPublicKey()&&function(){var e=[t.game.players[u],t.app.wallet.returnPublicKey()].sort(),n=t.app.crypto.hash(e.join("_")),a=r.returnFaction(u+1),c=r.returnFactionNickname(u+1),l=t.app.modules.mods[o];0==i&&(t.menu.addMenuOption({text:"Chat",id:"game-chat",class:"game-chat",callback:function(e,t){t.menu.showSubMenu("game-chat")}}),i=1),0==s&&(t.menu.addSubMenuOption("game-chat",{text:"Group",id:"game-chat-community",class:"game-chat-community",callback:function(e,t){t.menu.hideSubMenus(),l.sendEvent("chat-render-request",{}),l.mute_community_chat=0,l.openChatBox()}}),s=1),t.menu.addSubMenuOption("game-chat",{text:c,id:"game-chat-"+(u+1),class:"game-chat-"+(u+1),callback:function(t,r){r.menu.hideSubMenus(),l.createChatGroup(e,a),l.openChatBox(n),l.sendEvent("chat-render-request",{}),l.saveChat()}})}()}catch(e){console.log("error initing chat: "+e)}if(0==this.browser_active)return;this.menu.addMenuIcon({text:'<i class="fa fa-window-maximize" aria-hidden="true"></i>',id:"game-menu-fullscreen",callback:function(e,t){e.browser.requestFullscreen()}}),this.menu.render(e,this),this.menu.attachEvents(e,this),this.hud.render(e,this),this.hud.attachEvents(e,this),this.log.render(e,this),this.log.attachEvents(e,this),this.cardbox.render(e,this),this.cardbox.attachEvents(e,this),this.hud.render(e,this),this.hud.attachEvents(e,this);try{e.browser.isMobileBrowser(navigator.userAgent)?(this.hammer.render(this.app,this),this.hammer.attachEvents(this.app,this,"#hexGrid")):(this.sizer.render(this.app,this),this.sizer.attachEvents(this.app,this,"#hexGrid"))}catch(e){}this.hud.addCardType("textchoice","",null)}catch(e){}}},{key:"initializeGame",value:(f=s(regeneratorRuntime.mark((function e(t){var r,n,a,i,s,o,c,u,l,d,h,p,f,m,g,y,b,v,_,w,x,k,S,O,P,E,A,C,T,D,j,M,I,R,B,N,F,q,L,H,U,z,V,G,W,K,Y,X;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.preloadImages(),this.updateStatus("loading game...: "+t),this.loadGame(t),""!=this.game.status&&this.updateStatus(this.game.status),""!=this.game.log&&this.game.log.length>0)for(r=this.game.log.length-1;r>=0;r--)this.updateLog(this.game.log[r]);if(this.totalPlayers=this.game.players.length,this.initializeGameObjects(),n=this.returnHomeworldSectors(this.totalPlayers),a=0,null==this.game.board){for(a=1,this.initializeDice(),this.game.players_info=this.returnPlayers(this.totalPlayers),this.game.state=this.returnState(),this.game.sectors=this.returnSectors(),this.game.planets=this.returnPlanets(),this.game.board={},i=1,s=4;i<=7;i++){for(o=1;o<=s;o++)c=i+"_"+o,this.game.board[c]={tile:""};i<4&&s++,i>=4&&s--}for(u in this.game.strategy_cards=[],this.strategy_cards)this.game.strategy_cards.push(u),this.game.state.strategy_cards_bonus.push(0);if(2==this.totalPlayers){try{$("#1_3").attr("id",""),$("#1_4").attr("id",""),$("#2_4").attr("id",""),$("#2_4").attr("id",""),$("#2_5").attr("id",""),$("#3_1").attr("id",""),$("#4_1").attr("id",""),$("#4_2").attr("id",""),$("#5_1").attr("id",""),$("#5_2").attr("id",""),$("#6_1").attr("id",""),$("#6_2").attr("id",""),$("#6_3").attr("id",""),$("#6_4").attr("id",""),$("#6_5").attr("id",""),$("#7_1").attr("id",""),$("#7_2").attr("id",""),$("#7_3").attr("id",""),$("#7_4").attr("id","")}catch(e){}delete this.game.board["1_3"],delete this.game.board["1_4"],delete this.game.board["2_4"],delete this.game.board["2_5"],delete this.game.board["3_1"],delete this.game.board["4_1"],delete this.game.board["4_2"],delete this.game.board["5_1"],delete this.game.board["5_2"],delete this.game.board["6_1"],delete this.game.board["6_2"],delete this.game.board["6_3"],delete this.game.board["6_4"],delete this.game.board["6_5"],delete this.game.board["7_1"],delete this.game.board["7_2"],delete this.game.board["7_3"],delete this.game.board["7_4"]}if(3==this.totalPlayers){try{$("#1_3").attr("id",""),$("#1_4").attr("id",""),$("#2_4").attr("id",""),$("#2_5").attr("id",""),$("#3_1").attr("id",""),$("#4_1").attr("id",""),$("#4_2").attr("id",""),$("#5_1").attr("id",""),$("#6_4").attr("id",""),$("#6_5").attr("id",""),$("#7_3").attr("id",""),$("#7_4").attr("id","")}catch(e){}delete this.game.board["1_3"],delete this.game.board["1_4"],delete this.game.board["2_4"],delete this.game.board["2_5"],delete this.game.board["3_1"],delete this.game.board["4_1"],delete this.game.board["4_2"],delete this.game.board["5_1"],delete this.game.board["6_4"],delete this.game.board["6_5"],delete this.game.board["7_3"],delete this.game.board["7_4"]}for(h in l=JSON.parse(JSON.stringify(this.returnSectors())),d=[],this.game.board["4_4"].tile="new-byzantium",this.game.board)if("4_4"!=h&&!n.includes(h))for(p=0,f=Object.keys(l);0==p;)m=f[this.rollDice(f.length)-1],1!=this.game.sectors[m].hw&&1!=d.includes(m)&&1!=this.game.sectors[m].mr&&(d.push(m),delete l[m],this.game.board[h].tile=m,p=1);for(g=0;g<this.game.players_info.length;g++)this.game.players_info[g].homeworld=n[g],this.game.board[n[g]].tile=this.factions[this.game.players_info[g].faction].homeworld;for(y=0;y<this.totalPlayers;y++){for(b=this.returnSectorAndPlanets(n[y]),v=0,_=0,I=0;I<b.p.length;I++)b.p[I].owner=y+1,b.p[I].resources>_&&(v=I,_=b.p[I].resources);for(w=0;w<this.factions[this.game.players_info[y].faction].space_units.length;w++)this.addSpaceUnit(y+1,n[y],this.factions[this.game.players_info[y].faction].space_units[w]);for(x=0;x<this.factions[this.game.players_info[y].faction].ground_units.length;x++)this.loadUnitOntoPlanet(y+1,n[y],v,this.factions[this.game.players_info[y].faction].ground_units[x]);for(this.returnTechnology(),k=0;k<this.factions[this.game.players_info[y].faction].tech.length;k++)S=this.factions[this.game.players_info[y].faction].tech[k],this.game.players_info[y].tech.push(S);for(O=0;O<this.factions[this.game.players_info[y].faction].promissary_notes.length;O++)P=this.factions[this.game.players_info[y].faction].id+"-"+this.factions[this.game.players_info[y].faction].promissary_notes[O],this.game.players_info[y].promissary_notes.push(P);this.saveSystemAndPlanets(b)}if(0==this.game.queue.length){for(T in E=this.returnStageIPublicObjectives(),A=this.returnStageIIPublicObjectives(),C=this.returnSecretObjectives(),E)E[T].minPlayers>this.game.players.length&&delete E[T];for(D in A)A[D].minPlayers>this.game.players.length&&delete A[D];for(j in C)C[j].minPlayers>this.game.players.length&&delete C[j];for(this.game.queue.push("turn"),this.game.queue.push("newround"),M=0;M<this.game.players_info.length;M++)this.game.queue.push("gain\t"+(M+1)+"\tsecret_objectives\t1"),this.game.queue.push("DEAL\t6\t"+(M+1)+"\t1");this.game.queue.push("SHUFFLE\t1"),this.game.queue.push("SHUFFLE\t2"),this.game.queue.push("SHUFFLE\t3"),this.game.queue.push("SHUFFLE\t4"),this.game.queue.push("SHUFFLE\t5"),this.game.queue.push("SHUFFLE\t6"),this.game.queue.push("POOL\t3"),this.game.queue.push("POOL\t2"),this.game.queue.push("POOL\t1"),this.game.queue.push("DECK\t1\t"+JSON.stringify(this.returnStrategyCards())),this.game.queue.push("DECK\t2\t"+JSON.stringify(this.returnActionCards())),this.game.queue.push("DECK\t3\t"+JSON.stringify(this.returnAgendaCards())),this.game.queue.push("DECK\t4\t"+JSON.stringify(E)),this.game.queue.push("DECK\t5\t"+JSON.stringify(A)),this.game.queue.push("DECK\t6\t"+JSON.stringify(C))}}for(I=this.returnEventObjects(),R=0;R<I.length;R++)for(B=0;B<this.game.players_info.length;B++)I[R].initialize(this,B+1);if(1==a){for(N=0;N<I.length;N++)for(F=0;F<this.game.players_info.length;F++)for(q=0;q<this.game.players_info[F].tech.length;q++)I[N].gainTechnology(this,F+1,this.game.players_info[F].tech[q]);for(L=0;L<this.game.players_info.length;L++)this.upgradePlayerUnitsOnBoard(L+1)}for(H in this.game.board){if(U=this.game.board[H].tile,(z=this.returnSectorAndPlanets(U)).s.sector=U,z.s.tile=H,null!=z.p)for(V=0;V<z.p.length;V++)z.p[V].sector=U,z.p[V].tile=H,z.p[V].idx=V,z.p[V].hw=z.s.hw,z.p[V].planet=z.s.planets[V],1==z.s.hw&&(z.p[V].hw=1);this.saveSystemAndPlanets(z)}for(this.returnSectorAndPlanets("2_1"),G=0;G<this.game.state.laws.length;G++)(W=this.game.state.laws[G]).agenda,K=W.option,this.agenda_cards[W.agenda]&&this.agenda_cards[W.agenda].initialize(this,K);try{$(".hud-body > .log").remove(),$(".status").css("display","block")}catch(e){}for(Y in this.game.board){X="#"+Y;try{$(X).html('           <div class="hexIn" id="hexIn_'+Y+'">             <div class="hexLink" id="hexLink_'+Y+'">             <div class="hexInfo" id="hex_info_'+Y+'"></div>               <div class="hex_bg" id="hex_bg_'+Y+'">                 <img class="hex_img sector_graphics_background '+this.game.board[Y].tile+'" id="hex_img_'+Y+'" src="" />                 <img src="/imperium/img/frame/border_full_white.png" id="hex_img_faction_border_'+Y+'" class="faction_border" />                 <img src="/imperium/img/frame/border_full_yellow.png" id="hex_img_hazard_border_'+Y+'" class="hazard_border" />                 <div class="hex_activated" id="hex_activated_'+Y+'">               </div>                 <div class="hex_space" id="hex_space_'+Y+'">               </div>                 <div class="hex_ground" id="hex_ground_'+Y+'">               </div>               </div>             </div>           </div>         '),$("#hex_img_"+Y).attr("src",this.game.sectors[this.game.board[Y].tile].img),this.updateSectorGraphics(Y)}catch(e){}}this.updateLeaderboard(),this.game.state.playing_strategy_card_secondary=0,this.addEventsToBoard(),this.addUIEvents();case 22:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"preloadImages",value:(a=s(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=["img/starscape_background1.jpg","img/ships/carrier_100x200.png","img/ships/destroyer_100x200.png","img/ships/dreadnaught_100x200.png","img/ships/fighter_100x200.png","img/ships/pds_100x200.png","img/ships/spacedock_100x200.png","img/ships/cruiser_100x200.png","img/strategy/BUILD.png","img/strategy/DIPLOMACY.png","img/strategy/EMPIRE.png","img/strategy/INITIATIVE.png","img/strategy/MILITARY.png","img/strategy/POLITICS.png","img/strategy/TECH.png","img/strategy/TRADE.png","img/influence/5.png","img/influence/8.png","img/influence/2.png","img/influence/1.png","img/influence/7.png","img/influence/0.png","img/influence/9.png","img/influence/4.png","img/influence/3.png","img/influence/6.png","img/agenda_card_template.png","img/card_template.jpg","img/secret_objective_ii_back.png","img/units/fighter.png","img/units/flagship.png","img/units/spacedock.png","img/units/warsun.png","img/units/dreadnaught.png","img/units/cruiser.png","img/units/infantry.png","img/units/pds.png","img/units/carrier.png","img/units/destroyer.png","img/action_card_back.jpg","img/arcade/arcade-banner-background.png","img/secret_objective2.jpg","img/objective_card_1_template.png","img/techicons/Cyber D.png","img/techicons/Warfare D.png","img/techicons/Warfare L.png","img/techicons/Biotic D.png","img/techicons/Propultion Dark.png","img/techicons/Biotic L.png","img/techicons/Cybernetic D.png","img/techicons/Propultion Light.png","img/techicons/Cybernetic L.png","img/secret_objective_back.png","img/planet_card_template.png","img/secret_objective.jpg","img/arcade_release.jpg","img/tech_card_template.jpg","img/blank_influence_hex.png","img/spaceb2.jpg","img/frame/white_space_frame_1_5.png","img/frame/white_space_frame_4_1.png","img/frame/white_planet_center_1_9.png","img/frame/white_planet_center_3_1.png","img/frame/white_space_frame_full.png","img/frame/white_space_frame_4_9.png","img/frame/white_space_frame_6_3.png","img/frame/white_space_frame_2_4.png","img/frame/white_space_frame_3_2.png","img/frame/white_space_frame_2_2.png","img/frame/white_space_frame_2_3.png","img/frame/white_space_frame_2_6.png","img/frame/white_space_frame_7_4.png","img/frame/white_planet_center_2_5.png","img/frame/white_space_frame_5_8.png","img/frame/white_space_frame_1_4.png","img/frame/white_space_frame_4_4.png","img/frame/white_space_frame_4_7.png","img/frame/white_space_frame_2_1.png","img/frame/white_planet_center_2_1.png","img/frame/white_planet_center_2_9.png","img/frame/white_space_frame_4_3.png","img/frame/border_full_yellow.png","img/frame/white_planet_center.png","img/frame/white_space_frame_3_6.png","img/frame/white_space_frame_7_8.png","img/frame/white_planet_center_3_7.png","img/frame/border_corner_red.png","img/frame/white_space_frame_2_7.png","img/frame/white_space_frame_3_3.png","img/frame/white_space_frame_7_7.png","img/frame/white_planet_center_3_5.png","img/frame/white_planet_right_bottom.png","img/frame/white_space_frame_6_2.png","img/frame/white_planet_left_top.png","img/frame/white_space_frame_5_7.png","img/frame/white_space_frame_2_5.png","img/frame/white_space_frame_1_3.png","img/frame/white_space_frame_4_2.png","img/frame/white_space_frame_3_8.png","img/frame/white_space_frame_2_8.png","img/frame/white_planet_center_1_8.png","img/frame/white_space_frame_3_9.png","img/frame/white_space_frame_3_5.png","img/frame/white_space_frame_4_5.png","img/frame/white_space_frame_5_3.png","img/frame/white_planet_center_2_4.png","img/frame/white_planet_center_2_3.png","img/frame/white_space_frame_1_1.png","img/frame/white_space_frame_1_7.png","img/frame/white_space_frame_7_1.png","img/frame/white_space_frame_7_9.png","img/frame/white_space_frame_5_9.png","img/frame/white_planet_center_2_7.png","img/frame/white_space_frame_6_8.png","img/frame/white_planet_center_3_4.png","img/frame/white_space_frame_3_7.png","img/frame/white_space_frame_6_7.png","img/frame/white_space_frame_6_4.png","img/frame/white_planet_center_2_6.png","img/frame/white_space_warsun.png","img/frame/border_corner_yellow.png","img/frame/white_planet_center_3_9.png","img/frame/white_planet_center_3_3.png","img/frame/white_space_frame_5_6.png","img/frame/white_space_frame_5_2.png","img/frame/border_full_white.png","img/frame/white_planet_center_3_6.png","img/frame/white_space_carrier.png","img/frame/border_full_red.png","img/frame/white_space_flagship.png","img/frame/white_space_destroyer.png","img/frame/white_space_frame_4_6.png","img/frame/white_planet_center_2_2.png","img/frame/white_space_frame_4_8.png","img/frame/white_space_cruiser.png","img/frame/white_space_frame_3_4.png","img/frame/white_planet_center_1_6.png","img/frame/white_planet_center_1_1.png","img/frame/white_space_frame_5_4.png","img/frame/white_space_frame_6_9.png","img/frame/white_space_frame_7_5.png","img/frame/white_planet_center_1_7.png","img/frame/white_space_frame_1_8.png","img/frame/white_space_frame_7_6.png","img/frame/white_planet_center_3_2.png","img/frame/white_planet_center_1_4.png","img/frame/white_space_frame_7_2.png","img/frame/white_space_frame_5_1.png","img/frame/white_space_frame_7_3.png","img/frame/white_space_frame_6_6.png","img/frame/white_space_frame_1_6.png","img/frame/white_planet_center_3_8.png","img/frame/white_space_frame.png","img/frame/white_space_frame_1_9.png","img/frame/white_space_frame_6_5.png","img/frame/white_planet_center_1_2.png","img/frame/white_planet_center_2_8.png","img/frame/white_space_frame_5_5.png","img/frame/white_space_frame_2_9.png","img/frame/white_space_frame_3_1.png","img/frame/white_space_frame_6_1.png","img/frame/white_space_dreadnaught.png","img/frame/white_planet_center_1_3.png","img/frame/white_space_frame_1_2.png","img/frame/white_space_fighter.png","img/frame/white_planet_center_1_5.png","img/sectors/sector13.png","img/sectors/sector71.png","img/sectors/sector6.png","img/sectors/sector35.png","img/sectors/sector66.png","img/sectors/sector9.png","img/sectors/sector20.png","img/sectors/sector25.png","img/sectors/sector39.png","img/sectors/sector23.png","img/sectors/sector11.png","img/sectors/sector69.png","img/sectors/sector4.png","img/sectors/sector53.png","img/sectors/sector60.png","img/sectors/sector10.png","img/sectors/sector28.png","img/sectors/sector2.png","img/sectors/sector43.png","img/sectors/sector27.png","img/sectors/sector72.png","img/sectors/sector55.png","img/sectors/sector49.png","img/sectors/sector50.png","img/sectors/sector65.png","img/sectors/sector58.png","img/sectors/sector29.png","img/sectors/sector44.png","img/sectors/sector41.png","img/sectors/sector19.png","img/sectors/sector1.png","img/sectors/sector73.png","img/sectors/sector40.png","img/sectors/sector52.png","img/sectors/sector42.png","img/sectors/sector59.png","img/sectors/sector57.png","img/sectors/sector3.png","img/sectors/sector18.png","img/sectors/sector32.png","img/sectors/sector22.png","img/sectors/sector63.png","img/sectors/sector38.png","img/sectors/sector70.png","img/sectors/sector16.png","img/sectors/sector14.png","img/sectors/sector54.png","img/sectors/sector62.png","img/sectors/sector8.png","img/sectors/sector36.png","img/sectors/sector48.png","img/sectors/sector17.png","img/sectors/sector33.png","img/sectors/sector26.png","img/sectors/sector56.png","img/sectors/sector61.png","img/sectors/sector15.png","img/sectors/sector34.png","img/sectors/sector51.png","img/sectors/sector12.png","img/sectors/sector7.png","img/sectors/sector5.png","img/sectors/sector21.png","img/sectors/sector30.png","img/sectors/sector31.png","img/sectors/sector24.png","img/sectors/sector47.png","img/sectors/sector68.png","img/sectors/sector67.png","img/sectors/sector64.png","img/sectors/sector45.png","img/sectors/sector46.png","img/blank_resources_hex.png","img/factions/faction2.jpg","img/factions/faction1.jpg","img/factions/faction3.jpg","img/spacebg.png","img/resources/5.png","img/resources/8.png","img/resources/2.png","img/resources/1.png","img/resources/7.png","img/resources/0.png","img/resources/9.png","img/resources/4.png","img/resources/3.png","img/resources/6.png","img/planets/HARKON-CALEDONIA.png","img/planets/KLENCORY.png","img/planets/STARTIDE.png","img/planets/UNSULLA.png","img/planets/GRAVITYS-EDGE.png","img/planets/OLYMPIA.png","img/planets/OTHO.png","img/planets/ARCHION-REX.png","img/planets/KROEBER.png","img/planets/COTILLARD.png","img/planets/INCARTH.png","img/planets/XERXES-IV.png","img/planets/HEARTHSLOUGH.png","img/planets/QUARTIL.png","img/planets/SOUNDRA-IV.png","img/planets/INDUSTRYL.png","img/planets/VIGOR.png","img/planets/CALTHREX.png","img/planets/VESPAR.png","img/planets/HIRAETH.png","img/planets/LAZAKS-CURSE.png","img/planets/CRYSTALIS.png","img/planets/SINGHARTA.png","img/planets/JOL.png","img/planets/NOVA-KLONDIKE.png","img/planets/QUANDAM.png","img/planets/OLD-MOLTOUR.png","img/planets/FIREHOLE.png","img/planets/CONTOURI-I.png","img/planets/CONTOURI-II.png","img/planets/SIRENS-END.png","img/planets/FJORDRA.png","img/planets/LORSTRUCK.png","img/planets/SHRIVA.png","img/planets/EARTH.png","img/planets/HOTH.png","img/planets/KROMER.png","img/planets/VOLUNTRA.png","img/planets/EBERBACH.png","img/planets/NEW-BYZANTIUM.png","img/planets/TROTH.png","img/planets/ARTIZZ.png","img/planets/NEW-JYLANX.png","img/planets/XIAO-ZUOR.png","img/planets/NAR.png","img/planets/GIANTS-DRINK.png","img/planets/GRANTON-MEX.png","img/planets/MIRANDA.png","img/planets/HOPES-LURE.png","img/planets/OUTERANT.png","img/planets/BELVEDYR.png","img/planets/YODERUX.png","img/planets/YSSARI-II.png","img/planets/QUAMDAM.png","img/planets/ZONDOR.png","img/planets/SIGURD.png","img/planets/MECHANEX.png","img/planets/RIFTVIEW.png","img/planets/POPULAX.png","img/planets/GROX-TOWERS.png","img/planets/BREST.png","img/planets/TERRA-CORE.png","img/planets/QUANDOR.png","img/planets/DOMINIC.png","img/planets/LONDRAK.png","img/planets/PESTULON.png","img/planets/NEW-ILLIA.png","img/planets/LEGUIN.png","img/planets/UDON-I.png","img/planets/CITADEL.png","img/planets/UDON-II.png","img/planets/PERTINAX.png","img/planets/ARCHION-TAO.png","img/planets/CRAW-POPULI.png","img/planets/RIFVIEW.png","img/planets/BROUGHTON.png","img/planets/AANDOR.png","img/tech_tree.png","img/action_card_template.png","img/objective_card_2_template.png"],this.preloadImageArray(t,0);case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"preloadImageArray",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[e.length];e&&e.length>r&&(n[r]=new Image,n[r].onload=function(){t.preloadImageArray(e,r+1)},n[r].src="/imperium/"+e[r])}},{key:"respondTo",value:function(e){if(null!=c(p(y.prototype),"respondTo",this).call(this,e))return c(p(y.prototype),"respondTo",this).call(this,e);if("arcade-carousel"==e){var t={background:"/imperium/img/arcade/arcade-banner-background.png",title:"Red Imperium"};return t}return null}},{key:"hideOverlays",value:function(){document.querySelectorAll(".overlay").forEach((function(e){e.classList.add("hidden")}))}},{key:"handleMovementMenuItem",value:function(){this.overlay.showOverlay(this.app,this,this.returnMovementOverlay())}},{key:"handleCombatMenuItem",value:function(){this.overlay.showOverlay(this.app,this,this.returnCombatOverlay())}},{key:"handleFactionMenuItem",value:function(){this.overlay.showOverlay(this.app,this,this.returnFactionOverlay())}},{key:"handleHowToPlayMenuItem",value:function(){this.overlay.showOverlay(this.app,this,this.returnHowToPlayOverlay())}},{key:"handleTechMenuItem",value:function(){this.overlay.showOverlay(this.app,this,this.returnTechOverlay())}},{key:"handleAgendasMenuItem",value:function(){this.overlay.showOverlay(this.app,this,this.returnAgendasOverlay())}},{key:"handleLawsMenuItem",value:function(){this.overlay.showOverlay(this.app,this,this.returnLawsOverlay())}},{key:"handleUnitsMenuItem",value:function(){this.overlay.showOverlay(this.app,this,this.returnUnitsOverlay());var e=this;$("#close-units-btn").on("click",(function(){e.overlay.hideOverlay()}))}},{key:"handleStrategyMenuItem",value:function(){for(var e in this.overlay.showCardSelectionOverlay(this.app,this,this.returnStrategyCards(),{columns:4,backgroundImage:"/imperium/img/starscape_background3.jpg"},(function(){alert("cardlist close strategy init menu")})),this.strategy_cards){for(var t="not picked",r=-1,n=0,a=0;a<this.game.state.strategy_cards.length;a++)e===this.game.state.strategy_cards[a]&&(n=this.game.state.strategy_cards_bonus[a]);var i="";n>0&&(i='<div class="strategy_card_bonus">\n        <i class="fas fa-database white-stroke"></i>\n        <span>'.concat(n,"</span>\n      </div>"),this.app.browser.addElementToDom(i,e)),this.strategy_cards[e];for(var s=0;s<this.game.players_info.length;s++)this.game.players_info[s].strategy.includes(e)&&(t="unplayed",r=s+1,this.game.players_info[s].strategy_cards_played.includes(e)&&(t="played"));card_html="","not picked"!=t&&(card_html+='\n        <div class="strategy_card_state p'.concat(r,'">\n          <div class="strategy_card_state_internal bk">').concat(t,"</div>\n        </div>\n     ")),this.app.browser.addElementToDom(card_html,e)}}},{key:"handleObjectivesMenuItem",value:function(){this.overlay.showOverlay(this.app,this,this.returnObjectivesOverlay())}},{key:"handleInfoMenuItem",value:function(){if(document.querySelector(".gameboard").classList.contains("bi"))for(var e in this.game.sectors)this.removeSectorHighlight(e),document.querySelector(".gameboard").classList.remove("bi");else for(var t in this.game.sectors)this.addSectorHighlight(t),document.querySelector(".gameboard").classList.add("bi")}},{key:"handleSystemsMenuItem",value:function(){var e=this.returnFactions();for(var t in this.activated_systems_player++,this.activated_systems_player>this.game.players_info.length&&(this.activated_systems_player=1),salert("Showing Systems Activated by ".concat(e[this.game.players_info[this.activated_systems_player-1].faction].name)),$(".hex_activated").css("background-color","transparent"),$(".hex_activated").css("opacity","0.3"),this.game.board)if(1==this.game.sectors[this.game.board[t].tile].activated[this.activated_systems_player-1]){var r="#hex_activated_"+t;$(r).css("background-color","var(--p"+this.activated_systems_player+")"),$(r).css("opacity","0.3")}}},{key:"returnTechnology",value:function(){return this.tech}},{key:"importTech",value:function(e,t){null==t.name&&(t.name="Unknown Technology"),null==t.img&&(t.img="/imperium/img/tech_card_template.jpg"),null==t.faction&&(t.faction="all"),null==t.prereqs&&(t.prereqs=[]),null==t.color&&(t.color=""),null==t.type&&(t.type="normal"),null==t.text&&(t.text=""),null==t.unit&&(t.unit=0),null==t.key&&(t.key=e),null==t.returnCardImage&&(t.returnCardImage=function(){for(var e="",r=0;r<t.prereqs.length;r++)"yellow"==t.prereqs[r]&&(e+='<span class="yellow"></span>'),"blue"==t.prereqs[r]&&(e+='<span class="blue"></span>'),"green"==t.prereqs[r]&&(e+='<span class="green"></span>'),"red"==t.prereqs[r]&&(e+='<span class="red"></span>');return'<div id="'.concat(t.key,'" class="tech_').concat(t.color,' tech_card card_nonopaque">\n        <div class="tech_card_name">').concat(t.name,'</div>\n        <div class="tech_card_content">').concat(t.text,'</div>\n        <div class="tech_card_level">').concat(e,"</div>\n      </div>")}),t=this.addEvents(t),this.tech[e]=t}},{key:"doesPlayerHaveTech",value:function(e,t){for(var r=0;r<this.game.players_info[e-1].tech.length;r++)if(this.game.players_info[e-1].tech[r]==t)return 1;return 0}},{key:"returnUnits",value:function(){return this.units}},{key:"importUnit",value:function(e,t){null==t.name&&(t.name="Unknown Unit"),null==t.owner&&(t.owner=-1),null==t.type&&(t.type=""),null==t.storage&&(t.storage=[]),null==t.shots&&(t.shots=1),null==t.space&&(t.space=1),null==t.ground&&(t.ground=0),null==t.cost&&(t.cost=1),null==t.capacity&&(t.capacity=0),null==t.capacity_required&&(t.capacity_required=0),null==t.can_be_stored&&(t.can_be_stored=0),null==t.strength&&(t.strength=0),null==t.max_strength&&(t.max_strength=t.strength),null==t.combat&&(t.combat=0),null==t.destroyed&&(t.destroyed=0),null==t.move&&(t.move=0),null==t.range&&(t.range=0),null==t.last_round_damaged&&(t.last_round_damaged=0),null==t.production&&(t.production=0),null==t.extension&&(t.extension=0),null==t.may_fly_through_sectors_containing_other_ships&&(t.may_fly_through_sectors_containing_other_ships=0),null==t.description&&(t.description=""),null==t.anti_fighter_barrage&&(t.anti_fighter_barrage=0),null==t.anti_fighter_barrage_combat&&(t.anti_fighter_barrage_combat=0),null==t.temporary_combat_modifier&&(t.temporary_combat_modifier=0),null==t.bombardment_rolls&&(t.bombardment_rolls=0),null==t.bombardment_combat&&(t.bombardment_combat=-1),t=this.addEvents(t),this.units[e]=t}},{key:"resetTemporaryModifiers",value:function(e){e.temporary_combat_modifier=0}},{key:"returnUnitsInStorage",value:function(e){for(var t=[],r=0;r<e.storage.length;r++)t.push(e.storage[r]);return t}},{key:"addPlanetaryUnit",value:function(e,t,r,n){return this.loadUnitOntoPlanet(e,t,r,n)}},{key:"addPlanetaryUnitByJSON",value:function(e,t,r,n){return this.loadUnitByJSONOntoPlanet(e,t,r,unitname)}},{key:"addSpaceUnit",value:function(e,t,r){var n=this.returnSectorAndPlanets(t),a=this.returnUnit(r,e);return n.s.units[e-1].push(a),this.saveSystemAndPlanets(n),JSON.stringify(a)}},{key:"addSpaceUnitByJSON",value:function(e,t,r){var n=this.returnSectorAndPlanets(t);return n.s.units[e-1].push(JSON.parse(r)),this.saveSystemAndPlanets(n),r}},{key:"removeSpaceUnit",value:function(e,t,r){for(var n=this.returnSectorAndPlanets(t),a=0;a<n.s.units[e-1].length;a++)if(n.s.units[e-1][a].type===r){var i=n.s.units[e-1].splice(a,1);return this.saveSystemAndPlanets(n),JSON.stringify(i[0])}}},{key:"removeSpaceUnitByJSON",value:function(e,t,r){for(var n=this.returnSectorAndPlanets(t),a=0;a<n.s.units[e-1].length;a++){var i=n.s.units[e-1][a],s=JSON.parse(JSON.stringify(i)),o=JSON.stringify(i),c=JSON.stringify(s);if(1==i.already_moved&&(delete s.already_moved,c=JSON.stringify(s)),o===r||c===r)return n.s.units[e-1].splice(a,1),this.saveSystemAndPlanets(n),r}return""}},{key:"loadUnitOntoPlanet",value:function(e,t,r,n){var a=this.returnSectorAndPlanets(t),i=this.returnUnit(n,e);return a.p[r].units[e-1].push(i),this.saveSystemAndPlanets(a),JSON.stringify(i)}},{key:"loadUnitByJSONOntoPlanet",value:function(e,t,r,n){var a=this.returnSectorAndPlanets(t);return a.p[r].units[e-1].push(JSON.parse(n)),this.saveSystemAndPlanets(a),n}},{key:"loadUnitOntoShip",value:function(e,t,r,n){var a=this.returnSectorAndPlanets(t),i=this.returnUnit(n,e);return a.s.units[e-1][r].storage.push(i),this.saveSystemAndPlanets(a),JSON.stringify(i)}},{key:"loadUnitByJSONOntoShip",value:function(e,t,r,n){var a=this.returnSectorAndPlanets(t);return a.s.units[e-1][r].storage.push(JSON.parse(n)),this.saveSystemAndPlanets(a),n}},{key:"loadUnitOntoShipByJSON",value:function(e,t,r,n){for(var a=this.returnSectorAndPlanets(t),i=0;i<a.s.units[e-1].length;i++)if(JSON.stringify(a.s.units[e-1][i])===r){var s=this.returnUnit(n,e);return a.s.units[e-1][i].storage.push(s),this.saveSystemAndPlanets(a),JSON.stringify(s)}return""}},{key:"loadUnitByJSONOntoShipByJSON",value:function(e,t,r,n){for(var a=this.returnSectorAndPlanets(t),i=0;i<a.s.units[e-1].length;i++)if(JSON.stringify(a.s.units[e-1][i])===r)return a.s.units[e-1][i].storage.push(JSON.parse(n)),this.saveSystemAndPlanets(a),n;return""}},{key:"loadUnitFromShip",value:function(e,t,r,n){for(var a=this.returnSectorAndPlanets(t),i=0;i<a.s.units[e-1][r].storage.length;i++)if(a.s.units[e-1][r].storage[i].type===n){var s=a.s.units[e-1][r].storage[i];return a.s.units[e-1][r].storage.splice(i,1),this.saveSystemAndPlanets(a),JSON.stringify(s)}return""}},{key:"unloadUnitFromPlanet",value:function(e,t,r,n){var a=this.returnSectorAndPlanets(t);if(a.p.length>r)for(var i=0;i<a.p[r].units[e-1].length;i++)if(a.p[r].units[e-1][i].type===n){var s=a.p[r].units[e-1][i];return a.p[r].units[e-1].splice(i,1),this.saveSystemAndPlanets(a),JSON.stringify(s)}return""}},{key:"unloadUnitByJSONFromPlanet",value:function(e,t,r,n){for(var a=this.returnSectorAndPlanets(t),i=0;i<a.p[r].units[e-1].length;i++)if(JSON.stringify(a.p[r].units[e-1][i])===n){var s=a.p[r].units[e-1][i];return a.p[r].units[e-1].splice(i,1),this.saveSystemAndPlanets(a),JSON.stringify(s)}return""}},{key:"unloadUnitFromShip",value:function(e,t,r,n){var a=this.returnSectorAndPlanets(t);console.log("unloading 1 "+n+" from ship...");for(var i=0;i<a.s.units[e-1][r].storage.length;i++)if(a.s.units[e-1][r].storage[i].type===n){console.log("found an appropriate unit.");var s=JSON.stringify(a.s.units[e-1][r].storage[i]);return a.s.units[e-1][r].storage.splice(i,1),this.saveSystemAndPlanets(a),s}return console.log("did not find unit..."),""}},{key:"unloadUnitByJSONFromShip",value:function(e,t,r,n){var a=this.returnSectorAndPlanets(t);console.log("unloading 1 unit from ship... 2");for(var i=0;i<a.s.units[e-1][r].storage.length;i++)if(JSON.stringify(a.s.units[e-1][r].storage[i])===n)return console.log("found appropriate unit."),a.s.units[e-1][r].storage.splice(i,1),this.saveSystemAndPlanets(a),n;return console.log("did not find appropriate unit."),""}},{key:"unloadUnitFromShipByJSON",value:function(e,t,r,n){for(var a=this.returnSectorAndPlanets(t),i=0;i<a.s.units[e-1].length;i++)if(JSON.stringify(a.s.units[e-1][i])===r)for(var s=0;s<a.s.units[e-1][i].storage.length;s++)if(a.s.units[e-1][i].storage[s].type===n)return a.s.units[e-1][i].storage.splice(s,1),this.saveSystemAndPlanets(a),unitjson;return""}},{key:"unloadUnitByJSONFromShipByJSON",value:function(e,t,r,n){for(var a=this.returnSectorAndPlanets(t),i=0;i<a.s.units[e-1].length;i++)if(JSON.stringify(a.s.units[e-1][i])===r)for(var s=0;s<a.s.units[e-1][i].storage.length;s++)if(JSON.stringify(a.s.units[e-1][i].storage[s])===n)return a.s.units[e-1][i].storage.splice(s,1),this.saveSystemAndPlanets(a),n;return""}},{key:"unloadStoredShipsIntoSector",value:function(e,t){for(var r=this.returnSectorAndPlanets(t),n=0;n<r.s.units[e-1].length;n++)if("{}"!=JSON.stringify(r.s.units[e-1][n]))for(var a=0;a<r.s.units[e-1][n].storage.length;a++){var i=r.s.units[e-1][n].storage[a];JSON.stringify(i),"fighter"===i.type&&(r.s.units[e-1].push(i),r.s.units[e-1][n].storage.splice(a,1),a--)}else r.s.units[e-1].splice(n,1),n--;this.updateSectorGraphics(t),this.saveSystemAndPlanets(r)}},{key:"returnRemainingCapacity",value:function(e){for(var t=e.capacity,r=0;r<e.storage.length;r++)0!=e.storage[r].can_be_stored&&(t-=e.storage[r].capacity_required);return t<=0?0:t}},{key:"returnPDSWithinRange",value:function(e,t,r,n){this.returnEventObjects();for(var a=[],i=0;i<r.length;i++){for(var s=this.returnSectorAndPlanets(r[i]),o=0;o<this.game.players_info.length;o++)if(this.game.players_info[o].experimental_battlestation===r[i]){var c={};c.range=this.returnUnit("pds",o+1).range,c.combat=this.returnUnit("pds",o+1).combat,c.owner=o+1,c.sector=r[i],c.unit=this.returnUnit("pds",o+1),a.push(c);var u={};u.range=this.returnUnit("pds",o+1).range,u.combat=this.returnUnit("pds",o+1).combat,u.owner=o+1,u.sector=r[i],u.unit=this.returnUnit("pds",o+1),a.push(u);var l={};l.range=this.returnUnit("pds",o+1).range,l.combat=this.returnUnit("pds",o+1).combat,l.owner=o+1,l.sector=r[i],l.unit=this.returnUnit("pds",o+1),a.push(l)}if(null!=s)for(var d=0;d<s.p.length;d++)for(var h=0;h<s.p[d].units.length;h++)if(h!=e-1)for(var p=0;p<s.p[d].units[h].length;p++)if("pds"==s.p[d].units[h][p].type&&s.p[d].units[h][p].range>=n[i]){var f={};f.range=s.p[d].units[h][p].range,f.combat=s.p[d].units[h][p].combat,f.owner=h+1,f.sector=r[i],f.unit=s.p[d].units[h][p],a.push(f)}}return a}},{key:"returnShipsMovableToDestinationFromSectors",value:function(e,t,r,n,a){for(var i=[],s=0;s<t.length;s++){var o=this.returnSectorAndPlanets(t[s]);if(null!=o){var c={ships:[],ship_idxs:[],sector:null};if(c.distance=r[s],c.adjusted_distance=[],c.hazards=[],0==o.s.activated[this.game.player-1]){for(var u=0;u<o.s.units[this.game.player-1].length;u++){var l=o.s.units[this.game.player-1][u];l.move>=r[s]&&(-1==a[s]&&1!=l.may_fly_through_sectors_containing_other_ships||(c.adjusted_distance.push(r[s]),c.ships.push(l),c.hazards.push(n[s]),c.ship_idxs.push(u),c.sector=t[s]))}if(null!=c.sector){if("rift"===n[s])for(var d=0;d<t.length;d++)s!=d&&t[s]==t[d]&&r[d]<=r[s]&&"rift"!==n[d]&&(c.hazards[d]=n[d]);for(var h=1,p=0;p<i.length;p++)if(i[p].sector==c.sector){h=0;for(var f=0;f<c.ship_idxs.length;f++){for(var m=1,g=0;g<i[p].ship_idxs.length;g++)i[p].ship_idxs[g]==c.ship_idxs[f]&&(m=0,""===c.hazards[f]&&(i[p].hazards[g]=""));1==m&&(i[p].adjusted_distance.push(c.adjusted_distance[f]),i[p].ships.push(c.ships[f]),i[p].hazards.push(c.hazards[f]),i[p].ship_idxs.push(c.ship_idxs[f]))}}1==h&&i.push(c)}}}}return i}},{key:"returnNumberOfSpaceFleetInSector",value:function(e,t){for(var r=this.returnSectorAndPlanets(t),n=0,a=0;a<r.s.units[e-1].length;a++)r.s.units[e-1][a].strength>0&&0==r.s.units[e-1][a].destroyed&&n++;return n}},{key:"returnNumberOfGroundForcesOnPlanet",value:function(e,t,r){if(-1==e)return 0;for(var n=this.returnSectorAndPlanets(t),a=0,i=0;i<n.p[r].units[e-1].length;i++)n.p[r].units[e-1][i].strength>0&&0==n.p[r].units[e-1][i].destroyed&&"infantry"===n.p[r].units[e-1][i].type&&0==n.p[r].units[e-1][i].destroyed&&a++;return a}},{key:"returnUnitCost",value:function(e,t){var r=this.returnUnit(e,t);return r.cost>0?r.cost:1}},{key:"repairUnits",value:function(){for(var e in this.game.board)if(null!=this.game.board[e]){var t=this.returnSectorAndPlanets(e);if(t.s)for(var r=0;r<t.s.units.length;r++)for(var n=0;n<t.s.units[r].length;n++)t.s.units[r][n].max_strenth>t.s.units[r][n].strength&&(t.s.units[r][n].strength=t.s.units[r][n].max_strength);if(t.p)for(var a=0;a<t.p.length;a++)for(var i=0;i<t.p[a].units;i++)for(var s=0;s<t.p[a].units[i].length;s++)t.p[a].units[i][s].max_strenth>t.p[a].units[i][s].strength&&(t.p[a].units[i][s].strength=t.p[a].units[i][s].max_strength);this.saveSystemAndPlanets(t)}}},{key:"returnUnit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=JSON.parse(JSON.stringify(this.units[e]));return n.owner=t,1==r&&(n=this.upgradeUnit(n,t)),n}},{key:"upgradePlayerUnitsOnBoard",value:function(e){for(var t in this.game.sectors)for(var r=0;r<this.game.sectors[t].units[e-1].length;r++)this.game.sectors[t].units[e-1][r]=this.upgradeUnit(this.game.sectors[t].units[e-1][r],e);for(var t in this.game.planets)for(var n=0;n<this.game.planets[t].units[e-1].length;n++)this.game.planets[t].units[e-1][n]=this.upgradeUnit(this.game.planets[t].units[e-1][n],e)}},{key:"upgradeUnit",value:function(e,t){var r=this.returnEventObjects(),n=e.storage;for(var a in r)e=r[a].upgradeUnit(this,t,e);return e.storage=n,e}},{key:"doesSectorContainPlayerShips",value:function(e,t){var r=this.returnSectorAndPlanets(t);return r&&r.s.units[e-1].length>0?1:0}},{key:"doesSectorContainPlayerUnits",value:function(e,t){var r=this.returnSectorAndPlanets(t);if(!r)return 0;if(r.s.units[e-1].length>0)return 1;for(var n=0;n<r.p.length;n++)if(r.p[n].units[e-1].length>0)return 1;return 0}},{key:"returnSecretObjectives",value:function(){return this.secret_objectives}},{key:"importSecretObjective",value:function(e,t){null==t.name&&(t.name="Unknown Objective"),null==t.text&&(t.type="Unclear Objective"),null==t.minPlayers&&(t.minPlayers=2),null==t.type&&(t.type="normal"),null==t.phase&&(t.type="imperial"),null==t.img&&(t.img="/imperium/img/secret_objective_1.png"),null==t.vp&&(t.vp=1),null==t.returnCardImage&&(t.returnCardImage=function(){return'\n\t  <div class="objectives_overlay_objectives_card" style="background-image: url('.concat(t.img,')">\n            <div class="objectives_card_name">').concat(t.name,'</div>\n              <div class="objectives_card_content">\n                ').concat(t.text,'\n              <div class="objectives_secret_notice">secret</div>\n            </div>\n\t  </div>\n\t')}),t=this.addEvents(t),this.secret_objectives[e]=t}},{key:"returnStageIPublicObjectives",value:function(){return this.stage_i_objectives}},{key:"importStageIPublicObjective",value:function(e,t){null==t.name&&(t.name="Unknown Objective"),null==t.text&&(t.type="Unclear Objective"),null==t.type&&(t.type="normal"),null==t.img&&(t.img="/imperium/img/victory_point_1.png"),null==t.vp&&(t.vp=1),null==t.returnCardImage&&(t.returnCardImage=function(){return'\n          <div class="objectives_overlay_objectives_card" style="background-image: url('.concat(t.img,')">\n            <div class="objectives_card_name">').concat(t.name,'</div>\n            <div class="objectives_card_content">').concat(t.text,"</div>\n          </div>\n        ")}),t=this.addEvents(t),this.stage_i_objectives[e]=t}},{key:"returnStageIIPublicObjectives",value:function(){return this.stage_ii_objectives}},{key:"importStageIIPublicObjective",value:function(e,t){null==t.name&&(t.name="Unknown Objective"),null==t.text&&(t.type="Unclear Objective"),null==t.type&&(t.type="normal"),null==t.img&&(t.img="/imperium/img/objective_card_1_template.png"),null==t.vp&&(t.vp=2),null==t.returnCardImage&&(t.returnCardImage=function(){return'\n          <div class="objectives_overlay_objectives_card" style="background-image: url('.concat(t.img,')">\n            <div class="objectives_card_name">').concat(t.name,'</div>\n            <div class="objectives_card_content">').concat(t.text,"</div>\n          </div>\n        ")}),t=this.addEvents(t),this.stage_ii_objectives[e]=t}},{key:"returnPromissaryNotes",value:function(){return this.promissary_notes}},{key:"importPromissary",value:function(e,t){null==t.name&&(t.name="Unknown Promissary"),null==t.text&&(t.text="Unknown Promissary"),t=this.addEvents(t),this.promissary_notes[e]=t}},{key:"returnPromissaryPlayer",value:function(e){for(var t=e.split("-"),r=0;r<this.game.players_info.length;r++)if(this.game.players_info[r].faction===t[0])return r+1;return-1}},{key:"returnFactions",value:function(){return this.factions}},{key:"importFaction",value:function(e,t){null==t.id&&(t.id="faction"),null==t.name&&(t.name="Unknown Faction"),null==t.nickname&&(t.nickname=t.name),null==t.homeworld&&(t.homeworld="sector32"),null==t.space_units&&(t.space_units=[]),null==t.ground_units&&(t.ground_units=[]),null==t.action_cards&&(t.action_cards=[]),null==t.objectives&&(t.objectives=[]),null==t.ground_units&&(t.ground_units=[]),null==t.tech&&(t.tech=[]),null==t.intro&&(t.intro='\n        <div style="font-weight:bold">The Republic has fallen!</div>\n        <div style="margin-top:10px">\n\tAs the Galactic Senate collapses into factional squabbling, the ascendant powers on the outer rim plot to seize New Byzantium...</div>\n        <div style="margin-top:10px">\n\tTake the lead by moving your fleet to capture New Byzantium, or establish a power-base to displace the leader and impose your will on your peers.\n \t</div>\n    '),t=this.addEvents(t),this.factions[e]=t}},{key:"returnAgendaCards",value:function(){return this.agenda_cards}},{key:"importAgendaCard",value:function(e,t){null==t.name&&(t.name="Unknown Agenda"),null==t.type&&(t.type="Law"),null==t.text&&(t.text="Unknown Document"),null==t.img&&(t.img="/imperium/img/agenda_card_template.png"),null==t.elect&&(t.elect="other"),null==t.returnCardImage&&(t.returnCardImage=function(){return'\n  \t  <div style="background-image: url(\'/imperium/img/agenda_card_template.png\');" class="overlay_agendacard card option" id="'.concat(e,'">\n\t    <div class="overlay_agendatitle">').concat(t.name,'</div>\n\t    <div class="overlay_agendacontent">').concat(t.text,"</div>\n\t  </div>\n        ")}),t=this.addEvents(t),this.agenda_cards[e]=t}},{key:"returnActionCards",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0==e.length)return this.action_cards;var t={};for(var r in this.action_cards)e.includes(this.action_cards[r].type)&&(t[r]=this.action_cards[r]);return t}},{key:"importActionCard",value:function(e,t){null==t.name&&(t.name="Action Card"),null==t.type&&(t.type="instant"),null==t.text&&(t.text="Unknown Action"),null==t.img&&(t.img="/imperium/img/action_card_template.png"),null==t.returnCardImage&&(t.returnCardImage=function(){return'\n          <div class="action_card" id="'.concat(e,'" style="background-image: url(').concat(t.img,');background-size:cover;">\n            <div class="action_card_title">').concat(t.name,'</div>\n            <div class="action_card_text">').concat(t.text,"</div>\n          </div>\n        ")}),t=this.addEvents(t),this.action_cards[e]=t}},{key:"handleGameLoop",value:function(){var e=this,t=this,r=t.returnEventObjects();if(this.game.queue.length>0){t.saveGame(t.game.id);var n=this.game.queue.length-1,a=this.game.queue[n].split("\t"),s=1;if("gameover"===a[0])return 1==t.browser_active&&salert("Game Over"),t.game.over=1,void t.saveGame(t.game.id);if("exhaust_at_round_start"===a[0])return a[1],this.game.queue.splice(n,1),0;if("setvar"===a[0]){var o=a[1],c=parseInt(a[2]),u=a[3],l=a[4],d=a[5];return"int"==l&&(d=parseInt(d)),"state"==o&&(t.game.state[u]=d),"players"==o&&(t.game.players_info[c-1][u]=d),this.game.queue.splice(n,1),1}if("resolve"===a[0]){var h=this.game.queue.length-2,p=[];if(h>=0&&(p=this.game.queue[h].split("\t")),"play"===a[1]&&"resolve"===p[0]&&"play"===p[1])return this.game.queue.splice(n,1),1;if(null!=p[1]&&"tokenallocation"===p[1]&&null!=p[2]&&p[2]===this.app.wallet.returnPublicKey()&&(this.playing_token_allocation=0),"strategy"===a[1]&&a[3]&&a[3]===this.app.wallet.returnPublicKey()&&(this.game.state.playing_strategy_card_secondary=0),0==this.game.state.playing_strategy_card_secondary&&0==this.playing_token_allocation&&this.updateStatus("Waiting for Opponent Move..."),a[1]==p[0]){if(null!=a[2]){if(null==this.game.confirms_received||null==this.game.confirms_received){if(-1==a[2])return this.resetConfirmsNeeded(0),this.game.queue.splice(this.game.queue.length-1),this.game.queue.splice(this.game.queue.length-1),1;this.resetConfirmsNeeded(this.game.players_info.length)}for(var f=0;f<this.game.players.length;f++)this.game.players[f]===a[3]&&(this.setPlayerInactive(f+1),this.game.confirms_players.includes(a[3])||(this.game.confirms_received+=parseInt(a[2]),this.game.confirms_players.push(a[3])));for(var m=[],g=0;g<this.game.players.length;g++)m.push(this.game.players[g]);for(var y=0;y<this.game.confirms_players.length;y++)for(var b=0;b<m.length;b++)m[b]===this.game.confirms_players[y]&&m.splice(b,1);for(var v="Players still to move: <ul>",_=0,w=0;w<m.length;w++)for(var x=0;x<this.game.players.length;x++)this.game.players[x]===m[w]&&(this.game.players[x]===this.app.wallet.returnPublicKey()&&(_=1),v+='<li class="option">'+this.returnFaction(x+1)+"</li>");if(v+="</ul>",0==_&&this.updateStatus(v),this.game.confirms_needed<=this.game.confirms_received)return this.resetConfirmsNeeded(0),this.game.queue.splice(n-1,2),1;if(this.game.queue.splice(n,1),null!=a[3]){if(!this.game.confirms_players.includes(this.app.wallet.returnPublicKey()))return 1;if("agenda"==a[1])return 1}return this.game.confirms_needed<this.game.confirms_received?1:0}return this.game.queue.splice(n-1,2),1}this.game.queue.splice(n,1);for(var k=h,S=1;k>=0&&1==S;k--){var O=this.game.queue[k].split("\t");O.length>0&&O[0]===a[1]&&(this.game.queue.splice(k),S=0)}}if("rider"===a[0]){var P={};return P.player=a[1],P.rider=a[2],P.choice=a[3],this.game.state.riders.push(P),this.game.queue.splice(n,1),1}if("research"===a[0]){var E=parseInt(a[1]);return this.game.queue.splice(n,1),this.setPlayerActiveOnly(E),t.game.player==E?t.playerResearchTechnology((function(e){t.addMove("purchase\t"+t.game.player+"\ttech\t"+e),t.addMove("NOTIFY\t"+t.returnFaction(t.game.player)+" researches "+t.tech[e].name),t.endTurn()})):t.updateStatus(t.returnFaction(E)+" is researching technology..."),0}if("preloader"===a[0]){try{this.app.browser.addElementToDom('\n\t\t  <div class="background_loader" style="display:none">\n\t\t    <img src="/imperium/img/starscape_background1.jpg" style="width:10px;height:10px" />\n\t\t    <img src="/imperium/img/ships/carrier_100x200.png" style="width:10px;height:10px" />\n\t\t    <img src="/imperium/img/ships/destroyer_100x200.png" style="width:10px;height:10px" />\n\t\t    <img src="/imperium/img/ships/dreadnaught_100x200.png" style="width:10px;height:10px" />\n\t\t    <img src="/imperium/img/ships/fighter_100x200.png" style="width:10px;height:10px" />\n\t\t    <img src="/imperium/img/ships/infantry_100x200.png" style="width:10px;height:10px" />\n\t\t    <img src="/imperium/img/strategy/BUILD.png" style="width:10px;height:10px" />\n\t\t    <img src="/imperium/img/strategy/DIPLOMACY.png" style="width:10px;height:10px" />\n\t\t    <img src="/imperium/img/strategy/EMPIRE.png" style="width:10px;height:10px" />\n\t\t    <img src="/imperium/img/strategy/INITIATIVE.png" style="width:10px;height:10px" />\n\t\t    <img src="/imperium/img/strategy/MILITARY.png" style="width:10px;height:10px" />\n\t\t    <img src="/imperium/img/strategy/POLITICS.png" style="width:10px;height:10px" />\n\t\t    <img src="/imperium/img/strategy/TECH.png" style="width:10px;height:10px" />\n\t\t    <img src="/imperium/img/strategy/TRADE.png" style="width:10px;height:10px" />\n\t\t  </div>\n\t  ')}catch(e){}return this.preloadImages(),this.game.queue.splice(n,1),1}if("announce_retreat"===a[0]){var A=parseInt(a[1]),C=parseInt(a[2]),T=a[3],D=a[4];this.game.queue.splice(n,1);for(var j=this.game.queue.length-1;j>=0;j--){var M=this.game.queue[j].split("\t")[0];"space_combat_end"===M&&this.game.queue.splice(j+1,0,"retreat\t"+A+"\t"+C+"\t"+T+"\t"+D)}return this.updateStatus(this.returnFactionNickname(A)+" announces a retreat"),this.game.player===C?this.playerRespondToRetreat(A,C,T,D):this.updateStatus(this.returnFaction(C)+" responding to "+this.returnFaction(A)+" retreat"),0}if("retreat"===a[0]){var I=parseInt(a[1]),R=parseInt(a[2]),B=a[3],N=a[4];if(this.game.queue.splice(n,1),1==this.game.state.retreat_cancelled||1==this.game.players_info[R-1].temporary_opponent_cannot_retreat||1==this.game.players_info[R-1].permanent_opponent_cannot_retreat)return this.updateLog("With retreat impossible, the fleets turns to battle..."),1;for(var F=this.returnSectorAndPlanets(B),q=this.returnSectorAndPlanets(N),L=0;L<F.s.units[I-1].length;L++)q.s.units[I-1].push(F.s.units[I-1][L]);return F.s.units[I-1]=[],q.s.activated[I-1]=1,this.saveSystemAndPlanets(q),this.saveSystemAndPlanets(F),this.updateSectorGraphics(B),this.updateSectorGraphics(N),t.updateLog(this.returnFactionNickname(I)+" retreats to "+q.s.name),1}if("repair"===a[0]){var H=parseInt(a[1]),U=a[2],z=a[3],V=parseInt(a[4]),G=parseInt(a[5]),W=this.returnSectorAndPlanets(z);return"space"==U?W.s.units[H-1][G].strength=W.s.units[H-1][G].max_strength:W.p[V].units[H-1][G].strength=W.p[V].units[H-1][G].max_strength,this.game.queue.splice(n,1),1}if("check_fleet_supply"===a[0]){var K=parseInt(a[1]),Y=a[2];return this.game.queue.splice(n,1),this.handleFleetSupply(K,Y)}if("continue"===a[0]){var X=a[1],J=a[2];return 0==this.handleFleetSupply(X,J)||(this.setPlayerActiveOnly(X),this.game.queue.splice(n,1),this.updateSectorGraphics(J),this.game.player==X?this.playerContinueTurn(X,J):this.updateStatus(this.returnFaction(X)+" has moved into "+this.game.sectors[this.game.board[J].tile].name)),0}if("post_production"===a[0]){console.log("----------------------------"),console.log("---------- X X X -----------"),console.log("----------------------------");var Q=a[1],Z=a[2],ee=a[3],te=this.returnEventObjects();this.game.queue.splice(n,1);for(var re=this.returnSpeakerOrder(),ne=0;ne<re.length;ne++)for(var ae=0;ae<te.length;ae++)te[ae].postProduction(t,Q,Z,ee);return 1}if("produce"===a[0]){var ie=a[1],se=(parseInt(a[2]),parseInt(a[3])),oe=a[4],ce=a[5],ue=this.returnSectorAndPlanets(ce);-1!=se?(this.addPlanetaryUnit(ie,ce,se,oe),this.updateLog(this.returnFactionNickname(ie)+" produces "+this.returnUnit(oe,ie).name+" on "+ue.p[se].name,120,1)):(this.addSpaceUnit(ie,ce,oe),this.updateLog(this.returnFactionNickname(ie)+" produces "+this.returnUnit(oe,ie).name+" in "+ue.s.name,120,1)),this.saveSystemAndPlanets(ue),this.updateSectorGraphics(ce),this.game.queue.splice(n,1);for(var le=1,de=0;de<this.game.queue.length;de++){var he=this.game.queue[de],pe=he.split("\t");"produce"==pe[0]&&parseInt(pe[1])==ie&&(le=0)}return 1==le?this.handleFleetSupply(ie,ce):1}if("play"===a[0]){this.updateTokenDisplay(),this.updateLeaderboard();var fe=a[1],me=0;this.game.state.active_player_turn==fe?me=1:this.game.state.active_player_has_produced=0,1==parseInt(a[2])&&(me=1),this.game.state.active_player_turn=fe,this.setPlayerActiveOnly(fe);try{document.documentElement.style.setProperty("--playing-color","var(--p".concat(fe,")"))}catch(e){}if(fe==this.game.player){0==me&&(this.game.tracker=this.returnPlayerTurnTracker(),this.resetTurnVariables(fe));var ge=this.returnPlayerActionCards(this.game.player),ye=ge.length-this.game.players_info[this.game.player-1].action_card_limit;if(ye>0)return this.playerDiscardActionCards(ye),0;this.playerTurn()}else this.addEventsToBoard(),this.updateStatus('<div><div class="player_color_box player_color_'+fe+'"></div>'+this.returnFaction(parseInt(fe))+" is taking their turn.</div>");return 0}if("strategy"===a[0]){this.updateLeaderboard(),this.updateTokenDisplay();var be=a[1],ve=parseInt(a[2]),_e=parseInt(a[3]);if(1==this.game.state.playing_strategy_card_secondary){if(this.game.confirms_players.includes(this.app.wallet.returnPublicKey())||this.game.tmp_confirms_players.includes(this.app.wallet.returnPublicKey()))return 0;if(1==this.lock_interface)return 0}return-1!=ve?t.game.players_info[ve-1].strategy_cards_played.includes(be)||t.game.players_info[ve-1].strategy_cards_played.push(be):t.game.players_info[t.game.player-1].strategy_cards_played.includes(be)||t.game.players_info[t.game.player-1].strategy_cards_played.push(be),1==_e?(this.updateLog(this.returnFactionNickname(ve)+" plays "+this.strategy_cards[be].name),this.updateStatus(this.returnFaction(ve)+" is playing "+this.strategy_cards[be].name),this.playStrategyCardPrimary(ve,be),0):2==_e?(this.updateStatus("All factions have the opportunity to play "+this.strategy_cards[be].name),this.game.state.playing_strategy_card_secondary=1,this.playStrategyCardSecondary(ve,be),0):3==_e?(this.updateStatus("All factions have the opportunity to play "+this.strategy_cards[be].name),this.game.state.playing_strategy_card_secondary=1,this.playStrategyCardTertiary(ve,be),0):0}if("strategy_card_before"===a[0]){var we=a[1],xe=parseInt(a[2]),ke=this.returnEventObjects();this.game.queue.splice(n,1);for(var Se=this.returnSpeakerOrder(),Oe=0;Oe<Se.length;Oe++)for(var Pe=0;Pe<ke.length;Pe++)1==ke[Pe].strategyCardBeforeTriggers(this,Oe+1,xe,we)&&this.game.queue.push("strategy_card_before_event\t"+we+"\t"+Se[Oe]+"\t"+xe+"\t"+Pe);return 1}if("strategy_card_before_event"===a[0]){var Ee=a[1],Ae=parseInt(a[2]),Ce=parseInt(a[3]),Te=parseInt(a[4]),De=this.returnEventObjects();return this.game.queue.splice(n,1),De[Te].strategyCardBeforeEvent(this,Ae,Ce,Ee)}if("strategy_card_after"===a[0]){var je=a[1],Me=parseInt(a[2]),Ie=this.returnEventObjects();this.game.queue.splice(n,1);for(var Re=this.returnSpeakerOrder(),Be=0;Be<Re.length;Be++)for(var Ne=0;Ne<Ie.length;Ne++)1==Ie[Ne].strategyCardAfterTriggers(this,Re[Be],Me,je)&&this.game.queue.push("strategy_card_after_event\t"+je+"\t"+Re[Be]+"\t"+Me+"\t"+Ne);return 1}if("strategy_card_after_event"===a[0]){var Fe=a[1],qe=parseInt(a[2]),Le=parseInt(a[3]),He=parseInt(a[4]),Ue=this.returnEventObjects();return this.game.queue.splice(n,1),Ue[He].strategyCardAfterEvent(this,qe,Le,Fe)}if("playerschoosestrategycards_before"===a[0]){var ze=a[1],Ve=(parseInt(a[2]),parseInt(a[3]),this.returnEventObjects());this.game.queue.splice(n,1);for(var Ge=this.returnSpeakerFirstOrder(),We=0;We<Ge.length;We++)for(var Ke=0;Ke<Ve.length;Ke++)1==Ve[Ke].playersChooseStrategyCardsBeforeTriggers(this,We+1,Ge[We],ze)&&this.game.queue.push("playerschoosestrategycards_before_event\t"+Ge[We]+"\t"+Ke);return 1}if("playerschoosestrategycards_before_event"===a[0]){var Ye=parseInt(a[1]),Xe=parseInt(a[2]),Je=this.returnEventObjects();return this.game.queue.splice(n,1),Je[Xe].playersChooseStrategyCardsBeforeEvent(this,Ye)}if("playerschoosestrategycards_after"===a[0]){var Qe=a[1],Ze=(parseInt(a[2]),parseInt(a[3]),this.returnEventObjects());this.game.queue.splice(n,1);for(var $e=this.returnSpeakerOrder(),et=0;et<$e.length;et++)for(var tt=0;tt<Ze.length;tt++)1==Ze[tt].playersChooseStrategyCardsAfterTriggers(this,et+1,$e[et],Qe)&&this.game.queue.push("playerschoosestrategycards_after_event\t"+$e[et]+"\t"+tt);return 1}if("strategy_card_after_event"===a[0]){var rt=parseInt(a[1]),nt=parseInt(a[2]),at=this.returnEventObjects();return at[nt].playersChooseStrategyCardsAfterEvent(this,rt)}if("turn"===a[0]){this.game.state.turn++,this.game.state.active_player_moved=0,this.game.state.active_player_turn=-1;for(var it=1,st=0;st<this.game.players_info.length;st++)0==this.game.players_info[st].passed&&(it=0);return 1==it?(this.game.queue.push("newround"),this.game.queue.push("setinitiativeorder")):this.game.queue.push("setinitiativeorder"),this.updateLeaderboard(),1}if("discard"===a[0]){a[1];var ot=a[2],ct=a[3];if(this.game.queue.splice(n,1),"agenda"==ot)for(var ut=0;ut<this.game.state.agendas.length;ut++)this.game.state.agendas[ut]==ct&&(this.game.state.agendas.splice(ut,1),ut--);return 1}if("quash"===a[0]){var lt=parseInt(a[1]),dt=parseInt(a[2]);if(this.game.queue.splice(n,1),this.game.state.agendas.splice(lt,1),1==dt){this.game.queue.push("revealagendas\t1");for(var ht=1;ht<=this.game.players_info.length;ht++)this.game.queue.push("FLIPCARD\t3\t1\t1\t"+ht)}return 1}if("resolve_agenda"===a[0]){this.returnAgendaCards();var pt=a[1],ft="",mt=[];this.game.queue.splice(n,1);for(var gt=0;gt<this.game.state.choices.length;gt++)mt.push(0);for(var yt=0;yt<this.game.players.length;yt++)mt[this.game.state.how_voted_on_agenda[yt]]+=this.game.state.votes_cast[yt];if("speaker"===a[2])for(var bt=a[3],vt=0;vt<this.game.state.choices.length;vt++)this.game.state.choices[vt]===bt&&(mt[vt]+=1);for(var _t=-1,wt=0;wt<mt.length;wt++)if(mt[wt]>_t&&(_t=mt[wt]),mt[wt]>0){var xt=0,kt=0,St=0;"planet"==this.agenda_cards[pt].elect&&(xt=1,this.updateLog("Agenda Outcome: "+this.game.planets[this.game.state.choices[wt]].name+" receives "+mt[wt]+" votes")),"player"==this.agenda_cards[pt].elect&&(kt=1,"Unknown"!==this.returnFactionNickname(this.game.state.choices[wt])?this.updateLog("Agenda Outcome: "+this.returnFactionNickname(this.game.state.choices[wt])+" receives "+mt[wt]+" votes"):this.updateLog("Agenda Outcome: "+this.game.state.choices[wt]+" receives "+mt[wt]+" votes")),"sector"==this.agenda_cards[pt].elect&&(St=1,this.updateLog("Agenda Outcome: "+this.game.sectors[this.game.state.choices[wt]].name+" receives "+mt[wt]+" votes")),0==St&&0==kt&&0==xt&&this.updateLog("Agenda Outcome: "+this.game.state.choices[wt]+" receives "+mt[wt]+" votes")}for(var Ot=0,Pt=[],Et=0;Et<mt.length;Et++)mt[Et]==_t&&(Ot++,Pt.push(this.game.state.choices[Et]));if(Ot>1)return this.game.player==this.game.state.speaker&&t.playerResolveDeadlockedAgenda(pt,Pt),0;if(1==Pt.length&&(ft=Pt[0]),1==Ot){t.agenda_cards[pt].onPass(t,ft);for(var At=0;At<this.game.state.riders.length;At++){var Ct=this.game.state.riders[At];Ct.choice!==ft&&Ct.choice!==this.game.state.choices[ft]||this.game.queue.push("execute_rider\t"+Ct.player+"\t"+Ct.rider)}}this.game.queue.push("ACKNOWLEDGE\tThe Galactic Senate has settled on '"+this.returnNameFromIndex(ft)+"'");var Tt=this.game.queue[n-1].split("\t");return"strategy"===Tt[0]&&this.game.queue.splice(n-1,1),1}if("execute_rider"==a[0]){var Dt=parseInt(a[1]),jt=a[2];return this.game.queue.splice(n,1),this.action_cards[jt].playActionCardEvent(this,this.game.player,Dt,jt)}if("vote"==a[0]){var Mt=this.returnAgendaCards(),It=a[1],Rt=parseInt(a[2]),Bt=a[3],Nt=parseInt(a[4]);if(this.game.state.votes_cast[Rt-1]=Nt,this.game.state.votes_available[Rt-1]-=Nt,this.game.state.voted_on_agenda[Rt-1][this.game.state.voting_on_agenda]=1,this.game.state.how_voted_on_agenda[Rt-1]=Bt,"abstain"==Bt)this.updateLog(this.returnFactionNickname(Rt)+" abstains");else{var Ft=0,qt=0,Lt=0,Ht=this.game.state.choices[parseInt(Bt)];"player"===Mt[It].elect&&(Ft=1),"planet"===Mt[It].elect&&(qt=1),"sector"===Mt[It].elect&&(Lt=1),0!=Ht.indexOf("planet")&&0!=Ht.indexOf("new-byzantium")||(qt=1),0==Ht.indexOf("sector")&&(Lt=1),1==qt&&this.updateLog(this.returnFactionNickname(Rt)+" votes "+Nt+" on "+this.game.planets[this.game.state.choices[Bt]].name),1==Lt&&this.updateLog(this.returnFactionNickname(Rt)+" votes "+Nt+" on "+this.game.sectors[this.game.state.choices[Bt]].name),1==Ft&&this.updateLog(this.returnFactionNickname(Rt)+" votes "+Nt+" on "+this.game.state.choices[Bt]),0==qt&&0==Lt&&0==Ft&&this.updateLog(this.returnFactionNickname(Rt)+" votes "+Nt+" on "+this.game.state.choices[Bt])}for(var Ut=0,zt=0;zt<this.game.players.length;zt++)0!=this.game.state.voted_on_agenda[zt][this.game.state.voted_on_agenda.length-1]&&Ut++;if(Ut==this.game.players.length){for(var Vt=[],Gt=0;Gt<this.game.state.choices.length;Gt++)Vt.push(0);for(var Wt=0;Wt<this.game.players.length;Wt++)Vt[this.game.state.how_voted_on_agenda[Wt]]+=this.game.state.votes_cast[Wt];for(var Kt=-1,Yt=0;Yt<Vt.length;Yt++)Vt[Yt]>Kt&&(Kt=Vt[Yt]),Vt[Yt]>0&&this.updateLog(this.game.state.choices[Yt]+" receives "+Vt[Yt]+" votes");for(var Xt=0;Xt<Vt.length;Xt++)Vt[Xt]}return this.game.queue.splice(n,1),1}if("agenda"==a[0]){t.returnAgendaCards();var Jt=a[1],Qt=parseInt(a[2]);this.agenda_cards[Jt].name,this.game.state.voting_on_agenda=Qt,this.displayFactionDashboard(1);for(var Zt=0,$t=this.returnSpeakerOrder(),er=0;er<$t.length;er++)0==this.game.state.voted_on_agenda[$t[er]-1][Qt]&&(Zt=$t[er],er=this.game.players_info.length);if(this.setPlayerActiveOnly(Zt),this.game.player!=Zt){var tr='<div class="agenda_instructions">The following agenda has advanced for consideration in the Galactic Senate:</div>';tr+='<div class="agenda_name">'+t.agenda_cards[Jt].name+"</div>",tr+='<div class="agenda_text">',tr+=t.agenda_cards[Jt].text,tr+="</div>",tr+='<div class="agenda_status">'+this.returnFaction(Zt)+" is now voting.</div>",this.updateStatus(tr)}else{if(t.doesPlayerHaveRider(this.game.player))return t.addMove("resolve\tagenda\t1\t"+t.app.wallet.returnPublicKey()),t.addMove("vote\t"+Jt+"\t"+t.game.player+"\tabstain\t0"),t.endTurn(),0;var rr=0,nr='<div class="agenda_instructions">The following agenda has advanced for consideration in the Galactic Senate:</div>';nr+='<div class="agenda_name">'+t.agenda_cards[Jt].name+"</div>",nr+='<div class="agenda_text">',nr+=t.agenda_cards[Jt].text,nr+="</div><ul>";for(var ar=0;ar<this.game.state.choices.length&&this.game.state.votes_available[t.game.player-1]>0;ar++){var ir=this.game.state.choices[ar];0==ir.indexOf("planet")&&(ir=this.game.planets[ir].name),0==ir.indexOf("sector")&&(ir=this.game.sectors[ir].sector),0==ir.indexOf("new-byzantium")&&(ir="New Byzantium"),nr+='<li class="option" id="'+ar+'">'+ir+"</li>"}nr+='<li class="option" id="abstain">abstain</li></ul></p>',t.updateStatus(nr),$(".option").off(),$(".option").on("mouseenter",(function(){var e=$(this).attr("id");"abstain"!==e&&(0==t.game.state.choices[e].indexOf("planet")&&(rr=1),0!=t.game.state.choices[e].indexOf("sector")&&t.game.state.choices[e].indexOf("new-byzantium"),1==rr&&(t.showPlanetCard(t.game.planets[t.game.state.choices[e]].tile,t.game.planets[t.game.state.choices[e]].idx),t.showSectorHighlight(t.game.planets[t.game.state.choices[e]].tile)))})),$(".option").on("mouseleave",(function(){var e=$(this).attr("id");"abstain"!==e&&(0==t.game.state.choices[e].indexOf("planet")&&(rr=1),0!=t.game.state.choices[e].indexOf("sector")&&t.game.state.choices[e].indexOf("new-byzantium"),1==rr&&(t.hidePlanetCard(t.game.planets[t.game.state.choices[e]].tile,t.game.planets[t.game.state.choices[e]].idx),t.hideSectorHighlight(t.game.planets[t.game.state.choices[e]].tile)))})),$(".option").on("click",(function(){var e=$(this).attr("id"),r=0;if(1==rr&&"abstain"!=e&&(t.hidePlanetCard(t.game.planets[t.game.state.choices[e]].tile,t.game.planets[t.game.state.choices[e]].idx),t.hideSectorHighlight(t.game.planets[t.game.state.choices[e]].tile)),"abstain"==e)return t.addMove("resolve\tagenda\t1\t"+t.app.wallet.returnPublicKey()),t.addMove("vote\t"+Jt+"\t"+t.game.player+"\t"+e+"\t"+r),t.endTurn(),0;for(var n='<p style="margin-bottom:15px">Your voting strength is determined by your influence. Conquer more influence-rich planets to increase it. How many votes do you wish to cast in the Galactic Senate:</p>',a=1;a<=t.game.state.votes_available[t.game.player-1];a++)n+=1==a?'<li class="option textchoice" id="'+a+'">'+a+" vote</li>":'<li class="option textchoice" id="'+a+'">'+a+" votes</li>";t.updateStatus(n),$(".option").off(),$(".option").on("click",(function(){return r=$(this).attr("id"),t.addMove("resolve\tagenda\t1\t"+t.app.wallet.returnPublicKey()),t.addMove("vote\t"+Jt+"\t"+t.game.player+"\t"+e+"\t"+r),t.endTurn(),0}))}))}return 0}if("simultaneous_agenda"==a[0]){t.returnAgendaCards();var sr=a[1],or=parseInt(a[2]);this.agenda_cards[sr].name,this.game.state.voting_on_agenda=or,this.displayFactionDashboard(1);for(var cr=1,ur=0;ur<this.game.players_info.length;ur++)0==this.game.state.voted_on_agenda[ur][or]&&(cr=0);if(1==cr)return this.game.queue.splice(n,1),1;if(1==this.game.state.voted_on_agenda[this.game.player-1][or]){var lr='<div class="agenda_instructions">Waiting for Voting Results:</div>';lr+='<div class="agenda_name">'+t.agenda_cards[sr].name+"</div>",lr+='<div class="agenda_text">',lr+=t.agenda_cards[sr].text,lr+="</div>",this.updateStatus(lr)}else{if(t.doesPlayerHaveRider(this.game.player))return t.addMove("resolve\tagenda\t1\t"+t.app.wallet.returnPublicKey()),t.addMove("vote\t"+sr+"\t"+t.game.player+"\tabstain\t0"),t.endTurn(),0;var dr=0,hr='<div class="agenda_instructions">The following agenda has advanced for consideration in the Galactic Senate:</div>';hr+='<div class="agenda_name">'+t.agenda_cards[sr].name+"</div>",hr+='<div class="agenda_text">',hr+=t.agenda_cards[sr].text,hr+="</div><ul>";for(var pr=0;pr<this.game.state.choices.length&&this.game.state.votes_available[t.game.player-1]>0;pr++){var fr=this.game.state.choices[pr];0==fr.indexOf("planet")&&(fr=this.game.planets[fr].name),0==fr.indexOf("sector")&&(fr=this.game.sectors[fr].sector),0==fr.indexOf("new-byzantium")&&(fr="New Byzantium"),hr+='<li class="option" id="'+pr+'">'+fr+"</li>"}hr+='<li class="option" id="abstain">abstain</li></ul></p>',t.updateStatus(hr),$(".option").off(),$(".option").on("mouseenter",(function(){var e=$(this).attr("id");"abstain"!==e&&(0==t.game.state.choices[e].indexOf("planet")&&(dr=1),0!=t.game.state.choices[e].indexOf("sector")&&t.game.state.choices[e].indexOf("new-byzantium"),1==dr&&(t.showPlanetCard(t.game.planets[t.game.state.choices[e]].tile,t.game.planets[t.game.state.choices[e]].idx),t.showSectorHighlight(t.game.planets[t.game.state.choices[e]].tile)))})),$(".option").on("mouseleave",(function(){var e=$(this).attr("id");"abstain"!==e&&(0==t.game.state.choices[e].indexOf("planet")&&(dr=1),0!=t.game.state.choices[e].indexOf("sector")&&t.game.state.choices[e].indexOf("new-byzantium"),1==dr&&(t.hidePlanetCard(t.game.planets[t.game.state.choices[e]].tile,t.game.planets[t.game.state.choices[e]].idx),t.hideSectorHighlight(t.game.planets[t.game.state.choices[e]].tile)))})),$(".option").on("click",(function(){var e=$(this).attr("id"),r=0;if(1==dr&&"abstain"!=e&&(t.hidePlanetCard(t.game.planets[t.game.state.choices[e]].tile,t.game.planets[t.game.state.choices[e]].idx),t.hideSectorHighlight(t.game.planets[t.game.state.choices[e]].tile)),"abstain"==e)return t.addMove("resolve\tagenda\t1\t"+t.app.wallet.returnPublicKey()),t.addMove("vote\t"+sr+"\t"+t.game.player+"\t"+e+"\t"+r),t.endTurn(),0;for(var n='<p style="margin-bottom:15px">Your voting strength is determined by your influence. Conquer more influence-rich planets to increase it. How many votes do you wish to cast in the Galactic Senate:</p>',a=1;a<=t.game.state.votes_available[t.game.player-1];a++)n+=1==a?'<li class="option textchoice" id="'+a+'">'+a+" vote</li>":'<li class="option textchoice" id="'+a+'">'+a+" votes</li>";t.updateStatus(n),$(".option").off(),$(".option").on("click",(function(){return r=$(this).attr("id"),t.addMove("resolve\tagenda\t1\t"+t.app.wallet.returnPublicKey()),t.addMove("vote\t"+sr+"\t"+t.game.player+"\t"+e+"\t"+r),t.endTurn(),0}))}))}return 0}if("change_speaker"==a[0])return this.game.state.speaker=parseInt(a[1]),this.displayFactionDashboard(),this.game.queue.splice(n,1),1;if("setinitiativeorder"==a[0]){var mr=this.returnInitiativeOrder();this.game.queue.push("resolve\tsetinitiativeorder");for(var gr=mr.length-1;gr>=0;gr--)0==this.game.players_info[mr[gr]-1].passed&&this.game.queue.push("play\t"+mr[gr]);return 1}if("resetconfirmsneeded"==a[0]){var yr=1;return parseInt(a[1])>1&&(yr=parseInt(a[1])),this.resetConfirmsNeeded(yr),this.game.queue.splice(n,1),1}if("tokenallocation"==a[0]){if(1==this.playing_token_allocation)return;return this.playing_token_allocation=1,parseInt(a[2])?this.playerAllocateNewTokens(parseInt(a[1]),parseInt(a[2]),1,3):this.playerAllocateNewTokens(this.game.player,this.game.players_info[this.game.player-1].new_tokens_per_round+this.game.players_info[this.game.player-1].new_token_bonus_when_issued,1,3),0}if("newround"===a[0]){if(this.game.state.turn=0,this.game.state.end_round_scoring=1,this.game.state.round>=1&&0==this.game.state.round_scoring)return-1!=this.game.planets["new-byzantium"].owner&&(this.game.queue.push("strategy\tpolitics\t"+this.game.state.speaker+"\t3\t1"),this.game.queue.push("ACKNOWLEDGE\tThe Galactic Senate has been re-established on New Byzantium, voting commences on the recent round of proposals")),this.game.queue.push("strategy\timperial\t-1\t3\t1"),this.game.state.playing_strategy_card_secondary=0,this.game.queue.push("resetconfirmsneeded\t"+t.game.players_info.length),this.game.queue.push("ACKNOWLEDGE\tAs the Imperial card was not played in the previous round, all players now have an opportunity to score Victory Points (in initiative order)"),this.game.state.round_scoring=0,1;this.game.state.round_scoring=0,this.game.state.playing_strategy_card_secondary=0,this.game.state.end_round_scoring=0;for(var br=this.returnInitiativeOrder(),vr=0;vr<br.length;vr++)if(this.game.players_info[vr].vp>=this.game.state.vp_target)return this.updateStatus("Game Over: "+this.returnFaction(vr)+" has reached "+this.game.state.vp_target+" VP"),this.updateLog("Game Over: "+this.returnFactionNickname(vr)+" has reached "+this.game.state.vp_target+" VP"),0;var _r=this.returnEventObjects();for(var wr in _r)for(var xr=0;xr<this.game.players_info.length;xr++)_r[wr].onNewRound(this,xr+1);this.game.queue.push("resolve\tnewround"),this.game.state.round++,this.updateLog("ROUND: "+this.game.state.round),this.updateStatus("Moving into Round "+this.game.state.round+"<p></p> Please be patient as we deal cards securely...");for(var kr=0;kr<this.game.players_info.length;kr++)if(this.game.players_info[kr].must_exhaust_at_round_start.length>0)for(var Sr=0;Sr<this.game.players_info[kr].must_exhaust_at_round_start.length;Sr++)this.game.queue.push("must_exhaust_at_round_start\t"+(kr+1)+"\t"+this.game.players_info[kr].must_exhaust_at_round_start[Sr]);for(var Or=0;Or<this.game.players_info.length;Or++)for(var Pr in this.game.planets)this.game.planets[Pr].exhausted=0;for(var Er=0;Er<this.game.players_info.length;Er++)this.game.players_info[Er].passed=0,this.game.players_info[Er].strategy_cards_played=[],this.game.players_info[Er].strategy=[],this.game.players_info[Er].must_exhaust_at_round_start=[],this.game.players_info[Er].objectives_scored_this_round=[];if(this.repairUnits(),this.game.queue.push("setinitiativeorder"),this.game.queue.push("playerschoosestrategycards_after"),this.game.queue.push("playerschoosestrategycards"),this.game.queue.push("playerschoosestrategycards_before"),1==this.game.state.round?this.game.queue.push("ACKNOWLEDGE\tNEXT: all players must select a strategy card. If you are new to Red Imperium, consider taking Leadership, Politics, or Technology. They are simple but valuable cards!"):this.game.queue.push("ACKNOWLEDGE\tNEXT: all players select their strategy card(s) for Round ".concat(this.game.state.round,".")),1==this.game.state.round){var Ar=this.game.players_info[this.game.player-1].faction;this.game.queue.push("shownewobjectives"),this.game.queue.push("ACKNOWLEDGE\t"+this.factions[Ar].intro)}else this.game.queue.push("shownewobjectives");if(1==this.game.initializing?this.game.queue.push("READY"):(this.game.queue.push("tokenallocation\t"+this.game.players_info.length),this.playing_token_allocation=0,this.game.queue.push("resetconfirmsneeded\t"+this.game.players_info.length)),this.game.state.round>1)for(var Cr=1;Cr<=this.game.players_info.length;Cr++)this.game.queue.push("gain\t"+Cr+"\taction_cards\t"+(this.game.players_info[Cr-1].action_cards_per_round+this.game.players_info[Cr-1].action_cards_bonus_when_issued)),this.game.queue.push("DEAL\t2\t"+Cr+"\t"+(this.game.players_info[Cr-1].action_cards_per_round+this.game.players_info[Cr-1].action_cards_bonus_when_issued));this.game.queue.push("revealagendas");for(var Tr=1;Tr<=this.game.players_info.length;Tr++)this.game.queue.push("FLIPCARD\t3\t3\t1\t"+Tr);if(this.deactivateSectors(),this.unhighlightSectors(),1==this.game.state.round){this.game.queue.push("revealobjectives");for(var Dr=1;Dr<=this.game.players_info.length;Dr++)this.game.queue.push("FLIPCARD\t4\t1\t2\t"+Dr)}else{if(this.game.state.round<4){this.game.queue.push("revealobjectives");for(var jr=1;jr<=this.game.players_info.length;jr++)this.game.queue.push("FLIPCARD\t4\t1\t2\t"+jr)}if(this.game.state.round>=4){this.game.queue.push("revealobjectives");for(var Mr=1;Mr<=this.game.players_info.length;Mr++)this.game.queue.push("FLIPCARD\t5\t1\t3\t"+Mr)}}return 1}if("revealagendas"===a[0]){var Ir=a[1];for(Ir||(this.game.state.agendas=[],this.game.state.agendas_voting_information=[]),i=0;i<this.game.pool[0].hand.length;i++)this.game.state.agendas.push(this.game.pool[0].hand[i]),this.game.state.agendas_voting_information.push({});return this.game.pool=[],this.updateLeaderboard(),this.game.queue.splice(n,1),1}if("shownewobjectives"===a[0]){for(var Rr=this,Br="Your Objectives",Nr="check objectives, strategy cards and more in the CARDS menu...",Fr=[],qr=0;qr<this.game.state.new_objectives.length;qr++)"secret"==this.game.state.new_objectives[qr].type&&Fr.push(this.secret_objectives[this.game.state.new_objectives[qr].card]),"stage1"==this.game.state.new_objectives[qr].type&&Fr.push(this.stage_i_objectives[this.game.state.new_objectives[qr].card]),"stage2"==this.game.state.new_objectives[qr].type&&Fr.push(this.stage_ii_objectives[this.game.state.new_objectives[qr].card]);return this.game.state.round>1&&(Br="New Objectives",Nr="view all public and secret objectives in the CARDS menu..."),this.overlay.showCardSelectionOverlay(this.app,this,Fr,{title:Br,subtitle:Nr,columns:Fr.length,backgroundImage:"/imperium/img/starscape_background1.jpg",padding:"20px",textAlign:"center",onContinue:function(){if(Rr.overlay.hideOverlay(),-1!=Rr.game.planets["new-byzantium"].owner){for(var e=[],t=Rr.returnAgendaCards(),r=0;r<Rr.game.state.agendas.length;r++)e.push(t[Rr.game.state.agendas[r]]);Rr.overlay.showCardSelectionOverlay(Rr.app,Rr,e,{title:"New Agendas",subtitle:"check active agendas, strategy cards and more in the CARDS menu",columns:e.length,backgroundImage:"/imperium/img/starscape_background1.jpg",padding:"20px",textAlign:"center",onClose:function(){Rr.overlay.hideOverlay()}},(function(){Rr.overlay.hideOverlay()}))}}},(function(){})),this.game.queue.splice(n,1),1}if("revealobjectives"===a[0]){if(this.game.state.new_objectives=[],this.game.deck.length>5)for(i=0;i<this.game.deck[5].hand.length;i++)this.game.state.secret_objectives.includes(this.game.deck[5].hand[i])||(this.game.state.secret_objectives.push(this.game.deck[5].hand[i]),this.game.state.new_objectives.push({type:"secret",card:this.game.deck[5].hand[i]}));if(this.game.pool.length>1)for(i=0;i<this.game.pool[1].hand.length;i++)this.game.state.stage_i_objectives.includes(this.game.pool[1].hand[i])||(this.game.state.stage_i_objectives.push(this.game.pool[1].hand[i]),this.game.state.new_objectives.push({type:"stage1",card:this.game.pool[1].hand[i]}));if(this.game.pool.length>2)for(i=0;i<this.game.pool[2].hand.length;i++)this.game.state.stage_ii_objectives.includes(this.game.pool[2].hand[i])||(this.game.state.stage_ii_objectives.push(this.game.pool[2].hand[i]),this.game.state.new_objectives.push({type:"stage2",card:this.game.pool[2].hand[i]}));return this.game.queue.splice(n,1),1}if("is_testing"===a[0]){if(1==this.game.state.round)for(var Lr=this.returnStageIPublicObjectives(),Hr=this.returnStageIIPublicObjectives(),Ur=this.returnSecretObjectives(),zr=0;zr<this.game.players_info.length;zr++){for(var Vr=0;Vr<this.factions[this.game.players_info[zr].faction].action_cards.length;Vr++)this.game.player==zr+1&&this.game.deck[1].hand.push(this.factions[this.game.players_info[zr].faction].action_cards[Vr]);for(var Gr=0;Gr<this.factions[this.game.players_info[zr].faction].objectives.length;Gr++)if(this.game.player==zr+1){var Wr=this.factions[this.game.players_info[zr].faction].objectives[Gr];Lr[Wr]&&(this.game.pool[1].hand.push(Wr),this.game.state.stage_i_objectives.push(Wr),this.game.state.new_objectives.push({type:"stage1",card:Wr})),Hr[Wr]&&(this.game.pool[2].hand.push(Wr),this.game.state.stage_ii_objectives.push(Wr),this.game.state.new_objectives.push({type:"stage2",card:Wr})),Ur[Wr]&&(this.game.deck[5].hand.push(Wr),this.game.state.secret_objectives.push(Wr),this.game.state.new_objectives.push({type:"secret",card:Wr}))}}return this.game.queue.splice(n,1),1}if("score"===a[0]){var Kr=parseInt(a[1]),Yr=parseInt(a[2]),Xr=a[3],Jr=Xr,Qr="";return"cancel"==Xr?(this.game.queue.splice(n,1),1):(null!=this.secret_objectives[Xr]&&(Jr=this.secret_objectives[Xr].name,Qr=this.secret_objectives[Xr].text),null!=this.stage_i_objectives[Xr]&&(Jr=this.stage_i_objectives[Xr].name,Qr=this.stage_i_objectives[Xr].text),null!=this.stage_ii_objectives[Xr]&&(Jr=this.stage_ii_objectives[Xr].name,Qr=this.stage_ii_objectives[Xr].text),""==Qr?this.updateLog(this.returnFactionNickname(Kr)+" scores "+Jr+" ("+Yr+" VP)"):this.updateLog(this.returnFactionNickname(Kr)+" scores "+Jr+"<p></p><div style='width:80%;font-size:1.0em;margin-left:auto;margin-right:auto;margin-top:15px;margin-bottom:15px'>"+Qr+"</div>"),this.game.players_info[Kr-1].vp+=Yr,this.game.players_info[Kr-1].objectives_scored.push(Xr),1!=this.game.state.end_round_scoring&&1==this.checkForVictory()?(this.updateStatus("Game Over: "+this.returnFaction(Kr-1)+" has reached "+this.game.state.vp_target+" VP"),0):(this.game.queue.splice(n,1),this.game.player,1))}if("playerschoosestrategycards"===a[0]){this.updateStatus("Players selecting strategy cards, starting from "+this.returnSpeaker());for(var Zr=[],$r=0;$r<this.game.players_info.length;$r++){if(Zr[$r]=0,this.game.players_info[$r].strategy_cards_retained.length>=1)for(var en=0;en<this.game.players_info[$r].strategy_cards_retained.length;en++)this.game.players_info[$r].strategy.push(this.game.players_info[$r].strategy_cards_retained[en]),Zr[$r]++;this.game.players_info[$r].strategy_cards_retained=[]}var tn=this.returnStrategyCards();for(var rn in tn)if(!this.game.state.strategy_cards.includes(rn)){for(var nn=1,an=0;an<this.game.players_info.length;an++)this.game.players_info[an].strategy.includes(rn)&&(nn=0);1==nn&&(this.game.state.strategy_cards_bonus[this.game.state.strategy_cards.length]=0,this.game.state.strategy_cards.push(rn))}if(this.game.player==this.game.state.speaker){this.addMove("resolve\tplayerschoosestrategycards"),this.addMove("addbonustounselectedstrategycards");var sn=1;2==this.game.players_info.length&&(sn=3),3==this.game.players_info.length&&(sn=2),4==this.game.players_info.length&&(sn=2),this.game.players_info.length>=5&&(sn=1),1==this.game.state.round&&(sn=1);for(var on=0;on<sn;on++)for(var cn=0;cn<this.game.players_info.length;cn++){var un=this.game.state.speaker+cn;un>this.game.players_info.length&&(un-=this.game.players_info.length),on+Zr[un-1]<sn&&this.rmoves.push("pickstrategy\t"+un+"\t"+(on+1))}this.endTurn()}return 0}if("addbonustounselectedstrategycards"===a[0]){for(var ln=0;ln<this.game.state.strategy_cards.length;ln++)this.game.state.strategy_cards_bonus[ln]+=1;return this.game.queue.splice(n,1),1}if("must_exhaust_at_round_start"===a[0]){parseInt(a[1]);var dn=a[2];a[2]&&a[2],this.game.queue.splice(n,1);var hn=0;if("cultural"==dn)for(var pn in this.game.planets)"cultural"==this.game.planets[pn].type&&(this.game.planets[pn].exhausted=1,hn=1,this.updateSectorGraphics(pn));if("industrial"==dn)for(var fn in this.game.planets)"industrial"==this.game.planets[fn].type&&(this.game.planets[fn].exhausted=1,hn=1,this.updateSectorGraphics(fn));if("hazardous"==dn)for(var mn in this.game.planets)"hazardous"==this.game.planets[mn].type&&(this.game.planets[mn].exhausted=1,hn=1,this.updateSectorGraphics(mn));if("homeworld"==dn)for(var gn in this.game.planets)"homeworld"==this.game.planets[gn].type&&(this.game.planets[gn].exhausted=1,hn=1,this.updateSectorGraphics(gn));return 0==hn&&(this.game.planets[dn]=hn,this.updateSectorGraphics(i)),1}if("pickstrategy"===a[0]){var yn=parseInt(a[1]),bn=parseInt(a[2]);if(this.setPlayerActiveOnly(yn),this.game.player==yn)return this.playerSelectStrategyCards((function(e){t.addMove("resolve\tpickstrategy"),t.addMove("purchase\t"+t.game.player+"\tstrategycard\t"+e),t.endTurn()}),bn),0;var vn="";vn+=this.returnFaction(yn)+" is picking a strategy card: <ul>";var _n=[];for(var wn in this.strategy_cards)_n.push("");for(var xn=0;xn<this.game.state.strategy_cards.length;xn++){for(var kn=parseInt(this.strategy_cards[this.game.state.strategy_cards[xn]].rank);""!=_n[kn-1];)kn++;_n[kn-1]='<li class="textchoice" style="opacity:0.5" id="'+this.game.state.strategy_cards[xn]+'">'+this.strategy_cards[this.game.state.strategy_cards[xn]].name+"</li>"}for(var Sn=0;Sn<_n.length;Sn++)""!=_n[Sn]&&(vn+=_n[Sn]);return vn+="</ul>",this.updateStatus(vn),$(".textchoice").on("mouseenter",(function(){var e=$(this).attr("id");t.showStrategyCard(e)})),$(".textchoice").on("mouseleave",(function(){var e=$(this).attr("id");t.hideStrategyCard(e)})),0}if("land"===a[0]){var On=a[1],Pn=a[2],En=a[3],An=a[4],Cn=a[5],Tn=a[6],Dn=a[7],jn=this.returnSectorAndPlanets(En);if(this.game.player==On&&1!=Pn||("planet"==An?(this.unloadUnitByJSONFromPlanet(On,En,Cn,Dn),this.loadUnitByJSONOntoPlanet(On,En,Tn,Dn)):"ship"==An?(this.unloadUnitByJSONFromShip(On,En,Cn,Dn),this.loadUnitByJSONOntoPlanet(On,En,Tn,Dn)):this.loadUnitByJSONOntoPlanet(On,En,Tn,Dn)),this.game.queue.length>1)if(0!=this.game.queue[this.game.queue.length-2].indexOf("land")){var Mn=this.returnNumberOfGroundForcesOnPlanet(On,En,Tn);this.updateLog(this.returnFactionNickname(On)+" lands "+Mn+" infantry on "+jn.p[parseInt(Tn)].name)}else{var In=this.game.queue[this.game.queue.length-2].split("\t"),Rn=In[6];if(Rn!=Tn){var Bn=this.returnNumberOfGroundForcesOnPlanet(On,En,Tn);this.updateLog(this.returnFactionNickname(On)+" lands "+Bn+" infantry on "+jn.p[parseInt(Tn)].name)}}return this.saveSystemAndPlanets(jn),this.updateSectorGraphics(En),this.game.queue.splice(n,1),1}if("unload_infantry"===a[0]){var Nn=a[1],Fn=(a[2],a[3]),qn=a[4],Ln=a[5];return"planet"===qn?this.unloadUnitFromPlanet(Nn,Fn,Ln,"infantry"):this.unloadUnitFromShip(Nn,Fn,Ln,"infantry"),this.game.queue.splice(n,1),1}if("load_infantry"===a[0]){var Hn=a[1],Un=(a[2],a[3]),zn=a[4],Vn=a[5];return"planet"===zn&&this.loadUnitOntoPlanet(Hn,Un,Vn,"infantry"),"ship"===zn&&this.loadUnitOntoShip(Hn,Un,Vn,"infantry"),this.game.queue.splice(n,1),1}if("load"===a[0]){var Gn=a[1],Wn=a[2],Kn=a[3],Yn=a[4],Xn=a[5],Jn=a[6],Qn=a[7];return this.game.player==Gn&&1!=Wn||("planet"==Yn?(this.unloadUnitByJSONFromPlanet(Gn,Kn,Xn,Jn),this.loadUnitByJSONOntoShipByJSON(Gn,Kn,Qn,Jn)):"ship"==Yn?""!=Xn?(this.unloadUnitByJSONFromShip(Gn,Kn,Xn,Jn),this.loadUnitByJSONOntoShipByJSON(Gn,Kn,Qn,Jn)):(this.removeSpaceUnitByJSON(Gn,Kn,Jn),this.loadUnitByJSONOntoShipByJSON(Gn,Kn,Qn,Jn)):this.loadUnitByJSONOntoShipByJSON(Gn,Kn,Qn,Jn)),this.updateSectorGraphics(Kn),this.game.queue.splice(n,1),1}if("annex"===a[0]){var Zn=parseInt(a[1]),$n=a[2],ea=parseInt(a[3]);this.game.queue.splice(n,1),this.displayFactionDashboard();var ta=this.returnSectorAndPlanets($n),ra=ta.p[ea];return ra&&(ra.units[ra.owner-1]=[],ra.owner>-1&&(this.game.players_info[ra.owner-1].lost_planet_this_round=Zn),this.updateLog(ra.name+" is annexed by "+t.returnFaction(t.game.player)),this.updatePlanetOwner($n,ea,Zn)),this.updateSectorGraphics($n),1}if("give"===a[0]){var na=parseInt(a[1]),aa=parseInt(a[2]),ia=a[3],sa=a[4];if(this.game.queue.splice(n,1),"action"==ia){if(this.game.player==aa){this.game.deck[1].hand.push(sa);var oa=this.returnPlayerActionCards(this.game.player),ca=oa.length-this.game.players_info[this.game.player-1].action_card_limit;if(ca>0)return this.playerDiscardActionCards(ca),0;this.endTurn()}else if(this.game.player==na)for(var ua=0;ua<this.game.deck[1].hand.length;ua++)this.game.deck[1].hand[ua]==sa&&this.game.deck[1].hand.splice(ua,1);return 0}if("promissary"==ia){this.givePromissary(na,aa,sa);for(var la=this.returnEventObjects(),da=0;da<la.length;la++)la[da].gainPromissary(this,receipient,sa),la[da].losePromissary(this,sender,sa)}return 1}if("adjacency"===a[0]){a[1];var ha=a[2],pa=a[3];return this.game.queue.splice(n,1),this.game.state.temporary_adjacency.push([ha,pa]),1}if("pull"===a[0]){var fa=parseInt(a[1]),ma=parseInt(a[2]),ga=a[3],ya=a[4];if(this.game.queue.splice(n,1),"action"==ga)if("random"===ya)if(this.game.player==ma){for(var ba=[],va=0;va<this.game.deck[1].hand.length;va++)this.game.players_info[ma-1].action_cards_played.includes(this.game.deck[1].hand[va])||ba.push(this.game.deck[1].hand[va]);if(0==ba.length)this.addMove("NOTIFY\t"+this.returnFaction(ma)+" does not have any action cards");else{for(var _a=this.rollDice(ba.length),wa=ba[_a-1],xa=0;xa<this.game.deck[1].hand.length;xa++)this.game.deck[1].hand[xa]===wa&&this.game.deck[1].hand.splice(_a-1,1);this.addMove("give\t"+ma+"\t"+fa+"\taction\t"+wa),this.addMove("NOTIFY\t"+this.returnFaction(fa)+" pulls "+this.action_cards[wa].name)}this.endTurn()}else this.rollDice();else if(this.game.player==ma){for(var ka=0;ka<this.game.deck[1].hand.length;ka++)this.game.deck[1].hand[ka]===ya&&this.game.deck[1].hand.splice(ka,1);this.addMove("give\t"+ma+"\t"+fa+"\taction\t"+ya),this.addMove("NOTIFY\t"+this.returnFaction(fa)+" pulls "+this.action_cards[ya].name),this.endTurn()}return 0}if("expend"===a[0]){var Sa=parseInt(a[1]),Oa=a[2],Pa=a[3];return"command"==Oa&&(this.game.players_info[Sa-1].command_tokens-=parseInt(Pa)),"strategy"==Oa&&(this.game.players_info[Sa-1].strategy_tokens-=parseInt(Pa)),"goods"==Oa&&(this.game.players_info[Sa-1].goods-=parseInt(Pa)),"trade"==Oa&&(this.game.players_info[Sa-1].goods-=parseInt(Pa)),"planet"==Oa&&(this.game.planets[Pa].exhausted=1),this.updateTokenDisplay(),this.updateLeaderboard(),this.displayFactionDashboard(),this.game.queue.splice(n,1),1}if("unexhaust"===a[0]){parseInt(a[1]);var Ea=a[2],Aa=a[3];return"planet"==Ea&&this.unexhaustPlanet(Aa),this.displayFactionDashboard(),this.game.queue.splice(n,1),1}if("offer"===a[0]){var Ca=parseInt(a[1]),Ta=parseInt(a[2]),Da=JSON.parse(a[3]),ja=JSON.parse(a[4]);this.game.queue.splice(n,1);var Ma="";if(this.returnFaction(Ca),this.returnFaction(Ta),Da.goods>0&&(Ma+=Da.goods+" ",Da.goods>1?Ma+="trade goods":Ma+="trade good"),Da.promissaries.length>0){Da.goods>=1&&(Ma+=" and ");for(var Ia=0;Ia<Da.promissaries.length;Ia++){var Ra=Da.promissaries[Ia].promissary,Ba=Ra.split("-"),Na=t.factions[Ba[0]].name;Ma+=this.promissary_notes[Ba[1]].name,Ma+=" ",Ma+="("+Na+")"}}(0==Da.goods&&0==Da.promissaries_length||""===Ma)&&(Ma+="nothing"),Ma+=" in exchange for ";var Fa="nothing";if(ja.goods>0&&(Fa="",Ma+=ja.goods+" ",ja.goods>1?Ma+="trade goods or commodities":Ma+="trade good or commodity"),ja.promissaries.length>0){Fa="",ja.goods>1&&(Ma+=" and ");for(var qa=0;qa<ja.promissaries.length;qa++){Fa="";var La=ja.promissaries[qa].promissary,Ha=La.split("-"),Ua=t.factions[Ha[0]].name;Ma+=this.promissary_notes[Ha[1]].name,Ma+=" ",Ma+="("+Ua+")"}}return(0==ja.goods&&0==ja.promissaries_length||"nothing"===Fa)&&(Ma+="nothing"),Ma=this.returnFactionNickname(Ca)+" offers "+this.returnFactionNickname(Ta)+" "+Ma,this.updateLog(Ma),this.game.player==Ta&&this.playerHandleTradeOffer(Ca,Da,ja,Ma),0}if("refuse_offer"===a[0]){var za=parseInt(a[1]),Va=parseInt(a[2]);return this.game.queue.splice(n,1),this.game.players_info[za-1].traded_this_turn=1,this.game.players_info[Va-1].traded_this_turn=1,Va==this.game.player?(this.updateLog(this.returnFactionNickname(za)+" spurns trade offer"),this.game.queue.push("ACKNOWLEDGE\tYour trade offer has been spurned by "+this.returnFactionNickname(za)),1):(this.updateLog(this.returnFactionNickname(za)+" spurns trade offer"),this.displayFactionDashboard(),1)}if("trade"===a[0]){var Ga=parseInt(a[1]),Wa=parseInt(a[2]),Ka=JSON.parse(a[3]),Ya=JSON.parse(a[4]);if(this.game.queue.splice(n,1),Ga==this.game.player&&this.game.queue.push("ACKNOWLEDGE\tYour trade offer has been accepted by "+this.returnFaction(Wa)),this.updateLog(this.returnFactionNickname(Wa)+" accepts trade offer"),this.game.players_info[Ga-1].traded_this_turn=1,this.game.players_info[Wa-1].traded_this_turn=1,this.game.players_info[Ga-1].commodities-=parseInt(Ka.goods),this.game.players_info[Wa-1].commodities-=parseInt(Ya.goods),Ka.promissaries)for(var Xa=0;Xa<Ka.promissaries.length;Xa++)this.givePromissary(Ga,Wa,Ka.promissaries[Xa].promissary);if(Ya.promissaries)for(var Ja=0;Ja<Ya.promissaries.length;Ja++)this.givePromissary(Wa,Ga,Ya.promissaries[Ja].promissary);return this.game.players_info[Ga-1].goods+=parseInt(Ya.goods),this.game.players_info[Wa-1].goods+=parseInt(Ka.goods),this.game.players_info[Ga-1].commodities<0&&(this.game.players_info[Ga-1].goods+=parseInt(this.game.players_info[Ga-1].commodities),this.game.players_info[Ga-1].commodities=0),this.game.players_info[Wa-1].commodities<0&&(this.game.players_info[Wa-1].goods+=parseInt(this.game.players_info[Wa-1].commodities),this.game.players_info[Wa-1].commodities=0),this.displayFactionDashboard(),1}if("activate"===a[0]){this.returnEventObjects();var Qa=parseInt(a[1]),Za=a[2];return this.game.state.activated_sector=Za,sys=this.returnSectorAndPlanets(Za),sys.s.activated[Qa-1]=1,this.saveSystemAndPlanets(sys),this.updateSectorGraphics(Za),this.game.queue.splice(n,1),1}if("deactivate"===a[0]){var $a=parseInt(a[1]),ei=a[2];return sys=this.returnSectorAndPlanets(ei),sys.s.activated[$a-1]=0,this.saveSystemAndPlanets(sys),this.updateSectorGraphics(ei),this.game.queue.splice(n,1),1}if("lose"===a[0]){var ti=parseInt(a[1]),ri=a[2],ni=parseInt(a[3]);return this.returnEventObjects(),"action_cards"==ri&&(this.game.players_info[ti-1].action_cards_in_hand-=ni,this.game.players_info[ti-1].action_cards_in_hand>0&&(this.game.players_info[ti-1].action_cards_in_hand=0)),"secret_objectives"==ri&&(this.game.players_info[ti-1].secret_objectives_in_hand-=ni,this.game.players_info[ti-1].secret_objectives_in_hand>0&&(this.game.players_info[ti-1].secret_objectives_in_hand=0)),this.game.queue.splice(n,1),1}if("gain"===a[0]){var ai=parseInt(a[1]),ii=a[2],si=parseInt(a[3]),oi=1;"0"===a[4]&&(oi=0);var ci=this.returnEventObjects();if("action_cards"==ii){if(this.game.player==ai&&1==this.browser_active){var ui=0;document.querySelectorAll(".overlay_action_card").forEach((function(e){ui++})),this.overlay.showOverlay(this.app,this,this.returnNewActionCardsOverlay(this.game.deck[1].hand.slice(this.game.deck[1].hand.length-(si+ui),this.game.deck[1].hand.length))),document.getElementById("close-action-cards-btn").onclick=function(t){e.overlay.hideOverlay(),e.game.state.showing_action_cards_amounts=0}}if(this.game.players_info[ai-1].action_cards_in_hand+=si,1==oi)for(var li in ci=this.returnEventObjects())ci[li].gainActionCards(t,ai,si)}"secret_objectives"!==ii&&"secret_objective"!==ii||(this.game.player==ai&&1==this.browser_active&&this.overlay.showOverlay(this.app,this,this.returnNewSecretObjectiveOverlay(this.game.deck[5].hand.slice(this.game.deck[5].hand.length-si,this.game.deck[5].hand.length))),this.game.players_info[ai-1].secret_objectives_in_hand+=si);try{var di=this.returnTokenDisplay();document.querySelector(".hud-header").innerHTML=di}catch(e){console.log("error updating hud-header: "+e)}return this.updateTokenDisplay(),this.updateLeaderboard(),this.displayFactionDashboard(),this.game.queue.splice(n,1),this.handleActionCardLimit(ai)}if("purchase"===a[0]){var hi=parseInt(a[1]),pi=a[2],fi=parseInt(a[3]),mi=this.returnEventObjects();if("strategycard"===pi){this.updateLog(this.returnFactionNickname(hi)+" takes "+this.strategy_cards[a[3]].name);var gi=a[3];for(var yi in mi)gi=mi[yi].gainStrategyCard(t,hi,gi);this.game.players_info[hi-1].strategy.push(a[3]);for(var bi=0;bi<this.game.state.strategy_cards.length;bi++)this.game.state.strategy_cards[bi]===a[3]&&(this.game.players_info[hi-1].goods+=this.game.state.strategy_cards_bonus[bi],this.game.state.strategy_cards.splice(bi,1),this.game.state.strategy_cards_bonus.splice(bi,1),bi=this.game.state.strategy_cards.length+2)}if("tech"===pi||"technology"===pi){for(var vi in this.updateLog(this.returnFactionNickname(hi)+" gains "+this.tech[a[3]].name),this.game.players_info[hi-1].tech.includes(a[3])||this.game.players_info[hi-1].tech.push(a[3]),mi=this.returnEventObjects())mi[vi].gainTechnology(t,hi,a[3]);this.upgradePlayerUnitsOnBoard(hi)}if("goods"===pi){for(var _i in this.updateLog(this.returnFactionNickname(hi)+" gains "+fi+" trade goods"),mi)fi=mi[_i].gainTradeGoods(t,hi,fi);this.game.players_info[hi-1].goods+=fi,1!=this.game.state.use_tutorials||this.game.state.seen_goods_tutorial||(this.game.state.seen_goods_tutorial=1,this.overlay.showOverlay(t.app,t,'<div style="margin-left:auto;margin-right:auto;height:90vh;width:auto"><img src="/imperium/img/tutorials/trade_goods.png" style="width:auto;height:100%" /></div>'))}if("commodities"===pi){for(var wi in 1!=this.game.state.use_tutorials||this.game.state.seen_commodities_tutorial||(this.game.state.seen_commodities_tutorial=1,this.overlay.showOverlay(t.app,t,'<div style="margin-left:auto;margin-right:auto;height:90vh;width:auto"><img src="/imperium/img/tutorials/commodities.png" style="width:auto;height:100%" /></div>')),this.updateLog(this.returnFactionNickname(hi)+" gains "+a[3]+" commodities"),mi)fi=mi[wi].gainCommodities(t,hi,fi);this.game.players_info[hi-1].commodities+=fi,this.game.players_info[hi-1].commodities>this.game.players_info[hi-1].commodity_limit&&(this.updateLog(this.returnFactionNickname(hi)+" capped at "+this.game.players_info[hi-1].commodity_limit),this.game.players_info[hi-1].commodities=this.game.players_info[hi-1].commodity_limit)}if("command"===pi&&parseInt(a[3])>0){for(var xi in this.updateLog(this.returnFactionNickname(hi)+" gains "+a[3]+" command tokens"),mi)fi=mi[xi].gainCommandTokens(t,hi,fi);this.game.players_info[hi-1].command_tokens+=fi}if("strategy"===pi&&parseInt(a[3])>0){for(var ki in this.updateLog(this.returnFactionNickname(hi)+" gains "+a[3]+" strategy tokens"),mi)fi=mi[ki].gainStrategyTokens(t,hi,fi);this.game.players_info[hi-1].strategy_tokens+=fi}if("fleetsupply"===pi&&parseInt(a[3])>0){for(var Si in mi)fi=mi[Si].gainFleetSupply(t,hi,fi);this.game.players_info[hi-1].fleet_supply+=fi,this.updateLog(this.returnFactionNickname(hi)+" increases fleet supply to "+this.game.players_info[hi-1].fleet_supply)}return this.updateTokenDisplay(),this.updateLeaderboard(),this.displayFactionDashboard(),this.game.queue.splice(n,1),1}if("pass"===a[0]){var Oi=parseInt(a[1]);return this.game.players_info[Oi-1].passed=1,this.updateLog(this.returnFactionNickname(Oi)+" has passed"),this.game.queue.splice(n,1),1}if("add_infantry_to_planet"===a[0]){var Pi=a[1],Ei=a[2],Ai=parseInt(a[3]);return 0==Ai&&this.game.player==Pi||this.game.planets[Ei].units[Pi-1].push(this.returnUnit("infantry",Pi)),this.game.queue.splice(n,1),1}if("remove_infantry_from_planet"===a[0]){var Ci=a[1],Ti=a[2],Di=parseInt(a[3]);if(0==Di&&this.game.player==Ci);else for(var ji=this.game.planets[Ti],Mi=ji.units[Ci-1].length,Ii=0;Ii<Mi;Ii++){var Ri=ji.units[Ci-1][Ii];"infantry"==Ri.type&&(ji.units[Ci-1].splice(Ii,1),Ii=Mi+2)}return this.game.queue.splice(n,1),1}if("move"===a[0]){var Bi=a[1],Ni=parseInt(a[2]),Fi=a[3],qi=a[4],Li=a[5],Hi=a[6],Ui=JSON.parse(Li);if(Ui.already_moved&&(delete Ui.already_moved,Li=JSON.stringify(Ui)),"rift"===Hi){var zi=JSON.parse(Li),Vi=this.rollDice(10);if(Vi<=3)return this.removeSpaceUnitByJSON(Bi,Fi,Li),this.updateLog("The Gravity Rift destroys "+this.returnFactionNickname(Bi)+" "+zi.name+" (roll: "+Vi+")"),this.game.queue.splice(n,1),this.updateSectorGraphics(qi),this.updateSectorGraphics(Fi),1;this.updateLog("The Gravity Risk accelerates "+this.returnFactionNickname(Bi)+" "+zi.name+" (roll: "+Vi+")")}if(this.game.player!=Bi||1==Ni){this.returnSectorAndPlanets(Fi);var Gi=this.returnSectorAndPlanets(qi);JSON.parse(Li),this.removeSpaceUnitByJSON(Bi,Fi,Li),this.addSpaceUnitByJSON(Bi,qi,Li);var Wi=this.game.queue[n-1].split("\t")[0];"move"!=Wi&&this.updateLog(this.returnFactionNickname(Bi)+" moves "+this.returnPlayerFleetInSector(Bi,qi)+" into "+Gi.s.name)}this.updateSectorGraphics(qi),this.updateSectorGraphics(Fi),this.game.queue.splice(n,1);for(var Ki=1,Yi=0;Yi<this.game.queue.length;Yi++){var Xi=this.game.queue[Yi],Ji=Xi.split("\t");"move"==Ji[0]&&parseInt(Ji[3])==Fi&&(Ki=0)}return 1==Ki?this.handleFleetSupply(Bi,Fi):1}if("player_end_turn"===a[0]){var Qi=parseInt(a[1]),Zi=this.returnEventObjects();this.setPlayerInactive(Qi),this.game.state.active_player_moved=0,this.game.state.active_player_turn=-1,this.game.queue.splice(n,1);for(var $i=this.returnSpeakerOrder(),es=0;es<$i.length;es++)for(var ts=0;ts<Zi.length;ts++)1==Zi[es].playerEndTurnTriggers(this,$i[es])&&this.game.queue.push("player_end_turn_event\t"+$i[es]+"\t"+ts);return 1}if("player_end_turn_event"===a[0]){var rs=parseInt(a[1]),ns=parseInt(a[2]),as=this.returnEventObjects();return this.game.queue.splice(n,1),as[ns].playerEndTurnEvent(this,rs)}if("activate_system"===a[0]){var is=parseInt(a[1]),ss=a[2],os=(a[3],this.returnEventObjects());sys=this.returnSectorAndPlanets(ss),sys.s.activated[is-1]=1,this.game.state.activated_sector=ss,this.saveSystemAndPlanets(sys),this.updateSectorGraphics(ss),this.updateLog(this.returnFactionNickname(is)+" activates "+this.returnSectorName(ss)),this.updateStatus(this.returnFaction(is)+" activates "+this.returnSectorName(ss)),this.game.queue.splice(n,1);for(var cs=this.returnSpeakerOrder(),us=0;us<cs.length;us++)for(var ls=0;ls<os.length;ls++)1==os[ls].activateSystemTriggers(this,is,cs[us],ss)&&this.game.queue.push("activate_system_event\t"+is+"\t"+cs[us]+"\t"+ss+"\t"+ls);return 1}if("activate_system_event"===a[0]){var ds=this.returnEventObjects(),hs=parseInt(a[1]),ps=parseInt(a[2]),fs=a[3],ms=parseInt(a[4]);return this.game.queue.splice(n,1),ds[ms].activateSystemEvent(this,hs,ps,fs)}if("activate_system_post"===a[0]){var gs=parseInt(a[1]),ys=a[2];return this.game.queue.splice(n,1),this.updateSectorGraphics(ys),this.game.player==gs&&this.playerPostActivateSystem(ys),0}if("pre_agenda_stage"===a[0]){var bs=this.returnEventObjects(),vs=a[1];this.game.queue.splice(n,1),this.updateLog("Agenda: "+this.agenda_cards[vs].name+"<p></p><div style='width:80%;font-size:1.0em;margin-left:auto;margin-right:auto;margin-top:15px;margin-bottom:15px'>"+this.agenda_cards[vs].text+"</div>"),this.game.state.riders=[],this.game.state.choices=[];for(var _s=this.returnSpeakerOrder(),ws=0;ws<_s.length;ws++)for(var xs=0;xs<bs.length;xs++)1==bs[xs].preAgendaStageTriggers(this,_s[ws],vs)&&this.game.queue.push("pre_agenda_stage_event\t"+_s[ws]+"\t"+vs+"\t"+xs);return 1}if("pre_agenda_stage_event"===a[0]){var ks=this.returnEventObjects(),Ss=parseInt(a[1]),Os=(a[2],parseInt(a[3]));return this.game.queue.splice(n,1),ks[Os].preAgendaStageEvent(this,Ss)}if("pre_agenda_stage_post"===a[0]){var Ps=a[1],Es=this;this.game.queue.splice(n,1),this.game.state.choices=this.agenda_cards[Ps].returnAgendaOptions(Es);for(var As=this.returnSpeakerOrder(),Cs=0;Cs<As.length;Cs++)this.game.queue.push("pre_agenda_stage_player_menu\t"+As[Cs]+"\t"+Ps);return 1}if("pre_agenda_stage_player_menu"===a[0]){var Ts=parseInt(a[1]),Ds=a[2];return this.game.queue.splice(n,1),this.game.player==Ts&&this.playerPlayPreAgendaStage(Ts,Ds),0}if("post_agenda_stage"===a[0]){var js=this.returnEventObjects(),Ms=a[1];this.game.queue.splice(n,1);for(var Is=this.returnSpeakerOrder(),Rs=0;Rs<Is.length;Rs++)for(var Bs=0;Bs<js.length;Bs++)1==js[Bs].postAgendaStageTriggers(this,Is[Rs],Ms)&&this.game.queue.push("post_agenda_stage_event\t"+Is[Rs]+"\t"+Ms+"\t"+Bs);return 1}if("post_agenda_stage_event"===a[0]){var Ns=this.returnEventObjects(),Fs=parseInt(a[1]),qs=(a[2],parseInt(a[3]));return this.game.queue.splice(n,1),Ns[qs].postAgendaStageEvent(this,Fs)}if("post_agenda_stage_post"===a[0]){var Ls=a[1];this.game.queue.splice(n,1);for(var Hs=this.returnSpeakerOrder(),Us=0;Us<Hs.length;Us++)this.game.queue.push("post_agenda_stage_player_menu\t"+Hs[Us]+"\t"+Ls);return 1}if("post_agenda_stage_player_menu"===a[0]){var zs=parseInt(a[1]),Vs=a[2];if(this.game.queue.splice(n,1),this.game.player==zs){for(var Gs=[],Ws=0;Ws<this.game.state.choices.length;Ws++)Gs.push(0);for(var Ks=0;Ks<this.game.players.length;Ks++)Gs[this.game.state.how_voted_on_agenda[Ks]]+=this.game.state.votes_cast[Ks];for(var Ys=-1,Xs=0;Xs<Gs.length;Xs++)Gs[Xs]>Ys&&(Ys=Gs[Xs]);for(var Js=[],Qs=0;Qs<Gs.length;Qs++)Gs[Qs]==Ys&&Js.push(this.game.state.choices[Qs]);this.playerPlayPostAgendaStage(zs,Vs,Js)}return 0}if("pds_space_attack"===a[0]){var Zs=a[1],$s=a[2],eo=this.returnEventObjects();this.game.queue.splice(n,1);var to=this.returnSpeakerOrder();this.resetTargetUnits();for(var ro=0;ro<to.length;ro++)for(var no=0;no<eo.length;no++)1==eo[no].pdsSpaceAttackTriggers(this,Zs,to[ro],$s)&&this.returnOpponentInSector(Zs,$s)>-1&&this.game.queue.push("pds_space_attack_event\t"+to[ro]+"\t"+Zs+"\t"+$s+"\t"+no);return 1}if("pds_space_attack_event"===a[0]){var ao=this.returnEventObjects(),io=parseInt(a[1]),so=parseInt(a[2]),oo=a[3],co=parseInt(a[4]);return this.game.queue.splice(n,1),ao[co].pdsSpaceAttackEvent(this,so,io,oo)}if("pds_space_attack_post"===a[0]){var uo=parseInt(a[1]),lo=a[2];this.game.queue.splice(n,1),this.updateSectorGraphics(lo);var ho=this.returnOpponentInSector(uo,lo);return-1==ho||1==this.doesPlayerHavePDSUnitsWithinRange(ho,uo,lo)&&this.game.queue.push("pds_space_attack_player_menu\t"+uo+"\t"+uo+"\t"+lo),1}if("pds_space_attack_player_menu"===a[0]){var po=parseInt(a[1]),fo=parseInt(a[2]),mo=a[3];this.game.queue.splice(n,1),this.updateSectorGraphics(mo);for(var go=-1,yo=t.returnSectorAndPlanets(mo),bo=0;bo<yo.s.units.length;bo++)bo+1!=fo&&yo.s.units[bo].length>0&&(go=bo+1);return-1==go?1:(this.game.player==po&&this.playerPlayPDSAttack(po,fo,mo),0)}if("pds_space_defense"===a[0]){var vo=a[1],_o=a[2],wo=this.returnEventObjects();this.game.queue.splice(n,1);var xo=this.returnSpeakerOrder();this.resetTargetUnits();for(var ko=0;ko<xo.length;ko++)for(var So=0;So<wo.length;So++)1==wo[So].pdsSpaceDefenseTriggers(this,vo,xo[ko],_o)&&this.game.queue.push("pds_space_defense_event\t"+xo[ko]+"\t"+vo+"\t"+_o+"\t"+So);return 1}if("pds_space_defense_event"===a[0]){var Oo=this.returnEventObjects(),Po=parseInt(a[1]),Eo=parseInt(a[2]),Ao=a[3],Co=parseInt(a[4]);return this.game.queue.splice(n,1),Oo[Co].pdsSpaceDefenseEvent(this,Eo,Po,Ao)}if("pds_space_defense_post"===a[0]){var To=parseInt(a[1]),Do=a[2];this.game.queue.splice(n,1),this.updateSectorGraphics(Do);for(var jo=this.returnSpeakerOrder(),Mo=0;Mo<jo.length;Mo++)1==this.doesPlayerHavePDSUnitsWithinRange(To,jo[Mo],Do)&&this.game.queue.push("pds_space_defense_player_menu\t"+jo[Mo]+"\t"+To+"\t"+Do);return 1}if("pds_space_defense_player_menu"===a[0]){var Io=parseInt(a[1]),Ro=parseInt(a[2]),Bo=a[3];return this.game.queue.splice(n,1),this.updateSectorGraphics(Bo),this.updateLog(this.returnFactionNickname(Io)+" preparing to fire PDS"),this.game.player==Io&&this.playerPlayPDSDefense(Io,Ro,Bo),0}if("player_destroy_unit"===a[0]){parseInt(a[1]);var No=parseInt(a[2]),Fo=parseInt(a[3]),qo=a[4],Lo=a[5];return a[6],"space"==qo&&this.playerDestroyShips(No,Fo,Lo),0}if("destroy_unit"===a[0]||"destroy"===a[0]){parseInt(a[1]);var Ho=parseInt(a[2]),Uo=a[3],zo=a[4],Vo=a[5],Go=parseInt(a[6]),Wo=(parseInt(a[7]),this.returnSectorAndPlanets(zo));this.returnEventObjects(),"space"==Uo&&(Wo.s.units[Ho-1][Go].strength=0,Wo.s.units[Ho-1][Go].destroyed=1),"ground"==Uo&&(Wo.p[Vo].units[Ho-1][Go].strength=0,Wo.p[Vo].units[Ho-1][Go].destroyed=1,"spacedock"!==Wo.p[Vo].units[Ho-1][Go].type&&"pds"!==Wo.p[Vo].units[Ho-1][Go].type||Wo.p[Vo].units[Ho-1].splice(Go,1));var Ko=this.game.queue[n-1].split("\t");return"destroy_unit"!==Ko[0]&&this.eliminateDestroyedUnitsInSector(Ho,zo),this.saveSystemAndPlanets(Wo),this.updateSectorGraphics(zo),this.game.queue.splice(n,1),1}if("destroy_infantry_on_planet"===a[0]){for(var Yo=parseInt(a[1]),Xo=a[2],Jo=parseInt(a[3]),Qo=parseInt(a[4]),Zo=this.returnSectorAndPlanets(Xo),$o=this.returnEventObjects(),ec=Zo.p[Jo],tc=(ec.owner,0);tc<ec.units.length;tc++)if(ec.units[tc].length>0&&tc+1!=Yo)for(var rc=0,nc=0;nc<ec.units[tc].length&&rc<Qo;nc++){var ac=ec.units[tc][nc];if("infantry"==ac.type){for(var ic in ac.strength=0,ac.destroyed=1,rc++,$o)ec.units[tc][nc]=$o[ic].unitDestroyed(t,Yo,ec.units[tc][nc]);try{1==ec.units[tc][nc].destroyed&&(this.game.players_info[tc].my_units_destroyed_this_combat_round.push(ec.units[tc][nc].type),this.game.players_info[Yo-1].units_i_destroyed_this_combat_round.push(ec.units[tc][nc].type))}catch(e){}t.eliminateDestroyedUnitsInSector(ec.owner,Xo)}}return this.saveSystemAndPlanets(Zo),this.updateSectorGraphics(Xo),this.game.queue.splice(n,1),1}if("assign_hit"===a[0]){var sc=parseInt(a[1]),oc=parseInt(a[2]),cc=parseInt(a[3]),uc=a[4],lc=a[5],dc=parseInt(a[6]),hc=parseInt(a[7]),pc=this.returnSectorAndPlanets(lc),fc=this.returnEventObjects();if("ship"==uc){try{if(pc.s.units[cc-1][dc].last_round_damaged=this.game.state.space_combat_round,(1==hc&&t.game.player==cc||t.game.player!=cc)&&pc.s.units[cc-1][dc].strength--,pc.s.units[cc-1][dc].strength<=0){for(var mc in this.updateLog(this.returnFactionNickname(cc)+" "+pc.s.units[cc-1][dc].name+" destroyed"),pc.s.units[cc-1][dc].destroyed=1,fc)pc.s.units[cc-1][dc]=fc[mc].unitDestroyed(t,sc,pc.s.units[cc-1][dc]);try{1==pc.s.units[cc-1][dc].destroyed&&(this.game.players_info[cc-1].my_units_destroyed_this_combat_round.push(pc.s.units[cc-1][dc].type),this.game.players_info[sc-1].units_i_destroyed_this_combat_round.push(pc.s.units[cc-1][dc].type))}catch(e){}}else this.updateLog(this.returnFactionNickname(cc)+" "+pc.s.units[cc-1][dc].name+" damaged")}catch(e){console.log("Error? Not all hits assigned: "+e)}this.saveSystemAndPlanets(pc),this.doesPlayerHaveShipsInSector(sc,lc),this.doesPlayerHaveShipsInSector(oc,lc)}var gc=this.game.queue[this.game.queue.length-1].split("\t");return"assign_hit"===gc[0]&&gc[5]===lc||this.eliminateDestroyedUnitsInSector(cc,lc),this.saveSystemAndPlanets(pc),this.updateSectorGraphics(lc),this.game.queue.splice(n,1),1}if("assign_hits_capital_ship"===a[0]){var yc=parseInt(a[1]),bc=a[2],vc=a[3];return this.returnSectorAndPlanets(bc),this.game.queue.splice(n,1),this.game.player==yc&&this.playerAssignHitsCapitalShips(yc,bc,vc),0}if("assign_hits"===a[0]){var _c=this.game.queue.length-2,wc=[];if(_c>=0&&("ships_fire"===(wc=this.game.queue[_c].split("\t"))[0]||"infantry_fire"==wc[0]||"pds_fire"==wc[0])){var xc=this.game.queue[_c],kc=this.game.queue[_c+1];return this.game.queue[_c]=kc,this.game.queue[_c+1]=xc,1}var Sc=parseInt(a[1]),Oc=parseInt(a[2]),Pc=a[3],Ec=a[4],Ac=a[5];"pds"!=Ac&&(Ac=parseInt(Ac));var Cc=parseInt(a[6]),Tc=a[7],Dc=this.returnSectorAndPlanets(Ec);if(this.game.state.assign_hits_queue_instruction="",this.game.player==Oc&&(this.game.state.assign_hits_queue_instruction=this.game.queue[this.game.queue.length-1]),this.game.queue.splice(n,1),Cc>0&&this.updateStatus(this.returnFaction(Oc)+" is assigning hits to units ... "),this.game.state.assign_hits_to_cancel>0&&(Cc-=this.game.state.assign_hits_to_cancel,this.game.state.assign_hits_to_cancel=0,Cc<=0))return 1;if("pds"==Ac)return Cc>0?this.game.player==Oc?(this.playerAssignHits(Sc,Oc,Pc,Ec,Ac,Cc,Tc),0):(this.updateStatus(this.returnFaction(Oc)+" assigning hits to units ... "),0):1;if("anti_fighter_barrage"==Pc){for(var jc=0,Mc=this.returnSectorAndPlanets(Ec),Ic=0;Ic<Mc.s.units[Oc-1].length;Ic++)"fighter"===Mc.s.units[Oc-1][Ic].type&&jc++;return Cc>jc&&(Cc=jc),Cc>0?this.game.player==Oc?(this.playerAssignHits(Sc,Oc,Pc,Ec,Ac,Cc,Tc),0):(this.updateStatus(this.returnFaction(Oc)+" assigning hits to units ... "),0):1}if("space"==Pc)return Cc>0?this.game.player==Oc?(this.playerAssignHits(Sc,Oc,Pc,Ec,Ac,Cc,Tc),0):(this.updateStatus(this.returnFaction(Oc)+" assigning hits to units ... "),0):1;if("ground"==Pc&&Cc>0){this.assignHitsToGroundForces(Sc,Oc,Ec,Ac,Cc),this.eliminateDestroyedUnitsInSector(Oc,Ec),this.eliminateDestroyedUnitsInSector(Sc,Ec),this.updateSectorGraphics(Ec);var Rc=this.returnNumberOfGroundForcesOnPlanet(Sc,Ec,Ac),Bc=this.returnNumberOfGroundForcesOnPlanet(Oc,Ec,Ac);if(Rc>=0&&Rc>Bc&&Bc<=0){if(-1!=Oc)if(1==this.game.players_info[Sc-1].temporary_infiltrate_infrastructure_on_invasion||1==this.game.players_info[Sc-1].temporary_infiltrate_infrastructure_on_invasion){for(var Nc=0,Fc=0;Fc<Dc.p[Ac].units[Oc-1].length;Fc++)"pds"===Dc.p[Ac].units[Oc-1][Fc].type&&(this.addPlanetaryUnit(Sc,Ec,Ac,"pds"),Nc=1),"spacedock"===Dc.p[Ac].units[Oc-1][Fc].type&&(this.addPlanetaryUnit(Sc,Ec,Ac,"spacedock"),Nc=1);Dc.p[Ac].units[Oc-1]=[],1==Nc&&(this.game.players_info[Sc-1].temporary_infiltrate_infrastructure_on_invasion=0)}else Dc.p[Ac].units[Oc-1]=[];if(Dc.p[Ac].owner==Sc){var qc=t.returnNumberOfGroundForcesOnPlanet(Sc,Ec,Ac);this.updateLog(Dc.p[Ac].name+" defended by "+this.returnFactionNickname(Sc)+" ("+qc+" infantry)")}}return 1}}if("gain_planet"===a[0]){var Lc=parseInt(a[1]),Hc=a[2],Uc=parseInt(a[3]),zc=this.returnSectorAndPlanets(Hc);this.game.queue.splice(n,1),zc.p[Uc].owner>-1&&(this.game.players_info[zc.p[Uc].owner].lost_planet_this_round=Lc),this.updatePlanetOwner(Hc,Uc,Lc)}if("destroy_units"===a[0]){var Vc=parseInt(a[1]),Gc=parseInt(a[2]),Wc=a[3],Kc=0;if(parseInt(a[4])&&(Kc=1),Wc.indexOf("_")>0){var Yc=this.returnSectorAndPlanets(Wc);Wc=Yc.s.sector}return this.game.queue.splice(n,1),1==Gc?this.updateStatus(this.returnFaction(Vc)+" is destroying "+Gc+" unit"):this.updateStatus(this.returnFaction(Vc)+" is destroying "+Gc+" units"),this.game.player==Vc&&this.playerDestroyUnits(Vc,Gc,Wc,Kc),0}if("destroy_ships"===a[0]){var Xc=parseInt(a[1]),Jc=parseInt(a[2]),Qc=a[3],Zc=0;if(parseInt(a[4])&&(Zc=1),null==Qc&&(Qc=this.game.state.activated_sector),Qc.indexOf("_")>0){var $c=this.returnSectorAndPlanets(Qc);Qc=$c.s.sector}return this.game.queue.splice(n,1),1==Jc?this.updateStatus(this.returnFaction(Xc)+" is destroying "+Jc+" ship"):this.updateStatus(this.returnFaction(Xc)+" is destroying "+Jc+" ships"),this.game.player==Xc&&this.playerDestroyShips(Xc,Jc,Qc,Zc),0}if("pds_fire"===a[0]){var eu=parseInt(a[1]),tu=parseInt(a[2]),ru=a[3];if(this.game.queue.splice(n,1),1==this.doesPlayerHavePDSUnitsWithinRange(tu,eu,ru)){for(var nu=this.returnPDSWithinRangeOfSector(tu,eu,ru),au=0,iu=[],su=[],ou=[],cu=0,uu=this.returnEventObjects(),lu=[],du=[],hu=[],pu=0;pu<nu.length;pu++)nu[pu].owner==eu&&(au++,iu.push(nu[pu].combat),ou.push(nu[pu].unit));for(var fu=0,mu=10,gu=0;gu<nu.length;gu++)nu[gu].combat<mu&&(fu=gu,mu=nu[gu].combat);for(var yu=0;yu<this.game.players_info[eu-1].pds_combat_roll_bonus_shots;yu++){var bu={name:"Bonus"};bu.unit=JSON.parse(JSON.stringify(nu[fu].unit)),bu.unit.name="Bonus",bu.range=nu[fu].range,bu.combat=nu[fu].combat,bu.owner=nu[fu].owner,bu.sector=nu[fu].sector,au++,iu.push(bu.combat),ou.push(bu.unit)}this.updateLog(this.returnFactionNickname(eu)+" has "+au+" PDS shots");for(var vu=0;vu<au;vu++){var _u=this.rollDice(10);for(var wu in lu.push(_u),uu)_u=uu[wu].modifyCombatRoll(this,eu,tu,eu,"pds",_u),_u=uu[wu].modifyPDSRoll(this,eu,tu,eu,_u),t.game.players_info[tu-1].target_units=uu[wu].modifyTargets(this,tu,eu,t.game.player,"pds",t.game.players_info[tu-1].target_units);_u+=this.game.players_info[eu-1].pds_combat_roll_modifier,_u+=this.game.players_info[eu-1].temporary_pds_combat_roll_modifier,du.push(_u),hu.push(0),_u>=iu[vu]?(cu++,su.push(1)):su.push(0)}if(cu<au){var xu=au-cu,ku=this.game.players_info[eu-1].combat_dice_reroll+this.game.players_info[eu-1].pds_combat_dice_reroll;for(var Su in uu)ku=uu[Su].modifyCombatRerolls(this,eu,tu,eu,"pds",ku),t.game.players_info[eu-1].target_units=uu[Su].modifyTargets(this,tu,eu,t.game.player,"pds",t.game.players_info[eu-1].target_units);var Ou=ku;xu<ku&&(Ou=xu);for(var Pu=0;Pu<Ou;Pu++){for(var Eu=11,Au=11,Cu=0;Cu<hits_to_misses.length;Cu++)iu[Cu]<Eu&&0==su[Cu]&&(Au=Cu,Eu=iu[Cu]);var Tu=this.rollDice(10);for(var Du in hu[Au]=1,lu[Au]=Tu,uu)Tu=uu[Du].modifyCombatRerolls(this,eu,tu,eu,"pds",Tu),t.game.players_info[eu-1].target_units=uu[Du].modifyTargets(this,tu,eu,t.game.player,"pds",t.game.players_info[eu-1].target_units);Tu+=this.game.players_info[eu-1].pds_combat_roll_modifier,Tu+=this.game.players_info[eu-1].temporary_pds_combat_roll_modifier,du[Au]=Tu,Tu>=iu[Au]?(cu++,su[Au]=1):su[Au]=-1}}this.game.queue.push("assign_hits\t"+eu+"\t"+tu+"\tspace\t"+ru+"\tpds\t"+cu+"\tpds");var ju={};ju.attacker=eu,ju.hits_or_misses=su,ju.hits_or_misses=su,ju.units_firing=ou,ju.hits_on=iu,ju.unmodified_roll=lu,ju.modified_roll=du,ju.reroll=hu,this.updateCombatLog(ju),1==cu?this.updateLog(this.returnFactionNickname(tu)+" takes "+cu+" hit"):this.updateLog(this.returnFactionNickname(tu)+" takes "+cu+" hits")}return this.updateSectorGraphics(ru),1}if("bombard"===a[0]){var Mu=this,Iu=parseInt(a[1]),Ru=a[2],Bu=a[3],Nu=this.returnEventObjects();if(this.game.queue.splice(n,1),1==this.doesPlayerHaveShipsInSector(Iu,Ru)){for(var Fu=this.returnSectorAndPlanets(Ru),qu=Fu.p[Bu].owner,Lu=0,Hu=0,Uu=[],zu=[],Vu=0,Gu=0;Gu<Fu.p[Bu].units[Iu-1].length;Gu++)if(Fu.p[Bu].units[Iu-1][Gu].bombardment_rolls>0)for(var Wu=0;Wu<Fu.p[Bu].units[Iu-1][Gu].bombardment_rolls;Wu++){var Ku=this.rollDice(10);for(z_index in Nu)Ku=Nu[z_index].modifyCombatRoll(Mu,Iu,Fu.p[Bu].owner,this.game.player,"bombardment",Ku);Ku+=this.game.players_info[Iu-1].bombardment_roll_modifier,Ku+=this.game.players_info[Iu-1].temporary_bombardment_roll_modifier,Ku+=this.game.players_info[Iu-1].combat_roll_modifier,(Ku+=Fu.s.units[Iu-1][Gu].temporary_combat_modifier)>=Fu.p[Bu].units[Iu-1][Gu].bombardment_combat?(Lu++,Uu.push(1),zu.push(Fu.p[Bu].units[Iu-1][Gu].bombardment_combat)):(Uu.push(0),zu.push(Fu.p[Bu].units[Iu-1][Gu].bombardment_combat))}for(var Yu=10,Xu=0;Xu<zu.length;Xu++)zu[Xu]<Yu&&(Yu=zu[Xu]);Vu+=this.game.players_info[Iu-1].bombardment_combat_roll_bonus_shots;for(var Ju=Uu.length;Ju<Uu.length+Vu;Ju++){var Qu=this.rollDice(10);for(z_index in Nu)Qu=Nu[z_index].modifyCombatRoll(Mu,Iu,Fu.p[Bu].owner,this.game.player,"bombardment",Qu);Qu+=this.game.players_info[Iu-1].bombardment_roll_modifier,Qu+=this.game.players_info[Iu-1].temporary_bombardment_roll_modifier,Qu+=this.game.players_info[Iu-1].combat_roll_modifier,(Qu+=Fu.s.units[Iu-1][Ju].temporary_combat_modifier)>=Yu?(Lu++,Uu.push(1),zu.push(Fu.p[Bu].units[Iu-1][Ju].bombardment_combat)):(Uu.push(0),zu.push(Yu))}if(Lu<Hu){var Zu=Lu-total_hits,$u=this.game.players_info[Iu-1].combat_dice_reroll+this.game.players_info[Iu-1].bombardment_combat_dice_reroll;for(var el in Nu)$u=Nu[el].modifyCombatRerolls(this,Iu,qu,player,"bombardment",$u);var tl=$u;Zu<$u&&(tl=Zu);for(var rl=0;rl<tl;rl++){for(var nl=11,al=11,il=0;il<hits_to_misses.length;il++)zu[il]<nl&&0==Uu[il]&&(al=il,nl=zu[il]);var sl=this.rollDice(10);for(var ol in Nu)sl=Nu[ol].modifyCombatRerolls(this,player,Iu,player,"space",sl),Mu.game.players_info[qu-1].target_units=Nu[ol].modifyTargets(this,Iu,qu,Mu.game.player,"space",Mu.game.players_info[qu-1].target_units);for(z_index in Nu)sl=Nu[z_index].modifyCombatRoll(Mu,Iu,Fu.p[Bu].owner,this.game.player,"bombardment",sl);sl+=this.game.players_info[Iu-1].bombardment_roll_modifier,sl+=this.game.players_info[Iu-1].temporary_bombardment_roll_modifier,sl+=this.game.players_info[Iu-1].combat_roll_modifier,(sl+=Fu.s.units[Iu-1][al].temporary_combat_modifier)>=zu[al]?(Lu++,Uu[al]=1):Uu[al]=-1}}1==Lu?this.updateLog("Bombardment produces "+Lu+" hit"):this.updateLog("Bombardment produces "+Lu+" hits"),this.game.queue.push("assign_hits\t"+Iu+"\t"+Fu.p[Bu].owner+"\tground\t"+Ru+"\t"+Bu+"\t"+Lu+"\tbombardment")}return 1}if("ships_fire"===a[0]){var cl=this.game.queue.length-2;if(cl>=0&&"space_combat_player_menu"===this.game.queue[cl].split("\t")[0]){var ul=this.game.queue[cl],ll=this.game.queue[cl+1];return this.game.queue[cl]=ll,this.game.queue[cl+1]=ul,1}var dl=t.game.player,hl=parseInt(a[1]),pl=parseInt(a[2]),fl=a[3],ml=this.returnSectorAndPlanets(fl),gl=this.returnEventObjects();if(this.game.queue.splice(n,1),1==this.doesPlayerHaveShipsInSector(hl,fl)){for(var yl=0,bl=0,vl=[],_l=[],wl=[],xl=[],kl=[],Sl=[],Ol=0;Ol<ml.s.units[hl-1].length;Ol++)for(var Pl=0;Pl<ml.s.units[hl-1][Ol].shots;Pl++)if(ml.s.units[hl-1][Ol].strength>0){var El=this.rollDice(10);for(var Al in xl.push(El),gl)El=gl[Al].modifyCombatRoll(this,hl,pl,hl,"space",El),bl=gl[Al].modifyUnitHits(this,hl,pl,hl,"space",ml.s.units[hl-1][Ol],El,bl),t.game.players_info[pl-1].target_units=gl[Al].modifyTargets(this,hl,pl,t.game.player,"space",t.game.players_info[pl-1].target_units);El+=this.game.players_info[hl-1].space_combat_roll_modifier,El+=this.game.players_info[hl-1].temporary_space_combat_roll_modifier,El+=ml.s.units[hl-1][Ol].temporary_combat_modifier,kl.push(El),Sl.push(0),El>=ml.s.units[hl-1][Ol].combat?(bl++,yl++,_l.push(ml.s.units[hl-1][Ol].combat),vl.push(1),wl.push(ml.s.units[hl-1][Ol])):(yl++,vl.push(0),_l.push(ml.s.units[hl-1][Ol].combat),wl.push(ml.s.units[hl-1][Ol]))}if(bl<yl){var Cl=yl-bl,Tl=this.game.players_info[hl-1].combat_dice_reroll+this.game.players_info[hl-1].space_combat_dice_reroll;for(var Dl in gl)Tl=gl[Dl].modifyCombatRerolls(this,dl,hl,dl,"space",Tl),t.game.players_info[pl-1].target_units=gl[Dl].modifyTargets(this,hl,pl,t.game.player,"space",t.game.players_info[pl-1].target_units);var jl=Tl;Cl<Tl&&(jl=Cl);for(var Ml=0;Ml<jl;Ml++){for(var Il=11,Rl=11,Bl=null,Nl=0;Nl<hits_to_misses.length;Nl++)_l[Nl]<Il&&0==vl[Nl]&&(Rl=Nl,Il=_l[Nl],Bl=wl[Nl]);var Fl=this.rollDice(10);for(var ql in xl[Rl]=Fl,gl)Fl=gl[ql].modifyCombatRerolls(this,dl,hl,dl,"space",Fl),bl=gl[ql].modifyUnitHits(this,hl,pl,hl,"space",Bl,Fl,bl),t.game.players_info[pl-1].target_units=gl[ql].modifyTargets(this,hl,pl,t.game.player,"space",t.game.players_info[pl-1].target_units);Fl+=this.game.players_info[dl-1].space_combat_roll_modifier,Fl+=this.game.players_info[dl-1].temporary_space_combat_roll_modifier,Fl+=ml.s.units[hl-1][Rl].temporary_combat_modifier,kl[Rl]=Fl,Sl[Rl]=1,Fl>=_l[Rl]?(bl++,vl[Rl]=1):vl[Rl]=-1}}var Ll={};Ll.attacker=hl,Ll.hits_or_misses=vl,Ll.units_firing=wl,Ll.hits_on=_l,Ll.unmodified_roll=xl,Ll.modified_roll=kl,Ll.reroll=Sl,this.updateCombatLog(Ll),1==bl?this.updateLog(this.returnFactionNickname(hl)+":  "+bl+" hit"):this.updateLog(this.returnFactionNickname(hl)+":  "+bl+" hits"),this.game.queue.push("assign_hits\t"+hl+"\t"+pl+"\tspace\t"+fl+"\tspace\t"+bl+"\tspace_combat")}return 1}if("infantry_fire"===a[0]){var Hl=this.game.queue.length-2;if(Hl>=0&&"ground_combat_player_menu"===this.game.queue[Hl].split("\t")[0]){var Ul=this.game.queue[Hl],zl=this.game.queue[Hl+1];return this.game.queue[Hl]=zl,this.game.queue[Hl+1]=Ul,1}var Vl=t.game.player,Gl=parseInt(a[1]),Wl=parseInt(a[2]),Kl=a[3],Yl=a[4],Xl=this.returnSectorAndPlanets(Kl),Jl=this.returnEventObjects();if(this.game.queue.splice(n,1),1==this.doesPlayerHaveInfantryOnPlanet(Gl,Kl,Yl)){for(var Ql=0,Zl=0,$l=[],ed=[],td=[],rd=[],nd=[],ad=[],id=0;id<Xl.p[Yl].units[Gl-1].length;id++)if("infantry"==Xl.p[Yl].units[Gl-1][id].type&&0==Xl.p[Yl].units[Gl-1][id].destroyed){td.push(Xl.p[Yl].units[Gl-1][id]);var sd=this.rollDice(10);for(var od in rd.push(sd),Jl)sd=Jl[od].modifyCombatRoll(this,Gl,Wl,Gl,"ground",sd),t.game.players_info[Wl-1].target_units=Jl[od].modifyTargets(this,Gl,Wl,t.game.player,"ground",t.game.players_info[Wl-1].target_units);sd+=this.game.players_info[Gl-1].ground_combat_roll_modifier,sd+=this.game.players_info[Gl-1].temporary_ground_combat_roll_modifier,sd+=Xl.p[Yl].units[Gl-1][id].temporary_combat_modifier,nd.push(sd),ad.push(0),sd>=Xl.p[Yl].units[Gl-1][id].combat?(Zl++,Ql++,$l.push(1),ed.push(Xl.p[Yl].units[Gl-1][id].combat)):(Ql++,$l.push(0),ed.push(Xl.p[Yl].units[Gl-1][id].combat))}if(Zl<Ql){var cd=Ql-Zl,ud=this.game.players_info[Gl-1].combat_dice_reroll+this.game.players_info[Gl-1].ground_combat_dice_reroll;for(var ld in Jl)ud=Jl[ld].modifyCombatRerolls(this,Vl,Gl,Vl,"ground",ud),t.game.players_info[Wl-1].target_units=Jl[ld].modifyTargets(this,Gl,Wl,t.game.player,"ground",t.game.players_info[Wl-1].target_units);var dd=ud;cd<ud&&(dd=cd);for(var hd=0;hd<dd;hd++){for(var pd=11,fd=11,md=0;md<hits_to_misses.length;md++)ed[md]<pd&&0==$l[md]&&(fd=md,pd=ed[md]);var gd=this.rollDice(10);for(var yd in rd[fd]=gd,ad[fd]=1,Jl)gd=Jl[yd].modifyCombatRerolls(this,Vl,Gl,Vl,"ground",gd),t.game.players_info[Wl-1].target_units=Jl[yd].modifyTargets(this,Gl,Wl,t.game.player,"ground",t.game.players_info[Wl-1].target_units);gd+=this.game.players_info[Vl-1].ground_combat_roll_modifier,gd+=this.game.players_info[Vl-1].temporary_ground_combat_roll_modifier,gd+=Xl.p[Yl].units[Gl-1][fd].temporary_combat_modifier,nd[fd]=gd,gd>=ed[fd]?(Zl++,$l[fd]=1):$l[fd]=-1}}var bd={};bd.attacker=Gl,bd.hits_or_misses=$l,bd.units_firing=td,bd.hits_on=ed,bd.unmodified_roll=rd,bd.modified_roll=nd,bd.reroll=ad,this.updateCombatLog(bd),1==Zl?this.updateLog(this.returnFactionNickname(Gl)+":  "+Zl+" hit"):this.updateLog(this.returnFactionNickname(Gl)+":  "+Zl+" hits"),this.game.queue.push("assign_hits\t"+Gl+"\t"+Wl+"\tground\t"+Kl+"\t"+Yl+"\t"+Zl+"\tground_combat")}return 1}if("space_invasion"===a[0]){var vd=a[1],_d=a[2];return this.game.queue.splice(n,1),this.game.state.space_combat_sector=_d,this.unloadStoredShipsIntoSector(vd,_d),this.game.state.space_combat_round=0,this.game.state.space_combat_ships_destroyed_attacker=0,this.game.state.space_combat_ships_destroyed_defender=0,vd==this.game.player&&(this.addMove("continue\t"+vd+"\t"+_d),this.addMove("space_combat_end\t"+vd+"\t"+_d),this.addMove("space_combat_post\t"+vd+"\t"+_d),this.addMove("space_combat\t"+vd+"\t"+_d),this.addMove("space_combat_start\t"+vd+"\t"+_d),this.addMove("anti_fighter_barrage\t"+vd+"\t"+_d),this.addMove("pds_space_defense_post\t"+vd+"\t"+_d),this.addMove("pds_space_defense\t"+vd+"\t"+_d),this.endTurn()),0}if("space_combat_start"===a[0])return a[1],a[2],a[3],this.game.queue.splice(n,1),this.resetTargetUnits(),this.game.state.space_combat_attacker=-1,this.game.state.space_combat_defender=-1,this.game.state.space_combat_retreats=[],1;if("space_combat_end"===a[0]){var wd=a[1],xd=a[2];if(a[3],1==this.hasUnresolvedSpaceCombat(wd,xd)){if(this.game.player==wd){if(this.addMove("space_combat_post\t"+wd+"\t"+xd),this.addMove("space_combat\t"+wd+"\t"+xd),-1!=this.game.state.space_combat_defender){var kd=this.returnEventObjects();for(var Sd in kd)kd[Sd].spaceCombatRoundEnd(this,this.game.state.space_combat_attacker,this.game.state.space_combat_defender,xd)}return this.endTurn(),0}if(-1!=this.game.state.space_combat_defender){var Od=this.returnEventObjects();for(var Pd in Od)Od[Pd].spaceCombatRoundEnd(this,this.game.state.space_combat_attacker,this.game.state.space_combat_defender,xd)}return 0}if(1==this.game_space_combat_defender?this.game.queue.push("space_combat_over_player_menu\t"+this.game.state.space_combat_defender+"\t"+xd):this.game.queue.push("space_combat_over_player_menu\t"+this.game.state.space_combat_attacker+"\t"+xd),this.game.queue.splice(n,1),-1!=this.game.state.space_combat_defender){var Ed=this.returnEventObjects();for(var Ad in Ed)Ed[Ad].spaceCombatRoundEnd(this,this.game.state.space_combat_attacker,this.game.state.space_combat_defender,xd)}return this.game.player==wd&&this.endTurn(),0}if("space_combat"===a[0]){a[1];var Cd=a[2],Td=this.returnEventObjects();this.game.queue.splice(n,1);for(var Dd=this.returnSpeakerOrder(),jd=0;jd<Dd.length;jd++)for(var Md=0;Md<Td.length;Md++)1==Td[Md].spaceCombatTriggers(this,Dd[jd],Cd)&&this.game.queue.push("space_combat_event\t"+Dd[jd]+"\t"+Cd+"\t"+Md);return 1}if("space_combat_event"===a[0]){var Id=this.returnEventObjects(),Rd=parseInt(a[1]),Bd=a[2],Nd=parseInt(a[3]);return this.game.queue.splice(n,1),Id[Nd].spaceCombatEvent(this,Rd,Bd)}if("space_combat_post"===a[0]){var Fd=parseInt(a[1]),qd=a[2];this.updateSectorGraphics(qd),this.game.queue.splice(n,1),this.game.state.space_combat_round++,this.game.state.assign_hits_to_cancel=0;for(var Ld=0;Ld<this.game.players_info.length;Ld++)this.game.players_info[Ld].units_i_destroyed_last_combat_round=this.game.players_info[Ld].units_i_destroyed_last_combat_round,this.game.players_info[Ld].units_i_destroyed_this_combat_round=[],this.game.players_info[Ld].my_units_destroyed_last_combat_round=this.game.players_info[Ld].my_units_destroyed_last_combat_round,this.game.players_info[Ld].my_units_destroyed_this_combat_round=[];var Hd=this.returnDefender(Fd,qd);return-1==Hd||(this.resetSpaceUnitTemporaryModifiers(qd),this.game.state.space_combat_attacker=Fd,this.game.state.space_combat_defender=Hd,1!=this.doesPlayerHaveShipsInSector(Fd,qd)||1!=this.doesPlayerHaveShipsInSector(Hd,qd)||(this.updateLog("Space Combat: round "+this.game.state.space_combat_round),this.game.queue.push("space_combat_player_menu\t"+Hd+"\t"+Fd+"\t"+qd),this.game.queue.push("space_combat_player_menu\t"+Fd+"\t"+Hd+"\t"+qd))),1}if("anti_fighter_barrage"===a[0]){for(var Ud=parseInt(a[1]),zd=a[2],Vd=this.returnSectorAndPlanets(zd),Gd=this.returnEventObjects(),Wd=Ud,Kd=-1,Yd=0;Yd<Vd.s.units.length;Yd++)Yd+1!=Ud&&Vd.s.units[Yd].length>0&&(Kd=Yd+1,Yd=Vd.s.units.length+1);if(this.updateSectorGraphics(zd),this.game.queue.splice(n,1),-1!=Kd){this.game.queue.push("anti_fighter_barrage_post\t"+Ud+"\t"+Kd+"\t"+Wd+"\t"+zd);for(var Xd=this.returnSpeakerOrder(),Jd=0;Jd<Xd.length;Jd++)for(var Qd=0;Qd<Gd.length;Qd++)1==Gd[Qd].antiFighterBarrageEventTriggers(this,Xd[Jd],Kd,Wd,zd)&&this.game.queue.push("anti_fighter_barrage_event\t"+Xd[Jd]+"\t"+Kd+"\t"+Wd+"\t"+zd+"\t"+Qd);this.game.queue.push("anti_fighter_barrage_post\t"+Ud+"\t"+Wd+"\t"+Kd+"\t"+zd);for(var Zd=0;Zd<Xd.length;Zd++)for(var $d=0;$d<Gd.length;$d++)1==Gd[$d].antiFighterBarrageEventTriggers(this,Xd[Zd],Wd,Kd,zd)&&this.game.queue.push("anti_fighter_barrage_event\t"+Xd[Zd]+"\t"+Wd+"\t"+Kd+"\t"+zd+"\t"+$d)}return 1}if("anti_fighter_barrage_event"===a[0]){var eh=parseInt(a[1]),th=a[2],rh=a[3],nh=a[4],ah=a[5],ih=this.returnEventObjects();return this.game.queue.splice(n,1),ih[ah].antiFighterBarrageEvent(this,eh,th,rh,nh)}if("anti_fighter_barrage_post"===a[0]){var sh=parseInt(a[1]),oh=parseInt(a[2]),ch=parseInt(a[3]),uh=a[4],lh=this.returnSectorAndPlanets(uh);if(uh=lh.s.sector,1==this.doesPlayerHaveShipsInSector(oh,uh)&&1==this.doesPlayerHaveAntiFighterBarrageInSector(oh,uh)){this.updateLog(this.returnFactionNickname(oh)+" anti-fighter barrage...");for(var dh=0,hh=0,ph=[],fh=[],mh=[],gh=[],yh=[],bh=[],vh=0;vh<lh.s.units[oh-1].length;vh++)if(lh.s.units[oh-1][vh].strength>0&&lh.s.units[oh-1][vh].anti_fighter_barrage>0){for(var _h=0;_h<lh.s.units[oh-1][vh].anti_fighter_barrage;_h++){var wh=this.rollDice(10);for(var xh in gh.push(wh),r)wh=r[xh].modifyCombatRoll(this,oh,ch,oh,"anti_fighter_barrage",wh),hh=r[xh].modifyUnitHits(this,oh,ch,oh,"anti_fighter_barrage",lh.s.units[oh-1][vh],wh,hh),t.game.players_info[ch-1].target_units=r[xh].modifyTargets(this,oh,ch,t.game.player,"anti_fighter_barrage",t.game.players_info[ch-1].target_units);wh+=this.game.players_info[oh-1].space_combat_roll_modifier,wh+=this.game.players_info[oh-1].temporary_space_combat_roll_modifier,wh+=lh.s.units[oh-1][vh].temporary_combat_modifier,yh.push(wh),bh.push(0),wh>=lh.s.units[oh-1][vh].anti_fighter_barrage_combat?(hh++,dh++,fh.push(lh.s.units[oh-1][vh].anti_fighter_barrage_combat),ph.push(1),mh.push(lh.s.units[oh-1][vh])):(dh++,ph.push(0),fh.push(lh.s.units[oh-1][vh].anti_fighter_barrage_combat),mh.push(lh.s.units[oh-1][vh]))}if(hh<dh){var kh=dh-hh,Sh=this.game.players_info[oh-1].combat_dice_reroll+this.game.players_info[oh-1].space_combat_dice_reroll;for(var Oh in r)Sh=r[Oh].modifyCombatRerolls(this,sh,oh,sh,"anti_fighter_barrage",Sh),t.game.players_info[ch-1].target_units=r[Oh].modifyTargets(this,oh,ch,t.game.player,"anti_fighter_barrage",t.game.players_info[ch-1].target_units);var Ph=Sh;kh<Sh&&(Ph=kh);for(var Eh=0;Eh<Ph;Eh++){for(var Ah=11,Ch=11,Th=null,Dh=0;Dh<hits_to_misses.length;Dh++)fh[Dh]<Ah&&0==ph[Dh]&&(Ch=Dh,Ah=fh[Dh],Th=mh[Dh]);var jh=this.rollDice(10);for(var Mh in gh[Ch]=jh,r)jh=r[Mh].modifyCombatRerolls(this,sh,oh,sh,"anti_fighter_barrage",jh),hh=r[Mh].modifyUnitHits(this,oh,ch,oh,"space",Th,jh,hh),t.game.players_info[ch-1].target_units=r[Mh].modifyTargets(this,oh,ch,t.game.player,"space",t.game.players_info[ch-1].target_units);jh+=this.game.players_info[sh-1].space_combat_roll_modifier,jh+=this.game.players_info[sh-1].temporary_space_combat_roll_modifier,jh+=lh.s.units[oh-1][Ch].temporary_combat_modifier,yh[Ch]=jh,bh[Ch]=1,jh>=fh[Ch]?(hh++,ph[Ch]=1):ph[Ch]=-1}}}var Ih={};Ih.attacker=oh,Ih.hits_or_misses=ph,Ih.units_firing=mh,Ih.hits_on=fh,Ih.unmodified_roll=gh,Ih.modified_roll=yh,Ih.reroll=bh,this.updateCombatLog(Ih),this.game.queue.push("assign_hits\t"+oh+"\t"+ch+"\tanti_fighter_barrage\t"+uh+"\tanti_fighter_barrage\t"+hh+"\tanti_fighter_barrage"),1==hh?(this.updateLog(this.returnFactionNickname(oh)+":  "+hh+" hit"),this.game.queue.push("ACKNOWLEDGE\t"+t.returnFaction(oh)+" launches anti-fighter-barrage ("+hh+" hit)")):(this.updateLog(this.returnFactionNickname(oh)+":  "+hh+" hits"),this.game.queue.push("ACKNOWLEDGE\t"+t.returnFaction(oh)+" launches anti-fighter-barrage ("+hh+" hits)"))}return this.game.queue.splice(n,1),1}if("space_combat_over_player_menu"===a[0]){var Rh=parseInt(a[1]),Bh=a[2];return this.game.queue.splice(n,1),this.game.player==Rh&&this.playerPlaySpaceCombatOver(Rh,Bh),1}if("space_combat_player_menu"===a[0]){var Nh=parseInt(a[1]),Fh=parseInt(a[2]),qh=a[3];return this.game.queue.splice(n,1),this.updateSectorGraphics(qh),this.game.player==Nh&&this.playerPlaySpaceCombat(Nh,Fh,qh),0}if("ground_combat_over_player_menu"===a[0]){var Lh=parseInt(a[1]),Hh=a[2],Uh=parseInt(a[3]);return this.game.queue.splice(n,1),this.game.player==Lh&&this.playerPlayGroundCombatOver(Lh,Hh,Uh),1}if("ground_combat_player_menu"===a[0]){var zh=parseInt(a[1]),Vh=parseInt(a[2]),Gh=a[3],Wh=a[4];return this.game.queue.splice(n,1),this.updateSectorGraphics(Gh),this.game.player==zh?(this.playerPlayGroundCombat(zh,Vh,Gh,Wh),0):0}if("bombardment"===a[0]){var Kh=a[1],Yh=a[2],Xh=a[3],Jh=this.returnEventObjects();this.game.queue.splice(n,1);for(var Qh=this.returnSpeakerOrder(),Zh=0;Zh<Qh.length;Zh++)for(var $h=0;$h<Jh.length;$h++)1==Jh[$h].bombardmentTriggers(this,Qh[Zh],Kh,Yh,Xh)&&this.game.queue.push("bombardment_event\t"+Qh[Zh]+"\t"+Kh+"\t"+Yh+"\t"+Xh+"\t"+$h);return 1}if("bombardment_event"===a[0]){var ep=this.returnEventObjects(),tp=parseInt(a[1]),rp=parseInt(a[2]),np=a[3],ap=a[4],ip=parseInt(a[5]);return this.game.queue.splice(n,1),ep[ip].bombardmentEvent(this,tp,rp,np,ap)}if("bombardment_post"===a[0]){var sp=parseInt(a[1]),op=a[2],cp=a[3];this.updateSectorGraphics(op),this.game.queue.splice(n,1);var up=this.returnSectorAndPlanets(op),lp=up.p[cp].owner;return-1==lp?1:this.doesSectorContainPlayerUnit(sp,op,"dreadnaught")||this.doesSectorContainPlayerUnit(sp,op,"warsun")?(this.game.player==sp&&this.playerPlayBombardment(sp,op,cp),0):1}if("planetary_defense"===a[0]){var dp=a[1],hp=a[2],pp=a[3],fp=this.returnEventObjects();this.game.queue.splice(n,1);for(var mp=this.returnSpeakerOrder(),gp=0;gp<mp.length;gp++)for(var yp=0;yp<fp.length;yp++)1==fp[yp].planetaryDefenseTriggers(this,dp,hp,pp)&&this.game.queue.push("planetary_defense_event\t"+mp[gp]+"\t"+hp+"\t"+pp+"\t"+yp);return 1}if("planetary_defense_event"===a[0]){var bp=this.returnEventObjects(),vp=parseInt(a[1]),_p=a[2],wp=a[3],xp=parseInt(a[4]);return this.game.queue.splice(n,1),bp[xp].planetaryDefenseEvent(this,vp,_p,wp)}if("planetary_defense_post"===a[0]){parseInt(a[1]);var kp=a[2];return a[3],this.updateSectorGraphics(kp),this.game.queue.splice(n,1),1}if("ground_combat_start"===a[0]){a[1];var Sp=a[2],Op=a[3];return this.game.queue.splice(n,1),this.game.state.ground_combat_round=0,this.game.state.ground_combat_sector=Sp,this.game.state.ground_combat_planet_idx=Op,this.game.state.ground_combat_infantry_destroyed_attacker=0,this.game.state.ground_combat_infantry_destroyed_defender=0,this.game.state.ground_combat_attacker=-1,this.game.state.ground_combat_defender=-1,1}if("ground_combat_end"===a[0]){var Pp=a[1],Ep=a[2],Ap=a[3],Cp=this.returnSectorAndPlanets(Ep);if(this.game.queue.splice(n,1),-1!=this.game.state.ground_combat_defender){var Tp=this.returnEventObjects();for(var Dp in Tp)Tp[Dp].groundCombatRoundEnd(this,this.game.state.ground_combat_attacker,this.game.state.ground_combat_defender,Ep,Ap)}if(1==this.hasUnresolvedGroundCombat(Pp,Ep,Ap))return this.game.player==Pp?(this.addMove("ground_combat_end\t"+Pp+"\t"+Ep+"\t"+Ap),this.addMove("ground_combat_post\t"+Pp+"\t"+Ep+"\t"+Ap),this.addMove("ground_combat\t"+Pp+"\t"+Ep+"\t"+Ap),this.endTurn(),0):0;1==this.game_ground_combat_defender?this.game.queue.push("ground_combat_over_player_menu\t"+this.game.state.ground_combat_defender+"\t"+Ep+"\t"+Ap):this.game.queue.push("ground_combat_over_player_menu\t"+this.game.state.ground_combat_attacker+"\t"+Ep+"\t"+Ap);var jp=t.returnNumberOfGroundForcesOnPlanet(Pp,Ep,Ap),Mp=t.returnNumberOfGroundForcesOnPlanet(this.game.state.ground_combat_defender,Ep,Ap);if(jp>0){this.updateLog(Cp.p[Ap].name+" conquered by "+this.returnFactionNickname(Pp)+" ("+jp+" infantry)");var Ip=Pp,Rp=this.game.state.ground_combat_defender;if(1==this.game.players_info[Pp-1].temporary_infiltrate_infrastructure_on_invasion||1==this.game.players_info[Pp-1].temporary_infiltrate_infrastructure_on_invasion){for(var Bp=0,Np=0;Np<Cp.p[Ap].units[Rp-1].length;Np++)"pds"===Cp.p[Ap].units[Rp-1][Np].type&&(this.addPlanetaryUnit(Ip,Ep,Ap,"pds"),Bp=1),"spacedock"===Cp.p[Ap].units[Rp-1][Np].type&&(this.addPlanetaryUnit(Ip,Ep,Ap,"spacedock"),Bp=1);Cp.p[Ap].units[Rp-1]=[],1==Bp&&(this.game.players_info[Ip-1].temporary_infiltrate_infrastructure_on_invasion=0)}else Cp.p[Ap].units[Rp-1]=[];Rp>0&&-1!=Rp&&(this.game.players_info[Rp-1].lost_planet_this_round=Ip),this.updatePlanetOwner(Ep,Ap,Pp)}else this.updateLog(Cp.p[Ap].name+" defended by "+this.returnFactionNickname(this.game.state.ground_combat_defender)+" ("+Mp+" infantry)");return this.game.queue.splice(n,1),1}if("ground_combat"===a[0]){a[1];var Fp=a[2],qp=a[3],Lp=this.returnEventObjects();this.game.queue.splice(n,1);for(var Hp=this.returnSpeakerOrder(),Up=0;Up<Hp.length;Up++)for(var zp=0;zp<Lp.length;zp++)1==Lp[zp].groundCombatTriggers(this,Hp[Up],Fp,qp)&&this.game.queue.push("ground_combat_event\t"+Hp[Up]+"\t"+Fp+"\t"+qp+"\t"+zp);return 1}if("ground_combat_event"===a[0]){var Vp=this.returnEventObjects(),Gp=parseInt(a[1]),Wp=a[2],Kp=a[3],Yp=parseInt(a[4]);return this.game.queue.splice(n,1),Vp[Yp].groundCombatEvent(this,Gp,Wp,Kp)}if("ground_combat_post"===a[0]){var Xp=parseInt(a[1]),Jp=a[2],Qp=parseInt(a[3]),Zp=this.returnSectorAndPlanets(Jp);this.game.queue.splice(n,1),this.game.state.assign_hits_to_cancel=0,this.game.state.ground_combat_round++;for(var $p=0;$p<this.game.players_info.length;$p++)this.game.players_info[$p].units_i_destroyed_last_combat_round=this.game.players_info[$p].units_i_destroyed_last_combat_round,this.game.players_info[$p].units_i_destroyed_this_combat_round=[],this.game.players_info[$p].my_units_destroyed_last_combat_round=this.game.players_info[$p].my_units_destroyed_last_combat_round,this.game.players_info[$p].my_units_destroyed_this_combat_round=[];var ef=this.returnDefender(Xp,Jp,Qp);return-1==ef?(Zp.p[Qp].owner!=Xp&&(this.updateLog(this.returnFactionNickname(Xp)+" seizes "+Zp.p[Qp].name),-1!=Zp.p[Qp].owner&&(this.game.players_info[Zp.p[Qp].owner-1].lost_planet_this_round=Xp),this.updatePlanetOwner(Jp,Qp,Xp)),1):(this.resetGroundUnitTemporaryModifiers(Jp,Qp),this.game.state.ground_combat_attacker=Xp,this.game.state.ground_combat_defender=ef,1==this.hasUnresolvedGroundCombat(Xp,Jp,Qp)&&(this.updateLog("Round "+this.game.state.ground_combat_round+": "+this.returnPlayerInfantryOnPlanet(Xp,Zp.p[Qp])+" "+this.returnFactionNickname(Xp)+" infantry vs. "+this.returnPlayerInfantryOnPlanet(ef,Zp.p[Qp])+" "+this.returnFactionNickname(ef)+" infantry"),this.game.queue.push("ground_combat_player_menu\t"+ef+"\t"+Xp+"\t"+Jp+"\t"+Qp),this.game.queue.push("ground_combat_player_menu\t"+Xp+"\t"+ef+"\t"+Jp+"\t"+Qp)),1)}if("action_card"===a[0]){var tf=parseInt(a[1]),rf=a[2],nf=this.returnEventObjects();"action"==this.action_cards[rf].type&&(this.game.state.active_player_moved=1),this.updateLog(this.returnFactionNickname(tf)+" plays "+this.action_cards[rf].name+"<p></p><div style='width:80%;font-size:1.0em;margin-left:auto;margin-right:auto;margin-top:15px;margin-bottom:15px'>"+this.action_cards[rf].text+"</div>");var af=this.returnActionCards();af[rf],this.game.queue.splice(n,1);var sf=this.returnSpeakerOrder();if(this.game.players_info[this.game.player-1].can_intervene_in_action_card=0,"simultaneous"===this.game.state.action_card_order){for(var of=0;of<sf.length;of++)for(var cf=0;cf<nf.length;cf++)1==nf[cf].playActionCardTriggers(this,sf[of],tf,rf)&&this.game.queue.push("action_card_event\t"+sf[of]+"\t"+tf+"\t"+rf+"\t"+cf);this.game.queue.push("simultaneous_action_card_player_menu\t"+tf+"\t"+rf),0!=rf.indexOf("sabotage")&&this.game.queue.push("resetconfirmsneeded\t"+sf.length)}else for(var uf=0;uf<sf.length;uf++){for(var lf=0;lf<nf.length;lf++)1==nf[lf].playActionCardTriggers(this,sf[uf],tf,rf)&&this.game.queue.push("action_card_event\t"+sf[uf]+"\t"+tf+"\t"+rf+"\t"+lf);sf[uf]!=tf&&this.game.queue.push("action_card_player_menu\t"+sf[uf]+"\t"+tf+"\t"+rf)}return 1}if("simultaneous_action_card_player_menu"===a[0]){var df=parseInt(a[1]),hf=a[2];return this.game.player==df?(this.updateStatus("Your opponents are being notified you have played "+this.action_cards[hf].name),this.hasPlayerConfirmed(this.app.wallet.returnPublicKey())?(hf.indexOf("sabotage"),t.addMove("resolve\tsimultaneous_action_card_player_menu\t1\t"+t.app.wallet.returnPublicKey()),t.addPublickeyConfirm(t.app.wallet.returnPublicKey(),1),t.endTurn()):(t.addMove("resolve\tsimultaneous_action_card_player_menu\t1\t"+t.app.wallet.returnPublicKey()),t.addPublickeyConfirm(t.app.wallet.returnPublicKey(),1),t.endTurn()),0):(this.hasPlayerConfirmed(this.app.wallet.returnPublicKey())&&0!=hf.indexOf("sabotage")?this.updateStatus("Waiting for players to respond to "+this.action_cards[hf].name):this.playerPlayActionCardMenu(df,hf),0)}if("action_card_player_menu"===a[0]){var pf=parseInt(a[1]),ff=parseInt(a[2]),mf=a[3];return this.game.queue.splice(n,1),pf==ff?(this.updateStatus("Your opponents are being notified you have played "+this.action_cards[mf].name),0):(this.game.player==pf?this.playerPlayActionCardMenu(ff,mf):this.updateStatus(this.returnFaction(pf)+" is responding to action card "+this.action_cards[mf].name),0)}if("action_card_event"===a[0]){var gf=this.returnEventObjects(),yf=parseInt(a[1]),bf=a[2],vf=a[3],_f=parseInt(a[4]);return this.game.queue.splice(n,1),gf[_f].playActionCardEvent(this,yf,bf,vf)}if("action_card_post"===a[0]){var wf=parseInt(a[1]),xf=a[2],kf=this.returnActionCards(),Sf=kf[xf];return this.game.queue.splice(n,1),Sf.playActionCard(this,this.game.player,wf,xf)}for(var Of in r)if(!r[Of].handleGameLoop(t,n,a))return 0;if(0==s)return 0}return 1}},{key:"convertSectorToSectorname",value:function(e){for(var t in this.game.board)if(this.game.board[t].tile==e)return t;return""}},{key:"convertPlanetIdentifierToSector",value:function(e){for(var t in this.game.board)for(var r=this.game.board[t].tile,n=this.game.sectors[r],a=0;a<n.planets.length;a++)if(n.planets[a]==e)return r;return null}},{key:"returnPlanetIdxOfPlanetIdentifierInSector",value:function(e,t){for(var r=this.returnSectorAndPlanets(t),n=0;n<r.p.length;n++)for(var a in this.game.planets)if(a==e&&r.p[n]==this.game.planets[a])return n;return-1}},{key:"returnPlayerTurnTracker",value:function(){var e={activate_system:0,production:0,invasion:0,action_card:0,trade:0,action:0};return e}},{key:"addMove",value:function(e){this.moves.push(e)}},{key:"prependMove",value:function(e){this.moves.unshift(e)}},{key:"endTurn",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.rmoves.length-1;t>=0;t--)this.moves.push(this.rmoves[t]);0!=e&&(extra.target=e),this.game.turn=this.moves,this.moves=[],this.rmoves=[],this.sendMessage("game",{}),this.updateStatus("Waiting for information from peers....")}},{key:"endGame",value:function(e,t){this.game.over=1,1==this.active_browser&&salert("The Game is Over!")}},{key:"resetConfirmsNeeded",value:function(e){if(this.game.confirms_needed=e,this.game.confirms_received=0,this.game.confirms_players=[],this.game.tmp_confirms_received=0,this.game.tmp_confirms_players=[],this.game.confirms_needed==this.game.players_info.length)for(var t=1;t<=this.game.players_info.length;t++)this.setPlayerActive(t)}},{key:"returnGameOptionsHTML",value:function(){var e=this.maxPlayers;try{e=document.querySelector(".game-wizard-players-select").value}catch(e){}for(var t='\n\n      <div style="padding:40px;width:100vw;height:100vh;overflow-y:scroll;display:grid;grid-template-columns: 200px auto">\n\n        <div style="top:0;left:0;margin-right: 20px;">\n\n            <label for="game_length ">Game Length:</label>\n            <select name="game_length">\n              <option value="4">4 VP</option>\n              <option value="6">6 VP</option>\n              <option value="8" selected>8 VP</option>\n              <option value="10">10 VP</option>\n              <option value="12">12 VP</option>\n              <option value="14">14 VP</option>\n            </select>\n\n            <div id="game-wizard-advanced-return-btn" class="game-wizard-advanced-return-btn button">accept</div>\n\n        </div>\n        <div>\n\n    ',r=1;r<=e;r++)t+='\n            <label for="player'.concat(r,'" class="game-players-options game-players-options-').concat(r,'p">Player ').concat(r,':</label>\n            <select name="player').concat(r,'" id="game-players-select-').concat(r,'p" class="game-players-options game-players-options-').concat(r,'p">\n              <option value="random" default>random</option>\n              <option value="faction1" default>Sol Federation</option>\n              <option value="faction2">Universities of Jol Nar</option>\n              <option value="faction3">XXcha Kingdom</option>\n              <option value="faction4">Sardakk N\'Orr</option>\n              <option value="faction5">Brotherhood of Yin</option>\n              <option value="faction6">Yssaril Tribes</option>\n              <option value="faction7">Embers of Muaat</option>\n            </select>\n      ');return t+="\n        </div>\n      </div>\n    "}},{key:"returnPlayers",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=[],r=JSON.parse(JSON.stringify(this.returnFactions())),n=0;n<e;n++){0==n&&(col="color1"),1==n&&(col="color2"),2==n&&(col="color3"),3==n&&(col="color4"),4==n&&(col="color5"),5==n&&(col="color6");var a=Object.keys(r),i=a[this.rollDice(a.length)-1];0==n&&null!=this.game.options.player1&&"random"!=this.game.options.player1&&(i=this.game.options.player1),1==n&&null!=this.game.options.player2&&"random"!=this.game.options.player2&&(i=this.game.options.player2),2==n&&null!=this.game.options.player3&&"random"!=this.game.options.player3&&(i=this.game.options.player3),3==n&&null!=this.game.options.player4&&"random"!=this.game.options.player4&&(i=this.game.options.player4),4==n&&null!=this.game.options.player5&&"random"!=this.game.options.player5&&(i=this.game.options.player5),5==n&&null!=this.game.options.player6&&"random"!=this.game.options.player6&&(i=this.game.options.player6),delete r[i],t[n]={},t[n].can_intervene_in_action_card=0,t[n].secret_objectives_in_hand=0,t[n].action_cards_in_hand=0,t[n].action_cards_per_round=1,t[n].action_card_limit=7,t[n].action_cards_played=[],t[n].new_tokens_per_round=2,t[n].command_tokens=3,t[n].strategy_tokens=2,t[n].fleet_supply=3,t[n].fleet_supply_limit=16,t[n].faction=i,t[n].homeworld="",t[n].color=col,t[n].goods=0,t[n].commodities=0,t[n].commodity_limit=3,t[n].vp=0,t[n].passed=0,t[n].strategy_cards_played=[],t[n].strategy_cards_retained=[],t[n].cost_of_technology_primary=6,t[n].cost_of_technology_secondary=4,t[n].promissary_notes=[],t[n].infantry_limit=30,t[n].fighter_limit=30,t[n].carrier_limit=4,t[n].destroyer_limit=8,t[n].cruiser_limit=8,t[n].dreadnaught_limit=5,t[n].flagship_limit=1,t[n].warsun_limit=2,t[n].pds_limit=4,t[n].spacedock_limit=3,t[n].traded_this_turn=0,t[n].new_token_bonus_when_issued=0,t[n].action_cards_bonus_when_issued=0,t[n].fleet_move_bonus=0,t[n].temporary_fleet_move_bonus=0,t[n].ship_move_bonus=0,t[n].temporary_ship_move_bonus=0,t[n].fly_through_asteroids=0,t[n].fly_through_nebulas=0,t[n].fly_through_supernovas=0,t[n].move_into_supernovas=0,t[n].reinforce_infantry_after_successful_ground_combat=0,t[n].bacterial_weapon=0,t[n].evasive_bonus_on_pds_shots=0,t[n].perform_two_actions=0,t[n].move_through_sectors_with_opponent_ships=0,t[n].temporary_move_through_sectors_with_opponent_ships=0,t[n].assign_pds_hits_to_non_fighters=0,t[n].reallocate_four_infantry_per_round=0,t[n].may_produce_after_gaining_planet=0,t[n].extra_roll_on_bombardment_or_pds=0,t[n].stasis_on_opponent_combat_first_round=0,t[n].may_repair_damaged_ships_after_space_combat=0,t[n].may_assign_first_round_combat_shot=0,t[n].production_bonus=0,t[n].may_player_produce_without_spacedock=0,t[n].may_player_produce_without_spacedock_production_limit=0,t[n].may_player_produce_without_spacedock_cost_limit=0,t[n].may_produce_warsuns=0,t[n].target_units=[],t[n].planets_conquered_this_turn=[],t[n].objectives_scored_this_round=[],t[n].must_exhaust_at_round_start=[],t[n].deep_space_conduits=0,t[n].resupply_stations=0,t[n].turn_nullification=0,t[n].space_combat_roll_modifier=0,t[n].ground_combat_roll_modifier=0,t[n].pds_combat_roll_modifier=0,t[n].bombardment_combat_roll_modifier=0,t[n].space_combat_roll_bonus_shots=0,t[n].ground_combat_roll_bonus_shots=0,t[n].pds_combat_roll_bonus_shots=0,t[n].bombardment_combat_roll_bonus_shots=0,t[n].ground_combat_dice_reroll=0,t[n].space_combat_dice_reroll=0,t[n].pds_combat_dice_reroll=0,t[n].bombardment_combat_dice_reroll=0,t[n].combat_dice_reroll=0,t[n].temporary_immune_to_pds_fire=0,t[n].temporary_immune_to_planetary_defense=0,t[n].temporary_space_combat_roll_modifier=0,t[n].temporary_ground_combat_roll_modifier=0,t[n].temporary_pds_combat_roll_modifier=0,t[n].temporary_bombardment_combat_roll_modifier=0,t[n].units_i_destroyed_this_combat_round=[],t[n].units_i_destroyed_last_combat_round=[],t[n].my_units_destroyed_this_combat_round=[],t[n].my_units_destroyed_last_combat_round=[],t[n].temporary_green_tech_prerequisite=0,t[n].temporary_yellow_tech_prerequisite=0,t[n].temporary_red_tech_prerequisite=0,t[n].temporary_blue_tech_prerequisite=0,t[n].permanent_green_tech_prerequisite=0,t[n].permanent_yellow_tech_prerequisite=0,t[n].permanent_red_tech_prerequisite=0,t[n].permanent_blue_tech_prerequisite=0,t[n].temporary_ignore_number_of_tech_prerequisites_on_nonunit_upgrade=0,t[n].permanent_ignore_number_of_tech_prerequisites_on_nonunit_upgrade=0,t[n].temporary_infiltrate_infrastructure_on_invasion=0,t[n].permanent_infiltrate_infrastructure_on_invasion=0,t[n].temporary_opponent_cannot_retreat=0,t[n].permanent_opponent_cannot_retreat=0,t[n].permanent_research_technology_card_must_not_spend_resources=0,1==n&&(t[n].color="yellow"),2==n&&(t[n].color="green"),3==n&&(t[n].color="blue"),4==n&&(t[n].color="purple"),5==n&&(t[n].color="black"),t[n].planets=[],t[n].tech=[],t[n].tech_exhausted_this_turn=[],t[n].upgrades=[],t[n].strategy=[],t[n].objectives_scored=[],t[n].lost_planet_this_round=-1}return t}},{key:"playerTurn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main",t=this,r=(this.returnTechnology(),["action","main","instant"]),n=this.returnPlayerActionCards(t.game.player,r);if(this.updateLeaderboard(),this.updateTokenDisplay(),"main"==e){var a="player_color_"+this.game.player,i="";i+='<div class="terminal_header2 sf-readable"><div class="player_color_box '+a+'"></div>'+this.returnFaction(this.game.player)+":</div><p><ul class='terminal_header3'>",1==this.canPlayerPass(this.game.player)?1==this.game.state.active_player_moved?i+='<li class="option" id="endturn">end turn</li>':i+='<li class="option" id="pass">pass</li>':1==this.game.state.active_player_moved&&(i+='<li class="option" id="endturn">end turn</li>'),1==this.game.state.round&&0==this.game.state.active_player_moved&&(0==this.tutorial_move_clicked&&(i+='<li class="option" id="tutorial_move_ships">move ships</li>'),0==this.tutorial_produce_clicked&&(i+='<li class="option" id="tutorial_produce_units">produce units</li>')),""!=this.canPlayerScoreActionStageVictoryPoints(this.game.player)&&(i+='<li class="option" id="score">score secret objective</li>'),this.game.players_info[this.game.player-1].command_tokens>0&&0==this.game.state.active_player_moved&&(i+='<li class="option" id="activate">activate sector</li>'),1==this.canPlayerPlayStrategyCard(this.game.player)&&0==this.game.state.active_player_moved&&(i+='<li class="option" id="select_strategy_card">play strategy card</li>'),n.length>0&&0==this.game.tracker.action_card&&1==this.canPlayerPlayActionCard(this.game.player)&&0==this.game.state.active_player_moved&&(i+='<li class="option" id="action">play action card</li>'),0==this.game.tracker.trade&&1==this.canPlayerTrade(this.game.player)&&(i+='<li class="option" id="trade">trade</li>');var s=0,o=[],c=[],u=this.returnEventObjects();if(0==this.game.state.active_player_moved)for(var l=0;l<u.length;l++)if(1==u[l].menuOptionTriggers(this,"main",this.game.player)){var d=u[l].menuOption(this,"main",this.game.player);i+=d.html,c.push(l),o.push(d.event),s=1}i+="</ul></p>",this.updateStatus(i),$(".option").on("click",(function(){var e=$(this).attr("id");if(1==s)for(var n=0;n<o.length;n++)if(e==o[n])return $(this).remove(),t.game.state.active_player_moved=1,void u[c[n]].menuOptionActivated(t,"main",t.game.player);return"score"==e&&t.playerScoreActionStageVictoryPoints(t,(function(e,t,r){t>0&&e.addMove("score\t"+e.game.player+"\t"+t+"\t"+r),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(r),e.endTurn()})),"activate"==e&&t.playerActivateSystem(),"tutorial_move_ships"==e?(t.tutorial_move_clicked=1,t.game.state.use_tutorials=1,t.overlay.showOverlay(t.app,t,'<div style="margin-left:auto;margin-right:auto;width:1200px;height:auto"><img src="/imperium/img/tutorials/movement.png" style="width:100%; height:auto;" /></div>'),void t.playerAcknowledgeNotice('REMEMBER: to move ships select "activate sector" and pick the sector you are moving into. Most ships can only move 1-hex and you cannot move ships from sectors that are already activated. You will be able to choose the ships to move, and load infantry and fighters into units that can carry them.',(function(){t.playerTurn()}))):"tutorial_produce_units"==e?(t.tutorial_produce_clicked=1,t.game.state.use_tutorials=1,t.overlay.showOverlay(t.app,t,'<div style="margin-left:auto;margin-right:auto;width:1200px;height:auto"><img src="/imperium/img/tutorials/production.png" style="width:100%; height:auto;" /></div>'),void t.playerAcknowledgeNotice('REMEMBER: to produce units, select "activate sector" and activate a sector with a space dock (like your home system). You are limited to producing +2 more units than the resources of the planet on which the Space Dock sits. And you can only have as many non-fighter ships in any sector as your fleet supply, so move your ships out before producing more!',(function(){t.playerTurn()}))):("select_strategy_card"==e&&t.playerSelectStrategyCard((function(e){t.game.state.active_player_moved=1,t.addMove("strategy_card_after\t"+e+"\t"+t.game.player+"\t1"),t.addMove("strategy\t"+e+"\t"+t.game.player+"\t1"),t.addMove("strategy_card_before\t"+e+"\t"+t.game.player+"\t1"),t.endTurn()})),"action"==e&&t.playerSelectActionCard((function(e){"action"==t.action_cards[e].type&&(t.game.state.active_player_moved=1),t.addMove("action_card_post\t"+t.game.player+"\t"+e),t.addMove("action_card\t"+t.game.player+"\t"+e),t.addMove("lose\t"+t.game.player+"\taction_cards\t1"),t.endTurn()}),(function(){t.playerTurn()}),r),"trade"==e?(t.playerTrade(),0):("pass"==e&&(t.addMove("resolve\tplay"),t.addMove("setvar\tstate\t0\tactive_player_moved\tint\t0"),t.addMove("player_end_turn\t"+t.game.player),t.addMove("pass\t"+t.game.player),t.endTurn()),void("endturn"==e&&(t.addMove("resolve\tplay"),t.addMove("setvar\tstate\t0\tactive_player_moved\tint\t0"),t.addMove("player_end_turn\t"+t.game.player),t.endTurn()))))}))}}},{key:"playerPlayActionCardMenu",value:function(e,t){for(var r=this,n=["counter"],a=0;a<this.game.deck[1].hand.length;a++)this.game.deck[1].hand[a].indexOf("sabotage")>-1&&-1==t.indexOf("sabotage")&&(this.game.players_info[this.game.player-1].can_intervene_in_action_card=1);if(!this.game.players_info[this.game.player-1].can_intervene_in_action_card){var i='<div class="action_card_instructions_hud">'+this.returnFaction(e)+" has played an action card:</div>";return i+='<div class="action_card_name_hud">'+r.action_cards[t].name+"</div>",i+='<div class="action_card_text_hud">',i+=this.action_cards[t].text,i+="</div>",this.playerAcknowledgeNotice(i,(function(){"simultaneous"===r.game.state.action_card_order&&(r.prependMove("resolve\tsimultaneous_action_card_player_menu\t1\t"+r.app.wallet.returnPublicKey()),r.addPublickeyConfirm(r.app.wallet.returnPublicKey(),1),console.log("BROADCASTING MOVES 3: "+JSON.stringify(this.moves))),r.endTurn()})),0}var s='<div class="action_card_instructions_hud">'+this.returnFaction(e)+" has played an action card:</div>";s+='<div class="action_card_name_hud">'+r.action_cards[t].name+"</div>",s+='<div class="action_card_text_hud">',s+=this.action_cards[t].text,s+="</div>",s+="<ul>";var o=this.returnPlayerActionCards(this.game.player,n);o.length>0?(s+='<li class="option" id="cont">continue</li>',s+='<li class="option" id="action">play action card</li>'):s+='<li class="option" id="cont">continue</li>';for(var c=0,u=[],l=[],d=this.returnEventObjects(),h=0;h<d.length;h++)if(1==d[h].menuOptionTriggers(this,"action_card",this.game.player)){var p=d[h].menuOption(this,"action_card",this.game.player);s+=p.html,l.push(h),u.push(p.event),c=1}s+="</ul>",this.updateStatus(s),$(".option").off(),$(".option").on("click",(function(){var a=$(this).attr("id");if(1==c)for(var i=0;i<u.length;i++)a==u[i]&&($(this).remove(),d[l[i]].menuOptionActivated(r,"action_card",r.game.player));return"action"==a&&r.playerSelectActionCard((function(n){r.game.players_info[r.game.player-1].action_cards_played.push(n),r.addMove("action_card_post\t"+r.game.player+"\t"+n),r.addMove("action_card\t"+r.game.player+"\t"+n),r.addMove("lose\t"+r.game.player+"\taction_cards\t1"),0==n.indexOf("sabotage")?r.endTurn():r.playerPlayActionCardMenu(e,t)}),(function(){r.playerPlayActionCardMenu(e,t)}),n),"cont"==a&&("simultaneous"===r.game.state.action_card_order&&(r.prependMove("resolve\tsimultaneous_action_card_player_menu\t1\t"+r.app.wallet.returnPublicKey()),r.addPublickeyConfirm(r.app.wallet.returnPublicKey(),1)),r.endTurn()),0}))}},{key:"playerPlayBombardment",value:function(e,t,r){var n=this;this.game.state.bombardment_sector=t,this.game.state.bombardment_planet_idx=r;var a=n.returnSectorAndPlanets(t);if(0==this.game.state.bombardment_against_cultural_planets&&"cultural"==a.p[r].type&&(this.updateLog("Bombardment not possible against cultural planets. Skipping."),this.endTurn()),0==this.game.state.bombardment_against_industrial_planets&&"industrial"==a.p[r].type&&(this.updateLog("Bombardment not possible against industrial planets. Skipping."),this.endTurn()),0==this.game.state.bombardment_against_hazardous_planets&&"hazardous"==a.p[r].type&&(this.updateLog("Bombardment not possible against hazardous planets. Skipping."),this.endTurn()),a.p[r].owner==n.game.player)return n.endTurn(),0;if(this.doesPlanetHavePDS(a.p[r])){if(!this.doesSectorContainPlayerUnit(e,t,"warsun"))return this.updateLog("Bombardment not possible against PDS-defended planets. Skipping."),n.endTurn(),0;this.updateLog("Warsuns make bombardment possible against PDS-defended planets...")}html='<div class="sf-readable">Do you wish to bombard '+a.p[r].name+"? </div><ul>",this.returnPlayerActionCards(this.game.player,["pre_bombardment"]).length>0?(html+='<li class="option" id="bombard">bombard planet</li>',html+='<li class="option" id="action">play action card</li>',html+='<li class="option" id="skip">skip bombardment</li>'):(html+='<li class="option" id="bombard">bombard planet</li>',html+='<li class="option" id="skip">skip bombardment</li>');for(var i=0,s=[],o=[],c=this.returnEventObjects(),u=0;u<c.length;u++)if(1==c[u].menuOptionTriggers(this,"pre_bombardment",this.game.player)){var l=c[u].menuOption(this,"pre_bombardment",this.game.player);html+=l.html,o.push(u),s.push(l.event),i=1}html+="</ul>",this.updateStatus(html),$(".option").on("click",(function(){var e=$(this).attr("id");if(1==i)for(var a=0;a<s.length;a++)e==s[a]&&($(this).remove(),c[o[a]].menuOptionActivated(n,"pre_bombardment",n.game.player));return"action"==e&&n.playerSelectActionCard((function(e){n.game.players_info[this.game.player-1].action_cards_played.push(e),n.addMove("action_card_post\t"+n.game.player+"\t"+e),n.addMove("action_card\t"+n.game.player+"\t"+e),n.addMove("lose\t"+n.game.player+"\taction_cards\t1"),n.playerPlayActionCardMenu(action_card_player,e)}),(function(){n.playerPlayActionCardMenu(action_card_player,card)}),["pre_bombardment"]),"bombard"==e&&(n.addMove("bombard\t"+n.game.player+"\t"+t+"\t"+r),n.endTurn()),"skip"==e&&n.endTurn(),0}))}},{key:"playerAcknowledgeNotice",value:function(e,t){var r='<div class="sf-readable">'+e+"</div><ul>";r+='<li class="textchoice" id="confirmit">I understand...</li>',r+="</ul></p>",this.updateStatus(r);try{$(".textchoice").off(),$(".textchoice").on("click",(function(){t()}))}catch(e){}return 0}},{key:"playerAssignHitsCapitalShips",value:function(e,t,r){var n=this,a=0,i=0,s=0,o=["destroyer","cruiser","carrier","dreadnaught","warsun","flagship"];html='<div class="sf-readable">You must assign '+r+" to your capital ships (if possible):</div><ul>",html+='<li class="option" id="assign">continue</li>',html+="</ul>",this.updateStatus(html),$(".option").on("click",(function(){if("assign"==$(this).attr("id")){var c=n.returnSectorAndPlanets(t),u="";u+='<div class="sf-readable">Assign <div style="display:inline" id="total_hits_to_assign">'+r+"</div> hits:</div>",u+="<ul>";for(var l=0;l<c.s.units[n.game.player-1].length;l++)if(0==c.s.units[n.game.player-1][l].destroyed&&c.s.units[n.game.player-1][l].strength>0){var d=c.s.units[n.game.player-1][l];if(i++,o.includes(d.type)&&s++,u+='<li class="textchoice player_ship_'+l+'" id="'+l+'">'+d.name,d.capacity>=1){for(var h="",p=0,f=0,m=0;m<c.s.units[n.game.player-1][l].storage.length;m++)"infantry"==c.s.units[n.game.player-1][l].storage[m].type&&f++,"fighter"==c.s.units[n.game.player-1][l].storage[m].type&&p++;(f>0||p>0)&&(h+=" ",f>0&&(h+=f+"i"),p>0&&(f>0&&(h+=", "),h+=p+"f"),h+=" "),u+=h}if(d.strength>1){i+=d.strength-1,u+=' <div style="display:inline" id="player_ship_'+l+'_hits">(';for(var g=1;g<d.strength;g++)u+="*";u+=")",u+="</div>"}u+="</li>"}if(u+="</ul>",0==i)return n.endTurn(),0;n.updateStatus(u),$(".textchoice").off(),$(".textchoice").on("click",(function(){var l=$(this).attr("id"),d=c.s.units[n.game.player-1][l];if(s>0){if(!o.includes(d.type))return void salert("You must first assign hits to the required unit types");s--}if(n.addMove("assign_hit\t"+e+"\t"+e+"\t"+n.game.player+"\tship\t"+t+"\t"+l+"\t0"),r--,a++,$("#total_hits_to_assign").innerHTML=r,d.strength>1){d.strength--;var h="#player_ship_"+l+"_hits",p="";if(d.strength>1){u+="(";for(var f=1;f<d.strength;f++)p+="*";p+=")"}$(h).html(p)}else d.strength=0,d.destroyed=0,$(this).remove();n.saveSystemAndPlanets(c),(0==r||a>=i)&&(n.updateStatus("Notifying players of hits assignment..."),n.endTurn(),n.updateStatus("Hits taken..."))}))}}))}},{key:"playerAssignHits",value:function(e,t,r,n,a,i){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",o=this,c=0,u=0,l=["assign_hits"];"pds"==a&&(l=["post_pds"]),html='<div class="sf-readable">You must assign '+i+" to your fleet:</div><ul>";var d=this.returnPlayerActionCards(o.game.player,l);d.length>0?(html+='<li class="option" id="assign">continue</li>',html+='<li class="option" id="action">play action card</li>'):html+='<li class="option" id="assign">continue</li>';var h="";"pds"==a&&(h="assign_hits_pds"),""==h&&"space"==r&&(h="assign_hits_space"),"ground"==r&&(h="assign_hits_ground"),"anti_fighter_barrage"==r&&(h="assign_hits_anti_fighter_barrage");for(var p=0,f=[],m=[],g=this.returnEventObjects(),y=0;y<g.length;y++)if(1==g[y].menuOptionTriggers(this,h,this.game.player)){var b=g[y].menuOption(this,h,this.game.player);html+=b.html,m.push(y),f.push(b.event),p=1}html+="</ul>",this.updateStatus(html),$(".option").on("click",(function(){var d=$(this).attr("id");if(1==p)for(var y=0;y<f.length;y++)d==f[y]&&(this.tech[o.game.players_info[o.game.player-1].tech[m]],g[m[y]].menuOptionActivated(o,h,o.game.player));if("action"==d&&o.playerSelectActionCard((function(e){o.addMove(o.game.state.assign_hits_queue_instruction),o.addMove("action_card_post\t"+o.game.player+"\t"+e),o.addMove("action_card\t"+o.game.player+"\t"+e),o.addMove("lose\t"+o.game.player+"\taction_cards\t1"),o.endTurn(),o.updateStatus("playing action card before hits assignment")}),(function(){o.playerAssignHits(e,t,r,n,a,i,s)}),l),"assign"==d){if(o.game.state.assign_hits_to_cancel>0&&((i-=o.game.state.assign_hits_to_cancel)<0&&(i=0),0==i))return o.updateLog("NOTIFY\t"+o.returnFactionNickname(o.game.player)+" does not take any hits"),o.endTurn(),0;var b=o.returnSectorAndPlanets(n),v="";v+='<div class="sf-readable">Assign <div style="display:inline" id="total_hits_to_assign">'+i+"</div> hits:</div>",v+="<ul>";var _=0,w=o.game.players_info[o.game.player-1].target_units;"anti_fighter_barrage"==r&&(w=["fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter","fighter"]);for(var x=0;x<b.s.units[o.game.player-1].length;x++)if(0==b.s.units[o.game.player-1][x].destroyed&&b.s.units[o.game.player-1][x].strength>0){var k=b.s.units[o.game.player-1][x];if(u++,w.includes(k.type)&&_++,v+='<li class="textchoice player_ship_'+x+'" id="'+x+'">'+k.name,k.capacity>=1){for(var S="",O=0,P=0,E=0;E<b.s.units[o.game.player-1][x].storage.length;E++)"infantry"==b.s.units[o.game.player-1][x].storage[E].type&&P++,"fighter"==b.s.units[o.game.player-1][x].storage[E].type&&O++;(P>0||O>0)&&(S+=" ",P>0&&(S+=P+"i"),O>0&&(P>0&&(S+=", "),S+=O+"f"),S+=" "),v+=S}if(k.strength>1){u+=k.strength-1,v+=' <div style="display:inline" id="player_ship_'+x+'_hits">(';for(var A=1;A<k.strength;A++)v+="*";v+=")",v+="</div>"}v+="</li>"}if(v+="</ul>",0==u)return console.log("ERROR: you had no hits left to assign, bug?"),console.log("SHIPS: "+JSON.stringify(b.s.units[o.game.player-1])),o.endTurn(),0;o.updateStatus(v),$(".textchoice").off(),$(".textchoice").on("click",(function(){var r=$(this).attr("id"),a=b.s.units[o.game.player-1][r];if(_>0){if(!w.includes(a.type))return void salert("You must first assign hits to the required unit types");_--}if(o.addMove("assign_hit\t"+e+"\t"+t+"\t"+o.game.player+"\tship\t"+n+"\t"+r+"\t0"),i--,c++,$("#total_hits_to_assign").innerHTML=i,a.strength>1){a.strength--;var s="#player_ship_"+r+"_hits",l="";if(a.strength>1){v+="(";for(var d=1;d<a.strength;d++)l+="*";l+=")"}$(s).html(l)}else a.strength=0,a.destroyed=0,$(this).remove();o.saveSystemAndPlanets(b),(0==i||c>=u)&&(o.updateStatus("Notifying players of hits assignment..."),o.endTurn(),o.updateStatus("Hits taken..."))}))}}))}},{key:"playerDestroyUnits",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=this,i=t,s=0,o=0,c=a.returnSectorAndPlanets(r);html='<div class="sf-readable">You must destroy '+t+" units in sector: "+a.game.sectors[r].name+":</div><ul>";var u=0,l=a.game.players_info[a.game.player-1].target_units;1==n&&((l=[]).push("destroyer"),l.push("carrier"),l.push("destroyer"),l.push("cruiser"),l.push("dreadnaught"),l.push("warsun"),l.push("flagship"));for(var d=0;d<c.s.units[a.game.player-1].length;d++){var h=c.s.units[a.game.player-1][d];o++,l.includes(h.type)&&u++,html+='<li class="textchoice player_ship_'+d+'" id="'+d+'">'+h.name+"</li>"}for(var p=0;p<c.p.length;p++)for(var f=0;f<c.p[p].units[a.game.player-1].length;f++){var m=c.p[p].units[a.game.player-1][f];o++,l.includes(m.type)&&u++,html+='<li class="textchoice player_unit_'+p+"_"+f+'" id="ground_unit_'+p+"_"+f+'">'+m.name+"</li>"}if(html+="</ul>",0==o)return this.addMove("NOTIFY\t"+this.returnFaction(e)+" has no ships to destroy"),this.endTurn(),0;a.updateStatus(html),$(".textchoice").off(),$(".textchoice").on("click",(function(){var t=$(this).attr("id"),n=0,d=0,h="ship";if(t.indexOf("nd_unit_")>0){h="ground";var p=t.split("_");n=parseInt(p[2]),d=parseInt(p[3])}else t=parseInt(t);var f=null;if(f="ship"==h?c.s.units[a.game.player-1][t]:c.p[n].units[a.game.player-1][d],u>0){if(!l.includes(f.type))return void salert("You must first destroy the required unit types");u--}"ship"==h?a.addMove("destroy_unit\t"+e+"\t"+e+"\tspace\t"+r+"\t0\t"+t+"\t1"):a.addMove("destroy_unit\t"+e+"\t"+e+"\tground\t"+r+"\t"+n+"\t"+d+"\t1"),f.strength=0,f.destroyed=0,$(this).remove(),i--,s++,(0==i||s>=o)&&(a.updateStatus("Notifying players of units destroyed..."),a.endTurn())}))}},{key:"playerDestroyShips",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=this,i=t,s=0,o=0,c=a.returnSectorAndPlanets(r);html='<div class="sf-readable">You must destroy '+t+" ships in your fleet:</div><ul>";var u=0,l=a.game.players_info[a.game.player-1].target_units;1==n&&((l=[]).push("destroyer"),l.push("carrier"),l.push("destroyer"),l.push("cruiser"),l.push("dreadnaught"),l.push("warsun"),l.push("flagship"));for(var d=0;d<c.s.units[a.game.player-1].length;d++){var h=c.s.units[a.game.player-1][d];o++,l.includes(h.type)&&u++,html+='<li class="textchoice player_ship_'+d+'" id="'+d+'">'+h.name+"</li>"}if(html+="</ul>",0==o)return this.addMove("NOTIFY\t"+this.returnFaction(e)+" has no ships to destroy"),this.endTurn(),0;a.updateStatus(html),$(".textchoice").off(),$(".textchoice").on("click",(function(){var t=$(this).attr("id"),n=c.s.units[a.game.player-1][t];if(u>0){if(!l.includes(n.type))return void salert("You must first destroy the required unit types");u--}a.addMove("destroy_unit\t"+e+"\t"+e+"\tspace\t"+r+"\t0\t"+t+"\t1"),n.strength=0,n.destroyed=0,$(this).remove(),i--,s++,(0==i||s>=o)&&(a.updateStatus("Notifying players of hits assignment..."),a.endTurn())}))}},{key:"playerDestroyOpponentShips",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=this,i=0,s=0,o=a.returnSectorAndPlanets(r),c=a.returnOpponentInSector(e,r);if(-1==c)return this.addMove("NOTIFY\t"+this.returnFactionNickname(c)+" has no ships to destroy"),this.endTurn(),0;html='<div class="sf-readable">You may destroy '+t+" ships in opponent fleet:</div><ul>";var u=0,l=a.game.players_info[a.game.player-1].target_units;1==n&&((l=[]).push("destroyer"),l.push("carrier"),l.push("destroyer"),l.push("cruiser"),l.push("dreadnaught"),l.push("warsun"),l.push("flagship"));for(var d=0;d<o.s.units[c-1].length;d++){var h=o.s.units[c-1][d];s++,l.includes(h.type)&&u++,html+='<li class="textchoice player_ship_'+d+'" id="'+d+'">'+h.name+"</li>"}if(html+="</ul>",0==s)return this.addMove("NOTIFY\t"+this.returnFactionNickname(c)+" has no ships to destroy"),this.endTurn(),0;a.updateStatus(html),$(".textchoice").off(),$(".textchoice").on("click",(function(){var n=$(this).attr("id"),d=o.s.units[c-1][n];if(u>0){if(!l.includes(d.type))return void salert("You must first destroy the required unit types");u--}a.addMove("destroy_unit\t"+e+"\t"+c+"\tspace\t"+r+"\t0\t"+n+"\t1"),d.strength=0,d.destroyed=0,$(this).remove(),t--,i++,(0==t||i>=s)&&(a.updateStatus("Notifying players of destroyed ships..."),a.endTurn())}))}},{key:"playerPlaySpaceCombat",value:function(e,t,r){var n=this,a=(this.returnSectorAndPlanets(r),""),i=["space_combat"];this.game.state.space_combat_round>1&&i.push("space_combat_post");var s=e;n.game.player==e&&(s=t),this.game.state.space_combat_sector=r,a='<div class="sf-readable"><b>Space Combat: round '+this.game.state.space_combat_round+':</b><div class="combat_attacker">'+this.returnFaction(e)+'</div><div class="combat_attacker_fleet">'+this.returnPlayerFleetInSector(e,r)+'</div><div class="combat_defender">'+this.returnFaction(t)+'</div><div class="combat_defender_fleet">'+this.returnPlayerFleetInSector(t,r)+"</div><ul>",this.returnPlayerActionCards(this.game.player,i).length>0?(a+='<li class="option" id="attack">continue</li>',a+='<li class="option" id="action">play action card</li>'):a+='<li class="option" id="attack">continue</li>',this.canPlayerRetreat(n.game.player,e,t,r)&&(a+='<li class="option" id="retreat">announce retreat</li>');for(var o=0,c=[],u=[],l=this.returnEventObjects(),d=0;d<l.length;d++)if(1==l[d].menuOptionTriggers(this,"space_combat",this.game.player)){var h=l[d].menuOption(this,"space_combat",this.game.player);a+=h.html,u.push(d),c.push(h.event),o=1}a+="</ul>",this.updateStatus(a),$(".option").on("click",(function(){var a=$(this).attr("id");if(1==o)for(var d=0;d<c.length;d++)a==c[d]&&($(this).remove(),l[u[d]].menuOptionActivated(n,"space_combat",n.game.player));if("action"==a&&n.playerSelectActionCard((function(a){n.addMove("action_card_post\t"+n.game.player+"\t"+a),n.addMove("action_card\t"+n.game.player+"\t"+a),n.addMove("lose\t"+n.game.player+"\taction_cards\t1"),n.playerPlaySpaceCombat(e,t,r)}),(function(){n.playerPlaySpaceCombat(e,t,r)}),i),"attack"==a&&(n.prependMove("ships_fire\t"+e+"\t"+t+"\t"+r),n.endTurn()),"retreat"==a)if(n.canPlayerRetreat(n.game.player,e,t,r)){for(var h=n.returnSectorsWherePlayerCanRetreat(n.game.player,r),p='<div clss="sf-readable">Retreat into which Sector? </div><ul>',f=0;f<h.length;f++)p+='<li class="option" id="'+f+'">'+n.returnSectorAndPlanets(h[f]).s.name+"</li>";p+="</ul>",n.updateStatus(p),$(".option").off(),$(".option").on("click",(function(){var e=$(this).attr("id"),t=h[e];return n.addMove("announce_retreat\t"+n.game.player+"\t"+s+"\t"+r+"\t"+t),n.endTurn(),0}))}else n.playerPlaySpaceCombat(e,t,r)}))}},{key:"playerRespondToRetreat",value:function(e,t,r,n){var a=this,i=this.returnSectorAndPlanets(n),s=this.returnPlayerActionCards(this.game.player,["retreat"]),o='<div class="sf-readable">Your opponent has announced a retreat into '+i.s.name+" at the end of this round of combat: </div><p></p><ul>";s.length>0&&(o+='<li class="option" id="action">play action card</li>'),o+='<li class="option" id="permit">permit retreat</li>',o+="</ul>";for(var c=0,u=[],l=[],d=this.returnEventObjects(),h=0;h<d.length;h++)if(1==d[h].menuOptionTriggers(this,"retreat",this.game.player)){var p=d[h].menuOption(this,"retreat",this.game.player);o+=p.html,l.push(h),u.push(p.event),c=1}o+="</ul>",this.updateStatus(o),$(".option").off(),$(".option").on("click",(function(){var i=$(this).attr("id");if(1==c)for(var s=0;s<u.length;s++)i==u[s]&&($(this).remove(),d[l[s]].menuOptionActivated(a,"space_combat",a.game.player));"action"==i&&a.playerSelectActionCard((function(i){a.addMove("action_card_post\t"+a.game.player+"\t"+i),a.addMove("action_card\t"+a.game.player+"\t"+i),a.addMove("lose\t"+a.game.player+"\taction_cards\t1"),a.playerRespondToRetreat(e,t,r,n)}),function(){a.playerRespondToRetreat(e,t,r,n)}.relevant_action_cards),"permit"==i&&a.endTurn()}))}},{key:"playerPlayGroundCombatOver",value:function(e,t){var r=this,n=this.returnSectorAndPlanets(t),a=this.returnPlayerActionCards(this.game.player,["ground_combat_victory","ground_combat_over","ground_combat_loss"]),i="";i=e==n.p[planet_idx].owner?'<div class="sf-readable">Ground Combat is Over (you win): </div><ul>':'<div class="sf-readable">Space Combat is Over (you lose): </div><ul>',a.length>0?(i+='<li class="option" id="ok">acknowledge</li>',i+='<li class="option" id="action">action card</li>'):i+='<li class="option" id="ok">acknowledge</li>';for(var s=0,o=[],c=[],u=this.returnEventObjects(),l=0;l<u.length;l++)if(1==u[l].menuOptionTriggers(this,"ground_combat_over",this.game.player)){var d=u[l].menuOption(this,"ground_combat_over",this.game.player);i+=d.html,c.push(l),o.push(d.event),s=1}i+="</ul>",this.updateStatus(i),$(".option").off(),$(".option").on("click",(function(){var n=$(this).attr("id");if(1==s)for(var a=0;a<o.length;a++)n==o[a]&&($(this).remove(),u[c[a]].menuOptionActivated(r,"space_combat",r.game.player));"action"===n&&r.playerSelectActionCard((function(n){r.addMove("action_card_post\t"+r.game.player+"\t"+n),r.addMove("action_card\t"+r.game.player+"\t"+n),r.addMove("lose\t"+r.game.player+"\taction_cards\t1"),r.playerPlayGroundCombatOver(e,t,planet_idx)}),(function(){r.playerPlayGroundCombatOver(e,t,planet_idx)})),"ok"===n&&r.endTurn()}))}},{key:"playerPlaySpaceCombatOver",value:function(e,t){var r=this,n=(this.returnSectorAndPlanets(t),this.returnPlayerActionCards(this.game.player,["space_combat_victory","space_combat_over","space_combat_loss"])),a="";a=this.doesPlayerHaveShipsInSector(e,t)?'<div class="sf-readable">Space Combat is Over (you win): </div><ul>':'<div class="sf-readable">Space Combat is Over (you lose): </div><ul>',n.length>0?(a+='<li class="option" id="ok">acknowledge</li>',a+='<li class="option" id="action">action card</li>'):a+='<li class="option" id="ok">acknowledge</li>';for(var i=0,s=[],o=[],c=this.returnEventObjects(),u=0;u<c.length;u++)if(1==c[u].menuOptionTriggers(this,"space_combat_over",this.game.player)){var l=c[u].menuOption(this,"space_combat_over",this.game.player);a+=l.html,o.push(u),s.push(l.event),i=1}a+="</ul>",this.updateStatus(a),$(".option").on("click",(function(){var n=$(this).attr("id");if(1==i)for(var a=0;a<s.length;a++)n==s[a]&&($(this).remove(),c[o[a]].menuOptionActivated(r,"space_combat_over",r.game.player));"action"==n&&r.playerSelectActionCard((function(n){r.addMove("action_card_post\t"+r.game.player+"\t"+n),r.addMove("action_card\t"+r.game.player+"\t"+n),r.addMove("lose\t"+r.game.player+"\taction_cards\t1"),r.playerPlaySpaceCombatOver(e,t,planet_idx)}),(function(){r.playerPlaySpaceCombatOver(e,t,planet_idx)})),"ok"===n&&r.endTurn()}))}},{key:"playerPlayGroundCombat",value:function(e,t,r,n){var a=this,i=this.returnSectorAndPlanets(r),s="";this.game.state.ground_combat_sector=r,this.game.state.ground_combat_planet_idx=n;var o=this.returnNumberOfGroundForcesOnPlanet(e,r,n),c=this.returnNumberOfGroundForcesOnPlanet(t,r,n);s=i.p[n].owner!=e?'<div class="sf-readable">'+this.returnFactionNickname(e)+" are invading "+i.p[n].name+" with "+o+" infantry. "+this.returnFactionNickname(t)+" is defending with "+c+" infantry. This is round "+this.game.state.ground_combat_round+" of ground combat. </div><ul>":'<div class="sf-readable">'+this.returnFactionNickname(t)+" are invading "+i.p[n].name+" with "+c+" infantry. You have "+o+" infantry remaining. This is round "+this.game.state.ground_combat_round+" of ground combat. </div><ul>",this.returnPlayerActionCards(this.game.player,["combat","ground_combat"]).length>0?(s+='<li class="option" id="attack">continue</li>',s+='<li class="option" id="action">play action card</li>'):s+='<li class="option" id="attack">continue</li>';for(var u=0,l=[],d=[],h=this.returnEventObjects(),p=0;p<h.length;p++)if(1==h[p].menuOptionTriggers(this,"ground_combat",this.game.player)){var f=h[p].menuOption(this,"ground_combat",this.game.player);s+=f.html,d.push(p),l.push(f.event),u=1}s+="</ul>",this.updateStatus(s),$(".option").off(),$(".option").on("click",(function(){var i=$(this).attr("id");if(1==u)for(var s=0;s<l.length;s++)i==l[s]&&($(this).remove(),h[d[s]].menuOptionActivated(a,"ground_combat",a.game.player));"action"==i&&a.playerSelectActionCard((function(i){a.addMove("action_card_post\t"+a.game.player+"\t"+i),a.addMove("action_card\t"+a.game.player+"\t"+i),a.addMove("lose\t"+a.game.player+"\taction_cards\t1"),a.playerPlayGroundCombat(e,t,r,n)}),(function(){a.playerPlayGroundCombat(e,t,r,n)})),"attack"==i&&(a.prependMove("infantry_fire\t"+e+"\t"+t+"\t"+r+"\t"+n),a.endTurn())}))}},{key:"playerPlayPDSAttack",value:function(e,t,r){for(var n=this,a="",i=["pre_pds"],s=1,o=-1,c=n.returnSectorAndPlanets(r),u=0;u<c.s.units.length;u++)u+1!=t&&c.s.units[u].length>0&&(o=u+1);a='<div class="sf-readable">Do you wish to fire your PDS before moving into the sector?</div><ul>',-1!=o?n.game.players_info[o-1].temporary_immune_to_pds_fire&&(a='<div class="sf-readable">'+n.returnFaction(o)+" cannot be targeted by PDS fire during this invasion:</div><ul>",s=0):(a='<div class="sf-readable">You cannot target any ships with PDS fire and must skip firing:</div><ul>',s=0),a+='<li class="option" id="skip">skip PDS</li>',1==s&&(a+='<li class="option" id="fire">fire PDS</li>'),this.returnPlayerActionCards(e,i).length>0&&(a+='<li class="option" id="action">play action card</li>');for(var l=0,d=[],h=[],p=this.returnEventObjects(),f=0;f<p.length;f++)if(1==p[f].menuOptionTriggers(this,"pds",this.game.player)){var m=p[f].menuOption(this,"pds",this.game.player);a+=m.html,h.push(f),d.push(m.event),l=1}a+="</ul>",this.updateStatus(a),$(".option").on("click",(function(){var a=$(this).attr("id");if(1==l)for(var s=0;s<d.length;s++)a==d[s]&&($(this).remove(),p[h[s]].menuOptionActivated(n,"pds",n.game.player));"action"==a&&n.playerSelectActionCard((function(a){n.addMove("action_card_post\t"+n.game.player+"\t"+a),n.addMove("action_card\t"+n.game.player+"\t"+a),n.addMove("lose\t"+n.game.player+"\taction_cards\t1"),n.playerPlayPDSAttack(e,t,r)}),(function(){n.playerPlayPDSAttack(e,t,r)}),i),"skip"==a&&n.endTurn(),"fire"==a&&(n.prependMove("pds_fire\t"+n.game.player+"\t"+o+"\t"+r),n.endTurn())}))}},{key:"playerPlayPDSDefense",value:function(e,t,r){var n=this,a="",i=["pre_pds"],s=1;a='<div class="sf-readable">Do you wish to fire your PDS?</div><ul>',n.game.players_info[t-1].temporary_immune_to_pds_fire&&(a='<div class="sf-readable">Your attacker cannot be targeted by PDS fire during this invasion:</div><ul>',s=0),a+='<li class="option" id="skip">skip PDS</li>',1==s&&(a+='<li class="option" id="fire">fire PDS</li>'),this.returnPlayerActionCards(e,i).length>0&&(a+='<li class="option" id="action">play action card</li>');for(var o=0,c=[],u=[],l=this.returnEventObjects(),d=0;d<l.length;d++)if(1==l[d].menuOptionTriggers(this,"pds",this.game.player)){var h=l[d].menuOption(this,"pds",this.game.player);a+=h.html,u.push(d),c.push(h.event),o=1}a+="</ul>",this.updateStatus(a),$(".option").on("click",(function(){var a=$(this).attr("id");if(1==o)for(var s=0;s<c.length;s++)a==c[s]&&($(this).remove(),l[u[s]].menuOptionActivated(n,"pds",n.game.player));"action"==a&&n.playerSelectActionCard((function(a){n.addMove("action_card_post\t"+n.game.player+"\t"+a),n.addMove("action_card\t"+n.game.player+"\t"+a),n.addMove("lose\t"+n.game.player+"\taction_cards\t1"),n.playerPlayPDSDefense(e,t,r)}),(function(){n.playerPlayPDSDefense(e,t,r)}),i),"skip"==a&&n.endTurn(),"fire"==a&&(n.prependMove("pds_fire\t"+n.game.player+"\t"+t+"\t"+r),n.endTurn())}))}},{key:"playerResolveDeadlockedAgenda",value:function(e,t){var r=this,n="";n='<div class="sf-readable">The agenda has become deadlocked in the Senate. You - the Speaker - must resolve it: </div><ul>';for(var a=0;a<t.length;a++)n+='<li class="option" id="'+a+'">'+this.returnNameFromIndex(t[a])+"</li>";n+="</ul>",this.updateStatus(n),$(".option").off(),$(".option").on("click",(function(){var n=$(this).attr("id");return r.addMove("resolve_agenda\t"+e+"\tspeaker\t"+t[n]),r.endTurn(),0}))}},{key:"playerPlayPreAgendaStage",value:function(e,t,r){var n=this,a="",i=this.returnPlayerActionCards(n.game.player,["pre_agenda","rider"]);a=this.doesPlayerHaveRider(n.game.player)?'<div class="sf-readable">With your riders depending on how the other factions vote, your emissaries track the mood in the Senate closely...:</div><ul>':'<div class="sf-readable">As the Senators gather to vote on '+this.agenda_cards[t].name+", your emissaries nervously tally the votes in their head:</div><ul>",a+='<li class="option" id="skip">proceed into Senate</li>',i.length>0&&(a+='<li class="option" id="action">action card</li>');for(var s=0,o=[],c=[],u=this.returnEventObjects(),l=0;l<u.length;l++)if(1==u[l].menuOptionTriggers(this,"pre_agenda",this.game.player)){var d=u[l].menuOption(this,"pre_agenda",this.game.player);a+=d.html,c.push(l),o.push(d.event),s=1}a+="</ul>",0!=s||0!=i.length?(this.updateStatus(a),$(".option").off(),$(".option").on("click",(function(){var a=$(this).attr("id");if(1==s)for(var i=0;i<o.length;i++)a==o[i]&&($(this).remove(),u[c[i]].menuOptionActivated(n,"agenda",n.game.player));"action"==a&&n.playerSelectActionCard((function(a){n.addMove("action_card_post\t"+n.game.player+"\t"+a),n.addMove("action_card\t"+n.game.player+"\t"+a),n.addMove("lose\t"+n.game.player+"\taction_cards\t1"),n.playerPlayPreAgendaStage(e,t,r)}),(function(){n.playerPlayPreAgendaStage(e,t,r)}),["pre_agenda","rider"]),"skip"==a&&n.endTurn()}))):n.endTurn()}},{key:"playerPlayPostAgendaStage",value:function(e,t,r){var n=this,a="",i=["post_agenda"],s=this.returnPlayerActionCards(n.game.player,i);a=r.length>0?'<div class="sf-readable">The Senate has apparently voted for "'+this.returnNameFromIndex(r[0])+'". As the Speaker confirms the final tally, you get the feeling the issue may not be fully settled:</div><ul>':'<div class="sf-readable">No-one in the Senate bothered to show-up and vote, leaving the matter to be decided by the Speaker:</div><ul>',r.length>1&&(a='<div class="sf-readable">The voting has concluded in deadlock. The Speaker must resolve the agenda:</div><ul>'),a+='<li class="option" id="skip">await results</li>',s.length>0&&(a+='<li class="option" id="action">action card</li>');for(var o=0,c=[],u=[],l=this.returnEventObjects(),d=0;d<l.length;d++)if(1==l[d].menuOptionTriggers(this,"post_agenda",this.game.player)){var h=l[d].menuOption(this,"post_agenda",this.game.player);a+=h.html,u.push(d),c.push(h.event),o=1}a+="</ul>",0!=o||0!=s.length?(this.updateStatus(a),$(".option").off(),$(".option").on("click",(function(){var a=$(this).attr("id");if(1==o)for(var s=0;s<c.length;s++)a==c[s]&&($(this).remove(),l[u[s]].menuOptionActivated(n,"post_agenda",n.game.player));"action"==a&&n.playerSelectActionCard((function(a){n.addMove("action_card_post\t"+n.game.player+"\t"+a),n.addMove("action_card\t"+n.game.player+"\t"+a),n.addMove("lose\t"+n.game.player+"\taction_cards\t1"),n.playerPlayPostAgendaStage(e,t,r)}),(function(){n.playerPlayPostAgendaStage(e,t,r)}),i),"skip"==a&&n.endTurn()}))):n.endTurn()}},{key:"playerContinueTurn",value:function(e,t){var r=this;null==this.game.tracker.invasion&&(this.game.tracker=this.returnPlayerTurnTracker(),this.game.tracker.activate_system=1);var n="<div class='sf-readable'><div class='player_color_box player_color_"+this.game.player+"'></div>"+this.returnFaction(e)+": </div><ul>";""!=this.canPlayerScoreActionStageVictoryPoints(e)&&(n+='<li class="option" id="score">score secret objective</li>'),this.canPlayerProduceInSector(e,t)&&0==this.game.tracker.production&&(n+='<li class="option" id="produce">produce units</li>'),this.canPlayerInvadePlanet(e,t)&&0==this.game.tracker.invasion&&("new-byzantium"==t||"4_4"==t?(-1!=r.game.planets["new-byzantium"].owner||r.returnAvailableInfluence(r.game.player)+r.game.players_info[r.game.player-1].goods>=6)&&(n+='<li class="option" id="invade">invade planet</li>'):n+='<li class="option" id="invade">invade planet</li>'),this.canPlayerLandInfantry(e,t)&&0==this.game.tracker.invasion&&(n+='<li class="option" id="land">reassign infantry</li>'),0==this.game.tracker.trade&&1==this.canPlayerTrade(this.game.player)&&(n+='<li class="option" id="trade">trade</li>');for(var a=0,i=[],s=[],o=this.returnEventObjects(),c=0;c<o.length;c++)if(1==o[c].menuOptionTriggers(this,"continue",this.game.player)){var u=o[c].menuOption(this,"continue",this.game.player);n+=u.html,s.push(c),i.push(u.event),a=1}n+='<li class="option" id="endturn">end turn</li>',n+="</ul>",this.updateStatus(n),$(".option").on("click",(function(){var n=$(this).attr("id");if(1==a)for(var c=0;c<i.length;c++)n==i[c]&&($(this).remove(),o[s[c]].menuOptionActivated(r,"continue",r.game.player));if("endturn"==n)return r.addMove("resolve\tplay"),r.addMove("setvar\tstate\t0\tactive_player_moved\tint\t0"),r.endTurn(),0;if("trade"==n)return r.addMove("continue\t"+r.game.player+"\t"+t),r.playerTurn(),0;if("land"==n)return r.addMove("continue\t"+r.game.player+"\t"+t),r.playerSelectInfantryToLand(t),0;if("produce"==n){var u=r.returnSpareFleetSupplyInSector(r.game.player,t);if(u<=1){var l="You have no spare fleet supply in this sector. Do you still wish to produce more ships?";return 1==u&&(l="You have fleet supply for 1 additional capital ship in this sector. Do you still wish to produce more ships?"),void(sconfirm(l)&&(r.addMove("continue\t"+r.game.player+"\t"+t),r.playerProduceUnits(t)))}r.addMove("continue\t"+r.game.player+"\t"+t),r.playerProduceUnits(t)}if("invade"==n){if(("new-byzantium"===t||"4_4"==t)&&-1==r.game.planets["new-byzantium"].owner)return r.returnAvailableInfluence(r.game.player)>=6?void r.playerSelectInfluence(6,(function(n){r.game.tracker.invasion=1,r.playerInvadePlanet(e,t)})):void salert("The first conquest of New Byzantium requires spending 6 influence, which you lack.");r.game.tracker.invasion=1,r.playerInvadePlanet(e,t)}"action"==n&&r.playerSelectActionCard((function(e){r.game.tracker.action_card=1,r.addMove("continue\t"+r.game.player+"\t"+t),r.addMove("action_card_post\t"+r.game.player+"\t"+e),r.addMove("action_card\t"+r.game.player+"\t"+e),r.addMove("lose\t"+r.game.player+"\taction_cards\t1"),r.endTurn()}),(function(){r.playerContinueTurn(e,t)})),"score"==n&&r.playerScoreActionStageVictoryPoints(r,(function(e,r,n){e.addMove("continue\t"+e.game.player+"\t"+t),r>0&&e.addMove("score\t"+e.game.player+"\t"+r+"\t"+n),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(n),e.endTurn()}))}))}},{key:"playerBuyTokens",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this;if(this.returnAvailableInfluence(this.game.player)<=2)return this.updateLog("You skip the initiative secondary, as you lack adequate influence..."),this.updateStatus("Skipping purchase of tokens as insufficient influence..."),1==t&&r.addMove("resolve\tstrategy\t1\t"+r.app.wallet.returnPublicKey()),this.endTurn(),0;var n='<div class="sf-readable">Do you wish to purchase any command or strategy tokens, or increase your fleet supply?</div><ul>';2==e&&(n='<div class="sf-readable">Leadership has been played. Do you wish to purchase any additional command or strategy tokens, or increase your fleet supply?</div><ul>',1==r.game.state.round&&(n="The Leadership strategy card has been played. This lets you spend 3 influence to purchase additional command tokens, strategy tokens or fleet supply. Do you wish to purchase any additional tokens: </p><ul>")),n+='<li class="buildchoice textchoice" id="skip">Do Not Purchase</li>',n+='<li class="buildchoice textchoice" id="command">Command Tokens  +<span class="command_total">0</span></li>',n+='<li class="buildchoice textchoice" id="strategy">Strategy Tokens +<span class="strategy_total">0</span></li>',n+='<li class="buildchoice textchoice" id="fleet">Fleet Supply  +<span class="fleet_total">0</span></li>',n+="</ul></p>",n+="",n+='<div id="buildcost" class="buildcost"><span class="buildcost_total">0</span> influence</div>',n+='<div id="confirm" class="buildchoice">click here to finish</div>',this.updateStatus(n);var a=0,i=0,s=0,o=0;r.lockInterface(),$(".buildchoice").off(),$(".buildchoice").on("click",(function(){if(r.mayUnlockInterface()){var e=$(this).attr("id");if("skip"==e)return 1==t&&r.addMove("resolve\tstrategy\t1\t"+r.app.wallet.returnPublicKey()),r.unlockInterface(),void r.endTurn();"confirm"==e&&(o=3*(s+a+i),1==t&&(r.addMove("resolve\tstrategy\t1\t"+r.app.wallet.returnPublicKey()),r.addPublickeyConfirm(r.app.wallet.returnPublicKey(),1)),r.unlockInterface(),r.playerSelectInfluence(o,(function(e){if(1==e)return r.addMove("purchase\t"+r.game.player+"\tcommand\t"+a),r.addMove("purchase\t"+r.game.player+"\tstrategy\t"+i),r.addMove("purchase\t"+r.game.player+"\tfleetsupply\t"+s),void r.endTurn();r.endTurn()}))),"command"==e&&a++,"strategy"==e&&i++,"fleet"==e&&s++;var n="."+e+"_total",c=parseInt($(n).html());c++,$(n).html(c),o=3*(a+i+s),$(".buildcost_total").html(o);var u=0;return o>r.returnAvailableInfluence(r.game.player)&&(salert("You cannot buy more tokens than you have influence available to pay"),u=1),1==u?(o=0,a=0,i=0,s=0,$(".command_total").html(0),$(".strategy_total").html(0),void $(".fleet_total").html(0)):void 0}salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}},{key:"playerBuyActionCards",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this,r='<div class="sf-readable">Do you wish to spend 1 strategy token to purchase 2 action cards?</div><ul>';2==e&&(r='<div class="sf-readable">Politics has been played: do you wish to spend 1 strategy token to purchase 2 action cards?</div><ul>',1==t.game.state.round&&(r="".concat(t.returnFaction(t.game.player)," has played the Politics strategy card. This lets you to spend 1 strategy token to purchase 2 action cards, which provide special one-time abilities. You have ").concat(t.game.players_info[t.game.player-1].strategy_tokens," strategy tokens. Purchase action cards: </p><ul>"))),r+='<li class="buildchoice textchoice" id="yes">Purchase Action Cards</li>',r+='<li class="buildchoice textchoice" id="no">Do Not Purchase Action Cards</li>',r+="</ul>",this.updateStatus(r),t.lockInterface(),$(".buildchoice").off(),$(".buildchoice").on("click",(function(){if(t.mayUnlockInterface())return t.unlockInterface(),"yes"==$(this).attr("id")?(t.addMove("resolve\tstrategy\t1\t"+t.app.wallet.returnPublicKey()),t.addPublickeyConfirm(t.app.wallet.returnPublicKey(),1),t.addMove("NOTIFY\t"+t.returnFaction(t.game.player)+" gets action cards"),t.addMove("gain\t"+t.game.player+"\taction_cards\t2"),t.addMove("DEAL\t2\t"+t.game.player+"\t2"),t.addMove("expend\t"+t.game.player+"\tstrategy\t1"),t.endTurn(),void t.updateStatus("submitted...")):(t.addMove("resolve\tstrategy\t1\t"+t.app.wallet.returnPublicKey()),t.addPublickeyConfirm(t.app.wallet.returnPublicKey(),1),t.endTurn(),void t.updateStatus("submitted..."));salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}},{key:"playerBuySecretObjective",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this,r='<div class="sf-readable">Do you wish to spend 1 strategy token to purchase a Secret Objective?</div><ul>';2==e&&(r='<div class="sf-readable">The Imperial Strategy card has been played: do you wish to spend 1 strategy token to purchase a Secret Objective?</div><ul>',1==t.game.state.round&&(r="".concat(t.returnFaction(t.game.player)," has played the Imperial strategy card. This lets you to spend 1 strategy token to purchase an additional secret bjective. You have ").concat(t.game.players_info[t.game.player-1].strategy_tokens," strategy tokens. Purchase secret objective: </p><ul>"))),r+='<li class="buildchoice textchoice" id="yes">Purchase Secret Objective</li>',r+='<li class="buildchoice textchoice" id="no">Do Not Purchase</li>',r+="</ul>",this.updateStatus(r),t.lockInterface(),$(".buildchoice").off(),$(".buildchoice").on("click",(function(){if(t.mayUnlockInterface())return t.unlockInterface(),"yes"==$(this).attr("id")?(t.addMove("resolve\tstrategy\t1\t"+t.app.wallet.returnPublicKey()),t.addPublickeyConfirm(t.app.wallet.returnPublicKey(),1),t.addMove("gain\t"+t.game.player+"\tsecret_objective\t1"),t.addMove("DEAL\t6\t"+t.game.player+"\t1"),t.addMove("expend\t"+t.game.player+"\tstrategy\t1"),t.endTurn(),void t.updateStatus("submitted...")):(t.addMove("resolve\tstrategy\t1\t"+t.app.wallet.returnPublicKey()),t.addPublickeyConfirm(t.app.wallet.returnPublicKey(),1),t.endTurn(),void t.updateStatus("submitted..."));salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}},{key:"playerResearchTechnology",value:function(e){var t=this,r='<div class="sf-readable">You are eligible to upgrade to the following technologies: </div><ul>';for(var n in this.tech)this.canPlayerResearchTechnology(n)&&(r+='<li class="option" id="'+n+'">'+this.tech[n].name+"</li>");r+="</ul>",this.updateStatus(r),t.lockInterface(),$(".option").off(),$(".option").on("mouseenter",(function(){var e=$(this).attr("id");t.showTechCard(e)})),$(".option").on("mouseleave",(function(){var e=$(this).attr("id");t.hideTechCard(e)})),$(".option").on("click",(function(){if(t.mayUnlockInterface()){t.unlockInterface();var r=$(this).attr("id");t.hideTechCard(r),t.exhaustPlayerResearchTechnologyPrerequisites(r),e($(this).attr("id"))}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}},{key:"canPlayerScoreActionStageVictoryPoints",value:function(e){for(var t="",r=0;r<this.game.deck[5].hand.length;r++)this.game.players_info[this.game.player-1].objectives_scored.includes(this.game.deck[5].hand[r])||this.canPlayerScoreVictoryPoints(this.game.player,this.game.deck[5].hand[r],3)&&"action"===this.secret_objectives[this.game.deck[5].hand[r]].phase&&(t+='<li class="option secret3" id="'+this.game.deck[5].hand[r]+'">'+this.secret_objectives[this.game.deck[5].hand[r]].name+"</li>");return t}},{key:"playerScoreActionStageVictoryPoints",value:function(e,t){var r="",n=e.game.player;r+='<div class="sf-readable">Do you wish to score a secret objective? </div><ul>',r+=this.canPlayerScoreActionStageVictoryPoints(n),r+='<li class="option cancel" id="cancel">cancel</li>',r+="</ul>",e.updateStatus(r),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface();var r=$(this).attr("id");if($(this).hasClass("stage1"),$(this).hasClass("stage2"),$(this).hasClass("secret3"),"no"===r)t(e,0,"");else{var n=r,a=1;e.secret_objectives[n]&&e.secret_objectives[n].vp>1&&(a=e.stage_ii_objectives[n].vp),t(e,a,n)}}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}},{key:"canPlayerScoreVictoryPoints",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(""==t)return 0;var n=this;if(1==r){var a=this.returnStageIPublicObjectives();if(""!=a[t]&&1==a[t].canPlayerScoreVictoryPoints(n,e))return 1}if(2==r){var i=this.returnStageIIPublicObjectives();if(""!=i[t]&&1==i[t].canPlayerScoreVictoryPoints(n,e))return 1}if(3==r){var s=this.returnSecretObjectives();if(""!=s[t]&&1==s[t].canPlayerScoreVictoryPoints(n,e))return 1}return 0}},{key:"playerScoreSecretObjective",value:function(e,t){var r="";r+='<div class="sf-readable">Do you wish to score any Secret Objectives? </div><ul>';for(var n=0;n<e.game.deck[5].hand.length;n++)e.game.players_info[e.game.player-1].objectives_scored.includes(e.game.deck[5].hand[n])||e.canPlayerScoreVictoryPoints(e.game.player,e.game.deck[5].hand[n],3)&&(e.game.players_info[e.game.player-1].objectives_scored_this_round.includes(e.game.deck[5].hand[n])||(r+='1 VP Secret Objective: <li class="option secret3" id="'+e.game.deck[5].hand[n]+'">'+e.game.deck[5].cards[e.game.deck[5].hand[n]].name+"</li>"));r+='<li class="option" id="no">I choose not to score...</li>',r+="</ul>",e.updateStatus(r),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface();var r=$(this).attr("id");if("no"==r)t(e,0,"");else{var n=r,a=1;e.secret_objectives[n]&&e.secret_objectives[n].vp>1&&(a=e.secret_objectives[n].vp),t(e,a,n)}}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}},{key:"playerScoreVictoryPoints",value:function(e,t){var r="";if(0==e.doesPlayerControlHomeworld(e.game.player))return r+='<div class="sf-readable">You cannot score public objectives without control of your Homeworld: </div><ul>',r+='<li class="option" id="no">I choose not to score...</li>',r+="</ul>",e.updateStatus(r),e.lockInterface(),$(".option").off(),void $(".option").on("click",(function(){e.mayUnlockInterface()?(e.unlockInterface(),t(e,0,"")):salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}));r+='<div class="sf-readable">Do you wish to score any public objectives? </div><ul>';for(var n=0;n<e.game.state.stage_i_objectives.length;n++)e.game.players_info[e.game.player-1].objectives_scored.includes(e.game.state.stage_i_objectives[n])||e.canPlayerScoreVictoryPoints(e.game.player,e.game.state.stage_i_objectives[n],1)&&(e.game.players_info[e.game.player-1].objectives_scored_this_round.includes(e.game.state.stage_i_objectives[n])||(r+='1 VP Public Objective: <li class="option stage1" id="'+e.game.state.stage_i_objectives[n]+'">'+e.game.deck[3].cards[e.game.state.stage_i_objectives[n]].name+"</li>"));for(var a=0;a<e.game.state.stage_ii_objectives.length;a++)e.game.players_info[e.game.player-1].objectives_scored.includes(e.game.state.stage_ii_objectives[a])||e.canPlayerScoreVictoryPoints(e.game.player,e.game.state.stage_ii_objectives[a],2)&&(e.game.players_info[e.game.player-1].objectives_scored_this_round.includes(e.game.state.stage_ii_objectives[a])||(r+='2 VP Public Objective: <li class="option stage2" id="'+e.game.state.stage_ii_objectives[a]+'">'+e.game.deck[4].cards[e.game.state.stage_ii_objectives[a]].name+"</li>"));r+='<li class="option" id="no">I choose not to score...</li>',r+="</ul>",e.updateStatus(r),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface();var r=$(this).attr("id");if($(this).hasClass("stage1"),$(this).hasClass("stage2"),$(this).hasClass("secret3"),"no"===r)t(e,0,"");else{var n=r,a=1;e.stage_ii_objectives[n]&&e.stage_ii_objectives[n].vp>1&&(a=e.stage_ii_objectives[n].vp),t(e,a,n)}}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}},{key:"playerBuildInfrastructure",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this,n="";n+=1==t?"<div class='sf-readable'>Which would you like to build: </div><ul>":"<div class='sf_readable'>You may also build an additional PDS: </div><ul>",n+='<li class="buildchoice" id="pds">Planetary Defense System</li>',1==t&&(n+='<li class="buildchoice" id="spacedock">Space Dock</li>'),n+="</ul>",this.updateStatus(n),r.lockInterface(),$(".buildchoice").off(),$(".buildchoice").on("mouseenter",(function(){var e=$(this).attr("id");r.showUnit(e)})),$(".buildchoice").on("mouseleave",(function(){var e=$(this).attr("id");r.hideUnit(e)})),$(".buildchoice").on("click",(function(){if(r.mayUnlockInterface()){r.unlockInterface(),$(".buildchoice").off();var n=$(this).attr("id");r.playerSelectPlanetWithFilter("Select a planet on which to build: ",(function(e){var t=0;if(r.game.planets[e].owner==r.game.player){for(var a=0;a<r.game.planets[e].units[r.game.player-1].length;a++)r.game.planets[e].units[r.game.player-1][a].type==n&&t++;return"pds"===n&&t>=r.game.state.pds_limit_per_planet||"spacedock"===n&&t>=1?0:1}return 0}),(function(t){"pds"==n&&(r.addMove("produce\t"+r.game.player+"\t1\t"+r.game.planets[t].idx+"\tpds\t"+r.game.planets[t].sector),e(r.game.planets[t].sector)),"spacedock"==n&&(r.addMove("produce\t"+r.game.player+"\t1\t"+r.game.planets[t].idx+"\tspacedock\t"+r.game.planets[t].sector),e(r.game.planets[t].sector))}),(function(){r.unlockInterface(),r.playerBuildInfrastructure(e,t)}))}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}},{key:"playerProduceUnits",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=this,i=this.returnPlayerFleet(a.game.player),s={infantry:0,fighters:0,carriers:0,cruisers:0,dreadnaughts:0,destroyers:0,flagships:0,warsuns:0},o=this.returnSectorAndPlanets(e),c=a.returnAvailableResources(a.game.player);c+=a.game.players_info[a.game.player-1].production_bonus;for(var u=0,l=0;l<o.s.units[this.game.player-1].length;l++)u+=o.s.units[this.game.player-1][l].production;for(var d=0;d<o.p.length;d++)for(var h=0;h<o.p[d].units[this.game.player-1].length;h++)u+=o.p[d].units[this.game.player-1][h].production,"spacedock"===o.p[d].units[this.game.player-1][h].type&&(u+=o.p[d].resources);console.log("Calculated Production Limit: "+u),1==this.game.players_info[this.game.player-1].may_player_produce_without_spacedock&&(0==t&&this.game.players_info[this.game.player-1].may_player_produce_without_spacedock_production_limit>=0&&(t=this.game.players_info[this.game.player-1].may_player_produce_without_spacedock_production_limit),0==r&&this.game.players_info[this.game.player-1].may_player_produce_without_spacedock_cost_limit>=0&&(r=this.game.players_info[this.game.player-1].may_player_produce_without_spacedock_cost_limit)),u>t&&(t=u);var p='<div class="sf-readable">Produce Units in this Sector: ';0!=t&&(p+="("+t+" units max)"),0!=r&&(p+="("+r+" cost max)"),p+="</div><ul>",c>=1&&(p+='<li class="buildchoice" id="infantry">Infantry - <span class="infantry_total">0</span></li>'),c>=1&&(p+='<li class="buildchoice" id="fighter">Fighter - <span class="fighter_total">0</span></li>'),c>=1&&(p+='<li class="buildchoice" id="destroyer">Destroyer - <span class="destroyer_total">0</span></li>'),c>=3&&(p+='<li class="buildchoice" id="carrier">Carrier - <span class="carrier_total">0</span></li>'),c>=2&&(p+='<li class="buildchoice" id="cruiser">Cruiser - <span class="cruiser_total">0</span></li>'),c>=4&&(p+='<li class="buildchoice" id="dreadnaught">Dreadnaught - <span class="dreadnaught_total">0</span></li>'),c>=8&&this.canPlayerProduceFlagship(a.game.player)&&(p+='<li class="buildchoice" id="flagship">Flagship - <span class="flagship_total">0</span></li>'),1==a.game.players_info[a.game.player-1].may_produce_warsuns&&c>=12&&(p+='<li class="buildchoice" id="warsun">War Sun - <span class="warsun_total">0</span></li>'),p+="</ul>",p+="</p>",p+='<div id="buildcost" class="buildcost"><span class="buildcost_total">0 resources</span></div>',p+='<div id="confirm" class="buildchoice">click here to build</div>',this.updateStatus(p);var f=[];a.lockInterface(),$(".buildchoice").off(),$(".buildchoice").on("mouseenter",(function(){var e=$(this).attr("id");a.showUnit(e)})),$(".buildchoice").on("mouseleave",(function(){var e=$(this).attr("id");a.hideUnit(e)})),$(".buildchoice").on("click",(function(){if(a.mayUnlockInterface()){var o=$(this).attr("id");if("confirm"==o){$(".buildchoice").off();for(var c=0,l=0;l<f.length;l++)c+=a.returnUnitCost(f[l],a.game.player);if(a.game.players_info[a.game.player-1].production_bonus>0&&(c-=a.game.players_info[a.game.player-1].production_bonus)<0&&(c=0),0==n?(a.addMove("resolve\tplay"),a.addMove("continue\t"+a.game.player+"\t"+e)):(a.addMove("resolve\tstrategy\t1\t"+a.app.wallet.returnPublicKey()),a.addPublickeyConfirm(a.app.wallet.returnPublicKey(),1),a.addMove("expend\t"+a.game.player+"\tstrategy\t1")),0==c&&0==f.length&&!confirm("Are you sure you want to produce no units at all? Click cancel to re-pick!"))return;return a.unlockInterface(),void a.playerSelectResources(c,(function(t){if(1!=t)salert("failure to find appropriate influence");else{a.addMove("post_production\t"+a.game.player+"\t"+e+"\t"+JSON.stringify(f));for(var r=0;r<f.length;r++){var n=a.returnPlayersLeastDefendedPlanetInSector(a.game.player,e);"infantry"!=f[r]&&(n=-1),a.addMove("produce\t"+a.game.player+"\t1\t"+n+"\t"+f[r]+"\t"+e),a.addMove("setvar\tstate\t0\tactive_player_has_produced\t1"),a.game.tracker.production=1}a.endTurn()}}))}for(var d=0,h=0;h<f.length;h++)d+=a.returnUnitCost(f[h],a.game.player);d+=a.returnUnitCost(o,a.game.player),a.game.players_info[a.game.player-1].production_bonus>0&&(d-=a.game.players_info[a.game.player-1].production_bonus);var p=0;if("fighter"==o&&s.fighters+i.fighters>a.game.players_info[a.game.player-1].fighter_limit&&(salert("You can only have "+a.game.players_info[a.game.player-1].fighter_limit+" fighters on the board"),p=1),"infantry"==o&&s.infantry+i.infantry>a.game.players_info[a.game.player-1].infantry_limit&&(salert("You can only have "+a.game.players_info[a.game.player-1].infantry_limit+" infantry on the board"),p=1),"destroyer"==o&&s.destroyers+i.destroyers>a.game.players_info[a.game.player-1].destroyer_limit&&(salert("You can only have "+a.game.players_info[a.game.player-1].destroyer_limit+" destroyers on the board"),p=1),"carrier"==o&&s.carriers+i.carriers>a.game.players_info[a.game.player-1].carrier_limit&&(salert("You can only have "+a.game.players_info[a.game.player-1].carrier_limit+" carriers on the board"),p=1),"cruiser"==o&&s.cruisers+i.cruisers>a.game.players_info[a.game.player-1].cruiser_limit&&(salert("You can only have "+a.game.players_info[a.game.player-1].cruiser_limit+" cruisers on the board"),p=1),"dreadnaught"==o&&s.dreadnaughts+i.dreadnaughts>a.game.players_info[a.game.player-1].dreadnaught_limit&&(salert("You can only have "+a.game.players_info[a.game.player-1].dreadnaught_limit+" dreadnaughts on the board"),p=1),"flagship"==o&&s.flagships+i.flagships>a.game.players_info[a.game.player-1].flagships_limit&&(salert("You can only have "+a.game.players_info[a.game.player-1].flagship_limit+" flagships on the board"),p=1),"warsun"==o&&s.warsuns+i.warsuns>a.game.players_info[a.game.player-1].warsun_limit&&(salert("You can only have "+a.game.players_info[a.game.player-1].warsun_limit+" warsuns on the board"),p=1),d>a.returnAvailableResources(a.game.player)&&(salert("You cannot build more than you have available to pay for it."),p=1),t<f.length&&t>0&&(salert("You cannot build more units than your production limit"),p=1),r<d&&r>0&&(salert("You cannot build units that cost more than your cost limit"),p=1),f.length+1>u&&(salert("You cannot build more units than your production limit"),p=1),1==p)return f=[],$(".infantry_total").html(0),$(".fighter_total").html(0),$(".destroyer_total").html(0),$(".carrier_total").html(0),$(".cruiser_total").html(0),$(".dreadnaught_total").html(0),$(".flagship_total").html(0),$(".warsun_total").html(0),(s={}).infantry=0,s.fighters=0,s.carriers=0,s.cruisers=0,s.dreadnaughts=0,s.destroyers=0,s.flagships=0,void(s.warsuns=0);f.push(o);for(var m=0,g=0;g<f.length;g++)m+=a.returnUnitCost(f[g],a.game.player);var y="."+o+"_total",b=parseInt($(y).html());b++,$(y).html(b),a.game.players_info[a.game.player-1].production_bonus>0&&(m-=a.game.players_info[a.game.player-1].production_bonus,a.updateLog("Production Costs reduced by 1"));var v=" resources";1==m&&(v=" resource"),$(".buildcost_total").html(m+v)}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}},{key:"playerHandleTradeOffer",value:function(e,t,r,n){var a=this;if(t.promissaries&&t.promissaries.length>0)for(var i=0;i<t.promissaries.length;i++){var s=t.promissaries[i].promissary.split("-"),o=a.factions[s[0]].name;"".concat(o," - ").concat(a.promissary_notes[s[1]].name)}if(r.promissaries&&r.promissaries.length>0)for(var c=0;c<r.promissaries.length;c++){var u=r.promissaries[c].promissary.split("-"),l=a.factions[u[0]].name;"".concat(l," - ").concat(a.promissary_notes[u[1]].name)}var d='<div class="sf-readable">You have received a trade offer from '+a.returnFaction(e)+". ";d+=n,d+=": </div><ul>",d+='  <li class="option" id="yes">accept trade</li>',d+='  <li class="option" id="no">refuse trade</li>',d+="</ul>",a.updateStatus(d),$(".option").off(),$(".option").on("click",(function(){var n=$(this).attr("id");return"no"==n?(a.addMove("refuse_offer\t"+a.game.player+"\t"+e),a.endTurn(),0):"yes"==n?(a.addMove("trade\t"+e+"\t"+a.game.player+"\t"+JSON.stringify(t)+"\t"+JSON.stringify(r)),a.endTurn(),0):void 0}))}},{key:"playerTrade",value:function(){var e=this.returnFactions(),t=0,r=0,n=[],a=[],i=0,s=0,o=function(t,r,n,a){for(var o='<div class="sf-readable">Make Trade Offer to Faction: </div><ul>',c=0;c<t.game.players_info.length;c++)0==t.game.players_info[c].traded_this_turn&&c+1!=t.game.player&&t.arePlayersAdjacent(t.game.player,c+1)&&(o+='  <li class="option" id="'.concat(c,'">').concat(e[t.game.players_info[c].faction].name,"</li>"));o+='  <li class="option" id="cancel">cancel</li>',o+="</ul>",t.updateStatus(o),$(".option").off(),$(".option").on("click",(function(){var e=$(this).attr("id");if("cancel"==e)return t.playerTurn(),0;i=t.game.players_info[t.game.player-1].commodities+t.game.players_info[t.game.player-1].goods,s=t.game.players_info[parseInt(e)].commodities+t.game.players_info[parseInt(e)].goods,n(t,parseInt(e)+1,r,n,a)}))};o(this,o,(function(e,o,c,u,l){for(var d="no promissaries",h=0;h<a.length;h++){0==h&&(d="");var p=a[h].promissary.split("-"),f=e.factions[p[0]].name;h>0&&(d+=", "),d+="".concat(f," - ").concat(e.promissary_notes[p[1]].name)}for(var m="no promissaries",g=0;g<n.length;g++){0==g&&(m="");var y=n[g].promissary.split("-"),b=e.factions[y[0]].name;g>0&&(m+=", "),m+="".concat(b," - ").concat(e.promissary_notes[y[1]].name)}var v="<div class='sf-readable'>Make an Offer: </div><ul>";v+='<li id="to_offer" class="option">you give <span class="offer_total">'+t+"</span> trade goods</li>",v+='<li id="to_receive" class="option">you receive <span class="receive_total">'+r+"</span> trade goods</li>",v+='<li id="promissary_offer" class="option">you give <span class="give_promissary">'+m+"</span></li>",v+='<li id="promissary_receive" class="option">you receive <span class="receive_promissary">'+d+"</span></li>",v+='<li id="confirm" class="option">submit offer</li>',v+='<li id="cancel" class="option">cancel</li>',v+="</ul>",e.updateStatus(v),$(".option").off(),$(".option").on("click",(function(){var d=$(this).attr("id");if("to_offer"==d&&++t>i&&(t=0),"to_receive"==d&&++r>s&&(r=0),"cancel"!=d)if("promissary_offer"!=d)if("promissary_receive"!=d){if("confirm"==d){var h={};h.goods=$(".offer_total").html(),h.promissaries=n;var p={};p.goods=$(".receive_total").html(),p.promissaries=a,e.addMove("offer\t"+e.game.player+"\t"+o+"\t"+JSON.stringify(h)+"\t"+JSON.stringify(p)),e.updateStatus("trade offer submitted"),e.endTurn()}$(".offer_total").html(t),$(".receive_total").html(r)}else l(e,o,2,c,u,l);else l(e,o,1,c,u,l);else e.playerTurn()}))}),(function(e,t,r,i,s,o){if(1==r){for(var c='<div class="sf-readable">Add Promissary to YOUR Offer: </div><ul>',u=0;u<e.game.players_info[e.game.player-1].promissary_notes.length;u++){for(var l=e.game.players_info[e.game.player-1].promissary_notes[u],d=l.split("-"),h=e.factions[d[0]].name,p=0,f=0;f<n.length;f++)n[f].promissary===l&&(p=1);0==p&&(c+='  <li class="option" id="'.concat(u,'">').concat(h," - ").concat(e.promissary_notes[d[1]].name,"</li>"))}c+='  <li class="option" id="cancel">cancel</li>',e.updateStatus(c),$(".option").off(),$(".option").on("click",(function(){var r=$(this).attr("id");if("cancel"==r)return s(e,t,i,s,o),0;var a={player:e.game.player,promissary:e.game.players_info[e.game.player-1].promissary_notes[r]};n.push(a),s(e,t,i,s,o)}))}if(2==r){for(var m='<div class="sf-readable">Request Promissary FROM them: </div><ul>',g=0;g<e.game.players_info[t-1].promissary_notes.length;g++){for(var y=e.game.players_info[t-1].promissary_notes[g],b=y.split("-"),v=e.factions[b[0]].name,_=0,w=0;w<a.length;w++)a[w].promissary===y&&(_=1);0==_&&(m+='  <li class="option" id="'.concat(g,'">').concat(v," - ").concat(e.promissary_notes[b[1]].name,"</li>"))}m+='  <li class="option" id="cancel">cancel</li>',e.updateStatus(m),$(".option").off(),$(".option").on("click",(function(){var r=$(this).attr("id");if("cancel"==r)return s(e,t,i,s,o),0;var n={player:t,promissary:e.game.players_info[t-1].promissary_notes[r]};a.push(n),s(e,t,i,s,o)}))}}))}},{key:"playerSelectSector",value:function(e){$(".sector").off(),$(".sector").on("click",(function(){$(".sector").off();var t=$(this).attr("id");e(t)}))}},{key:"playerSelectPlanet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this,n="Select a system in which to select a planet: ";this.updateStatus(n),$(".sector").on("click",(function(){var a=$(this).attr("id"),i=r.returnSectorAndPlanets(a);if(2==t){for(var s=0,o=0;o<i.p.length;o++)i.p[o].owner==r.game.player&&(s=1);if(0==s)return void salert("Invalid Choice: you do not control planets in that sector")}n='<div class="sf-readable">Select a planet in this system: </div><ul>';for(var c=0;c<i.p.length;c++)0==t&&(n+='<li class="option" id="'+c+'">'+i.p[c].name+' - <span class="invadeplanet_'+c+'">0</span></li>'),1==t&&(n+='<li class="option" id="'+c+'">'+i.p[c].name+' - <span class="invadeplanet_'+c+'">0</span></li>'),2==t&&i.p[c].owner==r.game.player&&(n+='<li class="option" id="'+c+'">'+i.p[c].name+"</li>");n+="</ul>",r.updateStatus(n),$(".option").off(),$(".option").on("mouseenter",(function(){var e=$(this).attr("id");r.showPlanetCard(a,e),r.showSectorHighlight(a)})),$(".option").on("mouseleave",(function(){var e=$(this).attr("id");r.hidePlanetCard(a,e),r.hideSectorHighlight(a)})),$(".option").on("click",(function(){var t=$(this).attr("id");r.hidePlanetCard(a,t),e(a,t)}))}))}},{key:"playerSelectInfluence",value:function(e,t){if(0!=e){for(var r=this,n=this.returnPlayerUnexhaustedPlanetCards(this.game.player),a=[],i=0,s=r.game.players_info[r.game.player-1].goods,o="<div class='sf-readable'>Select "+e+" in influence: </div><ul>",c=0;c<n.length;c++)o+='<li class="cardchoice cardchoice-card" id="cardchoice_'+n[c]+'">'+this.returnPlanetCard(n[c])+"</li>";1==r.game.players_info[r.game.player-1].goods?o+='<li class="textchoice" id="trade_goods" style="clear:both">'+r.game.players_info[r.game.player-1].goods+" trade good</li>":o+='<li class="textchoice" id="trade_goods" style="clear:both">'+r.game.players_info[r.game.player-1].goods+" trade goods</li>",o+="</ul>",this.updateStatus(o),this.lockInterface(),$(".cardchoice , .textchoice").on("click",(function(){for(var o=$(this).attr("id"),c=o.split("_"),u="#"+o,l=c[1],d=0,h=0;h<n.length;h++)n[h]===l&&(d=h);if("trade_goods"==o?s>0&&(r.addMove("expend\t"+r.game.player+"\tgoods\t1"),s--,i+=1,1==s?$("#trade_goods").html(s+" trade good"):$("#trade_goods").html(s+" trade goods")):(r.addMove("expend\t"+r.game.player+"\tplanet\t"+n[d]),a.push(n[d]),$(u).off(),$(u).css("opacity","0.2"),i+=r.game.planets[n[d]].influence),e<=i){if(!r.mayUnlockInterface())return void salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.");r.unlockInterface(),$(".cardchoice , .textchoice").off(),t(1)}}))}else t(1)}},{key:"playerSelectStrategyAndCommandTokens",value:function(e,t){0==e&&t(1);var r=this,n=0,a="<div class='sf-readable'>Select "+e+" in Strategy and Command Tokens: </div><ul>";a+='<li class="textchoice" id="command">command tokens - <span class="available_command_tokens">'+r.game.players_info[r.game.player-1].command_tokens+"</span></li>",a+='<li class="textchoice" id="strategy">strategy tokens - <span class="available_strategy_tokens">'+r.game.players_info[r.game.player-1].strategy_tokens+"</span></li>",a+="</ul>",this.updateStatus(a),this.lockInterface(),$(".textchoice").on("click",(function(){var a=$(this).attr("id");if("strategy"==a){var i=parseInt($(".available_strategy_tokens").html());i>0&&(n++,$(".available_strategy_tokens").html(i-1),r.addMove("expend\t"+r.game.player+"\tstrategy\t1"))}if("command"==a){var s=parseInt($(".available_command_tokens").html());s>0&&(n++,$(".available_command_tokens").html(s-1),r.addMove("expend\t"+r.game.player+"\tcommand\t1"))}if(e<=n){if(!r.mayUnlockInterface())return void salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.");r.unlockInterface(),$(".textchoice").off(),t(1)}}))}},{key:"playerSelectResources",value:function(e,t){if(0!=e){for(var r=this,n=this.returnPlayerUnexhaustedPlanetCards(this.game.player),a=[],i=0,s=r.game.players_info[r.game.player-1].goods,o="<div class='sf-readable'>Select "+e+" in resources: </div><ul>",c=0;c<n.length;c++)o+='<li class="cardchoice cardchoice-card" id="cardchoice_'+n[c]+'">'+this.returnPlanetCard(n[c])+"</li>";1==r.game.players_info[r.game.player-1].goods?o+='<li class="textchoice" id="trade_goods" style="clear:both">'+r.game.players_info[r.game.player-1].goods+" trade good</li>":o+='<li class="textchoice" id="trade_goods" style="clear:both">'+r.game.players_info[r.game.player-1].goods+" trade goods</li>",o+="</ul>",this.updateStatus(o),this.lockInterface(),$(".cardchoice , .textchoice").on("click",(function(){for(var o=$(this).attr("id"),c=o.split("_"),u="#"+o,l=c[1],d=0,h=0;h<n.length;h++)n[h]===l&&(d=h);if("trade_goods"==o?s>0&&(r.addMove("expend\t"+r.game.player+"\tgoods\t1"),s--,i+=1,1==s?$("#trade_goods").html(s+" trade good"):$("#trade_goods").html(s+" trade goods")):(r.addMove("expend\t"+r.game.player+"\tplanet\t"+n[d]),a.push(n[d]),$(u).off(),$(u).css("opacity","0.2"),i+=parseInt(r.game.planets[n[d]].resources)),e<=i){if(!r.mayUnlockInterface())return void salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.");r.unlockInterface(),$(".cardchoice , .textchoice").off(),t(1)}}))}else t(1)}},{key:"playerSelectActionCard",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=this,a=this.returnPlayerActionCards(this.game.player,r);if(0==a.length)return this.playerAcknowledgeNotice("You do not have any action cards that can be played now",(function(){return null!=t?(t(),0):(n.playerTurn(),0)})),0;var i="";i+="<div class='sf-readable'>Select an action card: </div><ul>";for(var s=0;s<a.length;s++)if(!this.game.players_info[this.game.player-1].action_cards_played.includes(a[s])){var o=n.action_cards[a[s]];i+='<li class="textchoice pointer" id="'+a[s]+'">'+o.name+"</li>"}i+='<li class="textchoice pointer" id="cancel">cancel</li>',i+="</ul>",this.updateStatus(i),$(".textchoice").off(),$(".textchoice").on("mouseenter",(function(){var e=$(this).attr("id");"cancel"!=e&&n.showActionCard(e)})),$(".textchoice").on("mouseleave",(function(){var e=$(this).attr("id");"cancel"!=e&&n.hideActionCard(e)})),$(".textchoice").on("click",(function(){var r=$(this).attr("id");if("cancel"!=r&&n.hideActionCard(r),"cancel"===r)return t(),0;n.game.tracker&&(n.game.tracker.action_card=1),"action"==n.action_cards[r].type&&(n.game.state.active_player_moved=1),n.game.players_info[n.game.player-1].action_cards_played.push(r),e(r)}))}},{key:"playerSelectStrategyCard",value:function(e){var t=this.game.players_info[this.game.player-1].strategy,r=this.returnStrategyCards(),n=this,a="";for(var i in a+="<div class='sf-readable'>Select a strategy card: </div><ul>",t)this.game.players_info[this.game.player-1].strategy_cards_played.includes(t[i])||(a+='<li class="textchoice" id="'+t[i]+'">'+r[t[i]].name+"</li>");a+='<li class="textchoice pointer" id="cancel">cancel</li>',a+="</ul>",this.updateStatus(a),$(".textchoice").on("mouseenter",(function(){var e=$(this).attr("id");"cancel"!=e&&n.showStrategyCard(e)})),$(".textchoice").on("mouseleave",(function(){var e=$(this).attr("id");"cancel"!=e&&n.hideStrategyCard(e)})),$(".textchoice").on("click",(function(){var t=$(this).attr("id");"cancel"!=t&&n.hideStrategyCard(t),"cancel"!==t?e(t):n.playerTurn()}))}},{key:"playerSelectStrategyCards",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this,n=this.returnStrategyCards(),a="player_color_"+this.game.player,i=["strategy"],s=this.returnPlayerActionCards(this.game.player,i),o="<div class='terminal_header'><div class='player_color_box "+a+"'></div>"+this.returnFaction(this.game.player)+": select your strategy card:</div><ul>";this.game.state.round>1&&(o="<div class='terminal_header'>"+this.returnFaction(this.game.player)+": select your strategy card:</div><ul>"),s.length>0&&(o+='<li class="option" id="action">play action card</li>');var c=[],u=[],l=[];for(var d in this.strategy_cards)c.push(""),u.push({});for(var h=0;h<this.game.state.strategy_cards.length;h++){for(var p=parseInt(this.strategy_cards[this.game.state.strategy_cards[h]].rank);""!=c[p-1];)p++;c[p-1]='<li class="textchoice" id="'+this.game.state.strategy_cards[h]+'">'+n[this.game.state.strategy_cards[h]].name+"</li>",u[p-1]=n[this.game.state.strategy_cards[h]]}for(var f=0;f<c.length;f++)""!=c[f]&&(o+=c[f]);for(var m in n){for(var g=0,y=0;y<u.length;y++)n[m].name===u[y].name&&(g=1);var b=parseInt(n[m].rank);0==g&&(u[b-1]=n[m],l.push(n[m]))}if(o+="</ul></p>",this.updateStatus(o),$(".textchoice").off(),$(".textchoice").on("mouseenter",(function(){var e=$(this).attr("id");"cancel"!=e&&r.showStrategyCard(e)})),$(".textchoice").on("mouseleave",(function(){var e=$(this).attr("id");"cancel"!=e&&r.hideStrategyCard(e)})),$(".textchoice").on("click",(function(){var t=$(this).attr("id");if("action"==t)return r.playerSelectActionCard((function(e){return r.addMove("pickstrategy\t"+r.game.player),r.addMove("action_card_post\t"+r.game.player+"\t"+e),r.addMove("action_card\t"+r.game.player+"\t"+e),r.addMove("lose\t"+r.game.player+"\taction_cards\t1"),r.endTurn(),0}),(function(){r.playerSelectActionCards(action_card_player,card)}),["action"]),0;r.hideStrategyCard(t),e(t)})),0==s.length){var v="Select Your Strategy Card";1==t&&(v="Select Your FIRST Strategy Card"),2==t&&(v="Select Your SECOND Strategy Card"),3==t&&(v="Select Your THIRD Strategy Card"),4==t&&(v="Select Your FOURTH Strategy Card"),r.overlay.showCardSelectionOverlay(r.app,r,u,{title:v,subtitle:"you must play this card sometime during your turn",textAlign:"center",rowGap:"30px",columnGap:"30px",columns:4,unselectableCards:l,backgroundImage:"/imperium/img/starscape_background3.jpg",onCardSelect:function(t){r.overlay.hideOverlay(),r.hideStrategyCard(t),e(t)}},(function(){}))}}},{key:"playerRemoveInfantryFromPlanets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,n=this,a="";a+='<div class="sf-readable">Remove '+t+" infantry from planets you control:</div>",a+="<ul>";var i=[];for(var s in this.game.planets){var o=this.game.planets[s];if(o.owner==e){for(var c=0,u=0;u<o.units[e-1].length;u++)"infantry"==o.units[e-1][u].type&&c++;c>0&&(a+='<li class="option textchoice" id="'+s+'">'+o.name+' - <div style="display:inline" id="'+s+'_infantry">'+c+"</div></li>")}}a+='<li class="option textchoice" id="end"></li>',a+="</ul>",this.updateStatus(a),$(".textchoice").off(),$(".textchoice").on("click",(function(){var a=$(this).attr("id");if("end"!=a){i.push({infantry:1,planet:a});var s="#"+a+"_infantry",o=$(s).html(),c=parseInt(o)-1;c<0&&(c=0),$(s).html(c),0==c&&$(this).remove(),i.length>=t&&$("#end").click()}else{for(var u=0;u<i.length;u++)for(var l=n.game.planets[i[u].planet],d=l.units[e-1].length,h=0;h<d;h++)"infantry"==l.units[e-1][h].type&&(l.units[e-1].splice(h,1),h=d+2,n.addMove("remove_infantry_from_planet\t"+e+"\t"+i[u].planet+"\t0"),n.addMove("NOTIFY\tREMOVING INFANTRY FROM PLANET: "+i[u].planet));r(i.length)}}))}},{key:"playerAddInfantryToPlanets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,n=this,a="";a+='<div class="sf-readable">Add '+t+" infantry to planets you control:</div>",a+="<ul>";var i=[];for(var s in this.game.planets){var o=this.game.planets[s];if(o.owner==e){for(var c=0,u=0;u<o.units[e-1].length;u++)"infantry"==o.units[e-1][u].type&&c++;a+='<li class="option textchoice" id="'+s+'">'+o.name+' - <div style="display:inline" id="'+s+'_infantry">'+c+"</div></li>"}}a+='<li class="option textchoice" id="end"></li>',a+="</ul>",this.updateStatus(a),$(".textchoice").off(),$(".textchoice").on("click",(function(){var a=$(this).attr("id");if("end"!=a){i.push({infantry:1,planet:a});var s="#"+a+"_infantry",o=$(s).html(),c=parseInt(o)+1;$(s).html(c),i.length>=t&&$("#end").click()}else{for(var u=0;u<i.length;u++)n.addMove("add_infantry_to_planet\t"+e+"\t"+i[u].planet+"\t1");r(i.length)}}))}},{key:"playerSelectUnitsToMove",value:function(e){var t,r,n,a=[],i={max_hops:2};i.ship_move_bonus=this.game.players_info[this.game.player-1].ship_move_bonus+this.game.players_info[this.game.player-1].temporary_ship_move_bonus,i.fleet_move_bonus=this.game.players_info[this.game.player-1].fleet_move_bonus+this.game.players_info[this.game.player-1].temporary_fleet_move_bonus,i.ships_and_sectors=[],i.stuff_to_move=[],i.stuff_to_load=[],i.distance_adjustment=0,i.max_hops+=i.ship_move_bonus,i.max_hops+=i.fleet_move_bonus;var s=this.returnSectorsWithinHopDistance(e,i.max_hops,this.game.player);t=s.sectors,a=s.distance,r=s.hazards,n=s.hoppable;for(var o=0;o<a.length;o++)i.ship_move_bonus>0&&a[o]--,i.fleet_move_bonus>0&&a[o]--;i.ship_move_bonus>0&&(i.distance_adjustment+=i.ship_move_bonus),i.fleet_move_bonus>0&&(i.distance_adjustment+=i.fleet_move_bonus),i.ships_and_sectors=this.returnShipsMovableToDestinationFromSectors(e,t,a,r,n);var c=function(t,r,n){var a=0;r.ship_move_bonus>0&&(a+=r.ship_move_bonus),r.fleet_move_bonus>0&&(a+=r.fleet_move_bonus);for(var i=r.distance_adjustment-a,s="<div class='player_color_box player_color_"+t.game.player+"'></div> "+t.returnFaction(t.game.player)+": select ships to move<ul>",o=0;o<r.ships_and_sectors.length;o++){var c=t.returnSectorAndPlanets(r.ships_and_sectors[o].sector);s+='<b class="sector_name" id="'+r.ships_and_sectors[o].sector+'" style="margin-top:10px">'+c.s.name+"</b>",s+='<ul class="ship_selector">';for(var u=0;u<r.ships_and_sectors[o].ships.length;u++){for(var l=0,d=0;d<r.stuff_to_move.length;d++)1==r.stuff_to_move[d].already_moved&&(l=1),r.stuff_to_move[d].sector==r.ships_and_sectors[o].sector&&r.stuff_to_move[d].i==o&&r.stuff_to_move[d].ii==u&&(l=1);var h=0;"rift"===r.ships_and_sectors[o].hazards[u]&&(h=1),1==l?s+=0==h?'<li id="sector_'.concat(o,"_").concat(u,'" class=""><b>').concat(t.returnShipInformation(r.ships_and_sectors[o].ships[u]),"</b></li>"):'<li id="sector_'.concat(o,"_").concat(u,'" class=""><b>').concat(t.returnShipInformation(r.ships_and_sectors[o].ships[u]),"</b> - rift</li>"):r.ships_and_sectors[o].ships[u].move-(r.ships_and_sectors[o].adjusted_distance[u]+i)>=0&&(s+=0==h?'<li id="sector_'.concat(o,"_").concat(u,'" class="option">').concat(t.returnShipInformation(r.ships_and_sectors[o].ships[u]),"</li>"):'<li id="sector_'.concat(o,"_").concat(u,'" class="option">').concat(t.returnShipInformation(r.ships_and_sectors[o].ships[u])," - rift</li>"))}s+="</ul>"}s+="<hr />",s+='<div id="confirm" class="option">click here to move</div>',s+="<hr />",t.updateStatus(s);var p=".sector_name";$(p).on("mouseenter",(function(){var e=$(this).attr("id");t.addSectorHighlight(e)})),$(p).on("mouseleave",(function(){var e=$(this).attr("id");t.removeSectorHighlight(e)})),$(".option").off(),$(".option").on("click",(function(){var a=$(this).attr("id");if("confirm"!=a){if("clear"==a)return salert("To change movement options, please reload!"),void window.location.reload(!0);$(this).css("font-weight","bold"),this.classList.add("ship_selected");var i=a.split("_"),s=i[1],o=i[2],c=r.ships_and_sectors[s].distance,u=r.ships_and_sectors[s].sector,l=t.returnSectorAndPlanets(u),d=r.ships_and_sectors[s].ships[o],h=t.returnRemainingCapacity(d),f={i:s,ii:o,sector:u};c+r.distance_adjustment>d.move+r.fleet_move_bonus&&r.ship_move_bonus--,"fighter"==d.type&&(r.ships_and_sectors[s].ships[o].already_moved=1),r.stuff_to_move.push(f),n(t,r,n);for(var m=0,g=0;g<l.p.length;g++)for(var y=l.p[g].units[t.game.player-1],b=0;b<y.length;b++)"infantry"==y[b].type&&m++;for(var v=0;v<l.s.units[t.game.player-1].length;v++)"fighter"==l.s.units[t.game.player-1][v].type&&m++;for(var _=0;_<l.s.units[t.game.player-1].length;_++)if("fighter"==l.s.units[t.game.player-1][_].type){for(var w=0,x=0;x<r.stuff_to_move.length;x++)r.stuff_to_move[x].sector==u&&r.stuff_to_move[x].ii==_&&(w=1);1==w&&m--}if(h>0&&m>0){for(var k=0;k<r.stuff_to_load.length;k++){var S=r.stuff_to_load[k];S.i==s&&S.ii==o&&JSON.parse(r.stuff_to_load[k].unitjson).capacity_required}for(var O='<div class="sf-readable">This ship has <span class="capacity_remaining">'.concat(h,"</span> capacity. Infantry can capture planets and fighters can protect your fleet. Do you wish to add them? </div><ul>"),P=0;P<l.p.length;P++){for(var E=l.p[P].units[t.game.player-1],A=0,C=0;C<E.length;C++)"infantry"==E[C].type&&A++;A>0&&(O+='<li class="option textchoice" id="addinfantry_p_'+P+'">add infantry from '+l.p[P].name+' - <span class="add_infantry_remaining_'+P+'">'+A+"</span></li>")}for(var T=0,D=0;D<l.s.units[t.game.player-1].length;D++)if("fighter"==l.s.units[t.game.player-1][D].type){for(var j=0,M=0;M<r.stuff_to_move.length;M++)r.stuff_to_move[M].sector==u&&r.stuff_to_move[M].ii==D&&(j=1);0==j&&T++}O+='<li class="option textchoice" id="addfighter_s_s">add fighter - <span class="add_fighters_remaining">'+T+"</span></li>",O+='<li class="option textchoice" id="skip">finish</li>',O+="</ul></div>",$(".status-overlay").html(O),$(".status-overlay").show(),$(".status").hide(),$(".textchoice").off();for(var I=function(e){p="#addinfantry_p_"+e,$(p).on("mouseenter",(function(){t.addPlanetHighlight(u,e)})),$(p).on("mouseleave",(function(){t.removePlanetHighlight(u,e)}))},R=0;R<l.p.length;R++)I(R);p="#addfighter_s_s",$(p).on("mouseenter",(function(){t.addSectorHighlight(u)})),$(p).on("mouseleave",(function(){t.removeSectorHighlight(u)})),$(".textchoice").on("click",(function(){var e=$(this).attr("id").split("_"),n=e[0];if(h>0){if("addinfantry"===n){var a=e[2],i=".add_infantry_remaining_"+a,c=parseInt($(i).html()),d=parseInt($(".capacity_remaining").html()),p=t.unloadUnitFromPlanet(t.game.player,u,a,"infantry"),f=JSON.stringify(l.s.units[t.game.player-1][r.ships_and_sectors[s].ship_idxs[o]]);t.loadUnitByJSONOntoShip(t.game.player,u,r.ships_and_sectors[s].ship_idxs[o],p),$(i).html(c-1),$(".capacity_remaining").html(d-1);var m={};m.sector=u,m.source="planet",m.source_idx=a,m.unitjson=p,m.ship_idx=r.ships_and_sectors[s].ship_idxs[o],m.shipjson=f,m.i=s,m.ii=o,h--,r.stuff_to_load.push(m),1===d&&0==h&&($(".status").show(),$(".status-overlay").hide())}if("addfighter"===n){if(T<=0)return;var g=parseInt($(".add_fighters_remaining").html()),y=parseInt($(".capacity_remaining").html());$(".add_fighters_remaining").html(g-1),T--,$(".capacity_remaining").html(y-1);for(var b=r.ships_and_sectors.length,v=0;v<r.ships_and_sectors.length;v++)if(r.ships_and_sectors[v].sector===u)for(var _=r.ships_and_sectors[v].ships.length,w=0;w<_;w++)1==r.ships_and_sectors[v].ships[w].already_moved||"fighter"==r.ships_and_sectors[v].ships[w].type&&($("#sector_"+v+"_"+w).remove(),r.ships_and_sectors[v].ships[w]={},r.ships_and_sectors[v].adjusted_distance[w]=0,w=_+2,v=b+2);var x=t.removeSpaceUnit(t.game.player,u,"fighter"),k=JSON.stringify(l.s.units[t.game.player-1][r.ships_and_sectors[s].ship_idxs[o]]);t.loadUnitByJSONOntoShip(t.game.player,u,r.ships_and_sectors[s].ship_idxs[o],x);var S={};r.stuff_to_load.push(S),S.sector=u,S.source="ship",S.source_idx="",S.unitjson=x,S.ship_idx=r.ships_and_sectors[s].ship_idxs[o],S.shipjson=k,S.i=s,S.ii=o,h--,1==y&&0==h&&($(".status").show(),$(".status-overlay").hide())}}"skip"===n&&($(".status-overlay").hide(),$(".status").show())}))}}else{t.addMove("resolve\tplay"),t.addMove("space_invasion\t"+t.game.player+"\t"+e),t.addMove("check_fleet_supply\t"+t.game.player+"\t"+e);for(var B=0;B<r.stuff_to_move.length;B++){var N=r.stuff_to_move[B].i,F=r.stuff_to_move[B].ii,q=r.ships_and_sectors[N].hazards[F];t.addMove("check_fleet_supply\t"+t.game.player+"\t"+r.ships_and_sectors[r.stuff_to_move[B].i].sector),t.addMove("move\t"+t.game.player+"\t1\t"+r.ships_and_sectors[r.stuff_to_move[B].i].sector+"\t"+e+"\t"+JSON.stringify(r.ships_and_sectors[r.stuff_to_move[B].i].ships[r.stuff_to_move[B].ii])+"\t"+q)}for(var L=r.stuff_to_load.length-1;L>=0;L--)t.addMove("load\t"+t.game.player+"\t0\t"+r.stuff_to_load[L].sector+"\t"+r.stuff_to_load[L].source+"\t"+r.stuff_to_load[L].source_idx+"\t"+r.stuff_to_load[L].unitjson+"\t"+r.stuff_to_load[L].shipjson);t.endTurn()}}))};c(this,i,c)}},{key:"playerSelectInfantryToLand",value:function(e){for(var t=this,r='<div id="status-message" class="imperial-status-message">Unload Infantry (source): <ul>',n=t.returnSectorAndPlanets(e),a=[],i=[],s=0;s<n.s.units[this.game.player-1].length;s++){var o=n.s.units[this.game.player-1][s];t.returnInfantryInUnit(o)>0&&(r+='<li class="option textchoice" id="addinfantry_s_'.concat(s,'">remove infantry from ').concat(o.name,' - <span class="add_infantry_remaining_s_').concat(s,'">').concat(t.returnInfantryInUnit(o),"</span></li>"))}for(var c=0;c<n.p.length;c++){var u=n.p[c];t.returnInfantryOnPlanet(u)>0&&(r+='<li class="option textchoice" id="addinfantry_p_'.concat(c,'">remove infantry from ').concat(u.name,' - <span class="add_infantry_remaining_p_').concat(c,'">').concat(t.returnInfantryOnPlanet(u),"</span></li>"))}r+="</ul>",r+="</div>",r+='<div id="confirm" class="option">click here to move</div>',t.updateStatus(r),$(".option").off(),$(".option").on("click",(function(){for(var r=$(this).attr("id"),s=[],o=0,c=0;c<n.p.length;c++)s.push(0);if("confirm"==r){for(var u=0;u<a.length;u++)t.addMove("unload_infantry\t"+t.game.player+"\t1\t"+e+"\tship\t"+a[u].ship_idx),o++;for(var l=0;l<i.length;l++)t.addMove("unload_infantry\t"+t.game.player+"\t1\t"+e+"\tplanet\t"+i[l].planet_idx),o++;for(var d='<div class="sf-readable" id="status-message">Reassign Infantry to Planets: <ul>',h=0;h<n.p.length;h++){for(var p=t.returnInfantryOnPlanet(n.p[h]),f=0;f<i.length;f++)i[f].planet_idx==h&&p--;d+='<li class="option textchoice" id="'.concat(h,'">').concat(n.p[h].name,' - <span class="infantry_on_').concat(h,'">').concat(p,"</span></li>")}return d+='<div id="confirm" class="option">click here to move</div>',d+="</ul",d+="</div>",t.updateStatus(d),$(".option").off(),void $(".option").on("click",(function(){var r=$(this).attr("id");if("confirm"==r&&t.endTurn(),o>0){o--;var n=".infantry_on_"+r,a=parseInt($(n).html());a++,$(n).html(a),t.addMove("load_infantry\t"+t.game.player+"\t1\t"+e+"\tplanet\t"+r)}}))}if("clear"==r)return salert("To change movement options, just reload!"),void window.location.reload(!0);var m=r.split("_");if("p"===m[1]){var g=".add_infantry_remaining_p_"+m[2],y=parseInt($(g).html());y>0&&(i.push({planet_idx:m[2]}),$(g).html(y-1))}if("s"===m[1]){var b=".add_infantry_remaining_s_"+m[2],v=parseInt($(b).html());v>0&&(a.push({ship_idx:m[2]}),$(b).html(v-1))}}))}},{key:"playerInvadePlanet",value:function(e,t){var r=this,n=this.returnSectorAndPlanets(t),a=0,i=[],s=0,o=[],c=[];html='<div class="sf-readable">Which planet(s) do you invade: </div><ul>';for(var u=0;u<n.p.length;u++)n.p[u].owner!=e&&(html+='<li class="option sector_name" id="'+u+'">'+n.p[u].name+' - <span class="invadeplanet_'+u+'">0</span></li>');html+='<li class="option" id="confirm">launch invasion(s)</li>',html+="</ul>",this.updateStatus(html);var l=0,d=0,h=[],p=[];$(".option").off(),$(".sector_name").on("mouseenter",(function(){var e=$(this).attr("id");r.addPlanetHighlight(t,e)})),$(".sector_name").on("mouseleave",(function(){var e=$(this).attr("id");r.removePlanetHighlight(t,e)})),$(".option").on("click",(function(){var u=$(this).attr("id");if("confirm"===u){if(0==s&&!confirm("Invade without landing forces? Are you sure -- the invasion will fail."))return;for(var f=0;f<c.length;f++)if(o.includes(c[f])){var m=n.p[c[f]].owner;r.prependMove("bombardment\t"+r.game.player+"\t"+t+"\t"+c[f]),r.prependMove("bombardment_post\t"+r.game.player+"\t"+t+"\t"+c[f]),r.prependMove("bombardment_post\t"+m+"\t"+t+"\t"+c[f]),r.prependMove("planetary_defense\t"+r.game.player+"\t"+t+"\t"+c[f]),r.prependMove("planetary_defense_post\t"+r.game.player+"\t"+t+"\t"+c[f]),r.prependMove("ground_combat_start\t"+r.game.player+"\t"+t+"\t"+c[f]),r.prependMove("ground_combat\t"+r.game.player+"\t"+t+"\t"+c[f]),r.prependMove("ground_combat_post\t"+r.game.player+"\t"+t+"\t"+c[f]),r.prependMove("ground_combat_end\t"+r.game.player+"\t"+t+"\t"+c[f])}return r.prependMove("continue\t"+r.game.player+"\t"+t),void r.endTurn()}c.includes(u)||c.push(u);for(var g=0;g<n.s.units[e-1].length;g++){for(var y=n.s.units[e-1][g],b=0;b<y.storage.length;b++)y.storage[b].type;n.s.units[e-1][g].capacity>0&&0==d&&(a+=n.s.units[e-1][g].capacity)}html='<div class="sf-readable">Select Ground Forces for Invasion of '+n.p[u].name+": </div><ul>";for(var v=0;v<n.p.length;v++)if(h.push(0),a>0&&n.p[v].units[e-1].length>0){for(var _=0;_<n.p[v].units[e-1].length;_++)"infantry"==n.p[v].units[e-1][_].type&&0==l&&h[v]++;html+='<li class="invadechoice textchoice option" id="invasion_planet_'+v+'">'+n.p[v].name+' - <span class="planet_'+v+'_infantry">'+h[v]+"</span></li>"}l=1;for(var w=0;w<n.s.units[e-1].length;w++){var x=n.s.units[e-1][w];p.push(0);for(var k=0;k<x.storage.length;k++)"infantry"===x.storage[k].type&&0==d&&p[w]++;p[w]>0&&(html+='<li class="invadechoice textchoice" id="invasion_ship_'+w+'">'+x.name+' - <span class="ship_'+w+'_infantry">'+p[w]+"</span></li>")}d=1,html+='<li class="invadechoice textchoice" id="finished_0_0">finish selecting</li>',html+="</ul></p>",$(".status-overlay").html(html),$(".status").hide(),$(".status-overlay").show(),$(".invadechoice").off(),$(".invadechoice").on("click",(function(){var e=$(this).attr("id").split("_"),n=e[0],c=e[1],l=e[2],d="."+c+"_"+l+"_infantry",f=parseInt($(d).html());if("invasion"==n){if("planet"==c){if(a<=0)return void salert("Invalid Choice! No space transport available!");h[l]--}else p[l]--;if(0==f)return void salert("You cannot attack with forces you do not have available.");var m=JSON.stringify(r.returnUnit("infantry",r.game.player)),g={};g.sector=t,g.source=c,g.source_idx=l,g.planet_idx=u,g.unitjson=m,i.push(g);var y=".invadeplanet_"+u,b=parseInt($(y).html());b++,$(y).html(b),f--,$(d).html(f)}if("finished"===n){for(var v=0;v<i.length;v++)r.addMove("land\t"+r.game.player+"\t1\t"+i[v].sector+"\t"+i[v].source+"\t"+i[v].source_idx+"\t"+i[v].planet_idx+"\t"+i[v].unitjson),o.includes(i[v].planet_idx)||o.push(i[v].planet_idx);return s+=i.length,i=[],$(".status").show(),void $(".status-overlay").hide()}}))}))}},{key:"playerActivateSystem",value:function(){var e=this,t=0,r=0,n=0;e.updateStatus("Select a sector to activate: "),$(".sector").off(),$(".sector").on("mousedown",(function(e){r=e.clientX,n=e.clientY})),$(".sector").on("mouseup",(function(a){if(!(Math.abs(r-a.clientX)>4||Math.abs(n-a.clientY)>4||1==t)){var i=$(this).attr("id");if(0==e.canPlayerActivateSystem(i))salert("You cannot activate that system.");else{var s=e.returnSectorAndPlanets(i);if(1==e.game.state.round){if(!e.canPlayerMoveShipsIntoSector(e.game.player,i))if(e.hasPlayerActivatedSector(e.game.player)&&!e.canPlayerProduceInSector(e.game.player,i))e.overlay.showOverlay(e.app,e,e.returnActivatedSectorsOverlay());else if(!e.canPlayerProduceInSector(e.game.player,i))return void e.overlay.showOverlay(e.app,e,e.returnFirstTurnOverlay())}else if(!e.canPlayerMoveShipsIntoSector(e.game.player,i)&&!confirm("You cannot move ships into this sector. Are you sure you wish to activate it?"))return;if(e.returnPlayerHomeworldSector()==s.s.sector&&1==e.game.state.round&&1==e.doesPlayerHaveShipsInSector(e.game.player,i)&&!confirm("Ships cannot move out of activated sectors -- if you activate your homeworld you will not be able to move ships out of it until Round 2. Are you sure you want to do this?"))return;t=1;var o="#"+i;$(o).find(".hex_activated").css("background-color","var(--p"+e.game.player+")"),$(o).find(".hex_activated").css("opacity","0.3"),e.updateStatus('<div class=\'sf-readable\'>Activate this system?</div><ul><li class="option" id="yes">yes, do it</li><li class="option" id="no">choose again</li></ul>'),$(".option").off(),$(".option").on("click",(function(){"yes"===$(this).attr("id")?(s.s.activated[e.game.player-1]=1,e.addMove("activate_system_post\t"+e.game.player+"\t"+i),e.addMove("pds_space_attack_post\t"+e.game.player+"\t"+i),e.addMove("pds_space_attack\t"+e.game.player+"\t"+i),e.addMove("activate_system\t"+e.game.player+"\t"+i),e.addMove("expend\t"+e.game.player+"\tcommand\t1"),e.addMove("setvar\tstate\t0\tactive_player_moved\tint\t1"),e.endTurn()):(t=0,$(o).find(".hex_activated").css("background-color","transparent"),$(o).find(".hex_activated").css("opacity","1"),e.playerActivateSystem())}))}}}))}},{key:"playerPostActivateSystem",value:function(e){var t=this,r=this.returnPlayerActionCards(t.game.player,["post_activate_system"]),n=t.game.player,a="<div class='sf-readable'>"+this.returnFaction(this.game.player)+": </div><ul>";t.canPlayerMoveShipsIntoSector(n,e)&&(a+='<li class="option" id="move">move into sector</li>'),this.canPlayerInvadePlanet(n,e)&&0==this.game.tracker.invasion&&("new-byzantium"==e||"4_4"==e?(-1!=t.game.planets["new-byzantium"].owner||t.returnAvailableInfluence(t.game.player)+t.game.players_info[t.game.player-1].goods>=6)&&(a+='<li class="option" id="invade">invade planet</li>'):a+='<li class="option" id="invade">invade planet</li>'),this.canPlayerLandInfantry(n,e)&&0==this.game.tracker.invasion&&(a+='<li class="option" id="land">reassign infantry</li>'),this.canPlayerProduceInSector(this.game.player,e)&&(a+='<li class="option" id="produce">produce units</li>'),this.canPlayerLandInfantry(n,e)&&0==this.game.tracker.invasion&&(a+='<li class="option" id="land">relocate infantry</li>'),r.length>0&&(a+='<li class="option" id="action">play action card</li>'),a+='<li class="option" id="finish">finish turn</li>',a+="</ul>",t.updateStatus(a),$(".option").on("click",(function(){var r=$(this).attr("id");if("action"==r&&t.playerSelectActionCard((function(r){t.addMove("activate_system_post\t"+t.game.player+"\t"+e),t.game.players_info[this.game.player-1].action_cards_played.push(r),t.addMove("action_card_post\t"+t.game.player+"\t"+r),t.addMove("action_card\t"+t.game.player+"\t"+r),t.addMove("lose\t"+t.game.player+"\taction_cards\t1")}),(function(){t.playerPlayActionCardMenu(action_card_player,card)}),["action"]),"invade"==r){if(("new-byzantium"===e||"4_4"==e)&&-1==t.game.planets["new-byzantium"].owner)return t.returnAvailableInfluence(t.game.player)>=6?void t.playerSelectInfluence(6,(function(r){t.game.tracker.invasion=1,t.playerInvadePlanet(n,e)})):void salert("The first conquest of New Byzantium requires spending 6 influence, which you lack.");t.game.tracker.invasion=1,t.playerInvadePlanet(n,e)}if("land"==r)return t.addMove("continue\t"+t.game.player+"\t"+e),t.playerSelectInfantryToLand(e),0;if("move"==r&&t.playerSelectUnitsToMove(e),"produce"==r){var a=t.returnSpareFleetSupplyInSector(n,e);if(a<=1){var i="You have no spare fleet supply in this sector. Do you still wish to produce more ships?";return 1==a&&(i="You have fleet supply for 1 additional capital ship in this sector. Do you still wish to produce more ships?"),void(confirm(i)&&t.playerProduceUnits(e))}t.playerProduceUnits(e)}"finish"==r&&(t.moves.includes("resolve\tplay")||t.addMove("resolve\tplay"),t.addMove("setvar\tstate\t0\tactive_player_moved\tint\t0"),t.endTurn())}))}},{key:"playerAllocateNewTokens",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=this;if(this.game.player==e){var s={};s.current_command=this.game.players_info[e-1].command_tokens,s.current_strategy=this.game.players_info[e-1].strategy_tokens,s.current_fleet=this.game.players_info[e-1].fleet_supply,s.new_command=0,s.new_strategy=0,s.new_fleet=0,s.new_tokens=t;var o=function(t,i,s){var o='<div class="sf-readable">You have '+i.new_tokens+" tokens to allocate. How do you want to allocate them? </div><ul>";1==n&&(o='<div class="sf-readable">The Leadership card gives you '+i.new_tokens+" tokens to allocate. How do you wish to allocate them? </div><ul>"),2==n&&(o='<div class="sf-readable">Leadership has been played and you have purchased '+i.new_tokens+" additional tokens. How do you wish to allocate them? </div><ul>"),3==n&&(o='<div class="sf-readable">You have '+i.new_tokens+" new tokens to allocate: </div><ul>"),o+='<li class="option" id="command">Command Token - '+(parseInt(i.current_command)+parseInt(i.new_command))+"</li>",o+='<li class="option" id="strategy">Strategy Token - '+(parseInt(i.current_strategy)+parseInt(i.new_strategy))+"</li>",o+='<li class="option" id="fleet">Fleet Supply - '+(parseInt(i.current_fleet)+parseInt(i.new_fleet))+"</li>",o+="</ul>",t.updateStatus(o),t.lockInterface(),$(".option").off(),$(".option").on("click",(function(){var n=$(this).attr("id");"strategy"==n&&(i.new_strategy++,i.new_tokens--),"command"==n&&(i.new_command++,i.new_tokens--),"fleet"==n&&(i.new_fleet++,i.new_tokens--),0==i.new_tokens?(1==r&&(t.game.confirms_needed>0&&0==a?t.addMove("resolve\ttokenallocation\t1\t"+t.app.wallet.returnPublicKey()):t.addMove("resolve\ttokenallocation")),t.addMove("purchase\t"+e+"\tstrategy\t"+i.new_strategy),t.addMove("purchase\t"+e+"\tcommand\t"+i.new_command),t.addMove("purchase\t"+e+"\tfleetsupply\t"+i.new_fleet),t.unlockInterface(),t.endTurn()):(t.unlockInterface(),s(t,i,s))}))};o(i,s,o)}return 0}},{key:"playerSelectPlayerWithFilter",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this,i='<div class="sf-readable">'+e+"</div>";i+="<ul>";for(var s=0;s<this.game.players_info.length;s++)1==t(this.game.players_info[s])&&(i+='<li class="textchoice" id="'+(s+1)+'">'+this.returnFaction(s+1)+"</li>");null!=n&&(i+='<li class="textchoice" id="cancel">cancel</li>'),i+="</ul>",this.updateStatus(i),a.lockInterface(),$(".textchoice").off(),$(".textchoice").on("click",(function(){if(a.mayUnlockInterface()){a.unlockInterface();var e=$(this).attr("id");if("cancel"==e)return n(),0;r(e)}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}},{key:"playerSelectSectorWithFilter",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this,i='<div class="sf-readable">'+e+"</div>";for(var s in i+="<ul>",this.game.board)1==t(this.game.board[s].tile)&&(i+='<li class="textchoice" id="'+s+'">'+this.game.sectors[this.game.board[s].tile].name+"</li>");null!=n&&(i+='<li class="textchoice" id="cancel">cancel</li>'),i+="</ul>",this.updateStatus(i),this.lockInterface(),$(".textchoice").off(),$(".textchoice").on("mouseenter",(function(){var e=$(this).attr("id");"cancel"!=e&&a.showSectorHighlight(e)})),$(".textchoice").on("mouseleave",(function(){var e=$(this).attr("id");"cancel"!=e&&a.hideSectorHighlight(e)})),$(".textchoice").on("click",(function(){if(a.mayUnlockInterface()){a.unlockInterface();var e=$(this).attr("id");if("cancel"!=e&&a.hideSectorHighlight(e),"cancel"==e)return n(),0;a.updateStatus(""),r(a.game.board[e].tile)}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}},{key:"playerSelectChoice",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"other",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this,i='<div class="sf-readable">'+e+"</div>";i+="<ul>";for(var s=0;s<t.length;s++)"player"==r&&("Unknown"!=this.returnFaction(t[s])?i+='<li class="textchoice" id="'+s+'">'+this.returnFaction(t[s])+"</li>":i+='<li class="textchoice" id="'+s+'">'+t[s]+"</li>"),"planet"==r&&(i+='<li class="textchoice" id="'+s+'">'+this.game.planets[t[s]].name+"</li>"),"sector"==r&&(i+='<li class="textchoice" id="'+s+'">'+this.game.sectors[this.game.board[t[s]].tile].name+"</li>"),"other"==r&&(i+='<li class="textchoice" id="'+s+'">'+t[s]+"</li>");i+="</ul>",this.updateStatus(i),this.lockInterface(),$(".textchoice").off(),$(".textchoice").on("click",(function(){if(a.mayUnlockInterface()){a.unlockInterface();var e=$(this).attr("id");n(e)}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}},{key:"playerSelectPlanetWithFilter",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this,i='<div class="sf-readable">'+e+"</div>";for(var s in i+="<ul>",this.game.planets)""!=this.game.planets[s].tile&&1==t(s)&&(i+='<li class="textchoice" id="'+s+'">'+this.game.planets[s].name+"</li>");null!=n&&(i+='<li class="textchoice" id="cancel">cancel</li>'),i+="</ul>",this.updateStatus(i),this.lockInterface(),$(".textchoice").off(),$(".textchoice").on("mouseenter",(function(){var e=$(this).attr("id");"cancel"!=e&&(a.showPlanetCard(a.game.planets[e].tile,a.game.planets[e].idx),a.showSectorHighlight(a.game.planets[e].tile))})),$(".textchoice").on("mouseleave",(function(){var e=$(this).attr("id");"cancel"!=e&&(a.hidePlanetCard(a.game.planets[e].tile,a.game.planets[e].idx),a.hideSectorHighlight(a.game.planets[e].tile))})),$(".textchoice").on("click",(function(){if(a.mayUnlockInterface()){a.unlockInterface();var e=$(this).attr("id");if("cancel"!=e&&(a.hidePlanetCard(a.game.planets[e].tile,a.game.planets[e].idx),a.hideSectorHighlight(a.game.planets[e].tile)),"cancel"==e)return n(),a.hideSectorHighlight(e),0;a.updateStatus(""),a.hideSectorHighlight(e),r(e)}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}},{key:"playerSelectUnitInSectorWithFilter",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=this,s=[],o=[],c=[],u=[],l=0,d='<div class="sf-readable">'+e+"</div>";d+="<ul>";for(var h=this.returnSectorAndPlanets(t),p=0;p<h.s.units[i.game.player-1].length;p++)r(h.s.units[i.game.player-1][p])&&(s.push(h.s.units[i.game.player-1][p]),o.push(t),c.push(-1),u.push(p),l=1,d+='<li class="textchoice" id="'+(s.length-1)+'">'+h.s.name+" - "+s[s.length-1].name+"</li>");for(var f=0;f<h.p.length;f++)for(var m=0;m<h.p[f].units[i.game.player-1].length;m++)r(h.p[f].units[i.game.player-1][m])&&(s.push(h.p[f].units[i.game.player-1][m]),o.push(t),c.push(f),u.push(m),l=1,d+='<li class="textchoice" id="'+(s.length-1)+'">'+h.s.sector+" / "+h.p[f].name+" - "+s[s.length-1].name+"</li>");0==l&&(d+='<li class="textchoice" id="none">no unit available</li>'),null!=a&&(d+='<li class="textchoice" id="cancel">cancel</li>'),d+="</ul>",this.updateStatus(d),$(".textchoice").off(),this.lockInterface(),$(".textchoice").on("click",(function(){if(i.mayUnlockInterface()){i.unlockInterface();var e=$(this).attr("id");if("cancel"===e)return a(),i.hideSectorHighlight(e),0;if("none"!==e){var t={sector:o[e],planet_idx:c[e],unit_idx:u[e],unit:s[e]};i.updateStatus(""),n(t)}else n({sector:"",planet_idx:"",unit_idx:-1,unit:null})}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}},{key:"playerSelectUnitWithFilter",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this,i=[],s=[],o=[],c=[],u=0,l='<div class="sf-readable">'+e+"</div>";for(var d in l+="<ul>",this.game.board){var h=this.game.board[d].tile;console.log(d+" -- "+h);var p=this.returnSectorAndPlanets(h);if(null!=p){for(var f=0;f<p.s.units[a.game.player-1].length;f++)t(p.s.units[a.game.player-1][f])&&(i.push(p.s.units[a.game.player-1][f]),s.push(d),o.push(-1),c.push(f),u=1,console.log("k: "+f),console.log(JSON.stringify(i)),l+='<li class="textchoice" id="'+(i.length-1)+'">'+p.s.name+" - "+i[i.length-1].name+"</li>");for(var m=0;m<p.p.length;m++)for(var g=0;g<p.p[m].units[a.game.player-1].length;g++)t(p.p[m].units[a.game.player-1][g])&&(i.push(p.p[m].units[a.game.player-1][g]),s.push(sector),o.push(m),c.push(g),u=1,console.log("p k: "+m+" - "+g),l+='<li class="textchoice" id="'+(i.length-1)+'">'+p.s.sector+" / "+p.p[m].name+" - "+i[i.length-1].name+"</li>")}}0==u&&(l+='<li class="textchoice" id="none">no unit available</li>'),null!=n&&(l+='<li class="textchoice" id="cancel">cancel</li>'),l+="</ul>",this.updateStatus(l),$(".textchoice").off(),this.lockInterface(),$(".textchoice").on("click",(function(){if(a.mayUnlockInterface()){a.unlockInterface();var e=$(this).attr("id");if("cancel"===e)return n(),a.hideSectorHighlight(e),0;if("none"!==e){var t={sector:s[e],planet_idx:o[e],unit_idx:c[e],unit:i[e]};console.log("returning unit: "+JSON.stringify(t)),a.updateStatus(""),r(t)}else r({sector:"",planet_idx:"",unit_idx:-1,unit:null})}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}},{key:"playerSelectOpponentUnitInSectorWithFilter",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=this,s=[],o=[],c=[],u=[],l=0,d='<div class="sf-readable">'+e+"</div>";d+="<ul>";for(var h=this.returnSectorAndPlanets(t),p=0;p<h.s.units.length;p++)if(p!=i.game.player-1)for(var f=0;f<h.s.units[p].length;f++)r(h.s.units[p][f])&&(s.push(h.s.units[p][f]),o.push(t),c.push(-1),u.push(f),l=1,d+='<li class="textchoice" id="'+(s.length-1)+'">'+h.s.name+" - "+s[s.length-1].name+"</li>");for(var m=0;m<h.p.length;m++)for(var g=0;g<h.s.units.length;g++)if(g!=i.game.player-1)for(var y=0;y<h.p[m].units[i.game.player-1].length;y++)r(h.p[m].units[i.game.player-1][y])&&(s.push(h.p[m].units[i.game.player-1][y]),o.push(t),c.push(m),u.push(y),l=1,d+='<li class="textchoice" id="'+(s.length-1)+'">'+h.s.sector+" / "+h.p[m].name+" - "+s[s.length-1].name+"</li>");0==l&&(d+='<li class="textchoice" id="none">no unit available</li>'),null!=a&&(d+='<li class="textchoice" id="cancel">cancel</li>'),d+="</ul>",this.updateStatus(d),this.lockInterface(),$(".textchoice").off(),$(".textchoice").on("click",(function(){if(i.mayUnlockInterface()){i.unlockInterface();var e=$(this).attr("id");if("cancel"===e)return a(),i.hideSectorHighlight(e),0;if("none"!==e){var t={sector:o[e],planet_idx:c[e],unit_idx:u[e],unit:s[e]};i.updateStatus(""),n(t)}else n({sector:"",planet_idx:"",unit_idx:-1,unit:null})}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}},{key:"playerSelectUnitInSectorFilter",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=this.returnSectorAndPlanets(t),s='<div class="sf-readable">'+e+"</div>";s+="<ul>";for(var o=0;o<this.game.players_info.length;o++)for(var c=0;c<i.s.units[o].length;c++)1==r(i.s.units[o][c])&&(s+='<li class="textchoice" id="'+t+"_"+o+"_"+o+'">'+this.returnFaction(o+1)+" - "+i.s.units[o][c].name+"</li>");null!=a&&(s+='<li class="textchoice" id="cancel">cancel</li>'),s+="</ul>",this.updateStatus(s),$(".textchoice").off(),$(".textchoice").on("click",(function(){var e=$(this).attr("id");if("cancel"==e)return a(),0;var t=e.split("_"),r=t[0],i=t[1],s=t[2];n({sector:r,player:i,unitidx:s})}))}},{key:"playerDiscardActionCards",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this;e<0&&r.endTurn();var n="<div class='sf-readable'>You must discard <div style='display:inline' class='totalnum' id='totalnum'>"+e+"</div> action card";e>1&&(n+="s"),n+=":</div>",n+="<ul>";for(var a=this.returnPlayerActionCards(r.game.player),i=0;i<a.length;i++)n+='<li class="textchoice" id="'+i+'">'+this.action_cards[a[i]].name+"</li>";n+="</ul>",this.updateStatus(n),$(".textchoice").off(),$(".textchoice").on("mouseenter",(function(){var e=$(this).attr("id");"cancel"!=e&&r.showActionCard(a[e])})),$(".textchoice").on("mouseleave",(function(){var e=$(this).attr("id");"cancel"!=e&&r.hideActionCard(a[e])})),$(".textchoice").on("click",(function(){var n=$(this).attr("id");e--,$(".totalnum").html(e),$(this).remove(),r.hideActionCard(n),r.game.players_info[r.game.player-1].action_cards_played.push(a[n]),r.addMove("lose\t"+r.game.player+"\taction_cards\t1"),0==e&&(null==t?(r.updateStatus("discarding..."),r.endTurn()):t())}))}},{key:"returnPlanets",value:function(){var e={planet1:{type:"hazardous",img:"/imperium/img/planets/CRYSTALIS.png",name:"Crystalis",resources:3,influence:0,bonus:""},planet2:{type:"hazardous",img:"/imperium/img/planets/TROTH.png",name:"Troth",resources:2,influence:0,bonus:""},planet3:{type:"industrial",img:"/imperium/img/planets/LONDRAK.png",name:"Londrak",resources:1,influence:2,bonus:""},planet4:{type:"hazardous",img:"/imperium/img/planets/CITADEL.png",name:"Citadel",resources:0,influence:4,bonus:"red"},planet5:{type:"industrial",img:"/imperium/img/planets/BELVEDYR.png",name:"Belvedyr",resources:1,influence:2,bonus:""},planet6:{type:"industrial",img:"/imperium/img/planets/SHRIVA.png",name:"Shriva",resources:2,influence:1,bonus:""},planet7:{type:"hazardous",img:"/imperium/img/planets/ZONDOR.png",name:"Zondor",resources:3,influence:1,bonus:""},planet8:{type:"hazardous",img:"/imperium/img/planets/CALTHREX.png",name:"Calthrex",resources:2,influence:3,bonus:""},planet9:{type:"cultural",img:"/imperium/img/planets/SOUNDRA-IV.png",name:"Soundra IV",resources:1,influence:3,bonus:""},planet10:{type:"cultural",img:"/imperium/img/planets/VIGOR.png",name:"Vigor",resources:1,influence:1,bonus:""},planet11:{type:"cultural",img:"/imperium/img/planets/UDON-II.png",name:"Udon II",resources:1,influence:2,bonus:""},planet12:{type:"cultural",img:"/imperium/img/planets/NEW-JYLANX.png",name:"New Jylanx",resources:2,influence:0,bonus:""},planet13:{type:"cultural",img:"/imperium/img/planets/TERRA-CORE.png",name:"Terra Core",resources:0,influence:2,bonus:""},planet14:{type:"cultural",img:"/imperium/img/planets/OLYMPIA.png",name:"Olympia",resources:1,influence:2,bonus:""},planet15:{type:"industrial",img:"/imperium/img/planets/GRANTON-MEX.png",name:"Granton Mex",resources:1,influence:0,bonus:"yellow"},planet16:{type:"hazardous",img:"/imperium/img/planets/HARKON-CALEDONIA.png",name:"Harkon Caledonia",resources:2,influence:1,bonus:""},planet17:{type:"cultural",img:"/imperium/img/planets/NEW-ILLIA.png",name:"New Illia",resources:3,influence:1,bonus:""},planet18:{type:"hazardous",img:"/imperium/img/planets/LAZAKS-CURSE.png",name:"Lazak's Curse",resources:1,influence:3,bonus:"red"},planet19:{type:"cultural",img:"/imperium/img/planets/VOLUNTRA.png",name:"Voluntra",resources:0,influence:2,bonus:""},planet20:{type:"hazardous",img:"/imperium/img/planets/XERXES-IV.png",name:"Xerxes IV",resources:3,influence:1,bonus:""},planet21:{type:"industrial",img:"/imperium/img/planets/SIRENS-END.png",name:"Siren's End",resources:1,influence:1,bonus:"green"},planet22:{type:"hazardous",img:"/imperium/img/planets/RIFTVIEW.png",name:"Riftview",resources:2,influence:1,bonus:""},planet23:{type:"cultural",img:"/imperium/img/planets/BROUGHTON.png",name:"Broughton",resources:1,influence:2,bonus:""},planet24:{type:"industrial",img:"/imperium/img/planets/FJORDRA.png",name:"Fjordra",resources:0,influence:3,bonus:""},planet25:{type:"cultural",img:"/imperium/img/planets/SINGHARTA.png",name:"Singharta",resources:1,influence:1,bonus:""},planet26:{type:"industrial",img:"/imperium/img/planets/NOVA-KLONDIKE.png",name:"Nova Klondike",resources:2,influence:2,bonus:""},planet27:{type:"industrial",img:"/imperium/img/planets/CONTOURI-I.png",name:"Contouri I",resources:1,influence:1,bonus:"green"},planet28:{type:"hazardous",img:"/imperium/img/planets/CONTOURI-II.png",name:"Contouri II",resources:2,influence:0,bonus:""},planet29:{type:"cultural",img:"/imperium/img/planets/HOTH.png",name:"Hoth",resources:2,influence:2,bonus:""},planet30:{type:"industrial",img:"/imperium/img/planets/UNSULLA.png",name:"Unsulla",resources:1,influence:2,bonus:""},planet31:{type:"industrial",img:"/imperium/img/planets/GROX-TOWERS.png",name:"Grox Towers",resources:1,influence:1,bonus:"blue"},planet32:{type:"hazardous",img:"/imperium/img/planets/GRAVITYS-EDGE.png",name:"Gravity's Edge",resources:2,influence:1,bonus:""},planet33:{type:"industrial",img:"/imperium/img/planets/POPULAX.png",name:"Populax",resources:3,influence:2,bonus:"yellow"},planet34:{type:"cultural",img:"/imperium/img/planets/OLD-MOLTOUR.png",name:"Old Moltour",resources:2,influence:0,bonus:""},"new-byzantium":{type:"diplomatic",img:"/imperium/img/planets/NEW-BYZANTIUM.png",name:"New Byzantium",resources:1,influence:6,bonus:""},planet36:{type:"cultural",img:"/imperium/img/planets/OUTERANT.png",name:"Outerant",resources:1,influence:3,bonus:""},planet37:{type:"industrial",img:"/imperium/img/planets/VESPAR.png",name:"Vespar",resources:2,influence:2,bonus:""},planet38:{type:"hazardous",img:"/imperium/img/planets/CRAW-POPULI.png",name:"Craw Populi",resources:1,influence:2,bonus:""},planet39:{type:"cultural",img:"/imperium/img/planets/YSSARI-II.png",name:"Yssari II",resources:0,influence:1,bonus:""},planet41:{type:"industrial",img:"/imperium/img/planets/LORSTRUCK.png",name:"Lorstruck",resources:1,influence:0,bonus:""},planet42:{type:"hazardous",img:"/imperium/img/planets/INDUSTRYL.png",name:"Industryl",resources:3,influence:1,bonus:""},planet43:{type:"cultural",img:"/imperium/img/planets/MECHANEX.png",name:"Mechanex",resources:1,influence:0,bonus:""},planet44:{type:"industrial",img:"/imperium/img/planets/HEARTHSLOUGH.png",name:"Hearthslough",resources:3,influence:0,bonus:""},planet45:{type:"hazardous",img:"/imperium/img/planets/INCARTH.png",name:"Incarth",resources:2,influence:0,bonus:""},planet46:{type:"cultural",img:"/imperium/img/planets/AANDOR.png",name:"Aandor",resources:2,influence:1,bonus:""},planet40:{type:"industrial",img:"/imperium/img/planets/HOPES-LURE.png",name:"Hope's Lure",resources:3,influence:2,bonus:""},planet47:{type:"hazardous",img:"/imperium/img/planets/QUANDAM.png",name:"Quandam",resources:1,influence:1,bonus:""},planet48:{type:"cultural",img:"/imperium/img/planets/BREST.png",name:"Brest",resources:3,influence:1,bonus:""},planet49:{type:"hazardous",img:"/imperium/img/planets/HIRAETH.png",name:"Hiraeth",resources:1,influence:1,bonus:""},planet50:{type:"cultural",img:"/imperium/img/planets/FIREHOLE.png",name:"Firehole",resources:3,influence:0,bonus:""},planet51:{type:"industrial",img:"/imperium/img/planets/QUARTIL.png",name:"Quartil",resources:3,influence:1,bonus:""},planet52:{type:"hazardous",img:"/imperium/img/planets/YODERUX.png",name:"Yoderux",resources:3,influence:1,bonus:""},planet53:{type:"homeworld",img:"/imperium/img/planets/JOL.png",name:"Jol",resources:1,influence:2,bonus:""},planet54:{type:"homeworld",img:"/imperium/img/planets/NAR.png",name:"Nar",resources:2,influence:3,bonus:""},planet55:{type:"homeworld",img:"/imperium/img/planets/ARCHION-REX.png",name:"Archion Rex",resources:2,influence:3,bonus:""},planet56:{type:"homeworld",img:"/imperium/img/planets/ARCHION-TAO.png",name:"Archion Tao",resources:1,influence:1,bonus:""},planet57:{type:"homeworld",img:"/imperium/img/planets/EARTH.png",name:"Earth",resources:4,influence:2,bonus:""},planet58:{type:"homeworld",img:"/imperium/img/planets/ARTIZZ.png",name:"Artizz",resources:4,influence:1,bonus:""},planet59:{type:"cultural",img:"/imperium/img/planets/STARTIDE.png",name:"Startide",resources:2,influence:0,bonus:""},planet60:{type:"industrial",img:"/imperium/img/planets/GIANTS-DRINK.png",name:"Giant's Drink",resources:1,influence:1,bonus:""},planet61:{type:"hazardous",img:"/imperium/img/planets/MIRANDA.png",name:"Miranda",resources:0,influence:2,bonus:""},planet62:{type:"industrial",img:"/imperium/img/planets/EBERBACH.png",name:"Eberbach",resources:2,influence:1,bonus:""},planet63:{type:"hazardous",img:"/imperium/img/planets/OTHO.png",name:"Otho",resources:1,influence:2,bonus:""},planet64:{type:"hazardous",img:"/imperium/img/planets/PERTINAX.png",name:"Pertinax",resources:2,influence:2,bonus:""},planet65:{type:"cultural",img:"/imperium/img/planets/COTILLARD.png",name:"Cotillard",resources:2,influence:2,bonus:""},planet66:{type:"cultural",img:"/imperium/img/planets/DOMINIC.png",name:"Dominic",resources:3,influence:1,bonus:""},planet67:{type:"industrial",img:"/imperium/img/planets/PESTULON.png",name:"Pestulon",resources:1,influence:1,bonus:"yellow"},planet68:{type:"hazardous",img:"/imperium/img/planets/XIAO-ZUOR.png",name:"Xiao Zuor",resources:1,influence:3,bonus:""},planet69:{type:"hazardous",img:"/imperium/img/planets/KROEBER.png",name:"Kroeber",resources:2,influence:0,bonus:""},planet70:{type:"hazardous",img:"/imperium/img/planets/LEGUIN.png",name:"Leguin",resources:0,influence:1,bonus:""},planet71:{type:"cultural",img:"/imperium/img/planets/SIGURD.png",name:"Sigurd's Cradle",resources:1,influence:3,bonus:""},planet72:{type:"cultural",img:"/imperium/img/planets/KLENCORY.png",name:"Klencory",resources:2,influence:2,bonus:""},planet73:{type:"homeworld",img:"/imperium/img/planets/ALTAIR-IV.png",name:"Altair-IV",resources:4,influence:4,bonus:""},planet74:{type:"homeworld",img:"/imperium/img/planets/MUASYM.png",name:"Muasym",resources:4,influence:1,bonus:""},planet75:{type:"homeworld",img:"/imperium/img/planets/SARRON.png",name:"Sarron",resources:1,influence:2,bonus:""},planet76:{type:"homeworld",img:"/imperium/img/planets/REPTILLION.png",name:"Reptillion",resources:2,influence:3,bonus:""}};for(var t in e){e[t].exhausted=0,e[t].locked=0,e[t].owner=-1,e[t].units=[this.totalPlayers],e[t].sector="",e[t].tile="",e[t].idx=-1,e[t].planet="",e[t].hw=0;for(var r=0;r<this.totalPlayers;r++)e[t].units[r]=[]}return e}},{key:"returnSectors",value:function(){var e={sector3:{img:"/imperium/img/sectors/sector3.png",name:"Empty Space",type:0,hw:0,wormhole:0,mr:0,planets:[]},sector4:{img:"/imperium/img/sectors/sector4.png",name:"Empty Space",type:0,hw:0,wormhole:0,mr:0,planets:[]},sector5:{img:"/imperium/img/sectors/sector5.png",name:"Empty Space",type:0,hw:0,wormhole:0,mr:0,planets:[]},sector6:{img:"/imperium/img/sectors/sector6.png",name:"Empty Space",type:0,hw:0,wormhole:0,mr:0,planets:[]},sector1:{img:"/imperium/img/sectors/sector1.png",name:"Empty Space",type:0,hw:0,wormhole:0,mr:0,planets:[]},sector2:{img:"/imperium/img/sectors/sector2.png",name:"Empty Space",type:0,hw:0,wormhole:0,mr:0,planets:[]},sector7:{img:"/imperium/img/sectors/sector7.png",name:"Gravity Rift",type:1,hw:0,wormhole:0,mr:0,planets:[]},sector72:{img:"/imperium/img/sectors/sector72.png",name:"Nebula",type:2,hw:0,wormhole:0,mr:0,planets:[]},sector34:{img:"/imperium/img/sectors/sector34.png",name:"Asteroid Field",type:3,hw:0,wormhole:0,mr:0,planets:[]},sector35:{img:"/imperium/img/sectors/sector35.png",name:"Asteroid Field",type:3,hw:0,wormhole:0,mr:0,planets:[]},sector71:{img:"/imperium/img/sectors/sector71.png",name:"Supernova",type:4,hw:0,wormhole:0,mr:0,planets:[]},sector54:{img:"/imperium/img/sectors/sector54.png",name:"Wormhole A",type:0,hw:0,wormhole:1,mr:0,planets:[]},sector56:{img:"/imperium/img/sectors/sector56.png",name:"Wormhole B",type:0,hw:0,wormhole:2,mr:0,planets:[]},sector55:{img:"/imperium/img/sectors/sector55.png",name:"Yoderux",type:0,hw:0,wormhole:1,mr:0,planets:["planet52"]},sector57:{img:"/imperium/img/sectors/sector57.png",name:"Quartil",type:0,hw:0,wormhole:2,mr:0,planets:["planet51"]},sector8:{img:"/imperium/img/sectors/sector8.png",name:"Crystalis / Troth",type:0,hw:0,wormhole:0,mr:0,planets:["planet1","planet2"]},sector9:{img:"/imperium/img/sectors/sector9.png",name:"Londrak / Citadel",type:0,hw:0,wormhole:0,mr:0,planets:["planet3","planet4"]},sector10:{img:"/imperium/img/sectors/sector10.png",name:"Belvedyr / Shriva",type:0,hw:0,wormhole:0,mr:0,planets:["planet5","planet6"]},sector11:{img:"/imperium/img/sectors/sector11.png",name:"Zondor / Calthrex",type:0,hw:0,wormhole:0,mr:0,planets:["planet7","planet8"]},sector12:{img:"/imperium/img/sectors/sector12.png",name:"Soundra-IV / Vigor",type:0,hw:0,wormhole:0,mr:0,planets:["planet9","planet10"]},sector15:{img:"/imperium/img/sectors/sector15.png",name:"Granton / Harkon",type:0,hw:0,wormhole:0,mr:0,planets:["planet15","planet16"]},sector16:{img:"/imperium/img/sectors/sector16.png",name:"New Illia / Lazaks Curse",type:0,hw:0,wormhole:0,mr:0,planets:["planet17","planet18"]},sector18:{img:"/imperium/img/sectors/sector18.png",name:"Siren's End / Riftview",type:0,hw:0,wormhole:0,mr:0,planets:["planet21","planet22"]},sector19:{img:"/imperium/img/sectors/sector19.png",name:"Broughton / Fjordra",type:0,hw:0,wormhole:0,mr:0,planets:["planet23","planet24"]},sector20:{img:"/imperium/img/sectors/sector20.png",name:"Singharta / Nova Klondike",type:0,hw:0,wormhole:0,mr:0,planets:["planet25","planet26"]},sector22:{img:"/imperium/img/sectors/sector22.png",name:"Hoth",type:0,hw:0,wormhole:0,mr:0,planets:["planet29"]},sector25:{img:"/imperium/img/sectors/sector25.png",name:"Gravity's Edge",type:0,hw:0,wormhole:0,mr:0,planets:["planet32"]},sector26:{img:"/imperium/img/sectors/sector26.png",name:"Populax",type:0,hw:0,wormhole:0,mr:0,planets:["planet33"]},sector27:{img:"/imperium/img/sectors/sector27.png",name:"Old Moultour",type:0,hw:0,wormhole:0,mr:0,planets:["planet34"]},"new-byzantium":{img:"/imperium/img/sectors/sector28.png",name:"New Byzantium",type:0,hw:0,wormhole:0,mr:1,planets:["new-byzantium"]},sector29:{img:"/imperium/img/sectors/sector29.png",name:"Outerant",type:0,hw:0,wormhole:0,mr:0,planets:["planet36"]},sector31:{img:"/imperium/img/sectors/sector31.png",name:"Craw Populi",type:0,hw:0,wormhole:0,mr:0,planets:["planet38"]},sector32:{img:"/imperium/img/sectors/sector32.png",name:"Yssari-II",type:0,hw:0,wormhole:0,mr:0,planets:["planet39"]},sector38:{img:"/imperium/img/sectors/sector38.png",name:"Lorstruck / Industryl",type:0,hw:0,wormhole:0,mr:0,planets:["planet41","planet42"]},sector39:{img:"/imperium/img/sectors/sector39.png",name:"Mechanix / Hearthslough",type:0,hw:0,wormhole:0,mr:0,planets:["planet43","planet44"]},sector40:{img:"/imperium/img/sectors/sector40.png",name:"Aandor / Incarth",type:0,hw:0,wormhole:0,mr:0,planets:["planet46","planet45"]},sector41:{img:"/imperium/img/sectors/sector41.png",name:"Hope's Lure",type:0,hw:0,wormhole:0,mr:0,planets:["planet40"]},sector42:{img:"/imperium/img/sectors/sector42.png",name:"Quandam",type:0,hw:0,wormhole:0,mr:0,planets:["planet47"]},sector43:{img:"/imperium/img/sectors/sector43.png",name:"Brest",type:0,hw:0,wormhole:0,mr:0,planets:["planet48"]},sector44:{img:"/imperium/img/sectors/sector44.png",name:"Hiraeth",type:0,hw:0,wormhole:0,mr:0,planets:["planet49"]},sector58:{img:"/imperium/img/sectors/sector58.png",name:"Startide",type:0,hw:0,wormhole:0,mr:0,planets:["planet59"]},sector59:{img:"/imperium/img/sectors/sector59.png",name:"Giant's Drink",type:0,hw:0,wormhole:0,mr:0,planets:["planet60"]},sector60:{img:"/imperium/img/sectors/sector60.png",name:"Miranda",type:0,hw:0,wormhole:0,mr:0,planets:["planet61"]},sector62:{img:"/imperium/img/sectors/sector62.png",name:"Otho",type:0,hw:0,wormhole:0,mr:0,planets:["planet63"]},sector65:{img:"/imperium/img/sectors/sector65.png",name:"Dominic",type:0,hw:0,wormhole:0,mr:0,planets:["planet66"]},sector67:{img:"/imperium/img/sectors/sector67.png",name:"Xiao-Zuor",type:0,hw:0,wormhole:0,mr:0,planets:["planet68"]},sector69:{img:"/imperium/img/sectors/sector69.png",name:"Sigurd's Cradle",type:0,hw:0,wormhole:0,mr:0,planets:["planet71"]},sector24:{img:"/imperium/img/sectors/sector24.png",name:"Grox Towers",type:0,hw:0,wormhole:0,mr:0,planets:["planet31"]},sector66:{img:"/imperium/img/sectors/sector66.png",name:"Pestulon",type:0,hw:0,wormhole:0,mr:0,planets:["planet67"]},sector50:{img:"/imperium/img/sectors/sector50.png",name:"Jol Nar Homeworld",type:0,hw:1,wormhole:0,mr:0,planets:["planet53","planet54"]},sector51:{img:"/imperium/img/sectors/sector51.png",name:"XXCha Homeworld",type:0,hw:1,wormhole:0,mr:0,planets:["planet55","planet56"]},sector52:{img:"/imperium/img/sectors/sector52.png",name:"Sol Homeworld",type:0,hw:1,wormhole:0,mr:0,planets:["planet57"]},sector53:{img:"/imperium/img/sectors/sector53.png",name:"Sardaak Homeworld",type:0,hw:1,wormhole:0,mr:0,planets:["planet58"]},sector74:{img:"/imperium/img/sectors/sector74.png",name:"Yin Homeworld",type:0,hw:1,wormhole:0,mr:0,planets:["planet73"]},sector75:{img:"/imperium/img/sectors/sector75.png",name:"Ysarril Homeworld",type:0,hw:1,wormhole:0,mr:0,planets:["planet76","planet75"]},sector76:{img:"/imperium/img/sectors/sector76.png",name:"Muaat Homeworld",type:0,hw:1,wormhole:0,mr:0,planets:["planet74"]}};for(var t in e){e[t].units=[this.totalPlayers],e[t].activated=[this.totalPlayers],e[t].sector="",e[t].tile="";for(var r=0;r<this.totalPlayers;r++)e[t].units[r]=[],e[t].activated[r]=0}return e}},{key:"addWormholesToBoardTiles",value:function(e){var t=[];for(var r in this.game.sectors)0!=this.game.sectors[r].wormhole&&t.push(r);for(var n in e)if(this.game.board[n]){var a=this.game.board[n].tile;if(0!=this.game.sectors[a].wormhole)for(var i=0;i<t.length;i++)if(this.game.state.wormholes_adjacent||this.game.state.temporary_wormholes_adjacent){if(t[i]!=a&&0!=this.game.sectors[a].wormhole&&0!=this.game.sectors[t[i]].wormhole)for(var s in e)this.game.board[s]&&this.game.board[s].tile==t[i]&&(e[n].neighbours.includes(s)||e[n].neighbours.push(s))}else if(t[i]!=a&&this.game.sectors[a].wormhole==this.game.sectors[t[i]].wormhole)for(var o in e)this.game.board[o]&&this.game.board[o].tile==t[i]&&(e[n].neighbours.includes(o)||e[n].neighbours.push(o))}return e}},{key:"returnBoardTiles",value:function(){var e={"1_1":{neighbours:["1_2","2_1","2_2"]},"1_2":{neighbours:["1_1","1_3","2_2","2_3"]},"1_3":{neighbours:["1_2","1_4","2_3","2_4"]},"1_4":{neighbours:["1_3","2_4","2_5"]},"2_1":{neighbours:["1_1","2_2","3_1","3_2"]},"2_2":{neighbours:["1_1","1_2","2_1","2_3","3_2","3_3"]},"2_3":{neighbours:["1_2","1_3","2_2","2_4","3_3","3_4"]},"2_4":{neighbours:["1_3","1_4","2_3","2_5","3_4","3_5"]},"2_5":{neighbours:["1_4","2_4","3_5","3_6"]},"3_1":{neighbours:["2_1","3_2","4_1","4_2"]},"3_2":{neighbours:["2_1","2_2","3_1","3_3","4_2","4_3"]},"3_3":{neighbours:["2_2","2_3","3_2","3_4","4_3","4_4"]},"3_4":{neighbours:["2_3","2_4","3_3","3_5","4_4","4_5"]},"3_5":{neighbours:["2_4","3_4","3_6","4_5","4_6"]},"3_6":{neighbours:["2_5","3_5","4_6","4_7"]},"4_1":{neighbours:["3_1","4_2","5_1"]},"4_2":{neighbours:["3_1","3_2","4_1","4_3","5_1","5_2"]},"4_3":{neighbours:["3_2","3_3","4_2","4_4","5_2","5_3"]},"4_4":{neighbours:["3_3","3_4","4_3","4_5","5_3","5_4"]},"4_5":{neighbours:["3_4","3_5","4_4","4_6","5_4","5_5"]},"4_6":{neighbours:["3_5","3_6","4_5","4_7","5_5","5_6"]},"4_7":{neighbours:["3_6","4_6","5_6"]},"5_1":{neighbours:["4_1","4_2","5_2","6_1"]},"5_2":{neighbours:["4_2","4_3","5_1","5_3","6_1","6_2"]},"5_3":{neighbours:["4_3","4_4","5_2","5_4","6_2","6_3"]},"5_4":{neighbours:["4_4","4_5","5_3","5_5","6_3","6_4"]},"5_5":{neighbours:["4_5","4_6","5_4","5_6","6_4","6_5"]},"5_6":{neighbours:["4_6","4_7","5_5","6_5"]},"6_1":{neighbours:["5_1","5_2","6_2","7_1"]},"6_2":{neighbours:["5_2","5_3","6_1","6_3","7_1","7_2"]},"6_3":{neighbours:["5_3","5_4","6_2","6_4","7_2","7_3"]},"6_4":{neighbours:["5_4","5_5","6_3","6_5","7_3","7_4"]},"6_5":{neighbours:["5_5","5_6","6_4","7_4"]},"7_1":{neighbours:["6_1","6_2","7_2"]},"7_2":{neighbours:["6_2","6_3","7_1","7_3"]},"7_3":{neighbours:["6_3","6_4","7_2","7_4"]},"7_4":{neighbours:["6_4","6_5","7_3"]}};return e}},{key:"returnHomeworldSectors",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return e<=2?["1_1","4_7"]:e<=3?["1_1","4_7","7_1"]:e<=4?["1_3","3_1","5_6","7_2"]:e<=5?["1_3","3_1","4_7","7_1","7_4"]:e<=6?["1_1","1_4","4_1","4_7","7_1","7_7"]:void 0}},{key:"returnState",value:function(){var e={speaker:1,round:0,turn:1,round_scoring:0,events:{},show_tutorials:0,laws:[],agendas:[],vp_target:14};return this.game.options.game_length&&(e.vp_target=parseInt(this.game.options.game_length)),e.riders=[],e.choices=[],e.action_card_order="simultaneous",e.assign_hits_queue_instruction="",e.assign_hits_to_cancel="",e.active_player_moved=0,e.agendas_voting_information=[],e.strategy_cards=[],e.strategy_cards_bonus=[],e.stage_i_objectives=[],e.stage_ii_objectives=[],e.secret_objectives=[],e.agenda_voting_order="simultaneous",e.votes_available=[],e.votes_cast=[],e.voted_on_agenda=[],e.voting_on_agenda=0,e.agendas_per_round=2,e.how_voted_on_agenda=[],e.temporary_assignments=["all"],e.temporary_rerolls=0,e.temporary_adjacency=[],e.wormholes_open=1,e.wormholes_adjacent=0,e.temporary_wormholes_adjacent=0,e.space_combat_round=0,e.space_combat_attacker=-1,e.space_combat_defender=-1,e.space_combat_ships_destroyed_attacker=0,e.space_combat_ships_destroyed_defender=0,e.ground_combat_round=0,e.ground_combat_attacker=-1,e.ground_combat_defender=-1,e.ground_combat_infantry_destroyed_attacker=0,e.ground_combat_infantry_destroyed_defender=0,e.bombardment_against_cultural_planets=1,e.bombardment_against_industrial_planets=1,e.bombardment_against_hazardous_planets=1,e.pds_limit_per_planet=2,e.pds_limit_total=4,e.retreat_cancelled=0,e.activated_sector="",e.bombardment_sector="",e.bombardment_planet_idx="",e.space_combat_sector="",e.ground_combat_sector="",e.ground_combat_planet_idx="",e}},{key:"returnEventObjects",value:function(e){for(var t=[],r=[],n=0;n<this.game.players_info.length;n++)for(var a=0;a<this.game.players_info[n].tech.length;a++)null!=this.tech[this.game.players_info[n].tech[a]]&&(r.includes(this.game.players_info[n].tech[a])||(t.push(this.tech[this.game.players_info[n].tech[a]]),r.push(this.game.players_info[n].tech[a])));for(var i in this.promissary_notes)t.push(this.promissary_notes[i]);for(var s=0;s<this.game.players_info.length;s++)null!=this.factions[this.game.players_info[s].faction]&&t.push(this.factions[this.game.players_info[s].faction]);for(var o=0;o<this.game.state.laws.length;o++)this.game.state.laws[o].agenda&&this.agenda_cards[this.game.state.laws[o].agenda].name&&t.push(this.agenda_cards[this.game.state.laws[o].agenda]);for(var c in this.action_cards)t.push(this.action_cards[c]);for(var u in this.secret_objectives)t.push(this.secret_objectives[u]);return t}},{key:"addEvents",value:function(e){return null==e.handleGameLoop&&(e.handleGameLoop=function(e,t,r){return 1}),null==e.initialize&&(e.initialize=function(e,t){return 0}),null==e.gainPlanet&&(e.gainPlanet=function(e,t,r){return 1}),null==e.gainPromissary&&(e.gainPromissary=function(e,t,r){return 1}),null==e.losePromissary&&(e.losePromissary=function(e,t,r){return 1}),null==e.gainTechnology&&(e.gainTechnology=function(e,t,r){return 1}),null==e.gainActionCards&&(e.gainActionCards=function(e,t,r){return 1}),null==e.gainFleetSupply&&(e.gainFleetSupply=function(e,t,r){return r}),null==e.gainTradeGoods&&(e.gainTradeGoods=function(e,t,r){return r}),null==e.gainCommodities&&(e.gainCommodities=function(e,t,r){return r}),null==e.gainFleetSupply&&(e.gainFleetSupply=function(e,t,r){return r}),null==e.gainStrategyCard&&(e.gainStrategyCard=function(e,t,r){return r}),null==e.gainCommandTokens&&(e.gainCommandTokens=function(e,t,r){return r}),null==e.gainStrategyTokens&&(e.gainStrategyTokens=function(e,t,r){return r}),null==e.losePlanet&&(e.losePlanet=function(e,t,r){return 1}),null==e.upgradeUnit&&(e.upgradeUnit=function(e,t,r){return r}),null==e.unitDestroyed&&(e.unitDestroyed=function(e,t,r){return r}),null==e.unitHit&&(e.unitHit=function(e,t,r){return r}),null==e.onNewRound&&(e.onNewRound=function(e,t,r){return 0}),null==e.onNewTurn&&(e.onNewTurn=function(e,t,r){return 0}),null==e.spaceCombatRoundEnd&&(e.spaceCombatRoundEnd=function(e,t,r,n){return 1}),null==e.antiFighterBarrageEventTriggers&&(e.antiFighterBarrageEventTriggers=function(e,t,r,n,a){return 0}),null==e.antiFighterBarrageEvent&&(e.antiFighterBarrageEvent=function(e,t,r,n,a){return 1}),null==e.groundCombatRoundEnd&&(e.groundCombatRoundEnd=function(e,t,r,n,a){return 1}),null==e.postProduction&&(e.postProduction=function(e,t,r){return 1}),null==e.strategyPrimaryEvent&&(e.strategyPrimaryEvent=function(e,t,r){return 0}),null==e.strategySecondaryEvent&&(e.strategySecondaryEvent=function(e,t,r){return 0}),null==e.strategyCardBeforeTriggers&&(e.strategyCardBeforeTriggers=function(e,t,r,n){return 0}),null==e.strategyCardBeforeEvent&&(e.strategyCardBeforeEvent=function(e,t,r,n){return 0}),null==e.strategyCardAfterTriggers&&(e.strategyCardAfterTriggers=function(e,t,r,n){return 0}),null==e.strategyCardAfterEvent&&(e.strategyCardAfterEvent=function(e,t,r,n){return 0}),null==e.playersChooseStrategyCardsBeforeTriggers&&(e.playersChooseStrategyCardsBeforeTriggers=function(e,t){return 0}),null==e.playersChooseStrategyCardsBeforeEvent&&(e.playersChooseStrategyCardsBeforeEvent=function(e,t){return 0}),null==e.playersChooseStrategyCardsAfterTriggers&&(e.playersChooseStrategyCardsAfterTriggers=function(e,t){return 0}),null==e.playersChooseStrategyCardsAfterEvent&&(e.playersChooseStrategyCardsAfterEvent=function(e,t){return 0}),null==e.menuOption&&(e.menuOption=function(e,t,r){return{}}),null==e.menuOptionTriggers&&(e.menuOptionTriggers=function(e,t,r){return 0}),null==e.menuOptionActivated&&(e.menuOptionActivated=function(e,t,r){return 0}),null==e.preAgendaStageTriggers&&(e.preAgendaStageTriggers=function(e,t,r){return 0}),null==e.preAgendaStageEvent&&(e.preAgendaStageEvent=function(e,t,r){return 1}),null==e.postAgendaStageTriggers&&(e.postAgendaStageTriggers=function(e,t,r){return 0}),null==e.postAgendaStageEvent&&(e.postAgendaStageEvent=function(e,t,r){return 1}),null==e.returnAgendaOptions&&(e.returnAgendaOptions=function(e){return["support","oppose"]}),null==e.repealAgenda&&(e.repealAgenda=function(e){return 1}),null==e.onPass&&(e.onPass=function(e,t){return 0}),null==e.modifyPDSRoll&&(e.modifyPDSRoll=function(e,t,r,n,a){return a}),null==e.modifySpaceCombatRoll&&(e.modifySpaceCombatRoll=function(e,t,r,n){return n}),null==e.modifyGroundCombatRoll&&(e.modifyGroundCombatRoll=function(e,t,r,n){return n}),null==e.modifyUnitHits&&(e.modifyUnitHits=function(e,t,r,n,a,i,s,o){return o}),null==e.modifyCombatRoll&&(e.modifyCombatRoll=function(e,t,r,n,a,i){return i}),null==e.modifyCombatRerolls&&(e.modifyCombatRerolls=function(e,t,r,n,a,i){return i}),null==e.modifyTargets&&(e.modifyTargets=function(e,t,r,n,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];return i}),null==e.canPlayerScoreVictoryPoints&&(e.canPlayerScoreVictoryPoints=function(e,t){return 0}),null==e.scoreObjective&&(e.scoreObjective=function(e,t){return 1}),null==e.returnPDSUnitsWithinRange&&(e.returnPDSUnitsWithinRange=function(e,t,r,n,a,i){return i}),null==e.playActionCardTriggers&&(e.playActionCardTriggers=function(e,t,r,n){return 0}),null==e.playActionCardEvent&&(e.playActionCardEvent=function(e,t,r,n){return 0}),null==e.playActionCard&&(e.playActionCard=function(e,t,r,n){return 1}),null==e.playStrategyCardPrimaryTriggers&&(e.playStrategyCardPrimaryTriggers=function(e,t,r){return 0}),null==e.playStrategyCardPrimaryEvent&&(e.playStrategyCardPrimaryEvent=function(e,t,r){return 0}),null==e.playStrategyCardSecondaryTriggers&&(e.playStrategyCardSecondaryTriggers=function(e,t,r){return 0}),null==e.playStrategyCardSecondaryEvent&&(e.playStrategyCardSecondaryEvent=function(e,t,r){return 0}),null==e.activateSystemTriggers&&(e.activateSystemTriggers=function(e,t,r,n){return 0}),null==e.activateSystemEvent&&(e.activateSystemEvent=function(e,t,r,n){return 0}),null==e.pdsSpaceAttackTriggers&&(e.pdsSpaceAttackTriggers=function(e,t,r,n){return 0}),null==e.pdsSpaceAttackEvent&&(e.pdsSpaceAttackEvent=function(e,t,r,n){return 0}),null==e.pdsSpaceDefenseTriggers&&(e.pdsSpaceDefenseTriggers=function(e,t,r,n){return 0}),null==e.pdsSpaceDefenseEvent&&(e.pdsSpaceDefenseEvent=function(e,t,r,n){return 0}),null==e.spaceCombatTriggers&&(e.spaceCombatTriggers=function(e,t,r){return 0}),null==e.spaceCombatEvent&&(e.spaceCombatEvent=function(e,t,r){return 0}),null==e.bombardmentTriggers&&(e.bombardmentTriggers=function(e,t,r,n,a){return 0}),null==e.bombardmentEvent&&(e.bombardmentEvent=function(e,t,r,n,a){return 0}),null==e.planetaryDefenseTriggers&&(e.planetaryDefenseTriggers=function(e,t,r,n){return 0}),null==e.planetaryDefenseEvent&&(e.planetaryDefenseEvent=function(e,t,r,n){return 0}),null==e.groundCombatTriggers&&(e.groundCombatTriggers=function(e,t,r,n){return 0}),null==e.groundCombatEvent&&(e.groundCombatEvent=function(e,t,r,n){return 0}),null==e.playerEndTurnTriggers&&(e.playerEndTurnTriggers=function(e,t){return 0}),null==e.playerEndTurnEvent&&(e.playerEndTurnEvent=function(e,t){return 0}),e}},{key:"returnFaction",value:function(e){return null==this.game.players_info[e-1]||null==this.game.players_info[e-1]?"Unknown":this.returnFactionName(this,e)}},{key:"returnFactionNickname",value:function(e){return null==this.game.players_info[e-1]||null==this.game.players_info[e-1]?"Unknown":this.returnFactionNameNickname(this,e)}},{key:"returnFactionName",value:function(e,t){return e.returnFactions()[e.game.players_info[t-1].faction].name}},{key:"returnFactionNameNickname",value:function(e,t){return e.returnFactions()[e.game.players_info[t-1].faction].nickname}},{key:"returnPlayerHomeworld",value:function(e){return this.returnFactions()[this.game.players_info[e-1].faction].homeworld}},{key:"returnSpeaker",value:function(){return this.returnFactions()[this.game.players_info[this.game.state.speaker-1].faction].name}},{key:"returnSectorName",value:function(e){return this.game.sectors[this.game.board[e].tile].name}},{key:"returnPlanetName",value:function(e,t){return this.returnSectorAndPlanets(e).p[t].name}},{key:"returnPlayersWithHighestVP",value:function(){for(var e=0,t=[],r=this.game.players_info,n=0;n<r.length;n++)r[n].vp>e&&(e=r[n].vp);for(var a=0;a<r.length;a++)r[a].vp==e&&t.push(a+1);return t}},{key:"returnPlayersWithLowestVP",value:function(){for(var e=1e3,t=[],r=this.game.players_info,n=0;n<r.length;n++)r[n].vp<e&&(e=r[n].vp);for(var a=0;a<r.length;a++)r[a].vp==e&&t.push(a+1);return t}},{key:"returnNameOfUnknown",value:function(e){return null!=this.tech[e]?this.tech[e].name:null!=this.strategy_cards[e]?this.strategy_cards[e].name:null!=this.game.planets[e]?this.game.planets[e].name:null!=this.agenda_cards[e]?this.agenda_cards[e].name:null!=this.action_cards[e]?this.action_cards[e].name:null!=this.stage_i_objectives[e]?this.stage_i_objectives[e].name:null!=this.stage_ii_objectives[e]?this.stage_ii_objectives[e].name:null!=this.secret_objectives[e]?this.secret_objectives[e].name:null!=this.promissary_notes[e]?this.promissary_notes[e].name:e}},{key:"returnNameFromIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==e?"":0==e.indexOf("planet")&&this.game.planets[e]?this.game.planets[e].name:0==e.indexOf("sector")&&this.game.sectors[e]?this.game.sectors[e].sector:e}},{key:"returnActiveAgenda",value:function(){for(var e=this.game.queue.length-1;e>=0;e--){var t=this.game.queue[e].split("\t");if("agenda"==t[0])return t[1];if("simultaneous_agenda"==t[0])return t[1]}return""}},{key:"returnPlayerFleet",value:function(e){var t={fighters:0,infantry:0,carriers:0,cruisers:0,destroyers:0,dreadnaughts:0,flagship:0,warsuns:0,pds:0,spacedocks:0};for(var r in this.game.sectors)if(this.game.sectors[r].units[e-1])for(var n in this.game.sectors[r].units[e-1]){var a=this.game.sectors[r].units[e-1][n];"fighter"==a.type&&t.fighters++,"carrier"==a.type&&t.carriers++,"cruiser"==a.type&&t.cruisers++,"destroyer"==a.type&&t.destroyers++,"dreadnaught"==a.type&&t.dreadnaughts++,"flagship"==a.type&&t.flagship++,"warsun"==a.type&&t.warsun++}for(var i in this.game.planets)if(this.game.planets[i].units[e-1])for(var s in this.game.planets[i].units[e-1]){var o=this.game.planets[i].units[e-1][s];"infantry"==o.type&&t.infantry++,"spacedock"==o.type&&t.spacedock++,"pds"==o.type&&t.pds++}return t}},{key:"isPlayerOverCapacity",value:function(e,t){var r=this.returnShipsOverCapacity(e,t),n=this.returnFightersWithoutCapacity(e,t);return r>0||n>0?1:0}},{key:"returnSpareFleetSupplyInSector",value:function(e,t){for(var r=this.returnSectorAndPlanets(t),n=this.game.players_info[e-1].fleet_supply,a=0,i=0;i<r.s.units[e-1].length;i++){var s=r.s.units[e-1][i];"destroyer"==s.type&&a++,"carrier"==s.type&&a++,"cruiser"==s.type&&a++,"dreadnaught"==s.type&&a++,"flagship"==s.type&&a++,"warsun"==s.type&&a++,s.type}return n-a>0?n-a:0}},{key:"returnShipsOverCapacity",value:function(e,t){for(var r=this.returnSectorAndPlanets(t),n=this.game.players_info[e-1].fleet_supply,a=0,i=0;i<r.s.units[e-1].length;i++){var s=r.s.units[e-1][i];s.capacity,this.returnRemainingCapacity(s),"destroyer"==s.type&&a++,"carrier"==s.type&&a++,"cruiser"==s.type&&a++,"dreadnaught"==s.type&&a++,"flagship"==s.type&&a++,"warsun"==s.type&&a++,s.type}return a>n?a-n:0}},{key:"returnFightersWithoutCapacity",value:function(e,t){for(var r=this.returnSectorAndPlanets(t),n=this.game.players_info[e-1].fleet_supply,a=0,i=0,s=0,o=0,c=0;c<r.s.units[e-1].length;c++){var u=r.s.units[e-1][c];o+=u.capacity,a+=this.returnRemainingCapacity(u),"destroyer"==u.type&&i++,"carrier"==u.type&&i++,"cruiser"==u.type&&i++,"dreadnaught"==u.type&&i++,"flagship"==u.type&&i++,"warsun"==u.type&&i++,"fighter"==u.type&&s++}for(var l=0;l<r.p.length;l++)for(var d=0;d<r.p[l].units[e-1].length;d++)"spacedock"===r.p[l].units[e-1][d].type&&(s-=3)<0&&(s=0);return this.doesPlayerHaveTech(e,"fighter-ii")&&s+i-a>n?s-(a+(n-i)):s>o?s-o:0}},{key:"checkForVictory",value:function(){for(var e=0;e<this.game.players_info.length;e++)if(this.game.players_info[e].vp>=this.game.state.vp_target)return this.updateStatus("Game Over: "+this.returnFaction(e+1)+" has reached "+this.game.state.vo_target+" VP"),1;return 0}},{key:"returnSectorsWherePlayerCanRetreat",value:function(e,t){t.indexOf("_")>-1&&(t=this.game.board[t].tile);for(var r=[],n=this.returnAdjacentSectors(t),a=0;a<n.length;a++){var i=0;this.doesSectorContainPlayerShips(e,n[a])&&!this.doesSectorContainNonPlayerShips(e,n[a])&&(i=1),this.doesSectorContainPlanetOwnedByPlayer(n[a],e)&&!this.doesSectorContainNonPlayerShips(e,n[a])&&(i=1),1==i&&r.push(n[a])}return r}},{key:"canPlayerRetreat",value:function(e,t,r,n){for(var a=this.returnAdjacentSectors(n),i=0;i<a.length;i++){if(this.doesSectorContainPlayerShips(e,a[i])&&!this.doesSectorContainNonPlayerShips(e,a[i]))return 1;if(this.doesSectorContainPlanetOwnedByPlayer(a[i],e)&&!this.doesSectorContainNonPlayerShips(e,a[i]))return 1}return 0}},{key:"canPlayerTrade",value:function(e){for(var t=0;t<this.game.players_info.length;t++)if(0==this.game.players_info[t].traded_this_turn&&t+1!=this.game.player&&this.arePlayersAdjacent(this.game.player,t+1)){if((this.game.players_info[this.game.player-1].commodities>0||this.game.players_info[this.game.player-1].goods>0)&&(this.game.players_info[t].commodities>0||this.game.players_info[t].goods>0))return 1;if(this.game.players_info[this.game.player-1].promissary_notes.length>0||this.game.players_info[t].promissary_notes.length>0)return 1}return 0}},{key:"canPlayerProduceFlagship",value:function(e){for(var t in this.game.sectors)if(this.game.sectors[t])for(var r=0;r<this.game.sectors[t].units[e-1].length;r++)if("flagship"===this.game.sectors[t].units[e-1][r].type)return 0;return 1}},{key:"canPlayerPlayStrategyCard",value:function(e){for(var t=0;t<this.game.players_info[e-1].strategy.length;t++)if(!this.game.players_info[e-1].strategy_cards_played.includes(this.game.players_info[e-1].strategy[t]))return 1;return 0}},{key:"canPlayerPass",value:function(e){return 1==this.canPlayerPlayStrategyCard(e)?0:1}},{key:"canPlayerPlayActionCard",value:function(e){return this.returnPlayerActionCards(this.game.player).length>0?1:0}},{key:"exhaustPlayerResearchTechnologyPrerequisites",value:function(e){var t=this.game.players_info[this.game.player-1].tech;if(t.includes(e))return 0;for(var r=JSON.parse(JSON.stringify(this.tech[e].prereqs)),n=this.tech[e].faction,a=this.tech[e].type,i=0;i<t.length;i++)if(this.tech[t[i]])for(var s=this.tech[t[i]].color,o=0;o<r.length;o++)r[o]==s&&(r.splice(o,1),o=r.length);if(1==this.game.players_info[this.game.player-1].permanent_blue_tech_prerequisite)for(var c=0;c<r.length;c++)"blue"==r[c]&&(r.splice(c,1),c=r.length);if(1==this.game.players_info[this.game.player-1].permanent_green_tech_prerequisite)for(var u=0;u<r.length;u++)"green"==r[u]&&(r.splice(u,1),u=r.length);if(1==this.game.players_info[this.game.player-1].permanent_red_tech_prerequisite)for(var l=0;l<r.length;l++)"red"==r[l]&&(r.splice(l,1),l=r.length);if(1==this.game.players_info[this.game.player-1].permanent_yellow_tech_prerequisite)for(var d=0;d<r.length;d++)"yellow"==r[d]&&(r.splice(d,1),d=r.length);if(1==this.game.players_info[this.game.player-1].temporary_blue_tech_prerequisite)for(var h=0;h<r.length;h++)"blue"==r[h]&&(r.splice(h,1),h=r.length,this.game.players_info[this.game.player-1].temporary_blue_tech_prerequisite=0);if(1==this.game.players_info[this.game.player-1].temporary_green_tech_prerequisite)for(var p=0;p<r.length;p++)"green"==r[p]&&(r.splice(p,1),p=r.length,this.game.players_info[this.game.player-1].temporary_green_tech_prerequisite=0);if(1==this.game.players_info[this.game.player-1].temporary_red_tech_prerequisite)for(var f=0;f<r.length;f++)"red"==r[f]&&(r.splice(f,1),f=r.length,this.game.players_info[this.game.player-1].temporary_red_tech_prerequisite=0);if(1==this.game.players_info[this.game.player-1].temporary_yellow_tech_prerequisite)for(var m=0;m<r.length;m++)"yellow"==r[m]&&(r.splice(m,1),m=r.length,this.game.players_info[this.game.player-1].temporary_yellow_tech_prerequisite=0);r.length>=1&&this.game.players_info[this.game.player-1].permanent_ignore_number_of_tech_prerequisites_on_nonunit_upgrade>=1&&r.splice(0,1),r.length>=1&&this.game.players_info[this.game.player-1].temporary_ignore_number_of_tech_prerequisites_on_nonunit_upgrade>=1&&(r.splice(0,1),this.game_players_info[this.game.player-1].temporary_ignore_number_of_tech_prerequisities_on_nonunit_upgrade=0);for(var g=this.returnPlayerPlanetTechSkips(this.game.player,1),y=0;y<r.length;y++)for(var b=0;b<g.length;b++)r[y]===g[b].color&&(this.addMove("expend\t"+this.game.player+"\tplanet\t"+g[b].planet),r.splice(y,1),g.splice(b,1),y--,b--);return 0!=r.length||"all"!=n&&n!=this.game.players_info[this.game.player-1].faction||"normal"!=a?0:1}},{key:"canPlayerResearchTechnology",value:function(e){var t=this.game.players_info[this.game.player-1].tech,r=this.game.players_info[this.game.player-1].faction;if(t.includes(e))return 0;if(null==this.tech[e])return console.log("Undefined Technology: "+e),0;var n=JSON.parse(JSON.stringify(this.tech[e].prereqs)),a=this.tech[e].faction,i=this.tech[e].type,s=(this.tech[e].replaces,this.returnPlayerPlanetTechSkips(this.game.player,1));for(var o in this.tech)if(this.tech[o].faction==r&&this.tech[o].replaces==e)return 0;if("ability"==i)return 0;if("special"==i&&a!=this.game.players_info[this.game.player-1].faction)return 0;for(var c=0;c<t.length;c++)if(this.tech[t[c]])for(var u=this.tech[t[c]].color,l=0;l<n.length;l++)n[l]==u&&(n.splice(l,1),l=n.length);if(1==this.game.players_info[this.game.player-1].temporary_blue_tech_prerequisite)for(var d=0;d<n.length;d++)"blue"==n[d]&&(n.splice(d,1),d=n.length);if(1==this.game.players_info[this.game.player-1].temporary_green_tech_prerequisite)for(var h=0;h<n.length;h++)"green"==n[h]&&(n.splice(h,1),h=n.length);if(1==this.game.players_info[this.game.player-1].temporary_red_tech_prerequisite)for(var p=0;p<n.length;p++)"red"==n[p]&&(n.splice(p,1),p=n.length);if(1==this.game.players_info[this.game.player-1].temporary_yellow_tech_prerequisite)for(var f=0;f<n.length;f++)"yellow"==n[f]&&(n.splice(f,1),f=n.length);if(1==this.game.players_info[this.game.player-1].permanent_blue_tech_prerequisite)for(var m=0;m<n.length;m++)"blue"==n[m]&&(n.splice(m,1),m=n.length);if(1==this.game.players_info[this.game.player-1].permanent_green_tech_prerequisite)for(var g=0;g<n.length;g++)"green"==n[g]&&(n.splice(g,1),g=n.length);if(1==this.game.players_info[this.game.player-1].permanent_red_tech_prerequisite)for(var y=0;y<n.length;y++)"red"==n[y]&&(n.splice(y,1),y=n.length);if(1==this.game.players_info[this.game.player-1].permanent_yellow_tech_prerequisite)for(var b=0;b<n.length;b++)"yellow"==n[b]&&(n.splice(b,1),b=n.length);1==n.length&&this.game.players_info[this.game.player-1].permanent_ignore_number_of_tech_prerequisites_on_nonunit_upgrade>=1&&n.splice(0,1),1==n.length&&this.game.players_info[this.game.player-1].temporary_ignore_number_of_tech_prerequisites_on_nonunit_upgrade>=1&&n.splice(0,1);for(var v=0;v<n.length;v++)for(var _=0;_<s.length;_++)n[v]===s[_].color&&(n.splice(v,1),s.splice(_,1),v--,_--);return 0!=n.length||"all"!=a&&a!=this.game.players_info[this.game.player-1].faction||"normal"!=i&&"special"!=i?0:1}},{key:"returnAvailableVotes",value:function(e){for(var t=this.returnPlayerPlanetCards(e),r=0,n=0;n<t.length;n++)r+=this.game.planets[t[n]].influence;return r}},{key:"returnPlayersLeastDefendedPlanetInSector",value:function(e,t){var r=this.returnSectorAndPlanets(t),n=100,a=0;if(0==r.p.length)return-1;for(var i=0;i<r.p.length;i++)r.p[i].owner==e&&r.p[i].units[e-1].length<n&&(n=r.p[i].units[e-1].length,a=i);return a}},{key:"returnPlayerFleetInSector",value:function(e,t){for(var r=this.returnSectorAndPlanets(t),n="",a=0;a<r.s.units[e-1].length;a++)if(0==r.s.units[e-1][a].destroyed&&(a>0&&(n+=", "),n+=r.s.units[e-1][a].name,r.s.units[e-1][a].storage.length>0)){for(var i=0,s=0,o=0;o<r.s.units[e-1][a].storage.length;o++)"infantry"==r.s.units[e-1][a].storage[o].type&&s++,"fighter"==r.s.units[e-1][a].storage[o].type&&i++;(s>0||i>0)&&(n+=" (",s>0&&(n+=s+"i"),i>0&&(s>0&&(n+=", "),n+=i+"f"),n+=")")}return n}},{key:"returnShipInformation",value:function(e){for(var t=e.name,r=1;r<e.strength;r++)1==r&&(t+=" ("),t+="*",r==e.strength-1&&(t+=")");for(var n=0,a=0,i=0;i<e.storage.length;i++)"infantry"==e.storage[i].type&&a++,"fighter"==e.storage[i].type&&n++;return n+a>0&&(t+=" (",a>0&&(t+=a+"i"),n>0&&(a>0&&(t+=", "),t+=n+"f"),t+=")"),t}},{key:"returnTotalResources",value:function(e){for(var t=this.returnPlayerPlanetCards(e),r=0,n=0;n<t.length;n++)r+=this.game.planets[t[n]].resources;return r+=this.game.players_info[e-1].goods}},{key:"returnTotalInfluence",value:function(e){for(var t=this.returnPlayerPlanetCards(e),r=0,n=0;n<t.length;n++)r+=this.game.planets[t[n]].influence;return r+=this.game.players_info[e-1].goods}},{key:"returnAvailableResources",value:function(e){for(var t=this.returnPlayerUnexhaustedPlanetCards(e),r=0,n=0;n<t.length;n++)r+=this.game.planets[t[n]].resources;return r+=this.game.players_info[e-1].goods}},{key:"returnAvailableInfluence",value:function(e){for(var t=this.returnPlayerUnexhaustedPlanetCards(e),r=0,n=0;n<t.length;n++)r+=this.game.planets[t[n]].influence;return r+=this.game.players_info[e-1].goods}},{key:"returnAvailableTradeGoods",value:function(e){return this.game.players_info[e-1].goods}},{key:"canPlayerActivateSystem",value:function(e){return 1==this.returnSectorAndPlanets(e).s.activated[this.game.player-1]?0:1}},{key:"returnDefender",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.returnSectorAndPlanets(t),a=-1;if(null==r){for(var i=0;i<n.s.units.length;i++)e!=i+1&&n.s.units[i].length>0&&(a=i+1);return a}for(var s=0;s<n.p[r].units.length;s++)e!=s+1&&n.p[r].units[s].length>0&&(a=s+1);return-1==a&&n.p[r].owner!=e?n.p[r].owner:a}},{key:"hasPlayerActivatedSector",value:function(e){for(var t in this.game.sectors)if(1==this.game.sectors[t].activated[e-1])return 1;return 0}},{key:"hasUnresolvedSpaceCombat",value:function(e,t){for(var r=this.returnSectorAndPlanets(t),n=0,a=0,i=0;i<r.s.units.length;i++)if(e!=i+1){if(r.s.units[i].length>0)for(var s=0;s<r.s.units[i].length;s++)0==r.s.units[i][s].destroyed&&(n=1)}else if(r.s.units[i].length>0)for(var o=0;o<r.s.units[i].length;o++)0==r.s.units[i][o].destroyed&&(a=1);return 0==n?0:1==n&&1==a?1:0}},{key:"hasUnresolvedGroundCombat",value:function(e,t,r){for(var n=this.returnSectorAndPlanets(t),a=-1,i=0;i<n.p[r].units.length;i++)n.p[r].units[i].length>0&&i+1!=e&&(a=i+1);return a==e?0:(attacker_forces=-1==e?0:this.returnNumberOfGroundForcesOnPlanet(e,t,r),defender_forces=-1==a?0:this.returnNumberOfGroundForcesOnPlanet(a,t,r),attacker_forces>0&&defender_forces>0?1:0)}},{key:"isPlanetExhausted",value:function(e){return 1==this.game.planets[e].exhausted?1:0}},{key:"returnAdjacentSectors",value:function(e){e.indexOf("_")>-1&&(e=this.game.board[e].tile);var t=[],r=this.addWormholesToBoardTiles(this.returnBoardTiles());for(var n in r)if(this.game.board[n]){var a=this.returnSectorAndPlanets(n);if(a&&a.s&&a.s.sector==e)for(var i=0;i<r[n].neighbours.length;i++){var s=this.returnSectorAndPlanets(r[n].neighbours[i]);s&&s.s&&t.push(s.s.sector)}}return t}},{key:"areSectorsAdjacent",value:function(e,t){var r=this.addWormholesToBoardTiles(this.returnBoardTiles());if(""===e)return 0;if(""===t)return 0;var n=this.returnSectorAndPlanets(e),a=this.returnSectorAndPlanets(t),i=n.s.tile,s=a.s.tile;if(""===i||""===s)return 0;if(r[i].neighbours.includes(s))return 1;if(r[s].neighbours.includes(i))return 1;for(var o=0;o<this.game.state.temporary_adjacency.length;o++){if(temporary_adjacency[o][0]==e&&temporary_adjacency[o][1]==t)return 1;if(temporary_adjacency[o][0]==t&&temporary_adjacency[o][1]==e)return 1}return 0}},{key:"arePlayersAdjacent",value:function(e,t){for(var r=this.returnSectorsWithPlayerUnitsAndPlanets(e),n=this.returnSectorsWithPlayerUnitsAndPlanets(t),a=0;a<r.length;a++)for(var i=0;i<n.length;i++){if(r[a]===n[i])return 1;if(this.areSectorsAdjacent(r[a],n[i]))return 1}return 0}},{key:"isPlayerAdjacentToSector",value:function(e,t){for(var r=this.returnSectorsWithPlayerUnits(e),n=0;n<r.length;n++){if(r[n]==t)return 1;if(this.areSectorsAdjacent(r[n],t))return 1}return 0}},{key:"isPlayerShipAdjacentToSector",value:function(e,t){for(var r=this.returnSectorsWithPlayerShips(e),n=0;n<r.length;n++){if(r[n]==t)return 1;if(this.areSectorsAdjacent(r[n],t))return 1}return 0}},{key:"returnPlanetsOnBoard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[];for(var r in this.game.planets)""!=this.game.planets[r].tile&&(null==e||e(this.game.planets[r]))&&t.push(r);return t}},{key:"returnSectorsOnBoard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[];for(var r in this.game.sectors)this.game.sectors[r].tile&&(null==e||e(this.game.sectors[r]))&&t.push(r);return t}},{key:"returnSectorsWithPlayerShips",value:function(e){var t=[];for(var r in this.game.sectors)this.doesSectorContainPlayerShips(e,r)&&t.push(r);return t}},{key:"returnSectorsWithPlayerUnits",value:function(e){var t=[];for(var r in this.game.sectors)this.doesSectorContainPlayerUnits(e,r)&&t.push(r);return t}},{key:"returnSectorsWithPlayerUnitsAndPlanets",value:function(e){var t=[];for(var r in this.game.sectors)(this.doesSectorContainPlayerUnits(e,r)||this.doesSectorContainPlanetOwnedByPlayer(r,e))&&t.push(r);return t}},{key:"canPlayerProduceInSector",value:function(e,t){if(1==this.game.players_info[e-1].may_player_produce_without_spacedock)return 1;for(var r=this.returnSectorAndPlanets(t),n=0;n<r.p.length;n++)for(var a=0;a<r.p[n].units[e-1].length;a++)if("spacedock"==r.p[n].units[e-1][a].type)return 1;return 0}},{key:"canPlayerLandInfantry",value:function(e,t){for(var r=0,n=[],a=0,i=this.returnInfantryInSpace(e,t),s=this.returnSectorAndPlanets(t),o=0;o<s.p.length;o++)s.p[o].owner==this.game.player&&(r++,n.push(this.returnInfantryOnPlanet(s.p[o])),a+=this.returnInfantryOnPlanet(s.p[o]));if(r>1){for(var c=0;c<n.length;c++)if(n[c]<=a)return 1}else if(r>0&&i)return 1;return 0}},{key:"canPlayerInvadePlanet",value:function(e,t){for(var r=this.returnSectorAndPlanets(t),n=0,a=0,i=0,s=0;s<r.p.length;s++)0==r.p[s].locked&&r.p[s].owner!=e&&(a=1);if(0==a)return 0;for(var o=0;o<r.s.units[e-1].length;o++){for(var c=r.s.units[e-1][o],u=0;u<c.storage.length;u++)"infantry"==c.storage[u].type&&(i+=1);c.capacity>0&&(n=1)}if(i>0)return 1;if(1==n)for(var l=0;l<r.p.length;l++)for(var d=0;d<r.p[l].units[e-1].length;d++)if("infantry"==r.p[l].units[e-1][d].type)return 1;return 0}},{key:"returnSpeakerFirstOrder",value:function(){for(var e=this.game.state.speaker,t=[],r=0;r<this.game.players.length;r++){var n=r+e;n>this.game.players.length&&(n-=this.game.players.length),t.push(n)}return t}},{key:"returnSpeakerOrder",value:function(){for(var e=this.game.state.speaker,t=[],r=0;r<this.game.players.length;r++){var n=r+e+1;n>this.game.players.length&&(n-=this.game.players.length),t.push(n)}return t}},{key:"returnInitiativeOrder",value:function(){var e=this.returnStrategyCards(),t=[],r=[];for(var n in e)t[n]=e[n].rank;for(var a=0;a<this.game.players_info.length;a++){r[a]=1e5;for(var i=0;i<this.game.players_info[a].strategy.length;i++){var s=t[this.game.players_info[a].strategy[i]];s<r[a]&&(r[a]=s)}}for(var o=r.length,c=[],u=0;u<o;u++){for(var l=1e5,d=0,h=0;h<r.length;h++)r[h]<l&&(l=r[h],d=h);r[d]=999999,c.push(d+1)}return c}},{key:"returnSectorsWithinHopDistance",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=[],a=[],i=[],s=[],o=this.addWormholesToBoardTiles(this.returnBoardTiles());n.push(e),a.push(0),i.push(""),s.push(1);for(var c=0;c<t;c++)for(var u=JSON.parse(JSON.stringify(n)),l=JSON.parse(JSON.stringify(i)),d=0;d<u.length;d++){var h="";if("rift"==l[d]&&(h="rift"),null!=this.game.board[u[d]]){var p=1,f=this.game.sectors[this.game.board[u[d]].tile].type;if(null==r||(1==this.game.players_info[r-1].move_through_sectors_with_opponent_ships||1==this.game.players_info[r-1].temporary_move_through_sectors_with_opponent_ships||this.doesSectorContainNonPlayerShips(r,u[d])&&(p=-1,s[d]=-1),-1==s[d]&&(p=-1),3==f&&0==this.game.players_info[r-1].fly_through_asteroids&&(p=0),4==f&&0==this.game.players_info[r-1].fly_through_supernovas&&(p=0),2==f&&0==this.game.players_info[r-1].fly_through_nebulas&&(p=0)),1==f&&(h="rift",p=1),u[d]==e&&(p=1),-1==p){for(var g=o[u[d]].neighbours,y=0;y<g.length;y++)if(n.includes(g[y])){for(var b=1,v=0;v<n.length;v++)n[v]==g[y]&&i[v]==h&&(b=0);1==b&&(n.push(g[y]),s.push(-1),"rift"===h?a.push(c):a.push(c+1),i.push(h))}else n.push(g[y]),s.push(-1),"rift"===h?a.push(c):a.push(c+1),i.push(h);for(var _=0;_<this.game.state.temporary_adjacency.length;_++){if(u[d]==this.game.state.temporary_adjacency[_][0])if(n.includes(this.game.state.temporary_adjacency[_][1])){for(var w=1,x=0;x<n.length;x++)n[x]==this.game.state.temporary_adjacency[_][1]&&i[x]==h&&(w=0);1==w&&(n.push(g[m]),s.push(-1),"rift"===h?a.push(c):a.push(c+1),i.push(h))}else n.push(this.game.state.temporary_adjacency[_][1]),s.push(-1),"rift"===h?a.push(c):a.push(c+1),i.push(h);if(u[d]==this.game.state.temporary_adjacency[_][1])if(n.includes(this.game.state.temporary_adjacency[_][0])){for(var k=1,S=0;S<n.length;S++)n[S]==this.game.state.temporary_adjacency[_][0]&&i[S]==h&&(k=0);1==k&&(n.push(this.game.state.temporary_adjacency[_][0]),s.push(-1),"rift"===h?a.push(c):a.push(c+1),i.push(h))}else n.push(this.game.state.temporary_adjacency[_][0]),"rift"===h?a.push(c):a.push(c+1),s.push(-1),i.push(h)}}if(1==p){for(var O=o[u[d]].neighbours,P=0;P<O.length;P++)if(n.includes(O[P])){for(var E=1,A=0;A<n.length;A++)n[A]==O[P]&&(i[A]==h&&(E=0),-1==s[A]&&(E=1));1==E&&(n.push(O[P]),s.push(1),"rift"===h?a.push(c):a.push(c+1),i.push(h))}else n.push(O[P]),s.push(1),"rift"===h?a.push(c):a.push(c+1),i.push(h);for(var C=0;C<this.game.state.temporary_adjacency.length;C++){if(u[d]==this.game.state.temporary_adjacency[C][0])if(n.includes(this.game.state.temporary_adjacency[C][1])){for(var T=1,D=0;D<n.length;D++)n[D]==this.game.state.temporary_adjacency[C][1]&&i[D]==h&&(T=0);1==T&&(n.push(O[m]),s.push(1),"rift"===h?a.push(c):a.push(c+1),i.push(h))}else n.push(this.game.state.temporary_adjacency[C][1]),s.push(1),"rift"===h?a.push(c):a.push(c+1),i.push(h);if(u[d]==this.game.state.temporary_adjacency[C][1])if(n.includes(this.game.state.temporary_adjacency[C][0])){for(var j=1,M=0;M<n.length;M++)n[M]==this.game.state.temporary_adjacency[C][0]&&i[M]==h&&(j=0);1==j&&(n.push(this.game.state.temporary_adjacency[C][0]),s.push(1),"rift"===h?a.push(c):a.push(c+1),i.push(h))}else n.push(this.game.state.temporary_adjacency[C][0]),s.push(1),"rift"===h?a.push(c):a.push(c+1),i.push(h)}}}}for(var I=0;I<n.length;I++)if("rift"==i[I]&&a[I]==t&&null!=this.game.board[n[I]]){for(var R=o[n[I]].neighbours,B=0;B<R.length;B++)n.includes(R[B])||(s.push(1),n.push(R[B]),a.push(t),i.push("rift"));for(var N=0;N<this.game.state.temporary_adjacency.length;N++)n[I]==this.game.state.temporary_adjacency[N][0]&&(n.includes(this.game.state.temporary_adjacency[N][1])||(n.push(this.game.state.temporary_adjacency[N][1]),a.push(t),i.push("rift"),s.push(1))),n[I]==this.game.state.temporary_adjacency[N][1]&&(n.includes(this.game.state.temporary_adjacency[N][0])||(n.push(this.game.state.temporary_adjacency[N][0]),a.push(t),i.push("rift"),s.push(1)))}for(var F=n.length,q=0;q<F;q++)if("rift"===i[q])for(var L=0;L<n.length;L++)n[q]===n[L]&&a[q]>=a[L]&&q!=L&&(n.splice(q,1),s.splice(q,1),a.splice(q,1),i.splice(q,1),q--,F--,L=n.length+2);F=n.length;for(var H=0;H<F;H++)if(-1==s[H])for(var U=0;U<n.length;U++)n[H]===n[U]&&1==s[U]&&H!=U&&a[H]>=a[U]&&(n.splice(H,1),s.splice(H,1),a.splice(H,1),i.splice(H,1),H--,F--,U=n.length+2);var z={sectors:n,distance:a,hazards:i,hoppable:s};return z}},{key:"returnPDSOnPlanet",value:function(e){for(var t=0,r=0;r<e.units.length;r++)for(var n=0;n<e.units[r].length;n++)"pds"==e.units[r][n].type&&t++;return t}},{key:"returnSpaceDocksOnPlanet",value:function(e){for(var t=0,r=0;r<e.units.length;r++)for(var n=0;n<e.units[r].length;n++)"spacedock"==e.units[r][n].type&&t++;return t}},{key:"returnOpponentInSector",value:function(e,t){for(var r=this.returnSectorAndPlanets(t),n=0;n<r.s.units.length;n++)if(n+1!=e&&r.s.units[n].length>0)return n+1;return-1}},{key:"returnOpponentOnPlanet",value:function(e,t){for(var r=0;r<t.units.length;r++)if(r+1!=e&&t.units[r].length>0)return r+1;return-1}},{key:"returnPlayerInfantryOnPlanet",value:function(e,t){for(var r=0,n=0;n<t.units[e-1].length;n++)"infantry"==t.units[e-1][n].type&&r++;return r}},{key:"returnNonPlayerInfantryOnPlanet",value:function(e,t){for(var r=0,n=0;n<t.units.length;n++)if(n+1!=e)for(var a=0;a<t.units[n].length;a++)"infantry"==t.units[n][a].type&&r++;return r}},{key:"returnInfantryOnPlanet",value:function(e){for(var t=0,r=0;r<e.units.length;r++)for(var n=0;n<e.units[r].length;n++)"infantry"==e.units[r][n].type&&t++;return t}},{key:"returnInfantryInUnit",value:function(e){for(var t=0,r=0;r<e.storage.length;r++)"infantry"==e.storage[r].type&&t++;return t}},{key:"returnInfantryInSpace",value:function(e,t){for(var r=this.returnSectorAndPlanets(t),n=0,a=0;a<r.s.units[e-1].length;a++)if(0==r.s.units[e-1][a].destroyed&&r.s.units[e-1][a].storage.length>0)for(var i=0;i<r.s.units[e-1][a].storage.length;i++)"infantry"==r.s.units[e-1][a].storage[i].type&&n++;return n}},{key:"doesPlanetHavePDS",value:function(e){if(null==e.units){var t=this.game.planets[e];if(!t.units)return 0;e=t}for(var r=0;r<e.units.length;r++)for(var n=0;n<e.units[r].length;n++)if("pds"==e.units[r][n].type)return 1;return 0}},{key:"doesPlanetHaveSpaceDock",value:function(e){null==e.units&&(e=this.game.planets[e]);for(var t=0;t<e.units.length;t++)for(var r=0;r<e.units[t].length;r++)if("spacedock"==e.units[t][r].type)return 1;return 0}},{key:"doesPlanetHaveInfantry",value:function(e){null==e.units&&(e=this.game.planets[e]);for(var t=0;t<e.units.length;t++)for(var r=0;r<e.units[t].length;r++)if("infantry"==e.units[t][r].type)return 1;return 0}},{key:"doesPlanetHaveUnits",value:function(e){null==e.units&&(e=this.game.planets[e]);for(var t=0;t<e.units.length;t++)if(e.units[t].length>0)return 1;return 0}},{key:"doesPlanetHavePlayerInfantry",value:function(e,t){null==e.units&&(e=this.game.planets[e]);for(var r=0;r<e.units[t-1].length;r++)if("infantry"==e.units[i][r].type)return 1;return 0}},{key:"doesPlanetHavePlayerSpaceDock",value:function(e,t){for(var r=0;r<e.units[t-1].length;r++)if("spacedock"==e.units[i][r].type)return 1;return 0}},{key:"doesPlanetHavePlayerPDS",value:function(e,t){for(var r=0;r<e.units[t-1].length;r++)if("pds"==e.units[i][r].type)return 1;return 0}},{key:"doesPlayerHavePromissary",value:function(e,t){return this.game.players_info[e-1].promissary_notes.includes(t)?1:0}},{key:"returnPlayablePromissaryArray",value:function(e,t){for(var r=[],n=0;n<this.game.players_info.length;n++)n+1!=e&&r.push(this.game.players_info[n].faction+"-"+t);return r}},{key:"doesPlayerHaveRider",value:function(e){for(var t=0;t<this.game.state.riders.length;t++)if(this.game.state.riders[t].player==e)return 1;if(this.game.turn)for(var r=0;r<this.game.turn.length;r++)if(this.game.turn[r]){var n=this.game.turn[r].split("\t");if("rider"==n[0]&&n[1]==this.game.player)return 1}return 0}},{key:"doesPlayerHaveSpaceDockOnPlanet",value:function(e,t){if(t.owner!=e)return 0;for(var r=0;r<t.units[e-1].length;r++)if("spacedock"==t.units[e-1][r].type)return 1;return 0}},{key:"doesPlayerHaveInfantryOnPlanet",value:function(e,t,r){var n=this.returnSectorAndPlanets(t);if(n.p[r].units[e-1].length>0)for(var a=0;a<n.p[r].units[e-1].length;a++)if("infantry"==n.p[r].units[e-1][a].type)return 1;return 0}},{key:"doesPlayerHaveAntiFighterBarrageInSector",value:function(e,t){if(-1==e)return 0;var r=this.returnSectorAndPlanets(t);if(r.s.units[e-1].length>0)for(var n=0;n<r.s.units[e-1].length;n++)if(null==r.s.units[e-1][n])r.s.units[e-1].splice(n,1),n--;else if(0==r.s.units[e-1][n].destroyed&&"destroyer"==r.s.units[e-1][n].type)return 1;return 0}},{key:"doesPlayerHaveShipsInSector",value:function(e,t){if(-1==e)return 0;var r=this.returnSectorAndPlanets(t);if(r.s.units[e-1].length>0)for(var n=0;n<r.s.units[e-1].length;n++)if(null==r.s.units[e-1][n])r.s.units[e-1].splice(n,1),n--;else if(0==r.s.units[e-1][n].destroyed)return 1;return 0}},{key:"doesPlayerHaveUnitsInSector",value:function(e,t){if(-1==e)return 0;var r=this.returnSectorAndPlanets(t);if(r.s.units[e-1].length>0)for(var n=0;n<r.s.units[e-1].length;n++)if(null==r.s.units[e-1][n])r.s.units[e-1].splice(n,1),n--;else if(0==r.s.units[e-1][n].destroyed)return 1;for(var a=0;a<r.p.length;a++)if(r.p[a].units[e-1].length>0)return 1;return 0}},{key:"doesPlayerHaveUnitOnBoard",value:function(e,t){for(var r in this.game.sectors)for(var n=0;n<this.game.sectors[r].units[e-1].length;n++)if(this.game.sectors[r].units[e-1][n].type==t)return 1;for(var a in this.game.planets)for(var i=0;i<this.game.planets[a].units[e-1].length;i++)if(this.game.planets[a].units[e-1][i].type==t)return 1;return 1}},{key:"doesPlayerHavePDSUnitsWithinRange",value:function(e,t,r){this.returnSectorAndPlanets(r);var n,a,i=this.returnSectorsWithinHopDistance(r,1);n=i.sectors,a=i.distance;var s=this.returnPDSWithinRange(e,r,n,a),o=this.returnEventObjects();for(var c in o)for(var u=0;u<this.game.players_info.length;u++)s=o[c].returnPDSUnitsWithinRange(this,u+1,e,t,r,s);for(var l=0;l<s.length;l++)if(s[l].owner==t){if(s[l].sector==r)return 1;if(s[l].range>0)return 1}return 0}},{key:"returnPDSWithinRangeOfSector",value:function(e,t,r){for(var n,a,i=this.returnSectorAndPlanets(r),s=this.returnSectorsWithinHopDistance(r,1),o=-1,c=0;c<this.game.players_info.length;c++)i.s.units[c].length>0&&c+1!=e&&(o=c+1);n=s.sectors,a=s.distance;var u=this.returnPDSWithinRange(e,r,n,a),l=this.returnEventObjects();for(var d in l)for(var h=0;h<this.game.players_info.length;h++)u=l[d].returnPDSUnitsWithinRange(this,h+1,e,o,r,u);return u}},{key:"returnSectorAndPlanets",value:function(e){var t=null;if(null==this.game.board[e]){if(!this.game.sectors[e])return;t=this.game.sectors[e]}else{if(null==this.game.board[e].tile)return;t=this.game.sectors[this.game.board[e].tile]}if(null==t)return null;for(var r=[],n=0;n<t.planets.length;n++)r[n]=this.game.planets[t.planets[n]];return{s:t,p:r}}},{key:"saveSystemAndPlanets",value:function(e){for(var t in this.game.sectors)if(this.game.sectors[t].img==e.s.img){this.game.sectors[t]=e.s;for(var r=0;r<this.game.sectors[t].planets.length;r++)this.game.planets[this.game.sectors[t].planets[r]]=e.p[r]}}},{key:"returnOtherPlayerHomeworldPlanets",value:function(){arguments.length>0&&void 0!==arguments[0]||this.game.player;for(var e=[],t=0;t<this.game.players_info.length;t++)if(this.game.player!=t+1)for(var r=this.returnPlayerHomeworldPlanets(t+1),n=0;n<r.length;n++)e.push(r);return e}},{key:"doesPlayerControlHomeworld",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e&&(e=this.game.player);for(var t=this.returnSectorAndPlanets(this.returnPlayerHomeworldSector(e)),r=0;r<t.p.length;r++)if(t.p[r].owner!=e)return 0;return 1}},{key:"returnPlayerHomeworldSector",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e&&(e=this.game.player);var t=this.game.board[this.game.players_info[e-1].homeworld].tile;return t}},{key:"returnPlayerHomeworldPlanets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e&&(e=this.game.player);var t=this.game.board[this.game.players_info[e-1].homeworld].tile;return this.game.sectors[t].planets}},{key:"returnPlayerPlanetTechSkips",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=this.returnPlayerPlanetCards(e,t),a=0;a<n.length;a++)this.game.planets[n[a]].bonus.indexOf("blue")>-1&&r.push({color:"blue",planet:n[a]}),this.game.planets[n[a]].bonus.indexOf("red")>-1&&r.push({color:"red",planet:n[a]}),this.game.planets[n[a]].bonus.indexOf("yellow")>-1&&r.push({color:"yellow",planet:n[a]}),this.game.planets[n[a]].bonus.indexOf("green")>-1&&r.push({color:"green",planet:n[a]});return r}},{key:"returnPlayerUnexhaustedPlanetCards",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==e&&(e=this.game.player),this.returnPlayerPlanetCards(e,1)}},{key:"returnPlayerExhaustedPlanetCards",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==e&&(e=this.game.player),this.returnPlayerPlanetCards(e,2)}},{key:"returnPlayerPlanetCards",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;null==e&&parseInt(this.game.player);var r=[];for(var n in this.game.planets)this.game.planets[n].owner==e&&(0==t&&r.push(n),1==t&&0==this.game.planets[n].exhausted&&r.push(n),2==t&&1==this.game.planets[n].exhausted&&r.push(n));return r}},{key:"returnPlayerActionCards",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];null==e&&(e=this.game.player);for(var r=[],n=0;n<this.game.deck[1].hand.length;n++)(0==t.length||t.includes(this.action_cards[this.game.deck[1].hand[n]].type))&&(this.game.players_info[e-1].action_cards_played.includes(this.game.deck[1].hand[n])||r.push(this.game.deck[1].hand[n]));return r}},{key:"returnPlayerObjectivesScored",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];null==e&&(e=this.game.player);for(var r=[],n=0;n<this.game.players_info[e-1].objectives_scored.length;n++){var a=this.game.players_info[e-1].objectives_scored[n];void 0!==this.stage_i_objectives[a]&&(0==t.length?r.push(this.stage_i_objectives_objectives[a]):t.includes("stage_i_objectives")&&r.push(this.stage_i_objectives[a])),void 0!==this.stage_ii_objectives[a]&&(0==t.length?r.push(this.stage_ii_objectives_objectives[a]):t.includes("stage_ii_objectives")&&r.push(this.stage_ii_objectives[a])),void 0!==this.secret_objectives[a]&&(0==t.length?r.push(this.secret_objectives_objectives[a]):t.includes("secret_objectives")&&r.push(this.secret_objectives[a]))}return r}},{key:"returnPlayerObjectives",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];null==e&&(e=this.game.player);var r=[];if(this.game.player==e)for(var n=0;n<this.game.deck[5].hand.length;n++)(0==t.length||t.includes("secret_objectives"))&&r.push(this.secret_objectives[this.game.deck[5].hand[n]]);for(var a=0;a<this.game.state.stage_i_objectives.length;a++)(0==t.length||t.includes("stage_i_objectives"))&&r.push(this.stage_i_objectives[this.game.state.stage_i_objectives[a]]);for(var i=0;i<this.game.state.stage_ii_objectives.length;i++)(0==t.length||t.includes("stage_ii_objectives"))&&r.push(this.stage_ii_objectives[this.game.state.stage_ii_objectives[i]]);return r}},{key:"returnPlanetCard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.game.planets[e];if(null==t)return'<div class="noncard">'+cardname+"</div>";var r='\n      <div class="planetcard" style="background-image: url(\''.concat(t.img,"');\">\n      </div>\n    ");return r}},{key:"returnStrategyCard",value:function(e){var t=this.returnStrategyCards()[e];return null==t?'<div class="noncard">'+e+"</div>":'\n      <div class="strategycard" style="background-image: url(\''.concat(t.img,'\');">\n        <div class="strategycard_name">').concat(t.name,"</div>\n      </div>\n    ")}},{key:"returnActionCard",value:function(e){this.returnActionCards()[e]}},{key:"doesSectorContainPlanetOwnedByPlayer",value:function(e,t){var r=this.returnSectorAndPlanets(e);if(!r)return 0;for(var n=0;n<r.p.length;n++)if(r.p[n].owner==t)return 1;return 0}},{key:"doesSectorContainUnit",value:function(e,t){var r=this.returnSectorAndPlanets(e);if(!r)return 0;for(var n=0;n<r.s.units.length;n++)for(var a=0;a<r.s.units[n].length;a++)if(r.s.units[n][a].type==t)return 1;return 0}},{key:"doesSectorContainPlayerShip",value:function(e,t){return this.doesSectorContainPlayerShips(e,t)}},{key:"doesSectorContainShips",value:function(e){var t=this.returnSectorAndPlanets(e);if(!t)return 0;for(var r=0;r<t.s.units.length;r++)if(t.s.units[r].length>0)return 1;return 0}},{key:"doesSectorContainNonPlayerUnit",value:function(e,t,r){for(var n=0;n<this.game.players_info.length;n++)if(n+1!=e&&this.doesSectorContainPlayerUnit(n+1,t,r))return 1;return 0}},{key:"doesSectorContainNonPlayerShips",value:function(e,t){for(var r=0;r<this.game.players_info.length;r++)if(r+1!=e&&this.doesSectorContainPlayerShips(r+1,t))return 1;return 0}},{key:"doesSectorContainPlayerUnit",value:function(e,t,r){var n=this.returnSectorAndPlanets(t);if(!n)return 0;for(var a=0;a<n.s.units[e-1].length;a++)if(n.s.units[e-1][a].type==r)return 1;for(var i=0;i<n.p.length;i++)for(var s=0;s<n.p[i].units[e-1].length;s++)if(n.p[i].units[e-1][s].type==r)return 1;return 0}},{key:"canPlayerMoveShipsIntoSector",value:function(e,t){if(0==this.game.players_info[e-1].move_into_supernovas&&4==this.returnSectorAndPlanets(t).s.type)return 0;if(!this.doesPlayerHaveTech(e,"antimass-deflectors")&&3==this.returnSectorAndPlanets(t).s.type)return 0;var r,n,a,i=[],s={max_hops:2};s.ship_move_bonus=this.game.players_info[this.game.player-1].ship_move_bonus+this.game.players_info[this.game.player-1].temporary_ship_move_bonus,s.fleet_move_bonus=this.game.players_info[this.game.player-1].fleet_move_bonus+this.game.players_info[this.game.player-1].temporary_fleet_move_bonus,s.ships_and_sectors=[],s.stuff_to_move=[],s.stuff_to_load=[],s.distance_adjustment=0,s.max_hops+=s.ship_move_bonus,s.max_hops+=s.fleet_move_bonus;var o=this.returnSectorsWithinHopDistance(t,s.max_hops,this.game.player);r=o.sectors,i=o.distance,n=o.hazards,a=o.hoppable;for(var c=0;c<i.length;c++)s.ship_move_bonus>0&&i[c]--,s.fleet_move_bonus>0&&i[c]--;return s.ship_move_bonus>0&&(s.distance_adjustment+=s.ship_move_bonus),s.fleet_move_bonus>0&&(s.distance_adjustment+=s.fleet_move_bonus),s.ships_and_sectors=this.returnShipsMovableToDestinationFromSectors(t,r,i,n,a),s.ships_and_sectors.length>0?1:0}},{key:"resetTechBonuses",value:function(){for(var e=this.returnTechnology(),t=0;t<this.game.players_info.length;t++)for(var r=0;r<this.game.players_info[t].tech.length;r++)e[this.game.players_info[t].tech[r]].onNewTurn()}},{key:"givePromissary",value:function(e,t,r){this.game.players_info[t-1].promissary_notes.push(r);for(var n=0;n<this.game.players_info[e-1].promissary_notes.length;n++)this.game.players_info[e-1].promissary_notes[n]===r&&(this.game.players_info[e-1].promissary_notes.splice(n,1),n=this.game.players_info[e-1].promissary_notes.length);for(var a=this.returnEventObjects(),i=0;i<a.length;i++)a[i].gainPromissary(this,t,r),a[i].losePromissary(this,e,r)}},{key:"handleFleetSupply",value:function(e,t){var r=this.returnSectorAndPlanets(t);t.indexOf("_")>0&&(t=r.s.sector);var n=this.returnShipsOverCapacity(e,t),a=this.returnFightersWithoutCapacity(e,t);if(n>0)return e==this.game.player&&(this.addMove("destroy_ships\t"+e+"\t"+n+"\t"+t+"\t1"),this.endTurn()),0;if(a>0){for(var i=this.returnSectorAndPlanets(t),s=0,o=0;o<i.s.units[e-1].length&&s<a;o++)"fighter"==i.s.units[e-1][o].type&&(i.s.units[e-1].splice(o,1),o--,s++);this.saveSystemAndPlanets(i)}return 1}},{key:"handleActionCardLimit",value:function(e){return this.game.players_info[e-1].action_cards_in_hand>this.game.players_info[e-1].action_card_limit?(this.game.player==e&&this.playerDiscardActionCards(this.game.players_info[e-1].action_cards_in_hand-this.game.players_info[e-1].action_card_limit),0):1}},{key:"resetSpaceUnitTemporaryModifiers",value:function(e){for(var t=this.returnSectorAndPlanets(e),r=0;r<t.s.units.length;r++)for(var n=0;n<t.s.units[r].length;n++)this.resetTemporaryModifiers(t.s.units[r][n])}},{key:"resetGroundUnitTemporaryModifiers",value:function(e,t){for(var r=this.returnSectorAndPlanets(e),n=0;n<r.p[t].units.length;n++)for(var a=0;a<r.p[t].units[n].length;a++)this.resetTemporaryModifiers(r.p[t].units[n][a])}},{key:"resetTargetUnits",value:function(){for(var e=0;e<this.game.players_info.length;e++)this.game.players_info[e].target_units=[]}},{key:"resetTurnVariables",value:function(e){this.game.players_info[e-1].planets_conquered_this_turn=[],this.game.players_info[e-1].may_player_produce_without_spacedock=0,this.game.players_info[e-1].may_player_produce_without_spacedock_production_limit=0,this.game.players_info[e-1].may_player_produce_without_spacedock_cost_limit=0,this.game.players_info[e-1].temporary_immune_to_pds_fire=0,this.game.players_info[e-1].temporary_immune_to_planetary_defense=0,this.game.players_info[e-1].temporary_space_combat_roll_modifier=0,this.game.players_info[e-1].temporary_ground_combat_roll_modifier=0,this.game.players_info[e-1].temporary_pds_combat_roll_modifier=0,this.game.players_info[e-1].temporary_bombardment_combat_roll_modifier=0,this.game.players_info[e-1].temporary_move_through_sectors_with_opponent_ships=0,this.game.players_info[e-1].temporary_fleet_move_bonus=0,this.game.players_info[e-1].temporary_ship_move_bonus=0,this.game.players_info[e-1].ground_combat_dice_reroll=0,this.game.players_info[e-1].space_combat_dice_reroll=0,this.game.players_info[e-1].pds_combat_dice_reroll=0,this.game.players_info[e-1].bombardment_combat_dice_reroll=0,this.game.players_info[e-1].combat_dice_reroll=0,this.game.players_info[e-1].experimental_battlestation="",this.game.players_info[e-1].lost_planet_this_round=-1,this.game.players_info[e-1].temporary_opponent_cannot_retreat=0;for(var t=0;t<this.game.players_info.length;t++)this.game.players_info[t].traded_this_turn=0;this.game.state.temporary_adjacency=[],this.game.state.temporary_wormhole_adjacency=0,this.game.state.retreat_cancelled=0}},{key:"deactivateSectors",value:function(){for(var e in this.game.sectors)for(var t=0;t<this.totalPlayers;t++){this.game.sectors[e].activated[t]=0;try{this.updateSectorGraphics(e)}catch(e){}}}},{key:"exhaustPlanet",value:function(e){this.game.planets[e].exhausted=1}},{key:"unexhaustPlanet",value:function(e){this.game.planets[e].exhausted=0}},{key:"updatePlanetOwner",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;e.indexOf("_")>-1&&(e=this.game.board[e].tile);var n="",a=this.returnSectorAndPlanets(e),i=r,s=a.p[t].owner;"new-byzantium"==e&&-1==a.p[t].owner&&-1!=r&&(this.game.players_info[r-1].vp+=1,this.updateLog(this.returnFaction(r)+" gains 1 VP for first conquest of New Byzantium"),this.updateLeaderboard());for(var o=0;o<a.p[t].units.length&&-1==r;o++)a.p[t].units[o].length>0&&(i=o+1);for(var c in-1!=i&&(a.p[t].owner=i,a.p[t].exhausted=1),this.game.planets)this.game.planets[c].name===a.p[t].name&&(n=c);if(s!=i){this.game.players_info[i-1].planets_conquered_this_turn.push(a.p[t].name);var u=this.returnEventObjects();for(var l in u)u[l].gainPlanet(this,i,n),-1!=s&&u[l].losePlanet(this,s,n)}this.saveSystemAndPlanets(a),this.updateSectorGraphics(e)}},{key:"eliminateDestroyedUnitsInSector",value:function(e,t){if(!((e=parseInt(e))<0)){var r=this.returnSectorAndPlanets(t),n=0;if(null!=r&&null!=r){for(var a=r.s.units[e-1].length,i=0;i<a;i++)null==r.s.units[e-1][i]?r.s.units[e-1].splice(i,1):1!=r.s.units[e-1][i].destroyed&&0!=r.s.units[e-1][i].strength||"spacedock"==r.s.units[e-1][i].type||"pds"==r.s.units[e-1][i].type||(n=1,r.s.units[e-1].splice(i,1),i--,a--);if(r.p)for(var s=0;s<r.p.length;s++)for(var o=r.p[s].units[e-1].length,c=0;c<o;c++)null==r.p[s].units[e-1][c]?r.p[s].units[e-1].splice(c,1):1!=r.p[s].units[e-1][c].destroyed&&0!=r.p[s].units[e-1][c].strength||"spacedock"==r.p[s].units[e-1][c].type||"pds"==r.p[s].units[e-1][c].type||(n=1,r.p[s].units[e-1].splice(c,1),c--,o--);1==n&&this.saveSystemAndPlanets(r)}}}},{key:"eliminateDestroyedUnitsOnPlanet",value:function(e,t,r){if(!(e<0)){for(var n=this.returnSectorAndPlanets(t),a=0;a<n.p[r].units[e-1].length;a++)null==n.p[r].units[e-1][a]?n.p[r].units[e-1].splice(a,1):1!=n.p[r].units[e-1][a].destroyed&&0!=n.p[r].units[e-1][a].strength||"spacedock"==n.p[r].units[e-1][a].type||"pds"==n.p[r].units[e-1][a].type||(n.p[r].units[e-1].splice(a,1),a--);this.saveSystemAndPlanets(n)}}},{key:"assignHitsToGroundForces",value:function(e,t,r,n,a){for(var i=this.returnEventObjects(),s=0,o=this.returnSectorAndPlanets(r),c=0;c<a;c++){for(var u=-1,l=-1,d=0;d<o.p[n].units[t-1].length;d++){var h=o.p[n].units[t-1][d];null!=h&&(h.strength>0&&-1==l&&0==h.destroyed&&(u=o.p[n].units[t-1].strength,l=d),h.strength>0&&h.strength<u&&-1!=l&&(u=h.strength,l=d))}if(l>-1&&(o.p[n].units[t-1][l].strength--,o.p[n].units[t-1][l].strength<=0))for(z_index in s++,o.p[n].units[t-1][l].destroyed=1,i)o.p[n].units[t-1][l]=i[z_index].unitDestroyed(this,e,o.p[n].units[t-1][l])}return this.saveSystemAndPlanets(o),s}},{key:"assignHitsToSpaceFleet",value:function(e,t,r,n){for(var a=this.returnEventObjects(),i=0,s=this.returnSectorAndPlanets(r),o=0;o<n;o++){for(var c=-1,u=-1,l=0;l<s.s.units[t-1].length;l++){var d=s.s.units[t-1][l];d.strength>0&&-1==u&&0==d.destroyed&&(c=s.s.units[t-1][l].strength,u=l),d.strength>0&&d.strength<c&&-1!=u&&(c=d.strength,u=l)}if(-1!=u&&(s.s.units[t-1][u].strength--,s.s.units[t-1][u].strength<=0))for(z_index in i++,s.s.units[t-1][u].destroyed=1,a)s.s.units[t-1][u]=a[z_index].unitDestroyed(this,e,s.s.units[t-1][u])}return this.saveSystemAndPlanets(s),i}},{key:"displayBoard",value:function(){for(var e in this.game.systems)this.updateSectorGraphics(e);this.addEventsToBoard()}},{key:"addEventsToBoard",value:function(){var e=this,t="",r=0,n=0;try{$(".sector").off(),$(".sector").on("mouseenter",(function(){t=$(this).attr("id"),e.showSector(t)})).on("mouseleave",(function(){t=$(this).attr("id"),e.hideSector(t)})),$(".sector").on("mousedown",(function(e){r=e.clientX,n=e.clientY})),$(".sector").on("mouseup",(function(a){Math.abs(r-a.clientX)>4||Math.abs(n-a.clientY)>4||(t=$(this).attr("id"),e.overlay.showOverlay(e.app,e,e.returnSectorInformationHTML(t)))}))}catch(e){}}},{key:"returnActivatedSectorsOverlay",value:function(){return'\n    <div class="activated_sectors_overlay" id="activated_sectors_overlay">\n\n<h2>No Ships Available!</h2>\n\n<p style="margin-bottom:30px"></p>\n\nThe only ships that could move into this sector are in activated sectors. \n\n<p style="margin-bottom:30px"></p>\n\nOnce you have "activated" a sector. You cannot move ships into or out of it until next round.\n\n<p style="margin-bottom:30px"></p>\n\n</div>\n<style>\n.activated_sectors_overlay {\n  padding:30px;\n  width: 800px;\n  max-width: 80vw;\n  max-height: 90vh;\n  font-family: \'orbitron-medium\', helvetica, arial;\n  line-height: 1.7em;\n  font-size: 1.1em;\n  background-image: url(\'/imperium/img/starscape-background4.jpg\');\n  background-size: cover;\n  color: white;\n  overflow-y: scroll;\n  font-size:1.4em;\n}\n</style>\n'}},{key:"returnFirstTurnOverlay",value:function(){return'\n    <div class="how_to_play_overlay" id="how_to_play_overlay">\n\n<h2>Your First Turn:</h2>\n\n<p></p>\n\n<img src="/imperium/img/firstturn.png" style="width:400px;float:left;padding-right:15px;padding-bottom:5px;" />\n\nYour home world is bordered in your color. In Round 1, you can only activate \nsectors you can reach. To see ship movement, click on UNITS in the CARDS menu.\nThis will also show you build costs and strength in combat.\n\n<p style="margin-bottom:10px"></p>\n\nFirst turn? Try moving a CARRIER into a sector adjacent to your homeworld. \nBring INFANTRY so your can INVADE a planet in that sector after your fleet has\nmoved. The <span class="resources_box">resources</span> and <span class="influence_box">influence</span>\n of the planets you conquer will be available to spend Round 2.\n\n    </div>\n\n    <style type="text/css">\n.resources_box {\n background-color:black;padding:4px;border:1px solid #fff;\n}\n.influence_box {\n  background-color:orange;padding:4px;border:1px solid #fff;\n}\n.how_to_play_overlay {\n  padding:30px;\n  width: 800px;\n  max-width: 80vw;\n  max-height: 90vh;\n  font-family: \'orbitron-medium\', helvetica, arial;\n  line-height: 1.7em;\n  font-size: 1.1em;\n  background-image: url(\'/imperium/img/starscape-background4.jpg\');\n  background-size: cover;\n  color: white;\n  overflow-y: scroll;\n  font-size:1.4em;\n}\n    </style>\n  '}},{key:"returnHowToPlayOverlay",value:function(){return'\n\n    <div class="how_to_play_overlay" id="how_to_play_overlay">\n\n<h2>Your Goal:</h2>\n\n<img src="/imperium/img/planets/BROUGHTON.png" class="demo_planet_card" />\n\n<p></p>\n\nConquer planets to gain resources and influence:\n\n<p></p>\n\n<div style="padding-left:30px;padding-right:30px;">\n<div class="how_to_play_resources_entry">\n<b><span class="resources_box">RESOURCES</span></b>\n<p></p>\nbuild units and research technology.\n</div>\n\n<div class="how_to_play_resources_entry">\n<b><span class="influence_box">INFLUENCE</span></b>\n<p></p>\nbuy command tokens and vote on laws.\n</div>\n</div>\n\n\n<h2 style="margin-top:30px">On Your Turn:</h2>\n\n<div style="padding-left:30px;font-family:\'orbitron-medium\', helvetica, arial;line-height:2em;">\n  <ol class="demo_ordered_list" style="font-family: \'orbitron-medium\', helvetica, arial">\n    <li>Spend a command token to activate a sector</li>\n      <ul style="margin-left:20px">\n        <li style="list-style:none">- to move ships into the sector</li>\n        <li style="list-style:none">- to produce in the sector</li>\n      </ul>\n    <li>Play a strategy card</li>\n    <li>Pass</li>\n  </ol>\n</div>\n\n    </div>\n    </style>\n  '}},{key:"returnMovementOverlay",value:function(){return'\n\n    <div class="how_to_play_overlay" id="how_to_play_overlay">\n\n<h2>Moving Ships:</h2>\n\n<p style="margin-top:15px"></p>\n\nEach ship can move a maximum number of hexes per turn. The INFO > UNITS \nmenu will show you how many hexes.\n\n<p style="margin-top:15px"></p>\n\nTo move a ship, activate the destination sector. You will be able to \nto select the ships you wish to move.\n\n<p style="margin-top:15px"></p>\n\nSome tech upgrades and action cards can increase movement distance. You \ncan also <b>upgrade</b> units to increase combat and movement.\n\n\n<h2 style="margin-top:30px">Carrying Units:</h2>\n\n<p style="margin-top:15px"></p>\n\nSome units like the CARRIER have the capacity to carry planet-based \nunits like INFANTRY. You need these units to invade and controls\nplanets..\n\n<p style="margin-top:15px"></p>\n\nCapacity of each ship can be found in the INFO > UNITS menu.\n\n</div>\n\n    </div>\n  '}},{key:"returnCombatOverlay",value:function(){return'\n\n    <div class="how_to_play_overlay" id="how_to_play_overlay">\n\n<h2>Space Battles:</h2>\n\n<p style="margin-top:15px"></p>\n\nThe strength of each ship in combat can be found on the INFO > UNITS\nmenu. This is the number which must be rolled on a 10-sided dice to\nsecure a hit in combat.\n\n<p style="margin-top:15px"></p>\n\nIn combat both players fire all available units, and both players then\ntake damage. Combat ends when one player is destroyed or retreats from\nthe battle.\n\n<p style="margin-top:15px"></p>\n\nSpace battles are automated. If you have action cards that will\nmodify combat or allow you to avoid damage you will have the option to \nplay them during your turn.\n\n<p style="margin-top:15px"></p>\n\nThe order of combat:\n\n<p style="margin-top:15px"></p>\n\n<div style="padding-left:30px;font-family:\'orbitron-medium\', helvetica, arial;line-height:2em;">\n  <ol class="demo_ordered_list" style="font-family: \'orbitron-medium\', helvetica, arial">\n    <li>PDS combat (optional)</li>\n    <li>Anti-fighter barrage</li>\n    <li>Space Combat</li>\n  </ol>\n</div>\n\n<h2 style="clear:both;margin-top:35px;">Ground Combat:</h2>\n\n<div style="padding-left: 30px">\n\nGround combat works like space combat. The sequence of events:\n\n<p style="margin-top:15px"></p>\n\n<div style="padding-left:30px;font-family:\'orbitron-medium\', helvetica, arial;line-height:2em;">\n  <ol class="demo_ordered_list" style="font-family: \'orbitron-medium\', helvetica, arial">\n    <li>Bombardment (optional)</li>\n    <li>Landing of Infantry</li>\n    <li>Ground Combat</li>\n  </ol>\n</div>\n\n<p style="margin-top:15px"></p>\n\nGround combat ends when one player\'s infantry are totally destroyed. The \nwinner holds the planet, regardless of who controls the sector in space.\n\n</div>\n\n    </div>\n  '}},{key:"returnFactionOverlay",value:function(){return'\n\n    <div class="how_to_play_overlay" id="how_to_play_overlay">\n\n<h2 style="clear:both;margin-top:35px;">Faction Abilities:</h2>\n\n<div style="padding-left: 30px">\n\n<img src="/imperium/img/factions/faction_dashboard.png" class="demo_planet_card" />\n\n<p></p>\n\nThe faction dashboard shows the total influence and resources controlled by \nevery faction. The third hex is the number of trade goods held by each \nfaction. Trade goods may be spent 1-for-1 in lieu of resources or influence.\n\n<p></p>\n\n<div style="padding-left:30px;padding-right:30px;">\n<div class="how_to_play_resources_entry">\n<b>TRADE GOODS:</b>\n<p></p>\ncan be used instead of resources or influence.\n</div>\n\n<div class="how_to_play_resources_entry">\n<b>COMMODITIES:</b>\n<p></p>\nturn into trade goods when you trade them away\n</div>\n</div>\n\n<p style="margin-top:15px"></p>\n\nLearn more about the factions in the game by clicking on their faction \ndashboard. Each faction has unique faction abilities that can change the \ngame radically. Learn your opponent\'s weaknesses and strengths.\n\n    </div>\n  '}},{key:"returnNewSecretObjectiveOverlay",value:function(e){var t=this.secret_objectives[e];return'\n    <div class="new_secret_objective_overlay" id="new_secret_objective_overlay">\n      <div style="width:100%"><div class="new_secret_objective_overlay_title">New Secret Objective</div></div>\n      <div style="width:100%"><div style="display:inline-block">\n      <div class="objectives_overlay_objectives_card" style="background-image: url('.concat(t.img,')">\n        <div class="objectives_card_name">').concat(t.name,'</div>\n        <div class="objectives_card_content">\n          ').concat(t.text,'\n        <div class="objectives_secret_notice">secret</div>\n      </div>\n      </div></div>\n    </div>\n  ')}},{key:"returnTechOverlay",value:function(){return'<div class="tech_overlay overlay" id="tech_overlay"><img src="/imperium/img/tech_tree.png" style="height:90vh;width:auto"></div>'}},{key:"returnSectorInformationHTML",value:function(e){e.indexOf("_")>-1&&(e=this.game.board[e].tile);var t=this.returnSectorAndPlanets(e),r='\n    <div class="system_summary">\n      <div class="system_summary_text">\n  ';r+='<div class="system_summary_sector">',r+=t.s.name,r+="</div>";for(var n="",a=0;a<t.s.units.length;a++)t.s.units[a].length>0&&(n+=this.returnPlayerFleetInSector(a+1,e),a=t.s.units.length);""!=n&&(r+='<div class="system_summary_units">',r+=n,r+="</div>"),r+='\n    <div class="grid-2">\n  ';for(var i=0;i<t.p.length;i++){var s="UNCONTROLLED";-1!=t.p[i].owner&&(s=this.returnFactionNickname(t.p[i].owner)),r+='\n      <div class="system_summary_planet">\n        '.concat(s,"\n        <p style=\"margin-top:10px\" />\n        <div style='clear:both;margin-left:10px;margin-top:6px;'>\n          ").concat(this.returnInfantryOnPlanet(t.p[i])," infantry\n          <br />\n          ").concat(this.returnPDSOnPlanet(t.p[i])," PDS\n          <br />\n          ").concat(this.returnSpaceDocksOnPlanet(t.p[i]),' spacedocks\n        </div>\n      </div>\n      <div class="system_summary_planet_card" style="background-image: url(\'').concat(t.p[i].img,"');\"></div>\n    ")}return r+="\n    </div>\n  </div>\n  "}},{key:"updateCombatLog",value:function(e){for(var t=0,r=0,n=0;n<e.units_firing.length;n++)1==e.reroll[n]&&(t=1),e.modified_roll[n]!=e.unmodified_roll[n]&&(r=1);var a="";a+='<table class="combat_log">',a+="<tr>",a+='<th class="combat_log_th">'.concat(this.returnFactionNickname(e.attacker),"</th>"),a+='<th class="combat_log_th">HP</th>',a+='<th class="combat_log_th">Combat</th>',a+='<th class="combat_log_th">Roll</th>',r&&(a+='<th class="combat_log_th">Modified</th>'),t&&(a+='<th class="combat_log_th">Reroll</th>'),a+='<th class="combat_log_th">Hit</th>',a+="</tr>";for(var i=0;i<e.units_firing.length;i++)a+="<tr>",a+='<td class="combat_log_td">'.concat(e.units_firing[i].name,"</td>"),a+='<td class="combat_log_td">'.concat(e.units_firing[i].strength,"</td>"),a+='<td class="combat_log_td">'.concat(e.hits_on[i],"</td>"),a+='<td class="combat_log_td">'.concat(e.unmodified_roll[i],"</td>"),r&&(a+='<td class="combat_log_td">'.concat(e.modified_roll[i],"</td>")),t&&(a+='<td class="combat_log_td">'.concat(e.reroll[i],"</td>")),a+='<td class="combat_log_td">'.concat(e.hits_or_misses[i],"</td>"),a+="</tr>";a+="</table>",this.updateLog(a)}},{key:"setPlayerActive",value:function(e){$(".dash-faction-status-"+e).css("background-color","green")}},{key:"setPlayerInactive",value:function(e){$(".dash-faction-status-"+e).css("background-color","red")}},{key:"setPlayerActiveOnly",value:function(e){for(var t=1;t<=this.game.players_info.length;t++)e==t?this.setPlayerActive(t):this.setPlayerInactive(t)}},{key:"returnPlanetInformationHTML",value:function(e){var t=e;this.game.planets[e]&&(t=this.game.planets[e]);var r=this.returnInfantryOnPlanet(t),n=this.returnPDSOnPlanet(t),a=this.returnSpaceDocksOnPlanet(t),i="";i=this.game.planets[e].owner>0?"p"+this.game.planets[e].owner:"nowner";var s="";return r>0&&(s+='<div class="planet_infantry_count_label">Infantry</div><div class="planet_infantry_count">'+r+"</div>"),n>0&&(s+='<div class="planet_pds_count_label">PDS</div><div class="planet_pds_count">'+n+"</div>"),a>0&&(s+='<div class="planet_spacedock_count_label">Spacedock</div><div class="planet_spacedock_count">'+a+"</div>"),""!=this.game.planets[e].bonus&&(s+='<div class="planet_tech_label tech_'+this.game.planets[e].bonus+' bold">'+this.game.planets[e].bonus+" TECH</div><div></div>"),s=n+a+r>0||""!=this.game.planets[e].bonus?'<div class="sector_information_planetname '.concat(i,'">').concat(t.name,'</div><div class="sector_information_planet_content">')+s+"</div>":'<div class="sector_information_planetname '.concat(i,'">').concat(t.name,"</div>")}},{key:"returnFactionDashboard",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t="",r=0;r<this.game.players_info.length;r++)t+='\n\n    <div data-id="'.concat(r+1,'" class="dash-faction p').concat(r+1,'">\n     <div data-id="').concat(r+1,'" class="dash-faction-name bk"></div>\n    '),t+=1==e?'\n      <div data-id="'.concat(r+1,'" class="dash-faction-agenda">\n        <div data-id="').concat(r+1,'" class="dash-item-agenda-influence agenda-influence">\n          <span data-id="').concat(r+1,'" class="avail">').concat(this.game.state.votes_available[r],"</span>\n        </div>\n      </div>\n    "):'\n      <div data-id="'.concat(r+1,'" class="dash-faction-info">\n        <div data-id="').concat(r+1,'" class="dash-item tooltip dash-item-resources resources">\n          <span data-id="').concat(r+1,'" class="avail"></span>\n          <span data-id="').concat(r+1,'" class="total"></span>\n        </div>\n\n        <div data-id="').concat(r+1,'" class="dash-item tooltip dash-item-influence influence">\n          <span data-id="').concat(r+1,'" class="avail"></span>\n          <span data-id="').concat(r+1,'" class="total"></span>\n        </div>\n\n        <div data-id="').concat(r+1,'" class="dash-item tooltip dash-item-trade trade">\n          <i data-id="').concat(r+1,'" class="fas fa-database pc white-stroke"></i>\n          <div data-id="').concat(r+1,'" id="dash-item-goods" class="dash-item-goods">\n            ').concat(this.game.players_info[r].goods,"\n          </div>\n        </div>\n      </div>\n    "),t+='\n      <div data-id="'.concat(r+1,'" class="dash-faction-base">\n\t<div data-id="').concat(r+1,'" class="dash-faction-status-').concat(r+1,' dash-faction-status"></div>\n\tcommodities : <span data-id="').concat(r+1,'" class="dash-item-commodities">').concat(this.game.players_info[r].commodities,'</span> / <span data-id="').concat(r+1,'" class="dash-item-commodity-limit">').concat(this.game.players_info[r].commodity_limit,'</span>\n      </div>\n\n      <div data-id="').concat(r+1,'" class="dash-faction-speaker'),this.game.state.speaker==r+1?t+=' speaker">speaker':t+='">',t+="</div>\n    </div>\n    ";return t}},{key:"returnLawsOverlay",value:function(){var e=this.returnAgendaCards(),t='<div class="overlay_laws_container">';if(this.game.state.laws.length>0){t+='<ul style="clear:both;margin-top:10px;">';for(var r=0;r<this.game.state.laws.length;r++)t+='  <li style="background-image: url(\'/imperium/img/agenda_card_template.png\');background-size:cover;" class="overlay_agendacard card option" id="'.concat(r,'"><div class="overlay_agendatitle">').concat(e[this.game.state.laws[r].agenda].name,'</div><div class="overlay_agendacontent">').concat(e[this.game.state.laws[r].agenda].text,'</div><div class="overlay_law_option">').concat(this.returnNameOfUnknown(this.game.state.laws[r].option),"</div></li>");t+="</ul>"}return 0==this.game.state.laws.length&&0==this.game.state.agendas.length&&(t+='<div class="overlay_laws_header">There are no laws in force or agendas up for consideration at this time.</div>'),t+="</div>"}},{key:"returnAgendasOverlay",value:function(){var e=this.returnAgendaCards(),t='<div class="overlay_laws_container">';if(this.game.state.agendas.length>0){t+='<div class="overlay_laws_list">';for(var r=0;r<this.game.state.agendas.length;r++)t+='  <div style="background-image: url(\'/imperium/img/agenda_card_template.png\');" class="overlay_agendacard card option" id="'.concat(r,'"><div class="overlay_agendatitle">').concat(e[this.game.state.agendas[r]].name,'</div><div class="overlay_agendacontent">').concat(e[this.game.state.agendas[r]].text,"</div></div>");t+="</div>"}return 0==this.game.state.laws.length&&0==this.game.state.agendas.length&&(t+='<div class="overlay_laws_header">There are no laws in force or agendas up for consideration at this time.</div>'),t+="</div>"}},{key:"returnUnitsOverlay",value:function(){var e='<div class="units-overlay-container" style="">',t=[];if(1==this.game.state.round){e+='\n      <div style="width:100%;text-align:center"><div class="units-overlay-text" style="line-height: 1.4em; font-size: 1.8em; margin-top: 50px; margin-bottom: 30px; padding: 20px;">\n        units <b>COST</b> resources to produce\n<p style="margin-top:10px"></p>\n        ships <b>MOVE</b> a maximum number of hexes\n<p style="margin-top:10px"></p>\n\tsome <b>CARRY</b> infantry or fighters\n<p style="margin-top:10px"></p>\n\tlower <b>COMBAT</b> scores hit more often\n\n      </div></div>\n      <div class="unit-table">\n    ';var r=this.returnPlayerFleet(this.game.player);r.carriers>0&&t.push("carrier"),r.cruisers>0&&t.push("cruiser"),r.destroyers>0&&t.push("destroyer"),r.dreadnaughts>0&&t.push("dreadnaught"),r.warsuns>0&&t.push("warsun"),r.fighters>0&&t.push("fighter"),r.infantry>0&&t.push("infantry"),r.flagships>0&&t.push("flagship"),r.pds>0&&t.push("pds"),r.spacedocks}else{var n=this.game.players_info[this.game.player-1];e+='\n      <div style="width:100%;text-align:center"><div class="units-overlay-title">Your Units</div></div>\n      <div style="width:100%;text-align:center"><div class="units-overlay-text">check available upgrades in your faction overlay...</div></div>\n      <div class="unit-table">\n    ',this.doesPlayerHaveTech(this.game.player,"infantry-ii")?t.push("infantry-ii"):t.push("infantry"),this.doesPlayerHaveTech(this.game.player,"fighter-ii")?t.push("fighter-ii"):t.push("fighter"),this.doesPlayerHaveTech(this.game.player,"destroyer-ii")?t.push("destroyer-ii"):t.push("destroyer"),this.doesPlayerHaveTech(this.game.player,"carrier-ii")?t.push("carrier-ii"):t.push("carrier"),this.doesPlayerHaveTech(this.game.player,"cruiser-ii")?t.push("cruiser-ii"):t.push("cruiser"),this.doesPlayerHaveTech(this.game.player,"dreadnaught-ii")?t.push("dreadnaught-ii"):t.push("dreadnaught"),this.doesPlayerHaveTech(this.game.player,"flagship-ii")?t.push("flagship-ii"):t.push("flagship"),this.doesPlayerHaveTech(this.game.player,"warsun-ii")?t.push("warsun-ii"):1==n.may_produce_warsuns&&t.push("warsun"),this.doesPlayerHaveTech(this.game.player,"spacedock-ii")?t.push("spacedock-ii"):t.push("spacedock"),this.doesPlayerHaveTech(this.game.player,"pds-ii")?t.push("pds-ii"):t.push("pds")}for(var a=0;a<t.length;a++)e+=this.returnUnitTableEntry(t[a]);return e+='\n\n    <div id="close-units-btn" class="button" style="">CONTINUE</div>\n\n  '}},{key:"returnUnitPopup",value:function(e){return'\n\n    <div class="unit_details_popup">\n      '.concat(this.returnUnitPopupEntry(e),"}\n    </div\n\n  ")}},{key:"returnUnitPopupEntry",value:function(e){var t=this.units[e];return t?'\n      <div class="unit-element" style="background:#333c;width:100%;padding:5%;border-radius:5px;font-size:0.7em;">\n        <div class="unit-box-ship unit-box-ship-'.concat(e,'" style="width:100%"></div>\n        <div class="unit-box" style="width:24.5%;height:auto;padding-bottom:10px;">\n\t  <div class="unit-box-num" style="font-size:2.8em">').concat(t.cost,'</div>\n\t  <div class="unit-box-desc" style="font-size:1.4em;padding-top:5px;">cost</div>\n\t</div>\n        <div class="unit-box" style="width:24.5%;height:auto;padding-bottom:10px;">\n\t  <div class="unit-box-num" style="font-size:2.8em">').concat(t.move,'</div>\n\t  <div class="unit-box-desc" style="font-size:1.4em;padding-top:5px;">move</div>\n\t</div>\n        <div class="unit-box" style="width:24.5%;height:auto;padding-bottom:10px;">\n\t  <div class="unit-box-num" style="font-size:2.8em">').concat(t.combat,'</div>\n\t  <div class="unit-box-desc" style="font-size:1.4em;padding-top:5px;">combat</div>\n\t</div>\n        <div class="unit-box" style="width:24.5%;height:auto;padding-bottom:10px;">\n\t  <div class="unit-box-num" style="font-size:2.8em">').concat(t.capacity,'</div>\n\t  <div class="unit-box-desc" style="font-size:1.4em;padding-top:5px;">carry</div>\n\t</div>\n        <div class="unit-description" style="font-size:1.1em">').concat(t.description,".</div>\n      </div>\n    "):""}},{key:"returnUnitTableEntry",value:function(e){console.log("UNIT: "+e);var t=this.units[e],r=JSON.parse(JSON.stringify(t));return r.owner=this.game.player,(r=this.upgradeUnit(r,this.game.player))?'\n      <div class="unit-element">\n        <div class="unit-box-ship unit-box-ship-'.concat(e,'"></div>\n        <div class="unit-box">\n\t  <div class="unit-box-num">').concat(r.cost,'</div>\n\t  <div class="unit-box-desc">cost</div>\n\t</div>\n        <div class="unit-box">\n\t  <div class="unit-box-num">').concat(r.move,'</div>\n\t  <div class="unit-box-desc">move</div>\n\t</div>\n        <div class="unit-box">\n\t  <div class="unit-box-num">').concat(r.combat,'</div>\n\t  <div class="unit-box-desc">combat</div>\n\t</div>\n        <div class="unit-box">\n\t  <div class="unit-box-num">').concat(r.capacity,'</div>\n\t  <div class="unit-box-desc">carry</div>\n\t</div>\n        <div class="unit-description">').concat(r.description,".</div>\n      </div>\n    "):""}},{key:"returnNewActionCardsOverlay",value:function(e){for(var t='\n    <div class="new_action_cards_overlay_container" style="">\n      <div class="new_action_cards_title">'.concat("Your New Action Cards",'</div>\n      <div style="width:100%"><div class="new_objectives_text">click on your faction to see all your action cards anytime...</div></div>\n      <div class="new_action_cards">\n  '),r=0;r<e.length;r++)t+='\n      <div class="overlay_action_card bc">\n        <div class="action_card_name">'.concat(this.action_cards[e[r]].name,'</div>\n        <div class="action_card_content">').concat(this.action_cards[e[r]].text,"</div>\n      </div>\n    ");return t+='\n      </div>\n      <div id="close-action-cards-btn" class="button" style="">CONTINUE</div>\n    </div>\n  '}},{key:"returnObjectivesOverlay",value:function(){var e="";e+='<div class="objectives-overlay-container" style="">';for(var t=0;t<this.game.deck[5].hand.length;t++)if(!this.game.players_info[this.game.player-1].objectives_scored.includes(this.game.deck[5].hand[t])){var r=this.secret_objectives[this.game.deck[5].hand[t]];e+='<div class="objectives_overlay_objectives_card" style="background-image: url('.concat(r.img,')">\n                 <div class="objectives_card_name">').concat(r.name,'</div>\n                 <div class="objectives_card_content">').concat(r.text,'\n\t\t   <div class="objectives_secret_notice">secret</div>\n\t\t </div>\n\t       </div>\n      ')}for(var n=0;n<this.game.state.stage_i_objectives.length;n++){var a=this.stage_i_objectives[this.game.state.stage_i_objectives[n]];e+='<div class="objectives_overlay_objectives_card" style="background-image: url('.concat(a.img,')">\n               <div class="objectives_card_name">').concat(a.name,'</div>\n               <div class="objectives_card_content">').concat(a.text,'</div>\n               <div class="objectives_scorings">\n    ');for(var i=0;i<this.game.players_info.length;i++)for(var s=0;s<this.game.players_info[i].objectives_scored.length;s++)this.game.state.stage_i_objectives[n]===this.game.players_info[i].objectives_scored[s]&&(e+='<div class="objectives_players_scored players_scored_'.concat(i+1," p").concat(i+1,'"><div class="bk" style="width:100%;height:100%"></div></div>'));e+="</div>",e+="</div>"}e+="<p></p>";for(var o=0;o<this.game.state.stage_ii_objectives.length;o++){var c=this.stage_ii_objectives[this.game.state.stage_ii_objectives[o]];e+='<div class="objectives_overlay_objectives_card" style="background-image: url('.concat(c.img,')">\n               <div class="objectives_card_name">').concat(c.name,'</div>\n               <div class="objectives_card_content">').concat(c.text,'</div>\n               <div class="objectives_scorings">\n    ');for(var u=0;u<this.game.players_info.length;u++)for(var l=0;l<this.game.players_info[u].objectives_scored.length;l++)this.game.state.stage_ii_objectives[o]===this.game.players_info[u].objectives_scored[l]&&(e+='<div class="objectives_players_scored players_scored_'.concat(u+1," p").concat(u+1,'"><div class="bk" style="width:100%;height:100%"></div></div>'));e+="</div>",e+="</div>"}e+="<p></p>";for(var d=0;d<this.game.players_info.length;d++){d>0&&(e+="<p></p>");var h=this.returnPlayerObjectivesScored(d+1,["secret_objectives"]);for(var p in h)e+='<div class="objectives_overlay_objectives_card" style="background-image: url('.concat(h[p].img,')">\n               <div class="objectives_card_name">').concat(h[p].name,'</div>\n               <div class="objectives_card_content">').concat(h[p].text,'</div>\n               <div class="objectives_players_scored players_scored_').concat(d+1," p").concat(d+1,'"><div class="bk" style="width:100%;height:100%"></div></div>\n             </div>')}return e+="</div>"}},{key:"displayFactionDashboard",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=this;try{document.querySelector(".dashboard").innerHTML=this.returnFactionDashboard(t);for(var n="",a="",i=function(t){a=".dash-faction."+(n="p"+(t+1));var i=e.returnTotalResources(t+1)-e.game.players_info[t].goods,s=e.returnAvailableResources(t+1)-e.game.players_info[t].goods,o=e.returnTotalInfluence(t+1)-e.game.players_info[t].goods,c=e.returnAvailableInfluence(t+1)-e.game.players_info[t].goods;document.querySelector(".".concat(n," .dash-faction-name")).innerHTML=e.returnFaction(t+1);try{document.querySelector(".".concat(n," .influence .avail")).innerHTML=c,document.querySelector(".".concat(n," .influence .total")).innerHTML=o,document.querySelector(".".concat(n," .resources .avail")).innerHTML=s,document.querySelector(".".concat(n," .resources .total")).innerHTML=i,document.querySelector(".".concat(n," .dash-item-goods")).innerHTML=e.game.players_info[t].goods,document.querySelector(".".concat(n," .dash-item-commodities")).innerHTML=e.game.players_info[t].commodities,document.querySelector(".".concat(n," .dash-item-commodity-limit")).innerHTML=e.game.players_info[t].commodity_limit}catch(e){}document.querySelector(a).onclick=function(e){r.displayFactionSheet(t+1)}},s=0;s<this.game.players_info.length;s++)i(s)}catch(e){console.log("ERROR: "+e)}}},{key:"displayFactionSheet",value:function(e){var t=this.returnFactionSheet(this,e);this.overlay.showOverlay(this.app,this,t)}},{key:"returnFactionSheet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(t=e.game.player);var r="",n="";null!=t&&(r="p"+t,n="bc"+t);var a='\n      <div class="faction_sheet_container '.concat(r," ").concat(n,'" style="overflow-y:scroll;padding:15px;;width:90vw;height:90vh;background-image:url(\'/imperium/img/factions/').concat(e.game.players_info[t-1].faction,'.jpg\');background-size:cover;">\n        <div class="faction_sheet_token_box" id="faction_sheet_token_box">\n          <div class="faction_sheet_token_box_title">Command</div>\n          <div class="faction_sheet_token_box_title">Strategy</div>\n          <div class="faction_sheet_token_box_title">Fleet</div>\n          <div>\t\n            <span class="fa-stack fa-3x">\n            <i class="fas fa-dice-d20 fa-stack-2x pc white-stroke"></i>\n            <span class="fa fa-stack-1x">\n            <span class="token_count commend_token_count">\n            ').concat(e.game.players_info[t-1].command_tokens,'\n            </span>\n            </span>\n            </span>\n          </div>\n          <div>\n            <span class="fa-stack fa-3x">\n            <i class="far fa-futbol fa-stack-2x pc white-stroke"></i>\n            <span class="fa fa-stack-1x">\n            <span class="token_count strategy_token_count">\n            ').concat(this.game.players_info[t-1].strategy_tokens,'\n            </span>\n            </span>\n            </span>\n          </div>\n          <div>\n            <span class="fa-stack fa-3x">\n            <i class="fas fa-space-shuttle fa-stack-2x pc white-stroke"></i>\n            <span class="fa fa-stack-1x">\n            <span class="token_count fleet_supply_count">\n            ').concat(this.game.players_info[t-1].fleet_supply,'\n            </span>\n            </span>\n            </span>\n          </div>\n        </div>\n        <div class="faction_sheet_active">\n   ');a+='\n      <div class="faction_sheet_tech_box" id="faction_sheet_abilities_box">\n    ';for(var s=0;s<e.game.players_info[t-1].tech.length;s++){var o=e.tech[e.game.players_info[t-1].tech[s]];if("ability"==o.type){var c=o.returnCardImage();a+=c.replace(/card_nonopaque/g,"bc")}}a+="</div>",a+='\n      <div class="faction_sheet_tech_box" id="faction_sheet_tech_box">\n    ';for(var u=0;u<e.game.players_info[t-1].tech.length;u++){var l=e.game.players_info[t-1].tech[u],d=e.tech[l];"ability"!=d.type&&(a+=d.returnCardImage())}for(i in e.tech){var h=e.tech[i];if("special"==h.type&&!e.game.players_info[t-1].tech.includes(i)&&e.game.players_info[t-1].faction==h.faction){var p=h.returnCardImage();a+=p.replace(/card_nonopaque/g,"card_opaque")}}a+="</div>";var f=e.returnPlayerActionCards(e.game.player);if(f.length>0)if(a+='\n      <div class="faction_sheet_action_card_box" id="faction_sheet_action_card_box">\n      ',e.game.player==t)for(var m=0;m<f.length;m++)a+='\n            <div class="faction_sheet_action_card bc">\n              <div class="action_card_name">'.concat(e.action_cards[f[m]].name,'</div>\n              <div class="action_card_content">').concat(e.action_cards[f[m]].text,"</div>\n            </div> \n\t  ");else for(var g=e.game.players_info[t-1].action_cards_in_hand,y=0;y<g;y++)a+='\n            <div class="faction_sheet_action_card faction_sheet_action_card_back bc">\n            </div> \n\t  ';for(var b=e.returnPlayerPlanetCards(t),v=0;v<b.length;v++){var _="";1==this.game.planets[b[v]].exhausted&&(_="exhausted"),a+='<div class="faction_sheet_planet_card bc '.concat(_,'" id="').concat(b[v],'" style="background-image: url(').concat(this.game.planets[b[v]].img,');"></div>')}return a+="\n      </div>\n    "}},{key:"addUIEvents",value:function(){if(0!=this.browser_active){$("#hexGrid").draggable(),document.querySelector(".leaderboardbox").addEventListener("click",(function(e){document.querySelector(".leaderboardbox").toggleClass("leaderboardbox-lock")})),document.documentElement.style.setProperty("--my-color","var(--p".concat(this.game.player,")")),this.displayFactionDashboard();var e=this.returnTokenDisplay();document.querySelector(".hud-header").append(this.app.browser.htmlToElement(e))}}},{key:"returnTokenDisplay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==e&&(e=this.game.player);var t='\n    <div class="hud-token-count">\n      <div>\t\n        <span class="fa-stack fa-3x">\n        <i class="fas fa-dice-d20 fa-stack-2x pc white-stroke"></i>\n        <span class="fa fa-stack-1x">\n        <div id="token_display_command_token_count" class="token_count command_token_count">\n        '.concat(this.game.players_info[e-1].command_tokens,'\n        </div>\n        </span>\n        </span>\n      </div>\n      <div>\n        <span class="fa-stack fa-3x">\n        <i class="far fa-futbol fa-stack-2x pc white-stroke"></i>\n        <span class="fa fa-stack-1x">\n        <div id="token_display_strategy_token_count" class="token_count strategy_token_count">\n        ').concat(this.game.players_info[e-1].strategy_tokens,'\n        </div>\n        </span>\n        </span>\n      </div>\n      <div>\n        <span class="fa-stack fa-3x">\n        <i class="fas fa-space-shuttle fa-stack-2x pc white-stroke"></i>\n        <span class="fa fa-stack-1x">\n        <div id="token_display_fleet_supply_count" class="token_count fleet_supply_count">\n        ').concat(this.game.players_info[e-1].fleet_supply,"\n        </div>\n        </span>\n        </span>\n      </div>\n    </div>");return t}},{key:"showSector",value:function(e){var t=this.game.board[e].tile;this.showSectorHighlight(t)}},{key:"hideSector",value:function(e){var t=this.game.board[e].tile;this.hideSectorHighlight(t),$(".sector_graphics_space_"+e).fadeIn()}},{key:"updateTokenDisplay",value:function(){try{$("#token_display_command_token_count").html(this.game.players_info[this.game.player-1].command_tokens),$("#token_display_strategy_token_count").html(this.game.players_info[this.game.player-1].strategy_tokens),$("#token_display_fleet_supply_count").html(this.game.players_info[this.game.player-1].fleet_supply_tokens)}catch(e){}}},{key:"updateLeaderboard",value:function(){if(0!=this.browser_active){var e=this.returnFactions();try{try{if(this.game.state.vp_target<14)for(var t=14;t>this.game.state.vp_target;t--){var r="."+t+"-points";document.querySelector(r).style.display="none"}}catch(e){}document.querySelector(".round").innerHTML=this.game.state.round,document.querySelector(".turn").innerHTML=this.game.state.turn;var n='<div class="VP-track-label">Victory Points</div>',a=14;14!=this.game.state.vp_target&&this.game.state.vp_target>0&&(a=this.game.state.vp_target),this.game.options.vp&&(a=parseInt(this.game.options.vp));for(var i=a;i>=0;i--){n+='<div class="vp '+i+'-points"><div class="player-vp-background">'+i+"</div>",n+='<div class="vp-players">';for(var s=0;s<this.game.players_info.length;s++)this.game.players_info[s].vp==i&&(n+='  <div class="player-vp" style="background-color:var(--p'.concat(s+1,');"><div class="vp-faction-name">').concat(e[this.game.players_info[s].faction].name,"</div></div>"));n+="</div></div>"}document.querySelector(".leaderboard").innerHTML=n}catch(e){}}}},{key:"updateSectorGraphics",value:function(e){var t=this.returnSectorAndPlanets(e);if(null!=t&&null!=t&&null!=t.s&&null!=t.s)try{-1==e.indexOf("_")&&(e=t.s.tile);for(var r=0;r<this.game.players_info.length;r++)if(this.game.queue.length>0){var n=this.game.queue[this.game.queue.length-1].split("\t");"destroy_unit"!==n[0]&&"assign_hit"!==n[0]&&this.eliminateDestroyedUnitsInSector(r+1,e)}var a=0,i=0;if(1==t.s.activated[this.game.player-1]){var s="#"+e;$(s).find(".hex_activated").css("background-color","var(--p"+this.game.player+")"),$(s).find(".hex_activated").css("opacity","0.3")}else $("#"+e).find(".hex_activated").css("opacity","0.0");for(var o=0;o<t.s.units.length;o++){var c=o+1;if(t.s.type>0&&$("#hex_img_hazard_border_"+e).css("display","block"),t.s.units[c-1].length>0){var u="#hex_img_faction_border_"+e,l="player_color_"+c;$(u).removeClass("player_color_1"),$(u).removeClass("player_color_2"),$(u).removeClass("player_color_3"),$(u).removeClass("player_color_4"),$(u).removeClass("player_color_5"),$(u).removeClass("player_color_6"),$(u).addClass(l),$(u).css("display","block"),$(u).css("opacity","1"),a=1}if(t.s.units[c-1].length>0){updated_space_graphics=1,i=1;for(var d=0,h=0,p=0,f=0,m=0,g=0,y=0,b=0;b<t.s.units[c-1].length;b++){var v=t.s.units[c-1][b];"carrier"==v.type&&d++,"fighter"==v.type&&h++,"destroyer"==v.type&&p++,"cruiser"==v.type&&f++,"dreadnaught"==v.type&&m++,"flagship"==v.type&&g++,"warsun"==v.type&&y++}var _=[],w=[];if(h>0){var x=h;h>9&&(x=9);var k="white_space_frame_1_"+x+".png";w.push("white_space_fighter.png"),_.push(k)}if(p>0){var S=p;p>9&&(S=9);var O="white_space_frame_2_"+S+".png";w.push("white_space_destroyer.png"),_.push(O)}if(d>0){var P=d;d>9&&(P=9);var E="white_space_frame_3_"+P+".png";w.push("white_space_carrier.png"),_.push(E)}if(f>0){var A=f;f>9&&(A=9);var C="white_space_frame_4_"+A+".png";w.push("white_space_cruiser.png"),_.push(C)}if(m>0){var T=m;m>9&&(T=9);var D="white_space_frame_5_"+T+".png";w.push("white_space_dreadnaught.png"),_.push(D)}if(g>0){var j=g;g>9&&(j=9);var M="white_space_frame_6_"+j+".png";w.push("white_space_flagship.png"),_.push(M)}if(y>0){var I=y;y>9&&(I=9);var R="white_space_frame_7_"+I+".png";w.push("white_space_warsun.png"),_.push(R)}$("#hex_bg_"+e+" > .sector_graphics").remove();for(var B="#hex_bg_"+e,N="player_color_"+c,F=0;F<w.length;F++)$(B).append('<img class="sector_graphics '+N+" ship_graphic sector_graphics_space sector_graphics_space_"+e+'" src="/imperium/img/frame/'+w[F]+'" />');for(var q=0;q<_.length;q++)$(B).append('<img style="opacity:0.8" class="sector_graphics sector_graphics_space sector_graphics_space_'+e+'" src="/imperium/img/frame/'+_[q]+'" />')}}0==i&&$("#hex_bg_"+e+" > .sector_graphics").remove();for(var L=[],H=[],U=0;U<t.s.units.length;U++){for(var z=U+1,V=0,G=0;G<t.p.length;G++)V+=t.p[G].units[z-1].length;if(V>0){for(var W=0;W<t.p.length;W++){if(t.p[W].units[z-1].length>0&&0==a){var K="#hex_img_faction_border_"+e,Y="player_color_"+z;$(K).removeClass("player_color_1"),$(K).removeClass("player_color_2"),$(K).removeClass("player_color_3"),$(K).removeClass("player_color_4"),$(K).removeClass("player_color_5"),$(K).removeClass("player_color_6"),$(K).addClass(Y),$(K).css("display","block"),$(K).css("opacity","0.6"),a=1}for(var X=0,J=0,Q=0,Z=0;Z<t.p[W].units[z-1].length;Z++){var ee=t.p[W].units[z-1][Z];"infantry"==ee.type&&X++,"pds"==ee.type&&Q++,"spacedock"==ee.type&&J++}var te="";if(L.push("white_planet_center.png"),1==t.p.length?te="center":(0==W&&(te="top_left"),1==W&&(te="bottom_right")),H.push(te),X>0){var re=X;X>9&&(re=9);var ne="white_planet_center_1_"+re+".png";L.push(ne),H.push(te)}if(J>0){var ae=J;J>9&&(ae=9);var ie="white_planet_center_2_"+ae+".png";L.push(ie),H.push(te)}if(Q>0){var se=Q;Q>9&&(se=9);var oe="white_planet_center_3_"+se+".png";L.push(oe),H.push(te)}}0==i&&($("#hex_bg_"+e+" > .sector_graphics").remove(),i=1),$("#hex_bg_"+e+" > .sector_graphics_planet").remove();for(var ce=0;ce<L.length;ce++)ce>0&&(H[ce],H[ce-1])}}if(0==a)for(var ue=0;ue<t.p.length;ue++)if(-1!=t.p[ue].owner){var le="#hex_img_faction_border_"+e,de="player_color_"+t.p[ue].owner;$(le).removeClass("player_color_1"),$(le).removeClass("player_color_2"),$(le).removeClass("player_color_3"),$(le).removeClass("player_color_4"),$(le).removeClass("player_color_5"),$(le).removeClass("player_color_6"),$(le).addClass(de),$(le).css("display","block"),$(le).css("opacity","0.6"),a=1}}catch(e){}}},{key:"unhighlightSectors",value:function(){for(var e in this.game.sectors)this.removeSectorHighlight(e)}},{key:"showUnit",value:function(e){var t=this.returnUnitPopup(e);this.cardbox.showCardboxHTML("",t,"",(function(){}))}},{key:"hideUnit",value:function(e){this.cardbox.hideCardbox(1)}},{key:"showSectorHighlight",value:function(e){this.addSectorHighlight(e)}},{key:"hideSectorHighlight",value:function(e){this.removeSectorHighlight(e)}},{key:"addSectorHighlight",value:function(e){e.indexOf("_")>-1&&(e=this.game.board[e].tile);var t=this.returnSectorAndPlanets(e);try{0!=e.indexOf("planet")&&"new-byzantium"!=e||(e=this.game.planets[e].sector);var r=".sector_graphics_space_"+t.s.tile;if($(r).css("display","none"),!this.game.sectors[e].planets)return;if(0==this.game.sectors[e].planets.length)return;var n=document.querySelector("#hex_info_"+t.s.tile),a="";1==this.game.sectors[e].planets.length?(a=this.returnPlanetInformationHTML(this.game.sectors[e].planets[0]),n.innerHTML=a,n.classList.add("one_planet")):(a='<div class="top_planet">',a+=this.returnPlanetInformationHTML(this.game.sectors[e].planets[0]),a+='</div><div class="bottom_planet">',a+=this.returnPlanetInformationHTML(this.game.sectors[e].planets[1]),a+="</div>",n.innerHTML=a,n.classList.add("two_planet")),document.querySelector("#hexIn_"+t.s.tile).classList.add("bi")}catch(e){}}},{key:"removeSectorHighlight",value:function(e){try{0!=e.indexOf("planet")&&"new-byzantium"!=e||(e=this.game.planets[e].sector);var t=this.returnSectorAndPlanets(e),r=".sector_graphics_space_"+t.s.tile;$(r).css("display","all"),document.querySelector("#hexIn_"+t.s.tile).classList.remove("bi")}catch(e){}}},{key:"addPlanetHighlight",value:function(e,t){e.indexOf("_")>-1&&(e=this.game.board[e].tile),this.showSectorHighlight(e)}},{key:"removePlanetHighlight",value:function(e,t){this.hideSectorHighlight(e)}},{key:"showHelpCard",value:function(e){var t="";"resources"==e&&(t='<div style="width:100%; height: 100%"><img style="width:100%;height:auto;" src="/imperium/img/resources_dash_card.png" /></div>'),"influence"==e&&(t='<div style="width:100%; height: 100%"><img style="width:100%;height:auto;" src="/imperium/img/influence_dash_card.png" /></div>'),"trade"==e&&(t='<div style="width:100%; height: 100%"><img style="width:100%;height:auto;" src="/imperium/img/trade_dash_card.png" /></div>'),this.cardbox.showCardboxHTML(null,t)}},{key:"hideHelpCard",value:function(e){this.cardbox.hideCardbox(1)}},{key:"showActionCard",value:function(e){var t=this.action_cards[e],r='\n      <div class="overlay_action_card bc">\n        <div class="action_card_name">'.concat(t.name,'</div>\n        <div class="action_card_content">').concat(t.text,"</div>\n      </div>\n    ");this.cardbox.showCardboxHTML(t,r)}},{key:"hideActionCard",value:function(e){this.cardbox.hideCardbox(1)}},{key:"showStrategyCard",value:function(e){for(var t=this.returnStrategyCards()[e],r=0,n=0;n<this.game.state.strategy_cards.length;n++)t===this.game.state.strategy_cards[n]&&(r=this.game.state.strategy_cards_bonus[n]);r>0&&'<div class="strategy_card_bonus">    \n        <i class="fas fa-database white-stroke"></i>\n        <span>'.concat(r,"</span>\n      </div>"),this.cardbox.showCardboxHTML(t,t.returnCardImage())}},{key:"hideStrategyCard",value:function(e){this.cardbox.hideCardbox(1)}},{key:"showPlanetCard",value:function(e,t){var r=this.returnPlanets()[this.returnSectors()[this.game.board[e].tile].planets[t]];this.cardbox.showCardboxHTML(r,'<img src="'+r.img+'" style="width:100%" />')}},{key:"hidePlanetCard",value:function(e,t){this.cardbox.hideCardbox(1)}},{key:"showAgendaCard",value:function(e){var t=this.agenda_cards[e],r='\n      <div style="background-image: url(\'/imperium/img/agenda_card_template.png\');width:100%;height:100%;" class="overlay_agendacard card option" id="'.concat(e,'">\n        <div class="overlay_agendatitle">').concat(t.name,'</div>\n        <div class="overlay_agendacontent">').concat(t.text,"</div>\n      </div>\n    ");this.cardbox.showCardboxHTML(t,r)}},{key:"hideAgendaCard",value:function(e,t){this.cardbox.hideCardbox(1)}},{key:"showTechCard",value:function(e){this.cardbox.showCardboxHTML(e,this.tech[e].returnCardImage())}},{key:"hideTechCard",value:function(e){this.cardbox.hideCardbox(1)}},{key:"returnShortGameOptionsArray",value:function(e){var t=c(p(y.prototype),"returnShortGameOptionsArray",this).call(this,e),r=[];for(var n in t)if(""!=t[n]){var a=n,i=e[n];"game_length"==n&&(a="VP"),r[a]=i}return r}},{key:"returnStrategyCards",value:function(){return this.strategy_cards}},{key:"importStrategyCard",value:function(e,t){null==t.name&&(t.name="Strategy Card"),null==t.rank&&(t.rank=1),null==t.returnCardImage&&(t.returnCardImage=function(){return'\n          <div class="strategy_card" id="'.concat(e,'">\n\t    <img class="strategy_card_img" id="').concat(e,'" src="/imperium/img').concat(t.img,'" style="width:100%">\n\t    <div class="strategy_card_text">').concat(t.text,"</div>\n\t  </div>\n        ")}),t=this.addEvents(t),this.strategy_cards[e]=t}},{key:"playStrategyCardPrimary",value:function(e,t){for(var r=0;r<this.game.players_info.length;r++)this.strategy_cards[t]&&this.strategy_cards[t].strategyPrimaryEvent(this,r+1,e);return 0}},{key:"playStrategyCardSecondary",value:function(e,t){for(var r=0;r<this.game.players_info.length;r++)this.strategy_cards[t]&&this.strategy_cards[t].strategySecondaryEvent(this,r+1,e);return 0}},{key:"playStrategyCardTertiary",value:function(e,t){for(var r=0;r<this.game.players_info.length;r++)this.strategy_cards[t]&&this.strategy_cards[t].strategyTertiaryEvent(this,r+1,e);return 0}}])&&o(t.prototype,r),n&&o(t,n),y}(r(70));e.exports=f},function(e,t){this.importActionCard("infiltrate",{name:"Infiltrate",type:"instant",text:"The next time you invade a planet, you may takeover any existing PDS units or Space Docks",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_infiltrate_infrastructure_on_invasion=1,1}}),this.importActionCard("reparations",{name:"Reparations",type:"action",text:"If you have lost a planet this round, refresh one of your planets",playActionCard:function(e,t,r,n){if(-1!=e.game.players_info[r-1].lost_planet_this_round&&r==e.game.player){var a=e.returnPlayerExhaustedPlanetCards(e.game.player);return e.playerSelectPlanetWithFilter("Select an exhausted planet to refresh: ",(function(e){return a.includes(e)?1:0}),(function(t){return e.addMove("unexhaust\tplanet\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(r)+" refreshes "+e.game.planets[t].name),e.endTurn(),0}),null),0}return 1}}),this.importActionCard("political-stability",{name:"Political Stability",type:"instant",text:"Pick a strategy card you have already played this round. You may keep this for next round",playActionCard:function(e,t,r,n){if(e.game.player==r){for(var a='<div class="sf-readable">Pick a Strategy Card to keep for next round: </div><ul>',i=0;i<e.game.players_info[r-1].strategy_cards_played.length;i++){var s=e.game.players_info[r-1].strategy_cards_played[i];a+='<li class="option" id="'+s+'">'+e.strategy_cards[s].name+"</li>"}for(var o=0;o<e.game.players_info[r-1].strategy.length;o++)if(!e.game.players_info[e.game.player-1].strategy_cards_played.includes(e.game.players_info[r-1].strategy[o])){var c=e.game.players_info[r-1].strategy[o];a+='<li class="option" id="'+c+'">'+e.strategy_cards[c].name+"</li>"}a+="</ul>",e.updateStatus(a),$(".option").off(),$(".option").on("click",(function(){var t=$(this).attr("id");return e.addMove("strategy_card_retained\t"+e.game.player+"\t"+t),e.endTurn(),0}))}return 0},handleGameLoop:function(e,t,r){if("strategy_card_retained"==r[0]){var n=parseInt(r[1]),a=r[2];return e.game.queue.splice(t,1),e.game.players_info[n-1].strategy_cards_retained.push(a),1}return 1}}),this.importActionCard("lost-star-chart",{name:"Lost Star Chart",type:"instant",text:"During this turn, all wormholes are adjacent to each other",playActionCard:function(e,t,r,n){return e.game.state.temporary_wormholes_adjacent=1,1}}),this.importActionCard("plague",{name:"Plague",type:"action",text:"ACTION: Select a planet. Roll a dice for each infantry on planet and destroy number of rolls 6 or higher.",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlanetWithFilter("Select a planet to cripple with the plague:",(function(t){return e.doesPlanetHaveInfantry(t)}),(function(t){return e.addMove("plague\t"+e.game.player+"\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" unleashes a plague on "+e.game.planets[t].name),e.endTurn(),0}),null),0},handleGameLoop:function(e,t,r){if("plague"==r[0]){for(var n=parseInt(r[1]),a=r[2],i=e.game.planets[a].sector,s=e.game.planets[a].idx,o=e.returnSectorAndPlanets(i),c=e.returnEventObjects(),u=o.p[s].owner,l=0,d=0;d<o.p[s].units.length;d++)for(var h=0;h<o.p[s].units[d].length;h++){var p=o.p[s].units[d][h];if("infantry"==p.type)if(e.rollDice(10)>6){for(z_index in p.destroyed=1,c)p=c[z_index].unitDestroyed(this,n,p);l++}}return e.updateLog("The plague destroys "+l+" infantry"),e.eliminateDestroyedUnitsInSector(u,i),e.saveSystemAndPlanets(o),e.updateSectorGraphics(i),e.game.queue.splice(t,1),1}return 1}}),this.importActionCard("repeal-law",{name:"Repeal Law",type:"action",text:"ACTION: Repeal one law that is in effect.",playActionCard:function(e,t,r,n){if(e.game.player==r){for(var a='<div class="sf-readable">Pick a Law to Repeal: </div><ul>',i=0;i<e.game.state.laws.length;i++){var s=e.game.state.laws[i],o=e.agenda_cards[s];a+='<li class="option" id="'+o+'">'+o.name+"</li>"}a+='<li class="option" id="cancel">cancel</li>',a+="</ul>",e.updateStatus(a),$(".option").off(),$(".option").on("click",(function(){var t=$(this).attr("id");return"cancel"===t?(e.endTurn(),0):(e.addMove("repeal_law\t"+t),e.endTurn(),0)}))}return 0},handleGameLoop:function(e,t,r){if("repeal_law"==r[0]){var n=r[2];e.game.queue.splice(t,1);for(var a=0;a<e.game.state.laws.length;a++)if(e.game.state.laws[a]==n)return e.agenda_cards[n].repealAgenda(e),1;return 1}return 1}}),this.importActionCard("veto",{name:"Veto",type:"action",text:"ACTION: Select one agenda to remove from consideration and draw a replacement",playActionCard:function(e,t,r,n){if(e.game.player==r){var a="";for(a+="Select one agenda to quash in the Galactic Senate.<ul>",i=0;i<3;i++)a+='<li class="option" id="'+e.game.state.agendas[i]+'">'+e.agenda_cards[e.game.state.agendas[i]].name+"</li>";a+="</ul>",e.updateStatus(a),$(".option").off(),$(".option").on("mouseenter",(function(){var t=$(this).attr("id");e.showAgendaCard(t)})),$(".option").on("mouseleave",(function(){var t=$(this).attr("id");e.hideAgendaCard(t)})),$(".option").on("click",(function(){var t=$(this).attr("id");e.hideAgendaCard(t),e.updateStatus("Quashing Agenda"),e.addMove("quash\t"+t+"\t1"),e.endTurn()}))}return 0}}),this.importActionCard("flank-speed1",{name:"Flank Speed",type:"instant",text:"Gain +1 movement on all ships moved this turn",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_fleet_move_bonus=1,1}}),this.importActionCard("flank-speed2",{name:"Flank Speed",type:"instant",text:"Gain +1 movement on all ships moved this turn",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_fleet_move_bonus=1,1}}),this.importActionCard("flank-speed3",{name:"Flank Speed",type:"instant",text:"Gain +1 movement on all ships moved this turn",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_fleet_move_bonus=1,1}}),this.importActionCard("flank-speed4",{name:"Flank Speed",type:"instant",text:"Gain +1 movement on all ships moved this turn",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_fleet_move_bonus=1,1}}),this.importActionCard("propulsion-research",{name:"Propulsion Research",type:"instant",text:"Gain +1 movement on a single ship moved this turn",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_ship_move_bonus=1,1}}),this.importActionCard("military-drills",{name:"Military Drills",type:"action",text:"ACTION: Gain two new command tokens",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerAllocateNewTokens(r,2),0}}),this.importActionCard("cripple-defenses",{name:"Cripple Defenses",type:"action",text:"ACTION: Select a planet and destroy all PDS units on that planet",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlanetWithFilter("Select a planet to destroy all PDS units on that planet: ",(function(t){return e.doesPlanetHavePDS(t)}),(function(t){for(var r=(t=e.game.planets[t]).sector,n=(t.tile,t.idx),a=e.returnSectorAndPlanets(r),i=0;i<a.p[n].units.length;i++)for(var s=0;s<a.p[n].units[i].length;s++)"pds"==a.p[n].units[i][s].type&&e.addMove("destroy_unit\t"+e.game.player+"\t"+(i+1)+"\tground\t"+r+"\t"+n+"\t"+s+"\t1");return e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" destroys all PDS units destroyed on "+a.p[n].name),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("reactor-meltdown",{name:"Reactor Meltdown",type:"action",text:"ACTION: Select a non-homeworld planet and destroy one Space Dock on that planet",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlanetWithFilter("Select a non-homeworld planet and destroy one Space Dock on that planet: ",(function(t){if(0==(t=e.game.planets[t]).hw&&e.doesPlanetHaveSpaceDock(t))return 1}),(function(t){for(var r=(t=e.game.planets[t]).sector,n=(t.tile,t.idx),a=e.returnSectorAndPlanets(r),i=0;i<a.p[n].units.length;i++)for(var s=0;s<a.p[n].units[i].length;s++)"spacedock"==a.p[n].units[i][s].type&&e.addMove("destroy_unit\t"+e.game.player+"\t"+(i+1)+"\tground\t"+r+"\t"+n+"\t"+s+"\t1");return e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" destroys all Space Docks on "+a.p[n].name),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("lost-mission",{name:"Lost Mission",type:"action",text:"ACTION: Place 1 Destroyer in a system with no existing ships",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectSectorWithFilter("Select a sector with no existing ships in which to place a Destroyer: ",(function(t){return!e.doesSectorContainShips(t)}),(function(t){return e.addMove("produce\t"+e.game.player+"\t1\t-1\tdestroyer\t"+t),e.addMove("NOTIFY\tAdding destroyer to gamebaord"),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("accidental-colonization",{name:"Accidental Colonization",type:"action",text:"ACTION: Gain control of one planet not controlled by any player",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlanetWithFilter("Select a planet not controlled by another player: ",(function(t){return-1==(t=e.game.planets[t]).owner?1:0}),(function(t){var r=(t=e.game.planets[t]).sector;return e.addMove("gain_planet\t"+e.game.player+"\t"+r+"\t"+t.idx),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" gains planet "+t.name),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("uprising",{name:"Uprising",type:"action",text:"ACTION: Exhaust a non-home planet card held by another player. Gain trade goods equal to resource value.",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlanetWithFilter("Exhaust a non-homeworld planet card held by another player. Gain trade goods equal to resource value.",(function(t){return-1!=(t=e.game.planets[t]).owner&&t.owner!=e.game.player&&0==t.exhausted&&0==t.hw?1:0}),(function(t){var n=(t=e.game.planets[t]).resources;return e.addMove("purchase\t"+r+"\tgoods\t"+n),e.addMove("expend\t"+e.game.player+"\tplanet\t"+t.planet),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" exhausting "+t.name+" and gaining "+n+" trade goods"),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("diaspora-conflict",{name:"Diaspora Conflict",type:"action",text:"ACTION: Exhaust a non-home planet card held by another player. Gain trade goods equal to resource value.",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlanetWithFilter("Exhaust a planet card held by another player. Gain trade goods equal to resource value.",(function(t){return-1!=(t=e.game.planets[t]).owner&&t.owner!=e.game.player&&0==t.exhausted&&0==t.hw?1:0}),(function(t){var n=t,a=(t=e.game.planets[t]).resources;return e.addMove("purchase\t"+r+"\tgoods\t"+a),e.addMove("expend\t"+e.game.player+"\tplanet\t"+n),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" exhausting "+t.name+" and gaining "+a+" trade goods"),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("economic-initiative",{name:"Economic Initiative",type:"action",text:"ACTION: Ready each cultural planet in your control",playActionCard:function(e,t,r,n){for(var a in e.game.planets)e.game.planets[a].owner==r&&"cultural"==e.game.planets[a].type&&(e.game.planets[a].exhausted=0);return 1}}),this.importActionCard("focused-research",{name:"Focused Research",type:"action",text:"ACTION: Spend 4 Trade Goods to Research 1 Technology",playActionCard:function(e,t,r,n){return e.game.players_info[e.game.player-1].goods<4?(e.updateLog("Player does not have enough trade goods to research a technology"),1):(e.game.player==r&&e.playerResearchTechnology((function(t){e.addMove("purchase\t"+r+"\ttech\t"+t),e.addMove("expend\t"+e.game.player+"\tgoods\t4"),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" researches "+e.tech[t].name),e.endTurn()})),0)}}),this.importActionCard("frontline-deployment",{name:"Frontline Deployment",type:"action",text:"ACTION: Deploy three infantry on one planet you control",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlanetWithFilter("Deploy three infantry to a planet you control: ",(function(t){return e.game.planets[t].owner==e.game.player?1:0}),(function(t){return t=e.game.planets[t],e.addMove("produce\t"+e.game.player+"\t1\t"+t.idx+"\tinfantry\t"+t.sector),e.addMove("produce\t"+e.game.player+"\t1\t"+t.idx+"\tinfantry\t"+t.sector),e.addMove("produce\t"+e.game.player+"\t1\t"+t.idx+"\tinfantry\t"+t.sector),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" deploys three infantry to "+t.name),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("ghost-ship",{name:"Ghost Ship",type:"action",text:"ACTION: Place a destroyer in a sector with a wormhole and no enemy ships",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectSectorWithFilter("Place a destroyer in a sector with a wormhole and no enemy ships: ",(function(t){return 0==e.doesSectorContainShips(t)&&0!=e.game.sectors[t].wormhole?1:0}),(function(t){return e.addMove("produce\t"+e.game.player+"\t1\t-1\tdestroyer\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" deploys a Destroyer to "+e.game.sectors[t].name),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("war-effort",{name:"War Effort",type:"action",text:"ACTION: Place a cruiser in a sector with one of your ships",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectSectorWithFilter("Place a cruiser in a sector with one of your ships: ",(function(r){return 1==e.doesSectorContainPlayerShips(t,r)?1:0}),(function(t){return e.addMove("produce\t"+e.game.player+"\t1\t-1\tcruiser\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" deploys a Cruiser to "+e.game.sectors[t].name),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("industrial-initiative",{name:"Industrial Initiative",type:"action",text:"ACTION: Gain a trade good for each industrial planet you control",playActionCard:function(e,t,r,n){var a=0;for(var i in e.game.planets)e.game.planets[i].owner==r&&"industrial"==e.game.planets[i].type&&a++;return a>0&&e.game.queue.push("purchase\t"+r+"\tgoods\t"+a),1}}),this.importActionCard("Insubordination",{name:"Insubordination",type:"action",text:"ACTION: Select a player and remove 1 token from their command pool",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlayerWithFilter("Select a player and remove one token from their command pool: ",(function(t){return t!=e.game.player?1:0}),(function(t){return e.addMove("expend\t"+t+"\tcommand\t1"),e.addMove("NOTIFY\t"+e.returnFactionNickname(t)+" loses one comand token"),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("Lucky Shot",{name:"Lucky Shot",type:"action",text:"ACTION: Destroy a destroyer, cruiser or dreadnaught in a sector with a planet you control",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectSectorWithFilter("Destroy a destroyer, cruiser or dreadnaught in a sector containing a planet you control: ",(function(t){return e.doesSectorContainPlanetOwnedByPlayer(t,e.game.player)&&(e.doesSectorContainUnit(t,"destroyer")||e.doesSectorContainUnit(t,"cruiser")||e.doesSectorContainUnit(t,"dreadnaught"))?1:0}),(function(t){e.playerSelectOpponentUnitInSectorWithFilter("Select opponent ship in this sector to destroy: ",t,(function(e){return"destroyer"==e.type||"cruiser"==e.type||"dreadnaught"==e.type?1:0}),(function(t){var r=t.sector,n=(parseInt(t.unit.owner),t.unit_idx),a=e.returnSectorAndPlanets(r),i=t.unit;return e.addMove("destroy_unit\t"+e.game.player+"\t"+i.owner+"\tspace\t"+r+"\t-1\t"+n+"\t1"),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" destroys a "+i.name+" in "+a.name),e.endTurn(),0}),null)}),(function(){e.playerTurn()})),0}}),this.importActionCard("mining-initiative-ac",{name:"Mining Initiative",type:"action",text:"ACTION: Gain trade goods equal to the highest resource value planet you control",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=0;for(var i in e.game.planets)e.game.planets[i].owner==r&&e.game.planets[i].resources>a&&(a=e.game.planets[i].resources);return e.addMove("purchase\t"+r+"\tgoods\t"+a),e.endTurn(),0}return 0}}),this.importActionCard("rise-of-a-messiah",{name:"Rise of a Messiah",type:"action",text:"ACTION: Add one infantry to each planet player controls",playActionCard:function(e,t,r,n){for(var a in e.game.planets)e.game.planets[a].owner==r&&(e.updateLog(e.returnFaction(r)+" adds 1 infantry to "+e.game.planets[a].name),e.addPlanetaryUnit(r,e.game.planets[a].sector,e.game.planets[a].idx,"infantry"));return 1}}),this.importActionCard("unstable-planet",{name:"Unstable Planet",type:"action",text:"ACTION: Choose a hazardous planet and exhaust it. Destroy 3 infantry on that planet if they exist",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlanetWithFilter("Select a hazardous planet and exhaust it. Destroy 3 infantry on that planet if they exist",(function(t){return"hazardous"==(t=e.game.planets[t]).type?1:0}),(function(n){e.addMove("expend\t"+t+"\tplanet\t"+n);var a=e.game.planets[n],i=parseInt(a.owner),s=(parseInt(a.resources),0);if(i>=0)for(var o=a.units[i-1].length-1;o>=0;o--)s<3&&"infantry"==a.units[i-1][o].type&&(e.addMove("destroy_unit\t"+r+"\t"+i+"\tground\t"+a.sector+"\t"+a.idx+"\t"+o+"\t1"),s++);return e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("covert-operation",{name:"Covert Operation",type:"action",text:"ACTION: Choose a player. They give you one of their action cards, if possible",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectPlayerWithFilter("Select a player. They give you one of their action cards: ",(function(t){return t!=e.game.player?1:0}),(function(t){return e.addMove("pull\t"+e.game.player+"\t"+t+"\taction\trandom"),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" pulls a random action card from "+e.returnFaction(t)),e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("tactical-bombardment",{name:"Tactical Bombardment",type:"action",text:"ACTION: Choose a sector in which you have ships with bombardment. Exhaust all planets in that sector",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectSectorWithFilter("Select a sector in which you have ships with bombardment. Exhaust all planets in that sector",(function(r){return 1==e.doesSectorContainPlayerUnit(t,r,"dreadnaught")||1==e.doesSectorContainPlayerUnit(t,r,"warsun")?1:0}),(function(r){for(var n=e.game.sectors[r].planets,a=0;a<n.length;a++)e.addMove("expend\t"+t+"\tplanet\t"+n[a]),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" exhausts "+e.game.planets[n[a]].name);return e.endTurn(),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("signal-jamming",{name:"Signal Jamming",type:"action",text:"ACTION: Choose a player. They must activate a system in or next to a system in which you have a ship",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectSectorWithFilter("Select a sector in which you have a ship or one adjacent to one: ",(function(t){return e.isPlayerShipAdjacentToSector(r,t)?1:0}),(function(t){e.playerSelectPlayerWithFilter("Select a player to signal jam in that sector: ",(function(t){return t!=e.game.player?1:0}),(function(r){return e.addMove("activate\t"+r+"\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(r)+" suffers signal jamming in "+e.game.sectors[t].name),e.endTurn(),0}),null)}),(function(){e.playerTurn()})),0}}),this.importActionCard("unexpected-action",{name:"Unexpected Action",type:"action",text:"ACTION: Deactivate a stystem you have activated. Gain one command or strategy token: ",playActionCard:function(e,t,r,n){return e.game.player==r&&e.playerSelectSectorWithFilter("Select a sector that you have activated and deactivate it: ",(function(t){if(1==e.game.sectors[t].activated[r-1])return 1}),(function(t){return'<li class="option" id="command">command token</li>','<li class="option" id="strategy">strategy token</li>',"</ul>",e.updateStatus('<div class="sf-readable">Gain command or strategy token?</div><ul><li class="option" id="command">command token</li><li class="option" id="strategy">strategy token</li></ul>'),$(".option").off(),$(".option").on("click",(function(){var n=$(this).attr("id");e.addMove("purchase\t"+r+"\t"+n+"\t1"),e.addMove("deactivate\t"+r+"\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(r)+" deactivates "+e.game.sectors[t].name),e.endTurn()})),0}),(function(){e.playerTurn()})),0}}),this.importActionCard("in-the-silence-of-space",{name:"In the Silence of Space",type:"instant",text:"Your ships may move through sectors with other player ships this turn: ",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_move_through_sectors_with_opponent_ships=1,1}})},function(e,t){this.importActionCard("upgrade",{name:"Upgrade",type:"post_activate_system",text:"After you activate a system containing one of your ships, place a Dreadnaught from your reinforcements in that sector",playActionCard:function(e,t,r,n){var a=e.game.state.activated_sector;return e.doesSectorContainPlayerShips(r,a)&&e.addSpaceUnit(r,a,"dreadnaught"),1}}),this.importActionCard("disable",{name:"Disable",type:"post_activate_system",text:"Your fleet cannot be hit by PDS fire or Planetary Defense during this invasion",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_immune_to_pds_fire=1,e.game.players_info[r-1].temporary_immune_to_planetary_defense=1,1}})},function(e,t){this.importActionCard("bunker",{name:"Bunker",type:"bombardment_defender",text:"During this bombardment, attacker gets -4 applied to each bombardment roll.",playActionCard:function(e,t,r,n){for(var a=0;a<e.game.players_info.length;a++)e.game.players_info[a].temporary_bombardment_combat_roll_modifier=-4;return 1}}),this.importActionCard("thunder-from-the-heavens",{name:"Thunder from the Heavens",type:"bombardment_attacker",text:"During this bombardment, attacker gets +2 applied to each bombardment roll.",playActionCard:function(e,t,r,n){for(var a=0;a<e.game.players_info.length;a++)e.game.players_info[a].temporary_bombardment_combat_roll_modifier=2;return 1}})},function(e,t){this.importActionCard("sabotage1",{name:"Sabotage",type:"counter",text:"When another player plays an action card, you may cancel that action card",playActionCard:function(e,t,r,n){console.log("QUEUE: "+JSON.stringify(e.game.queue));for(var a=e.game.queue.length-1;a>=0;a--)if(e.game.queue[a].indexOf("action_card_")>=0){var i=0;if(0==e.game.queue[a].indexOf("action_card_post")&&(i=1),console.log("removing: "+JSON.stringify(e.game.queue[a])),e.game.queue[a].indexOf("sabotage")>0&&(i=0),0!=e.game.queue[a].indexOf("resolve")&&e.game.queue.splice(a,1),1==i)return e.removeConfirmsNeeded(),e.updateLog(e.returnFaction(r)+" plays Sabotage!"),1}return 1}}),this.importActionCard("sabotage2",{name:"Sabotage",type:"counter",text:"When another player plays an action card, you may cancel that action card",playActionCard:function(e,t,r,n){console.log("QUEUE: "+JSON.stringify(e.game.queue));for(var a=e.game.queue.length-1;a>=0;a--)if(e.game.queue[a].indexOf("action_card_")>=0){var i=0;if(0==e.game.queue[a].indexOf("action_card_post")&&(i=1),console.log("removing: "+JSON.stringify(e.game.queue[a])),e.game.queue[a].indexOf("sabotage")>0&&(i=0),0!=e.game.queue[a].indexOf("resolve")&&e.game.queue.splice(a,1),1==i)return e.removeConfirmsNeeded(),e.updateLog(e.returnFaction(r)+" plays Sabotage!"),1}return 1}}),this.importActionCard("sabotage3",{name:"Sabotage",type:"counter",text:"When another player plays an action card, you may cancel that action card",playActionCard:function(e,t,r,n){console.log("QUEUE: "+JSON.stringify(e.game.queue));for(var a=e.game.queue.length-1;a>=0;a--)if(e.game.queue[a].indexOf("action_card_")>=0){var i=0;if(0==e.game.queue[a].indexOf("action_card_post")&&(i=1),console.log("removing: "+JSON.stringify(e.game.queue[a])),e.game.queue[a].indexOf("sabotage")>0&&(i=0),0!=e.game.queue[a].indexOf("resolve")&&e.game.queue.splice(a,1),1==i)return e.removeConfirmsNeeded(),e.updateLog(e.returnFaction(r)+" plays Sabotage!"),1}return 1}}),this.importActionCard("sabotage4",{name:"Sabotage",type:"counter",text:"When another player plays an action card, you may cancel that action card",playActionCard:function(e,t,r,n){for(var a=e.game.queue.length-1;a>=0;a--)if(e.game.queue[a].indexOf("action_card_")>=0){var i=0;if(0==e.game.queue[a].indexOf("action_card_post")&&(i=1),e.game.queue[a].indexOf("sabotage")>0&&(i=0),0!=e.game.queue[a].indexOf("resolve")&&e.game.queue.splice(a,1),1==i)return e.removeConfirmsNeeded(),e.updateLog(e.returnFaction(r)+" plays Sabotage!"),1}return 1}})},function(e,t){this.importActionCard("fire-team",{name:"Fire Team",type:"ground_combat",text:"Reroll up to 15 dice during this round of ground combat",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].combat_dice_reroll=15,1}}),this.importActionCard("parley",{name:"Parley",type:"ground_combat",text:"Return invading infantry to space if player ships exist in the sector",playActionCard:function(e,t,r,n){if(t==r){var a=e.game.state.ground_combat_sector,i=e.game.state.ground_combat_planet_idx,s=e.game.state.ground_combat_attacker,o=e.returnSectorAndPlanets(a),c=o.p[i].units[s-1];o.p[i].units[s-1]=[];for(var u=0;u<o.s.units[s-1].length;u++)for(;e.returnRemainingCapacity(o.s.units[s-1][u])>0&&c.length>0;)e.loadUnitByJSONOntoShip(s,a,u,JSON.stringify(c[0])),c.splice(0,1)}return e.updateSectorGraphics(sector),1}})},function(e,t){this.importActionCard("distinguished-councillor",{name:"Distinguished Coucillor",type:"post_agenda",text:"After the speaker has cast his votes, cast an additional 5 votes",playActionCard:function(e,t,r,n){return e.game.state.votes_cast[r-1]+=5,e.updateLog(e.returnFaction(r)+" casts an additional 5 votes with Distinguished Councillor"),1}}),this.importActionCard("bribery",{name:"Bribery",type:"post_agenda",text:"After the speaker has cast his vote, spend any number of trade goods to purchase additional votes",playActionCard:function(e,t,r,n){if(e.game.player==r){var a='<div class="sf-readable">Spend any number of trade goods to purchase additional votes: </div><ul>';if(e.game.players_info[r-1].goods>0){a+='<li class="textchoice" id="0">0 votes</li>';for(var i=1;i<=e.game.players_info[r-1].goods+1;i++)a+=1==i?'<li class="textchoice" id="1">'+i+" vote</li>":'<li class="textchoice" id="'+i+'">'+i+" votes</li>"}else a+='<li class="textchoice" id="0">0 votes</li>';a+="</ul>",e.updateStatus(a),$(".textchoice").off(),$(".textchoice").on("click",(function(){var t=$(this).attr("id");e.addMove("bribery\t"+r+"\t"+t),e.endTurn()}))}return 0},handleGameLoop:function(e,t,r){if("bribery"==r[0]){var n=parseInt(r[1]),a=parseInt(r[2]);return e.game.queue.splice(t,1),e.game.state.votes_cast[n-1].votes+=a,e.game.players_info[n-1].goods-=a,1==a?e.updateLog(e.returnFaction(n)+" bribes the Council for "+a+" additional vote"):e.updateLog(e.returnFaction(n)+" bribes the Council for "+a+" additional votes"),1}return 1}})},function(e,t){this.importActionCard("assassinate-representative",{name:"Assassinate Representative",type:"pre_agenda",text:"Choose a player. That player cannot vote on the Agenda",playActionCard:function(e,t,r,n){return r==e.game.player&&e.playerSelectPlayerWithFilter("Select a player who will not be able to vote on this Agenda: ",(function(t){return t!=e.game.player?1:0}),(function(t){return e.addMove("rider\t"+t+"\tassassinate-representative\t-1"),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" assassinates the "+e.returnFactionNickname(t)+" delegate"),e.endTurn(),0}),null),0}}),this.importActionCard("diplomatic-scandal",{name:"Diplomatic Scandal",type:"pre_agenda",text:"Choose a player. That player loses a maximum of four votes on this agenda",playActionCard:function(e,t,r,n){return r==e.game.player&&e.playerSelectPlayerWithFilter("Select a player to lose 4 votes: ",(function(t){return t!=e.game.player?1:0}),(function(t){return e.addMove("diplomatic_scandal\t"+e.game.player+"\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" unearths scandal concerning the voting representative of "+e.returnFaction(t)),e.endTurn(),0}),null),0},handleGameLoop:function(e,t,r){if("diplomatic_scandal"==r[0]){parseInt(r[1]);var n=parseInt(r[2]);return e.game.queue.splice(t,1),e.game.state.votes_available[n-1]-=4,e.game.state.votes_available[n-1]<0&&(e.game.state.votes_available[n-1]=0),1}return 1}})},function(e,t){this.importActionCard("leadership-rider",{name:"Leadership Rider",type:"rider",text:"Bet on agenda outcome to gain two strategy tokens and 1 command token",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.returnActiveAgenda(),i=e.agenda_cards[a].returnAgendaOptions(e),s=e.agenda_cards[a].elect;e.playerSelectChoice("On which choice do you wish to place your Leadership rider?",i,s,(function(t){e.addMove("rider\t"+e.game.player+"\tdiplomacy-rider\t"+i[t]),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" has placed a Leadership Rider on "+i[t]),e.endTurn()}))}return 0},playActionCardEvent:function(e,t,r,n){return e.game.players_info[r-1].strategy_tokens+=2,e.game.players_info[r-1].command_tokens+=1,e.updateLog(e.returnFaction(r)+" gains 2 strategy tokens and 1 command token"),1}}),this.importActionCard("diplomacy-rider",{name:"Diplomacy Rider",type:"rider",text:"Bet on agenda outcome to have others activate system with planet you control",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.returnActiveAgenda(),i=e.agenda_cards[a].returnAgendaOptions(e),s=e.agenda_cards[a].elect;e.playerSelectChoice("On which choice do you wish to place your Diplomacy rider?",i,s,(function(t){e.addMove("rider\t"+e.game.player+"\tdiplomacy-rider\t"+i[t]),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" has placed a Diplomacy Rider on "+i[t]),e.endTurn()}))}return 0},playActionCardEvent:function(e,t,r,n){return r==e.game.player&&e.playerSelectSectorWithFilter("Select a sector with a planet you control to mire in diplomatic conflict: ",(function(t){for(var r=0;r<e.game.sectors[t].planets.length;r++)return e.game.planets[e.game.sectors[t].planets[r]].owner==e.game.player?1:0}),(function(t){for(var n=0;n<e.game.players_info.length;n++)e.addMove("activate\t"+(n+1)+"\t"+t);return e.addMove("NOTIFY\t"+e.returnFactionNickname(r)+" uses Diplomacy Rider to protect "+t),e.endTurn(),0}),null),0}}),this.importActionCard("politics-rider",{name:"Politics Rider",type:"rider",text:"Bet on agenda outcome to gain three action cards and the speaker token",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.returnActiveAgenda(),i=e.agenda_cards[a].returnAgendaOptions(e),s=e.agenda_cards[a].elect;e.playerSelectChoice("On which choice do you wish to place your Politics rider?",i,s,(function(t){e.addMove("rider\t"+e.game.player+"\tpolitics-rider\t"+i[t]),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" has placed a Politics Rider on "+i[t]),e.endTurn()}))}return 0},playActionCardEvent:function(e,t,r,n){if(console.log(JSON.stringify(e.agenda_cards[active_agenda])),e.game.player==r){e.addMove("gain\t"+e.game.player+"\taction_cards\t3"),e.addMove("DEAL\t2\t"+e.game.player+"\t3"),e.addMove("NOTIFY\tdealing two action cards to "+e.returnFactionNickname(e.game.player));for(var a="Make which player the speaker? <ul>",i=0;i<e.game.players_info.length;i++)a+='<li class="textchoice" id="'+i+'">'+factions[e.game.players_info[i].faction].name+"</li>";a+="</ul>",e.updateStatus(a);e.game.player;$(".textchoice").off(),$(".textchoice").on("click",(function(){var t=parseInt($(this).attr("id"))+1;e.addMove("change_speaker\t"+t),e.endTurn()}))}return 0}}),this.importActionCard("construction-rider",{name:"Construction Rider",type:"rider",text:"Bet on agenda outcome to place a space dock on a planet you control",playActionCard:function(e,t,r,n){if(r==e.game.player){var a=e.returnActiveAgenda(),i=e.agenda_cards[a].returnAgendaOptions(e),s=e.agenda_cards[a].elect;e.playerSelectChoice("On which choice do you wish to place the Construction rider?",i,s,(function(t){e.addMove("rider\t"+e.game.player+"\tconstruction-rider\t"+i[t]),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" has placed a Construction Rider on "+i[t]),e.endTurn()}))}return 0},playActionCardEvent:function(e,t,r,n){return r==e.game.player&&e.playerSelectPlanetWithFilter("Select a planet you control without a Space Dock: ",(function(t){return e.game.planets[t].owner==e.game.player&&0==e.doesPlanetHaveSpaceDock(t)?1:0}),(function(t){return e.addMove("produce\t"+e.game.player+"\t1\t"+e.game.planets[t].idx+"\tspacedock\t"+e.game.planets[t].sector),e.addMove("NOTIFY\t"+e.returnFaction(r)+" builds a Space Dock in "+e.game.sectors[e.game.planets[t].sector].name),e.endTurn(),0}),null),0}}),this.importActionCard("trade-rider",{name:"Trade Rider",type:"rider",text:"Bet on agenda outcome to receive 5 trade goods",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.returnActiveAgenda(),i=e.agenda_cards[a].returnAgendaOptions(e),s=e.agenda_cards[a].elect;e.playerSelectChoice("On which choice do you wish to place your Trade rider?",i,s,(function(t){e.addMove("rider\t"+e.game.player+"\ttrade-rider\t"+i[t]),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" has placed a Trade Rider on "+i[t]),e.endTurn()}))}return 0},playActionCardEvent:function(e,t,r,n){return e.game.queue.push("purchase\t"+r+"\tgoods\t5"),e.game.queue.push("NOTIFY\t"+e.returnFaction(r)+" gains 5 Trade Goods through their Trade Rider"),1}}),this.importActionCard("warfare-rider",{name:"Warfare Rider",type:"rider",text:"Bet on agenda outcome to place a dreadnaught in a system with one of your ships: ",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.returnActiveAgenda(),i=e.agenda_cards[a].returnAgendaOptions(e),s=e.agenda_cards[a].elect;e.playerSelectChoice("On which choice do you wish to place your Warfare Rider?",i,s,(function(t){e.addMove("rider\t"+e.game.player+"\twarfare-rider\t"+i[t]),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" has placed a Warfare Rider on "+i[t]),e.endTurn()}))}return 0},playActionCardEvent:function(e,t,r,n){return e.game.player==r&&e.playerSelectSectorWithFilter("Select a sector which contains at least one of your ships: ",(function(t){return e.doesSectorContainPlayerShips(r,t)}),(function(t){return e.addMove("produce\t"+e.game.player+"\t1\t-1\tdreadnaught\t"+t),e.addMove("NOTIFY\tAdding dreadnaught to board"),e.endTurn(),0}),null),0}}),this.importActionCard("technology-rider",{name:"Technology Rider",type:"rider",text:"Bet on agenda outcome to research a technology for free",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.returnActiveAgenda();console.log("Active Agenda: "+a);var i=e.agenda_cards[a].returnAgendaOptions(e),s=e.agenda_cards[a].elect;e.playerSelectChoice("On which choice do you wish to place your Technology rider?",i,s,(function(t){e.addMove("rider\t"+e.game.player+"\ttechnology-rider\t"+i[t]),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" has placed a Technology Rider on "+i[t]),e.endTurn()}))}return 0},playActionCardEvent:function(e,t,r,n){return e.game.player==r&&e.playerResearchTechnology((function(t){e.endTurn()})),0}}),this.importActionCard("imperial-rider",{name:"Imperial Rider",type:"rider",text:"Player gains 1 VP",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.returnActiveAgenda(),i=e.agenda_cards[a].returnAgendaOptions(e),s=e.agenda_cards[a].elect;e.playerSelectChoice("On which choice do you wish to place the Imperial rider?",i,s,(function(t){e.addMove("rider\t"+e.game.player+"\timperial-rider\t"+i[t]),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" has placed an Imperial Rider on "+i[t]),e.endTurn()}))}},playActionCardEvent:function(e,t,r,n){return e.game.players_info[r-1].vp+=1,e.game.players_info[r-1].objectives_scored.push("imperial-rider"),1}})},function(e,t){this.importActionCard("intercept",{name:"Intercept",type:"retreat",text:"After your opponent declares a retreat in space combat, they cannot retreat",playActionCard:function(e,t,r,n){return e.game.players[r-1].temporary_opponent_cannot_retreat=1,1}}),this.importActionCard("courageous-to-the-end",{name:"Courageous to the End",type:"space_combat_after",text:"For one ship lost in last round of space combat, fire twice. With each hit your opponent must destroy a ship of their chosing",playActionCard:function(e,t,r,n){if(e.game.players_info[r-1].my_units_destroyed_last_combat_round.length>0){for(var a=10,i=0;i<e.game.players_info[r-1].my_units_destroyed_last_combat_round[i];i++){var s=e.game.players_info[r-1].my_units_destroyed_last_combat_round[i],o=e.returnUnit(s,t);o.combat<a&&(a=o.combat)}var c=e.rollDice(10),u=e.rollDice(10),l=e.game.state.space_combat_attacker;l==t&&(l=e.game.state.space_combat_defender);var d=0;return c>=a&&d++,u>=a&&d++,e.game.player==r&&(e.addMove("player_destroy_unit\t"+t+"\t"+l+"\t"+d+"\tspace\t"+e.game.state.space_combat_sector+"\t0"),e.endTurn()),0}return 1}}),this.importActionCard("salvage",{name:"Salvage",type:"space_combat_victory",text:"If you win a space combat, opponent gives you all their commodities",playActionCard:function(e,t,r,n){if(t==r){var a=e.game.players_info[e.game.state.space_combat_attacker],i=e.game.players_info[e.game.state.space_combat_defender];return i.commodities>0&&(a.goods+=i.commodities,e.updateLog(e.returnFaction(e.game.state.space_combat_attacker)+" takes "+i.commodities+" in trade goods from commodities lost in combat"),i.commodities=0),1}}}),this.importActionCard("shields-holding1",{name:"Shields Holding",type:"assign_hits",text:"Cancel 2 hits in Space Combat",playActionCard:function(e,t,r,n){return e.game.state.assign_hits_to_cancel+=2,1}}),this.importActionCard("shields-holding2",{name:"Shields Holding",type:"assign_hits",text:"Cancel 2 hits in Space Combat",playActionCard:function(e,t,r,n){return e.game.state.assign_hits_to_cancel+=2,1}}),this.importActionCard("shields-holding3",{name:"Shields Holding",type:"assign_hits",text:"Cancel 2 hits in Space Combat",playActionCard:function(e,t,r,n){return e.game.state.assign_hits_to_cancel+=2,1}}),this.importActionCard("shields-holding4",{name:"Shields Holding",type:"assign_hits",text:"Cancel 2 hits in Space Combat",playActionCard:function(e,t,r,n){return e.game.state.assign_hits_to_cancel+=2,1}}),this.importActionCard("maneuvering-jets1",{name:"Maneuvering Jets",type:"post_pds",text:"Cancel 1 hit from a PDS firing upon your ships",playActionCard:function(e,t,r,n){return e.game.state.assign_hits_to_cancel++,1}}),this.importActionCard("maneuvering-jets2",{name:"Maneuvering Jets",type:"post_pds",text:"Cancel 1 hit from a PDS firing upon your ships",playActionCard:function(e,t,r,n){return e.game.state.assign_hits_to_cancel++,1}}),this.importActionCard("maneuvering-jets3",{name:"Maneuvering Jets",type:"post_pds",text:"Cancel 1 hit from a PDS firing upon your ships",playActionCard:function(e,t,r,n){return e.game.state.assign_hits_to_cancel++,1}}),this.importActionCard("maneuvering-jets4",{name:"Maneuvering Jets",type:"post_pds",text:"Cancel 1 hit from a PDS firing upon your ships",playActionCard:function(e,t,r,n){return e.game.state.assign_hits_to_cancel++,1}}),this.importActionCard("emergency-repairs",{name:"Emergency Repairs",type:"assign_hits",text:"Repair all damaged ships not at full strength",playActionCard:function(e,t,r,n){for(var a=e.returnSectorAndPlanets(e.game.state.space_combat_sector),i=0;i<a.s.units[r-1].length;i++)a.s.units[r-1][i].strength<a.s.units[r-1][i].max_strength&&(a.s.units[r-1][i].strength=a.s.units[r-1][i].max_strength);return 1}}),this.importActionCard("experimental-fighter-prototype",{name:"Experimental Fighter Prototype",type:"space_combat",text:"Your fighters get +2 on their combat rolls for a single round of space combat",playActionCard:function(e,t,r,n){for(var a=e.returnSectorAndPlanets(e.game.state.space_combat_sector),i=0;i<a.s.units[r-1].length;i++){var s=a.s.units[r-1][i];"fighter"==s.type&&(s.temporary_combat_modifier+=2)}return 1}}),this.importActionCard("moral-boost",{name:"Moral Boost",type:"combat",text:"Apply +1 to each of your units' combat rolls during this round of combat",playActionCard:function(e,t,r,n){if(e.game.state.space_combat_sector)for(var a=e.returnSectorAndPlanets(e.game.state.space_combat_sector),s=0;s<a.s.units[r-1].length;s++){a.s.units[r-1][s].temporary_combat_modifier+=1}if(e.game.state.ground_combat_sector&&e.game.state.ground_combat_planet_idx)for(var o=e.returnSectorAndPlanets(e.game.state.space_combat_sector),c=0;i<o.p.length;c++)for(var u=0;u<o.p[c].units[r-1].length;u++){o.p[c].units[r-1][u].temporary_combat_modifier+=1}return 1}}),this.importActionCard("experimental-battlestation",{name:"Experimental Battlestation",type:"pre_pds",text:"After a player moves ships into a sector, a space dock in that or an adjacent sector can fire 3 PDS shots",playActionCard:function(e,t,r,n){e.updateLog("Experimental Battlestation");var a=e.game.state.activated_sector,i=e.returnAdjacentSectors(a);i.push(a);for(var s=0;s<i.length;s++)for(var o=e.returnSectorAndPlanets(i[s]),c=0;c<o.p.length;c++)if(o.p[c].owner==e.game.player&&e.doesPlayerHaveSpaceDockOnPlanet(e.game.player,o.p[c]))return e.game.players_info[r-1].experimental_battlestation=a,1;return 1}}),this.importActionCard("direct-hit1",{name:"Direct Hit",type:"space_combat_after",text:"Destroy a ship that is damaged or not at full strength",playActionCard:function(e,t,r,n){for(var a=e.returnEventObjects(),i=e.returnSectorAndPlanets(e.game.state.space_combat_sector),s=0;s<i.s.units.length;s++)if(s!=r-1)for(var o=0;o<i.s.units[s].length;o++)if(i.s.units[s][o].strength<i.s.units[r-1][o].max_strength){for(var c in i.s.units[s][o].strength=0,i.s.units[s][o].strength=0,a)a[c].unitDestroyed(e,attacker,i.p.units[s][o]);e.eliminateDestroyedUnitsInSector(s+1,sector),e.saveSystemAndPlanets(i),e.updateSectorGraphics(sector),o=i.s.units[s].length+2}return 1}}),this.importActionCard("direct-hit2",{name:"Direct Hit",type:"space_combat_after",text:"Destroy a ship that is damaged or not at full strength",playActionCard:function(e,t,r,n){for(var a=e.returnEventObjects(),i=e.returnSectorAndPlanets(e.game.state.space_combat_sector),s=0;s<i.s.units.length;s++)if(s!=r-1)for(var o=0;o<i.s.units[s].length;o++)if(i.s.units[s][o].strength<i.s.units[r-1][o].max_strength){for(var c in i.s.units[s][o].strength=0,i.s.units[s][o].strength=0,a)a[c].unitDestroyed(e,attacker,i.p.units[s][o]);e.eliminateDestroyedUnitsInSector(s+1,sector),e.saveSystemAndPlanets(i),e.updateSectorGraphics(sector),o=i.s.units[s].length+2}return 1}}),this.importActionCard("direct-hit3",{name:"Direct Hit",type:"space_combat_after",text:"Destroy a ship that is damaged or not at full strength",playActionCard:function(e,t,r,n){for(var a=e.returnEventObjects(),i=e.returnSectorAndPlanets(e.game.state.space_combat_sector),s=0;s<i.s.units.length;s++)if(s!=r-1)for(var o=0;o<i.s.units[s].length;o++)if(i.s.units[s][o].strength<i.s.units[r-1][o].max_strength){for(var c in i.s.units[s][o].strength=0,i.s.units[s][o].strength=0,a)a[c].unitDestroyed(e,attacker,i.p.units[s][o]);e.eliminateDestroyedUnitsInSector(s+1,sector),e.saveSystemAndPlanets(i),e.updateSectorGraphics(sector),o=i.s.units[s].length+2}return 1}}),this.importActionCard("direct-hit4",{name:"Direct Hit",type:"space_combat_after",text:"Destroy a ship that is damaged or not at full strength",playActionCard:function(e,t,r,n){for(var a=e.returnEventObjects(),i=e.returnSectorAndPlanets(e.game.state.space_combat_sector),s=0;s<i.s.units.length;s++)if(s!=r-1)for(var o=0;o<i.s.units[s].length;o++)if(i.s.units[s][o].strength<i.s.units[r-1][o].max_strength){for(var c in i.s.units[s][o].strength=0,i.s.units[s][o].strength=0,a)a[c].unitDestroyed(e,attacker,i.p.units[s][o]);e.eliminateDestroyedUnitsInSector(s+1,sector),e.saveSystemAndPlanets(i),e.updateSectorGraphics(sector),o=i.s.units[s].length+2}return 1}}),this.importActionCard("skilled-retreat1",{name:"Skilled Retreat",type:"space_combat",text:"Retreat into an adjacent system without enemy ships. Space Battle ends tied",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.game.state.space_combat_sector;e.returnAdjacentSectors(a);e.playerSelectSectorWithFilter("Select an adjacent sector without opponent ships into which to retreat: ",(function(t){return e.areSectorsAdjacent(a,t)&&t!=a&&!e.doesSectorContainNonPlayerShips(t)?1:0}),(function(t){e.addMove("skilled_retreat\t"+r+"\t"+t+"\t"+e.game.state.space_combat_sector),e.addMove("NOTIFY\t"+e.returnFaction(r)+" makes skilled retreat into "+e.game.sectors[t].name),e.addMove("activate\t"+r+"\t"+t),e.addMove("activate\t"+r+"\t"+e.game.state.space_combat_sector),e.endTurn()}),(function(){e.addMove("NOTIFY\tno suitable sectors available for skilled retreat"),e.endTurn()}))}return 0},handleGameLoop:function(e,t,r){if("skilled_retreat"==r[0]){var n=parseInt(r[1]),a=r[2],i=r[3];e.game.queue.splice(t,1);for(var s=e.returnSectorAndPlanets(a),o=e.returnSectorAndPlanets(i),c=0;c<o.s.units[n-1].length;c++)s.s.units[n-1].push(o.s.units[n-1][c]);o.s.units[n-1]=[],e.saveSystemAndPlanets(s),e.saveSystemAndPlanets(o);for(var u=e.game.queue.length-1;u>=0;u--){"continue"!==e.game.queue[u].split("\t")[0]?e.game.queue.splice(u,1):u=-1}return e.updateSectorGraphics(o.s.sector),e.updateSectorGraphics(s.s.sector),e.handleFleetSupply(n,a)}return 1}}),this.importActionCard("skilled-retreat2",{name:"Skilled Retreat",type:"space_combat",text:"Retreat into an adjacent system without enemy ships. Space Battle ends tied",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.game.state.space_combat_sector;e.returnAdjacentSectors(a);e.playerSelectSectorWithFilter("Select an adjacent sector without opponent ships into which to retreat: ",(function(t){return e.areSectorsAdjacent(a,t)&&t!=a&&!e.doesSectorContainNonPlayerShips(t)?1:0}),(function(t){e.addMove("skilled_retreat\t"+r+"\t"+t+"\t"+e.game.state.space_combat_sector),e.addMove("NOTIFY\t"+e.returnFaction(r)+" makes skilled retreat into "+e.game.sectors[t].name),e.addMove("activate\t"+r+"\t"+t),e.addMove("activate\t"+r+"\t"+e.game.state.space_combat_sector),e.endTurn()}),(function(){e.addMove("NOTIFY\tno suitable sectors available for skilled retreat"),e.endTurn()}))}return 0}}),this.importActionCard("skilled-retreat3",{name:"Skilled Retreat",type:"space_combat",text:"Retreat into an adjacent system without enemy ships. Space Battle ends tied",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.game.state.space_combat_sector;e.returnAdjacentSectors(a);e.playerSelectSectorWithFilter("Select an adjacent sector without opponent ships into which to retreat: ",(function(t){return e.areSectorsAdjacent(a,t)&&t!=a&&!e.doesSectorContainNonPlayerShips(t)?1:0}),(function(t){e.addMove("skilled_retreat\t"+r+"\t"+t+"\t"+e.game.state.space_combat_sector),e.addMove("NOTIFY\t"+e.returnFaction(r)+" makes skilled retreat into "+e.game.sectors[t].name),e.addMove("activate\t"+r+"\t"+t),e.addMove("activate\t"+r+"\t"+e.game.state.space_combat_sector),e.endTurn()}),(function(){e.addMove("NOTIFY\tno suitable sectors available for skilled retreat"),e.endTurn()}))}return 0}}),this.importActionCard("skilled-retreat4",{name:"Skilled Retreat",type:"space_combat",text:"Retreat into an adjacent system without enemy ships. Space Battle ends tied",playActionCard:function(e,t,r,n){if(e.game.player==r){var a=e.game.state.space_combat_sector;e.returnAdjacentSectors(a);e.playerSelectSectorWithFilter("Select an adjacent sector without opponent ships into which to retreat: ",(function(t){return e.areSectorsAdjacent(a,t)&&t!=a&&!e.doesSectorContainNonPlayerShips(t)?1:0}),(function(t){e.addMove("skilled_retreat\t"+r+"\t"+t+"\t"+e.game.state.space_combat_sector),e.addMove("NOTIFY\t"+e.returnFaction(r)+" makes skilled retreat into "+e.game.sectors[t].name),e.addMove("activate\t"+r+"\t"+t),e.addMove("activate\t"+r+"\t"+e.game.state.space_combat_sector),e.endTurn()}),(function(){e.addMove("NOTIFY\tno suitable sectors available for skilled retreat"),e.endTurn()}))}return 0}})},function(e,t){this.importActionCard("public-disgrace",{name:"Public Disgrace",type:"activate",text:"Force a player who has already picked a strategy card to select another. They select before you do",playActionCard:function(e,t,r,n){return 0},handleGameLoop:function(e,t,r){if("public_disgrace"==r[0]){var n=parseInt(r[1]),a=parseInt(r[2]),i=r[3];e.game.queue.splice(t,1);for(var s=0;s<e.game.players_info[a-1].strategy.length;s++)e.game.players_info[a-1].strategy[s]==i&&e.game.players_info[a-1].strategy.splice(s,1);return e.game.queue.push("pickstrategy\t"+n),e.game.queue.push("reinsert_strategy_card\t"+i),e.game.queue.push("pickstrategy\t"+a),1}if("reinsert_strategy_card"==r[0]){var o=r[1];return e.game.state.strategy_cards.push(o),e.game.state.strategy_cards_bonus.push(0),1}return 1}})},function(e,t){this.importAgendaCard("sequential-voting",{name:"Sequential Voting",type:"Law",text:"Players must vote on Agendas in Initiative Order, not Simultaneously",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){e.game.state.agenda_voting_order="for"===t?"initiative":"simultaneous"}}),this.importAgendaCard("shard-of-the-throne",{name:"Shard of the Throne",type:"Law",elect:"player",text:"Elect a Player to earn 1 VP. When this player loses a space combat to another player, they transfer the VP to that player",returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.players_info.length;r++)t.push(e.returnFaction(r+1));return t},onPass:function(e,t){e.game.state.shard_of_the_throne=1;for(var r=0;r<e.game.players_info.length;r++)t===e.returnFaction(r+1)&&(e.game.state.shard_of_the_throne_player=r+1);var n={agenda:"shard-of-the-throne"};n.option=t,e.game.state.laws.push(n),e.game.players_info[e.game.state.shard_of_the_throne_player-1].vp+=1,e.updateLeaderboard(),e.updateLog(e.returnFaction(e.game.state.shard_of_the_throne_player)+" gains the Shard of the Throne (1VP)")},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"shard-of-the-throne"===e.game.state.laws[t].agenda&&(e.game.state.laws.splice(t,1),t--);return e.game.state.shard_of_the_throne_player=-2,1},spaceCombatRoundEnd:function(e,t,r,n){r==e.game.state.shard_of_the_throne_player&&(e.doesPlayerHaveShipsInSector(r,n)||(e.game.state.shard_of_the_throne_player=t,e.updateLog(e.returnFaction(e.game.state.shard_of_the_throne_player)+" gains the Shard of the Throne (1VP)"),e.game.players_info[t-1].vp+=1,e.game.players_info[r-1].vp-=1,e.updateLeaderboard()))},groundCombatRoundEnd:function(e,t,r,n,a){r==e.game.state.shard_of_the_throne_player&&(e.doesPlayerHaveInfantryOnPlanet(r,n,a)||(e.game.state.shard_of_the_throne_player=t,e.updateLog(e.returnFaction(e.game.state.shard_of_the_throne_player)+" gains the Shard of the Throne (1VP)"),e.game.players_info[t-1].vp+=1,e.game.players_info[r-1].vp-=1,e.updateLeaderboard()))}}),this.importAgendaCard("homeland-defense-act",{name:"Homeland Defense Act",type:"Law",text:"FOR: there is no limit to the number of PDS units on a planet. AGAINST: each player must destroy one PDS unit",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){e.game.state.homeland_defense_act=1;var r={agenda:"homeland-defense-act"};if(r.option=t,e.game.state.laws.push(r),"for"===t&&(e.game.state.pds_limit_per_planet=100),"against"===t)for(var n=0;n<e.game.players_info.length;n++)e.doesPlayerHaveUnitOnBoard(n+1,"pds")&&e.game.queue.push("destroy_a_pds\t"+(n+1));e.game.state.laws.push({agenda:"homeland-defense-act",option:t})},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"homeland-defense-act"===e.game.state.laws[t].agenda&&(e.game.state.laws.splice(t,1),t--);return e.game.state.homeland_defense_act=0,e.game.state.pds_limit_per_planet=2,1},handleGameLoop:function(e,t,r){if("destroy_a_pds"==r[0]){var n=parseInt(r[1]);return e.game.queue.splice(t,1),e.game.player==n&&e.playerSelectUnitWithFilter("Select a PDS unit to destroy: ",(function(e){return null==e?0:"pds"==e.type?1:0}),(function(t){var r=t.sector,n=t.planet_idx,a=t.unit_idx,i=t.unit,s=e.returnSectorAndPlanets(r);if(null==i)return e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" has no PDS units to destroy"),e.endTurn(),0;e.addMove("destroy_unit\t"+e.game.player+"\t"+e.game.player+"\tground\t"+r+"\t"+n+"\t"+a+"\t1"),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" destroys a "+i.name+" in "+s.s.name),e.endTurn()})),0}return 1}}),this.importAgendaCard("holy-planet-of-ixth",{name:"Holy Planet of Ixth",type:"Law",elect:"planet",text:"Elect a cultural planet. The planet's controller gains 1 VP. Units cannot be landed, produced or placed on this planet",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"cultural"===e.type?1:0}))},onPass:function(e,t){e.game.state.holy_planet_of_ixth=1,e.game.state.holy_planet_of_ixth_planet=t;var r={agenda:"holy-planet-of-ixth"};r.option=t,e.game.state.laws.push(r),e.game.planets[t].locked=1;var n=e.game.planets[t].owner;-1!=n&&(e.game.players_info[n-1].vp+=1,e.updateLeaderboard(),e.updateLog(e.returnFaction(n)+" gains 1 VP from Holy Planet of Ixth"))},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"holy-planet-of-ixth"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return null!=t&&(e.game.state.holy_planet_of_ixth=0,e.game.state.holy_planet_of_ixth_planet=-1,e.game.planets[t].locked=0),1}}),this.importAgendaCard("research-team-biotic",{name:"Research Team: Biotic",type:"Law",elect:"planet",text:"Elect an industrial planet. The owner may exhaust this planet to ignore 1 green technology prerequisite the next time they research a technology",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"industrial"===e.type?1:0}))},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"research-team-biotic"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return null!=t&&(e.game.state.research_team_biotic=0,e.game.state.research_team_biotic_planet=-1),1},onPass:function(e,t){e.game.state.research_team_biotic=1,e.game.state.research_team_biotic_planet=t;var r={agenda:"research-team-biotic"};r.option=t,e.game.state.laws.push(r)},menuOption:function(e,t,r){return"main"==t&&e.game.planets[e.game.state.research_team_biotic_planet].owner==r?{event:"research_team_biotic",html:'<li class="option" id="research_team_biotic">use biotic (green) tech-skip</li>'}:{}},menuOptionTriggers:function(e,t,r){return"main"==t&&e.game.planets[e.game.state.research_team_biotic_planet].owner==r&&0==e.game.planets[e.game.state.research_team_biotic_planet].exhausted?1:0},menuOptionActivated:function(e,t,r){return"main"==t&&(e.game.players_info[r-1].temporary_green_tech_prerequisite++,e.game.planets[e.game.state.research_team_biotic_planet].exhausted=1),0}}),this.importAgendaCard("research-team-cybernetic",{name:"Research Team: Cybernetic",type:"Law",elect:"planet",text:"Elect an industrial planet. The owner may exhaust this planet to ignore 1 yellow technology prerequisite the next time they research a technology",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"industrial"===e.type?1:0}))},onPass:function(e,t){e.game.state.research_team_cybernetic=1,e.game.state.research_team_cybernetic_planet=t;var r={agenda:"research-team-cybernetic"};r.option=t,e.game.state.laws.push(r)},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"research-team-cybernetic"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return null!=t&&(e.game.state.research_team_cybernetic=0,e.game.state.research_team_cybernetic_planet=-1),1},menuOption:function(e,t,r){return"main"==t&&e.game.planets[e.game.state.research_team_cybernetic_planet].owner==r?{event:"research_team_cybernetic",html:'<li class="option" id="research_team_cybernetic">use cybernetic (yellow) tech-skip</li>'}:{}},menuOptionTriggers:function(e,t,r){return"main"==t&&e.game.planets[e.game.state.research_team_cybernetic_planet].owner==r&&0==e.game.planets[e.game.state.research_team_cybernetic_planet].exhausted?1:0},menuOptionActivated:function(e,t,r){return"main"==t&&(e.game.players_info[r-1].temporary_yellow_tech_prerequisite++,e.game.planets[e.game.state.research_team_cybernetic_planet].exhausted=1),0}}),this.importAgendaCard("research-team-propulsion",{name:"Research Team: Propulsion",type:"Law",elect:"planet",text:"Elect an industrial planet. The owner may exhaust this planet to ignore 1 blue technology prerequisite the next time they research a technology",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"industrial"===e.type?1:0}))},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"research-team-propulsion"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return null!=t&&(e.game.state.research_team_propulsion=0,e.game.state.research_team_propulsion_planet=-1),1},onPass:function(e,t){e.game.state.research_team_propulsion=1,e.game.state.research_team_propulsion_planet=t;var r={agenda:"research-team-propulsion"};r.option=t,e.game.state.laws.push(r)},menuOption:function(e,t,r){return"main"==t&&e.game.planets[e.game.state.research_team_propulsion_planet].owner==r?{event:"research_team_propulsion",html:'<li class="option" id="research_team_propulsion">use propulsion (blue) tech-skip</li>'}:{}},menuOptionTriggers:function(e,t,r){return"main"==t&&e.game.planets[e.game.state.research_team_propulsion_planet].owner==r&&0==e.game.planets[e.game.state.research_team_propulsion_planet].exhausted?1:0},menuOptionActivated:function(e,t,r){return"main"==t&&(e.game.players_info[r-1].temporary_blue_tech_prerequisite++,e.game.planets[e.game.state.research_team_propulsion_planet].exhausted=1),0}}),this.importAgendaCard("research-team-warfare",{name:"Research Team: Warfare",type:"Law",elect:"planet",text:"Elect an hazardous planet. The owner may exhaust this planet to ignore 1 red technology prerequisite the next time they research a technology",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"industrial"===e.type?1:0}))},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"research-team-warfare"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return null!=t&&(e.game.state.research_team_warfare=0,e.game.state.research_team_warfare_planet=-1),1},onPass:function(e,t){e.game.state.research_team_warfare=1,e.game.state.research_team_warfare_planet=t;var r={agenda:"research-team-warfare"};r.option=t,e.game.state.laws.push(r)},menuOption:function(e,t,r){return"main"==t&&e.game.planets[e.game.state.research_team_warfare_planet].owner==r?{event:"research_team_warfare",html:'<li class="option" id="research_team_warfare">use warfare (red) tech-skip</li>'}:{}},menuOptionTriggers:function(e,t,r){return"main"==t&&e.game.planets[e.game.state.research_team_warfare_planet].owner==r&&0==e.game.planets[e.game.state.research_team_warfare_planet].exhausted?1:0},menuOptionActivated:function(e,t,r){return"main"==t&&(e.game.players_info[r-1].temporary_red_tech_prerequisite++,e.game.planets[e.game.state.research_team_warfare_planet].exhausted=1),0}}),this.importAgendaCard("demilitarized-zone",{name:"Demilitarized Zone",type:"Law",elect:"planet",text:"Elect a cultural planet. All units are destroyed and cannot be landed, produced or placed on this planet",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"cultural"===e.type?1:0}))},onPass:function(e,t){e.game.state.demilitarized_zone=1,e.game.state.demilitarized_zone_planet=t;var r={agenda:"demilitarized-zone"};r.option=t,e.game.state.laws.push(r),e.game.planets[t].units=[];for(var n=0;n<e.game.players_info.length;n++)e.game.planets[t].units.push([]);e.game.planets[t].locked=1},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"demilitarized-zone"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return null!=t&&(e.game.state.demilitarized_zone=0,e.game.state.demilitarized_zone_planet=-1,e.game.planets[t].locked=0),1}}),this.importAgendaCard("core-mining",{name:"Core Mining",type:"Law",elect:"planet",text:"Elect a hazardous planet. Destroy half the infantry on that planet and increase its resource value by +2",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"hazardous"===e.type?1:0}))},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"core-mining"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return null!=t&&(e.game.state.core_mining=0,e.game.state.core_mining_planet=-1,e.game.planets[t].locked=0,e.game.planets[t].resources-=2),1},onPass:function(e,t){e.game.state.core_mining=1,e.game.state.core_mining_planet=t;var r={agenda:"core-mining"};r.option=t,e.game.state.laws.push(r);e.returnPlanetsOnBoard((function(e){return"hazardous"===e.type?1:0}));for(var n=t,a=0;a<e.game.planets[n].units.length;a++)for(var i=1,s=0;s<e.game.planets[n].units[a].length;s++)"infantry"==e.game.planets[n].units[a][s].type&&(1==i?(e.game.planets[n].units[a].splice(s,1),s--,i=0):i=1);e.game.planets[t].resources+=2}}),this.importAgendaCard("anti-intellectual-revolution",{name:"Anti-Intellectual Revolution",type:"Law",text:"FOR: players must destroy a capital ship in order to play the Technology card. AGAINST: at the start of the next round, each player exhausts one planet for each technology they have.",returnAgendaOptions:function(e){return["for","against"]},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"anti-intellectual-revolution"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);var r=e.strategy_cards.technology;return r.strategyPrimaryEventBackup&&(r.strategyPrimaryEvent=r.strategyPrimaryEventBackup),r.strategySecondaryEventBackup&&(r.strategySecondaryEvent=r.strategySecondaryEventBackup),1},initialize:function(e,t){if("for"===t){var r=e.strategy_cards.technology,n=r.strategySecondaryEvent;r.strategySecondaryEventBackup=n,r.strategySecondaryEvent=function(e,t,r){e.game.player==t&&e.game.player!=r&&e.playerAcknowledgeNotice("Anti-Intellectual Revolution is in play. Do you wish to destroy a capital ship to research technology?",(function(){e.playerSelectUnitWithFilter("Select a capital ship to destroy: ",(function(e){return"destroyer"==e.type||"cruiser"==e.type||"carrier"==e.type||"dreadnaught"==e.type||"flagship"==e.type||"warsun"==e.type?1:0}),(function(a){var i=a.sector,s=a.planet_idx,o=a.unit_idx,c=a.unit,u=e.returnSectorAndPlanets(i);-1==s?e.addMove("destroy_unit\t"+e.game.player+"\t"+e.game.player+"\tspace\t"+i+"\t"+s+"\t"+o+"\t1"):e.addMove("destroy_unit\t"+e.game.player+"\t"+e.game.player+"\tground\t"+i+"\t"+s+"\t"+o+"\t1"),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" destroys a "+c.name+" in "+u.s.name),n(e,t,r)}))}))};var a=r.strategyPrimaryEvent;r.strategyPrimaryEventBackup=a,r.strategyPrimaryEvent=function(e,t,r){e.game.player==r&&t==r&&e.playerAcknowledgeNotice("Anti-Intellectual Revolution is in play. Do you wish to destroy a capital ship to research technology?",(function(){e.playerSelectUnitWithFilter("Select a capital ship to destroy: ",(function(e){return"destroyer"==e.type||"cruiser"==e.type||"carrier"==e.type||"dreadnaught"==e.type||"flagship"==e.type||"warsun"==e.type?1:0}),(function(n){var i=n.sector,s=n.planet_idx,o=n.unit_idx,c=n.unit,u=e.returnSectorAndPlanets(i);-1==s?e.addMove("destroy_unit\t"+e.game.player+"\t"+e.game.player+"\tspace\t"+i+"\t"+s+"\t"+o+"\t1"):e.addMove("destroy_unit\t"+e.game.player+"\t"+e.game.player+"\tground\t"+i+"\t"+s+"\t"+o+"\t1"),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" destroys a "+c.name+" in "+u.s.name),a(e,t,r)}))}))}}if("against"===t)for(var i=0;i<e.game.players_info.length;i++)e.game.players_info[i].must_exhaust_at_round_start.push("planet","planet")},onPass:function(e,t){e.game.state.anti_intellectual_revolution=1;var r={agenda:"anti-intellectual-revolution"};r.option=t,e.game.state.laws.push(r),this.initialize(e,t)}}),this.importAgendaCard("unconventional-measures",{name:"Unconventional Measures",type:"Directive",text:"FOR: each player that votes 'for' draws 2 action cards. AGAINST: each player that votes 'for' discards their action cards.",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if("for"===t)for(var r=0;r<e.game.players_info.length;r++)e.game.state.choices[e.game.state.how_voted_on_agenda[r]]==t&&(e.game.queue.push("gain\t2\t"+(r+2)+"\taction_cards\t2"),e.game.queue.push("DEAL\t2\t"+(r+1)+"\t2"),e.game.queue.push("NOTIFY\tdealing two action cards to player "+(r+1)));if("against"===t)for(var n=0;n<e.game.players_info.length;n++)console.log("uncon plyr: "+n),console.log(" how voted: "+e.game.state.choices[e.game.state.how_voted_on_agenda[n]]),"for"==e.game.state.choices[e.game.state.how_voted_on_agenda[n]]&&(e.game.player==n+1?(alert("clearing out my action cards!"),e.game.players_info[n].action_cards_in_hand=0,e.game.deck[1].hand=[]):(alert("clearing out my action cards!"),e.game.players_info[n].action_cards_in_hand=0))}}),this.importAgendaCard("seeds-of-an-empire",{name:"Seeds of an Empire",type:"Directive",text:"FOR: the player(s) with the most VP gain a VP. AGAINST: the players with the least VP gain a VP",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){var r=e.returnInitiativeOrder();if(console.log("seeds of the empire: "+t),"for"===t){for(var n=0,a=0;a<r.length;a++)n<e.game.players_info[r[a]-1].vp&&(n=e.game.players_info[r[a]-1].vp),e.game.state.seeds_of_an_empire=r[a];for(var i=0;i<r.length;i++)if(n==e.game.players_info[r[i]-1].vp&&(e.game.players_info[r[i]-1].vp+=1,e.game.queue.push("NOTIFY\t"+e.returnFaction(r[i])+" gains 1 VP from Seeds of an Empire"),e.game.state.seeds_of_an_empire=r[i],e.checkForVictory()))return 0}if("against"===t){for(var s=1e4,o=0;o<r.length;o++)s>e.game.players_info[r[o]-1].vp&&(s=e.game.players_info[r[o]-1].vp);for(var c=0;c<r.length;c++)if(s==e.game.players_info[r[c]-1].vp&&(e.game.players_info[r[c]-1].vp+=1,e.game.queue.push("NOTIFY\t"+e.returnFaction(r[c]+1)+" gains 1 VP from Seeds of an Empire"),e.game.state.seeds_of_an_empire=r[c],e.checkForVictory()))return 0}return e.updateLeaderboard(),1}}),this.importAgendaCard("space-cadet",{name:"Space Cadet",type:"Law",text:"Any player more than 3 VP behind the lead must henceforth be referred to as an Irrelevant Loser",returnAgendaOptions:function(e){return["for","against"]},initialize:function(e,t){null==e.space_cadet_initialized&&(e.space_cadet_initialized=1,1==e.game.state.space_cadet&&(e.returnFactionNamePreSpaceCadet=e.returnFactionName,e.returnFactionName=function(e,t){for(var r=0,n=0;n<e.game.players_info.length;n++)r<e.game.players_info[n].vp&&(r=e.game.players_info[n].vp);return e.game.players_info[t-1].vp<=r-3?"Irrelevant Loser":e.returnFactionNamePreSpaceCadet(e,t)},e.returnFactionNameNicknamePreSpaceCadet=e.returnFactionNameNickname,e.returnFactionNameNickname=function(e,t){for(var r=0,n=0;n<e.game.players_info.length;n++)r<e.game.players_info[n].vp&&(r=e.game.players_info[n].vp);return e.game.players_info[t-1].vp<=r-3?"Loser":e.returnFactionNameNicknamePreSpaceCadet(e,t)}))},onPass:function(e,t){if("for"==t){e.game.state.space_cadet=1;var r={agenda:"space-cadet"};r.option=t,e.game.state.laws.push(r),this.initialize(e)}},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"space-cadet"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);return e.game.state.space_cadet=0,e.returnFactionName=e.returnFactionNamePreSpaceCadet,1}}),this.importAgendaCard("galactic-threat",{name:"Galactic Threat",type:"Law",text:"Elect a player. They must henceforth be referred to as the Galatic Threat",returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.players_info.length;r++)t.push(e.returnFaction(r+1));return t},initialize:function(e,t){null==e.galactic_threat_initialized&&(e.galactic_threat_initialized=1,1==e.game.state.galactic_threat&&(e.returnFactionNamePreGalacticThreat=e.returnFactionName,e.returnFactionName=function(e,t){return e.game.state.galactic_threat_player==t?"The Galactic Threat":e.returnFactionNamePreGalacticThreat(e,t)},e.returnFactionNameNicknamePreGalacticThreat=e.returnFactionNameNickname,e.returnFactionNameNickname=function(e,t){return e.game.state.galactic_threat_player==t?"Threat":e.returnFactionNameNicknamePreGalacticThreat(e,t)}))},onPass:function(e,t){e.game.state.galactic_threat=1;for(var r=0;r<e.game.players_info.length;r++)t===e.returnFaction(r+1)&&(e.game.state.galactic_threat_player=r+1);var n={agenda:"galactic-threat"};n.option=t,e.game.state.laws.push(n),this.initialize(e)},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"galactic-threat"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);return e.game.state.galactic_threat=0,e.game.state.galactic_threat_initialized=0,e.returnFactionNamePreGalacticThreat&&(e.returnFactionName=e.returnFactionNamePreGalacticThreat),1}}),this.importAgendaCard("committee-formation",{name:"Committee Formation",type:"Law",elect:"player",text:"Elect a player. They may form a committee to vote on which player is elected in a future agenda",returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.players_info.length;r++)t.push(e.returnFaction(r+1));return t},preAgendaStageTriggers:function(e,t,r){return 1==e.game.state.committee_formation&&e.game.state.committee_formation_player==t&&"player"==e.agenda_cards[r].elect?1:0},preAgendaStageEvent:function(e,t,r){if(t!=e.game.player){var n=e.returnFaction(e.game.player)+" is deciding whether to Form a Committee";return e.updateStatus(n),0}return'<li class="textchoice" id="yes">assemble the committee</li>','<li class="textchoice" id="no">not this time</li>',"</ul>",e.updateStatus('Do you wish to use Committee Formation to select the winner yourself? <ul><li class="textchoice" id="yes">assemble the committee</li><li class="textchoice" id="no">not this time</li></ul>'),$(".textchoice").off(),$(".textchoice").on("click",(function(){"no"==$(this).attr("id")&&e.endTurn();for(var r=0;r<e.game.players_info.length;r++)r!=e.game.player-1&&e.addMove("rider\t"+t+"\tassassinate-representative\t-1");e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" forms a committee..."),e.endTurn()})),0},onPass:function(e,t){e.game.state.committee_formation=1;for(var r=0;r<e.game.players_info.length;r++)t===e.returnFaction(r+1)&&(e.game.state.committee_formation_player=r+1);var n={agenda:"committee-formation"};n.option=t,console.log("pushing onto law: "+JSON.stringify(n)),e.game.state.laws.push(n)},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"committee_formation"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);return e.game.state.committee_formation=0,e.game.state.committee_formation_player=-1,1}}),this.importAgendaCard("minister-of-policy",{name:"Minister of Policy",type:"Law",elect:"player",text:"Elect a player. They draw an extra action card at the start of each round",returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.players_info.length;r++)t.push(e.returnFaction(r+1));return t},onPass:function(e,t){e.game.state.minister_of_policy=1,e.game.state.minister_of_policy_player=t;for(var r=0;r<e.game.players_info.length;r++)t===e.returnFaction(r+1)&&(e.game.state.minister_of_policy_player=r+1);e.game.players_info[e.game.state.minister_of_policy_player-1].action_cards_bonus_when_issued++;var n={agenda:"minister-of-policy"};n.option=t,e.game.state.laws.push(n)},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"minister-of-policy"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);return e.game.state.minister_of_policy=0,e.game.players_info[e.game.state.minister_of_policy_player-1].action_cards_bonus_when_issued--,e.game.state.minister_of_policy_player=-1,1}}),this.importAgendaCard("executive-sanctions",{name:"Executive Sanctions",type:"Law",text:"Players may have a maximum of 3 action cards in their hands at all times",returnAgendaOptions:function(e){return["support","oppose"]},onPass:function(e,t){if("support"==this.returnAgendaOptions(e)[t])for(var r=0;r<e.game.players_info.length;r++)e.game.players_info[r].action_card_limit=3;var n={agenda:"executive-sanctions"};return n.option=t,e.game.state.laws.push(n),1},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"executive-sanctions"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);for(var r=0;r<e.game.players_info.length;r++)3==e.game.players_info[r].action_card_limit&&(e.game.players_info[r].action_card_limit=7);return 1}}),this.importAgendaCard("fleet-limitations",{name:"Fleet Limitations",type:"Law",text:"Players may have a maximum of four tokens in their fleet supply.",img:"/imperium/img/agenda_card_template.png",returnAgendaOptions:function(e){return["support","oppose"]},onPass:function(e,t){if("support"==this.returnAgendaOptions(e)[t])for(var r=0;r<e.game.players_info.length;r++)e.game.players_info[r].fleet_supply_limit=4,e.game.players_info[r].fleet_supply>=4&&(e.game.players_info[r].fleet_supply=4);return 1},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"fleet-limitations"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);for(var r=0;r<e.game.players_info.length;r++)e.game.players_info[r].fleet_supply_limit=16;return 1}}),this.importAgendaCard("restricted-conscription",{name:"Restricted Conscription",type:"Law",text:"Production cost for infantry and fighters is 1 rather than 0.5 resources",img:"/imperium/img/agenda_card_template.png",returnAgendaOptions:function(e){return["support","oppose"]},onPass:function(e,t){"support"==this.returnAgendaOptions(e)[t]&&(e.units.infantry.cost=1,e.units.fighter.cost=1);var r={agenda:"restricted-conscription"};return r.option=t,e.game.state.laws.push(r),1},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"restricted-conscription"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);return e.units.infantry.cost=.5,e.units.fighter.cost=.5,1}}),this.importAgendaCard("wormhole-travel-ban",{name:"Wormhole Travel Ban",type:"Law",text:"All wormholes are closed.",img:"/imperium/img/agenda_card_template.png",returnAgendaOptions:function(e){return["support","oppose"]},onPass:function(e,t){"support"==this.returnAgendaOptions(e)[t]&&(e.game.state.wormholes_open=0);var r={agenda:"wormhole-travel-ban"};return r.option=t,e.game.state.laws.push(r),1},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"wormhole-travel-ban"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);return e.game.state.wormholes_open=1,1}}),this.importAgendaCard("archived-secret",{name:"Archived Secret",type:"Directive",text:"Elected Player draws one secret objective",returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.players_info.length;r++)t.push(e.returnFaction(r+1));return t},onPass:function(e,t){e.game.state.archived_secret=1;for(var r=0;r<e.game.players_info.length;r++)t===e.returnFaction(r+1)&&(e.game.state.archived_secret_player=r+1);return e.game.queue.push("gain\t"+e.game.state.archived_secret_player+"\tsecret_objectives\t1"),e.game.queue.push("DEAL\t6\t"+e.game.state.archived_secret_player+"\t1"),1}}),this.importAgendaCard("economic-equality",{name:"Economic Equality",type:"Directive",text:"FOR: all players discard all trade goods, AGAINST: players lose all trade goods and then gain 5 trade goods. ",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if(e.game.state.economic_equality=1,"for"===t){for(var r=0;r<e.game.players_info.length;r++)e.game.players_info[r].goods=0;e.updateLog("All players have 0 trade goods")}if("against"===t){for(var n=0;n<e.game.players_info.length;n++)e.game.players_info[n].goods=5;e.updateLog("All players have 5 trade goods")}return e.displayFactionDashboard(),1}}),this.importAgendaCard("mutiny",{name:"Mutiny",type:"Directive",text:"FOR: all who vote FOR gain 1 VP, AGAINST: all players who vote FOR lose 1 VP",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if(e.game.state.mutiny=1,"for"===t)for(var r=0;r<e.game.players_info.length;r++)"for"==e.game.state.choices[e.game.state.how_voted_on_agenda[r]]&&(e.game.players_info[r].vp++,e.updateLog(e.returnFaction(r+1)+" gains 1 VP from Mutiny"));if("against"===t)for(var n=0;n<e.game.players_info.length;n++)"for"===e.game.state.choices[e.game.state.how_voted_on_agenda[n]]&&(e.game.players_info[n].vp--,e.updateLog(e.returnFaction(n+1)+" loses 1 VP from Mutiny"));return e.updateLeaderboard(),1}}),this.importAgendaCard("conventions-of-war",{name:"Conventions of War",type:"Law",text:"FOR: cultural planets are exempt from bombardment, AGAINST: players who vote against discard all action cards",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if(e.game.state.conventions_of_war=1,"for"===t)for(var r=0;r<e.game.players_info.length;r++)"against"==e.game.state.choices[e.game.state.how_voted_on_agenda[r]]&&(e.game.players_info[r].action_cards_in_hand=0,e.game.player==r+1&&(e.game.deck[1].hand=[]));"against"===t&&(e.game.state.bombardment_against_cultural_planets=0);var n={agenda:"conventions-of-war"};return n.option=t,e.game.state.laws.push(n),1},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"conventions-of-war"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);return e.game.state.bombardment_against_cultural_planets=1,1}}),this.importAgendaCard("swords-to-ploughshares",{name:"Swords to Ploughshares",type:"Directive",text:"FOR: everyone destroys half their infantry (round up) on every planet, AGAINST: everyone gains 1 infantry each planet",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if(e.game.state.swords_to_ploughshares=1,"against"===t)for(var r in e.game.planets)-1!=e.game.planets[r].owner&&e.game.planets[r].units[e.game.planets[r].owner-1].push(e.returnUnit("infantry",e.game.planets[r].owner));if("for"===t)for(var n=0;n<e.game.players_info.length;n++){var a=0;for(var i in e.game.planets)if(e.game.planets[i].owner==n+1){for(var s=0,o=0;o<e.game.planets[i].units[n].length;o++)"infantry"==e.game.planets[i].units[n][o].type&&(1==s?(s=0,a++):s=1);for(var c=0,u=0;u<a&&c<e.game.planets[i].units[n].length;c++)"infantry"==e.game.planets[i].units[n][c].type&&(e.game.planets[i].units[n].splice(c,1),c--,u++)}1==a?e.updateLog(e.returnFaction(n+1)+" gains "+a+" trade good"):e.updateLog(e.returnFaction(n+1)+" gains "+a+" trade goods")}return 1}}),this.importAgendaCard("wormhole-research",{name:"Wormhole Research",type:"Directive",text:"FOR: all ships in sectors with alpha and beta wormholes are destroyed, their owners research 1 technology, AGAINST: everyone who voted against loses a command token",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){e.game.state.wormhole_research=1;var r=[];if("for"===t){for(var n in e.game.sectors)if(0!=e.game.sectors[n].wormhole)for(var a=0;a<e.game.sectors[n].units.length;a++)e.game.sectors[n].units[a].length>0&&(e.game.sectors[n].units[a]=[],r.includes(a+1)||r.push(a+1));r.sort();for(var i=0;i<r.length;i++)e.game.queue.push("research\t"+r[i])}if("against"===t){for(var s=0;s<e.game.players_info.length;s++)"against"==e.game.state.choices[e.game.state.how_voted_on_agenda[s]]&&(e.game.players_info[s].command_tokens--,e.game.players_info[s].command_tokens<=0&&(e.game.players_info[s].command_tokens=0));e.updateTokenDisplay()}return 1}}),this.importAgendaCard("new-constitution",{name:"New Constitution",type:"Directive",text:"FOR: remove all laws in play and exhaust all homeworld at the start of the next round",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){e.game.state.new_constitution=1;for(var r=e.game.state.laws.length-1;r>0;r--){var n=e.game.state.laws[r].agenda;e.agenda_cards[n].repealAgenda(e)}if("for"===t){e.game.state.laws=[];for(var a=0;a<e.game.players_info.length;a++)e.game.players_info[a].must_exhaust_at_round_start.push("homeworld")}return 1}}),this.importAgendaCard("shared-research",{name:"Shared Research",type:"Directive",text:"FOR: each player activates their home system, AGAINST: units can move through nebulas",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){e.game.state.shared_research=1;if("for"===t)for(var r=0;r<e.game.players_info.length;r++)e.game.queue.push("activate\t"+(r+1)+"\t"+e.returnPlayerHomeworld(r+1));return"against"===t&&(e.game.players_info[i].fly_through_nebulas=1),1}}),this.importAgendaCard("wormhole-reconstruction",{name:"Wormhole Reconstruction",type:"Directive",text:"FOR: alpha and beta wormholes connect to each other, AGAINST:  each player activates all systems with alpha and beta wormholes",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if(e.game.state.wormhole_reconstruction=1,"for"===t&&(e.game.state.wormholes_adjacent=1),"against"===t)for(var r in e.game.sectors)if(1==e.game.sectors[r].wormhole||2==e.game.sectors[r].wormhole){for(var n=0;n<e.game.players_info.length;n++)e.game.sectors[r].activated[n]=1;e.returnSectorAndPlanets(r).s&&e.updateSectorGraphics(r)}return 1}}),this.importAgendaCard("crown-of-emphidia",{name:"Crown of Emphidia",type:"Law",elect:"player",text:"Elect a Player to earn 1 VP. When this player loses a homeworld to another player, they lose 1 VP and their opponent gains 1 VP",returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.players_info.length;r++)t.push(e.returnFaction(r+1));return t},onPass:function(e,t){e.game.state.crown_of_emphidia=1;for(var r=0;r<e.game.players_info.length;r++)t===e.returnFaction(r+1)&&(e.game.state.crown_of_emphidia_player=r+1);var n={agenda:"crown-of-emphidia"};n.option=t,e.game.state.laws.push(n),e.game.players_info[e.game.state.crown_of_emphidia_player-1].vp+=1,e.updateLeaderboard(),e.updateLog(e.returnFaction(e.game.state.crown_of_emphidia_player)+" gains 1 VP from Crown of Emphidia")},repealAgenda:function(e){for(var t=0;t<e.game.state.laws.length;t++)"crown-of-emphidia"===e.game.state.laws[t].agenda&&(e.game.state.laws[t].option,e.game.state.laws.splice(t,1),t--);return e.game.state.crown_of_emphidia=-1,e.game.state.crown_of_emphidia_player=-1,1},groundCombatRoundEnd:function(e,t,r,n,a){return r==e.game.state.crown_of_emphidia_player&&(e.doesPlayerHaveInfantryOnPlanet(r,n,a)||e.doesPlayerHaveInfantryOnPlanet(t,n,a)&&(e.updateLog(e.returnFaction(e.game.state.crown_of_emphidia_player)+" loses the Crown of Emphidia (-1VP)"),e.game.state.crown_of_emphidia_player=t,e.updateLog(e.returnFaction(e.game.state.crown_of_emphidia_player)+" gains the Crown of Emphidia (+1VP)"),e.game.players_info[t-1].vp+=1,e.game.players_info[r-1].vp-=1,e.updateLeaderboard())),1}}),this.importAgendaCard("terraforming-initiative",{name:"Terraforming Initiative",type:"Law",elect:"planet",text:"Elect a hazardous planet. The resource and influence values of this planet are increased by 1 point each",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"hazardous"===e.type?1:0}))},onPass:function(e,t){e.game.state.terraforming_initiative=1,e.game.state.terraforming_initiative_planet=t;var r={agenda:"terraforming-initiative"};return r.option=t,e.game.state.laws.push(r),e.game.planets[t].resources++,e.game.planets[t].influence++,e.updateLog(e.game.planets[t].name+" increases resource and influence through terraforming"),1},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"terraforming-initiative"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return e.game.state.terraforming_initiative=-1,t&&e.game.planets[t]&&(e.game.planets[t].resources--,e.game.planets[t].influence--),e.game.state.terraforming_initiative_planet=-1,1}}),this.importAgendaCard("senate-sanctuary",{name:"Senate Sanctuary",type:"Law",elect:"planet",text:"Elect a cultural planet. The influence value of this planet is increased by 2 points",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"cultural"===e.type?1:0}))},repealAgenda:function(e){for(var t=null,r=0;r<e.game.state.laws.length;r++)"senate-sanctuary"===e.game.state.laws[r].agenda&&(t=e.game.state.laws[r].option,e.game.state.laws.splice(r,1),r--);return t&&e.game.planets[t]&&(e.game.planets[t].influence-=2),e.game.state.senate_sanctuary=0,e.game.state.senate_sanctuary_planet=-1,1},onPass:function(e,t){e.game.state.senate_sanctuary=1,e.game.state.senate_sanctuary_planet=t;var r={agenda:"senate-sanctuary"};return r.option=t,e.game.state.laws.push(r),e.game.planets[t].influence+=2,e.updateLog(e.game.planets[t].name+" increases influence value by 2"),1}}),this.importAgendaCard("publicize-weapons-schematics",{name:"Publicize Weapons Schematics",type:"Directive",text:"FOR: all players now have War Suns technology, AGAINST: all players with War Suns technology discard all action cards",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if(e.game.state.publicize_weapons_schematics=1,"for"===t)for(var r=0;r<e.game.players_info.length;r++)e.doesPlayerHaveTech(r+1,"warsun")||e.game.queue.push("purchase\t"+(r+1)+"\ttech\twarsun");if("against"===t)for(var n=0;n<e.game.players_info.length;n++)e.doesPlayerHaveTech(n+1,"warsun")&&(e.game.players_info[n].action_cards_in_hand=0,e.game.player==n+1&&(e.game.deck[1].hand=[]),e.updateLog(e.returnFaction(n+1)+" discards all Action Cards"));return 1}}),this.importAgendaCard("incentive-program",{name:"Incentive Program",type:"Directive",text:"FOR: reveal a 1 VP public objective, AGAINST: reveal a 2 VP public objective",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if(e.game.state.incentive_program=1,"for"===t){e.game.queue.push("revealobjectives");for(var r=1;r<=e.game.players_info.length;r++)e.game.queue.push("FLIPCARD\t4\t1\t2\t"+r)}if("against"===t){e.game.queue.push("revealobjectives");for(var n=1;n<=e.game.players_info.length;n++)e.game.queue.push("FLIPCARD\t5\t1\t3\t"+n)}return 1}}),this.importAgendaCard("colonial-redistribution",{name:"Colonial Redistribution",type:"Directive",elect:"planet",text:"Elect a cultural, industrial or hazardous planet. Destroy all units on the planet. Planet owner chooses a player with the fewest VP to gain control of the planet and gain 1 infantry on it. If no-one controls that planet, the Speaker chooses the recipient.",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return"cultural"===e.type||"industrial"===e.type||"hazardous"===e.type?1:0}))},onPass:function(e,t){return e.game.state.colonial_redistribution=1,e.game.state.colonial_redistribution_planet=t,e.game.queue.push("colonial_redistribution\t"+t),e.game.state.laws.push({agenda:"colonial-redistribution",option:t}),0},handleGameLoop:function(e,t,r){if("colonial_redistribution"==r[0]){var n=r[1];e.game.queue.splice(t,1);var a=e.game.planets[n].owner,i=e.game.planets[n].idx,s=e.game.planets[n].sector;return-1==a&&(a=e.game.state.speaker),e.game.planets[n].units[a]=[],e.game.player==a&&e.playerSelectPlayerWithFilter("Select a player to receive 1 infantry and this planet",(function(t){for(var r=0,n=t.vp,a=0;a<e.game.players_info.length;a++)e.game.players_info[a]<n&&(r=1);return 1==r?0:1}),(function(t){return e.updateStatus(""),e.addMove("produce\t"+t+"\t1\t"+i+"\tinfantry\t"+s),e.addMove("annex\t"+t+"\t"+s+"\t"+i),e.addMove("NOTIFY\t"+e.returnFaction(t)+" gains the contested planet"),e.endTurn(),0})),0}return 1}}),this.importAgendaCard("compensated-disarmament",{name:"Compensated Disarmament",type:"Directive",elect:"planet",text:"Destroy all ground forces on planet. For each infantry destroyed planet owner gains 1 trade good",returnAgendaOptions:function(e){return e.returnPlanetsOnBoard((function(e){return 1}))},onPass:function(e,t){e.game.state.compensated_disarmament=1,e.game.state.compensated_disarmament_planet=t,console.log("planet is: "+t);var r=e.game.planets[t],n=parseInt(r.owner),a=0;if(-1==n)return 1;for(var i=r.units[n-1].length,s=0;s<i;s++){"infantry"==r.units[n-1][s].type&&(a++,r.units[n-1].splice(s,1),s--,i=r.units[n-1].length)}return a>0&&e.game.queue.push("purchase\t"+n+"\tgoods\t"+a),e.updateSectorGraphics(r.sector),1}}),this.importAgendaCard("judicial-abolishment",{name:"Judicial Abolishment",type:"Directive",elect:"law",text:"Discard a law if one is in play",returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.state.laws.length;r++)t.push(e.agenda_cards[e.game.state.laws[r].agenda].name);return t},onPass:function(e,t){e.game.state.judicial_abolishment=1,e.game.state.judicial_abolishment_law=t;for(var r=null,n=0;n<e.game.state.laws.length;n++)t===e.agenda_cards[e.game.state.laws[n].agenda].name&&(e.agenda_cards[e.game.state.laws[n].agenda].repealAgenda(e),r=e.game.state.laws[n].agenda,n=e.game.state.laws.length+2);return r&&e.updateLog(e.agenda_cards[r].name+" abolished"),1}}),this.importAgendaCard("public-execution",{name:"Public Execution",type:"Directive",elect:"player",text:"Elect a player. They discard all their action cards, lose the speaker token to the next player in initiative order (if they have it) and lose all of their votes.",returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.players_info.length;r++)t.push(e.returnFaction(r+1));return t},onPass:function(e,t){var r=e.returnInitiativeOrder();e.game.state.public_execution=1;for(var n=0;n<e.game.players_info.length;n++)t===e.returnFaction(n+1)&&(e.game.state.public_execution_player=n+1);if(e.game.players_info[e.game.state.public_execution_player-1].action_cards_in_hand=0,e.game.player==e.game.state.public_execution_player&&(e.game.deck[1].hand=[]),e.game.state.public_execution_player==e.game.state.speaker){e.game.state.speaker=r[0];for(var a=0;a<r.length-1;a++)r[a]==e.game.state.public_execution_player&&(e.game.state.speaker=r[a+1])}return e.game.state.votes_available[e.game.state.public_execution_player-1]=0,e.updateLog(e.returnFaction(e.game.state.public_execution_player)+" representative publicly executed"),e.displayFactionDashboard(),1}}),this.importAgendaCard("ixthian-artifact",{name:"Ixthian Artifact",type:"Directive",text:"FOR: roll a die. On rolls of 5 and under destroy all units on New Byzantium and 3 units in each adjacent system. On all other rolls each player researches 2 technologies",returnAgendaOptions:function(e){return["for","against"]},onPass:function(e,t){if("for"==t){var r=e.rollDice(10);if(e.updateLog("Ixthian Artifact rolls "+r),r<=5){for(var n=0;n<e.game.players_info.length;n++)e.game.planets["new-byzantium"].units[n]=[],e.game.sectors["new-byzantium"].units[n]=[];for(var a=e.returnAdjacentSectors("new-byzantium"),i=0;i<a.length;i++)for(var s=0;s<e.game.players_info.length;s++)e.doesSectorContainPlayerUnits(s+1,a[i])&&e.game.queue.push("destroy_units\t"+(s+1)+"\t3\t"+a[i]+"\t0")}if(r>=6){for(var o=0;o<e.game.players_info.length;o++)e.game.queue.push("research\t"+(o+1)),e.game.queue.push("research\t"+(o+1));e.game.queue.push("ACKNOWLEDGE\tThe Ixthian Artifact did not explode. All players may now research two technologies...")}}return 1}})},function(e,t){this.importFaction("faction2",{id:"faction2",name:"Universities of Jol Nar",nickname:"Jol Nar",homeworld:"sector50",space_units:["carrier","carrier","dreadnaught","fighter"],ground_units:["infantry","infantry","pds","spacedock"],tech:["pds-ii","sarween-tools","neural-motivator","plasma-scoring","antimass-deflectors","faction2-analytic","faction2-brilliant","faction2-fragile","faction2-flagship"],background:"faction2.jpg",promissary_notes:["trade","political","ceasefire","throne"],intro:'<div style="font-weight:bold">Welcome to Red Imperium!</div><div style="margin-top:10px;margin-bottom:15px;">You are playing as the Universities of Jol Nar, a physically weak faction which excells at science and technology. Survive long enough to amass enough protective technology and you can be a contender for the Imperial Throne. Good luck!</div>'}),this.importTech("faction2-flagship",{name:"XXCha Flagship",faction:"faction2",type:"ability",text:"Extra hit on every roll of 9 or 10 before modifications",modifyUnitHits:function(e,t,r,n,a,i,s,o){return e.doesPlayerHaveTech(n,"faction2-flagship")&&i.owner==n&&"flagship"==i.type&&s>8?(e.updateLog("Jol Nar flagship scores an additional hit through flagshup ability"),++o):o}}),this.importTech("faction2-analytic",{name:"Analytic",faction:"faction2",type:"ability",text:"Ignore 1 tech prerequisite on non-unit upgrades",onNewRound:function(e,t){e.doesPlayerHaveTech(t,"faction2-analytic")&&(e.game.players_info[t-1].permanent_ignore_number_of_tech_prerequisites_on_nonunit_upgrade=1)}}),this.importTech("faction2-fragile",{name:"Fragile",faction:"faction2",type:"ability",text:"-1 on all combat rolls",onNewRound:function(e,t){e.doesPlayerHaveTech(t,"faction2-fragile")&&(e.game.players_info[t-1].permanent_ignore_number_of_tech_prerequisites_on_nonunit_upgrade=1)},modifyCombatRoll:function(e,t,r,n,a,i){return"space"!=a&&"ground"!=a||e.doesPlayerHaveTech(t,"faction2-fragile")&&(e.updateLog("Jol Nar combat rolls -1 due to fragility"),(i-=1)<1&&(i=1)),i}}),this.importTech("faction2-brilliant",{name:"Brilliant",faction:"faction2",type:"ability",text:"Tech primary is played when token spent to execute secondary",initialize:function(e,t){null==e.faction2_brilliant_swapped&&(e.faction2_brilliant_swapped=1,e.brilliant_original_event=e.strategy_cards.technology.strategySecondaryEvent,e.strategy_cards.technology.strategySecondaryEvent=function(e,t,r){e.doesPlayerHaveTech(t,"faction2-brilliant")&&t!=r&&e.game.player==t?(e.game.players_info[t-1].cost_of_technology_secondary=6,e.playerAcknowledgeNotice("The Tech strategy card has been played. You may expend a strategy token to research a technology. You can then purchase a second for 6 resources:",(function(){e.updateStatus('<p>Technology has been played. Do you wish to spend a strategy token to research a technology? </p><ul><li class="option" id="yes">Yes</li><li class="option" id="no">No</li></ul>'),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){if(e.unlockInterface(),"no"===$(this).attr("id"))return e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn(),0;e.playerResearchTechnology((function(r){e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.addMove("purchase\t"+t+"\ttechnology\t"+r),e.game.players_info[e.game.player-1].tech.push(r);var n=6,a="<p>Do you wish to spend 6 resources to research a second technology? </p><ul>";1!=e.game.players_info[t-1].permanent_research_technology_card_must_not_spend_resources&&1!=e.game.players_info[t-1].temporary_research_technology_card_must_not_spend_resources||(a="<p>Do you wish to research a second technology for free?",n=0),e.returnAvailableResources(e.game.player)>=n&&(a+='<li class="option" id="yes">Yes</li>'),a+='<li class="option" id="no">No</li>',a+="</ul>",e.updateStatus(a),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface();var r=$(this).attr("id");return"yes"===r&&(e.game.players_info[t-1].temporary_research_technology_card_must_not_spend_resources=0,e.playerSelectResources(n,(function(r){if(1!=r)return e.endTurn(),0;e.playerResearchTechnology((function(r){e.addMove("purchase\t"+t+"\ttechnology\t"+r),e.endTurn()}))}))),"no"===r?(e.endTurn(),0):void 0}salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}))}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}))):e.brilliant_original_event(e,t,r)})}}),this.importTech("faction2-eres-siphons",{name:"E-Res Siphons",faction:"faction2",type:"special",color:"yellow",prereqs:["yellow","yellow"],text:"Gain 4 trade goods whenever a system is activated containing your ships",initialize:function(e,t){null==e.game.players_info[t-1].eres_siphons&&(e.game.players_info[t-1].eres_siphons=0)},gainTechnology:function(e,t,r){"faction2-eres-siphons"==r&&(e.game.players_info[t-1].eres_siphons=1)},activateSystemTriggers:function(e,t,r,n){return 1==e.game.players_info[r-1].eres_siphons&&t!=r&&1==e.doesSectorContainPlayerShips(r,n)?1:0},postSystemActivation:function(e,t,r,n){e.game.players_info[r-1].goods+=4}}),this.importTech("faction2-deep-space-conduits",{name:"Deep Space Conduits",faction:"faction2",type:"special",color:"blue",prereqs:["blue","blue"],text:"Activate card to make activated system 1 hop away from all other systems with Jol Nar ships",initialize:function(e,t){null==e.game.players_info[t-1].deep_space_conduits&&(e.game.players_info[t-1].deep_space_conduits=0,e.game.players_info[t-1].deep_space_conduits_exhausted=0)},onNewRound:function(e,t){1==e.game.players_info[t-1].deep_space_conduits&&(e.game.players_info[t-1].deep_space_conduits_exhausted=0)},gainTechnology:function(e,t,r){"faction2-deep-space-conduits"==r&&(e.game.players_info[t-1].deep_space_conduits=1,e.game.players_info[t-1].deep_space_conduits_exhausted=0)},activateSystemTriggers:function(e,t,r,n){return r==e.game.player&&t==r&&1==e.game.players_info[t-1].deep_space_conduits&&0==e.game.players_info[t-1].deep_space_conduits_exhausted&&e.doesSectorContainPlayerUnits(t,n)?1:0},activateSystemEvent:function(e,t,r,n){e.updateStatus('Do you wish to activate Deep Space Conduits: <ul><li class="textchoice" id="yes">activate</li><li class="textchoice" id="no">skip</li></ul>'),$(".textchoice").off(),$(".textchoice").on("click",(function(){var a=$(this).attr("id");if("yes"==a){var i=e.returnSectorsWithPlayerUnits(t);e.game.players_info[t-1].deep_space_conduits_exhausted=1,e.addMove("setvar\tplayers\t"+r+"\tdeep_space_conduits_exhausted\tint\t1");for(var s=0;s<i.length;s++)e.addMove("adjacency\ttemporary\t"+i[s]+"\t"+n);e.endTurn()}"no"==a&&(e.updateStatus(),e.endTurn())}))}})},function(e,t){this.importFaction("faction7",{id:"faction7",name:"Embers of Muaat",nickname:"Muaat",homeworld:"sector76",space_units:["warsun","fighter","fighter"],ground_units:["infantry","infantry","infantry","infantry","spacedock"],tech:["plasma-scoring","faction7-star-forge","faction7-gashlai-physiology","faction7-advanced-warsun-i","faction7-flagship"],background:"faction7.jpg",promissary_notes:["trade","political","ceasefire","throne"],intro:'<div style="font-weight:bold">Welcome to Red Imperium!</div><div style="margin-top:10px;margin-bottom:15px;">You are playing as the Embers of Muaat, a faction which forges its instruments of war in the heat of lava-powered furnaces and whose technical research expands to conquering the heat of the very starts themselves. Goodl luck!</div>'}),this.importTech("faction7-star-forge",{name:"Star Forge",faction:"faction7",type:"ability",text:"Spend 1 strategy token to place 2 fighters or a destroy in sector with your warsun",initialize:function(e,t){null==e.game.players_info[t-1].star_forge&&(e.game.players_info[t-1].star_forge=0)},gainTechnology:function(e,t,r){"faction7-star-forge"==r&&(e.game.players_info[t-1].star_forge=1)},menuOption:function(e,t,r){var n={};return"main"===t&&(n.event="starforge",n.html='<li class="option" id="starforge">star forge</li>'),n},menuOptionTriggers:function(e,t,r){return e.doesPlayerHaveTech(r,"faction7-star-forge")&&"main"===t&&e.game.players_info[r-1].strategy_tokens>0?1:0},menuOptionActivated:function(e,t,r){return e.game.player==r?(e.playerSelectSectorWithFilter("Star Forge spends 1 strategy token to drop 2 fighters or 1 destroyer in a sector containing your War Sun: ",(function(t){return e.doesSectorContainPlayerUnit(e.game.player,t,"warsun")}),(function(t){return e.addMove("produce\t"+e.game.player+"\t1\t-1\tdestroyer\t"+t),e.addMove("NOTIFY\tStar Forge adds destroyer to "+t),e.addMove("expend\t"+e.game.player+"\tstrategy\t1"),e.endTurn(),0}),(function(){e.playerTurn()})),0):0}}),this.importTech("faction7-gashlai-physiology",{name:"Gashlai Physiology",faction:"faction7",type:"ability",text:"Player may move through supernovas",initialize:function(e,t){null==e.game.players_info[t-1].gashlai_physiology&&(e.game.players_info[t-1].gashlai_physiology=0)},gainTechnology:function(e,t,r){"faction7-gashlai-physiology"==r&&(e.game.players_info[t-1].gashlai_physiology=1,e.game.players_info[t-1].fly_through_supernovas=1)}}),this.importTech("faction7-magmus-reactor",{name:"Magmus Reactor",faction:"faction7",type:"special",color:"red",prereqs:["red","red"],text:"Player may move into supernovas. Gain 1 trade good producing with Warsun or adjacent to Supernova",initialize:function(e,t){null==e.game.players_info[t-1].magmus_reactor&&(e.game.players_info[t-1].magmus_reactor=0)},gainTechnology:function(e,t,r){"faction7-magmus-reactor"==r&&(e.game.players_info[t-1].magmus_reactor=1,e.game.players_info[t-1].move_into_supernovas=1)},postProduction:function(e,t,r,n){if(1==e.game.players_info[t-1].magmus_reactor){var a=e.returnAdjacentSectors(r),i=0;if(e.doesSectorContainPlayerUnit(t,r,"warsun")&&(i=1),0==i)for(var s=0;s<a.length;s++){4==e.returnSectorAndPlanets(a[s]).s.type&&(i=1)}1==i&&(e.updateLog("Muatt gains 1 trade good from Magmus Reactor - producing in a sector with a Warsun or adjacent to a Supernova"),e.game.players_info[t-1].goods+=1,e.updateTokenDisplay(),e.displayFactionDashboard())}}}),this.importTech("faction7-flagship",{name:"Muaat Flagship",faction:"faction7",type:"ability",text:"May spend 1 strategy token to place a cruiser in your flagship system"}),this.importTech("faction7-advanced-warsun-i",{name:"Advanced Warsun I",faction:"faction7",replaces:"warsun",unit:1,type:"special",text:"A more dangerous and mobile warsun",prereqs:[],initialize:function(e,t){null==e.game.players_info[t-1].faction7_advanced_warsun_i&&(e.game.players_info[t-1].faction7_advanced_warsun_i=0)},gainTechnology:function(e,t,r){e.game.players_info[t-1].faction7_advanced_warsun_i=1,e.game.players_info[t-1].may_produce_warsuns=1},upgradeUnit:function(e,t,r){return 1==e.game.players_info[r.owner-1].faction7_advanced_warsun_i&&"warsun"==r.type&&(r.cost=12,r.combat=3,r.move=1,r.capacity=6,r.bombardment_rolls=3,r.bombardment_combat=3),r}}),this.importTech("faction7-advanced-warsun-ii",{name:"Advanced Warsun II",faction:"faction7",replaces:"warsun",unit:1,type:"special",text:"A more dangerous and mobile warsun",prereqs:["red","red","red","yellow"],initialize:function(e,t){null==e.game.players_info[t-1].faction7_advanced_warsun_ii&&(e.game.players_info[t-1].faction7_advanced_warsun_ii=0)},gainTechnology:function(e,t,r){e.game.players_info[t-1].faction7_advanced_warsun_ii=1},upgradeUnit:function(e,t,r){return 1==e.game.players_info[r.owner-1].faction7_advanced_warsun_ii&&"warsun"==r.type&&(r.cost=10,r.combat=3,r.move=3,r.capacity=6,r.bombardment_rolls=3,r.bombardment_combat=3),r}})},function(e,t){this.importFaction("faction4",{id:"faction4",name:"Sardakk N'Orr",nickname:"Sardakk",homeworld:"sector53",space_units:["carrier","carrier","cruiser"],ground_units:["infantry","infantry","infantry","infantry","infantry","spacedock"],tech:["faction4-unrelenting","faction4-exotrireme-i","faction4-flagship"],background:"faction4.jpg",promissary_notes:["trade","political","ceasefire","throne"],intro:'<div style="font-weight:bold">Welcome to Red Imperium!</div><div style="margin-top:10px;margin-bottom:15px;">You are playing as the Sardaak N\'Orr, an overpowered faction known for its raw strength in combat. Your brutal power makes you an intimidating faction on the board. Good luck!</div>'}),this.importTech("faction4-unrelenting",{name:"Unrelenting",faction:"faction4",type:"ability",text:"+1 on all combat rolls",onNewRound:function(e,t){e.doesPlayerHaveTech(t,"faction4-unrelenting")&&(e.game.players_info[t-1].faction4_unrelenting=1)},modifyCombatRoll:function(e,t,r,n,a,i){return"space"!=a&&"ground"!=a||e.doesPlayerHaveTech(t,"faction4-unrelenting")&&(e.updateLog("Sardakk combat rolls +1 due to Sardakk"),(i+=1)>10&&(i=10)),i}}),this.importTech("faction4-flagship",{name:"Sardakk Flagship",faction:"faction4",type:"ability",text:"+1 on all combat rolls for ships in same sector",modifyCombatRoll:function(e,t,r,n,a,i){if("space"==a){e.doesSectorContainPlayerUnit(t,e.game.state.activated_sector,"flagship")&&(e.updateLog("Sardakk Flagship adds +1 to dice roll"),(i+=1)>10&&(i=10))}return i}}),this.importTech("faction4-exotrireme-i",{name:"Exotrireme I",faction:"faction4",replaces:"dreadnaught",unit:1,type:"special",text:"A more powerful dreadnaught",prereqs:[],initialize:function(e,t){null==e.game.players_info[t-1].faction4_advanced_dreadnaught_i&&(e.game.players_info[t-1].faction4_advanced_dreadnaught_i=0)},gainTechnology:function(e,t,r){e.game.players_info[t-1].faction4_advanced_dreadnaught_i=1},upgradeUnit:function(e,t,r){return 1==e.game.players_info[r.owner-1].faction4_advanced_dreadnaught_i&&"dreadnaught"==r.type&&(r.cost=4,r.combat=5,r.move=1,r.capacity=1,r.strength=2,r.bombardment_rolls=2,r.bombardment_combat=4,r.description="The Exotrireme I is a more powerful dreadnaught not vulnerable to Direct Hit cards"),r}}),this.importTech("faction4-exotrireme-ii",{name:"Exotrireme II",faction:"faction4",replaces:"dreadnaught",unit:1,type:"special",prereqs:["blue","blue","yellow"],text:"A much more powerful dreadnaught",initialize:function(e,t){null==e.game.players_info[t-1].faction4_advanced_dreadnaught_ii&&(e.game.players_info[t-1].faction4_advanced_dreadnaught_ii=0)},gainTechnology:function(e,t,r){e.game.players_info[t-1].faction4_advanced_dreadnaught_ii=1,e.game.players_info[t-1].faction4_advanced_dreadnaught_i=0},upgradeUnit:function(e,t,r){return 1==e.game.players_info[r.owner-1].faction4_advanced_dreadnaught_ii&&"dreadnaught"==r.type&&(r.cost=4,r.combat=5,r.move=2,r.capacity=1,r.strength=2,r.bombardment_rolls=2,r.bombardment_combat=4,r.description="The Exotrireme II is a more powerful dreadnaught not vulnerable to Direct Hit cards. It may be destroyed after a round of space combat to destroy up to two opponent ships."),r},spaceCombatRoundEnd:function(e,t,r,n){return e.game.player==t?(e.doesPlayerHaveTech(t,"faction4-exotrireme-ii")&&e.doesSectorContainPlayerUnit(t,n,"dreadnaught")&&e.addMove("faction4_exotrireme_ii_sacrifice\t"+t+"\t"+n),e.doesPlayerHaveTech(r,"faction4-exotrireme-ii")&&e.doesSectorContainPlayerUnit(r,n,"dreadnaught")&&e.addMove("faction4_exotrireme_ii_sacrifice\t"+r+"\t"+n),1):0},handleGameLoop:function(e,t,r){if("faction4_exotrireme_ii_sacrifice"==r[0]){var n=parseInt(r[1]),a=e.returnSectorAndPlanets(r[2]),i=e.returnOpponentInSector(n,r[2]);if(n==e.game.player){if(-1==i)return e.addMove("resolve\tfaction4_exotrireme_ii_sacrifice"),e.addMove("NOTIFY\tNo target ships for Sardakk Exotrireme II faction ability"),e.endTurn(),0;for(var s=0,o=0;o<a.s.units[i-1].length;o++)a.s.units[i-1][o].strength>0&&(s=1);if(0==s)return e.addMove("resolve\tfaction4_exotrireme_ii_sacrifice"),e.addMove("NOTIFY\tNo target ships for Sardakk Exotrireme II action ability"),e.endTurn(),0;html='<div class="sf-readable">Do you wish to sacrifice a Dreadnaught to destroy up to 2 opponent ships?</div><ul>';for(var c=0;c<a.s.units[e.game.player-1].length;c++)"dreadnaught"==a.s.units[e.game.player-1][c].type&&(html+='<li class="option" id="'.concat(c,'">sacrifice ').concat(e.returnShipInformation(a.s.units[e.game.player-1][c]),"</li>"));html+='<li class="option" id="no">do not sacrifice</li>',html+="</ul>",e.updateStatus(html),$(".option").on("click",(function(){var t=$(this).attr("id");return"no"===t?(e.addMove("resolve\tfaction4_exotrireme_ii_sacrifice"),e.endTurn(),0):(e.addMove("resolve\tfaction4_exotrireme_ii_sacrifice"),e.addMove("faction4_exotrireme_ii_picktwo\t"+e.game.player+"\t"+r[2]),e.addMove("NOTIFY\tSardakk sacrifies Exotritreme II to destroy opponent ships"),e.addMove("destroy_unit\t"+e.game.player+"\t"+e.game.player+"\tspace\t"+r[2]+"\t0\t"+t+"\t1"),e.endTurn(),0)}))}return 0}if("faction4_exotrireme_ii_picktwo"==r[0]){var u=parseInt(r[1]);e.returnSectorAndPlanets(r[2]);return u==e.game.player?(e.addMove("resolve\tfaction4_exotrireme_ii_picktwo"),e.playerDestroyOpponentShips(u,2,r[2])):e.updateStatus("Exotrireme II engaging in suicide assault"),0}}}),this.importTech("faction4-particle-weave",{name:"Particle Weave",faction:"faction4",type:"special",prereqs:["red","red"],text:"Infantry vaporize 1 opponent for each hit received",initialize:function(e,t){null==e.game.players_info[t-1].faction4_particle_weave&&(e.game.players_info[t-1].faction4_particle_weave=0,e.game.players_info[t-1].faction4_particle_weave_opponent=0,e.game.players_info[t-1].faction4_particle_weave_my_forces=0)},gainTechnology:function(e,t,r){"faction4-particle-weave"==r&&(e.game.players_info[t-1].faction4_particle_weave=1)},groundCombatTriggers:function(e,t,r,n){if(e.doesPlayerHaveTech(t,"faction4-particle-weave")){var a=e.returnSectorAndPlanets(r).p[n];e.game.players_info[t-1].faction4_particle_weave_my_forces=a.units[t-1].length}return 0},groundCombatRoundEnd:function(e,t,r,n,a){if(e.doesPlayerHaveTech(t,"faction4-particle-weave")){var i=e.returnSectorAndPlanets(n),s=i.p[a];if(s.units[t-1].length<e.game.players_info[t-1].faction4_particle_weave_my_forces){e.updateLog("Sardakk Particle Weave vaporizes 1 opponent infantry...");for(var o=0;o<s.units[r-1].length;o++)"infantry"==s.units[r-1][o].type&&(s.units[r-1].splice(o,1),o=s.units[r-1].length+1)}e.saveSystemAndPlanets(i)}if(e.doesPlayerHaveTech(r,"faction4-particle-weave")){var c=e.returnSectorAndPlanets(n),u=c.p[a];if(u.units[r-1].length<e.game.players_info[r-1].faction4_particle_weave_my_forces){e.updateLog("Sardakk Particle Weave vaporizes 1 opponent infantry...");for(var l=0;l<u.units[t-1].length;l++)"infantry"==u.units[t-1][l].type&&(u.units[t-1].splice(l,1),l=u.units[t-1].length+1)}e.saveSystemAndPlanets(c)}return 1}})},function(e,t){this.importFaction("faction1",{id:"faction1",name:"Federation of Sol",nickname:"Sol",homeworld:"sector52",space_units:["carrier","carrier","destroyer","fighter","fighter","fighter"],ground_units:["infantry","infantry","infantry","infantry","infantry","spacedock"],tech:["neural-motivator","antimass-deflectors","faction1-orbital-drop","faction1-versatile","faction1-flagship"],background:"faction1.jpg",promissary_notes:["trade","political","ceasefire","throne"],intro:'<div style="font-weight:bold">Welcome to Red Imperium!</div><div style="margin-top:10px;margin-bottom:15px;">You are playing as the Sol Federation. a Terran faction under cellular military government. Your reinforced infantry and tactical flexibility will be important in your fight for the Imperial Throne. Good luck!</div>'}),this.importTech("faction1-flagship",{name:"Sol Flagship",faction:"faction1",text:"Flagship gains 1 infantry when player selects a strategy card",type:"ability",playersChooseStrategyCardsBeforeTriggers:function(e,t){return e.doesPlayerHaveTech(t,"faction1-flagship")&&e.returnPlayerFleet(t).flagship>0?1:0},playersChooseStrategyCardsBeforeEvent:function(e,t){for(var r in e.game.sectors)if(e.doesSectorContainPlayerUnit(t,r,"flagship"))for(var n=e.game.sectors[r],a=0;a<n.units[t-1].length;a++)if("flagship"==n.units[t-1][a].type)return e.loadUnitOntoShip(t,r,a,"infantry"),e.updateLog("Faction Ability: infantry added to Sol Flagship..."),1;return 1}}),this.importTech("faction1-orbital-drop",{name:"Orbital Drop",faction:"faction1",type:"ability",text:"Drop two infantry onto any controlled planet",initialize:function(e,t){null==e.game.players_info[t-1].orbital_drop&&(e.game.players_info[t-1].orbital_drop=0)},gainTechnology:function(e,t,r){"faction1-orbital-drop"==r&&(e.game.players_info[t-1].orbital_drop=1)},menuOption:function(e,t,r){var n={};return"main"===t&&(n.event="orbitaldrop",n.html='<li class="option" id="orbitaldrop">orbital drop</li>'),n},menuOptionTriggers:function(e,t,r){return e.doesPlayerHaveTech(r,"faction1-orbital-drop")&&"main"===t&&e.game.players_info[r-1].strategy_tokens>0&&0==e.game.state.active_player_moved?1:0},menuOptionActivated:function(e,t,r){if(e.game.player==r)return e.playerSelectPlanetWithFilter("Use Orbital Drop to reinforce which planet with two infantry: ",(function(t){return e.game.planets[t].owner==e.game.player?1:0}),(function(t){return t=e.game.planets[t],e.addMove("resolve\tplay"),e.addMove("setvar\tstate\t0\tactive_player_moved\tint\t0"),e.addMove("player_end_turn\t"+e.game.player),e.addMove("produce\t"+e.game.player+"\t1\t"+t.idx+"\tinfantry\t"+t.sector),e.addMove("produce\t"+e.game.player+"\t1\t"+t.idx+"\tinfantry\t"+t.sector),e.addMove("expend\t"+e.game.player+"\tstrategy\t1"),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" orbital drops 2 infantry onto "+t.name),e.endTurn(),0}),null),0}}),this.importTech("faction1-versatile",{name:"Versatile",faction:"faction1",type:"ability",text:"Gain an extra command token each round",onNewRound:function(e,t){e.doesPlayerHaveTech(t,"faction1-versatile")&&(e.game.players_info[t-1].new_tokens_per_round=3)}}),this.importTech("faction1-advanced-carrier-ii",{name:"Advanced Carrier II",faction:"faction1",replaces:"carrier-ii",unit:1,type:"special",text:"A more sophisticated carrier",prereqs:["blue","blue"],initialize:function(e,t){null==e.game.players_info[t-1].faction1_advanced_carrier_ii&&(e.game.players_info[t-1].faction1_advanced_carrier_ii=0)},gainTechnology:function(e,t,r){e.game.players_info[t-1].faction1_advanced_carrier_ii=1},upgradeUnit:function(e,t,r){return 1==e.game.players_info[r.owner-1].faction1_advanced_carrier_ii&&"carrier"==r.type&&(r.cost=3,r.combat=9,r.move=2,r.capacity=8),r}}),this.importTech("faction1-advanced-infantry-ii",{name:"Special Ops II",faction:"faction1",replaces:"infantry-ii",unit:1,type:"special",text:"Battle-hardened infantry",prereqs:["green","green"],initialize:function(e,t){e.game.players_info[t-1].faction1_advanced_infantry_ii=0},gainTechnology:function(e,t,r){e.game.players_info[t-1].faction1_advanced_infantry_ii=1},upgradeUnit:function(e,t,r){return 1==e.game.players_info[r.owner-1].faction1_advanced_infantry_ii&&"infantry"==r.type&&(r.cost=.5,r.combat=6),r}})},function(e,t){this.importFaction("faction3",{id:"faction3",name:"XXCha Kingdom",nickname:"XXCha",homeworld:"sector51",space_units:["carrier","cruiser","cruiser","fighter","fighter","fighter"],ground_units:["infantry","infantry","infantry","infantry","pds","spacedock"],tech:["graviton-laser-system","faction3-peace-accords","faction3-quash","faction3-flagship"],background:"faction3.jpg",promissary_notes:["trade","political","ceasefire","throne"],intro:'<div style="font-weight:bold">Welcome to Red Imperium!</div><div style="margin-top:10px;margin-bottom:15px;">You are playing as the XXCha Kingdom, a faction which excels in diplomacy and defensive weaponry. With the proper alliances and political maneuvers your faction you can be a contender for the Imperial Throne. Good luck!</div>'}),this.importTech("faction3-flagship",{name:"XXCha Flagship",faction:"faction3",type:"ability",text:"3 space cannons which target adjacent systems attached to flagship",returnPDSUnitsWithinRange:function(e,t,r,n,a,i){if(!e.doesPlayerHaveTech(t,"faction3-flagship"))return i;if(e.returnPlayerFleet(t).flagship>0)for(var s=e.returnAdjacentSectors(a),o=0;o<s.length;o++)if(e.doesSectorContainPlayerUnit(t,s[o],"flagship")){var c={name:"XXCha Flagship #1"};c.unit=JSON.parse(JSON.stringify(e.returnUnit("pds",t))),c.unit.name="Flagship",c.range=1,c.combat=6,c.owner=t,c.sector=a;var u={name:"XXCha Flagship #2"};u.unit=JSON.parse(JSON.stringify(e.returnUnit("pds",t))),u.unit.name="Flagship",u.range=1,u.combat=6,u.owner=t,u.sector=a;var l={name:"XXCha Flagship #3"};return l.unit=JSON.parse(JSON.stringify(e.returnUnit("pds",t))),l.unit.name="Flagship",l.range=1,l.combat=6,l.owner=t,l.sector=a,i.push(c),i.push(u),i.push(l),i}return i}}),this.importTech("faction3-peace-accords",{name:"Peace Accords",faction:"faction3",type:"ability",text:"Colonize adjacent unprotected planet when diplomacy secondary is played",initialize:function(e,t){null==e.game.players_info[t-1].peace_accords&&(e.game.players_info[t-1].peace_accords=0)},gainTechnology:function(e,t,r){"faction3-peace-accords"==r&&(e.game.players_info[t-1].peace_accords=1)},strategyCardAfterTriggers:function(e,t,r,n){return 1==e.game.players_info[t-1].peace_accords?1:0},strategyCardAfterEvent:function(e,t,r,n){if("diplomacy"==n){for(var a=e.returnPlayerPlanetCards(t),i=[],s=[],o=[],c=0;c<a.length;c++)i.includes(e.game.planets[a[c]].sector)||(i.push(e.game.planets[a[c]].sector),s.push(e.game.planets[a[c]].sector));for(var u=0;u<i.length;u++)for(var l=e.returnAdjacentSectors(i[u]),d=0;d<l.length;d++)s.includes(l[d])||s.push(l[d]);for(var h=0;h<s.length;h++){var p=e.returnSectorAndPlanets(s[h]);if(p.p)for(var f=0;f<p.p.length;f++){p.p[f].owner!=t&&(e.doesPlanetHaveInfantry(p.p[f])||o.push(p.p[f].planet))}}return o.length<0?(e.updateLog("XXCha cannot annex any unguarded planets via Peace Accords"),1):1==e.game.players_info[t-1].peace_accords?(e.updateStatus("XXCha selecting planet to annex with Peace Accords"),e.game.player==t&&e.playerSelectPlanetWithFilter("Select a planet to annex via Peace Accords: ",(function(e){return o.includes(e)?1:0}),(function(t){return e.addMove("annex\t"+e.game.player+"\t"+e.game.planets[t].sector+"\t"+e.game.planets[t].idx),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" annexes "+e.game.planets[t].name+" via Peace Accords"),e.endTurn(),0}),(function(){return e.endTurn(),0})),0):1}return 1}}),this.importTech("faction3-quash",{name:"Quash",faction:"faction3",type:"ability",text:"Spend strategy token to quash upcoming agenda",initialize:function(e,t){null==e.game.players_info[t-1].quash&&(e.game.players_info[t-1].quash=0)},gainTechnology:function(e,t,r){"faction3-quash"==r&&(e.game.players_info[t-1].quash=1)},menuOption:function(e,t,r){var n={};return"main"===t&&(n.event="quash",n.html='<li class="option" id="quash">quash agenda</li>'),n},menuOptionTriggers:function(e,t,r){return e.doesPlayerHaveTech(r,"faction3-quash")&&"main"==t&&e.game.players_info[r-1].strategy_tokens>0&&0==e.game.state.active_player_moved?1:0},menuOptionActivated:function(e,t,r){if(e.game.player==r){var n="";for(n+="Select one agenda to quash in the Galactic Senate.<ul>",i=0;i<e.game.state.agendas.length;i++)""!=e.game.state.agendas[i]&&(n+='<li class="option" id="'+e.game.state.agendas[i]+'">'+e.agenda_cards[e.game.state.agendas[i]].name+"</li>");n+="</ul>",e.updateStatus(n),$(".option").off(),$(".option").on("mouseenter",(function(){var t=$(this).attr("id");e.showAgendaCard(t)})),$(".option").on("mouseleave",(function(){var t=$(this).attr("id");e.hideAgendaCard(t)})),$(".option").on("click",(function(){var t=$(this).attr("id");e.updateStatus("Quashing Agenda"),e.addMove("expend\t"+e.game.player+"\tstrategy\t1"),e.addMove("quash\t"+t+"\t1"),e.endTurn()}))}}}),this.importTech("faction3-instinct-training",{name:"Instinct Training",faction:"faction3",prereqs:["green"],color:"green",type:"special",text:"Expend strategy token to cancel opponent action card",initialize:function(e,t){null==e.game.players_info[t-1].instinct_training&&(e.game.players_info[t-1].instinct_training=0)},gainTechnology:function(e,t,r){"faction3-instinct-training"==r&&(e.game.players_info[t-1].instinct_training=1)},playActionCardTriggers:function(e,t,r,n){return 1==e.game.players_info[t-1].instinct_training&&e.game.players_info[t-1].strategy_tokens>0?1:0},playActionCardEvent:function(e,t,r,n){if(e.game.player==t){'<li class="textchoice" id="yes">yes</li>','<li class="textchoice" id="no">no</li>',"</ul>",e.updateStatus('<div class=\'sf-readable\'>Do you wish to spend a strategy token to cancel opponent action card with Instinct Training?</div><ul><li class="textchoice" id="yes">yes</li><li class="textchoice" id="no">no</li></ul>'),$(".textchoice").off(),$(".textchoice").on("click",(function(){"no"===$(this).attr("id")||(e.addMove("resolve\taction_card"),e.addMove("resolve\taction_card_post"),e.addMove("expend\t"+e.game.player+"strategy1")),e.endTurn()}))}return 0}}),this.importTech("faction3-field-nullification",{name:"Nullification Fields",faction:"faction3",type:"special",color:"yellow",prereqs:["yellow","yellow"],text:"Terminate the turn of active player who activates a system containing your ship",initialize:function(e,t){null==e.game.players_info[t-1].field_nullification&&(e.game.players_info[t-1].field_nullification=0,e.game.players_info[t-1].field_nullification_exhausted=0)},onNewRound:function(e,t){e.doesPlayerHaveTech(t,"faction3-field-nullification")&&(e.game.players_info[t-1].field_nullification_exhausted=0)},gainTechnology:function(e,t,r){"faction3-field-nullification"==r&&(e.game.players_info[t-1].field_nullification=1,e.game.players_info[t-1].field_nullification_exhausted=0)},activateSystemTriggers:function(e,t,r,n){return e.doesPlayerHaveTech(r,"faction3-field-nullification")&&e.doesSectorContainPlayerShips(r,n)&&t!=r?1:0},activateSystemEvent:function(e,t,r,n){if(e.doesPlayerHaveTech(r,"faction3-field-nullification")){if(1==e.game.players_info[r-1].field_nullification_exhausted)return 1;if(e.game.player!=r)return e.updateStatus(e.returnFaction(r)+" is deciding whether to use Nullification Fields"),0;return'<li class="textchoice" id="yes">activate nullification field</li>','<li class="textchoice" id="no">do not activate</li>',"</ul>",e.updateStatus('Do you wish to use Field Nullification to terminate this player\'s turn? <ul><li class="textchoice" id="yes">activate nullification field</li><li class="textchoice" id="no">do not activate</li></ul>'),$(".textchoice").off(),$(".textchoice").on("click",(function(){var a=$(this).attr("id");"yes"==a&&(e.addMove("resolve\tplay"),e.addMove("setvar\tstate\t0\tactive_player_moved\tint\t0"),e.addMove("player_end_turn\t"+e.game.player),e.addMove("field_nullification\t"+r+"\t"+t+"\t"+n),e.endTurn()),"no"==a&&e.endTurn()})),0}return 1},handleGameLoop:function(e,t,r){if("field_nullification"==r[0]){var n=parseInt(r[1]),a=parseInt(r[2]);r[3];return e.game.queue.splice(t,1),e.updateLog(e.returnFactionNickname(n)+" uses Nullification Fields to end "+e.returnFactionNickname(a)+" turn"),1}return 1}})},function(e,t){this.importFaction("faction5",{id:"faction5",name:"Yin Brotherhood",nickname:"Yin",homeworld:"sector74",space_units:["carrier","carrier","destroyer","fighter","fighter","fighter","fighter"],ground_units:["infantry","infantry","infantry","infantry","spacedock"],tech:["sarween-tools","faction5-indoctrination","faction5-devotion","faction5-flagship"],background:"faction5.jpg",promissary_notes:["trade","political","ceasefire","throne"],intro:'<div style="font-weight:bold">Welcome to Red Imperium!</div><div style="margin-top:10px;margin-bottom:15px;">You are playing as the Yin Brotherhood, a monastic order of religious zealots whose eagerness to sacrifice their lives for the collective good makes them terrifying in one-on-one combat. Direct their self-destructive passion and you can win the Imperial Throne. Good luck!</div>'}),this.importTech("faction5-indoctrination",{name:"Indoctrination",faction:"faction5",type:"ability",text:"Spend 2 influence to convert 1 enemy infantry at combat start",groundCombatTriggers:function(e,t,r,n){if(e.doesPlayerHaveTech(t,"faction5-indoctrination")&&(e.returnSectorAndPlanets(r).p[n].units[t-1].length>0&&e.returnAvailableInfluence(t)>=2&&e.game.state.ground_combat_round<2))return 1;return 0},groundCombatEvent:function(e,t,r,n){if(e.game.player==t)return e.returnSectorAndPlanets(r).p[n].units[t-1].length>0?e.playIndoctrination(e,t,r,n,(function(e){e.endTurn()})):e.endTurn(),0}}),this.importTech("faction5-devotion",{name:"Devotion",faction:"faction5",type:"ability",text:"Sacrifice destroyer or cruiser to assign 1 enemy hit at combat end",spaceCombatTriggers:function(e,t,r){return e.doesPlayerHaveTech(t,"faction5-devotion")&&e.doesPlayerHaveShipsInSector(t,r)&&e.game.state.space_combat_round>0?1:0},spaceCombatEvent:function(e,t,r){return e.game.player==t&&e.playDevotion(e,t,r,(function(){e.endTurn()})),0}}),this.importTech("faction5-impulse-core",{name:"Impulse Core",faction:"faction5",prereqs:["yellow","yellow"],color:"yellow",type:"special",text:"Sacrifice destroyer or cruiser at combat start, opponent takes hit on capital ship",spaceCombatTriggers:function(e,t,r){return e.doesPlayerHaveTech(t,"faction5-impulse-core")&&e.doesPlayerHaveShipsInSector(t,r)&&0==e.game.state.space_combat_round?1:0},spaceCombatEvent:function(e,t,r){return e.game.player==t&&e.playDevotion(e,t,r,(function(){e.endTurn()}),1),0}}),this.importTech("faction5-yin-spinner",{name:"Yin Spinner",faction:"faction5",prereqs:["green","green"],color:"green",type:"special",text:"Place additional infantry on planet after producing in sector",initialize:function(e,t){null==e.game.players_info[t-1].faction5_yin_spinner&&(e.game.players_info[t-1].faction5_yin_spinner=0)},gainTechnology:function(e,t,r){"faction5-yin-spinner"==r&&(e.game.players_info[t-1].faction5_yin_spinner=1)},playerEndTurnTriggers:function(e,t){return 1==e.game.players_info[t-1].faction5_yin_spinner&&e.game.player==t&&1==e.game.state.active_player_has_produced?1:0},playerEndTurnEvent:function(e,t){if(e.game.player!=t)return 0;e.playerSelectPlanetWithFilter("Yin Spinner Tech: place additional infantry on which planet?",(function(t){return(t=e.game.planets[t]).owner==e.game.player?1:0}),(function(t){return t=e.game.planets[t],e.addMove("produce\t"+e.game.player+"\t1\t"+t.idx+"\tinfantry\t"+t.sectors),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" spins extra infantry on "+t.name),e.endTurn(),0}),(function(){e.playerTurn()}))}}),this.importTech("faction5-flagship",{name:"Yin Flagship",faction:"faction5",type:"ability",text:"Wipes out all ships in sector when destroyed",unitDestroyed:function(e,t,r){if("flagship"==r.type&&e.doesPlayerHaveTech(r.owner,"faction5-flagship")){var n=e.game.state.activated_sector;""===n&&(n=e.game.state.space_combat_sector);var a=e.returnSectorAndPlanets(n);if(a){for(var i=0;i<a.s.units.length;i++)a.s.units[i]=[];for(var s=0;s<a.p.length;s++)for(var o=0;o<a.p[s].units.length;o++)a.p[s].units[o]=[];e.saveSystemAndPlanets(n),e.updateSectorGraphics(n),e.updateLog("The destruction of the Yin Flagship has caused a terrible calamity...")}}return r}}),this.playIndoctrination=function(e,t,r,n,a){if(this.game.player==t&&this.game.player==t){var i=e.returnSectorAndPlanets(r),s=i.p[n],o=e.returnOpponentOnPlanet(t,s);if(e.returnNonPlayerInfantryOnPlanet(t,s)<=0||-1==o)a(e);else if(i.p[n].units[o-1].length<=0)a(e);else{'<li class="textchoice" id="yes">yes</li>','<li class="textchoice" id="no">no</li>',"</ul>",this.updateStatus('<div class=\'sf-readable\'>Do you wish to spend 2 influence to convert 1 enemy infantry to your side?</div><ul><li class="textchoice" id="yes">yes</li><li class="textchoice" id="no">no</li></ul>'),$(".textchoice").off(),$(".textchoice").on("click",(function(){var i=$(this).attr("id");"no"!==i?"yes"===i&&e.playerSelectInfluence(2,(function(i){1==i?(e.addMove("destroy_infantry_on_planet\t"+t+"\t"+r+"\t"+n+"\t1"),e.addMove("add_infantry_to_planet\t"+t+"\t"+s.planet+"\t1"),e.addMove("NOTIFY\tYin Indoctrination converts opposing infantry"),e.endTurn()):a(e)})):a(e)}))}}},this.playDevotion=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(e.game.player!=t)return 0;var i=e.returnSectorAndPlanets(r),s=e.returnOpponentInSector(t,r),o=e.doesSectorContainPlayerUnit(t,r,"destroyer"),c=e.doesSectorContainPlayerUnit(t,r,"cruiser");if(1==o||1==c){if(-1!=s){var u="<div class='sf-readable'>Do you wish to sacrifice a Destroyer or Cruiser to assign 1 hit to an enemy ship?</div><ul>";return o&&(u+='<li class="textchoice" id="destroyer">sacrifice destroyer</li>'),c&&(u+='<li class="textchoice" id="cruiser">sacrifice cruiser</li>'),u+='<li class="textchoice" id="no">no</li>',u+="</ul>",e.updateStatus(u),$(".textchoice").off(),$(".textchoice").on("click",(function(){var s=$(this).attr("id");if("no"!==s){if("destroyer"===s){for(var o=0,c=0;c<i.s.units[t-1].length;c++)"destroyer"==i.s.units[t-1][c].type&&(o=c);return e.addMove("destroy_unit\t"+t+"\t"+t+"\tspace\t"+r+"\t0\t"+o+"\t1"),void e.playDevotionAssignHit(e,t,r,n,a)}if("cruiser"===s){for(var u=0,l=0;l<i.s.units[t-1].length;l++)"cruiser"==i.s.units[t-1][l].type&&(u=l);return e.addMove("destroy_unit\t"+t+"\t"+t+"\tspace\t"+r+"\t0\t"+u+"\t1"),void e.playDevotionAssignHit(e,t,r,n,a)}}else n(e)})),0}n(e)}else n(e)},this.playDevotionAssignHit=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=e.returnSectorAndPlanets(r),s=e.returnOpponentInSector(t,r);if(1==a)return this.addMove("assign_hits_capital_ship\t"+s+"\t"+r+"\t1"),void n();for(var o="<div class='sf-readable'>Assign 1 hit to which opponent ship?</div><ul>",c=0;c<i.s.units[s-1].length;c++){var u=i.s.units[s-1][c];if(o+='<li class="textchoice" id="'+c+'">'+u.name,u.capacity>=1){for(var l="",d=0,h=0,p=0;p<u.storage.length;p++)"infantry"==u.storage[p].type&&h++,"fighter"==i.s.units[e.game.player-1][c].storage[p].type&&d++;(h>0||d>0)&&(l+=" ",h>0&&(l+=h+"i"),d>0&&(h>0&&(l+=", "),l+=d+"f"),l+=" "),o+=l}o+="</li>"}o+="</ul>",e.updateStatus(o),$(".textchoice").off(),$(".textchoice").on("click",(function(){$(".textchoice").off();var a=$(this).attr("id");e.addMove("assign_hit\t"+t+"\t"+s+"\t"+t+"\tship\t"+r+"\t"+a+"\t1"),n(e)}))}},function(e,t){this.importFaction("faction6",{id:"faction6",name:"Yssaril Tribes",nickname:"Yssaril",homeworld:"sector75",space_units:["carrier","carrier","cruiser","fighter","fighter"],ground_units:["infantry","infantry","infantry","infantry","infantry","pds","spacedock"],tech:["neural-motivator","faction6-stall-tactics","faction6-scheming","faction6-crafty","faction6-flagship"],background:"faction6.jpg",promissary_notes:["trade","political","ceasefire","throne"],intro:'<div style="font-weight:bold">Welcome to Red Imperium!</div><div style="margin-top:10px;margin-bottom:15px;">You are playing as the Yssaril Tribe, a primitive race of swamp-dwelling creatures whose fast instincts and almost unerring ability to change tactics on-the-fly lead many to suspect more is at work than their primitive appearance belies. Good luck!</div>'}),this.importTech("faction6-stall-tactics",{name:"Stall Tactics",faction:"faction6",type:"ability",text:"Discard an Action Card to stall one turn",initialize:function(e,t){null==e.game.players_info[t-1].stall_tactics&&(e.game.players_info[t-1].stall_tactics=0)},gainTechnology:function(e,t,r){"faction6-stall-tactics"==r&&(e.game.players_info[t-1].stall_tactics=1)},menuOption:function(e,t,r){var n={};return"main"===t&&(n.event="stalltactics",n.html='<li class="option" id="stalltactics">discard action card (stall)</li>'),n},menuOptionTriggers:function(e,t,r){if(e.doesPlayerHaveTech(r,"faction6-stall-tactics")&&"main"===t&&e.returnPlayerActionCards(r).length>0)return 1;return 0},menuOptionActivated:function(e,t,r){return e.game.player==r&&e.playerDiscardActionCards(1,(function(){return e.addMove("resolve\tplay"),e.addMove("setvar\tstate\t0\tactive_player_moved\tint\t0"),e.addMove("player_end_turn\t"+e.game.player),e.addMove("NOTIFY\t"+e.returnFactionNickname(e.game.player)+" stalls by discarding an action card"),e.endTurn(),0})),0}}),this.importTech("faction6-crafty",{name:"Crafty",faction:"faction6",type:"ability",text:"Unlimited action cards. Game effects cannot change.",onNewRound:function(e,t){e.doesPlayerHaveTech(t,"faction6-crafty")&&(e.game.players_info[t-1].action_card_limit=1e3)}}),this.importTech("faction6-scheming",{name:"Scheming",faction:"faction6",type:"ability",text:"Receive bonus card when gaining action cards, then discard one",initialize:function(e,t){null==e.game.players_info[t-1].faction6_scheming&&(e.game.players_info[t-1].faction6_scheming=0)},gainTechnology:function(e,t,r){"faction6-scheming"==r&&(e.game.players_info[t-1].faction6_scheming=1)},gainActionCards:function(e,t,r){return e.doesPlayerHaveTech(t,"faction6-scheming")&&(e.game.queue.push("yssaril_action_card_discard\t"+t+"\t1"),e.game.queue.push("gain\t"+t+"\taction_cards\t1\t0"),e.game.queue.push("DEAL\t2\t"+t+"\t1"),e.game.queue.push("NOTIFY\t"+e.returnFaction(t)+" gains bonus action card and must discard one")),1},handleGameLoop:function(e,t,r){if("yssaril_action_card_discard"==r[0]){var n=parseInt(r[1]),a=parseInt(r[2]);return e.game.queue.splice(t,1),e.game.player===n&&e.playerDiscardActionCards(a,(function(){e.endTurn()})),0}return 1}}),this.importTech("faction6-transparasteel-plating",{name:"Transparasteel Plating",faction:"faction6",prereqs:["green"],color:"green",type:"special",text:"Selectively terminate action cards from players who have passed on your turn",initialize:function(e,t){null==e.game.players_info[t-1].transparasteel_plating&&(e.game.players_info[t-1].transparasteel_plating=0)},gainTechnology:function(e,t,r){"faction6-transparasteel-plating"==r&&(e.game.players_info[t-1].transparasteel_plating=1)},playActionCardTriggers:function(e,t,r,n){return 1==e.game.players_info[t-1].transparasteel_plating&&e.game.player==t&&r!=t&&1==e.game.players_info[r-1].passed?1:0},playActionCardEvent:function(e,t,r,n){return e.game.player==t&&(e.addMove("resolve\taction_card"),e.addMove("resolve\taction_card_post"),e.addMove("expend\t"+e.game.player+"strategy1"),e.endTurn()),0}}),this.importTech("faction6-mageon-implants",{name:"Mageon Implants",faction:"faction6",prereqs:["green","green","green"],color:"green",type:"special",text:"Exhaust to look at other players action cards and take one.",initialize:function(e,t){null==e.game.players_info[t-1].mageon_implants&&(e.game.players_info[t-1].mageon_implants=0,e.game.players_info[t-1].mageon_implants_exhausted=0)},onNewRound:function(e,t){1==e.game.players_info[t-1].mageon_implants&&(e.game.players_info[t-1].mageon_implants=1,e.game.players_info[t-1].mageon_implants_exhausted=0)},gainTechnology:function(e,t,r){"faction6-mageon-implants"==r&&(e.game.players_info[t-1].mageon_implants=1,e.game.players_info[t-1].mageon_implants_exhausted=0)},menuOption:function(e,t,r){return"main"==t?{event:"mageonimplants",html:'<li class="option" id="mageonimplants">exhaust mageon implants</li>'}:{}},menuOptionTriggers:function(e,t,r){return"main"==t&&0==e.game.players_info[r-1].mageon_implants_exhausted&&1==e.game.players_info[r-1].mageon_implants?1:0},menuOptionActivated:function(e,t,r){return e.playerSelectPlayerWithFilter("Select a player from which to take an action card (if possible): ",(function(t){return t!=e.game.player?1:0}),(function(t){return e.addMove("faction6_choose_card_triggered\t"+e.game.player+"\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" pulls a random action card from "+e.returnFaction(t)),e.endTurn(),0}),(function(){e.playerTurn()})),0},handleGameLoop:function(e,t,r){if("faction6_choose_card_triggered"==r[0]){var n=parseInt(r[1]),a=parseInt(r[2]);if(e.game.queue.splice(t,1),e.game.player===a){var i=e.returnPlayerActionCards();e.addMove("faction6_choose_card_return\t"+n+"\t"+a+"\t"+JSON.stringify(i)),e.endTurn()}return 0}if("faction6_choose_card_return"==r[0]){var s=parseInt(r[1]),o=parseInt(r[2]),c=JSON.parse(r[3]);if(e.game.queue.splice(t,1),e.game.player===s){for(var u='<div class="" style="margin-bottom:10px">Select '+e.returnFactionNickname(o)+" action card:</div><ul>",l=0;l<c.length;l++)u+='<li class="option" id="'.concat(l,'">').concat(e.action_cards[c[l]].name,"</li>");u+='<li class="option" id="cancel">skip</li>',e.updateStatus(u),$(".option").off(),$(".option").on("click",(function(){$(".option").off();var t=$(this).attr("id");return"skip"===t?(e.playerTurn(),0):(e.addMove("setvar\tplayers\t"+e.game.player+"\tmageon_implants_exhausted\tint\t1"),e.addMove("pull\t"+e.game.player+"\t"+o+"\taction\t"+c[t]),e.endTurn(),0)}))}return 0}return 1}}),this.importTech("faction6-flagship",{name:"Yssaril Flagship",faction:"faction6",type:"ability",text:"May move through sectors containing other ships",upgradeUnit:function(e,t,r){return e.doesPlayerHaveTech(r.owner,"faction6-flagship")&&"flagship"==r.type&&(r.may_fly_through_sectors_containing_other_ships=1,r.move=3),r}})},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-action-cards.js: Missing semicolon. (3:29)\n\n[0m [90m 1 |[39m   [0m\n[0m [90m 2 |[39m   [0m\n[0m[31m[1m>[22m[39m[90m 3 |[39m   returnActionCards(types[33m=[39m[]) {[0m\n[0m [90m   |[39m                              [31m[1m^[22m[39m[0m\n[0m [90m 4 |[39m[0m\n[0m [90m 5 |[39m     [36mif[39m (types[33m.[39mlength [33m==[39m [35m0[39m) { [36mreturn[39m [36mthis[39m[33m.[39maction_cards[33m;[39m }[0m\n[0m [90m 6 |[39m     [36melse[39m {[0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-agenda-cards.js: Missing semicolon. (2:21)\n\n[0m [90m 1 |[39m[0m\n[0m[31m[1m>[22m[39m[90m 2 |[39m   returnAgendaCards() {[0m\n[0m [90m   |[39m                      [31m[1m^[22m[39m[0m\n[0m [90m 3 |[39m     [36mreturn[39m [36mthis[39m[33m.[39magenda_cards[33m;[39m[0m\n[0m [90m 4 |[39m   }[0m\n[0m [90m 5 |[39m[0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-display.js: Missing semicolon. (5:14)\n\n[0m [90m 3 |[39m [90m// redraw all sectors[39m[0m\n[0m [90m 4 |[39m [90m//[39m[0m\n[0m[31m[1m>[22m[39m[90m 5 |[39m displayBoard() {[0m\n[0m [90m   |[39m               [31m[1m^[22m[39m[0m\n[0m [90m 6 |[39m   [36mfor[39m ([36mlet[39m i [36min[39m [36mthis[39m[33m.[39mgame[33m.[39msystems) {[0m\n[0m [90m 7 |[39m     [36mthis[39m[33m.[39mupdateSectorGraphics(i)[33m;[39m[0m\n[0m [90m 8 |[39m   }[0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-end.js: Unexpected token (5:0)\n\n[0m [90m 3 |[39m[0m\n[0m [90m 4 |[39m[0m\n[0m[31m[1m>[22m[39m[90m 5 |[39m }[0m\n[0m [90m   |[39m [31m[1m^[22m[39m[0m\n[0m [90m 6 |[39m[0m\n[0m [90m 7 |[39m module[33m.[39mexports [33m=[39m [33mImperium[39m[33m;[39m[0m\n[0m [90m 8 |[39m   [0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.unexpected (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3560:16)\n    at Parser.parseExprAtom (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11980:22)\n    at Parser.parseExprSubscripts (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11541:23)\n    at Parser.parseUpdate (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11521:21)\n    at Parser.parseMaybeUnary (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11496:23)\n    at Parser.parseMaybeUnaryOrPrivate (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11310:61)\n    at Parser.parseExprOps (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11317:23)\n    at Parser.parseMaybeConditional (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11287:23)\n    at Parser.parseMaybeAssign (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11250:21)\n    at Parser.parseExpressionBase (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11186:23)\n    at /Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11180:39\n    at Parser.allowInAnd (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13068:16)\n    at Parser.parseExpression (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11180:17)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13418:23)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)")},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-events.js: Missing semicolon. (3:28)\n\n[0m [90m 1 |[39m[0m\n[0m [90m 2 |[39m[0m\n[0m[31m[1m>[22m[39m[90m 3 |[39m   returnEventObjects(player) {[0m\n[0m [90m   |[39m                             [31m[1m^[22m[39m[0m\n[0m [90m 4 |[39m[0m\n[0m [90m 5 |[39m     [36mlet[39m z [33m=[39m [][33m;[39m[0m\n[0m [90m 6 |[39m     [36mlet[39m zz [33m=[39m [][33m;[39m[0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-factions.js: Missing semicolon. (3:18)\n\n[0m [90m 1 |[39m   [0m\n[0m [90m 2 |[39m   [0m\n[0m[31m[1m>[22m[39m[90m 3 |[39m   returnFactions() {[0m\n[0m [90m   |[39m                   [31m[1m^[22m[39m[0m\n[0m [90m 4 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mfactions[33m;[39m[0m\n[0m [90m 5 |[39m   }[0m\n[0m [90m 6 |[39m   [0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-gameloop.js: Missing semicolon. (6:26)\n\n[0m [90m 4 |[39m   [90m// Core Game Logic //[39m[0m\n[0m [90m 5 |[39m   [90m/////////////////////[39m[0m\n[0m[31m[1m>[22m[39m[90m 6 |[39m   handleGameLoop(msg[33m=[39m[36mnull[39m) {[0m\n[0m [90m   |[39m                           [31m[1m^[22m[39m[0m\n[0m [90m 7 |[39m   [0m\n[0m [90m 8 |[39m     [36mlet[39m imperium_self [33m=[39m [36mthis[39m[33m;[39m[0m\n[0m [90m 9 |[39m     [36mlet[39m z [33m=[39m imperium_self[33m.[39mreturnEventObjects()[33m;[39m[0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-helpers.js: Missing semicolon. (6:36)\n\n[0m [90m 4 |[39m   [90m// utility function to convert sector32 to 3_2 or whatever[39m[0m\n[0m [90m 5 |[39m   [90m//[39m[0m\n[0m[31m[1m>[22m[39m[90m 6 |[39m   convertSectorToSectorname(sectorN) {[0m\n[0m [90m   |[39m                                     [31m[1m^[22m[39m[0m\n[0m [90m 7 |[39m[0m\n[0m [90m 8 |[39m     [36mfor[39m ([36mlet[39m i [36min[39m [36mthis[39m[33m.[39mgame[33m.[39mboard) {[0m\n[0m [90m 9 |[39m       [36mif[39m ([36mthis[39m[33m.[39mgame[33m.[39mboard[i][33m.[39mtile [33m==[39m sectorN) {[0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-initialize.js: Unexpected token (3:2)\n\n[0m [90m 1 |[39m   [0m\n[0m [90m 2 |[39m[0m\n[0m[31m[1m>[22m[39m[90m 3 |[39m   } [90m// end initializeGameObjects[39m[0m\n[0m [90m   |[39m   [31m[1m^[22m[39m[0m\n[0m [90m 4 |[39m[0m\n[0m [90m 5 |[39m[0m\n[0m [90m 6 |[39m[0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.unexpected (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3560:16)\n    at Parser.parseExprAtom (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11980:22)\n    at Parser.parseExprSubscripts (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11541:23)\n    at Parser.parseUpdate (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11521:21)\n    at Parser.parseMaybeUnary (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11496:23)\n    at Parser.parseMaybeUnaryOrPrivate (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11310:61)\n    at Parser.parseExprOps (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11317:23)\n    at Parser.parseMaybeConditional (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11287:23)\n    at Parser.parseMaybeAssign (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11250:21)\n    at Parser.parseExpressionBase (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11186:23)\n    at /Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11180:39\n    at Parser.allowInAnd (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13068:16)\n    at Parser.parseExpression (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11180:17)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13418:23)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)")},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-objectives.js: Missing semicolon. (2:26)\n\n[0m [90m 1 |[39m   [0m\n[0m[31m[1m>[22m[39m[90m 2 |[39m   returnSecretObjectives() {[0m\n[0m [90m   |[39m                           [31m[1m^[22m[39m[0m\n[0m [90m 3 |[39m     [36mreturn[39m [36mthis[39m[33m.[39msecret_objectives[33m;[39m[0m\n[0m [90m 4 |[39m   }[0m\n[0m [90m 5 |[39m   [0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-player.js: Missing semicolon. (2:22)\n\n[0m [90m 1 |[39m[0m\n[0m[31m[1m>[22m[39m[90m 2 |[39m returnPlayers(num [33m=[39m [35m0[39m) {[0m\n[0m [90m   |[39m                       [31m[1m^[22m[39m[0m\n[0m [90m 3 |[39m[0m\n[0m [90m 4 |[39m   [36mvar[39m players [33m=[39m [][33m;[39m[0m\n[0m [90m 5 |[39m[0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-promissary.js: Missing semicolon. (2:25)\n\n[0m [90m 1 |[39m   [0m\n[0m[31m[1m>[22m[39m[90m 2 |[39m   returnPromissaryNotes() {[0m\n[0m [90m   |[39m                          [31m[1m^[22m[39m[0m\n[0m [90m 3 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mpromissary_notes[33m;[39m[0m\n[0m [90m 4 |[39m   }[0m\n[0m [90m 5 |[39m   [0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){throw new Error('Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-start.js: Unexpected token (84:0)\n\n[0m [90m 82 |[39m console[33m.[39mlog([32m"INITIALIZE GAME OBJECTS"[39m)[33m;[39m[0m\n[0m [90m 83 |[39m[0m\n[0m[31m[1m>[22m[39m[90m 84 |[39m[0m\n[0m [90m    |[39m [31m[1m^[22m[39m[0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.unexpected (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3560:16)\n    at Parser.parseExprAtom (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11980:22)\n    at Parser.parseExprSubscripts (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11541:23)\n    at Parser.parseUpdate (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11521:21)\n    at Parser.parseMaybeUnary (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11496:23)\n    at Parser.parseMaybeUnaryOrPrivate (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11310:61)\n    at Parser.parseExprOps (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11317:23)\n    at Parser.parseMaybeConditional (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11287:23)\n    at Parser.parseMaybeAssign (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11250:21)\n    at Parser.parseExpressionBase (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11186:23)\n    at /Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11180:39\n    at Parser.allowInAnd (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13068:16)\n    at Parser.parseExpression (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:11180:17)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13418:23)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseBlock (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13849:10)\n    at Parser.parseFunctionBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:12728:24)')},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-state.js: Missing semicolon. (2:15)\n\n[0m [90m 1 |[39m[0m\n[0m[31m[1m>[22m[39m[90m 2 |[39m   returnState() {[0m\n[0m [90m   |[39m                [31m[1m^[22m[39m[0m\n[0m [90m 3 |[39m  [0m\n[0m [90m 4 |[39m     [36mlet[39m state [33m=[39m {}[33m;[39m[0m\n[0m [90m 5 |[39m  [0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){throw new Error('Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-state-checks.js: Missing semicolon. (7:23)\n\n[0m [90m  5 |[39m   [90m// Return Factions //[39m[0m\n[0m [90m  6 |[39m   [90m/////////////////////[39m[0m\n[0m[31m[1m>[22m[39m[90m  7 |[39m   returnFaction(player) {[0m\n[0m [90m    |[39m                        [31m[1m^[22m[39m[0m\n[0m [90m  8 |[39m     [36mif[39m ([36mthis[39m[33m.[39mgame[33m.[39mplayers_info[player[33m-[39m[35m1[39m] [33m==[39m [36mnull[39m) { [36mreturn[39m [32m"Unknown"[39m[33m;[39m }[0m\n[0m [90m  9 |[39m     [36mif[39m ([36mthis[39m[33m.[39mgame[33m.[39mplayers_info[player[33m-[39m[35m1[39m] [33m==[39m undefined) { [36mreturn[39m [32m"Unknown"[39m[33m;[39m }[0m\n[0m [90m 10 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mreturnFactionName([36mthis[39m[33m,[39m player)[33m;[39m[0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)')},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-state-updates.js: Missing semicolon. (10:20)\n\n[0m [90m  8 |[39m   [90m// available.[39m[0m\n[0m [90m  9 |[39m   [90m//[39m[0m\n[0m[31m[1m>[22m[39m[90m 10 |[39m   resetTechBonuses() {[0m\n[0m [90m    |[39m                     [31m[1m^[22m[39m[0m\n[0m [90m 11 |[39m[0m\n[0m [90m 12 |[39m     [36mlet[39m technologies [33m=[39m [36mthis[39m[33m.[39mreturnTechnology()[33m;[39m[0m\n[0m [90m 13 |[39m[0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-strategy-cards.js: Missing semicolon. (8:23)\n\n[0m [90m  6 |[39m   [90m// in any particular round.[39m[0m\n[0m [90m  7 |[39m   [90m//[39m[0m\n[0m[31m[1m>[22m[39m[90m  8 |[39m   returnStrategyCards() {[0m\n[0m [90m    |[39m                        [31m[1m^[22m[39m[0m\n[0m [90m  9 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mstrategy_cards[33m;[39m[0m\n[0m [90m 10 |[39m   }[0m\n[0m [90m 11 |[39m   [0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-tech.js: Missing semicolon. (17:20)\n\n[0m [90m 15 |[39m   [90m// returnCardImage(cardkey) --\x3e returns image of card[39m[0m\n[0m [90m 16 |[39m   [90m//[39m[0m\n[0m[31m[1m>[22m[39m[90m 17 |[39m   returnTechnology() {[0m\n[0m [90m    |[39m                     [31m[1m^[22m[39m[0m\n[0m [90m 18 |[39m     [36mreturn[39m [36mthis[39m[33m.[39mtech[33m;[39m[0m\n[0m [90m 19 |[39m   }[0m\n[0m [90m 20 |[39m   [0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-ui.js: Missing semicolon. (5:15)\n\n[0m [90m 3 |[39m [90m// manually add arcade banner support[39m[0m\n[0m [90m 4 |[39m [90m//[39m[0m\n[0m[31m[1m>[22m[39m[90m 5 |[39m respondTo(type) {[0m\n[0m [90m   |[39m                [31m[1m^[22m[39m[0m\n[0m [90m 6 |[39m[0m\n[0m [90m 7 |[39m   [36mif[39m ([36msuper[39m[33m.[39mrespondTo(type) [33m!=[39m [36mnull[39m) {[0m\n[0m [90m 8 |[39m     [36mreturn[39m [36msuper[39m[33m.[39mrespondTo(type)[33m;[39m[0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-unit.js: Missing semicolon. (3:15)\n\n[0m [90m 1 |[39m   [0m\n[0m [90m 2 |[39m   [0m\n[0m[31m[1m>[22m[39m[90m 3 |[39m   returnUnits() {[0m\n[0m [90m   |[39m                [31m[1m^[22m[39m[0m\n[0m [90m 4 |[39m     [36mreturn[39m [36mthis[39m[33m.[39munits[33m;[39m[0m\n[0m [90m 5 |[39m   }[0m\n[0m [90m 6 |[39m   [0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){throw new Error("Module build failed (from ./node_modules/babel-loader/lib/index.js):\nSyntaxError: /Users/david/Programming/saito-lite/bundler/default/mods/imperium/src/imperium-universe.js: Missing semicolon. (5:17)\n\n[0m [90m 3 |[39m   [90m// Return Planets //[39m[0m\n[0m [90m 4 |[39m   [90m////////////////////[39m[0m\n[0m[31m[1m>[22m[39m[90m 5 |[39m   returnPlanets() {[0m\n[0m [90m   |[39m                  [31m[1m^[22m[39m[0m\n[0m [90m 6 |[39m   [0m\n[0m [90m 7 |[39m     [36mvar[39m planets [33m=[39m {}[33m;[39m[0m\n[0m [90m 8 |[39m   [0m\n    at Parser._raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:541:17)\n    at Parser.raiseWithData (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:534:17)\n    at Parser.raise (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:495:17)\n    at Parser.semicolon (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:3530:10)\n    at Parser.parseExpressionStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13832:10)\n    at Parser.parseStatementContent (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13423:19)\n    at Parser.parseStatement (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13285:17)\n    at Parser.parseBlockOrModuleBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13874:25)\n    at Parser.parseBlockBody (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13865:10)\n    at Parser.parseProgram (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13207:10)\n    at Parser.parseTopLevel (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:13198:25)\n    at Parser.parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:14957:10)\n    at parse (/Users/david/Programming/saito-lite/node_modules/@babel/parser/lib/index.js:15009:38)\n    at parser (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/parser/index.js:52:34)\n    at parser.next (<anonymous>)\n    at normalizeFile (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/normalize-file.js:87:38)\n    at normalizeFile.next (<anonymous>)\n    at run (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transformation/index.js:29:50)\n    at run.next (<anonymous>)\n    at Function.transform (/Users/david/Programming/saito-lite/node_modules/@babel/core/lib/transform.js:25:41)\n    at transform.next (<anonymous>)\n    at step (/Users/david/Programming/saito-lite/node_modules/gensync/index.js:261:32)")},function(e,t){this.importSecretObjective("military-catastrophe",{name:"Military Catastrophe",text:"Destroy the flagship of another player",type:"secret",phase:"action",onNewTurn:function(e,t,r){return e.game.state.secret_objective_military_catastrophe=0,0},spaceCombatRoundEnd:function(e,t,r,n){return e.game.players_info[e.game.player-1].units_i_destroyed_this_combat_round.includes("flagship")&&(e.game.state.secret_objective_military_catastrophe=1),0},groundCombatRoundEnd:function(e,t,r,n,a){return 0},canPlayerScoreVictoryPoints:function(e,t){return 1==e.game.state.secret_objective_military_catastrophe?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("flagship-dominance",{name:"Blood Christening",text:"Achieve victory in a space combat in a system containing your flagship. Your flagship must survive this combat",type:"secret",phase:"action",onNewTurn:function(e,t,r){return e.game.state.secret_objective_flagship_dominance=0,0},spaceCombatRoundEnd:function(e,t,r,n){if(e.doesSectorContainPlayerUnit(e.game.player,n,"flagship")){e.returnSectorAndPlanets(n);e.doesPlayerHaveShipsInSector(r,n)||t==e.game.player&&e.doesPlayerHaveShipsInSector(t,n)&&(e.game.state.secret_objective_flagship_dominance=1),e.doesPlayerHaveShipsInSector(t,n)||r==e.game.player&&e.doesPlayerHaveShipsInSector(r,n)&&(e.game.state.secret_objective_flagship_dominance=1)}return 0},canPlayerScoreVictoryPoints:function(e,t){return 1==e.game.state.secret_objective_flagship_dominance?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("nuke-them-from-orbit",{name:"Nuke them from Orbit",text:"Destroy the last of a player's ground forces using bombardment",type:"secret",phase:"action",onNewTurn:function(e,t,r){return e.game.state.secret_objective_nuke_from_orbit=0,e.game.state.secret_objective_nuke_from_orbit_how_many_got_nuked=0,0},bombardmentTriggers:function(e,t,r,n,a){e.game.state.secret_objective_nuke_from_orbit_how_many_got_nuked=0;for(var i=e.returnSectorAndPlanets(n).p[a],s=e.returnInfantryOnPlanet(i),o=0;o<i.units.length;o++)i.units[o].length>0&&o+1!=r&&(defender=o+1,e.game.state.secret_objective_nuke_from_orbit_how_many_got_nuked=s);return 0},planetaryDefenseTriggers:function(e,t,r,n){if(e.game.state.secret_objective_nuke_from_orbit_how_many_got_nuked>0){var a=e.returnSectorAndPlanets(r).p[n];0==e.returnInfantryOnPlanet(a)&&(e.game.state.secret_objective_nuke_from_orbit_how_many_got_nuked=1)}return 0},canPlayerScoreVictoryPoints:function(e,t){return 1==e.game.state.secret_objective_nuke_from_orbit?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("anti-imperialism",{name:"Anti-Imperialism",text:"Achieve victory in combat with a player with the most VP",type:"secret",phase:"action",onNewTurn:function(e,t,r){return e.game.state.secret_objective_anti_imperialism=0,0},spaceCombatRoundEnd:function(e,t,r,n){e.game.state.secret_objective_anti_imperialism=0;e.returnSectorAndPlanets(n);var a=e.returnPlayersWithHighestVP();return e.game.player==t&&!e.doesPlayerHaveShipsInSector(r,n)&&e.doesPlayerHaveShipsInSector(t,n)&&0==e.hasUnresolvedSpaceCombat(t,n)&&a.includes(r)&&(e.game.state.secret_objective_anti_imperialism=1),e.game.player==r&&!e.doesPlayerHaveShipsInSector(t,n)&&e.doesPlayerHaveShipsInSector(r,n)&&0==e.hasUnresolvedSpaceCombat(r,n)&&a.includes(t)&&(e.game.state.secret_objective_anti_imperialism=1),0},groundCombatRoundEnd:function(e,t,r,n,a){var i=e.returnSectorAndPlanets(n).p[a],s=e.returnPlayersWithHighestVP();return e.game.player==t&&i.units[t-1].length>0&&0==i.units[r-1].length&&s.includes(r)&&(e.game.state.secret_objective_anti_imperialism=1),e.game.player==r&&i.units[r-1].length>0&&0==i.units[t-1].length&&s.includes(t)&&(e.game.state.secret_objective_anti_imperialism=1),0},canPlayerScoreVictoryPoints:function(e,t){return 1==e.game.state.secret_objective_anti_imperialism?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("end-their-suffering",{name:"End Their Suffering",text:"Eliminate a player with the lowest VP from the board in Space or Ground Combat",type:"secret",phase:"action",onNewTurn:function(e,t,r){return e.game.state.secret_objective_end_their_suffering=0,0},spaceCombatRoundEnd:function(e,t,r,n){var a=e.returnSectorAndPlanets(n),i=e.returnPlayersWithLowestVP();if(e.game.player==t&&0==a.s.units[r-1].length&&i.includes(r)){for(var s in e.game.sectors)if(e.game.sectors[s].units[r-1].length>0)return;for(var o in e.game.planets)if(e.game.planets[o].units[r-1].length>0)return;e.game.state.secret_objective_end_their_suffering=1}if(e.game.player==r&&0==a.s.units[t-1].length&&i.includes(t)){for(var c in e.game.sectors)if(e.game.sectors[c].units[t-1].length>0)return;for(var u in e.game.planets)if(e.game.planets[u].units[t-1].length>0)return;e.game.state.secret_objective_end_their_suffering=1}return 0},groundCombatRoundEnd:function(e,t,r,n,a){var i=e.returnSectorAndPlanets(n).p[a],s=e.returnPlayersWithLowestVP();if(e.game.player==t&&0==i.units[r-1].length&&s.includes(r)){for(var o in e.game.sectors)if(e.game.sectors[o].units[r-1].length>0)return;for(var c in e.game.planets)if(e.game.planets[c].units[r-1].length>0)return;e.game.state.secret_objective_end_their_suffering=1}if(e.game.player==r&&0==i.units[t-1].length&&s.includes(t)){for(var u in e.game.sectors)if(e.game.sectors[u].units[t-1].length>0)return;for(var l in e.game.planets)if(e.game.planets[l].units[t-1].length>0)return;e.game.state.secret_objective_end_their_suffering=1}return 0},canPlayerScoreVictoryPoints:function(e,t){return 1==e.game.state.secret_objective_end_their_suffering?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("establish-a-blockade",{name:"Establish a Blockade",text:"Have at least 1 ship in the same sector as an opponent's spacedock",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r in e.game.sectors)if(e.game.sectors[r].units[t-1].length>0)for(var n=e.returnSectorAndPlanets(r),a=0;a<n.p.length;a++)for(var i=0;i<n.p[a].units.length;i++)if(i+1!=t)for(var s=0;s<n.p[a].units[i].length;s++)if("spacedock"===n.p[a].units[i][s].type)return 1;return 0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("close-the-trap",{name:"Close the Trap",text:"Destroy another player's last ship in a system using a PDS",type:"secret",phase:"action",onNewTurn:function(e,t,r){return e.game.state.secret_objective_close_the_trap=0,e.game.state.secret_objective_close_the_trap_pds_fired=0,0},modifyPDSRoll:function(e,t,r,n,a){return t==e.game.player&&(e.game.state.secret_objective_close_the_trap_pds_fired=1),r==e.game.player&&(e.game.state.secret_objective_close_the_trap_pds_fired=1),a},modifySpaceCombatRoll:function(e,t,r,n){e.game.state.secret_objective_close_the_trap_pds_fired=0},spaceCombatRoundEnd:function(e,t,r,n){e.returnSectorAndPlanets(n);return e.game.player!=t||e.doesPlayerHaveShipsInSector(r,n)||0==e.hasUnresolvedSpaceCombat(t,n)&&1==e.game.state.secret_objective_close_the_trap_pds_fired&&(e.game.state.secret_objective_close_the_trap=1,e.game.state.secret_objective_close_the_trap_pds_fired=1),e.game.player!=r||e.doesPlayerHaveShipsInSector(t,n)||0==e.hasUnresolvedSpaceCombat(r,n)&&1==e.game.state.secret_objective_close_the_trap_pds_fired&&(e.game.state.secret_objective_close_the_trap=1,e.game.state.secret_objective_close_the_trap_pds_fired=1),0},canPlayerScoreVictoryPoints:function(e,t){return 1==e.game.state.secret_objective_close_the_trap?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("galactic-observer",{name:"Galactic Observer",text:"Have at least 1 ship in 6 different sectors",type:"secret",canPlayerScoreVictoryPoints:function(e,t){var r=0;for(var n in e.game.board){var a=e.game.board[n].tile;e.doesSectorContainPlayerShip(t,a)&&r++}return r>5?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("master-of-the-ion-cannon",{name:"Master Cannoneer",text:"Have at least 4 PDS units in play",type:"secret",canPlayerScoreVictoryPoints:function(e,t){var r=0;for(var n in e.game.planets)for(var a=e.game.planets[n],i=0;i<a.units[t-1].length;i++)"pds"==a.units[t-1][i].type&&r++;return r>3?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("war-engine",{name:"War Engine",text:"Have three spacedocks in play",type:"secret",canPlayerScoreVictoryPoints:function(e,t){var r=0;for(var n in e.game.planets)for(var a=e.game.planets[n],i=0;i<a.units[t-1].length;i++)"spacedock"==a.units[t-1][i].type&&r++;return r>2?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("wormhole-administrator",{name:"Wormhole Administrator",text:"Have at least 1 ship in systems containing alpha and beta wormholes respectively",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.returnSectorsWithPlayerShips(t),n=0,a=0,i=0;i<r.length;i++)1==e.game.sectors[r[i]].wormhole&&(n=1),2==e.game.sectors[r[i]].wormhole&&(a=1);return 1==n&&1==a?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("fleet-of-terror",{name:"Fleet of Terror",text:"Have five dreadnaughts in play",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=e.returnSectorsWithPlayerShips(t),a=0;a<n.length;a++)for(var i=0;i<e.game.sectors[n[a]].units[t-1].length;i++)"dreadnaught"===e.game.sectors[n[a]].units[t-1][i].type&&r++;return r>=5?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("cultural-diplomacy",{name:"Cultural Diplomacy",text:"Control at least 4 cultural planets",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=e.returnPlayerPlanetCards(t),a=0;a<n.length;a++)"cultural"===e.game.planets[n[a]].type&&r++;return r>=4?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("act-of-espionage",{name:"Act of Espionage",text:"Discard five action cards from your hard",type:"secret",canPlayerScoreVictoryPoints:function(e,t){return e.returnPlayerActionCards(t).length>=5?1:0},scoreObjective:function(e,t,r){e.game.player==t?e.playerDiscardActionCards(5,(function(){r(1)})):r(0)}}),this.importSecretObjective("space-to-breathe",{name:"Space to Breathe",text:"Have at least 1 ship in 3 systems with no planets",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.returnSectorsWithPlayerShips(t),n=0,a=0;a<r.length;a++)0==e.game.sectors[r[a]].planets.length&&n++;return n>=3?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("ascendant-technocracy",{name:"Ascendant Technocracy",text:"Research 4 tech upgrades on the same color path",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.game.players_info[t-1].tech,n=0,a=0,i=0,s=0,o=0;o<r.length;o++)"blue"==e.tech[r[o]].color&&a++,"red"==e.tech[r[o]].color&&i++,"yellow"==e.tech[r[o]].color&&s++,"green"==e.tech[r[o]].color&&n++;return a>=4||s>=4||i>=4||n>=4?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("penal-colonies",{name:"Penal Colonies",text:"Control four planets with hazardous conditions",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=e.returnPlayerPlanetCards(t),a=0;a<n.length;a++)"hazardous"===e.game.planets[n[a]].type&&r++;return r>=4?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("master-of-production",{name:"Master of Production",text:"Control four planets with industrial civilizations",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=e.returnPlayerPlanetCards(t),a=0;a<n.length;a++)"industrial"===e.game.planets[n[a]].type&&r++;return r>=4?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("faction-technologies",{name:"Faction Technologies",text:"Research 2 faction technologies",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.game.players_info[t-1].tech,n=0,a=0;a<r.length;a++)"special"==e.tech[r[a]].type&&0==r[a].indexOf("faction")&&n++;return n>=2?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("occupy-new-byzantium",{name:"Occupy New Byzantium",text:"Control New Byzantium and have at least 3 ships protecting the sector",type:"secret",canPlayerScoreVictoryPoints:function(e,t){return e.game.planets["new-byzantium"].owner==t&&e.game.sectors["new-byzantium"].units[t-1].length>=3?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importSecretObjective("cast-a-long-shadow",{name:"Cast a Long Shadow",text:"Have at least 1 ship in a system adjacent to an opponent homeworld",type:"secret",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.returnHomeworldSectors(e.game.players_info.length),n=[],a=0;a<r.length;a++)e.game.board[r[a]].tile!=e.game.board[e.game.players_info[t-1].homeworld].tile&&n.push(e.game.board[r[a]].tile);for(var i=0;i<n.length;i++)if(e.isPlayerAdjacentToSector(t,n[i]))return 1;return 0},scoreObjective:function(e,t,r){r(1)}})},function(e,t){this.importStageIPublicObjective("planetary-unity",{name:"Planetary Unity",img:"/imperium/img/victory_point_1.png",text:"Control four planets of the same planet type",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=0,a=0,i=e.returnPlayerPlanetCards(t),s=0;s<i.length;s++){e.game.planets[i[s]];"hazardous"===e.game.planets[i[s]].type&&r++,"industrial"===e.game.planets[i[s]].type&&a++,"cultural"===e.game.planets[i[s]].type&&n++}return r>=4||n>=4||a>=4?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIPublicObjective("forge-of-war",{name:"Forge of War",img:"/imperium/img/victory_point_1.png",text:"Research 2 unit upgrade technologies",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.game.players_info[t-1].tech,n=0,a=0;a<r.length;a++)1==e.tech[r[a]].unit&&n++;return n>=2?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIPublicObjective("diversified-research",{name:"Diversified Research",img:"/imperium/img/victory_point_1.png",text:"Research 2 technologies in two different color paths",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.game.players_info[t-1].tech,n=0,a=0,i=0,s=0,o=0;o<r.length;o++)"blue"==e.tech[r[o]].color&&a++,"red"==e.tech[r[o]].color&&i++,"yellow"==e.tech[r[o]].color&&s++,"green"==e.tech[r[o]].color&&n++;var c=0;return a>=2&&c++,s>=2&&c++,i>=2&&c++,n>=2&&c++,c>=2?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIPublicObjective("mining-conglomerate",{name:"Mining Conglomerate",img:"/imperium/img/victory_point_1.png",text:"Spend eight resources when scoring",canPlayerScoreVictoryPoints:function(e,t){return e.returnAvailableResources(t)>=8?1:0},scoreObjective:function(e,t,r){e.game.player==t?e.playerSelectResources(8,(function(e){r(e)})):r(0)}}),this.importStageIPublicObjective("conquest-of-science",{name:"Conquest of Science",minPlayers:4,img:"/imperium/img/victory_point_1.png",text:"Control 3 planets with tech specialities",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=e.returnPlayerPlanetCards(t),a=0;a<n.length;a++)"red"==n[a].bonus&&r++,"blue"==n[a].bonus&&r++,"green"==n[a].bonus&&r++,"yellow"==n[a].bonus&&r++;return r>=3?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIPublicObjective("colonization",{name:"Colonization",img:"/imperium/img/victory_point_1.png",text:"Control six planets outside your home system",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=0,a=0,i=0,s=e.returnPlayerPlanetCards(t),o=0;o<s.length;o++)"hazardous"===e.game.planets[s[o]].type&&r++,"industrial"===e.game.planets[s[o]].type&&a++,"cultural"===e.game.planets[s[o]].type&&n++,"diplomatic"===e.game.planets[s[o]].type&&i++;return n+r+a+i>=6?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIPublicObjective("grand-gesture",{name:"A Grand Gesture",img:"/imperium/img/victory_point_1.png",text:"Spend 3 command or strategy tokens when scoring",canPlayerScoreVictoryPoints:function(e,t){return e.game.players_info[t-1].strategy_tokens+e.game.players_info[t-1].command_tokens>=3?1:0},scoreObjective:function(e,t,r){e.game.player==t?e.playerSelectStrategyAndCommandTokens(3,(function(e){r(e)})):r(0)}}),this.importStageIPublicObjective("establish-trade-outposts",{name:"Establish Trade Outposts",img:"/imperium/img/victory_point_1.png",text:"Spend 5 trade goods when scoring",canPlayerScoreVictoryPoints:function(e,t){return e.returnAvailableTradeGoods(t)>=5?1:0},scoreObjective:function(e,t,r){e.game.players_info[t-1].goods-=5,e.displayFactionDashboard(),r(1)}}),this.importStageIPublicObjective("pecuniary-diplomacy",{name:"Pecuniary Diplomacy",img:"/imperium/img/victory_point_1.png",text:"Spend 8 influence when scoring",canPlayerScoreVictoryPoints:function(e,t){return e.returnAvailableInfluence(t)>=8?1:0},scoreObjective:function(e,t,r){e.game.player==t?e.playerSelectInfluence(8,(function(e){r(e)})):r(0)}})},function(e,t){this.importStageIIPublicObjective("master-of-commerce",{name:"Master of Commerce",img:"/imperium/img/victory_point_2.png",text:"Spend 10 trade goods when scoring",canPlayerScoreVictoryPoints:function(e,t){return e.returnAvailableTradeGoods(t)>=10?1:0},scoreObjective:function(e,t,r){e.game.players_info[t-1].goods-=10,e.displayFactionDashboard(),r(1)}}),this.importStageIIPublicObjective("display-of-dominance",{name:"Display of Dominance",img:"/imperium/img/victory_point_2.png",text:"Control at least 1 planet in another player's home sector",canPlayerScoreVictoryPoints:function(e,t){for(var r=[],n=0;n<e.game.players_info.length;n++)for(var a=e.game.board[e.game.players_info[t-1].homeworld].tile,i=e.returnSectorAndPlanets(a),s=0;s<i.p.length;s++)r.push(i.p[s].name);for(var o=e.returnPlayerPlanetCards(t),c=0;c<o.length;c++)if(r.includes(o[c].name))return 1;return 0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIIPublicObjective("technological-empire",{name:"Technological Empire",minPlayers:4,img:"/imperium/img/victory_point_2.png",text:"Control 5 planets with tech bonuses",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=e.returnPlayerPlanetCards(t),a=0;a<n.length;a++)"red"==n[a].bonus&&r++,"blue"==n[a].bonus&&r++,"green"==n[a].bonus&&r++,"yellow"==n[a].bonus&&r++;return r>=3?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIIPublicObjective("establish-galactic-currency",{name:"Establish Galactic Currency",img:"/imperium/img/victory_point_2.png",text:"Spend 16 resources when scoring",canPlayerScoreVictoryPoints:function(e,t){return e.returnAvailableResources(t)>=16?1:0},scoreObjective:function(e,t,r){e.game.player==t?e.playerSelectResources(16,(function(e){r(e)})):r(0)}}),this.importStageIIPublicObjective("master-of-science",{name:"Master of Science",img:"/imperium/img/victory_point_2.png",text:"Own 2 tech upgrades in each of 4 tech color paths",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.game.players_info[t-1].tech,n=0,a=0,i=0,s=0,o=0;o<r.length;o++)"blue"==e.tech[r[o]].color&&a++,"red"==e.tech[r[o]].color&&i++,"yellow"==e.tech[r[o]].color&&s++,"green"==e.tech[r[o]].color&&n++;var c=0;return a>=2&&c++,s>=2&&c++,i>=2&&c++,n>=2&&c++,c>=4?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIIPublicObjective("imperial-unity",{name:"Imperial Unity",img:"/imperium/img/victory_point_2.png",text:"Control 6 planets of the same planet type",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=0,a=0,i=0,s=e.returnPlayerPlanetCards(t),o=0;o<s.length;o++)"hazardous"===e.game.planets[s[o]].type&&r++,"industrial"===e.game.planets[s[o]].type&&a++,"cultural"===e.game.planets[s[o]].type&&n++,"diplomatic"===e.game.planets[s[o]].type&&i++;return r>=6||n>=6||a>=6||i>=6?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIIPublicObjective("advanced-technologies",{name:"Advanced Technologies",img:"/imperium/img/victory_point_2.png",text:"Research 3 unit upgrade technologies",canPlayerScoreVictoryPoints:function(e,t){for(var r=e.game.players_info[t-1].tech,n=0,a=0;a<r.length;a++)1==e.tech[r[a]].unit&&n++;return n>=3?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIIPublicObjective("colonial-dominance",{name:"Colonial Dominance",img:"/imperium/img/victory_point_2.png",text:"Control 11 planets outside your home system",canPlayerScoreVictoryPoints:function(e,t){for(var r=0,n=0,a=0,i=0,s=e.returnPlayerPlanetCards(t),o=0;o<s.length;o++)"hazardous"===e.game.planets[s[o]].type&&r++,"industrial"===e.game.planets[s[o]].type&&a++,"cultural"===e.game.planets[s[o]].type&&n++,"diplomatic"===e.game.planets[s[o]].type&&i++;return n+r+a+i>=11?1:0},scoreObjective:function(e,t,r){r(1)}}),this.importStageIIPublicObjective("power-broker",{name:"Power Broker",img:"/imperium/img/victory_point_2.png",text:"Spend 16 influence when scoring",canPlayerScoreVictoryPoints:function(e,t){return e.returnAvailableInfluence(t)>=16?1:0},scoreObjective:function(e,t,r){e.game.player==t?e.playerSelectInfluence(16,(function(e){r(e)})):r(0)}}),this.importStageIIPublicObjective("cultural-revolution",{name:"Cultural Revolution",img:"/imperium/img/victory_point_2.png",text:"Spend 6 command or strategy tokens when scoring",canPlayerScoreVictoryPoints:function(e,t){return e.game.players_info[t-1].strategy_tokens+e.game.players_info[t-1].command_tokens>=6?1:0},scoreObjective:function(e,t,r){e.game.player==t?e.playerSelectStrategyAndCommandTokens(6,(function(e){r(e)})):r(0)}})},function(e,t){this.importPromissary("ceasefire",{name:"Ceasefire Promissary",faction:-1,text:"When the owner activates a sector that contains one of your units, you may trigger this to prevent them moving in units.",activateSystemTriggers:function(e,t,r,n){var a=e.game.players_info[t-1].faction+"-ceasefire";return e.doesPlayerHavePromissary(r,a)&&t!=r&&e.doesPlayerHaveUnitsInSector(r,n)?1:0},activateSystemEvent:function(e,t,r,n){if(e.game.player!=r)return e.updateStatus(e.returnFaction(r)+" is deciding whether to use Ceasefire"),0;var a='<div clss="sf-readable">Permit '+e.returnFaction(t)+" to activate sector or use ceasefire? </div><ul>";a+='<li class="option" id="activate">use ceasefire</li>',a+='<li class="option" id="nothing">do nothing</li>',a+="</ul>",e.updateStatus(a),$(".option").off(),$(".option").on("click",(function(){var n=$(this).attr("id");return"nothing"===n?(e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" does not use Ceasefire"),e.endTurn(),0):"activate"===n?(e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" uses Ceasefire to end "+e.returnFaction(t)+" turn"),e.addMove("ceasefire\t"+t+"\t"+r),e.endTurn(),0):0}))},handleGameLoop:function(e,t,r){if("ceasefire"==r[0]){var n=parseInt(r[1]);r[2];e.game.queue.splice(t,1);for(var a=0,i=e.game.queue.length-1;i>=0;i--)0!=e.game.queue[i].indexOf("play")&&0==a?e.game.queue.splice(i,1):0==a&&(a=1,e.game.queue.push("resolve\tplay"),e.game.queue.push("setvar\tstate\t0\tactive_player_moved\tint\t0"),e.game.queue.push("player_end_turn\t"+n));return 1}return 1}}),this.importPromissary("trade",{name:"Trade Promissary",faction:-1,text:"When the owner replenishes commodities, this promissary triggers and you gain their commodities as trade goods",gainCommodities:function(e,t,r){for(var n=e.game.players_info[t-1].faction+"-trade",a=e.returnPromissaryPlayer(n),i=0;i<e.game.players_info.length;i++)if(i+1!=t&&e.doesPlayerHavePromissary(i+1,n))return e.game.players_info[i].goods+=r,e.givePromissary(t,i+1,n),e.updateLog(e.returnFaction(i+1)+" redeems their Trade Promissary from "+e.returnFaction(a)),0;return r}}),this.importPromissary("political",{name:"Political Promissary",faction:-1,text:"The owner of this card cannot participate in resolving this agenda",menuOption:function(e,t,r){var n={};return"pre_agenda"==t&&(n.event="political-promissary",n.html='<li class="option" id="political-promissary">Political Promissary</li>'),n},menuOptionTriggers:function(e,t,r){if("pre_agenda"!=t)return 0;for(var n=e.returnPlayablePromissaryArray(r,"political"),a=0;a<n.length;a++)if(e.game.players_info[e.game.player-1].promissary_notes.includes(n[a]))return 1;return 0},menuOptionActivated:function(e,t,r){if(e.game.player==r){for(var n='<div class="sf-readable">Select a Specific Promissary: </div><ul>',a=e.returnPlayablePromissaryArray(r,"political"),i=0;i<a.length;i++){var s=a[i].split("-"),o=e.returnPromissaryPlayer(a[i]);n+='<li class="option" id="'.concat(i,'">').concat(e.returnFactionName(o)," - ").concat(e.promissary_notes[s[1]].name,"</li>")}n+="</ul>",e.updateStatus(n),$(".option").off(),$(".option").on("click",(function(){var t=$(this).attr("id"),r=a[parseInt(t)],n=e.returnPromissaryPlayer(a[parseInt(t)]);return e.addMove("rider\t"+n+"\tpolitical-promissary\t-1"),e.addMove("give\t"+e.game.player+"\t"+r+"\tpromissary\t"+r),e.endTurn(),0}))}return 0}}),this.importPromissary("throne",{name:"Support for the Throne",faction:-1,text:"Gain 1 VP when you receive this card. Lose this card and 1 VP if the owner of this card is eliminated or you activate a system containing any of their units.",gainPromissary:function(e,t,r){r.indexOf("throne")>-1&&(e.returnPromissaryPlayer(r)!=t&&(e.game.players_info[t-1][r]=1,e.game.players_info[t-1].vp++,e.updateLog(e.returnFaction(t)+" gains 1 VP from Support for the Throne"),e.updateLeaderboard()))},losePromissary:function(e,t,r){r.indexOf("throne")>-1&&(e.returnPromissaryPlayer(r)!=t&&(e.game.players_info[t-1][r]=1,e.game.players_info[t-1].vp--,e.updateLog(e.returnFaction(t)+" loses 1 VP from Support for the Throne"),e.updateLeaderboard()))},activateSystemTriggers:function(e,t,r,n){e.returnSectorAndPlanets(n);for(var a=0;a<e.game.players_info.length;a++)if(a+1!=t&&e.doesPlayerHaveUnitsInSector(a+1,n)){var i=e.game.players_info[r-1].id+"-throne";e.doesPlayerHavePromissary(t,i)&&(e.game.players_info[t-1][i]=0,e.updateLog(e.returnFaction(t)+" loses 1 VP from Support for the Throne"),e.game.players_info[t-1].vp--,e.givePromissary(t,a+1,details))}return 0}})},function(e,t){this.importStrategyCard("leadership",{name:"Leadership",rank:1,img:"/strategy/1_LEADERSHIP.png",text:"<b>Player</b> gains three tokens.<hr /><b>All players</b> may purchase tokens for three influence each.",strategyPrimaryEvent:function(e,t,r){return e.game.player==r&&t==r&&(e.addMove("resolve\tstrategy"),e.addMove("strategy\tleadership\t"+r+"\t2"),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.playerAllocateNewTokens(e.game.player,3,0,1,1)),0},strategySecondaryEvent:function(e,t,r){return t==e.game.player?(e.game.player,e.playerBuyTokens(2),0):1}})},function(e,t){this.importStrategyCard("diplomacy",{name:"Diplomacy",rank:2,img:"/strategy/2_DIPLOMACY.png",text:"<b>Player</b> activates non-Byzantium sector for others, refreshes two planets.<hr /><b>Others</b> may spend strategy token to refresh two planets.",strategyPrimaryEvent:function(e,t,r){return e.game.player==r&&t==r&&(e.updateStatus("Select sector to quagmire in diplomatic negotiations, and refresh any planets in that system: "),e.playerSelectSector((function(t){t.indexOf("_")>-1&&(t=e.game.board[t].tile),e.addMove("resolve\tstrategy"),e.addMove("strategy\tdiplomacy\t"+r+"\t2"),e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" uses Diplomacy to activate "+e.game.sectors[t].name);for(var n=0;n<e.game.players_info.length;n++)e.addMove("activate\t"+(n+1)+"\t"+t);var a=e.returnSectorAndPlanets(t);if(a.p)for(var i=0;i<a.p.length;i++)if(a.p[i].owner==e.game.player)for(var s in e.game.planets)a.p[i]==e.game.planets[s]&&e.addMove("unexhaust\t"+e.game.player+"\tplanet\t"+s);e.saveSystemAndPlanets(a),e.endTurn()}))),0},strategySecondaryEvent:function(e,t,r){if(e.game.player!=r&&e.game.player==t){var n="<p>Do you wish to spend 1 strategy token to unexhaust two planet cards? </p><ul>";1==e.game.state.round&&(n='<p class="doublespace">'.concat(e.returnFaction(r)," has just played the Diplomacy strategy card. This lets you to spend 1 strategy token to unexhaust two planet cards. You have ").concat(e.game.players_info[t-1].strategy_tokens," strategy tokens. Use this ability? </p><ul>")),e.game.players_info[t-1].strategy_tokens>0&&(n+='<li class="option" id="yes">Yes</li>'),n+='<li class="option" id="no">No</li>',n+="</ul>",e.updateStatus(n),$(".option").off(),$(".option").on("click",(function(){var t=$(this).attr("id");if("yes"==t){for(var r=e.returnPlayerExhaustedPlanetCards(e.game.player),n=0,a=0,i="<p>Select planets to unexhaust: </p><ul>",s=".cardchoice",o=0;o<r.length;o++)a++,i+='<li class="cardchoice" id="cardchoice_'+r[o]+'">'+e.returnPlanetCard(r[o])+"</li>";0==a&&(i+='<li class="textchoice" id="cancel">cancel (no options)</li>',s=".textchoice"),i+="</ul>",a>=2&&(a=2),e.updateStatus(i),e.lockInterface(),$(s).off(),$(s).on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface();var t=$(this).attr("id");if("cancel"===t)return e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),void e.endTurn();for(var i=t.split("_"),s="#"+t,o=i[1],c=0,u=0;u<r.length;u++)r[u]===o&&(c=u);n++,e.addMove("unexhaust\t"+e.game.player+"\tplanet\t"+r[c]),$(s).off(),$(s).css("opacity","0.2"),n>=a&&(e.prependMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn())}else salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}if("no"==t)return e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn(),0}))}}})},function(e,t){this.importStrategyCard("politics",{name:"Politics",rank:3,img:"/strategy/3_POLITICS.png",text:"<b>Player</b> picks new Speaker and gains 2 action cards.<hr /><b>Others</b> may spend strategy token for two action cards.",strategyPrimaryEvent:function(e,t,r){if(e.game.player===r&&t==r){e.addMove("resolve\tstrategy"),e.addMove("gain\t"+e.game.player+"\taction_cards\t2"),e.addMove("DEAL\t2\t"+e.game.player+"\t2"),e.addMove("NOTIFY\t"+e.returnFaction(t)+" gains action cards"),e.addMove("strategy\tpolitics\t"+r+"\t2"),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length);for(var n=e.returnFactions(),a="Make which player the speaker? <ul>",i=0;i<e.game.players_info.length;i++)a+='<li class="option" id="'+i+'">'+n[e.game.players_info[i].faction].name+"</li>";a+="</ul>",e.updateStatus(a);e.game.player;$(".option").off(),$(".option").on("click",(function(){var t=parseInt($(this).attr("id"))+1;e.returnAgendaCards();return e.playerAcknowledgeNotice("You will receive two action cards once other players have decided whether to purchase action cards.",(function(){e.addMove("change_speaker\t"+t),e.endTurn()})),0}))}},strategySecondaryEvent:function(e,t,r){e.game.player==t&&(e.game.player!=r&&e.game.players_info[t-1].strategy_tokens>0?e.playerBuyActionCards(2):(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn()))},strategyTertiaryEvent:function(e,t,r){var n=[],a=e.returnAgendaCards(),s=0;if(e.game.player==t){e.game.state.votes_available=[],e.game.state.votes_cast=[],e.game.state.how_voted_on_agenda=[],e.game.state.voted_on_agenda=[],e.game.state.voting_on_agenda=0;for(var o=0;o<e.game.players_info.length;o++){e.game.state.votes_available.push(e.returnAvailableVotes(o+1)),e.game.state.votes_cast.push(0),e.game.state.how_voted_on_agenda[o]="abstain",e.game.state.voted_on_agenda[o]=[],console.log("AP2: "+e.game.state.agendas_per_round);for(var c=0;c<e.game.state.agendas_per_round+2;c++)e.game.state.voted_on_agenda[o].push(0)}}if(console.log("----------------------"),console.log("---"+JSON.stringify(e.game.state.voted_on_agenda)+"---"),console.log("----------------------"),e.game.player===e.game.state.speaker){var u="";for(1==e.game.state.agendas_per_round&&(u+="Select one agenda to advance for consideration in the Galactic Senate.<ul>"),2==e.game.state.agendas_per_round&&(u+="Select two agendas to advance for consideration in the Galactic Senate.<ul>"),3==e.game.state.agendas_per_round&&(u+="Select three agendas to advance for consideration in the Galactic Senate.<ul>"),i=0;i<3&&i<e.game.state.agendas.length;i++)u+='<li class="option" id="'+e.game.state.agendas[i]+'">'+a[e.game.state.agendas[i]].name+"</li>";u+="</ul>",e.updateStatus(u),$(".option").off(),$(".option").on("mouseenter",(function(){var t=$(this).attr("id");e.showAgendaCard(t)})),$(".option").on("mouseleave",(function(){var t=$(this).attr("id");e.hideAgendaCard(t)})),$(".option").on("click",(function(){if(s++,n.push($(this).attr("id")),$(this).hide(),e.hideAgendaCard(n[n.length-1]),s>=e.game.state.agendas_per_round){for(i=1;i>=0;i--)"simultaneous"===e.game.state.agenda_voting_order?(e.addMove("resolve_agenda\t"+n[i]),e.addMove("post_agenda_stage_post\t"+n[i]),e.addMove("post_agenda_stage\t"+n[i]),e.addMove("simultaneous_agenda\t"+n[i]+"\t"+i),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.addMove("pre_agenda_stage_post\t"+n[i]),e.addMove("pre_agenda_stage\t"+n[i]),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length)):(e.addMove("resolve_agenda\t"+n[i]),e.addMove("post_agenda_stage_post\t"+n[i]),e.addMove("post_agenda_stage\t"+n[i]),e.addMove("agenda\t"+n[i]+"\t"+i),e.addMove("pre_agenda_stage_post\t"+n[i]),e.addMove("pre_agenda_stage\t"+n[i]),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length));e.endTurn()}}))}else e.updateStatus("The Speaker is selecting two Agendas for consideration by the Senate")}})},function(e,t){this.importStrategyCard("construction",{name:"Construction",rank:4,img:"/strategy/4_CONSTRUCTION.png",text:"<b>Player</b> builds Space Dock and PDS or two PDS units.<hr /><b>Others</b> may spend strategy token and activate sector to build PDS or Space Dock.",strategyPrimaryEvent:function(e,t,r){e.game.player==r&&t==r&&(e.addMove("resolve\tstrategy"),e.addMove("strategy\tconstruction\t"+r+"\t2"),e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.playerAcknowledgeNotice("You have played Construction. First you will have the option of producing a PDS or Space Dock. Then you will have the option of producing an additional PDS if you so choose.",(function(){e.playerBuildInfrastructure((function(t){e.playerBuildInfrastructure((function(t){e.updateSectorGraphics(t),e.endTurn()}),2)}),1)})))},strategySecondaryEvent:function(e,t,r){if(e.game.player!=r&&e.game.player==t){var n="<p>Construction has been played. Do you wish to spend 1 strategy token to build a PDS or Space Dock? This will activate the sector (if unactivated): </p><ul>";1==e.game.state.round&&(n='<p class="doublespace">'.concat(e.returnFaction(r)," has played the Construction strategy card. You may spend 1 strategy token to build a PDS or Space Dock on a planet you control (this will activate the sector). You have ").concat(e.game.players_info[t-1].strategy_tokens," strategy tokens. Use this ability? </p><ul>")),e.game.players_info[t-1].strategy_tokens>0&&(n+='<li class="option" id="yes">Yes</li>'),n+='<li class="option" id="no">No</li>',n+="</ul>",e.updateStatus(n),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface();var t=$(this).attr("id");return"yes"==t&&(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.addMove("expend\t"+e.game.player+"\tstrategy\t1"),e.playerBuildInfrastructure((function(t){e.addMove("activate\t"+e.game.player+"\t"+t),e.updateSectorGraphics(t),e.endTurn()}),1)),"no"==t?(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn(),0):void 0}salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}}})},function(e,t){this.importStrategyCard("trade",{name:"Trade",rank:5,img:"/strategy/5_TRADE.png",text:"<b>Player</b> gains 3 trade goods, may refresh any player's commodities.<hr /><b>Others</b> may spend strategy token to refresh their commodities.",strategyPrimaryEvent:function(e,t,r){if(e.game.player==r&&t==r){e.addMove("resolve\tstrategy"),e.addMove("strategy\ttrade\t"+r+"\t2"),e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.addMove("purchase\t"+e.game.player+"\tgoods\t3"),e.addMove("purchase\t"+e.game.player+"\tcommodities\t"+e.game.players_info[e.game.player-1].commodity_limit);for(var n=e.returnFactions(),a="<p>You will receive 3 trade goods and "+e.game.players_info[e.game.player-1].commodity_limit+" commodities. You may choose to replenish the commodities of any other players: </p><ul>",i=0;i<e.game.players_info.length;i++)i!=e.game.player-1&&(a+='<li class="option" id="'+i+'">'+n[e.game.players_info[i].faction].name+"</li>");a+='<li class="option" id="finish">done</li>',e.updateStatus(a),$(".option").off(),$(".option").on("click",(function(){var t=$(this).attr("id");"finish"!=t?(e.addMove("purchase\t"+(parseInt(t)+1)+"\tcommodities\t"+e.game.players_info[t].commodity_limit),$(this).hide()):e.endTurn()}))}},strategySecondaryEvent:function(e,t,r){if(e.game.player==t&&e.game.player!=r){if(e.game.players_info[t-1].commodities==e.game.players_info[t-1].commodity_limit)return e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.updateLog(e.returnFaction(t)+" skips the Trade secondary as they have already refreshed commodities"),e.endTurn(),1;var n="<p>Trade has been played. Do you wish to spend 1 strategy token to refresh your commodities? </p><ul>";if(1==e.game.state.round&&(n='<p class="doublespace">'.concat(e.returnFaction(r)," has played the Trade strategy card. You may spend 1 strategy token to refresh your faction commodities, which may be exchanged with your neighbours on the board for trade goods. You have ").concat(e.game.players_info[t-1].strategy_tokens," strategy tokens. Use this ability? </p><ul>")),e.game.players_info[t-1].strategy_tokens>0&&(n+='<li class="option" id="yes">Yes</li>'),n+='<li class="option" id="no">No</li>',n+="</ul>",e.game.players_info[e.game.player-1].commodities==e.game.players_info[e.game.player-1].commodity_limit)return e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.addMove("NOTIFY\t"+e.returnFaction(e.game.player)+" already has commodities and skips trade secondary"),e.endTurn(),0;e.updateStatus(n),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface(),$(".option").off();var t=$(this).attr("id");return"yes"==t&&(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.addMove("purchase\t"+e.game.player+"\tcommodities\t"+e.game.players_info[e.game.player-1].commodity_limit),e.addMove("expend\t"+e.game.player+"\tstrategy\t1"),e.endTurn()),"no"==t?(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn(),0):void 0}salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}}})},function(e,t){this.importStrategyCard("warfare",{name:"Warfare",rank:6,img:"/strategy/6_WARFARE.png",text:"<b>Player</b> may de-activate any sector and gain 1 token.<hr /><b>Others</b> may spend strategy token to produce in home system",strategyPrimaryEvent:function(e,t,r){e.game.player==r&&t==r&&(e.updateStatus("Select sector to de-activate."),e.playerSelectSector((function(t){var n=e.returnSectorAndPlanets(t);e.addMove("resolve\tstrategy"),e.addMove("strategy\twarfare\t"+r+"\t2"),e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.addMove("deactivate\t"+r+"\t"+t),e.addMove("NOTIFY\t"+e.returnFaction(r)+" deactivates "+n.s.name),e.playerAllocateNewTokens(e.game.player,1,0,3,0)})))},strategySecondaryEvent:function(e,t,r){if(e.game.player==t&&e.game.player!=r){var n="<p>Do you wish to spend 1 strategy token to produce in your home sector? </p><ul>";1==e.game.state.round&&(n='<p class="doublespace">'.concat(e.returnFaction(r)," has played the Warfare strategy card. You may spend 1 strategy token to produce in your Homeworld without activating the sector. You have ").concat(e.game.players_info[t-1].strategy_tokens," strategy tokens. Use this ability? </p><ul>")),e.game.players_info[t-1].strategy_tokens>0&&(n+='<li class="option" id="yes">Yes</li>'),n+='<li class="option" id="no">No</li>',n+="</ul>",e.updateStatus(n),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface();var t=$(this).attr("id");return"yes"==t&&e.playerProduceUnits(e.game.players_info[e.game.player-1].homeworld,0,0,2,1),"no"==t?(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn(),0):void 0}salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))}}})},function(e,t){this.importStrategyCard("technology",{name:"Technology",rank:7,img:"/strategy/7_TECHNOLOGY.png",text:"<b>Player</b> researches a tech and may spend 6 resources for a second.<hr /><b>Others</b> may research for strategy token and 4 resources",strategyPrimaryEvent:function(e,t,r){e.game.player==r&&t==r&&e.playerAcknowledgeNotice("You will first have the option of researching a free-technology, and then invited to purchase an additional tech for 6 resources:",(function(){e.playerResearchTechnology((function(n){e.game.players_info[e.game.player-1].tech.push(n),e.addMove("resolve\tstrategy"),e.addMove("strategy\ttechnology\t"+r+"\t2"),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.addMove("purchase\t"+t+"\ttechnology\t"+n),e.endTurn()}))}))},strategySecondaryEvent:function(e,t,r){var n="",a=0;return console.log("STRAT SEC: "+t+" -- "+r),e.game.player==t&&e.game.player!=r?(a=e.game.players_info[e.game.player-1].cost_of_technology_secondary,n="<p>Technology has been played. Do you wish to spend 4 resources and a strategy token to research a technology? </p><ul>",1==e.game.state.round&&(n='<p class="doublespace">'.concat(e.returnFaction(r)," has played the Technology strategy card. You may spend 4 resources and a strategy token to gain a permanent new unit or ability. You have ").concat(e.game.players_info[t-1].strategy_tokens," strategy tokens. Use this ability?</p><ul>")),1!=e.game.players_info[t-1].permanent_research_technology_card_must_not_spend_resources&&1!=e.game.players_info[t-1].temporary_research_technology_card_must_not_spend_resources||(n="<p>Technology has been played. Do you wish to spend a strategy token to research a technology? </p><ul>",a=0),e.returnAvailableResources(e.game.player)>=a&&e.game.players_info[t-1].strategy_tokens>0&&(n+='<li class="option" id="yes">Yes</li>'),n+='<li class="option" id="no">No</li>',n+="</ul>",e.updateStatus(n),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface();var r=$(this).attr("id");return"yes"===r&&(e.game.players_info[t-1].temporary_research_technology_card_must_not_spend_resources=0,e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.playerSelectResources(a,(function(r){1==r?e.playerResearchTechnology((function(r){e.addMove("purchase\t"+t+"\ttechnology\t"+r),e.addMove("expend\t"+e.game.player+"\tstrategy\t1"),e.endTurn()})):e.endTurn()}))),"no"===r?(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn(),0):void 0}salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")})),0):(e.game.player!=r||(n="<p>Do you wish to spend "+(a=e.game.players_info[e.game.player-1].cost_of_technology_primary)+" resources to research an additional technology? </p><ul>",1!=e.game.players_info[e.game.player-1].permanent_research_technology_card_must_not_spend_resources&&1!=e.game.players_info[e.game.player-1].temporary_research_technology_card_must_not_spend_resources||(n="<p>Do you wish to research an additional technology? </p><ul>",a=0),e.returnAvailableResources(e.game.player)>=a&&(n+='<li class="option" id="yes">Yes</li>'),n+='<li class="option" id="no">No</li>',n+="</ul>",e.updateStatus(n),e.lockInterface(),$(".option").off(),$(".option").on("click",(function(){if(e.mayUnlockInterface()){e.unlockInterface();var t=$(this).attr("id");return"yes"==t&&(e.game.players_info[e.game.player-1].temporary_research_technology_card_must_not_spend_resources,e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.playerSelectResources(a,(function(t){1==t&&e.playerResearchTechnology((function(t){e.addMove("purchase\t"+e.game.player+"\ttechnology\t"+t),e.endTurn()}))}))),"no"==t?(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn(),0):void 0}salert("The game engine is currently processing moves related to another player's move. Please wait a few seconds and reload your browser.")}))),0)}}),this.importAgendaCard("minister-of-technology",{name:"Minister of Technology",type:"Law",text:"Elect a player. They do not need to spend resources to research technology when the technology card is played",initialize:function(e){if(!e.game.state.ministery_of_technology){e.game.state.minster_of_technology=null,e.game.state.minster_of_technology_player=null;for(var t=0;t<e.game.players_info.length;t++)e.game.players_info[t].temporary_research_technology_card_must_not_spend_resources||(e.game.players_info[t].temporary_research_technology_card_must_not_spend_resources=0,e.game.players_info[t].permanent_research_technology_card_must_not_spend_resources=0)}},returnAgendaOptions:function(e){for(var t=[],r=0;r<e.game.players_info.length;r++)t.push(e.returnFaction(r+1));return t},onPass:function(e,t){for(var r=0,n=0;n<e.game.players_info.length;n++)e.returnFaction(n+1)==t&&(r=n);e.game.state.minister_of_technology=1,e.game.state.minister_of_technology_player=r+1,e.game.players_info[r].permanent_research_technology_card_must_not_spend_resources=1,e.game.state.laws.push({agenda:"minister-of-technology",option:t})}}),this.importActionCard("unexpected-breakthrough",{name:"Unexpected Breakthrough",type:"action",text:"Do not spend resources to research technology the next time the Technology card is played",playActionCard:function(e,t,r,n){return e.game.players_info[r-1].temporary_research_technology_card_must_not_spend_resources=1,1}})},function(e,t){this.importStrategyCard("imperial",{name:"Imperial",rank:8,img:"/strategy/8_IMPERIAL.png",text:"<b>Player</b> may score a public objective, gains 1 VP for controlling New Byzantium or secret objective if not.<hr /><b>Others</b> may spend strategy token to purchase secret objective",strategyPrimaryEvent:function(e,t,r){if(e.game.player==r&&t==r){e.game.planets["new-byzantium"].owner==r?e.playerAcknowledgeNotice("You are granted an additional Victory Point for controlling New Byzantium during Imperial Scoring",(function(){e.playerAcknowledgeNotice("You will first be asked to score your public objective. The game will then allow other players to purchase secret objectives.",(function(){e.addMove("resolve\tstrategy"),e.addMove("strategy\timperial\t"+r+"\t2"),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.playerScoreVictoryPoints(e,(function(e,r,n){r>0&&(null!=e.stage_i_objectives[n]||null!=e.stage_ii_objectives[n])?null!=e.stage_i_objectives[n]?e.stage_i_objectives[n].scoreObjective(e,t,(function(){e.addMove("score\t"+e.game.player+"\t1\tnew-byzantium"),e.addMove("score\t"+t+"\t"+r+"\t"+n),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(n),e.updateStatus("scoring completed"),e.endTurn()})):e.stage_ii_objectives[n].scoreObjective(e,t,(function(){e.addMove("score\t"+e.game.player+"\t1\tnew-byzantium"),e.addMove("score\t"+t+"\t"+r+"\t"+n),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(n),e.updateStatus("scoring completed"),e.endTurn()})):(e.addMove("score\t"+e.game.player+"\t1\tnew-byzantium"),e.updateStatus("scoring completed"),e.endTurn())}),1)}))})):e.playerAcknowledgeNotice("As you do not control New Byzantium during Imperial Scoring, you will be issued an additional Secret Objective",(function(){e.playerAcknowledgeNotice("You will next be asked to score a public objective. The game will then allow other players to purchase secret objectives.",(function(){e.addMove("resolve\tstrategy"),e.addMove("strategy\timperial\t"+r+"\t2"),e.addMove("resetconfirmsneeded\t"+e.game.players_info.length),e.playerScoreVictoryPoints(e,(function(e,n,a){n>0&&(null!=e.stage_i_objectives[a]||null!=e.stage_ii_objectives[a])?null!=e.stage_i_objectives[a]?e.stage_i_objectives[a].scoreObjective(e,t,(function(){e.addMove("score\t"+t+"\t"+n+"\t"+a),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(a),e.updateStatus("scoring completed"),e.addMove("gain\t"+r+"\tsecret_objective\t1"),e.addMove("DEAL\t6\t"+r+"\t1"),e.endTurn()})):e.stage_ii_objectives[a].scoreObjective(e,t,(function(){e.addMove("score\t"+t+"\t"+n+"\t"+a),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(a),e.updateStatus("scoring completed"),e.addMove("gain\t"+r+"\tsecret_objective\t1"),e.addMove("DEAL\t6\t"+r+"\t1"),e.endTurn()})):(e.addMove("gain\t"+r+"\tsecret_objective\t1"),e.addMove("DEAL\t6\t"+r+"\t1"),e.endTurn())}),1)}))}))}return 0},strategySecondaryEvent:function(e,t,r){return e.game.state.playing_strategy_card_secondary=1,e.game.player==t&&(e.game.player!=r&&e.game.players_info[t-1].strategy_tokens>0?e.playerBuySecretObjective(2):(e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),e.endTurn())),0},strategyTertiaryEvent:function(e,t,r){if(e.game.state.playing_strategy_card_secondary=1,e.game.state.round_scoring=1,t==e.game.player){var n="",a="";return e.game.state.round_scoring=2,e.playerScoreSecretObjective(e,(function(r,i,s){a=i,n=s,e.playerScoreVictoryPoints(e,(function(r,i,s){if(e.updateStatus("scoring completed"),e.addMove("resolve\tstrategy\t1\t"+e.app.wallet.returnPublicKey()),e.addPublickeyConfirm(e.app.wallet.returnPublicKey(),1),a>0)return null!=e.secret_objectives[n]&&e.secret_objectives[n].scoreObjective(e,t,(function(){e.addMove("score\t"+t+"\t"+a+"\t"+n),i>0?(null!=e.stage_i_objectives[s]&&e.stage_i_objectives[s].scoreObjective(e,t,(function(){e.addMove("score\t"+t+"\t"+i+"\t"+s),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(n),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(s),e.endTurn()})),null!=e.stage_ii_objectives[s]&&e.stage_ii_objectives[s].scoreObjective(e,t,(function(){e.addMove("score\t"+t+"\t"+i+"\t"+s),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(n),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(s),e.endTurn()}))):(e.game.players_info[e.game.player-1].objectives_scored_this_round.push(n),e.endTurn())})),0;i>0?(null!=e.stage_i_objectives[s]&&e.stage_i_objectives[s].scoreObjective(e,t,(function(){e.addMove("score\t"+t+"\t"+i+"\t"+s),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(s),e.endTurn()})),null!=e.stage_ii_objectives[s]&&e.stage_ii_objectives[s].scoreObjective(e,t,(function(){e.addMove("score\t"+t+"\t"+i+"\t"+s),e.game.players_info[e.game.player-1].objectives_scored_this_round.push(s),e.endTurn()}))):e.endTurn()}),2)})),0}}})},function(e,t){this.importTech("antimass-deflectors",{name:"Antimass Deflectors",color:"blue",prereqs:[],text:"You may move through asteroid fields and gain -1 when receiving PDS fire",initialize:function(e,t){null==e.game.players_info[t-1].antimass_deflectors&&(e.game.players_info[t-1].antimass_deflectors=0)},gainTechnology:function(e,t,r){"antimass-deflectors"==r&&(e.game.players_info[t-1].antimass_deflectors=1,e.game.players_info[t-1].fly_through_asteroids=1)}}),this.importTech("gravity-drive",{name:"Gravity Drive",color:"blue",prereqs:["blue"],text:"One ship may gain +1 movement when you activate a system",initialize:function(e,t){null==e.game.players_info[t-1].gravity_drive&&(e.game.players_info[t-1].gravity_drive=0)},gainTechnology:function(e,t,r){"gravity-drive"==r&&(e.game.players_info[t-1].gravity_drive=1,e.game.players_info[t-1].ship_move_bonus=1)}}),this.importTech("fleet-logistics",{name:"Fleet Logistics",color:"blue",prereqs:["blue","blue"],text:"You may perform two actions in any turn",onNewRound:function(e,t){e.doesPlayerHaveTech(t,"fleet-logistics")&&(e.game.players_info[t-1].fleet_logistics_turn=0)},onNewTurn:function(e,t){e.doesPlayerHaveTech(t,"fleet-logistics")&&e.game.players_info[t-1].fleet_logistics_turn++},initialize:function(e,t){null==e.game.players_info[t-1].fleet_logistics&&(e.game.players_info[t-1].fleet_logistics=0,e.game.players_info[t-1].fleet_logistics_exhausted=0,e.game.players_info[t-1].fleet_logistics_turn=0)},gainTechnology:function(e,t,r){"fleet-logistics"==r&&(e.game.players_info[t-1].fleet_logistics=1,e.game.players_info[t-1].fleet_logistics_exhausted=0,e.game.players_info[t-1].perform_two_actions=1)},menuOption:function(e,t,r){return"main"==t&&e.doesPlayerHaveTech(r,"fleet-logistics")?{event:"fleetlogistics",html:'<li class="option" id="fleetlogistics">use fleet logistics</li>'}:{}},menuOptionTriggers:function(e,t,r){return"main"==t&&e.doesPlayerHaveTech(r,"fleet-logistics")&&0==e.game.players_info[r-1].fleet_logistics_exhausted&&e.game.players_info[r-1].fleet_logistics_turn<2&&1==e.game.players_info[r-1].fleet_logistics?1:0},menuOptionActivated:function(e,t,r){return"main"==t&&(e.game.players_info[r-1].fleet_logistics_exhausted=1,e.updateLog(e.returnFaction(r)+" exhausts Fleet Logistics"),e.addMove("setvar\tplayers\t"+r+"\tfleet_logistics_exhausted\tint\t1"),e.addMove("play\t"+r),e.addMove("play\t"+r),e.addMove("NOTIFY\t"+r+" activates fleet logistics"),e.endTurn(),e.updateStatus("Activating Fleet Logistics")),0}}),this.importTech("lightwave-deflector",{name:"Light/Wave Deflector",color:"blue",prereqs:["blue","blue","blue"],text:"Your fleet may move through sectors with opponent ships",initialize:function(e,t){null==e.game.players_info[t-1].lightwave_deflector&&(e.game.players_info[t-1].lightwave_deflector=0)},gainTechnology:function(e,t,r){"lightwave-deflector"==r&&(e.game.players_info[t-1].lightwave_deflector=1,e.game.players_info[t-1].move_through_sectors_with_opponent_ships=1)}})},function(e,t){this.importTech("neural-motivator",{name:"Neural Motivator",color:"green",prereqs:[],text:"Gain an extra action card each turn",initialize:function(e,t){null==e.game.players_info[t-1].neural_motivator&&(e.game.players_info[t-1].neural_motivator=0)},gainTechnology:function(e,t,r){"neural-motivator"==r&&(e.game.players_info[t-1].neural_motivator=1,e.game.players_info[t-1].action_cards_bonus_when_issued=1)}}),this.importTech("dacxive-animators",{name:"Dacxive Animators",color:"green",prereqs:["green"],text:"Place an extra infantry on any planet after winning a defensive ground combat tbere",initialize:function(e,t){null==e.game.players_info[t-1].dacxive_animators&&(e.game.players_info[t-1].dacxive_animators=0)},gainTechnology:function(e,t,r){"dacxive-animators"==r&&(e.game.players_info[t-1].dacxive_animators=1)},groundCombatRoundEnd:function(e,t,r,n,a){var i=e.returnNumberOfGroundForcesOnPlanet(t,n,a),s=e.returnNumberOfGroundForcesOnPlanet(r,n,a);e.doesPlayerHaveTech(r,"dacxive-animators")&&i<s&&0==i&&(e.addPlanetaryUnit(r,n,a,"infantry"),e.updateLog(e.returnFaction(r)+" reinforces infantry with Dacxive Animators"))}}),this.importTech("hyper-metabolism",{name:"Hyper Metabolism",color:"green",prereqs:["green","green"],text:"Gain an extra command token each round",initialize:function(e,t){null==e.game.players_info[t-1].hyper_metabolism&&(e.game.players_info[t-1].hyper_metabolism=0)},gainTechnology:function(e,t,r){"hyper-metabolism"==r&&(e.game.players_info[t-1].hyper_metabolism=1,e.game.players_info[t-1].new_token_bonus_when_issued=1)}}),this.importTech("x89-bacterial-weapon",{name:"X-89 Bacterial Weapon",color:"green",prereqs:["green","green","green"],text:"Bombardment destroys all infantry on planet",initialize:function(e,t){null==e.game.players_info[t-1].x89_bacterial_weapon&&(e.game.players_info[t-1].x89_bacterial_weapon=0,e.game.players_info[t-1].x89_bacterial_weapon_exhausted=0)},gainTechnology:function(e,t,r){"x89-bacterial-weapon"==r&&(e.game.players_info[t-1].x89_bacterial_weapon=1,e.game.players_info[t-1].x89_bacterial_weapon_exhausted=0)},onNewRound:function(e,t){return e.game.players_info[t-1].x89_bacterial_weapon_exhausted=0,1},bombardmentTriggers:function(e,t,r,n){return 1==e.game.players_info[r-1].x89_bacterial_weapon&&0==e.game.players_info[r-1].x89_bacterial_weapon_exhausted&&(e.doesSectorContainPlayerUnit(r,n,"warsun")||e.doesSectorContainPlayerUnit(r,n,"dreadnaught"))?1:0},bombardmentEvent:function(e,t,r,n,a){if(e.game.player!=r)return 0;if(e.game.player!=t)return 0;e.returnSectorAndPlanets(n).p[a];return"<p>Do you wish to use Bacterial Weapons during Bombardment?</p><ul>",'<li class="option textchoice" id="attack">use bacterial weapons?</li>','<li class="option textchoice" id="skip">skip</li>',"</ul>",e.updateStatus('<p>Do you wish to use Bacterial Weapons during Bombardment?</p><ul><li class="option textchoice" id="attack">use bacterial weapons?</li><li class="option textchoice" id="skip">skip</li></ul>'),$(".textchoice").off(),$(".textchoice").on("click",(function(){var r=$(this).attr("id");"attack"==r&&(e.addMove("destroy_infantry_on_planet\t"+t+"\t"+n+"\t"+a+"\t100"),e.addMove("setvar\tplayers\t"+t+"\tx89_bacterial_weapon_exhausted\tint\t1"),e.addMove("NOTIFY\t"+e.returnFaction(t)+" uses X89 Bacterial Weapons"),e.endTurn()),"skip"==r&&(e.addMove("NOTIFY\t"+e.returnFaction(t)+" refrains from using X89 Bacterial Weapons"),e.endTurn())})),0}})},function(e,t){this.importTech("plasma-scoring",{name:"Plasma Scoring",color:"red",prereqs:[],text:"All PDS and bombardment fire gets +1 bonus shot",initialize:function(e,t){null==e.game.players_info[t-1].plasma_scoring&&(e.game.players_info[t-1].plasma_scoring=0)},gainTechnology:function(e,t,r){"plasma-scoring"==r&&(e.game.players_info[t-1].plasma_scoring=1,e.game.players_info[t-1].pds_combat_roll_bonus_shots++)},pdsSpaceAttackTriggers:function(e,t,r,n){return e.doesPlayerHaveTech(r,"plasma-scoring")&&1==e.doesPlayerHavePDSUnitsWithinRange(t,r,n)&&t!=r&&e.updateLog(e.returnFaction(r)+" gets +1 shot from Plasma Scoring"),0},pdsSpaceDefenseTriggers:function(e,t,r,n){return e.doesPlayerHaveTech(r,"plasma-scoring")&&1==e.doesPlayerHavePDSUnitsWithinRange(t,r,n)&&t!=r&&e.updateLog(e.returnFaction(r)+" gets +1 shot from Plasma Scoring"),0}}),this.importTech("magen-defense-grid",{name:"Magen Defense Grid",color:"red",text:"When ground combat begins on a planet with PDS or Space Dock, destroy one opponent infantry",prereqs:["red"],initialize:function(e,t){null==e.game.players_info[t-1].magen_defense_grid&&(e.game.players_info[t-1].magen_defense_grid=0)},onNewRound:function(e,t){return t==e.game.player&&(e.game.players_info[t-1].magen_defense_grid=1),1},groundCombatTriggers:function(e,t,r,n){if(e.game.state.ground_combat_round>=1)return 0;if(e.doesPlayerHaveTech(t,"magen-defense-grid")){var a=e.returnSectorAndPlanets(r).p[n];if(t==a.owner)for(var i=0;i<a.units[t-1].length;i++)if("spacedock"==a.units[t-1][i].type||"pds"==a.units[t-1][i].type)return e.updateLog("Magan Defense Grid triggers on "+a.name),1}return 0},groundCombatEvent:function(e,t,r,n){for(var a=e.returnSectorAndPlanets(r).p[n],i=a.owner,s=0;s<a.units.length;s++){var o=a.units[s].length;if(s!=i-1&&s<a.units.length)for(var c=0;c<o;c++){var u=s+1,l=t;"infantry"==a.units[s][c].type&&(e.assignHitsToGroundForces(l,u,r,n,1),e.eliminateDestroyedUnitsInSector(u,r),e.updateSectorGraphics(r),e.updateLog(e.returnFaction(u)+" loses 1 infantry to Magan Defense Grid"),c=a.units[s].length+3,s=a.units.length+3)}}return 1}}),this.importTech("duranium-armor",{name:"Duranium Armor",color:"red",prereqs:["red","red"],text:"Each round, you may repair any ship which has not taken damage this round",initialize:function(e,t){null==e.game.players_info[t-1].duranium_armor&&(e.game.players_info[t-1].duranium_armor=0,e.game.players_info[t-1].duranium_armor=0)},onNewRound:function(e,t,r){return t==e.game.player&&(e.game.players_info[t-1].duranium_armor=1,e.game.players_info[t-1].may_repair_damaged_ships_after_space_combat=1),1},spaceCombatRoundOver:function(e,t,r,n){var a=e.returnSectorAndPlanets(n);if(e.doesPlayerHaveTech(t,"duranium-armor"))for(var i=0;i<a.s.units[t-1].length;i++){var s=a.s.units[t-1][i];s.last_round_damaged<e.game.state.space_combat_round&&(s.strength=s.max_strength,e.updateLog(e.returnFaction(t)+" repairs ships with Duranium Armor"))}if(e.doesPlayerHaveTech(r,"duranium-armor"))for(var o=0;o<a.s.units[r-1].length;o++){var c=a.s.units[r-1][o];c.last_round_damaged<e.game.state.space_combat_round&&(c.strength=c.max_strength,e.updateLog(e.returnFaction(r)+" repairs ships with Duranium Armor"))}}}),this.importTech("assault-cannon",{name:"Assault Cannon",color:"red",prereqs:["red","red","red"],text:"If you have three or more capital ships in a sector, destroy one opponent capital ship",initialize:function(e,t){null==e.game.players_info[t-1].assault_cannont&&(e.game.players_info[t-1].assault_cannont=0)},onNewRound:function(e,t,r){return t==e.game.player&&(e.game.players_info[t-1].assault_cannont=1,e.game.players_info[t-1].may_assign_first_round_combat_shot=1),1},spaceCombatTriggers:function(e,t,r){e.game.state.activated_sector=r;for(var n=e.returnSectorAndPlanets(r),a=0,i=0;i<n.s.units.length;i++)if(i+1!=t&&e.doesPlayerHaveTech(i+1,"assault-cannon")){for(var s=0;s<n.s.units[i].length;s++){var o=n.s.units[i][s];"destroyer"==o.type&&a++,"carrier"==o.type&&a++,"cruiser"==o.type&&a++,"dreadnaught"==o.type&&a++,"flagship"==o.type&&a++,"warsun"==o.type&&a++}if(a>=3)for(var c=0;c<n.s.units[t-1].length;c++){var u=n.s.units[t-1][c];if("destroyer"==u.type)return 1;if("carrier"==u.type)return 1;if("cruiser"==u.type)return 1;if("dreadnaught"==u.type)return 1;if("flagship"==u.type)return 1;if("warsun"==u.type)return 1}}return 0},spaceCombatEvent:function(e,t,r){return e.game.players_info[t-1].target_units=["carrier","destroyer","cruiser","dreadnaught","flagship","warsun"],e.game.queue.push("destroy_ships\t"+t+"\t1\t"+e.game.state.activated_sector),e.game.queue.push("ACKNOWLEDGE\t"+e.returnFaction(t)+" must destroy 1 ship from Assault Cannon"),1}})},function(e,t){this.importTech("spacedock-ii",{name:"SpaceDock II",unit:1,prereqs:["yellow","yellow"],text:"May produce 4 more units than its planet resource value",initialize:function(e,t){if(1==e.game.players_info[t-1].spacedock_ii)return 1;e.game.players_info[t-1].spacedock_ii=0},gainTechnology:function(e,t,r){"spacedock-ii"==r&&(e.game.players_info[t-1].spacedock_ii=1)},upgradeUnit:function(e,t,r){return"spacedock"===r.type&&e.doesPlayerHaveTech(t,"spacedock-ii")?e.returnUnit("spacedock-ii",t,0):r}}),this.importTech("pds-ii",{name:"PDS II",unit:1,prereqs:["red","yellow"],text:"Hits on 5, able to fire into adjacent sectors",initialize:function(e,t){if(1==e.game.players_info[t-1].pds_ii)return 1;e.game.players_info[t-1].pds_ii=0},gainTechnology:function(e,t,r){"pds-ii"==r&&(e.game.players_info[t-1].pds_ii=1)},upgradeUnit:function(e,t,r){return"pds"===r.type&&e.doesPlayerHaveTech(t,"pds-ii")?e.returnUnit("pds-ii",t,0):r}}),this.importTech("carrier-ii",{name:"Carrier II",unit:1,prereqs:["blue","blue"],text:"Moves 2 hexes and carries 6 infantry or fighters",initialize:function(e,t){if(1==e.game.players_info[t-1].carrier_ii)return 1;e.game.players_info[t-1].carrier_ii=0},gainTechnology:function(e,t,r){"carrier-ii"==r&&(e.game.players_info[t-1].carrier_ii=1)},upgradeUnit:function(e,t,r){return"carrier"===r.type&&e.doesPlayerHaveTech(t,"carrier-ii")?(console.log("returning upgraded carrier..."),e.returnUnit("carrier-ii",t,0)):r}}),this.importTech("infantry-ii",{name:"Infantry II",unit:1,prereqs:["green","green"],text:"Chance of medical rescue and return to homeworld after unit is destroyed",initialize:function(e,t){if(1==e.game.players_info[t-1].infantry_ii)return 1;e.game.players_info[t-1].infantry_ii=0},gainTechnology:function(e,t,r){"infantry-ii"==r&&(e.game.players_info[t-1].infantry_ii=1)},upgradeUnit:function(e,t,r){return"infantry"==r.type&&e.doesPlayerHaveTech(t,"infantry-ii")?e.returnUnit("infantry-ii",t,0):r}}),this.importTech("destroyer-ii",{name:"Destroyer II",unit:1,prereqs:["red","red"],text:"Hits on 8 and has stronger anti-fighter barrage (6x3)",initialize:function(e,t){if(1==e.game.players_info[t-1].destroyer_ii)return 1;e.game.players_info[t-1].destroyer_ii=0},gainTechnology:function(e,t,r){"destroyer-ii"==r&&(e.game.players_info[t-1].destroyer_ii=1)},upgradeUnit:function(e,t,r){return"destroyer"==r.type&&e.doesPlayerHaveTech(t,"destroyer-ii")?e.returnUnit("destroyer-ii",t,0):r}}),this.importTech("fighter-ii",{name:"Fighter II",unit:1,prereqs:["green","blue"],text:"Hits on 8 and moves 2 hexes. May survive without carriers or support",initialize:function(e,t){if(1==e.game.players_info[t-1].fighter_ii)return 1;e.game.players_info[t-1].fighter_ii=0},gainTechnology:function(e,t,r){"fighter-ii"==r&&(e.game.players_info[t-1].fighter_ii=1)},upgradeUnit:function(e,t,r){return"fighter"==r.type&&e.doesPlayerHaveTech(t,"fighter-ii")?e.returnUnit("fighter-ii",t,0):r}}),this.importTech("cruiser-ii",{name:"Cruiser II",unit:1,prereqs:["green","yellow","red"],text:"Hits on 6, moves 3 sectors and can carry 1 fighter or infantry",initialize:function(e,t){if(1==e.game.players_info[t-1].cruiser_ii)return 1;e.game.players_info[t-1].cruiser_ii=0},gainTechnology:function(e,t,r){"cruiser-ii"==r&&(e.game.players_info[t-1].cruiser_ii=1)},upgradeUnit:function(e,t,r){return"cruiser"==r.type&&e.doesPlayerHaveTech(t,"cruiser-ii")?e.returnUnit("cruiser-ii",t,0):r}}),this.importTech("dreadnaught-ii",{name:"Dreadnaught II",unit:1,prereqs:["blue","blue","yellow"],text:"Hits on 5, moves 2 sectors and can carry 1 unit. 2 hits to destroy",initialize:function(e,t){if(1==e.game.players_info[t-1].dreadnaught_ii)return 1;e.game.players_info[t-1].dreadnaught_ii=0},gainTechnology:function(e,t,r){"dreadnaught-ii"==r&&(e.game.players_info[t-1].dreadnaught_ii=1)},upgradeUnit:function(e,t,r){return"dreadnaught"==r.type&&e.doesPlayerHaveTech(t,"dreadnaught-ii")?e.returnUnit("dreadnaught-ii",t,0):r}}),this.importTech("warsun",{name:"Warsun",unit:1,prereqs:["red","red","red","yellow"],text:"The Death Star: terrifying in combat, but fragile without supporting fleet",initialize:function(e,t){null==e.game.players_info[t-1].may_produce_warsuns&&(e.game.players_info[t-1].may_produce_warsuns=0)},gainTechnology:function(e,t,r){"warsun"==r&&(e.game.players_info[t-1].may_produce_warsuns=1)}})},function(e,t){this.importTech("sarween-tools",{name:"Sarween Tools",color:"yellow",text:"Reduce cost of units produced by -1 when using production",prereqs:[],initialize:function(e,t){null==e.game.players_info[t-1].sarween_tools&&(e.game.players_info[t-1].sarween_tools=0)},gainTechnology:function(e,t,r){"sarween-tools"==r&&(e.game.players_info[t-1].sarween_tools=1,e.game.players_info[t-1].production_bonus=1)}}),this.importTech("graviton-laser-system",{name:"Graviton Laser System",color:"yellow",text:"Exhaust card once per round to target capital ships with PDS fire",prereqs:["yellow"],initialize:function(e,t){null==e.game.players_info[t-1].graviton_laser_system&&(e.game.players_info[t-1].graviton_laser_system=0,e.game.players_info[t-1].graviton_laser_system_exhausted=0,e.game.players_info[t-1].graviton_laser_system_active=0)},onNewRound:function(e,t){1==e.game.players_info[t-1].graviton_laser_system&&(e.game.players_info[t-1].graviton_laser_system_exhausted=0,e.game.players_info[t-1].graviton_laser_system_active=0)},gainTechnology:function(e,t,r){"graviton-laser-system"==r&&(e.game.players_info[t-1].graviton_laser_system=1,e.game.players_info[t-1].graviton_laser_system_exhausted=0)},modifyTargets:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];return"pds"==a&&1==e.game.players_info[r-1].graviton_laser_system_active&&(i.includes("warsun")||i.push("warsun"),i.includes("flagship")||i.push("flagship"),i.includes("dreadnaught")||i.push("dreadnaught"),i.includes("cruiser")||i.push("cruiser"),i.includes("carrier")||i.push("carrier"),i.includes("destroyer")||i.push("destroyer")),i},menuOption:function(e,t,r){return"pds"==t?{event:"graviton",html:'<li class="option" id="graviton">use graviton laser targetting</li>'}:{}},menuOptionTriggers:function(e,t,r){return"pds"==t&&0==e.game.players_info[r-1].graviton_laser_system_exhausted&&1==e.game.players_info[r-1].graviton_laser_system?1:0},menuOptionActivated:function(e,t,r){return"pds"==t&&(e.updateLog(e.returnFaction(r)+" exhausts Graviton Laser System"),e.game.players_info[r-1].graviton_laser_system_exhausted=1,e.game.players_info[r-1].graviton_laser_system_active=1,e.addMove("setvar\tplayers\t"+r+"\tgraviton_laser_system_exhausted\tint\t1"),e.addMove("setvar\tplayers\t"+r+"\tgraviton_laser_system_active\tint\t1"),e.addMove("NOTIFY\t"+e.returnFactionNickname(r)+" activates Graviton Laser System")),0}}),this.importTech("transit-diodes",{name:"Transit Diodes",color:"yellow",prereqs:["yellow","yellow"],text:"Exhaust to reallocate 4 infantry between planets your control",initialize:function(e,t){null==e.game.players_info[t-1].transit_diodes&&(e.game.players_info[t-1].transit_diodes=0,e.game.players_info[t-1].transit_diodes_exhausted=0)},gainTechnology:function(e,t,r){"transit-diodes"==r&&(e.game.players_info[t-1].transit_diodes=1,e.game.players_info[t-1].transit_diodes_exhausted=0)},menuOption:function(e,t,r){return"main"==t?{event:"transitdiodes",html:'<li class="option" id="transitdiodes">use transit diodes</li>'}:{}},menuOptionTriggers:function(e,t,r){return"main"==t&&e.doesPlayerHaveTech(r,"transit-diodes")?1:0},menuOptionActivated:function(e,t,r){return"main"==t&&e.playerRemoveInfantryFromPlanets(r,4,(function(t){e.playerAddInfantryToPlanets(r,t,(function(){e.addMove("setvar\tplayers\t"+r+"\ttransit_diodes_exhausted\tint\t1"),e.addMove("NOTIFY\t"+r+" activates transit diodes"),e.addMove("NOTIFY\t"+e.returnFaction(r)+" has moved infantry"),e.endTurn()}))})),0}}),this.importTech("integrated-economy",{name:"Integrated Economy",color:"yellow",prereqs:["yellow","yellow","yellow"],text:"You may produce on a planet after capturing it, up to cost (resource) limit of planet.",initialize:function(e,t){null==e.game.players_info[t-1].integrated_economy&&(e.game.players_info[t-1].integrated_economy=0,e.game.players_info[t-1].integrated_economy_planet_invaded=0,e.game.players_info[t-1].integrated_economy_planet_invaded_resources=0)},gainTechnology:function(e,t,r){"integrated-economy"==r&&(e.game.players_info[t-1].integrated_economy=1,e.game.players_info[t-1].integrated_economy_planet_invaded=0,e.game.players_info[t-1].integrated_economy_planet_invaded_resources=0)},gainPlanet:function(e,t,r){e.doesPlayerHaveTech(t,"integrated-economy")&&(e.game.players_info[t-1].may_player_produce_without_spacedock=1,e.game.players_info[t-1].may_player_produce_without_spacedock_production_limit=0,console.log("P: "+r),e.game.players_info[t-1].may_player_produce_without_spacedock_cost_limit+=e.game.planets[r].resources)}})},function(e,t){this.importUnit("infantry",{name:"Infantry",type:"infantry",cost:.5,combat:8,strength:1,space:0,ground:1,can_be_stored:1,capacity_required:1,description:"Infantry invade planets, but cannot move between sectors without being carried on carriers or other ships with capacity."}),this.importUnit("fighter",{name:"Fighter",type:"fighter",cost:.5,move:1,combat:9,strength:1,can_be_stored:1,capacity_required:1,description:"Fighters are disposable ships deployed to protect capital ships. They must be transported on carriers or other ships with capacity."}),this.importUnit("pds",{name:"PDS",type:"pds",range:0,cost:5,combat:6,description:"PDS units fire on other ships that invade their sectors. They can also fire on foreign infantry that invade a planet."}),this.importUnit("spacedock",{name:"Spacedock",type:"spacedock",capacity:3,production:2,combat:0,range:0,description:"Spacedocks are used to produce infantry and other ships. They cannot produce ships in space if an opponent fighter is in the sector"}),this.importUnit("carrier",{name:"Carrier",type:"carrier",cost:3,move:1,combat:9,capacity:4,strength:1,description:"The Carrier is a troop and fighter transport ship. Load it with infantry and fighters and use it to conquer other sectors."}),this.importUnit("destroyer",{name:"Destroyer",type:"destroyer",cost:1,move:2,combat:9,strength:1,anti_fighter_barrage:2,anti_fighter_barrage_combat:9,description:"The Destroyer is an inexpensive but mobile ship designed to counter fighter swarms - its ANTI-FIGHTER BARRAGE (2 rolls hitting on 9 or higher) happens at the very start of space-combat"}),this.importUnit("cruiser",{name:"Cruiser",type:"cruiser",cost:2,move:2,combat:7,strength:1,description:"The Cruiser is a more powerful ship with a reasonable chance of landing hits in battle."}),this.importUnit("dreadnaught",{name:"Dreadnaught",type:"dreadnaught",cost:4,move:1,capacity:1,combat:6,strength:2,bombardment_rolls:1,bombardment_combat:5,description:"The Dreadnaught is a powerful combat ship able to SUSTAIN DAMAGE once before being destroyed in combat"}),this.importUnit("flagship",{name:"Flagship",type:"flagship",cost:8,move:1,capacity:1,combat:7,strength:2,description:"The Flagship is the pride of the fleet -- each faction's flagship confers specific abilities. See your factino sheet for more details"}),this.importUnit("warsun",{name:"War Sun",type:"warsun",cost:12,shots:3,move:1,capacity:3,combat:3,strength:2,bombardment_rolls:3,bombardment_combat:3,description:"The War Sun is death packaged in a mass of planet-destroying turbinium. Rumours of their lethality abound, as few have fought one and lived to tell the tale."}),this.importUnit("infantry-ii",{name:"Infantry II",type:"infantry",cost:.5,combat:7,strength:1,space:0,ground:1,can_be_stored:1,capacity_required:1,extension:1,description:"Infantry II are stronger and more resilient but cannot typically be moved between sectors without moving on carriers or other ships with capacity."}),this.importUnit("fighter-ii",{name:"Fighter II",type:"fighter",cost:.5,move:2,combat:8,strength:1,can_be_stored:1,capacity_required:1,extension:1,description:"Fighter II can move without being transported by other ships. Any ships inexcess of your carrying capacity could against your fleet supply."}),this.importUnit("spacedock-ii",{name:"Spacedock II",type:"spacedock",capacity:3,production:4,extension:1,description:"Spacedock II can produce more units whenever they produce."}),this.importUnit("pds-ii",{name:"PDS II",type:"pds",cost:5,combat:5,range:1,extension:1,description:"PDS II has a slightly more accurate targeting mechanism and can fire into adjacent sectors."}),this.importUnit("carrier-ii",{name:"Carrier II",type:"carrier",cost:3,move:2,combat:9,capacity:6,strength:1,extension:1,description:"Carrier II has upgraded ship capacity and is slightly more robust in combat"}),this.importUnit("destroyer-ii",{name:"Destroyer II",type:"destroyer",cost:1,move:2,combat:8,strength:1,extension:1,anti_fighter_barrage:3,anti_fighter_barrage_combat:6,description:"Destroyer II has improved ANTI-FIGHTER-BARRAGE (3x6) and is slightly more effective in general combat"}),this.importUnit("cruiser-ii",{name:"Cruiser II",type:"cruiser",cost:2,move:3,combat:6,strength:1,extension:1,description:"Cruiser II has extended range and the ability to support a small phalanx of ground troops"}),this.importUnit("dreadnaught-ii",{name:"Dreadnaught II",type:"dreadnaught",cost:4,move:2,capacity:1,combat:5,strength:2,extension:1,description:"Dreadnaught II has improved movement, can support a small ground team and is slightly more effective in space combat"})},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var a=u(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return o(this,r)}}function o(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r(335),d=(r(12),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(d,e);var t,r,n,u=s(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=u.call(this,e)).app=e,t.name="MyQRCode",t.description="Displays your QRcode as an option in the top menu for easy scanning by other users",t.categories="Core Utilities",t.link="/email?module=myqrcode",t.description="QR Code display utility for Saito",t.categories="UI Utilities",o(t,c(t))}return t=d,(r=[{key:"respondTo",value:function(e){if("email-appspace"==e){var t={render:function(e,t){l.render(e,t)},attachEvents:function(e,t){l.attachEvents(e,t)}};return t}return null}}])&&a(t.prototype,r),n&&a(t,n),d}(r(27)));e.exports=d},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=r(70),h=(r(12),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(h,e);var t,r,n,d=o(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=d.call(this,e)).app=e,t.name="Poker",t.description="BETA version of Texas Hold'em Poker for the Saito Arcade. With five cards on the table and two in your hand, can you bet and bluff your way to victory? This game is a playable demo under active development!",t.categories="Games Arcade Entertainment",t.type="Classic Cardgame",t.card_img_dir="/poker/img/cards",t.useHUD=0,t.minPlayers=2,t.maxPlayers=6,t.interface=1,t.boardgameWidth=5100,t.settlement=[],t.updateHTML="",c(t,u(t))}return t=h,(r=[{key:"respondTo",value:function(e){if(null!=i(l(h.prototype),"respondTo",this).call(this,e))return i(l(h.prototype),"respondTo",this).call(this,e);if("arcade-carousel"==e){var t={background:"/poker/img/arcade/arcade-banner-background.png",title:"Poker"};return t}return"arcade-create-game"==e?{slug:this.slug,title:this.name,description:this.description,publisher_message:this.publisher_message,returnGameOptionsHTML:this.returnGameOptionsHTML.bind(this),minPlayers:this.minPlayers,maxPlayers:this.maxPlayers}:null}},{key:"initializeQueue",value:function(){this.game.queue=[],this.game.queue.push("round"),this.game.queue.push("READY"),2==this.game.players.length&&(this.game.queue.push("POOL\t1"),this.game.queue.push("DEAL\t1\t2\t2"),this.game.queue.push("DEAL\t1\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t1"),this.game.queue.push("DECKXOR\t1\t2"),this.game.queue.push("DECKXOR\t1\t1")),3==this.game.players.length&&(this.game.queue.push("POOL\t1"),this.game.queue.push("DEAL\t1\t3\t2"),this.game.queue.push("DEAL\t1\t2\t2"),this.game.queue.push("DEAL\t1\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t3"),this.game.queue.push("DECKENCRYPT\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t1"),this.game.queue.push("DECKXOR\t1\t3"),this.game.queue.push("DECKXOR\t1\t2"),this.game.queue.push("DECKXOR\t1\t1")),4==this.game.players.length&&(this.game.queue.push("POOL\t1"),this.game.queue.push("DEAL\t1\t4\t2"),this.game.queue.push("DEAL\t1\t3\t2"),this.game.queue.push("DEAL\t1\t2\t2"),this.game.queue.push("DEAL\t1\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t4"),this.game.queue.push("DECKENCRYPT\t1\t3"),this.game.queue.push("DECKENCRYPT\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t1"),this.game.queue.push("DECKXOR\t1\t4"),this.game.queue.push("DECKXOR\t1\t3"),this.game.queue.push("DECKXOR\t1\t2"),this.game.queue.push("DECKXOR\t1\t3"),this.game.queue.push("DECKXOR\t1\t2"),this.game.queue.push("DECKXOR\t1\t1")),5==this.game.players.length&&(this.game.queue.push("POOL\t1"),this.game.queue.push("DEAL\t1\t5\t2"),this.game.queue.push("DEAL\t1\t4\t2"),this.game.queue.push("DEAL\t1\t3\t2"),this.game.queue.push("DEAL\t1\t2\t2"),this.game.queue.push("DEAL\t1\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t5"),this.game.queue.push("DECKENCRYPT\t1\t4"),this.game.queue.push("DECKENCRYPT\t1\t3"),this.game.queue.push("DECKENCRYPT\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t1"),this.game.queue.push("DECKXOR\t1\t5"),this.game.queue.push("DECKXOR\t1\t4"),this.game.queue.push("DECKXOR\t1\t3"),this.game.queue.push("DECKXOR\t1\t2"),this.game.queue.push("DECKXOR\t1\t1")),6==this.game.players.length&&(this.game.queue.push("POOL\t1"),this.game.queue.push("DEAL\t1\t6\t2"),this.game.queue.push("DEAL\t1\t5\t2"),this.game.queue.push("DEAL\t1\t4\t2"),this.game.queue.push("DEAL\t1\t3\t2"),this.game.queue.push("DEAL\t1\t2\t2"),this.game.queue.push("DEAL\t1\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t6"),this.game.queue.push("DECKENCRYPT\t1\t5"),this.game.queue.push("DECKENCRYPT\t1\t4"),this.game.queue.push("DECKENCRYPT\t1\t3"),this.game.queue.push("DECKENCRYPT\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t1"),this.game.queue.push("DECKXOR\t1\t6"),this.game.queue.push("DECKXOR\t1\t5"),this.game.queue.push("DECKXOR\t1\t4"),this.game.queue.push("DECKXOR\t1\t3"),this.game.queue.push("DECKXOR\t1\t2"),this.game.queue.push("DECKXOR\t1\t1")),7==this.game.players.length&&(this.game.queue.push("POOL\t1"),this.game.queue.push("DEAL\t1\t7\t2"),this.game.queue.push("DEAL\t1\t6\t2"),this.game.queue.push("DEAL\t1\t5\t2"),this.game.queue.push("DEAL\t1\t4\t2"),this.game.queue.push("DEAL\t1\t3\t2"),this.game.queue.push("DEAL\t1\t2\t2"),this.game.queue.push("DEAL\t1\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t7"),this.game.queue.push("DECKENCRYPT\t1\t6"),this.game.queue.push("DECKENCRYPT\t1\t5"),this.game.queue.push("DECKENCRYPT\t1\t4"),this.game.queue.push("DECKENCRYPT\t1\t3"),this.game.queue.push("DECKENCRYPT\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t1"),this.game.queue.push("DECKXOR\t1\t7"),this.game.queue.push("DECKXOR\t1\t6"),this.game.queue.push("DECKXOR\t1\t5"),this.game.queue.push("DECKXOR\t1\t4"),this.game.queue.push("DECKXOR\t1\t3"),this.game.queue.push("DECKXOR\t1\t2"),this.game.queue.push("DECKXOR\t1\t1")),8==this.game.players.length&&(this.game.queue.push("POOL\t1"),this.game.queue.push("DEAL\t1\t8\t2"),this.game.queue.push("DEAL\t1\t7\t2"),this.game.queue.push("DEAL\t1\t6\t2"),this.game.queue.push("DEAL\t1\t5\t2"),this.game.queue.push("DEAL\t1\t4\t2"),this.game.queue.push("DEAL\t1\t3\t2"),this.game.queue.push("DEAL\t1\t2\t2"),this.game.queue.push("DEAL\t1\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t8"),this.game.queue.push("DECKENCRYPT\t1\t7"),this.game.queue.push("DECKENCRYPT\t1\t6"),this.game.queue.push("DECKENCRYPT\t1\t5"),this.game.queue.push("DECKENCRYPT\t1\t4"),this.game.queue.push("DECKENCRYPT\t1\t3"),this.game.queue.push("DECKENCRYPT\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t1"),this.game.queue.push("DECKXOR\t1\t8"),this.game.queue.push("DECKXOR\t1\t7"),this.game.queue.push("DECKXOR\t1\t6"),this.game.queue.push("DECKXOR\t1\t5"),this.game.queue.push("DECKXOR\t1\t4"),this.game.queue.push("DECKXOR\t1\t3"),this.game.queue.push("DECKXOR\t1\t2"),this.game.queue.push("DECKXOR\t1\t1")),this.game.queue.push("DECK\t1\t"+JSON.stringify(this.returnDeck()))}},{key:"initializeHTML",value:function(e){var t=this;i(l(h.prototype),"initializeHTML",this).call(this,e),this.app.modules.respondTo("chat-manager").forEach((function(r){r.respondTo("chat-manager").render(e,t),r.respondTo("chat-manager").attachEvents(e,t)})),this.menu.addMenuOption({text:"Game",id:"game-game",class:"game-game",callback:function(e,t){t.menu.showSubMenu("game-game")}}),this.menu.addSubMenuOption("game-game",{text:"Log",id:"game-log",class:"game-log",callback:function(e,t){t.menu.hideSubMenus(),t.log.toggleLog()}}),this.menu.addSubMenuOption("game-game",{text:"Stats",id:"game-stats",class:"game-stats",callback:function(e,t){t.menu.hideSubMenus(),t.handleStatsMenu()}}),this.menu.addSubMenuOption("game-game",{text:"Exit",id:"game-exit",class:"game-exit",callback:function(e,t){window.location.href="/arcade"}}),this.menu.addMenuIcon({text:'<i class="fa fa-window-maximize" aria-hidden="true"></i>',id:"game-menu-fullscreen",callback:function(e,t){t.menu.hideSubMenus(),e.browser.requestFullscreen()}});for(var r=0,n=0,a=0;a<this.app.modules.mods.length;a++)if("chat"===this.app.modules.mods[a].slug)for(var s=0;s<this.game.players.length;s++)this.game.players[s]!=this.app.wallet.returnPublicKey()&&function(){0==r&&(t.menu.addMenuOption({text:"Chat",id:"game-chat",class:"game-chat",callback:function(e,t){t.menu.showSubMenu("game-chat")}}),r=1),0==n&&(t.menu.addSubMenuOption("game-chat",{text:"Community",id:"game-chat-community",class:"game-chat-community",callback:function(e,t){t.menu.hideSubMenus(),c.mute_community_chat=0,c.sendEvent("chat-render-request",{}),c.openChatBox()}}),n=1);var e=[t.game.players[s],t.app.wallet.returnPublicKey()].sort(),i=t.app.crypto.hash(e.join("_")),o="Player "+(s+1),c=t.app.modules.mods[a];t.menu.addSubMenuOption("game-chat",{text:o,id:"game-chat-"+(s+1),class:"game-chat-"+(s+1),callback:function(t,r){r.menu.hideSubMenus(),c.createChatGroup(e,o),c.openChatBox(i),c.sendEvent("chat-render-request",{}),c.saveChat()}})}();this.menu.render(e,this),this.menu.attachEvents(e,this),this.log.render(e,this),this.log.attachEvents(e,this)}},{key:"initializeGame",value:function(e){""!=this.game.status&&this.updateStatus(this.game.status),""==this.game.dice&&this.initializeDice(),0==this.game.deck.length&&(this.game.state=this.returnState(this.game.players.length),this.updateStatus("Generating the Game"),this.game.state.required_pot=this.game.state.big_blind,this.initializeQueue()),this.browser_active&&this.displayBoard()}},{key:"startNextRound",value:function(){this.game.state.turn=0,this.game.state.round++,console.log("Round: "+this.game.state.round),this.game.state.big_blind_player--,this.game.state.small_blind_player--,this.game.state.button_player--,this.game.state.big_blind_player<1&&(this.game.state.big_blind_player=this.game.players.length),this.game.state.small_blind_player<1&&(this.game.state.small_blind_player=this.game.players.length),this.game.state.button_player<1&&(this.game.state.button_player=this.game.players.length),this.game.state.tournament_blinds_level_up>0&&(this.game.state.tournament_blinds_per_level--,this.game.state.tournament_blinds_per_level<0&&(this.updateLog("Blinds increased to: "+game.state.big_blind+"/"+game.state.small_blind),this.game.state.tournament_blinds_per_level=this.game.state.tournament_blinds_per_level_max)),this.game.state.flipped=0,this.game.state.plays_since_last_raise=-1,this.game.state.started=0,this.game.state.pot=0,this.game.state.big_blind_paid=0,this.game.state.small_blind_paid=0,this.game.state.required_pot=0,this.game.state.last_raise=this.game.state.big_blind,this.game.state.required_pot=this.game.state.big_blind;for(var e=0;e<this.game.players.length;e++)this.game.state.passed[e]=0,this.game.state.player_pot[e]=0;if(this.game.state.player_credit.length>2)for(var t=0;t<this.game.state.player_credit.length;t++)this.game.state.player_credit[t]<=0&&(this.game.state.passed[t]=1,this.game.state.player_credit[t]=0,this.game.player==t+1&&this.updateLog("You have been removed from the game."),this.game.state.player_names.splice(t,1),this.game.state.player_pot.splice(t,1),this.game.state.player_credit.splice(t,1),this.game.state.passed.splice(t,1),this.removePlayer(this.game.players[t]),this.game.state.big_blind_player>this.game.players.length&&(this.game.state.big_blind_player=1,this.game.state.small_blind_player=2),this.game.state.small_blind_player>this.game.players.length&&(this.game.state.small_blind_player=1),this.game.queue=[],t--);for(var r=0;r<this.game.players.length;r++)this.game.players[r]===this.app.wallet.returnPublicKey()&&(this.game.player=r+1);this.updateLog("Table "+this.game.id.substring(0,10)+", Seat #"+this.game.state.button_player+" is the button\n\n");for(var n=0;n<this.game.players.length;n++)this.updateLog("Seat "+(n+1)+": "+this.game.state.player_names[n]+" ("+this.game.state.player_credit+")");if(this.updateLog("Round: "+this.game.state.round),document.querySelectorAll(".plog").forEach((function(e){e.innerHTML=""})),this.initializeQueue(),""!=this.game.crypto)for(var a=0;a<this.settlement.length;a++)this.game.queue.push(this.settlement[a]);this.settlement=[],this.displayBoard()}},{key:"handleGameLoop",value:function(){var e=this;if(this.game.queue.length>0){var t=this.game.queue.length-1,r=this.game.queue[t].split("\t"),n=1;if(console.log("QUEUE: "+JSON.stringify(this.game.queue)),"notify"==r[0]&&(this.updateLog(r[1]),this.game.queue.splice(t,1)),"winner"===r[0])return this.updateStatus("Game Over: "+this.game.state.player_names[r[1]-1]+" wins!"),this.updateLog("Game Over: "+this.game.state.player_names[r[1]-1]+" wins!"),this.showSplash("<h1>Game Over: "+this.game.state.player_names[r[1]-1]+" wins!</h1>"+this.updateHTML),this.game.winner=this.game.players[r[1]-1],this.resignGame(this.game.id),0;if("resolve"===r[0])return this.game.queue.splice(t-1,2),1;if("turn"===r[0]){var a=parseInt(r[1]);this.displayBoard();for(var i=0,s=0;s<this.game.state.player_credit.length;s++)(this.game.state.player_credit[s]>0||0==this.game.state.passed[s]&&this.game.state.turn>2)&&i++;if(1==i&&1==this.game.state.turn){for(var o=0;o<this.game.state.player_credit.length;o++)if(this.game.state.player_credit[o]>0&&o==this.game.player-1)return this.addMove("winner\t"+this.game.player),this.endTurn(),0;return this.updateStatus("Game Over"),0}for(var c=0,u=0,l=0;l<this.game.state.passed.length;l++)0==this.game.state.passed[l]&&c++;if(1==c){for(var d=0;d<this.game.state.passed.length;d++)0==this.game.state.passed[d]&&(this.game.state.pot,this.game.state.player_pot,this.updateLog(this.game.state.player_names[d]+" wins "+this.game.state.pot),this.game.state.player_credit[d]+=this.game.state.pot,u=d);if(""!=this.game.crypto)for(var h=0;h<this.game.players.length;h++)this.game.state.player_pot[h]>0&&(this.game.player-1==u?h!=u&&this.settlement.push("RECEIVE\t"+this.game.players[h]+"\t"+this.game.players[u]+"\t"+this.game.state.player_pot[h]+"\t"+(new Date).getTime()+"\t"+this.game.crypto):h!=u&&(this.settlement.push("RECEIVE\t"+this.game.players[h]+"\t"+this.game.players[u]+"\t"+this.game.state.player_pot[h]+"\t"+(new Date).getTime()+"\t"+this.game.crypto),this.settlement.push("SEND\t"+this.game.players[h]+"\t"+this.game.players[u]+"\t"+this.game.state.player_pot[h]+"\t"+(new Date).getTime()+"\t"+this.game.crypto)));return this.startNextRound(),1}if(this.game.state.plays_since_last_raise>=this.game.players.length){if(5==this.game.state.flipped){this.game.state.player_cards={},this.game.state.player_cards_reported=0,this.game.state.player_cards_required=0;for(var p=-1,f=0;f<this.game.state.passed.length;f++)0==this.game.state.passed[f]&&(-1==p&&(p=f),this.game.state.player_cards_required++,this.game.state.player_cards[f]=[]);return p==this.game.player-1&&(this.addMove("reveal\t"+this.game.player+"\t"+this.game.deck[0].hand[0]+"\t"+this.game.deck[0].hand[1]),this.endTurn()),0}var m=1;0==this.game.state.flipped&&(m=3),this.game.state.flipped+=m,this.game.queue.push("announce");for(var g=0;g<m;g++){for(var y=this.game.players.length-1;y>=0;y--)this.game.queue.push("FLIPCARD\t1\t1\t1\t"+(y+1));this.game.queue.push("FLIPRESET\t1")}return 0==this.game.player&&this.game.queue.push("OBSERVER_CHECKPOINT"),this.game.state.plays_since_last_raise=0,1}return this.game.state.plays_since_last_raise++,0==this.game.state.plays_since_last_raise&&this.game.state.plays_since_last_raise++,this.game.state.turn++,1==this.game.state.passed[a-1]?(this.game.queue.splice(t,1),1):parseInt(r[1])==this.game.player?(this.playerTurn(),0):(this.updateStatus("Waiting for "+this.game.state.player_names[r[1]-1]),this.updatePlayerLog(parseInt(r[1]),"player turn"),0)}if("announce"===r[0])return this.game.queue.splice(t,1),0===this.game.state.flipped&&this.updateLog("*** HOLE CARDS *** ["+this.cardToHuman(this.game.deck[0].hand[0])+" "+this.cardToHuman(this.game.deck[0].hand[1])+"]"),3===this.game.state.flipped&&this.updateLog("*** FLOP *** ["+this.cardToHuman(this.game.pool[0].hand[0])+" "+this.cardToHuman(this.game.pool[0].hand[1])+" "+this.cardToHuman(this.game.pool[0].hand[2])+"]"),4===this.game.state.flipped&&this.updateLog("*** TURN *** ["+this.cardToHuman(this.game.pool[0].hand[0])+" "+this.cardToHuman(this.game.pool[0].hand[1])+" "+this.cardToHuman(this.game.pool[0].hand[2])+"] ["+this.cardToHuman(this.game.pool[0].hand[3])+"]"),5===this.game.state.flipped&&this.updateLog("*** TURN *** ["+this.cardToHuman(this.game.pool[0].hand[0])+" "+this.cardToHuman(this.game.pool[0].hand[1])+" "+this.cardToHuman(this.game.pool[0].hand[2])+"] ["+this.cardToHuman(this.game.pool[0].hand[3])+"] ["+this.cardToHuman(this.game.pool[0].hand[4])+"]"),1;if("reveal"===r[0]){var b=this,v=parseInt(r[1]),_=r[2],w=r[3];this.game.state.player_cards[v-1].push(this.returnCardFromDeck(_)),this.game.state.player_cards[v-1].push(this.returnCardFromDeck(w)),this.game.state.player_cards[v-1].push(this.returnCardFromDeck(this.game.pool[0].hand[0])),this.game.state.player_cards[v-1].push(this.returnCardFromDeck(this.game.pool[0].hand[1])),this.game.state.player_cards[v-1].push(this.returnCardFromDeck(this.game.pool[0].hand[2])),this.game.state.player_cards[v-1].push(this.returnCardFromDeck(this.game.pool[0].hand[3])),this.game.state.player_cards[v-1].push(this.returnCardFromDeck(this.game.pool[0].hand[4]));var x=[];this.game.state.player_cards_reported++;for(var k=-1,S=v;S<this.game.state.passed.length;S++)0==this.game.state.passed[S]&&-1==k&&(k=S);if(this.game.state.player_cards_reported==this.game.state.player_cards_required){var O=null,P="",E=[];for(var A in this.game.state.player_cards)if(O=this.game.state.player_cards[A],0==E.length)E.splice(0,0,{player:parseInt(A)+1,player_hand:this.scoreHand(O)});else{for(var C=E.length,T=0,D=0;D<C;D++)b.pickWinner(E[D].player_hand,b.scoreHand(O))>1&&(T=D+1);E.splice(T,0,{player:parseInt(A)+1,player_hand:b.scoreHand(O)})}x.push(E[E.length-1].player-1);for(var j=E.length-1;j>0;j--)3==b.pickWinner(E[E.length-1].player_hand,E[j-1].player_hand)&&x.push(E[j-1].player-1);var M="";if(1==x.length?M+="<h2>"+this.game.state.player_names[x[0]]+" takes the pot!</h2>":(x.forEach((function(t){M+=e.game.state.player_names[t]+", "})),M="<h2>"+M.replace(/,([^,])$/,"").replace(/,([^,]*)$/," and$1")+" split the pot!</h2>"),E.forEach((function(t){b.updateLog(b.game.state.player_names[t.player-1]+": "+t.player_hand.hand_description+" <br />&nbsp;&nbsp;"+b.toHuman(t.player_hand.cards_to_score)),P=e.toHTMLHAND(t.player_hand.cards_to_score)+P,P="<h3>"+b.game.state.player_names[t.player-1]+": "+t.player_hand.hand_description+"</h3>"+P})),P=M+P,this.updateLog(M),this.showSplash(P),this.updateHTML=P,console.log("WINNERS LENGTH: "+x.length),x.length>1){console.log("winners are all");for(var I=Math.floor(this.game.state.pot/x.length),R=0;R<x.length;R++)this.updateLog(this.game.state.player_names[x[R]]+" splits pot and wins "+I),this.game.state.player_credit[x[R]]+=I;this.game.state.player_pot[this.game.player-1],x.length;for(var B=0;B<x.length;B++)if(""!=this.game.crypto)for(var N=0;N<this.game.players.length;N++)!x.includes(N)&&this.game.state.player_pot[N]>0&&(this.settlement.push("RECEIVE\t"+this.game.players[N]+"\t"+this.game.players[x[B]]+"\t"+this.game.state.player_pot[N]/x.length+"\t"+(new Date).getTime()+"\t"+this.game.crypto),this.settlement.push("SEND\t"+this.game.players[N]+"\t"+this.game.players[x[B]]+"\t"+this.game.state.player_pot[N]/x.length+"\t"+(new Date).getTime()+"\t"+this.game.crypto))}else if(this.updateLog(this.game.state.player_names[x[0]]+" wins "+this.game.state.pot),this.game.state.player_credit[x[0]]+=this.game.state.pot,""!=this.game.crypto)for(var F=0;F<this.game.players.length;F++)!x.includes(F)&&this.game.state.player_pot[F]>0&&(this.settlement.push("RECEIVE\t"+this.game.players[F]+"\t"+this.game.players[x[0]]+"\t"+this.game.state.player_pot[F]+"\t"+(new Date).getTime()+"\t"+this.game.crypto),this.settlement.push("SEND\t"+this.game.players[F]+"\t"+this.game.players[x[0]]+"\t"+this.game.state.player_pot[F]+"\t"+(new Date).getTime()+"\t"+this.game.crypto));return this.startNextRound(),1}return this.game.player-1==k&&(this.addMove("reveal\t"+this.game.player+"\t"+this.game.deck[0].hand[0]+"\t"+this.game.deck[0].hand[1]),this.endTurn()),0}if("round"===r[0]){if(this.displayBoard(),0==this.game.state.turn&&(this.game.state.player_credit[this.game.state.big_blind_player-1]<=this.game.state.big_blind?(this.game.state.player_credit[this.game.state.big_blind_player-1]==this.game.state.big_blind?this.updateLog(this.game.state.player_names[this.game.state.big_blind_player-1]+" posts big blind "+this.game.state.big_blind):this.updateLog(this.game.state.player_names[this.game.state.big_blind_player-1]+" posts remaining tokens as big blind and is removed from game"),this.game.state.player_pot[this.game.state.big_blind_player-1]+=this.game.state.player_credit[this.game.state.big_blind_player-1],this.game.state.pot+=this.game.state.player_credit[this.game.state.big_blind_player-1],this.game.state.player_credit[this.game.state.big_blind_player-1]=0,this.game.state.passed[this.game.state.big_blind_player-1]=1):(this.updateLog(this.game.state.player_names[this.game.state.big_blind_player-1]+" posts big blind "+this.game.state.big_blind),this.game.state.player_pot[this.game.state.big_blind_player-1]+=this.game.state.big_blind,this.game.state.pot+=this.game.state.big_blind,this.game.state.player_credit[this.game.state.big_blind_player-1]-=this.game.state.big_blind),this.game.state.player_credit[this.game.state.small_blind_player-1]<=this.game.state.small_blind?(this.game.state.player_credit[this.game.state.small_blind_player-1]<=this.game.state.small_blind?this.updateLog(this.game.state.player_names[this.game.state.small_blind_player-1]+" posts small blind "+this.game.state.small_blind):this.updateLog(this.game.state.player_names[this.game.state.small_blind_player-1]+" posts remaining tokens as small blind and is removed from the game"),this.game.state.player_pot[this.game.state.small_blind_player-1]+=this.game.state.player_credit[this.game.state.small_blind_player-1],this.game.state.pot+=this.game.state.player_credit[this.game.state.small_blind_player-1],this.game.state.player_credit[this.game.state.small_blind_player-1]=0,this.game.state.passed[this.game.state.small_blind_player-1]=1):(this.updateLog(this.game.state.player_names[this.game.state.small_blind_player-1]+" posts small blind "+this.game.state.small_blind),this.game.state.player_pot[this.game.state.small_blind_player-1]+=this.game.state.small_blind,this.game.state.pot+=this.game.state.small_blind,this.game.state.player_credit[this.game.state.small_blind_player-1]-=this.game.state.small_blind)),this.game.state.turn++,this.game.state.required_pot<this.game.state.big_blind&&(this.game.state.required_pot=this.game.state.big_blind),this.updateStatus("Opponent is Speaking"),0==this.game.state.flipped&&this.game.state.plays_since_last_raise<this.game.players.length)for(var q=this.game.state.big_blind_player;q<=this.game.state.big_blind_player+this.game.players.length-1;q++){var L=q%this.game.players.length;0==L&&(L=this.game.players.length),this.game.queue.push("turn\t"+L)}else for(var H=this.game.state.button_player;H<=this.game.state.button_player+this.game.players.length-1;H++){var U=H%this.game.players.length;0==U&&(U=this.game.players.length),this.game.queue.push("turn\t"+U)}1==this.game.state.turn&&this.game.queue.push("announce")}if("call"===r[0]){var z=parseInt(r[1]),V=0;this.updatePlayerLog(z,"call"),this.game.state.required_pot>this.game.state.player_pot[z-1]&&(V=this.game.state.required_pot-this.game.state.player_pot[z-1]),this.updateLog(this.game.state.player_names[z-1]+" calls"),this.game.state.player_credit[z-1]-=V,this.game.state.player_pot[z-1]+=V,this.game.state.pot+=V,this.game.queue.splice(t,1)}if("fold"===r[0]){var G=parseInt(r[1]);this.updatePlayerLog(G,"fold"),this.updateLog(this.game.state.player_names[G-1]+" folds"),this.game.state.passed[G-1]=1,this.game.queue.splice(t,1);for(var W=0,K=-1,Y=0;Y<this.game.state.passed.length;Y++)0==this.game.state.passed&&(W++,K=Y);if(1==W){if(this.game.state.player_credit[K]=this.game.state.pot,""!=this.game.crypto)for(var X=0;X<this.game.players.length;X++)X!=K&&(this.game.player-1==K?X!=K&&this.settlement.push("RECEIVE\t"+this.game.players[X]+"\t"+this.game.players[K]+"\t"+this.game.state.player_pot[X]+"\t"+(new Date).getTime()+"\t"+this.game.crypto):X!=K&&(this.settlement.push("RECEIVE\t"+this.game.players[X]+"\t"+this.game.players[K]+"\t"+this.game.state.player_pot[X]+"\t"+(new Date).getTime()+"\t"+this.game.crypto),this.settlement.push("SEND\t"+this.game.players[X]+"\t"+this.game.players[K]+"\t"+this.game.state.player_pot[X]+"\t"+(new Date).getTime()+"\t"+this.game.crypto)));this.startNextRound()}}if("check"===r[0]){var J=parseInt(r[1]);this.game.queue.splice(t,1),this.updateLog(this.game.state.player_names[J-1]+" checks.")}if("raise"==r[0]){var Q=parseInt(r[1]),Z=parseFloat(r[2]),$=0,ee=0;console.log("plays since last raise is now 1 because of raise..."),this.game.state.plays_since_last_raise=1,this.game.state.required_pot>this.game.state.player_pot[Q-1]?(ee=Z-($=this.game.state.required_pot-this.game.state.player_pot[Q-1]),this.game.state.player_credit[Q-1]-=$,this.game.state.player_pot[Q-1]+=$,this.game.state.pot+=$,this.game.state.player_credit[Q-1]-=ee,this.game.state.player_pot[Q-1]+=ee,this.game.state.required_pot+=ee,this.game.state.pot+=ee,ee>0&&(this.game.state.last_raise=ee),ee>0?(this.updateLog(this.game.state.player_names[Q-1]+" raises "+ee+" to "+this.game.state.player_pot[Q-1]),this.updatePlayerLog(Q,"raises "+ee)):this.updateLog(this.game.state.player_names[Q-1]+" calls "+$+".")):(this.game.state.player_credit[Q-1]-=Z,this.game.state.player_pot[Q-1]+=Z,this.game.state.required_pot+=Z,this.game.state.pot+=Z,this.game.state.last_raise=Z,this.updateLog(this.game.state.player_names[Q-1]+" raises "+Z+" to "+this.game.state.player_pot[Q-1]),this.updatePlayerLog(Q,"raises "+Z)),this.game.queue.splice(t,1)}if(0==n)return console.log("NOT CONTINUING"),0}return 1}},{key:"playerTurn",value:function(){if(0!=this.browser_active){var e=this;e.moves.includes("resolve\tturn")||e.addMove("resolve\tturn"),this.displayBoard();var t=this.game.state.required_pot-this.game.state.player_pot[this.game.player-1],r=this.game.state.last_raise,n="",a=1,i=1;this.game.state.player_credit[this.game.state.player-1]<t&&(a=0),this.game.state.player_credit[this.game.state.player-1]<t+this.game.state.last_raise&&(i=0);var s=e.game.options.stake*e.game.players.length;if(e.game.state.player_credit.forEach((function(t,r){s>t&&0==e.game.state.passed[r]&&(s=t)})),s<=t&&(i=0),0==a&&0==i)return this.updateStatus("You can only fold..."),this.addMove("fold\t"+e.game.player),void this.endTurn();n+='<div class="menu-player" style="text-align:left;width:100%">',n+='<div style="float:right;" class="saito-balance">'.concat(this.sizeNumber(this.game.state.player_credit[this.game.player-1])," ").concat(this.game.crypto,"</div>Your move:</div>"),n+="<ul>";var o=this.game.state.required_pot-this.game.state.player_pot[this.game.player-1];o<0&&(o=0),this.game.state.required_pot>this.game.state.player_pot[this.game.player-1]?(n+='<li class="menu_option" id="fold">fold</li>',1==a&&o<=0&&(n+='<li class="menu_option" id="call">call</li>'),1==a&&o>0&&(n+='<li class="menu_option" id="call">call ('+this.sizeNumber(o)+")</li>"),1==i&&o<=0&&(n+='<li class="menu_option" id="raise">raise</li>'),1==i&&o>0&&(n+='<li class="menu_option" id="raise">raise ('+this.sizeNumber(o)+"+)</li>"),n+="</ul>",this.updateStatus(n,1)):this.game.state.required_pot<=this.game.state.player_credit[this.game.player-1]?(n+='<li class="menu_option" id="fold">fold</li>',n+='<li class="menu_option" id="check">check</li>',1==i&&(n+='<li class="menu_option" id="raise">raise</li>'),n+="</ul>",this.updateStatus(n,1)):(n+='<li class="menu_option" id="fold">fold</li>',n+='<li class="menu_option" id="check">check</li>',n+="</ul>",this.updateStatus(n,1)),$(".menu_option").off(),$(".menu_option").on("click",(function(){var t=$(this).attr("id");if("fold"===t&&(e.addMove("fold\t"+e.game.player),e.endTurn()),"check"===t&&(e.addMove("check\t"+e.game.player),e.endTurn()),"call"===t&&(e.addMove("call\t"+e.game.player),e.endTurn()),"raise"===t){r=parseFloat(r);var a=e.game.state.player_credit[e.game.player-1],i=(e.game.state.player_credit[e.game.player-1],e.game.options.stake*e.game.players.length),s=0;e.game.state.player_credit.forEach((function(t,r){i>t&&0==e.game.state.passed[r]&&(i=t,s=r)})),e.game.state.last_raise=parseFloat(e.game.state.last_raise);var c=e.game.state.required_pot-e.game.state.player_pot[e.game.player-1];c<0&&(c=0),n=c>0?"Match "+e.sizeNumber(c)+" and raise: <p></p><ul>":"Please select an option below: <p></p><ul>",n+='<li class="menu_option" id="0">cancel raise</li>';for(var u=0;u<6;u++){var l=r+u*e.game.state.last_raise;a>l&&i>l?l-c>0&&(n+='<li class="menu_option" id="'+(l-c)+'">raise '+e.sizeNumber(l-c)+"</li>"):i<l&&(i==a?(n+='<li class="menu_option" id="'+(i-c)+'">raise '+e.sizeNumber(i-c)+" ("+e.game.state.player_names[s]+" all in)</li>",u=6):(n+='<li class="menu_option" id="'+i+'">raise '+e.sizeNumber(i)+" ("+e.game.state.player_names[s]+" all in)</li>",u=6))}n+="</ul>",e.updateStatus(n),$(".menu_option").off(),$(".menu_option").on("click",(function(){var t=$(this).attr("id");o>0&&(t=parseFloat(t)+parseFloat(o)),0!=t?(e.addMove("raise\t"+e.game.player+"\t"+t),e.endTurn()):e.playerTurn()}))}}))}}},{key:"sizeNumber",value:function(e){return e>=100?Math.floor(e):e.toString().substring(0,6)}},{key:"displayBoard",value:function(){if(0!=this.browser_active)try{this.displayPlayers(),this.displayHand(),this.displayTable()}catch(e){console.log("err: "+e)}}},{key:"returnState",value:function(e){var t={round:0,new_round:0,turn:0,flipped:0,player_cards:{},player_cards_reported:0,player_cards_required:0,plays_since_last_raise:-1,started:0,pot:0,player_names:[],player_pot:[],player_credit:[],passed:[],big_blind:50,small_blind:25,big_blind_player:1,small_blind_player:2,button_player:3,small_blind_is_button:0};2==e&&(t.button_player=2),t.big_blind_paid=0,t.small_blind_paid=0,t.required_pot=0,t.last_raise=t.big_blind,t.blinds_idx=0,t.blinds_array=[{big:.001,small:5e-4},{big:.002,small:.001},{big:.004,small:.002},{big:.008,small:.004},{big:.015,small:.008},{big:.03,small:.015},{big:.06,small:.03},{big:.12,small:.06},{big:.25,small:.12},{big:.5,small:.25},{big:1,small:.5},{big:2,small:1},{big:4,small:2},{big:8,small:4},{big:15,small:8},{big:30,small:15},{big:60,small:30},{big:120,small:60},{big:250,small:125},{big:500,small:250},{big:1e3,small:500}],t.tournament_blinds_per_level=12,t.tournament_blinds_per_level_max=12,"increase"===this.game.options.blinds?t.tournament_blinds_level_up=1:t.tournament_blinds_level_up=0,null!=this.game.options.crypto&&(this.game.crypto=this.game.options.crypto);for(var r=0;r<e;r++)t.passed[r]=0;for(var n=0;n<e;n++)t.player_pot[n]=0;for(var a=0;a<e;a++)t.player_names[a]=this.app.keys.returnIdentifierByPublicKey(this.game.players[a],1),t.player_names[a].indexOf("@")>0&&(t.player_names[a]=t.player_names[a].substring(0,t.player_names[a].indexOf("@"))),t.player_names[a]===this.game.players[a]&&(t.player_names[a]=this.game.players[a].substring(0,10)+"...");for(var i=0;i<e;i++)t.player_credit[i]=100,null!=this.game.options.stake&&(t.player_credit[i]=parseFloat(this.game.options.stake));return t.big_blind=parseFloat(this.game.options.big_blind),t.small_blind=t.big_blind/2,t.last_raise=t.big_blind,console.log("STATE: "+JSON.stringify(t)),t}},{key:"returnCardFromDeck",value:function(e){var t=this.returnDeck()[e];return t.name.substring(0,t.name.indexOf("."))}},{key:"returnDeck",value:function(){var e={1:{name:"S1.png"},2:{name:"S2.png"},3:{name:"S3.png"},4:{name:"S4.png"},5:{name:"S5.png"},6:{name:"S6.png"},7:{name:"S7.png"},8:{name:"S8.png"},9:{name:"S9.png"},10:{name:"S10.png"},11:{name:"S11.png"},12:{name:"S12.png"},13:{name:"S13.png"},14:{name:"C1.png"},15:{name:"C2.png"},16:{name:"C3.png"},17:{name:"C4.png"},18:{name:"C5.png"},19:{name:"C6.png"},20:{name:"C7.png"},21:{name:"C8.png"},22:{name:"C9.png"},23:{name:"C10.png"},24:{name:"C11.png"},25:{name:"C12.png"},26:{name:"C13.png"},27:{name:"H1.png"},28:{name:"H2.png"},29:{name:"H3.png"},30:{name:"H4.png"},31:{name:"H5.png"},32:{name:"H6.png"},33:{name:"H7.png"},34:{name:"H8.png"},35:{name:"H9.png"},36:{name:"H10.png"},37:{name:"H11.png"},38:{name:"H12.png"},39:{name:"H13.png"},40:{name:"D1.png"},41:{name:"D2.png"},42:{name:"D3.png"},43:{name:"D4.png"},44:{name:"D5.png"},45:{name:"D6.png"},46:{name:"D7.png"},47:{name:"D8.png"},48:{name:"D9.png"},49:{name:"D10.png"},50:{name:"D11.png"},51:{name:"D12.png"},52:{name:"D13.png"}};return e}},{key:"updatePlayerLog",value:function(e,t){var r="#player-info-log-"+e,n=document.querySelector(r);n&&(n.innerHTML=t)}},{key:"returnPlayersBoxArray",value:function(){var e=[];return 2==this.game.players.length&&(e=[1,4]),3==this.game.players.length&&(e=[1,3,5]),4==this.game.players.length&&(e=[1,3,4,5]),5==this.game.players.length&&(e=[1,2,3,5,6]),6==this.game.players.length&&(e=[1,2,3,4,5,6]),e}},{key:"returnViewBoxArray",value:function(){var e=[];return 2==this.game.players.length&&(e=[3,5]),3==this.game.players.length&&(e=[3,4,5]),4==this.game.players.length&&(e=[2,3,5,6]),5==this.game.players.length&&(e=[2,3,4,5,6]),e}},{key:"displayPlayers",value:function(){var e="",t="";this.game.players.includes(this.app.wallet.returnPublicKey())?(e=this.returnPlayersBoxArray(),t=this.game.players.indexOf(this.app.wallet.returnPublicKey())):(document.querySelector(".status").innerHTML="You are out of the game.<br />Feel free to hang out and chat.",document.querySelector(".cardfan").classList.add("hidden"),e=this.returnViewBoxArray());for(var r=2;r<7;r++){var n=document.querySelector("#player-info-"+r);e.includes(r)?n.style.display="block":n.style.display="none"}for(var a=0;a<this.game.players.length;a++){var i=a-t;i<0&&(i+=this.game.players.length);var s="#player-info-"+e[i],o=document.querySelector(s),c='\n      <div class="player-info-hand hand tinyhand" id="player-info-hand-'.concat(a+1,'">\n      ');c+='\n          <img class="card" src="'.concat(this.card_img_dir,'/red_back.png">\n          <img class="card" src="').concat(this.card_img_dir,'/red_back.png">\n      '),c+='\n        </div>\n        <div class="player-info-name" id="player-info-name-'.concat(a+1,'">').concat(this.game.state.player_names[a],'</div>\n        <div class="player-info-chips" id="player-info-chips-').concat(a+1,'">').concat(this.sizeNumber(this.game.state.player_credit[a])," ").concat(this.game.crypto,"</div> \n        \n      "),o.querySelector(".info").innerHTML=c,""==o.querySelector(".plog").innerHTML&&(o.querySelector(".plog").innerHTML+='<div class="player-info-log" id="player-info-log-'.concat(a+1,'"></div>'))}document.querySelector(".dealer").innerHTML=this.game.state.big_blind_player;var u=1+(this.game.players.length+this.game.state.big_blind_player+1)%this.game.players.length;document.querySelector("#player-info-name-"+u).classList.add("dealerbutton"),document.querySelector("#player-info-name-"+this.game.state.big_blind_player).classList.add("bigblind"),document.querySelector("#player-info-name-"+this.game.state.small_blind_player).classList.add("smallblind")}},{key:"displayHand",value:function(){this.cardfan.render(this.app,this),this.cardfan.attachEvents(this.app,this)}},{key:"displayTable",value:function(){document.querySelector("#deal").innerHTML="";for(var e=0;e<5||e<this.game.pool[0].hand.length;e++){var t={};e<this.game.pool[0].hand.length?t=this.game.pool[0].cards[this.game.pool[0].hand[e]]:t.name="red_back.png";var r='<img class="card" src="'.concat(this.card_img_dir,"/").concat(t.name,'">');document.querySelector("#deal").innerHTML+=r}document.querySelector(".pot").innerHTML=this.sizeNumber(this.game.state.pot)}},{key:"addMove",value:function(e){this.moves.push(e)}},{key:"endTurn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.updateStatus("Waiting for information from peers....");try{$(".menu_option").off()}catch(e){}var t={};t.target=this.returnNextPlayer(this.game.player),0!=e&&(t.target=e),this.game.turn=this.moves,this.moves=[],this.sendMessage("game",t)}},{key:"pickWinner",value:function(e,t){for(var r=0,n=0;n<e.cards_to_score.length;n++)e.cards_to_score[n]!==t.cards_to_score[n]&&(r=1);if(0==r)return 3;if("royal flush"==e.hand_description&&"royal flush"==t.hand_description)for(var a=0;a<e.cards_to_score.length;a++)return this.returnHigherCard(e.cards_to_score[a],t.cards_to_score[a])==e.cards_to_score[a]?1:2;if("royal flush"==e.hand_description)return 1;if("royal flush"==t.hand_description)return 2;if("straight flush"==e.hand_description&&"straight flush"==t.hand_description){for(var i=0;i<e.cards_to_score.length;i++){if(this.returnHigherNumberCard(e.cards_to_score[i],t.cards_to_score[i])==e.cards_to_score[i])return 1;if(this.returnHigherNumberCard(e.cards_to_score[i],t.cards_to_score[i])==t.cards_to_score[i])return 2}return 3}if("straight flush"==e.hand_description)return 1;if("straight flush"==t.hand_description)return 2;if("four-of-a-kind"==e.hand_description&&"four-of-a-kind"==t.hand_description)return this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==e.cards_to_score[0]?1:this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==t.cards_to_score[0]?2:this.returnHigherNumberCard(e.cards_to_score[4],t.cards_to_score[4])==e.cards_to_score[4]?1:this.returnHigherNumberCard(e.cards_to_score[4],t.cards_to_score[4])==t.cards_to_score[4]?2:3;if("four-of-a-kind"==e.hand_description)return 1;if("four-of-a-kind"==t.hand_description)return 2;if("full house"==e.hand_description&&"full house"==t.hand_description)return this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==e.cards_to_score[0]?1:this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==t.cards_to_score[0]?2:this.returnHigherNumberCard(e.cards_to_score[3],t.cards_to_score[3])==e.cards_to_score[3]?1:this.returnHigherNumberCard(e.cards_to_score[3],t.cards_to_score[3])==t.cards_to_score[3]?2:3;if("full house"==e.hand_description)return 1;if("full house"==t.hand_description)return 2;if("flush"==e.hand_description&&"flush"==t.hand_description){for(var s=0;s<e.cards_to_score.length;s++){if(this.returnHigherCard(e.cards_to_score[s],t.cards_to_score[s])==e.cards_to_score[s])return 1;if(this.returnHigherCard(e.cards_to_score[s],t.cards_to_score[s])==t.cards_to_score[s])return 2}return 3}if("flush"==e.hand_description)return 1;if("flush"==t.hand_description)return 2;if("straight"==e.hand_description&&"straight"==t.hand_description){for(var o=0;o<e.cards_to_score.length;o++){if(this.returnHigherNumberCard(e.cards_to_score[o],t.cards_to_score[o])==e.cards_to_score[o])return 1;if(this.returnHigherNumberCard(e.cards_to_score[o],t.cards_to_score[o])==t.cards_to_score[o])return 2}return 3}if("straight"==e.hand_description)return 1;if("straight"==t.hand_description)return 2;if("three-of-a-kind"==e.hand_description&&"three-of-a-kind"==t.hand_description){if(this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==e.cards_to_score[0])return 1;if(this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==t.cards_to_score[0])return 2;for(var c=3;c<5;c++){if(this.returnHigherNumberCard(e.cards_to_score[c],t.cards_to_score[c])==e.cards_to_score[c])return 1;if(this.returnHigherNumberCard(e.cards_to_score[c],t.cards_to_score[c])==t.cards_to_score[c])return 2}return 3}if("three-of-a-kind"==e.hand_description)return 1;if("three-of-a-kind"==t.hand_description)return 2;if("two pair"==e.hand_description&&"two pair"==t.hand_description)return this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==e.cards_to_score[0]?1:this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==t.cards_to_score[0]?2:this.returnHigherNumberCard(e.cards_to_score[2],t.cards_to_score[2])==e.cards_to_score[2]?1:this.returnHigherNumberCard(e.cards_to_score[2],t.cards_to_score[2])==t.cards_to_score[2]?2:this.returnHigherNumberCard(e.cards_to_score[4],t.cards_to_score[4])==e.cards_to_score[4]?1:this.returnHigherNumberCard(e.cards_to_score[4],t.cards_to_score[4])==t.cards_to_score[4]?2:3;if("two pair"==e.hand_description)return 1;if("two pair"==t.hand_description)return 2;if("pair"==e.hand_description&&"pair"==t.hand_description)return this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==e.cards_to_score[0]?1:this.returnHigherNumberCard(e.cards_to_score[0],t.cards_to_score[0])==t.cards_to_score[0]?2:this.returnHigherNumberCard(e.cards_to_score[2],t.cards_to_score[2])==e.cards_to_score[2]?1:this.returnHigherNumberCard(e.cards_to_score[2],t.cards_to_score[2])==t.cards_to_score[2]?2:this.returnHigherNumberCard(e.cards_to_score[4],t.cards_to_score[4])==e.cards_to_score[4]?1:this.returnHigherNumberCard(e.cards_to_score[4],t.cards_to_score[4])==t.cards_to_score[4]?2:3;if("pair"==e.hand_description)return 1;if("pair"==t.hand_description)return 2;if("highest card"==e.hand_description&&"highest card"==t.hand_description){for(var u=0;u<e.cards_to_score.length;u++){if(this.returnHigherNumberCard(e.cards_to_score[u],t.cards_to_score[u])==e.cards_to_score[u])return 1;if(this.returnHigherNumberCard(e.cards_to_score[u],t.cards_to_score[u])==t.cards_to_score[u])return 2}return 3}return"highest card"==e.hand_description?1:"highest card"==t.hand_description?2:void 0}},{key:"scoreHand",value:function(e){var t=this.convertHand(e),r=t.suite,n=t.val,a=0,i=[],s=[],o=[],c=[];for(a=1;a<14;){var u=this.isTwo(r,n,a);0==u?a=14:(i.push(u),a=u+1)}for(i.sort((function(e,t){return e-t})),a=1;a<14;){var l=this.isThree(r,n,a);0==l?a=14:(s.push(l),a=l+1)}for(s.sort((function(e,t){return e-t})),a=1;a<14;){var d=this.isFour(r,n,a);0==d?a=14:(o.push(d),a=d+1)}for(a=1;a<10;){var h=this.isStraight(r,n,a);0==h?a=11:(c.push(h),a=h+1)}for(var p=0;p<o.length;p++){for(var f=0;f<s.length;f++)s[f]===o[p]&&s.splice(f,1);for(f=0;f<i.length;f++)i[f]===o[p]&&i.splice(f,1)}for(var m=0;m<s.length;m++)for(f=0;f<i.length;f++)i[f]===s[m]&&i.splice(f,1);var g=[],y="",b=[];if(c.includes(10)&&""!=this.isFlush(r,n)){var v=this.isFlush(r,n);if(1==this.isCardSuite(r,n,1,v)&&1==this.isCardSuite(r,n,13,v)&&1==this.isCardSuite(r,n,12,v)&&1==this.isCardSuite(r,n,11,v)&&1==this.isCardSuite(r,n,10,v))return g.push("1"+v),g.push("13"+v),g.push("12"+v),g.push("11"+v),g.push("10"+v),y="royal flush",{cards_to_score:this.sortByValue(g),hand_description:y}}if(c.length>0&&""!=this.isFlush(r,n))for(var _=this.isFlush(r,n),w=c.length-1;w>=0;w--)if(1==this.isCardSuite(r,n,c[w]+4,_)&&1==this.isCardSuite(r,n,c[w]+3,_)&&1==this.isCardSuite(r,n,c[w]+2,_)&&1==this.isCardSuite(r,n,c[w]+1,_)&&1==this.isCardSuite(r,n,c[w],_))return g.push(c[w]+4+_),g.push(c[w]+3+_),g.push(c[w]+2+_),g.push(c[w]+1+_),g.push(c[w]+_),y="straight flush",{cards_to_score:this.sortByValue(g),hand_description:y};if(o.length>0)return o.includes(1)?(g=["C1","D1","H1","S1"],b=this.returnHighestCard(r,n,g),g.push(b),{cards_to_score:g,hand_description:y="four-of-a-kind"}):(g=["C"+o[o.length-1],"D"+o[o.length-1],"H"+o[o.length-1],"S"+o[o.length-1]],b=this.returnHighestCard(r,n,g),y="four-of-a-kind",g.push(b),{cards_to_score:g,hand_description:y});if(2==s.length&&(s[0]>s[1]?i.push(s.pop()):i.push(s.shift())),s.length>0&&i.length>0){for(var x="C",k=0;k<n.length;k++)n[k]==s[s.length-1]&&(this.isHigherSuite(r[k],x)&&(x=r[k]),g.push(r[k]+n[k]));b=x+s[s.length-1];for(var S=0;S<n.length;S++)n[S]==i[i.length-1]&&g.push(r[S]+n[S]),g.length>5&&g.pop();return{cards_to_score:g,hand_description:y="full house",highest_card:b}}if(""!=this.isFlush(r,n)){for(var O=this.isFlush(r,n),P=[],E=0;E<n.length;E++)r[E]==O&&P.push(n[E]);P.sort((function(e,t){return e-t})),P.splice(0,P.length-5);for(var A=P.length-1;A>=0;A--)g.push(O+P[A]);return y="flush",{cards_to_score:this.sortByValue(g),hand_description:y}}if(this.isStraight(r,n)>0){var C=this.isStraight(r,n);if(y="straight",10==C)return g.push(this.returnHighestSuiteCard(r,n,1)),g.push(this.returnHighestSuiteCard(r,n,13)),g.push(this.returnHighestSuiteCard(r,n,12)),g.push(this.returnHighestSuiteCard(r,n,11)),g.push(this.returnHighestSuiteCard(r,n,10)),{cards_to_score:g,hand_description:y};if(1==C)return g.push(this.returnHighestSuiteCard(r,n,5)),g.push(this.returnHighestSuiteCard(r,n,4)),g.push(this.returnHighestSuiteCard(r,n,3)),g.push(this.returnHighestSuiteCard(r,n,2)),g.push(this.returnHighestSuiteCard(r,n,1)),{cards_to_score:g,hand_description:y};for(var T=4;T>=0;T--)g.push(this.returnHighestSuiteCard(r,n,C+T));return{cards_to_score:this.sortByValue(g),hand_description:y}}if(s.length>0){for(var D=s[s.length-1],j=[],M=n.length,I=0;I<M;I++)n[I]==D&&(j.push(r[I]+n[I]),n.splice(I,1),r.splice(I,1),M--,I--);for(var R=0;R<j.length;R++)g.push(j[R]);for(var B=this.returnHighestCard(r,n),N=this.returnHighestCard(r,n,[B]),F=this.sortByValue([B,N]),q=0;q<F.length;q++)g.push(F[q]);return{cards_to_score:g,hand_description:y="three-of-a-kind"}}if(i.length>1){i.sort((function(e,t){return e-t})),3==i.length&&(1==i[0]&&i.push(i.shift()),i.shift());var L=i[i.length-1],H=i[i.length-2];b=L>H?L:H,1==H&&(b=H);for(var U=n.length,z=0;z<U;z++)n[z]==b&&(g.push(r[z]+n[z]),n.splice(z,1),r.splice(z,1),U--,z--);U=n.length;for(var V=0;V<U;V++)n[V]!=L&&n[V]!=H||(g.push(r[V]+n[V]),n.splice(V,1),r.splice(V,1),U--,V--);var G=this.returnHighestCard(r,n,g);return g.push(G),{cards_to_score:g,hand_description:y="two pair"}}if(i.length>0){for(var W=i[i.length-1],K=[],Y=n.length,X=0;X<Y;X++)n[X]==W&&(K.push(r[X]+n[X]),n.splice(X,1),r.splice(X,1),Y--,X--);var J=this.returnHighestCard(r,n),Q=this.returnHighestCard(r,n,[J]),Z=this.returnHighestCard(r,n,[J,Q]),$=this.sortByValue([J,Q,Z]);g.push(K[0]),g.push(K[1]);for(var ee=0;ee<$.length;ee++)g.push($[ee]);return{cards_to_score:g,hand_description:y="pair"}}var te=this.returnHighestCard(r,n),re=this.returnHighestCard(r,n,[te]),ne=this.returnHighestCard(r,n,[te,re]),ae=this.returnHighestCard(r,n,[te,re,ne]),ie=this.returnHighestCard(r,n,[te,re,ne,ae]);return g.push(te),g.push(re),g.push(ne),g.push(ae),g.push(ie),y="highest card",b=te,{cards_to_score:this.sortByValue(g),hand_description:y}}},{key:"convertHand",value:function(e){for(var t={suite:[],val:[]},r=0;r<e.length;r++)t.suite.push(e[r][0]),t.val.push(parseInt(e[r].substring(1)));return t}},{key:"sortByValue",value:function(e){var t=[],r=0;t.push(e[0]);for(var n=1;n<e.length;n++){r=0;for(var a=0;a<t.length;a++)this.returnHigherCard(e[n],t[a])==t[a]&&(r=a+1);t.splice(r,0,e[n])}return t}},{key:"returnHigherCard",value:function(e,t){var r=e[0],n=parseInt(e.substring(1)),a=t[0],i=parseInt(t.substring(1));return 1==n&&(n=14),1==i&&(i=14),n>i?e:i>n?t:i==n?r==a?0:this.isHigherSuite(r,a)?e:t:void 0}},{key:"returnHigherNumberCard",value:function(e,t){var r=parseInt(e.substring(1)),n=parseInt(t.substring(1));return 1==r&&(r=14),1==n&&(n=14),r>n?e:n>r?t:n==r?0:void 0}},{key:"isHigherSuite",value:function(e,t){return"S"===e?1:"S"==t?0:"H"===e?1:"H"==t?0:"D"===e?1:"D"==t?0:"C"===e?1:"C"==t?0:void 0}},{key:"returnHighestSuiteCard",value:function(e,t,r){for(var n="C",a="",i=0;i<t.length;i++)t[i]==r&&(""!=a?this.isHigherSuite(n,e[i])&&(n=e[i],a=e[i]+t[i]):(n=e[i],a=e[i]+t[i]));return a}},{key:"returnHighestCard",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=0,a="C",i=0;i<t.length;i++)r.includes(e[i]+t[i])?console.log("you are barred from the pub"):(1==t[i]&&(14==n?this.isHigherSuite(e[i],a)&&(a=e[i]):(n=14,a=e[i])),t[i]==n&&this.isHigherSuite(e[i],a)&&(a=e[i]),t[i]>n&&(n=t[i],a=e[i]));return 14==n&&(n=1),a+n}},{key:"isFlush",value:function(e,t){for(var r=0,n=0,a=0,i=0,s=0;s<e.length;s++)"C"==e[s]&&r++,"D"==e[s]&&i++,"H"==e[s]&&a++,"S"==e[s]&&n++;return r>=5?"C":n>=5?"S":a>=5?"H":i>=5?"D":""}},{key:"isFour",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=r-1;n<13;n++)for(var a=0,i=0;i<t.length;i++)if(t[i]==n+1&&4==++a)return n+1;return 0}},{key:"isThree",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=r-1;n<13;n++)for(var a=0,i=0;i<t.length;i++)if(t[i]==n+1&&3==++a)return n+1;return 0}},{key:"isTwo",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=r-1;n<13;n++)for(var a=0,i=0;i<t.length;i++)if(t[i]==n+1&&2==++a)return n+1;return 0}},{key:"isStraight",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=r-1;n<10;n++){if(9==n)return t.includes(13)&&t.includes(12)&&t.includes(11)&&t.includes(10)&&t.includes(1)?10:0;if(t.includes(n+1)&&t.includes(n+2)&&t.includes(n+3)&&t.includes(n+4)&&t.includes(n+5))return n+1}return 0}},{key:"isCardSuite",value:function(e,t,r,n){for(var a=0;a<t.length;a++)if(t[a]==r&&e[a]==n)return 1;return 0}},{key:"cardToHuman",value:function(e){var t=this.game.deck[0].cards[e].name;return-1!=(t=(t=(t=(t=(t=(t=t.replace(".png","")).replace("13","K")).replace("12","Q")).replace("11","J")).replace("1","A")).replace("A0","10")).indexOf("H")&&(t=t.replace("H","")+"h"),-1!=t.indexOf("D")&&(t=t.replace("D","")+"d"),-1!=t.indexOf("S")&&(t=t.replace("S","")+"s"),-1!=t.indexOf("C")&&(t=t.replace("C","")+"c"),t}},{key:"toHuman",value:function(e){var t=" <span class='htmlhand'>";return e.forEach((function(e){e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace("H","<span style='color:red'><span class='suit'>&hearts;</span>")).replace("D","<span style='color:red'><span class='suit'>&diams;</span>")).replace("S","<span style='color:black'><span class='suit'>&spades;</span>")).replace("C","<span style='color:black'><span class='suit'>&clubs;</span>")).replace("13","K")).replace("12","Q")).replace("11","J")).replace("1","A")).replace("A0","10"),t+=e="<span class='htmlCard'>"+e+"</span></span>"})),t+="</span> "}},{key:"toHTMLHAND",value:function(e){_this=this;var t=" <span class='htmlCards'>";return e.forEach((function(e){t+='<img class="card" src="'.concat(_this.card_img_dir,"/").concat(e,'.png">')})),t+="</span> "}},{key:"returnGameOptionsHTML",value:function(){for(var e='\n      <h1 class="overlay-title">Start a Poker Game</h1>\n          <div class="overlay-input">\n            <label for="stake">Initial Stake:</label>\n            <select name="stake">\n              <option value="0.1">0.1</option>\n              <option value="1">1</option>\n              <option value="5">5</option>\n              <option value="20">20</option>\n              <option value="50">50</option>\n              <option value="100">100</option>\n              <option value="500">500</option>\n              <option value="1000" selected="selected">1000</option>\n              <option value="5000" >5000</option>\n              <option value="10000">10000</option>\n            </select>\n          </div>\n          <div class="overlay-input">\n            <label for="big_blind">Starting Blinds:</label>\n            <select name="big_blind">\n              <option value="0.001">0.001</option>\n              <option value="0.008">0.008</option>\n              <option value="0.03">0.03</option>\n              <option value="0.12">0.12</option>\n              <option value="0.25">0.25</option>\n              <option value="1">1</option>\n              <option value="8">8</option>\n              <option value="30" selected>30</option>\n              <option value="120">120</option>\n              <option value="250">250</option>\n              <option value="500">500</option>\n            </select>\n          </div>\n          <div class="overlay-input">\n            <label for="crypto">Crypto:</label>\n            <select name="crypto">\n              <option value="" selected>None</option>\n              <option value="SAITO">SAITO</option>\n    ',t=0;t<this.app.modules.mods.length;t++)""!=this.app.modules.mods[t].ticker&&null!=this.app.modules.mods[t].ticker&&(e+='<option value="'.concat(this.app.modules.mods[t].ticker,'">').concat(this.app.modules.mods[t].ticker,"</option>"));return e+='\n            </select>\n          </div>\n          <div class="overlay-input">\n            <label for="stake">Mode:</label>\n            <select name="blinds">\n              <option value="static">static blinds</option>\n              <option value="increase">increasing blinds</option>\n            </select>\n          </div>\n          <div class="overlay-input">\n            <label for="observer_mode">Observer Mode:</label>\n            <select name="observer">\n              <option value="enable" selected>enable</option>\n              <option value="disable">disable</option>\n            </select>\n          </div>\n\n      <div id="game-wizard-advanced-return-btn" class="game-wizard-advanced-return-btn button">accept</div>\n\n    '}},{key:"returnFormattedGameOptions",value:function(e){var t={};for(var r in e)"stake"==r&&(t[r]=e[r]),"crypto"==r&&(t[r]=e[r]),"blinds"==r&&(t[r]=e[r]),"big_blind"==r&&(t[r]=e[r]);return t}},{key:"showSplash",value:function(e){var t=document.querySelector(".shim");t.classList.remove("hidden"),t.firstElementChild.innerHTML=e,t.addEventListener("click",(function(e){t.classList.add("hidden"),t.firstElementChild.innerHTML=""}))}},{key:"updateStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{if(document.querySelector(".poker-seat-1 > .info").style.display=0==t?"block":"none",1==this.lock_interface)return;if(this.game.status=e,1==this.browser_active){var r=document.querySelector(".status");this.game.players.includes(this.app.wallet.returnPublicKey())&&(r.innerHTML=e)}}catch(e){}}},{key:"handleStatsMenu",value:function(){this.overlay.showOverlay(this.app,this,'\n      <div class="game-overlay-menu" id="game-overlay-menu">\n        <div>Game Statistics:</div>\n        <div class="statistics-info">\n        We\'re adding statistics, tracking and other information to help improve player games. If you\'re comfortable with JAVASCRIPT / HTML / CSS and want to help, please reach out.\n        </div>\n      </div>\n    ')}},{key:"increaseBlinds",value:function(){return this.game.state.blinds_idx++,1}},{key:"returnShortGameOptionsArray",value:function(e){var t=i(l(h.prototype),"returnShortGameOptionsArray",this).call(this,e),r=[];for(var n in t)if(""!=t[n]){var a=n,s=e[n],o=1;"big_blind"==n&&(a="blinds"),"blinds"==n&&("increase"==s?(a="mode",s="tournament"):o=0),1==o&&(r[a]=s)}return r}}])&&a(t.prototype,r),n&&a(t,n),h}(d));e.exports=h},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var a=c(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return o(this,r)}}function o(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=r(1223),l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(c,e);var t,r,n,o=s(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e,"DOT","wss://parity.saito.io:9931/polkadotwss/","Polkadot's Existential Deposit is 1 DOT, be sure not to send less than 1 DOT or leave less than 1 DOT in your wallet.")).name="Polkadot",t.description="Polkadot application layer for in-browser Polkadot applications. Install this module to make Polkadot your default in-browser cryptocurrency",t.information="Your wallet has a Polkadot module installed. This allows you to send and receive DOT and interact with Polkadot-compatible applications running on the Saito network. Please note that DOT is not intended for consumer usage, but intended as a base-layer for supporting an ecosystem of parachains. We recommend against using this network for other purposes.",t.warning="Polkadot has an Existential Deposit of 1 DOT. Be sure not to send less than 1 DOT or leave less than 1 DOT in your wallet or it will be reaped by the network.",t.categories="Cryptocurrency",t}return t=c,(r=[{key:"renderModalSelectCrypto",value:function(e,t){return'\n      <div id="dot-warning" class="dot-warning">\n\t<div id="dot-warning-header" class="dot-warning-header">Warning</div>\n\t<div id="dot-warning-body" class="dot-warning-body">\n\nDOT is a base-layer token. Saito supports DOT to assist with cross-chain applications and validation tools. This module is not intended for other applications. Use Saito or a Polkadot parachain for those.\n\n<p style="margin-bottom:20px"></p>\n\nAdditionally, <b>with this module you can lose significant amounts of money with no protection</b>. Key backup and management is also entirely your responsibility. Unless you know what you are doing, please switch back to Saito or a Polkadot parachain.\n\n        </div>\n\t<div id="dot-warning-confirm" class="dot-warning-confirm button">Continue</div>\n\t<div id="revert-to-saito" class="dot-warning-confirm revert-to-saito button">Back to Safety</div>\n      </div>\n      <style>\n.dot-warning {\n  background-image: url(/saito/img/doom.jpg);\n  background-size: cover;\n  width: 80vw;\n  height: 80vh;\n  padding: 30px;\n}\n.dot-warning-header {\n  font-size: 4em;\n  text-transform: uppercase;\n  font-weight: bold;\n  padding: 5px;\n}\n.dot-warning-body {\n  max-width: 500px;\n  font-size: 1.25em;\n  padding: 5px;\n  background: #0005;\n}\n.dot-warning-confirm {\n  max-width: 200px;\n  font-size: 1.2em;\n  margin-top: 20px;\n  text-align: center;\n  float: left;\n  margin-right: 20px;\n}\n.revert-to-saito {\n  max-width 200px;\n  font-size: 1.2em;\n  margin-top: 20px;\n  text-align: center;\n  background: whitesmoke;\n  color: var(--saito-red);\n  border: 1px solid var(--saito-red);\n}\n      </style>\n    '}},{key:"attachEventsModalSelectCrypto",value:function(e,t){try{var r=document.getElementById("dot-warning-confirm");r&&(r.onclick=function(r){t.activate(),t.modal_overlay.hideOverlay(),e.connection.emit("update_balance")});var n=document.getElementById("revert-to-saito");n&&(n.onclick=function(r){e.wallet.setPreferredCrypto("SAITO"),t.modal_overlay.hideOverlay()})}catch(e){}}}])&&a(t.prototype,r),n&&a(t,n),c}(u);e.exports=l},function(e,t,r){(function(t){function r(e){return(4294967296+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){let r;if(e instanceof Uint8Array)r=e;else if(e instanceof t)r=new Uint8Array(e);else{if("string"!=typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");r=new Uint8Array(t.from(e,"utf8"))}return r},toHex:function(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")},debugPrint:function(e,t,n){let a="\n"+e+" = ";for(let i=0;i<t.length;i+=2){if(32===n)a+=r(t[i]).toUpperCase(),a+=" ",a+=r(t[i+1]).toUpperCase();else{if(64!==n)throw new Error("Invalid size "+n);a+=r(t[i+1]).toUpperCase(),a+=r(t[i]).toUpperCase()}i%6==4?a+="\n"+new Array(e.length+4).join(" "):i<t.length-2&&(a+=" ")}console.log(a)},testSpeed:function(e,t,r){let n=(new Date).getTime();const a=new Uint8Array(t);for(let e=0;e<t;e++)a[e]=e%256;const i=(new Date).getTime();console.log("Generated random input in "+(i-n)+"ms"),n=i;for(let i=0;i<r;i++){const r=e(a),i=(new Date).getTime(),s=i-n;n=i,console.log("Hashed in "+s+"ms: "+r.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(s/1e3)*100)/100+" MB PER SECOND")}}}}).call(this,r(11).Buffer)},function(e,t,r){(function(t,n){const a=r(68);function i(e,t,r,n,a,i,s){let l;for(u(e,t+64*(2*n-1),a,0,64),l=0;l<2*n;l++)c(e,64*l,a,0,64),o(a,i,s),u(a,0,e,r+64*l,64);for(l=0;l<n;l++)u(e,r+2*l*64,e,t+64*l,64);for(l=0;l<n;l++)u(e,r+64*(2*l+1),e,t+64*(l+n),64)}function s(e,t){return e<<t|e>>>32-t}function o(e,t,r){let n;for(n=0;n<16;n++)t[n]=(255&e[4*n+0])<<0,t[n]|=(255&e[4*n+1])<<8,t[n]|=(255&e[4*n+2])<<16,t[n]|=(255&e[4*n+3])<<24;for(u(t,0,r,0,16),n=8;n>0;n-=2)r[4]^=s(r[0]+r[12],7),r[8]^=s(r[4]+r[0],9),r[12]^=s(r[8]+r[4],13),r[0]^=s(r[12]+r[8],18),r[9]^=s(r[5]+r[1],7),r[13]^=s(r[9]+r[5],9),r[1]^=s(r[13]+r[9],13),r[5]^=s(r[1]+r[13],18),r[14]^=s(r[10]+r[6],7),r[2]^=s(r[14]+r[10],9),r[6]^=s(r[2]+r[14],13),r[10]^=s(r[6]+r[2],18),r[3]^=s(r[15]+r[11],7),r[7]^=s(r[3]+r[15],9),r[11]^=s(r[7]+r[3],13),r[15]^=s(r[11]+r[7],18),r[1]^=s(r[0]+r[3],7),r[2]^=s(r[1]+r[0],9),r[3]^=s(r[2]+r[1],13),r[0]^=s(r[3]+r[2],18),r[6]^=s(r[5]+r[4],7),r[7]^=s(r[6]+r[5],9),r[4]^=s(r[7]+r[6],13),r[5]^=s(r[4]+r[7],18),r[11]^=s(r[10]+r[9],7),r[8]^=s(r[11]+r[10],9),r[9]^=s(r[8]+r[11],13),r[10]^=s(r[9]+r[8],18),r[12]^=s(r[15]+r[14],7),r[13]^=s(r[12]+r[15],9),r[14]^=s(r[13]+r[12],13),r[15]^=s(r[14]+r[13],18);for(n=0;n<16;++n)t[n]=r[n]+t[n];for(n=0;n<16;n++){let r=4*n;e[r+0]=t[n]>>0&255,e[r+1]=t[n]>>8&255,e[r+2]=t[n]>>16&255,e[r+3]=t[n]>>24&255}}function c(e,t,r,n,a){for(let i=0;i<a;i++)r[n+i]^=e[t+i]}function u(e,r,n,a,i){if(t.isBuffer(e)&&t.isBuffer(n))e.copy(n,a,r,r+i);else for(;i--;)n[a++]=e[r++]}e.exports={checkAndInit:function(e,r,n,i,s,o,c){if(0===n||0!=(n&n-1))throw Error("N must be > 0 and a power of 2");if(n>2147483647/128/i)throw Error("Parameter N is too large");if(i>2147483647/128/s)throw Error("Parameter r is too large");let u,l=t.alloc(256*i),d=t.alloc(128*i*n),h=new Int32Array(16),p=new Int32Array(16),f=t.alloc(64),m=a.pbkdf2Sync(e,r,1,128*s*i,"sha256");if(c){let e=s*n*2,t=0;u=function(){++t,t%1e3==0&&c({current:t,total:e,percent:t/e*100})}}return{XY:l,V:d,B32:h,x:p,_X:f,B:m,tickCallback:u}},smix:async function(e,t,r,a,s,o,u,l,d,h,p){p=p||5e3;let f,m=128*r;for(e.copy(o,0,t,t+m),f=0;f<a;f++)o.copy(s,f*m,0,0+m),f%p==0&&await new Promise(e=>n(e)),i(o,0,m,r,u,l,d),h&&h();for(f=0;f<a;f++){let e=0+64*(2*r-1);c(s,(o.readUInt32LE(e)&a-1)*m,o,0,m),f%p==0&&await new Promise(e=>n(e)),i(o,0,m,r,u,l,d),h&&h()}o.copy(e,t,0,0+m)},smixSync:function(e,t,r,n,a,s,o,u,l,d){let h,p=128*r;for(e.copy(s,0,t,t+p),h=0;h<n;h++)s.copy(a,h*p,0,0+p),i(s,0,p,r,o,u,l),d&&d();for(h=0;h<n;h++){let e=0+64*(2*r-1);c(a,(s.readUInt32LE(e)&n-1)*p,s,0,p),i(s,0,p,r,o,u,l),d&&d()}s.copy(e,t,0,0+p)}}}).call(this,r(11).Buffer,r(429).setImmediate)},function(e,t,r){t.UINT32=r(1233),t.UINT64=r(1234)},function(e,t){e.exports=PostMainTemplate=function(e,t){return'\n  <div id="post-container" class="post-container">\n    <div id="post-sidebar" class="post-sidebar">\n      <div id="email-chat" class="email_chat"></div>\n    </div>\n    <div id="post-main" class="post-main">\n      <div id="post-details" class="post-details"></div>\n      <div id="post-add-comment" class="post-add-comment"></div>\n      <div id="post-comments" class="post-comments"></div>\n    </div>\n  </div>\n    '}},function(e,t,r){var n=r(348),a=r(172);e.exports=NewPost={render:function(e,t){document.body.append(a(n(e,t)))},attachEvents:function(e,t){document.querySelector(".new-post-btn").addEventListener("click",(function(r){var n=document.querySelector(".new-post-content").value;newtx=t.post.createPostTransaction(n),e.network.propagateTransaction(newtx)})),document.querySelector(".post-close").addEventListener("click",(function(e){document.querySelector(".new-post-wrapper")&&document.querySelector(".new-post-wrapper").destroy()}))}}},function(e,t,r){var n=r(349),a=r(172);e.exports=ShowPost={render:function(e,t,r){var i=JSON.parse(r);document.body.append(a(n(e,t,i)))},attachEvents:function(e,t,r){var n=JSON.parse(r);document.querySelector(".show-post-update-btn")&&document.querySelector(".show-post-update-btn").addEventListener("click",(function(r){showtx=t.post.createPostTransaction(n.content,"update"),e.network.propagateTransaction(showtx)}))}}},function(e,t,r){(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,c,"next",e)}function c(e){a(s,n,i,o,c,"throw",e)}o(void 0)}))}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=r(12),p=r(27),f=r(343),m=r(346),g=r(337),y=r(127),b=r(156),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(O,e);var n,a,l,p,v,_,w,x,k,S=u(O);function O(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,O),(t=S.call(this,e)).name="Post",t.header=null,t.events=["chat-render-request"],t.renderMethod="none",t.post={},t.post.domain="saito",t.posts=[],t.comments=[],t.icon_fa="fa fa-map-signs",t.description="Simple forum for persistent posts and discussions",t.categories="Social Messaging",t}return n=O,(a=[{key:"receiveEvent",value:function(e,t){"chat-render-request"==e&&this.browser_active&&(m.render(this.app,this),m.attachEvents(this.app,this))}},{key:"respondTo",value:function(e){if(null!=o(d(O.prototype),"respondTo",this).call(this,e))return o(d(O.prototype),"respondTo",this).call(this,e);if("arcade-posts"==e){var t={};return t.render=this.renderArcade,t.attachEvents=function(){},t}return"header-dropdown"==e?{name:this.appname?this.appname:this.name,icon_fa:this.icon_fa,browser_active:this.browser_active,slug:this.returnSlug()}:null}},{key:"returnServices",value:function(){var e=[];return e.push({service:"post"}),e}},{key:"initializeHTML",value:function(e){null==this.header&&(this.header=new y(e,this)),this.header.render(e,this),this.header.attachEvents(e,this),m.render(this.app,this),m.attachEvents(this.app,this),f.render(e,this),f.attachEvents(e,this)}},{key:"onConfirmation",value:function(e,t,r,n){if(0==n.BROWSER&&0==r){var a=t.returnMessage();if("Post"===a.module){var i=n.modules.returnModule("Post");"post"==a.type&&(i.receivePostTransaction(t),this.render()),"comment"==a.type&&(i.receiveCommentTransaction(t),this.render()),"edit"==a.type&&(i.receiveEditTransaction(t),this.render()),"editpost"==a.type&&(i.receiveEditPostTransaction(t),this.render()),"report"==a.type&&(i.receiveReportTransaction(t),this.render()),"delete"==a.type&&(i.receiveDeleteTransaction(t),this.render())}}}},{key:"onPeerHandshakeComplete",value:function(e,t){var r=this;"none"!=this.renderMethod&&this.sendPeerDatabaseRequestWithFilter("Post",'SELECT id, children, img, lite_tx FROM posts WHERE parent_id = "" AND deleted = 0 ORDER BY ts DESC LIMIT 12',(function(e){if(e&&e.rows)for(var t=0;t<e.rows.length;t++)r.posts.push(new h.transaction(JSON.parse(e.rows[t].lite_tx))),r.posts[r.posts.length-1].children=e.rows[t].children,r.posts[r.posts.length-1].img=e.rows[t].img;r.render()}),(function(e){if(e.peer.services)for(var t=0;t<e.peer.services.length;t++)if("post"===e.peer.services[t].service)return 1;return 0}))}},{key:"render",value:function(){"main"===this.renderMethod&&(f.render(this.app,this),f.attachEvents(this.app,this)),"arcade"===this.renderMethod&&(g.render(this.app,this),g.attachEvents(this.app,this))}},{key:"renderArcade",value:function(e,t){t.renderMethod="arcade",t.render(e,t)}},{key:"grabImage",value:function(e,t){var n=this,a=r(1236),i=new a;i.register(new a.FileExtension),i.register(new a.MimeType),i.register(new a.Opengraph),i.register(new a.Webpage),i.resolve(e,(function(e){if(e){var r={$img:e.image,$id:t};n.app.storage.executeDatabase("UPDATE posts SET img = $img WHERE id = $id;",r,"post")}else console.log("No image found")}))}},{key:"createPostTransaction",value:function(e,t,r,n,a){var i=this.app.wallet.createUnsignedTransaction();return i.msg.module="Post",i.msg.type="post",i.msg.title=e,i.msg.comment=t,i.msg.link=r,i.msg.forum=n,i.msg.images=a,this.app.wallet.signTransaction(i)}},{key:"receivePostTransaction",value:(k=i(regeneratorRuntime.mark((function e(t){var r,n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.returnMessage(),n=JSON.stringify(t.transaction),(a=new h.transaction(JSON.parse(JSON.stringify(t.transaction)))).msg.comment="",a.msg.images=[],a=this.app.wallet.signTransaction(a),a=JSON.stringify(a.transaction),""!=r.title){e.next=9;break}return e.abrupt("return");case 9:return i={$pid:t.transaction.sig,$pthread_id:t.transaction.sig,$pparent_id:"",$ptype:"post",$ppublickey:t.transaction.from[0].add,$ptitle:r.title,$pimg:"",$ptext:r.comment,$pforum:r.forum,$plink:r.link,$pfulltx:n,$plitetx:a,$pts:t.transaction.ts,$pchildren:0,$pflagged:0,$pdeleted:0},e.next=13,this.app.storage.executeDatabase("\n        INSERT INTO \n            posts (\n                id,\n                thread_id,\n                parent_id, \n                type,\n\t\tpublickey,\n                title,\n                img,\n                text,\n\t\tforum,\n\t\tlink,\n                tx, \n                lite_tx, \n                ts,\n                children,\n                flagged,\n                deleted\n                ) \n            VALUES (\n                $pid ,\n\t        $pthread_id ,\n                $pparent_id ,\n                $ptype ,\n\t\t$ppublickey ,\n\t\t$ptitle ,\n\t\t$pimg ,\n\t\t$ptext ,\n\t\t$pforum ,\n\t\t$plink ,\n\t\t$pfulltx ,\n\t\t$plitetx ,\n\t\t$pts ,\n\t\t$pchildren ,\n\t\t$pflagged ,\n\t\t$pdeleted\n            );\n        ",i,"post");case 13:""!=r.link&&this.grabImage(r.link,t.transaction.sig);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)})},{key:"createEditPostTransaction",value:function(e,t,r,n,a,i){var s=this.app.wallet.createUnsignedTransaction();return s.msg.module="Post",s.msg.type="editpost",s.msg.title=e,s.msg.comment=t,s.msg.link=r,s.msg.forum=n,s.msg.images=a,s.msg.post_id=i,this.app.wallet.signTransaction(s)}},{key:"receiveEditPostTransaction",value:(x=i(regeneratorRuntime.mark((function e(t){var r,n,a,i,s,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.returnMessage(),n=JSON.stringify(t.transaction),(a=new h.transaction(JSON.parse(JSON.stringify(t.transaction)))).msg.comment="",a.msg.images=[],a=this.app.wallet.signTransaction(a),a=JSON.stringify(a.transaction),""!=r.title){e.next=9;break}return e.abrupt("return");case 9:return i=0,s="SELECT parent_id FROM posts WHERE id = $id",o={$id:r.post_id},e.next=14,this.app.storage.queryDatabase(s,o,"post");case 14:return(c=e.sent)&&c.length>0&&""===c[0].parent_id&&(i=1),s="SELECT publickey, children, flagged, deleted FROM posts WHERE id = $id",o={$id:r.post_id},e.next=20,this.app.storage.queryDatabase(s,o,"post");case 20:if(!(c=e.sent)){e.next=43;break}if(!(c.length>0)){e.next=43;break}if(c[0].children,c[0].publickey!==t.transaction.from[0].add){e.next=43;break}return s="DELETE FROM posts WHERE publickey = $author AND id = $id",o={$author:t.transaction.from[0].add,$id:r.post_id},e.next=29,this.app.storage.executeDatabase(s,o,"post");case 29:return s="\n        INSERT INTO \n            posts (\n                id,\n                thread_id,\n                parent_id, \n                type,\n\t\tpublickey,\n                title,\n                img,\n                text,\n\t\tforum,\n\t\tlink,\n                tx, \n                lite_tx, \n                ts,\n                children,\n                flagged,\n                deleted\n                ) \n            VALUES (\n                $pid ,\n\t        $pthread_id ,\n                $pparent_id ,\n                $ptype ,\n\t\t$ppublickey ,\n\t\t$ptitle ,\n\t\t$pimg ,\n\t\t$ptext ,\n\t\t$pforum ,\n\t\t$plink ,\n\t\t$pfulltx ,\n\t\t$plitetx ,\n\t\t$pts ,\n\t\t$pchildren ,\n\t\t$pflagged ,\n\t\t$pdeleted\n            );\n        ",o={$pid:t.transaction.sig,$pthread_id:t.transaction.sig,$pparent_id:"",$ptype:"post",$ppublickey:t.transaction.from[0].add,$ptitle:r.title,$pimg:"",$ptext:r.comment,$pforum:r.forum,$plink:r.link,$pfulltx:n,$plitetx:a,$pts:t.transaction.ts,$pchildren:c[0].children,$pflagged:c[0].flagged,$pdeleted:c[0].deleted},e.next=33,this.app.storage.executeDatabase(s,o,"post");case 33:return""!=r.link&&this.grabImage(r.link,t.transaction.sig),s="UPDATE posts SET parent_id = $new_parent_id WHERE parent_id = $old_parent_id",o={$new_parent_id:t.transaction.sig,$old_parent_id:r.post_id},e.next=38,this.app.storage.executeDatabase(s,o,"post");case 38:if(1!=i){e.next=43;break}return s="UPDATE posts SET thread_id = $new_parent_id WHERE thread_id = $old_parent_id",o={$new_parent_id:t.transaction.sig,$old_parent_id:r.post_id},e.next=43,this.app.storage.executeDatabase(s,o,"post");case 43:case"end":return e.stop()}}),e,this)}))),function(e){return x.apply(this,arguments)})},{key:"createEditTransaction",value:function(e,t){var r=this.app.wallet.createUnsignedTransaction();return r.msg.module="Post",r.msg.type="edit",r.msg.sig=e,r.msg.comment=t,this.app.wallet.signTransaction(r)}},{key:"receiveEditTransaction",value:(w=i(regeneratorRuntime.mark((function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.returnMessage(),n=0,a="SELECT parent_id FROM posts WHERE id = $id",i={$id:r.sig},e.next=6,this.app.storage.queryDatabase(a,i,"post");case 6:return(s=e.sent)&&s.length>0&&""===s[0].parent_id&&(n=1),a="SELECT publickey FROM posts WHERE id = $id",i={$id:r.sig},e.next=12,this.app.storage.queryDatabase(a,i,"post");case 12:if(!(s=e.sent)){e.next=29;break}if(!(s.length>0)){e.next=29;break}if(s[0].publickey!==t.transaction.from[0].add){e.next=29;break}return a="UPDATE posts SET id = $newid, text = $text, tx = $tx WHERE publickey = $author AND id = $id",o={$id:r.sig,$text:r.comment,$tx:JSON.stringify(t.transaction),$author:t.transaction.from[0].add},c="$id",u=r.sig,c in o?Object.defineProperty(o,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[c]=u,i=o,e.next=20,this.app.storage.executeDatabase(a,i,"post");case 20:return a="UPDATE posts SET parent_id = $new_parent_id WHERE parent_id = $old_parent_id",i={$new_parent_id:t.transaction.sig,$old_parent_id:r.sig},e.next=24,this.app.storage.executeDatabase(a,i,"post");case 24:if(1!=n){e.next=29;break}return a="UPDATE posts SET thread_id = $new_parent_id WHERE thread_id = $old_parent_id",i={$new_parent_id:t.transaction.sig,$old_parent_id:r.sig},e.next=29,this.app.storage.executeDatabase(a,i,"post");case 29:case"end":return e.stop()}var o,c,u}),e,this)}))),function(e){return w.apply(this,arguments)})},{key:"createCommentTransaction",value:function(e,t){var r=this.app.wallet.createUnsignedTransaction();return r.msg.module="Post",r.msg.type="comment",r.msg.parent_id=e,r.msg.thread_id=e,r.msg.title="",r.msg.comment=t,r.msg.link="",r.msg.forum="",r.msg.images=[],this.app.wallet.signTransaction(r)}},{key:"receiveCommentTransaction",value:(_=i(regeneratorRuntime.mark((function e(t){var r,n,a,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.returnMessage(),n=JSON.stringify(t.transaction),(a=new h.transaction(JSON.parse(JSON.stringify(t.transaction)))).msg.comment="",a.msg.images=[],a=this.app.wallet.signTransaction(a),a=JSON.stringify(a.transaction),i="\n        INSERT INTO \n            posts (\n                id,\n                thread_id,\n                parent_id, \n                type,\n                publickey,\n                title,\n                text,\n                forum,\n                link,\n                img,\n                tx, \n                lite_tx, \n                ts,\n                children,\n                flagged,\n                deleted\n                ) \n            VALUES (\n                $pid ,\n                $pthread_id ,\n                $pparent_id ,\n                $ptype ,\n                $ppublickey ,\n                $ptitle ,\n                $ptext ,\n                $pforum ,\n                $pimg ,\n                $plink ,\n                $ptx ,\n                $plite_tx ,\n                $pts ,\n                $pchildren ,\n                $pflagged ,\n                $pdeleted\n            );\n        ",s={$pid:t.transaction.sig,$pthread_id:r.thread_id,$pparent_id:r.parent_id,$ptype:"comment",$ppublickey:t.transaction.from[0].add,$ptitle:"",$ptext:r.comment,$pforum:"",$pimg:"",$plink:"",$ptx:n,$plite_tx:a,$pts:t.transaction.ts,$pchildren:0,$pflagged:0,$pdeleted:0},e.next=11,this.app.storage.executeDatabase(i,s,"post");case 11:return i="UPDATE posts SET children = children+1 WHERE id = $pid",s={$pid:r.thread_id},e.next=15,this.app.storage.executeDatabase(i,s,"post");case 15:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"createReportTransaction",value:function(e,t,r,n){var a=this.app.wallet.createUnsignedTransaction();return a.msg.module="Post",a.msg.type="report",a.msg.post_id=e,a.msg.title=t,a.msg.text=r,this.app.wallet.signTransaction(a)}},{key:"receiveReportTransaction",value:(v=i(regeneratorRuntime.mark((function e(r){var n,a,i,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.returnMessage(),a={$pid:n.post_id},e.next=5,this.app.storage.executeDatabase("\n        UPDATE posts SET flagged = 1 WHERE id = $pid\n    ",a,"post");case 5:i=this.createDeleteTransaction(n.post_id),s=b.encode(t.from(JSON.stringify(i))),console.log("POSTS MODERATION https://saito.io/post/delete/".concat(s)),console.log(JSON.stringify(n)),this.app.network.sendRequest("send email",{from:"network@saito.tech",to:"moderators@saito.tech",subject:"Saito.io - Post #".concat(n.post_id," was reported."),ishtml:!0,body:"\n        <b>Post #".concat(n.title," was reported.<br/></b>\n        Post ID").concat(n.post_id,'<br/><br/>\n        <a href="https://saito.io/post/delete/').concat(s,'">Delete Post</a><hr/>.\n      ')});case 10:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"createDeleteTransaction",value:function(e){var t=this.app.wallet.createUnsignedTransaction();return t.msg.module="Post",t.msg.type="delete",t.msg.post_id=e,this.app.wallet.signTransaction(t)}},{key:"receiveDeleteTransaction",value:(p=i(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.app.crypto.verifyMessage(t.returnSignatureSource(this.app),t.transaction.sig,t.transaction.from[0].add)){e.next=9;break}return r=t.returnMessage(),console.log(r),n={$post_id:r.post_id},e.next=7,this.app.storage.executeDatabase("\n          UPDATE \n            posts\n          SET\n            deleted = 1\n          WHERE\n            id = $post_id\n        ",n,"post");case 7:e.next=10;break;case 9:console.log("Delete Post Transaction signature is not valid");case 10:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"webServer",value:function(e,r,n){var a=this;o(d(O.prototype),"webServer",this).call(this,e,r,n),r.get("/post/delete/:serialized_tx",function(){var e=i(regeneratorRuntime.mark((function e(r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{i=JSON.parse(t.from(b.decode(r.params.serialized_tx)).toString("utf-8")),a.receiveDeleteTransaction(new h.transaction(i)),n.setHeader("Content-type","text/javascript"),n.write("OK"),n.charset="UTF-8",n.end()}catch(e){console.log("error trying to decode moderation transaction"),console.log(e)}case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())}}])&&s(n.prototype,a),l&&s(n,l),O}(p);e.exports=v}).call(this,r(11).Buffer)},function(e,t,r){"use strict";e.exports=function(e){return null!==e&&"object"==typeof e}},function(e,t,r){var n=r(609),a={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},i={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:a,input:a,output:a,button:a,datalist:a,textarea:a,option:{option:!0},optgroup:{optgroup:!0}},s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},o={__proto__:null,math:!0,svg:!0},c={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},u=/\s|\//;function l(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(n=this._options.Tokenizer),this._tokenizer=new n(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}r(7)(l,r(67).EventEmitter),l.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},l.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},l.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in i)for(var t;(t=this._stack[this._stack.length-1])in i[e];this.onclosetag(t));!this._options.xmlMode&&e in s||(this._stack.push(e),e in o?this._foreignContext.push(!0):e in c&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},l.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in s&&this._cbs.onclosetag(this._tagname),this._tagname=""},l.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),(e in o||e in c)&&this._foreignContext.pop(),!this._stack.length||e in s&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},l.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},l.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},l.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},l.prototype.onattribdata=function(e){this._attribvalue+=e},l.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},l.prototype._getInstructionName=function(e){var t=e.search(u),r=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(r=r.toLowerCase()),r},l.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},l.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},l.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},l.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},l.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},l.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},l.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},l.prototype.parseComplete=function(e){this.reset(),this.end(e)},l.prototype.write=function(e){this._tokenizer.write(e)},l.prototype.end=function(e){this._tokenizer.end(e)},l.prototype.pause=function(){this._tokenizer.pause()},l.prototype.resume=function(){this._tokenizer.resume()},l.prototype.parseChunk=l.prototype.write,l.prototype.done=l.prototype.end,e.exports=l},function(e,t,r){e.exports=ge;var n=r(1256),a=r(1258),i=r(1259),s=r(1260),o=0,c=o++,u=o++,l=o++,d=o++,h=o++,p=o++,f=o++,m=o++,g=o++,y=o++,b=o++,v=o++,_=o++,w=o++,x=o++,k=o++,S=o++,O=o++,P=o++,E=o++,A=o++,C=o++,T=o++,D=o++,j=o++,M=o++,I=o++,R=o++,B=o++,N=o++,F=o++,q=o++,L=o++,H=o++,U=o++,z=o++,V=o++,G=o++,W=o++,K=o++,Y=o++,X=o++,J=o++,Q=o++,Z=o++,$=o++,ee=o++,te=o++,re=o++,ne=o++,ae=o++,ie=o++,se=o++,oe=o++,ce=o++,ue=0,le=ue++,de=ue++,he=ue++;function pe(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function fe(e,t,r){var n=e.toLowerCase();return e===n?function(e){e===n?this._state=t:(this._state=r,this._index--)}:function(a){a===n||a===e?this._state=t:(this._state=r,this._index--)}}function me(e,t){var r=e.toLowerCase();return function(n){n===r||n===e?this._state=t:(this._state=l,this._index--)}}function ge(e,t){this._state=c,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=c,this._special=le,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}ge.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=u,this._sectionStart=this._index):this._decodeEntities&&this._special===le&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=c,this._state=ae,this._sectionStart=this._index)},ge.prototype._stateBeforeTagName=function(e){"/"===e?this._state=h:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==le||pe(e)?this._state=c:"!"===e?(this._state=x,this._sectionStart=this._index+1):"?"===e?(this._state=S,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?l:F,this._sectionStart=this._index)},ge.prototype._stateInTagName=function(e){("/"===e||">"===e||pe(e))&&(this._emitToken("onopentagname"),this._state=m,this._index--)},ge.prototype._stateBeforeCloseingTagName=function(e){pe(e)||(">"===e?this._state=c:this._special!==le?"s"===e||"S"===e?this._state=q:(this._state=c,this._index--):(this._state=p,this._sectionStart=this._index))},ge.prototype._stateInCloseingTagName=function(e){(">"===e||pe(e))&&(this._emitToken("onclosetag"),this._state=f,this._index--)},ge.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=c,this._sectionStart=this._index+1)},ge.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=c,this._sectionStart=this._index+1):"/"===e?this._state=d:pe(e)||(this._state=g,this._sectionStart=this._index)},ge.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=c,this._sectionStart=this._index+1):pe(e)||(this._state=m,this._index--)},ge.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||pe(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=y,this._index--)},ge.prototype._stateAfterAttributeName=function(e){"="===e?this._state=b:"/"===e||">"===e?(this._cbs.onattribend(),this._state=m,this._index--):pe(e)||(this._cbs.onattribend(),this._state=g,this._sectionStart=this._index)},ge.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=v,this._sectionStart=this._index+1):"'"===e?(this._state=_,this._sectionStart=this._index+1):pe(e)||(this._state=w,this._sectionStart=this._index,this._index--)},ge.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ae,this._sectionStart=this._index)},ge.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ae,this._sectionStart=this._index)},ge.prototype._stateInAttributeValueNoQuotes=function(e){pe(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=m,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ae,this._sectionStart=this._index)},ge.prototype._stateBeforeDeclaration=function(e){this._state="["===e?C:"-"===e?O:k},ge.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=c,this._sectionStart=this._index+1)},ge.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=c,this._sectionStart=this._index+1)},ge.prototype._stateBeforeComment=function(e){"-"===e?(this._state=P,this._sectionStart=this._index+1):this._state=k},ge.prototype._stateInComment=function(e){"-"===e&&(this._state=E)},ge.prototype._stateAfterComment1=function(e){this._state="-"===e?A:P},ge.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=c,this._sectionStart=this._index+1):"-"!==e&&(this._state=P)},ge.prototype._stateBeforeCdata1=fe("C",T,k),ge.prototype._stateBeforeCdata2=fe("D",D,k),ge.prototype._stateBeforeCdata3=fe("A",j,k),ge.prototype._stateBeforeCdata4=fe("T",M,k),ge.prototype._stateBeforeCdata5=fe("A",I,k),ge.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=R,this._sectionStart=this._index+1):(this._state=k,this._index--)},ge.prototype._stateInCdata=function(e){"]"===e&&(this._state=B)},ge.prototype._stateAfterCdata1=function(e){this._state="]"===e?N:R},ge.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=c,this._sectionStart=this._index+1):"]"!==e&&(this._state=R)},ge.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=L:"t"===e||"T"===e?this._state=J:(this._state=l,this._index--)},ge.prototype._stateBeforeSpecialEnd=function(e){this._special!==de||"c"!==e&&"C"!==e?this._special!==he||"t"!==e&&"T"!==e?this._state=c:this._state=ee:this._state=G},ge.prototype._stateBeforeScript1=me("R",H),ge.prototype._stateBeforeScript2=me("I",U),ge.prototype._stateBeforeScript3=me("P",z),ge.prototype._stateBeforeScript4=me("T",V),ge.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||pe(e))&&(this._special=de),this._state=l,this._index--},ge.prototype._stateAfterScript1=fe("R",W,c),ge.prototype._stateAfterScript2=fe("I",K,c),ge.prototype._stateAfterScript3=fe("P",Y,c),ge.prototype._stateAfterScript4=fe("T",X,c),ge.prototype._stateAfterScript5=function(e){">"===e||pe(e)?(this._special=le,this._state=p,this._sectionStart=this._index-6,this._index--):this._state=c},ge.prototype._stateBeforeStyle1=me("Y",Q),ge.prototype._stateBeforeStyle2=me("L",Z),ge.prototype._stateBeforeStyle3=me("E",$),ge.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||pe(e))&&(this._special=he),this._state=l,this._index--},ge.prototype._stateAfterStyle1=fe("Y",te,c),ge.prototype._stateAfterStyle2=fe("L",re,c),ge.prototype._stateAfterStyle3=fe("E",ne,c),ge.prototype._stateAfterStyle4=function(e){">"===e||pe(e)?(this._special=le,this._state=p,this._sectionStart=this._index-5,this._index--):this._state=c},ge.prototype._stateBeforeEntity=fe("#",ie,se),ge.prototype._stateBeforeNumericEntity=fe("X",ce,oe),ge.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?s:a;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},ge.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var r=this._buffer.substr(e,t);if(i.hasOwnProperty(r))return this._emitPartial(i[r]),void(this._sectionStart+=t+1);t--}},ge.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==c?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},ge.prototype._decodeNumericEntity=function(e,t){var r=this._sectionStart+e;if(r!==this._index){var a=this._buffer.substring(r,this._index),i=parseInt(a,t);this._emitPartial(n(i)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},ge.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},ge.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},ge.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===c?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},ge.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},ge.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===c?this._stateText(e):this._state===u?this._stateBeforeTagName(e):this._state===l?this._stateInTagName(e):this._state===h?this._stateBeforeCloseingTagName(e):this._state===p?this._stateInCloseingTagName(e):this._state===f?this._stateAfterCloseingTagName(e):this._state===d?this._stateInSelfClosingTag(e):this._state===m?this._stateBeforeAttributeName(e):this._state===g?this._stateInAttributeName(e):this._state===y?this._stateAfterAttributeName(e):this._state===b?this._stateBeforeAttributeValue(e):this._state===v?this._stateInAttributeValueDoubleQuotes(e):this._state===_?this._stateInAttributeValueSingleQuotes(e):this._state===w?this._stateInAttributeValueNoQuotes(e):this._state===x?this._stateBeforeDeclaration(e):this._state===k?this._stateInDeclaration(e):this._state===S?this._stateInProcessingInstruction(e):this._state===O?this._stateBeforeComment(e):this._state===P?this._stateInComment(e):this._state===E?this._stateAfterComment1(e):this._state===A?this._stateAfterComment2(e):this._state===C?this._stateBeforeCdata1(e):this._state===T?this._stateBeforeCdata2(e):this._state===D?this._stateBeforeCdata3(e):this._state===j?this._stateBeforeCdata4(e):this._state===M?this._stateBeforeCdata5(e):this._state===I?this._stateBeforeCdata6(e):this._state===R?this._stateInCdata(e):this._state===B?this._stateAfterCdata1(e):this._state===N?this._stateAfterCdata2(e):this._state===F?this._stateBeforeSpecial(e):this._state===q?this._stateBeforeSpecialEnd(e):this._state===L?this._stateBeforeScript1(e):this._state===H?this._stateBeforeScript2(e):this._state===U?this._stateBeforeScript3(e):this._state===z?this._stateBeforeScript4(e):this._state===V?this._stateBeforeScript5(e):this._state===G?this._stateAfterScript1(e):this._state===W?this._stateAfterScript2(e):this._state===K?this._stateAfterScript3(e):this._state===Y?this._stateAfterScript4(e):this._state===X?this._stateAfterScript5(e):this._state===J?this._stateBeforeStyle1(e):this._state===Q?this._stateBeforeStyle2(e):this._state===Z?this._stateBeforeStyle3(e):this._state===$?this._stateBeforeStyle4(e):this._state===ee?this._stateAfterStyle1(e):this._state===te?this._stateAfterStyle2(e):this._state===re?this._stateAfterStyle3(e):this._state===ne?this._stateAfterStyle4(e):this._state===ae?this._stateBeforeEntity(e):this._state===ie?this._stateBeforeNumericEntity(e):this._state===se?this._stateInNamedEntity(e):this._state===oe?this._stateInNumericEntity(e):this._state===ce?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},ge.prototype.pause=function(){this._running=!1},ge.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},ge.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},ge.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},ge.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===R||this._state===B||this._state===N?this._cbs.oncdata(e):this._state===P||this._state===E||this._state===A?this._cbs.oncomment(e):this._state!==se||this._xmlMode?this._state!==oe||this._xmlMode?this._state!==ce||this._xmlMode?this._state!==l&&this._state!==m&&this._state!==b&&this._state!==y&&this._state!==g&&this._state!==_&&this._state!==v&&this._state!==w&&this._state!==p&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},ge.prototype.reset=function(){ge.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},ge.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},ge.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},ge.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},ge.prototype._emitPartial=function(e){this._baseState!==c?this._cbs.onattribdata(e):this._cbs.ontext(e)}},function(e,t,r){var n=r(134),a=/\s+/g,i=r(611),s=r(1261);function o(e,t,r){"object"==typeof e?(r=t,t=e,e=null):"function"==typeof t&&(r=t,t=c),this._callback=e,this._options=t||c,this._elementCB=r,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var c={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};o.prototype.onparserinit=function(e){this._parser=e},o.prototype.onreset=function(){o.call(this,this._callback,this._options,this._elementCB)},o.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},o.prototype._handleCallback=o.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},o.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&e&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},o.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;for(var r in t="tag"===e.type?Object.create(s):Object.create(i),e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},o.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],r=t?t.children:this.dom,n=r[r.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),n?(e.prev=n,n.next=e):e.prev=null,r.push(e),e.parent=t||null},o.prototype.onopentag=function(e,t){var r={type:"script"===e?n.Script:"style"===e?n.Style:n.Tag,name:e,attribs:t,children:[]},a=this._createDomElement(r);this._addDomElement(a),this._tagStack.push(a)},o.prototype.ontext=function(e){var t,r=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===n.Text)r?t.data=(t.data+e).replace(a," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===n.Text)r?t.data=(t.data+e).replace(a," "):t.data+=e;else{r&&(e=e.replace(a," "));var i=this._createDomElement({data:e,type:n.Text});this._addDomElement(i)}},o.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===n.Comment)t.data+=e;else{var r={data:e,type:n.Comment},a=this._createDomElement(r);this._addDomElement(a),this._tagStack.push(a)}},o.prototype.oncdatastart=function(){var e={children:[{data:"",type:n.Text}],type:n.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},o.prototype.oncommentend=o.prototype.oncdataend=function(){this._tagStack.pop()},o.prototype.onprocessinginstruction=function(e,t){var r=this._createDomElement({name:e,data:t,type:n.Directive});this._addDomElement(r)},e.exports=o},function(e,t){var r=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return a[this.type]||a.element}},n={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},a={element:1,text:3,cdata:4,comment:8};Object.keys(n).forEach((function(e){var t=n[e];Object.defineProperty(r,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}))},function(e,t,r){var n=e.exports;[r(1263),r(1271),r(1272),r(1273),r(1274),r(1275)].forEach((function(e){Object.keys(e).forEach((function(t){n[t]=e[t].bind(n)}))}))},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHTML=t.decodeHTMLStrict=t.decodeXML=void 0;var a=n(r(614)),i=n(r(1267)),s=n(r(615)),o=n(r(1268)),c=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function u(e){var t=d(e);return function(e){return String(e).replace(c,t)}}t.decodeXML=u(s.default),t.decodeHTMLStrict=u(a.default);var l=function(e,t){return e<t?1:-1};function d(e){return function(t){if("#"===t.charAt(1)){var r=t.charAt(2);return"X"===r||"x"===r?o.default(parseInt(t.substr(3),16)):o.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]||t}}t.decodeHTML=function(){for(var e=Object.keys(i.default).sort(l),t=Object.keys(a.default).sort(l),r=0,n=0;r<t.length;r++)e[n]===t[r]?(t[r]+=";?",n++):t[r]+=";";var s=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=d(a.default);function c(e){return";"!==e.substr(-1)&&(e+=";"),o(e)}return function(e){return String(e).replace(s,c)}}()},function(e){e.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},function(e){e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=void 0;var a=l(n(r(615)).default),i=d(a);t.encodeXML=g(a);var s,o,c=l(n(r(614)).default),u=d(c);function l(e){return Object.keys(e).sort().reduce((function(t,r){return t[e[r]]="&"+r+";",t}),{})}function d(e){for(var t=[],r=[],n=0,a=Object.keys(e);n<a.length;n++){var i=a[n];1===i.length?t.push("\\"+i):r.push(i)}t.sort();for(var s=0;s<t.length-1;s++){for(var o=s;o<t.length-1&&t[o].charCodeAt(1)+1===t[o+1].charCodeAt(1);)o+=1;var c=1+o-s;c<3||t.splice(s,c,t[s]+"-"+t[o])}return r.unshift("["+t.join("")+"]"),new RegExp(r.join("|"),"g")}t.encodeHTML=(s=c,o=u,function(e){return e.replace(o,(function(e){return s[e]})).replace(h,f)}),t.encodeNonAsciiHTML=g(c);var h=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,p=null!=String.prototype.codePointAt?function(e){return e.codePointAt(0)}:function(e){return 1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536};function f(e){return"&#x"+(e.length>1?p(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}var m=new RegExp(i.source+"|"+h.source,"g");function g(e){return function(t){return t.replace(m,(function(t){return e[t]||f(t)}))}}t.escape=function(e){return e.replace(m,f)},t.escapeUTF8=function(e){return e.replace(i,f)}},function(e,t,r){e.exports=o;var n=r(608),a=r(1277).Writable,i=r(105).StringDecoder,s=r(11).Buffer;function o(e,t){var r=this._parser=new n(e,t),s=this._decoder=new i;a.call(this,{decodeStrings:!1}),this.once("finish",(function(){r.end(s.end())}))}r(7)(o,a),o.prototype._write=function(e,t,r){e instanceof s&&(e=this._decoder.write(e)),this._parser.write(e),r()}},function(e,t){var r={};function n(e,t){this.count=e,this.dataCodewords=t,this.__defineGetter__("Count",(function(){return this.count})),this.__defineGetter__("DataCodewords",(function(){return this.dataCodewords}))}function a(e,t,r){this.ecCodewordsPerBlock=e,this.ecBlocks=r?new Array(t,r):new Array(t),this.__defineGetter__("ECCodewordsPerBlock",(function(){return this.ecCodewordsPerBlock})),this.__defineGetter__("TotalECCodewords",(function(){return this.ecCodewordsPerBlock*this.NumBlocks})),this.__defineGetter__("NumBlocks",(function(){for(var e=0,t=0;t<this.ecBlocks.length;t++)e+=this.ecBlocks[t].length;return e})),this.getECBlocks=function(){return this.ecBlocks}}function i(e,t,r,n,a,i){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=new Array(r,n,a,i);for(var s=0,o=r.ECCodewordsPerBlock,c=r.getECBlocks(),u=0;u<c.length;u++){var l=c[u];s+=l.Count*(l.DataCodewords+o)}this.totalCodewords=s,this.__defineGetter__("VersionNumber",(function(){return this.versionNumber})),this.__defineGetter__("AlignmentPatternCenters",(function(){return this.alignmentPatternCenters})),this.__defineGetter__("TotalCodewords",(function(){return this.totalCodewords})),this.__defineGetter__("DimensionForVersion",(function(){return 17+4*this.versionNumber})),this.buildFunctionPattern=function(){var e=this.DimensionForVersion,t=new b(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var r=this.alignmentPatternCenters.length,n=0;n<r;n++)for(var a=this.alignmentPatternCenters[n]-2,i=0;i<r;i++)0==n&&(0==i||i==r-1)||n==r-1&&0==i||t.setRegion(this.alignmentPatternCenters[i]-2,a,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},this.getECBlocksForLevel=function(e){return this.ecBlocks[e.ordinal()]}}function s(e,t,r,n,a,i,o,c,u){this.a11=e,this.a12=n,this.a13=o,this.a21=t,this.a22=a,this.a23=c,this.a31=r,this.a32=i,this.a33=u,this.transformPoints1=function(e){for(var t=e.length,r=this.a11,n=this.a12,a=this.a13,i=this.a21,s=this.a22,o=this.a23,c=this.a31,u=this.a32,l=this.a33,d=0;d<t;d+=2){var h=e[d],p=e[d+1],f=a*h+o*p+l;e[d]=(r*h+i*p+c)/f,e[d+1]=(n*h+s*p+u)/f}},this.transformPoints2=function(e,t){for(var r=e.length,n=0;n<r;n++){var a=e[n],i=t[n],s=this.a13*a+this.a23*i+this.a33;e[n]=(this.a11*a+this.a21*i+this.a31)/s,t[n]=(this.a12*a+this.a22*i+this.a32)/s}},this.buildAdjoint=function(){return new s(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},this.times=function(e){return new s(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}function o(e,t){this.bits=e,this.points=t}function c(e){this.image=e,this.resultPointCallback=null,this.sizeOfBlackWhiteBlackRun=function(e,t,r,n){var a=Math.abs(n-t)>Math.abs(r-e);if(a){var i=e;e=t,t=i,i=r,r=n,n=i}for(var s=Math.abs(r-e),o=Math.abs(n-t),c=-s>>1,u=t<n?1:-1,l=e<r?1:-1,d=0,h=e,p=t;h!=r;h+=l){var f=a?p:h,m=a?h:p;if(1==d?this.image[f+m*O.width]&&d++:this.image[f+m*O.width]||d++,3==d){var g=h-e,y=p-t;return Math.sqrt(g*g+y*y)}if((c+=o)>0){if(p==n)break;p+=u,c-=s}}var b=r-e,v=n-t;return Math.sqrt(b*b+v*v)},this.sizeOfBlackWhiteBlackRunBothWays=function(e,t,r,n){var a=this.sizeOfBlackWhiteBlackRun(e,t,r,n),i=1,s=e-(r-e);s<0?(i=e/(e-s),s=0):s>=O.width&&(i=(O.width-1-e)/(s-e),s=O.width-1);var o=Math.floor(t-(n-t)*i);return i=1,o<0?(i=t/(t-o),o=0):o>=O.height&&(i=(O.height-1-t)/(o-t),o=O.height-1),s=Math.floor(e+(s-e)*i),(a+=this.sizeOfBlackWhiteBlackRun(e,t,s,o))-1},this.calculateModuleSizeOneWay=function(e,t){var r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y)),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14},this.calculateModuleSize=function(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2},this.distance=function(e,t){var r=e.X-t.X,n=e.Y-t.Y;return Math.sqrt(r*r+n*n)},this.computeDimension=function(e,t,r,n){var a=7+(Math.round(this.distance(e,t)/n)+Math.round(this.distance(e,r)/n)>>1);switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw"Error"}return a},this.findAlignmentInRegion=function(e,t,r,n){var a=Math.floor(n*e),i=Math.max(0,t-a),s=Math.min(O.width-1,t+a);if(s-i<3*e)throw"Error";var o=Math.max(0,r-a),c=Math.min(O.height-1,r+a);return new D(this.image,i,o,s-i,c-o,e,this.resultPointCallback).find()},this.createTransform=function(e,t,r,n,a){var i,o,c,u,l=a-3.5;return null!=n?(i=n.X,o=n.Y,c=u=l-3):(i=t.X-e.X+r.X,o=t.Y-e.Y+r.Y,c=u=l),s.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,c,u,3.5,l,e.X,e.Y,t.X,t.Y,i,o,r.X,r.Y)},this.sampleGrid=function(e,t,n){return r.sampleGrid3(e,n,t)},this.processFinderPatternInfo=function(e){var t=e.TopLeft,r=e.TopRight,n=e.BottomLeft,a=this.calculateModuleSize(t,r,n);if(a<1)throw"Error";var s=this.computeDimension(t,r,n,a),c=i.getProvisionalVersionForDimension(s),u=c.DimensionForVersion-7,l=null;if(c.AlignmentPatternCenters.length>0)for(var d=r.X-t.X+n.X,h=r.Y-t.Y+n.Y,p=1-3/u,f=Math.floor(t.X+p*(d-t.X)),m=Math.floor(t.Y+p*(h-t.Y)),g=4;g<=16;g<<=1){l=this.findAlignmentInRegion(a,f,m,g);break}var y=this.createTransform(t,r,n,l,s);return new o(this.sampleGrid(this.image,y,s),null==l?new Array(n,t,r):new Array(n,t,r,l))},this.detect=function(){var e=(new C).findFinderPattern(this.image);return this.processFinderPatternInfo(e)}}r.checkAndNudgePoints=function(e,t){for(var r=O.width,n=O.height,a=!0,i=0;i<t.length&&a;i+=2){var s=Math.floor(t[i]),o=Math.floor(t[i+1]);if(s<-1||s>r||o<-1||o>n)throw"Error.checkAndNudgePoints ";a=!1,-1==s?(t[i]=0,a=!0):s==r&&(t[i]=r-1,a=!0),-1==o?(t[i+1]=0,a=!0):o==n&&(t[i+1]=n-1,a=!0)}a=!0;for(i=t.length-2;i>=0&&a;i-=2){s=Math.floor(t[i]),o=Math.floor(t[i+1]);if(s<-1||s>r||o<-1||o>n)throw"Error.checkAndNudgePoints ";a=!1,-1==s?(t[i]=0,a=!0):s==r&&(t[i]=r-1,a=!0),-1==o?(t[i+1]=0,a=!0):o==n&&(t[i+1]=n-1,a=!0)}},r.sampleGrid3=function(e,t,n){for(var a=new b(t),i=new Array(t<<1),s=0;s<t;s++){for(var o=i.length,c=s+.5,u=0;u<o;u+=2)i[u]=.5+(u>>1),i[u+1]=c;n.transformPoints1(i),r.checkAndNudgePoints(e,i);try{for(u=0;u<o;u+=2){e[Math.floor(i[u])+O.width*Math.floor(i[u+1])]&&a.set_Renamed(u>>1,s)}}catch(e){throw"Error.checkAndNudgePoints"}}return a},r.sampleGridx=function(e,t,n,a,i,o,c,u,l,d,h,p,f,m,g,y,b,v){var _=s.quadrilateralToQuadrilateral(n,a,i,o,c,u,l,d,h,p,f,m,g,y,b,v);return r.sampleGrid3(e,t,_)},i.VERSION_DECODE_INFO=new Array(31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017),i.VERSIONS=new Array(new i(1,new Array,new a(7,new n(1,19)),new a(10,new n(1,16)),new a(13,new n(1,13)),new a(17,new n(1,9))),new i(2,new Array(6,18),new a(10,new n(1,34)),new a(16,new n(1,28)),new a(22,new n(1,22)),new a(28,new n(1,16))),new i(3,new Array(6,22),new a(15,new n(1,55)),new a(26,new n(1,44)),new a(18,new n(2,17)),new a(22,new n(2,13))),new i(4,new Array(6,26),new a(20,new n(1,80)),new a(18,new n(2,32)),new a(26,new n(2,24)),new a(16,new n(4,9))),new i(5,new Array(6,30),new a(26,new n(1,108)),new a(24,new n(2,43)),new a(18,new n(2,15),new n(2,16)),new a(22,new n(2,11),new n(2,12))),new i(6,new Array(6,34),new a(18,new n(2,68)),new a(16,new n(4,27)),new a(24,new n(4,19)),new a(28,new n(4,15))),new i(7,new Array(6,22,38),new a(20,new n(2,78)),new a(18,new n(4,31)),new a(18,new n(2,14),new n(4,15)),new a(26,new n(4,13),new n(1,14))),new i(8,new Array(6,24,42),new a(24,new n(2,97)),new a(22,new n(2,38),new n(2,39)),new a(22,new n(4,18),new n(2,19)),new a(26,new n(4,14),new n(2,15))),new i(9,new Array(6,26,46),new a(30,new n(2,116)),new a(22,new n(3,36),new n(2,37)),new a(20,new n(4,16),new n(4,17)),new a(24,new n(4,12),new n(4,13))),new i(10,new Array(6,28,50),new a(18,new n(2,68),new n(2,69)),new a(26,new n(4,43),new n(1,44)),new a(24,new n(6,19),new n(2,20)),new a(28,new n(6,15),new n(2,16))),new i(11,new Array(6,30,54),new a(20,new n(4,81)),new a(30,new n(1,50),new n(4,51)),new a(28,new n(4,22),new n(4,23)),new a(24,new n(3,12),new n(8,13))),new i(12,new Array(6,32,58),new a(24,new n(2,92),new n(2,93)),new a(22,new n(6,36),new n(2,37)),new a(26,new n(4,20),new n(6,21)),new a(28,new n(7,14),new n(4,15))),new i(13,new Array(6,34,62),new a(26,new n(4,107)),new a(22,new n(8,37),new n(1,38)),new a(24,new n(8,20),new n(4,21)),new a(22,new n(12,11),new n(4,12))),new i(14,new Array(6,26,46,66),new a(30,new n(3,115),new n(1,116)),new a(24,new n(4,40),new n(5,41)),new a(20,new n(11,16),new n(5,17)),new a(24,new n(11,12),new n(5,13))),new i(15,new Array(6,26,48,70),new a(22,new n(5,87),new n(1,88)),new a(24,new n(5,41),new n(5,42)),new a(30,new n(5,24),new n(7,25)),new a(24,new n(11,12),new n(7,13))),new i(16,new Array(6,26,50,74),new a(24,new n(5,98),new n(1,99)),new a(28,new n(7,45),new n(3,46)),new a(24,new n(15,19),new n(2,20)),new a(30,new n(3,15),new n(13,16))),new i(17,new Array(6,30,54,78),new a(28,new n(1,107),new n(5,108)),new a(28,new n(10,46),new n(1,47)),new a(28,new n(1,22),new n(15,23)),new a(28,new n(2,14),new n(17,15))),new i(18,new Array(6,30,56,82),new a(30,new n(5,120),new n(1,121)),new a(26,new n(9,43),new n(4,44)),new a(28,new n(17,22),new n(1,23)),new a(28,new n(2,14),new n(19,15))),new i(19,new Array(6,30,58,86),new a(28,new n(3,113),new n(4,114)),new a(26,new n(3,44),new n(11,45)),new a(26,new n(17,21),new n(4,22)),new a(26,new n(9,13),new n(16,14))),new i(20,new Array(6,34,62,90),new a(28,new n(3,107),new n(5,108)),new a(26,new n(3,41),new n(13,42)),new a(30,new n(15,24),new n(5,25)),new a(28,new n(15,15),new n(10,16))),new i(21,new Array(6,28,50,72,94),new a(28,new n(4,116),new n(4,117)),new a(26,new n(17,42)),new a(28,new n(17,22),new n(6,23)),new a(30,new n(19,16),new n(6,17))),new i(22,new Array(6,26,50,74,98),new a(28,new n(2,111),new n(7,112)),new a(28,new n(17,46)),new a(30,new n(7,24),new n(16,25)),new a(24,new n(34,13))),new i(23,new Array(6,30,54,74,102),new a(30,new n(4,121),new n(5,122)),new a(28,new n(4,47),new n(14,48)),new a(30,new n(11,24),new n(14,25)),new a(30,new n(16,15),new n(14,16))),new i(24,new Array(6,28,54,80,106),new a(30,new n(6,117),new n(4,118)),new a(28,new n(6,45),new n(14,46)),new a(30,new n(11,24),new n(16,25)),new a(30,new n(30,16),new n(2,17))),new i(25,new Array(6,32,58,84,110),new a(26,new n(8,106),new n(4,107)),new a(28,new n(8,47),new n(13,48)),new a(30,new n(7,24),new n(22,25)),new a(30,new n(22,15),new n(13,16))),new i(26,new Array(6,30,58,86,114),new a(28,new n(10,114),new n(2,115)),new a(28,new n(19,46),new n(4,47)),new a(28,new n(28,22),new n(6,23)),new a(30,new n(33,16),new n(4,17))),new i(27,new Array(6,34,62,90,118),new a(30,new n(8,122),new n(4,123)),new a(28,new n(22,45),new n(3,46)),new a(30,new n(8,23),new n(26,24)),new a(30,new n(12,15),new n(28,16))),new i(28,new Array(6,26,50,74,98,122),new a(30,new n(3,117),new n(10,118)),new a(28,new n(3,45),new n(23,46)),new a(30,new n(4,24),new n(31,25)),new a(30,new n(11,15),new n(31,16))),new i(29,new Array(6,30,54,78,102,126),new a(30,new n(7,116),new n(7,117)),new a(28,new n(21,45),new n(7,46)),new a(30,new n(1,23),new n(37,24)),new a(30,new n(19,15),new n(26,16))),new i(30,new Array(6,26,52,78,104,130),new a(30,new n(5,115),new n(10,116)),new a(28,new n(19,47),new n(10,48)),new a(30,new n(15,24),new n(25,25)),new a(30,new n(23,15),new n(25,16))),new i(31,new Array(6,30,56,82,108,134),new a(30,new n(13,115),new n(3,116)),new a(28,new n(2,46),new n(29,47)),new a(30,new n(42,24),new n(1,25)),new a(30,new n(23,15),new n(28,16))),new i(32,new Array(6,34,60,86,112,138),new a(30,new n(17,115)),new a(28,new n(10,46),new n(23,47)),new a(30,new n(10,24),new n(35,25)),new a(30,new n(19,15),new n(35,16))),new i(33,new Array(6,30,58,86,114,142),new a(30,new n(17,115),new n(1,116)),new a(28,new n(14,46),new n(21,47)),new a(30,new n(29,24),new n(19,25)),new a(30,new n(11,15),new n(46,16))),new i(34,new Array(6,34,62,90,118,146),new a(30,new n(13,115),new n(6,116)),new a(28,new n(14,46),new n(23,47)),new a(30,new n(44,24),new n(7,25)),new a(30,new n(59,16),new n(1,17))),new i(35,new Array(6,30,54,78,102,126,150),new a(30,new n(12,121),new n(7,122)),new a(28,new n(12,47),new n(26,48)),new a(30,new n(39,24),new n(14,25)),new a(30,new n(22,15),new n(41,16))),new i(36,new Array(6,24,50,76,102,128,154),new a(30,new n(6,121),new n(14,122)),new a(28,new n(6,47),new n(34,48)),new a(30,new n(46,24),new n(10,25)),new a(30,new n(2,15),new n(64,16))),new i(37,new Array(6,28,54,80,106,132,158),new a(30,new n(17,122),new n(4,123)),new a(28,new n(29,46),new n(14,47)),new a(30,new n(49,24),new n(10,25)),new a(30,new n(24,15),new n(46,16))),new i(38,new Array(6,32,58,84,110,136,162),new a(30,new n(4,122),new n(18,123)),new a(28,new n(13,46),new n(32,47)),new a(30,new n(48,24),new n(14,25)),new a(30,new n(42,15),new n(32,16))),new i(39,new Array(6,26,54,82,110,138,166),new a(30,new n(20,117),new n(4,118)),new a(28,new n(40,47),new n(7,48)),new a(30,new n(43,24),new n(22,25)),new a(30,new n(10,15),new n(67,16))),new i(40,new Array(6,30,58,86,114,142,170),new a(30,new n(19,118),new n(6,119)),new a(28,new n(18,47),new n(31,48)),new a(30,new n(34,24),new n(34,25)),new a(30,new n(20,15),new n(61,16)))),i.getVersionForNumber=function(e){if(e<1||e>40)throw"ArgumentException";return i.VERSIONS[e-1]},i.getProvisionalVersionForDimension=function(e){if(e%4!=1)throw"Error getProvisionalVersionForDimension";try{return i.getVersionForNumber(e-17>>2)}catch(e){throw"Error getVersionForNumber"}},i.decodeVersionInformation=function(e){for(var t=4294967295,r=0,n=0;n<i.VERSION_DECODE_INFO.length;n++){var a=i.VERSION_DECODE_INFO[n];if(a==e)return this.getVersionForNumber(n+7);var s=d.numBitsDiffering(e,a);s<t&&(r=n+7,t=s)}return t<=3?this.getVersionForNumber(r):null},s.quadrilateralToQuadrilateral=function(e,t,r,n,a,i,s,o,c,u,l,d,h,p,f,m){var g=this.quadrilateralToSquare(e,t,r,n,a,i,s,o);return this.squareToQuadrilateral(c,u,l,d,h,p,f,m).times(g)},s.squareToQuadrilateral=function(e,t,r,n,a,i,o,c){var u=c-i,l=t-n+i-c;if(0==u&&0==l)return new s(r-e,a-r,e,n-t,i-n,t,0,0,1);var d=r-a,h=o-a,p=e-r+a-o,f=n-i,m=d*u-h*f,g=(p*u-h*l)/m,y=(d*l-p*f)/m;return new s(r-e+g*r,o-e+y*o,e,n-t+g*n,c-t+y*c,t,g,y,1)},s.quadrilateralToSquare=function(e,t,r,n,a,i,s,o){return this.squareToQuadrilateral(e,t,r,n,a,i,s,o).buildAdjoint()};var u=new Array(new Array(21522,0),new Array(20773,1),new Array(24188,2),new Array(23371,3),new Array(17913,4),new Array(16590,5),new Array(20375,6),new Array(19104,7),new Array(30660,8),new Array(29427,9),new Array(32170,10),new Array(30877,11),new Array(26159,12),new Array(25368,13),new Array(27713,14),new Array(26998,15),new Array(5769,16),new Array(5054,17),new Array(7399,18),new Array(6608,19),new Array(1890,20),new Array(597,21),new Array(3340,22),new Array(2107,23),new Array(13663,24),new Array(12392,25),new Array(16177,26),new Array(14854,27),new Array(9396,28),new Array(8579,29),new Array(11994,30),new Array(11245,31)),l=new Array(0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4);function d(e){this.errorCorrectionLevel=h.forBits(e>>3&3),this.dataMask=7&e,this.__defineGetter__("ErrorCorrectionLevel",(function(){return this.errorCorrectionLevel})),this.__defineGetter__("DataMask",(function(){return this.dataMask})),this.GetHashCode=function(){return this.errorCorrectionLevel.ordinal()<<3|this.dataMask},this.Equals=function(e){var t=e;return this.errorCorrectionLevel==t.errorCorrectionLevel&&this.dataMask==t.dataMask}}function h(e,t,r){this.ordinal_Renamed_Field=e,this.bits=t,this.name=r,this.__defineGetter__("Bits",(function(){return this.bits})),this.__defineGetter__("Name",(function(){return this.name})),this.ordinal=function(){return this.ordinal_Renamed_Field}}d.numBitsDiffering=function(e,t){return l[15&(e^=t)]+l[15&P(e,4)]+l[15&P(e,8)]+l[15&P(e,12)]+l[15&P(e,16)]+l[15&P(e,20)]+l[15&P(e,24)]+l[15&P(e,28)]},d.decodeFormatInformation=function(e){var t=d.doDecodeFormatInformation(e);return null!=t?t:d.doDecodeFormatInformation(21522^e)},d.doDecodeFormatInformation=function(e){for(var t=4294967295,r=0,n=0;n<u.length;n++){var a=u[n],i=a[0];if(i==e)return new d(a[1]);var s=this.numBitsDiffering(e,i);s<t&&(r=a[1],t=s)}return t<=3?new d(r):null},h.forBits=function(e){if(e<0||e>=y.length)throw"ArgumentException";return y[e]};var p=new h(0,1,"L"),f=new h(1,0,"M"),m=new h(2,3,"Q"),g=new h(3,2,"H"),y=new Array(f,p,g,m);function b(e,t){if(t||(t=e),e<1||t<1)throw"Both dimensions must be greater than 0";this.width=e,this.height=t;var r=e>>5;0!=(31&e)&&r++,this.rowSize=r,this.bits=new Array(r*t);for(var n=0;n<this.bits.length;n++)this.bits[n]=0;this.__defineGetter__("Width",(function(){return this.width})),this.__defineGetter__("Height",(function(){return this.height})),this.__defineGetter__("Dimension",(function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width})),this.get_Renamed=function(e,t){var r=t*this.rowSize+(e>>5);return 0!=(1&P(this.bits[r],31&e))},this.set_Renamed=function(e,t){var r=t*this.rowSize+(e>>5);this.bits[r]|=1<<(31&e)},this.flip=function(e,t){var r=t*this.rowSize+(e>>5);this.bits[r]^=1<<(31&e)},this.clear=function(){for(var e=this.bits.length,t=0;t<e;t++)this.bits[t]=0},this.setRegion=function(e,t,r,n){if(t<0||e<0)throw"Left and top must be nonnegative";if(n<1||r<1)throw"Height and width must be at least 1";var a=e+r,i=t+n;if(i>this.height||a>this.width)throw"The region must fit inside the matrix";for(var s=t;s<i;s++)for(var o=s*this.rowSize,c=e;c<a;c++)this.bits[o+(c>>5)]|=1<<(31&c)}}function v(e,t){this.numDataCodewords=e,this.codewords=t,this.__defineGetter__("NumDataCodewords",(function(){return this.numDataCodewords})),this.__defineGetter__("Codewords",(function(){return this.codewords}))}function _(e){var t=e.Dimension;if(t<21||1!=(3&t))throw"Error BitMatrixParser";this.bitMatrix=e,this.parsedVersion=null,this.parsedFormatInfo=null,this.copyBit=function(e,t,r){return this.bitMatrix.get_Renamed(e,t)?r<<1|1:r<<1},this.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var r=5;r>=0;r--)e=this.copyBit(8,r,e);if(this.parsedFormatInfo=d.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;var n=this.bitMatrix.Dimension;e=0;var a=n-8;for(t=n-1;t>=a;t--)e=this.copyBit(t,8,e);for(r=n-7;r<n;r++)e=this.copyBit(8,r,e);if(this.parsedFormatInfo=d.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw"Error readFormatInformation"},this.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.Dimension,t=e-17>>2;if(t<=6)return i.getVersionForNumber(t);for(var r=0,n=e-11,a=5;a>=0;a--)for(var s=e-9;s>=n;s--)r=this.copyBit(s,a,r);if(this.parsedVersion=i.decodeVersionInformation(r),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;r=0;for(s=5;s>=0;s--)for(a=e-9;a>=n;a--)r=this.copyBit(s,a,r);if(this.parsedVersion=i.decodeVersionInformation(r),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;throw"Error readVersion"},this.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),r=w.forReference(e.DataMask),n=this.bitMatrix.Dimension;r.unmaskBitMatrix(this.bitMatrix,n);for(var a=t.buildFunctionPattern(),i=!0,s=new Array(t.TotalCodewords),o=0,c=0,u=0,l=n-1;l>0;l-=2){6==l&&l--;for(var d=0;d<n;d++)for(var h=i?n-1-d:d,p=0;p<2;p++)a.get_Renamed(l-p,h)||(u++,c<<=1,this.bitMatrix.get_Renamed(l-p,h)&&(c|=1),8==u&&(s[o++]=c,u=0,c=0));i^=!0}if(o!=t.TotalCodewords)throw"Error readCodewords";return s}}v.getDataBlocks=function(e,t,r){if(e.length!=t.TotalCodewords)throw"ArgumentException";for(var n=t.getECBlocksForLevel(r),a=0,i=n.getECBlocks(),s=0;s<i.length;s++)a+=i[s].Count;for(var o=new Array(a),c=0,u=0;u<i.length;u++){var l=i[u];for(s=0;s<l.Count;s++){var d=l.DataCodewords,h=n.ECCodewordsPerBlock+d;o[c++]=new v(d,new Array(h))}}for(var p=o[0].codewords.length,f=o.length-1;f>=0;){if(o[f].codewords.length==p)break;f--}f++;var m=p-n.ECCodewordsPerBlock,g=0;for(s=0;s<m;s++)for(u=0;u<c;u++)o[u].codewords[s]=e[g++];for(u=f;u<c;u++)o[u].codewords[m]=e[g++];var y=o[0].codewords.length;for(s=m;s<y;s++)for(u=0;u<c;u++){var b=u<f?s:s+1;o[u].codewords[b]=e[g++]}return o};var w={};function x(e,t){if(null==t||0==t.length)throw"System.ArgumentException";this.field=e;var r=t.length;if(r>1&&0==t[0]){for(var n=1;n<r&&0==t[n];)n++;if(n==r)this.coefficients=e.Zero.coefficients;else{this.coefficients=new Array(r-n);for(var a=0;a<this.coefficients.length;a++)this.coefficients[a]=0;for(var i=0;i<this.coefficients.length;i++)this.coefficients[i]=t[n+i]}}else this.coefficients=t;this.__defineGetter__("Zero",(function(){return 0==this.coefficients[0]})),this.__defineGetter__("Degree",(function(){return this.coefficients.length-1})),this.__defineGetter__("Coefficients",(function(){return this.coefficients})),this.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},this.evaluateAt=function(e){if(0==e)return this.getCoefficient(0);var t=this.coefficients.length;if(1==e){for(var r=0,n=0;n<t;n++)r=k.addOrSubtract(r,this.coefficients[n]);return r}var a=this.coefficients[0];for(n=1;n<t;n++)a=k.addOrSubtract(this.field.multiply(e,a),this.coefficients[n]);return a},this.addOrSubtract=function(t){if(this.field!=t.field)throw"GF256Polys do not have same GF256 field";if(this.Zero)return t;if(t.Zero)return this;var r=this.coefficients,n=t.coefficients;if(r.length>n.length){var a=r;r=n,n=a}for(var i=new Array(n.length),s=n.length-r.length,o=0;o<s;o++)i[o]=n[o];for(var c=s;c<n.length;c++)i[c]=k.addOrSubtract(r[c-s],n[c]);return new x(e,i)},this.multiply1=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(this.Zero||e.Zero)return this.field.Zero;for(var t=this.coefficients,r=t.length,n=e.coefficients,a=n.length,i=new Array(r+a-1),s=0;s<r;s++)for(var o=t[s],c=0;c<a;c++)i[s+c]=k.addOrSubtract(i[s+c],this.field.multiply(o,n[c]));return new x(this.field,i)},this.multiply2=function(e){if(0==e)return this.field.Zero;if(1==e)return this;for(var t=this.coefficients.length,r=new Array(t),n=0;n<t;n++)r[n]=this.field.multiply(this.coefficients[n],e);return new x(this.field,r)},this.multiplyByMonomial=function(e,t){if(e<0)throw"System.ArgumentException";if(0==t)return this.field.Zero;for(var r=this.coefficients.length,n=new Array(r+e),a=0;a<n.length;a++)n[a]=0;for(a=0;a<r;a++)n[a]=this.field.multiply(this.coefficients[a],t);return new x(this.field,n)},this.divide=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(e.Zero)throw"Divide by 0";for(var t=this.field.Zero,r=this,n=e.getCoefficient(e.Degree),a=this.field.inverse(n);r.Degree>=e.Degree&&!r.Zero;){var i=r.Degree-e.Degree,s=this.field.multiply(r.getCoefficient(r.Degree),a),o=e.multiplyByMonomial(i,s),c=this.field.buildMonomial(i,s);t=t.addOrSubtract(c),r=r.addOrSubtract(o)}return new Array(t,r)}}function k(e){this.expTable=new Array(256),this.logTable=new Array(256);for(var t=1,r=0;r<256;r++)this.expTable[r]=t,(t<<=1)>=256&&(t^=e);for(r=0;r<255;r++)this.logTable[this.expTable[r]]=r;var n=new Array(1);n[0]=0,this.zero=new x(this,new Array(n));var a=new Array(1);a[0]=1,this.one=new x(this,new Array(a)),this.__defineGetter__("Zero",(function(){return this.zero})),this.__defineGetter__("One",(function(){return this.one})),this.buildMonomial=function(e,t){if(e<0)throw"System.ArgumentException";if(0==t)return this.zero;for(var r=new Array(e+1),n=0;n<r.length;n++)r[n]=0;return r[0]=t,new x(this,r)},this.exp=function(e){return this.expTable[e]},this.log=function(e){if(0==e)throw"System.ArgumentException";return this.logTable[e]},this.inverse=function(e){if(0==e)throw"System.ArithmeticException";return this.expTable[255-this.logTable[e]]},this.multiply=function(e,t){return 0==e||0==t?0:1==e?t:1==t?e:this.expTable[(this.logTable[e]+this.logTable[t])%255]}}w.forReference=function(e){if(e<0||e>7)throw"System.ArgumentException";return w.DATA_MASKS[e]},w.DATA_MASKS=new Array(new function(){this.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)},this.isMasked=function(e,t){return 0==(e+t&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)},this.isMasked=function(e,t){return 0==(1&e)}},new function(){this.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)},this.isMasked=function(e,t){return t%3==0}},new function(){this.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)},this.isMasked=function(e,t){return(e+t)%3==0}},new function(){this.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)},this.isMasked=function(e,t){return 0==(P(e,1)+t/3&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)},this.isMasked=function(e,t){var r=e*t;return(1&r)+r%3==0}},new function(){this.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)},this.isMasked=function(e,t){var r=e*t;return 0==((1&r)+r%3&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)},this.isMasked=function(e,t){return 0==((e+t&1)+e*t%3&1)}}),k.QR_CODE_FIELD=new k(285),k.DATA_MATRIX_FIELD=new k(301),k.addOrSubtract=function(e,t){return e^t};var S={};S.rsDecoder=new function(e){this.field=e,this.decode=function(e,t){for(var r=new x(this.field,e),n=new Array(t),a=0;a<n.length;a++)n[a]=0;var i=!0;for(a=0;a<t;a++){var s=r.evaluateAt(this.field.exp(a));n[n.length-1-a]=s,0!=s&&(i=!1)}if(!i){var o=new x(this.field,n),c=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),o,t),u=c[0],l=c[1],d=this.findErrorLocations(u),h=this.findErrorMagnitudes(l,d,!1);for(a=0;a<d.length;a++){var p=e.length-1-this.field.log(d[a]);if(p<0)throw"ReedSolomonException Bad error location";e[p]=k.addOrSubtract(e[p],h[a])}}},this.runEuclideanAlgorithm=function(e,t,r){if(e.Degree<t.Degree){var n=e;e=t,t=n}for(var a=e,i=t,s=this.field.One,o=this.field.Zero,c=this.field.Zero,u=this.field.One;i.Degree>=Math.floor(r/2);){var l=a,d=s,h=c;if(s=o,c=u,(a=i).Zero)throw"r_{i-1} was zero";i=l;for(var p=this.field.Zero,f=a.getCoefficient(a.Degree),m=this.field.inverse(f);i.Degree>=a.Degree&&!i.Zero;){var g=i.Degree-a.Degree,y=this.field.multiply(i.getCoefficient(i.Degree),m);p=p.addOrSubtract(this.field.buildMonomial(g,y)),i=i.addOrSubtract(a.multiplyByMonomial(g,y))}o=p.multiply1(s).addOrSubtract(d),u=p.multiply1(c).addOrSubtract(h)}var b=u.getCoefficient(0);if(0==b)throw"ReedSolomonException sigmaTilde(0) was zero";var v=this.field.inverse(b),_=u.multiply2(v),w=i.multiply2(v);return new Array(_,w)},this.findErrorLocations=function(e){var t=e.Degree;if(1==t)return new Array(e.getCoefficient(1));for(var r=new Array(t),n=0,a=1;a<256&&n<t;a++)0==e.evaluateAt(a)&&(r[n]=this.field.inverse(a),n++);if(n!=t)throw"Error locator degree does not match number of roots";return r},this.findErrorMagnitudes=function(e,t,r){for(var n=t.length,a=new Array(n),i=0;i<n;i++){for(var s=this.field.inverse(t[i]),o=1,c=0;c<n;c++)i!=c&&(o=this.field.multiply(o,k.addOrSubtract(1,this.field.multiply(t[c],s))));a[i]=this.field.multiply(e.evaluateAt(s),this.field.inverse(o)),r&&(a[i]=this.field.multiply(a[i],s))}return a}}(k.QR_CODE_FIELD),S.correctErrors=function(e,t){for(var r=e.length,n=new Array(r),a=0;a<r;a++)n[a]=255&e[a];var i=e.length-t;try{S.rsDecoder.decode(n,i)}catch(e){throw e}for(a=0;a<t;a++)e[a]=n[a]},S.decode=function(e){for(var t=new _(e),r=t.readVersion(),n=t.readFormatInformation().ErrorCorrectionLevel,a=t.readCodewords(),i=v.getDataBlocks(a,r,n),s=0,o=0;o<i.length;o++)s+=i[o].NumDataCodewords;for(var c=new Array(s),u=0,l=0;l<i.length;l++){var d=i[l],h=d.Codewords,p=d.NumDataCodewords;S.correctErrors(h,p);for(o=0;o<p;o++)c[u++]=h[o]}return new j(c,r.VersionNumber,n.Bits)};var O={};function P(e,t){return e>=0?e>>t:(e>>t)+(2<<~t)}O.imagedata=null,O.width=0,O.height=0,O.qrCodeSymbol=null,O.debug=!1,O.maxImgSize=1048576,O.sizeOfDataLengthInfo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],O.callback=null,O.vidSuccess=function(e){O.localstream=e,O.webkit?O.video.src=window.webkitURL.createObjectURL(e):O.moz?(O.video.mozSrcObject=e,O.video.play()):O.video.src=e,O.gUM=!0,O.canvas_qr2=document.createElement("canvas"),O.canvas_qr2.id="qr-canvas",O.qrcontext2=O.canvas_qr2.getContext("2d"),O.canvas_qr2.width=O.video.videoWidth,O.canvas_qr2.height=O.video.videoHeight,setTimeout(O.captureToCanvas,500)},O.vidError=function(e){O.gUM=!1},O.captureToCanvas=function(){if(O.gUM)try{if(0==O.video.videoWidth)return void setTimeout(O.captureToCanvas,500);O.canvas_qr2.width=O.video.videoWidth,O.canvas_qr2.height=O.video.videoHeight,O.qrcontext2.drawImage(O.video,0,0);try{O.decode()}catch(e){console.log(e),setTimeout(O.captureToCanvas,500)}}catch(e){console.log(e),setTimeout(O.captureToCanvas,500)}},O.setWebcam=function(e){var t=navigator;O.video=document.getElementById(e);var r=!0;if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)try{navigator.mediaDevices.enumerateDevices().then((function(e){e.forEach((function(e){console.log("deb1"),"videoinput"===e.kind&&e.label.toLowerCase().search("back")>-1&&(r=[{sourceId:e.deviceId}]),console.log(e.kind+": "+e.label+" id = "+e.deviceId)}))}))}catch(e){console.log(e)}else console.log("no navigator.mediaDevices.enumerateDevices");t.getUserMedia?t.getUserMedia({video:r,audio:!1},O.vidSuccess,O.vidError):t.webkitGetUserMedia?(O.webkit=!0,t.webkitGetUserMedia({video:r,audio:!1},O.vidSuccess,O.vidError)):t.mozGetUserMedia&&(O.moz=!0,t.mozGetUserMedia({video:r,audio:!1},O.vidSuccess,O.vidError))},O.decode=function(e){if(0==arguments.length){if(O.canvas_qr2)var t=O.canvas_qr2,r=O.qrcontext2;else r=(t=document.getElementById("qr-canvas")).getContext("2d");return O.width=t.width,O.height=t.height,O.imagedata=r.getImageData(0,0,O.width,O.height),O.result=O.process(r),null!=O.callback&&O.callback(O.result),O.result}var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){var e=document.getElementById("out-canvas");if(null!=e){var t=e.getContext("2d");t.clearRect(0,0,320,240),t.drawImage(n,0,0,320,240)}var r=document.createElement("canvas"),a=r.getContext("2d"),i=n.height,s=n.width;if(n.width*n.height>O.maxImgSize){var o=n.width/n.height;s=o*(i=Math.sqrt(O.maxImgSize/o))}r.width=s,r.height=i,a.drawImage(n,0,0,r.width,r.height),O.width=r.width,O.height=r.height;try{O.imagedata=a.getImageData(0,0,r.width,r.height)}catch(e){return O.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!",void(null!=O.callback&&O.callback(O.result))}try{O.result=O.process(a)}catch(e){console.log(e),O.result="error decoding QR Code"}null!=O.callback&&O.callback(O.result)},n.onerror=function(){null!=O.callback&&O.callback("Failed to load the image")},n.src=e},O.isUrl=function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)},O.decode_url=function(e){var t="";try{t=escape(e)}catch(r){console.log(r),t=e}var r="";try{r=decodeURIComponent(t)}catch(e){console.log(e),r=t}return r},O.decode_utf8=function(e){return O.isUrl(e)?O.decode_url(e):e},O.process=function(e){var t=(new Date).getTime(),r=O.grayScaleToBitmap(O.grayscale());if(O.debug){for(var n=0;n<O.height;n++)for(var a=0;a<O.width;a++){var i=4*a+n*O.width*4;O.imagedata.data[i]=(r[a+n*O.width],0),O.imagedata.data[i+1]=(r[a+n*O.width],0),O.imagedata.data[i+2]=r[a+n*O.width]?255:0}e.putImageData(O.imagedata,0,0)}var s=new c(r).detect();if(O.debug){for(n=0;n<s.bits.Height;n++)for(a=0;a<s.bits.Width;a++){i=4*a*2+2*n*O.width*4;O.imagedata.data[i]=(s.bits.get_Renamed(a,n),0),O.imagedata.data[i+1]=(s.bits.get_Renamed(a,n),0),O.imagedata.data[i+2]=s.bits.get_Renamed(a,n)?255:0}e.putImageData(O.imagedata,0,0)}for(var o=S.decode(s.bits).DataByte,u="",l=0;l<o.length;l++)for(var d=0;d<o[l].length;d++)u+=String.fromCharCode(o[l][d]);var h=(new Date).getTime()-t;return console.log(h),O.decode_utf8(u)},O.getPixel=function(e,t){if(O.width<e)throw"point error";if(O.height<t)throw"point error";var r=4*e+t*O.width*4;return(33*O.imagedata.data[r]+34*O.imagedata.data[r+1]+33*O.imagedata.data[r+2])/100},O.binarize=function(e){for(var t=new Array(O.width*O.height),r=0;r<O.height;r++)for(var n=0;n<O.width;n++){var a=O.getPixel(n,r);t[n+r*O.width]=a<=e}return t},O.getMiddleBrightnessPerArea=function(e){for(var t=Math.floor(O.width/4),r=Math.floor(O.height/4),n=new Array(4),a=0;a<4;a++){n[a]=new Array(4);for(var i=0;i<4;i++)n[a][i]=new Array(0,0)}for(var s=0;s<4;s++)for(var o=0;o<4;o++){n[o][s][0]=255;for(var c=0;c<r;c++)for(var u=0;u<t;u++){var l=e[t*o+u+(r*s+c)*O.width];l<n[o][s][0]&&(n[o][s][0]=l),l>n[o][s][1]&&(n[o][s][1]=l)}}for(var d=new Array(4),h=0;h<4;h++)d[h]=new Array(4);for(s=0;s<4;s++)for(o=0;o<4;o++)d[o][s]=Math.floor((n[o][s][0]+n[o][s][1])/2);return d},O.grayScaleToBitmap=function(e){for(var t=O.getMiddleBrightnessPerArea(e),r=t.length,n=Math.floor(O.width/r),a=Math.floor(O.height/r),i=new ArrayBuffer(O.width*O.height),s=new Uint8Array(i),o=0;o<r;o++)for(var c=0;c<r;c++)for(var u=0;u<a;u++)for(var l=0;l<n;l++)s[n*c+l+(a*o+u)*O.width]=e[n*c+l+(a*o+u)*O.width]<t[c][o];return s},O.grayscale=function(){for(var e=new ArrayBuffer(O.width*O.height),t=new Uint8Array(e),r=0;r<O.height;r++)for(var n=0;n<O.width;n++){var a=O.getPixel(n,r);t[n+r*O.width]=a}return t};function E(e,t,r){this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=r,this.__defineGetter__("EstimatedModuleSize",(function(){return this.estimatedModuleSize})),this.__defineGetter__("Count",(function(){return this.count})),this.__defineGetter__("X",(function(){return this.x})),this.__defineGetter__("Y",(function(){return this.y})),this.incrementCount=function(){this.count++},this.aboutEquals=function(e,t,r){if(Math.abs(t-this.y)<=e&&Math.abs(r-this.x)<=e){var n=Math.abs(e-this.estimatedModuleSize);return n<=1||n/this.estimatedModuleSize<=1}return!1}}function A(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2],this.__defineGetter__("BottomLeft",(function(){return this.bottomLeft})),this.__defineGetter__("TopLeft",(function(){return this.topLeft})),this.__defineGetter__("TopRight",(function(){return this.topRight}))}function C(){this.image=null,this.possibleCenters=[],this.hasSkipped=!1,this.crossCheckStateCount=new Array(0,0,0,0,0),this.resultPointCallback=null,this.__defineGetter__("CrossCheckStateCount",(function(){return this.crossCheckStateCount[0]=0,this.crossCheckStateCount[1]=0,this.crossCheckStateCount[2]=0,this.crossCheckStateCount[3]=0,this.crossCheckStateCount[4]=0,this.crossCheckStateCount})),this.foundPatternCross=function(e){for(var t=0,r=0;r<5;r++){var n=e[r];if(0==n)return!1;t+=n}if(t<7)return!1;var a=Math.floor((t<<8)/7),i=Math.floor(a/2);return Math.abs(a-(e[0]<<8))<i&&Math.abs(a-(e[1]<<8))<i&&Math.abs(3*a-(e[2]<<8))<3*i&&Math.abs(a-(e[3]<<8))<i&&Math.abs(a-(e[4]<<8))<i},this.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},this.crossCheckVertical=function(e,t,r,n){for(var a=this.image,i=O.height,s=this.CrossCheckStateCount,o=e;o>=0&&a[t+o*O.width];)s[2]++,o--;if(o<0)return NaN;for(;o>=0&&!a[t+o*O.width]&&s[1]<=r;)s[1]++,o--;if(o<0||s[1]>r)return NaN;for(;o>=0&&a[t+o*O.width]&&s[0]<=r;)s[0]++,o--;if(s[0]>r)return NaN;for(o=e+1;o<i&&a[t+o*O.width];)s[2]++,o++;if(o==i)return NaN;for(;o<i&&!a[t+o*O.width]&&s[3]<r;)s[3]++,o++;if(o==i||s[3]>=r)return NaN;for(;o<i&&a[t+o*O.width]&&s[4]<r;)s[4]++,o++;if(s[4]>=r)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-n)>=2*n?NaN:this.foundPatternCross(s)?this.centerFromEnd(s,o):NaN},this.crossCheckHorizontal=function(e,t,r,n){for(var a=this.image,i=O.width,s=this.CrossCheckStateCount,o=e;o>=0&&a[o+t*O.width];)s[2]++,o--;if(o<0)return NaN;for(;o>=0&&!a[o+t*O.width]&&s[1]<=r;)s[1]++,o--;if(o<0||s[1]>r)return NaN;for(;o>=0&&a[o+t*O.width]&&s[0]<=r;)s[0]++,o--;if(s[0]>r)return NaN;for(o=e+1;o<i&&a[o+t*O.width];)s[2]++,o++;if(o==i)return NaN;for(;o<i&&!a[o+t*O.width]&&s[3]<r;)s[3]++,o++;if(o==i||s[3]>=r)return NaN;for(;o<i&&a[o+t*O.width]&&s[4]<r;)s[4]++,o++;if(s[4]>=r)return NaN;var c=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(c-n)>=n?NaN:this.foundPatternCross(s)?this.centerFromEnd(s,o):NaN},this.handlePossibleCenter=function(e,t,r){var n=e[0]+e[1]+e[2]+e[3]+e[4],a=this.centerFromEnd(e,r),i=this.crossCheckVertical(t,Math.floor(a),e[2],n);if(!isNaN(i)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(i),e[2],n),!isNaN(a))){for(var s=n/7,o=!1,c=this.possibleCenters.length,u=0;u<c;u++){var l=this.possibleCenters[u];if(l.aboutEquals(s,i,a)){l.incrementCount(),o=!0;break}}if(!o){var d=new E(a,i,s);this.possibleCenters.push(d),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(d)}return!0}return!1},this.selectBestPatterns=function(){var e=this.possibleCenters.length;if(e<3)throw"Couldn't find enough finder patterns (found "+e+")";if(e>3){for(var t=0,r=0,n=0;n<e;n++){var a=this.possibleCenters[n].EstimatedModuleSize;t+=a,r+=a*a}var i=t/e;this.possibleCenters.sort((function(e,t){var r=Math.abs(t.EstimatedModuleSize-i),n=Math.abs(e.EstimatedModuleSize-i);return r<n?-1:r==n?0:1}));var s=Math.sqrt(r/e-i*i),o=Math.max(.2*i,s);for(n=this.possibleCenters.length-1;n>=0;n--){var c=this.possibleCenters[n];Math.abs(c.EstimatedModuleSize-i)>o&&this.possibleCenters.splice(n,1)}}return this.possibleCenters.length>3&&this.possibleCenters.sort((function(e,t){return e.count>t.count?-1:e.count<t.count?1:0})),new Array(this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2])},this.findRowSkip=function(){var e=this.possibleCenters.length;if(e<=1)return 0;for(var t=null,r=0;r<e;r++){var n=this.possibleCenters[r];if(n.Count>=2){if(null!=t)return this.hasSkipped=!0,Math.floor((Math.abs(t.X-n.X)-Math.abs(t.Y-n.Y))/2);t=n}}return 0},this.haveMultiplyConfirmedCenters=function(){for(var e=0,t=0,r=this.possibleCenters.length,n=0;n<r;n++){var a=this.possibleCenters[n];a.Count>=2&&(e++,t+=a.EstimatedModuleSize)}if(e<3)return!1;var i=t/r,s=0;for(n=0;n<r;n++)a=this.possibleCenters[n],s+=Math.abs(a.EstimatedModuleSize-i);return s<=.05*t},this.findFinderPattern=function(e){this.image=e;var t=O.height,r=O.width,n=Math.floor(3*t/228);n<3&&(n=3);for(var a=!1,i=new Array(5),s=n-1;s<t&&!a;s+=n){i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0;for(var o=0,c=0;c<r;c++)if(e[c+s*O.width])1==(1&o)&&o++,i[o]++;else if(0==(1&o))if(4==o)if(this.foundPatternCross(i)){if(this.handlePossibleCenter(i,s,c))if(n=2,this.hasSkipped)a=this.haveMultiplyConfirmedCenters();else{var u=this.findRowSkip();u>i[2]&&(s+=u-i[2]-n,c=r-1)}else{do{c++}while(c<r&&!e[c+s*O.width]);c--}o=0,i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0}else i[0]=i[2],i[1]=i[3],i[2]=i[4],i[3]=1,i[4]=0,o=3;else i[++o]++;else i[o]++;if(this.foundPatternCross(i))this.handlePossibleCenter(i,s,r)&&(n=i[0],this.hasSkipped&&(a=this.haveMultiplyConfirmedCenters()))}var l=this.selectBestPatterns();return O.orderBestPatterns(l),new A(l)}}function T(e,t,r){this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=r,this.__defineGetter__("EstimatedModuleSize",(function(){return this.estimatedModuleSize})),this.__defineGetter__("Count",(function(){return this.count})),this.__defineGetter__("X",(function(){return Math.floor(this.x)})),this.__defineGetter__("Y",(function(){return Math.floor(this.y)})),this.incrementCount=function(){this.count++},this.aboutEquals=function(e,t,r){if(Math.abs(t-this.y)<=e&&Math.abs(r-this.x)<=e){var n=Math.abs(e-this.estimatedModuleSize);return n<=1||n/this.estimatedModuleSize<=1}return!1}}function D(e,t,r,n,a,i,s){this.image=e,this.possibleCenters=new Array,this.startX=t,this.startY=r,this.width=n,this.height=a,this.moduleSize=i,this.crossCheckStateCount=new Array(0,0,0),this.resultPointCallback=s,this.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},this.foundPatternCross=function(e){for(var t=this.moduleSize,r=t/2,n=0;n<3;n++)if(Math.abs(t-e[n])>=r)return!1;return!0},this.crossCheckVertical=function(e,t,r,n){var a=this.image,i=O.height,s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var o=e;o>=0&&a[t+o*O.width]&&s[1]<=r;)s[1]++,o--;if(o<0||s[1]>r)return NaN;for(;o>=0&&!a[t+o*O.width]&&s[0]<=r;)s[0]++,o--;if(s[0]>r)return NaN;for(o=e+1;o<i&&a[t+o*O.width]&&s[1]<=r;)s[1]++,o++;if(o==i||s[1]>r)return NaN;for(;o<i&&!a[t+o*O.width]&&s[2]<=r;)s[2]++,o++;if(s[2]>r)return NaN;var c=s[0]+s[1]+s[2];return 5*Math.abs(c-n)>=2*n?NaN:this.foundPatternCross(s)?this.centerFromEnd(s,o):NaN},this.handlePossibleCenter=function(e,t,r){var n=e[0]+e[1]+e[2],a=this.centerFromEnd(e,r),i=this.crossCheckVertical(t,Math.floor(a),2*e[1],n);if(!isNaN(i)){for(var s=(e[0]+e[1]+e[2])/3,o=this.possibleCenters.length,c=0;c<o;c++){if(this.possibleCenters[c].aboutEquals(s,i,a))return new T(a,i,s)}var u=new T(a,i,s);this.possibleCenters.push(u),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(u)}return null},this.find=function(){for(var t=this.startX,a=this.height,i=t+n,s=r+(a>>1),o=new Array(0,0,0),c=0;c<a;c++){var u=s+(0==(1&c)?c+1>>1:-(c+1>>1));o[0]=0,o[1]=0,o[2]=0;for(var l=t;l<i&&!e[l+O.width*u];)l++;for(var d=0;l<i;){if(e[l+u*O.width])if(1==d)o[d]++;else if(2==d){var h;if(this.foundPatternCross(o))if(null!=(h=this.handlePossibleCenter(o,u,l)))return h;o[0]=o[2],o[1]=1,o[2]=0,d=1}else o[++d]++;else 1==d&&d++,o[d]++;l++}if(this.foundPatternCross(o))if(null!=(h=this.handlePossibleCenter(o,u,i)))return h}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw"Couldn't find enough alignment patterns"}}function j(e,t,r){this.blockPointer=0,this.bitPointer=7,this.dataLength=0,this.blocks=e,this.numErrorCorrectionCode=r,t<=9?this.dataLengthMode=0:t>=10&&t<=26?this.dataLengthMode=1:t>=27&&t<=40&&(this.dataLengthMode=2),this.getNextBits=function(e){var t=0;if(e<this.bitPointer+1){for(var r=0,n=0;n<e;n++)r+=1<<n;return r<<=this.bitPointer-e+1,t=(this.blocks[this.blockPointer]&r)>>this.bitPointer-e+1,this.bitPointer-=e,t}if(e<this.bitPointer+1+8){var a=0;for(n=0;n<this.bitPointer+1;n++)a+=1<<n;return t=(this.blocks[this.blockPointer]&a)<<e-(this.bitPointer+1),this.blockPointer++,t+=this.blocks[this.blockPointer]>>8-(e-(this.bitPointer+1)),this.bitPointer=this.bitPointer-e%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t}if(e<this.bitPointer+1+16){a=0;var i=0;for(n=0;n<this.bitPointer+1;n++)a+=1<<n;var s=(this.blocks[this.blockPointer]&a)<<e-(this.bitPointer+1);this.blockPointer++;var o=this.blocks[this.blockPointer]<<e-(this.bitPointer+1+8);this.blockPointer++;for(n=0;n<e-(this.bitPointer+1+8);n++)i+=1<<n;return i<<=8-(e-(this.bitPointer+1+8)),t=s+o+((this.blocks[this.blockPointer]&i)>>8-(e-(this.bitPointer+1+8))),this.bitPointer=this.bitPointer-(e-8)%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t}return 0},this.NextMode=function(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:this.getNextBits(4)},this.getDataLength=function(e){for(var t=0;e>>t!=1;)t++;return this.getNextBits(O.sizeOfDataLengthInfo[this.dataLengthMode][t])},this.getRomanAndFigureString=function(e){var t=e,r=0,n="",a=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":");do{if(t>1){var i=(r=this.getNextBits(11))%45;n+=a[Math.floor(r/45)],n+=a[i],t-=2}else 1==t&&(n+=a[r=this.getNextBits(6)],t-=1)}while(t>0);return n},this.getFigureString=function(e){var t=e,r=0,n="";do{t>=3?((r=this.getNextBits(10))<100&&(n+="0"),r<10&&(n+="0"),t-=3):2==t?((r=this.getNextBits(7))<10&&(n+="0"),t-=2):1==t&&(r=this.getNextBits(4),t-=1),n+=r}while(t>0);return n},this.get8bitByteArray=function(e){var t=e,r=0,n=new Array;do{r=this.getNextBits(8),n.push(r),t--}while(t>0);return n},this.getKanjiString=function(e){var t=e,r=0,n="";do{var a=((r=this.getNextBits(13))/192<<8)+r%192,i=0;i=a+33088<=40956?a+33088:a+49472,n+=String.fromCharCode(i),t--}while(t>0);return n},this.parseECIValue=function(){var e=0,t=this.getNextBits(8);(0==(128&t)&&(e=127&t),128==(192&t))&&(e=(63&t)<<8|this.getNextBits(8));192==(224&t)&&(e=(31&t)<<16|this.getNextBits(8));return e},this.__defineGetter__("DataByte",(function(){for(var e=new Array;;){var t=this.NextMode();if(0==t){if(e.length>0)break;throw"Empty data block"}if(1!=t&&2!=t&&4!=t&&8!=t&&7!=t)throw"Invalid mode: "+t+" in (block:"+this.blockPointer+" bit:"+this.bitPointer+")";if(7==t)var r=this.parseECIValue();else{var n=this.getDataLength(t);if(n<1)throw"Invalid data length: "+n;switch(t){case 1:for(var a=this.getFigureString(n),i=new Array(a.length),s=0;s<a.length;s++)i[s]=a.charCodeAt(s);e.push(i);break;case 2:for(a=this.getRomanAndFigureString(n),i=new Array(a.length),s=0;s<a.length;s++)i[s]=a.charCodeAt(s);e.push(i);break;case 4:r=this.get8bitByteArray(n);e.push(r);break;case 8:a=this.getKanjiString(n);e.push(a)}}}return e}))}O.orderBestPatterns=function(e){function t(e,t){var r=e.X-t.X,n=e.Y-t.Y;return Math.sqrt(r*r+n*n)}var r,n,a,i=t(e[0],e[1]),s=t(e[1],e[2]),o=t(e[0],e[2]);if(s>=i&&s>=o?(n=e[0],r=e[1],a=e[2]):o>=s&&o>=i?(n=e[1],r=e[0],a=e[2]):(n=e[2],r=e[0],a=e[1]),function(e,t,r){var n=t.x,a=t.y;return(r.x-n)*(e.y-a)-(r.y-a)*(e.x-n)}(r,n,a)<0){var c=r;r=a,a=c}e[0]=r,e[1]=n,e[2]=a},e.exports=O},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=r(27),h=(r(350),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(p,e);var t,r,n,u,d,h=c(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=h.call(this,e)).name="QRScanner",t.description="Adds QRCode scanning functionality to Saito",t.categories="Core",t.video=null,t.canvas=null,t.canvas_context=null,t.isStreamInit=!1,t.scanner_callback=null,t.description="Helper module with QR code scanning functionality.",t.categories="Dev Data Utilities",t.constraints={audio:!1,video:{facingMode:"environment"}},t.decoder=null,t.last_scanned_raw=null,t.last_scanned_at=null,t.debounce_timeout=750,t.events=["encrypt-key-exchange-confirm"],t}return t=p,(r=[{key:"initialize",value:function(e){s(l(p.prototype),"initialize",this).call(this,e)}},{key:"initializeHTML",value:function(e){}},{key:"attachEvents",value:function(e){var t=this;document.querySelector(".launch-scanner").addEventListener("click",(function(e){t.startScanner()}))}},{key:"startQRDecoderInitializationLoop",value:function(){var e=this;x=this.attemptQRDecode(),1==x?console.log("working..."):(console.log("wait 100...."),setTimeout((function(){e.startQRDecoderInitializationLoop()}),100))}},{key:"startScanner",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(0!=this.app.BROWSER&&document&&!document.querySelector(".qrscanner-container")){this.scanner_callback=null,e&&(this.scanner_callback=e),document.body.innerHTML=this.returnScannerHTML();var t=this;t.start(document.getElementById("qr-video"),document.getElementById("qr-canvas"))}}},{key:"startEmbeddedScanner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0!=this.app.BROWSER&&document&&!document.querySelector(".qrscanner-container")){this.scanner_callback=null,t&&(this.scanner_callback=t),e.innerHTML=this.returnScannerHTML();var r=this;r.start(document.getElementById("qr-video"),document.getElementById("qr-canvas"))}}},{key:"startQRDecoder",value:function(){var e=this;x=this.attemptQRDecode(),1==x||setTimeout((function(){e.startQRDecoder()}),100)}},{key:"returnScannerHTML",value:function(){return'\n      <div class="qrscanner-container">\n        <div id="qr-target" class="qr-target"></div>\n        <div id="scanline" class="scanline"></div>\n        <div class="video-container">\n          <video playsinline autoplay id="qr-video" class="qr-video"></video>\n        </div>\n        <canvas style="display: none" id="qr-canvas"></canvas>\n      </div>\n\n    '}},{key:"start",value:(u=regeneratorRuntime.mark((function e(t,r){var n,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.video=t,this.canvas=r,this.canvas_context=this.canvas.getContext("2d"),this.decoder=new Worker("/qrscanner/quirc_worker.js"),this.decoder.onmessage=function(e){a.onDecoderMessage(e)},e.prev=5,e.next=8,navigator.mediaDevices.getUserMedia(this.constraints);case 8:n=e.sent,this.handleSuccess(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),this.handleError(e.t0);case 15:this.startQRDecoderInitializationLoop();case 16:case"end":return e.stop()}}),e,this,[[5,12]])})),d=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=u.apply(e,t);function s(e){a(i,r,n,s,o,"next",e)}function o(e){a(i,r,n,s,o,"throw",e)}s(void 0)}))},function(e,t){return d.apply(this,arguments)})},{key:"stop",value:function(){this.decoder.terminate(),this.video&&this.video.srcObject.getTracks().forEach((function(e){return e.stop()}))}},{key:"render",value:function(){}},{key:"attemptQRDecode",value:function(){if(!this.isStreamInit)return 0;try{if(this.canvas.width=this.video.videoWidth,this.canvas.height=this.video.videoHeight,this.canvas_context.drawImage(this.video,0,0,this.canvas.width,this.canvas.height),0==this.canvas.width)return;var e=this.canvas_context.getImageData(0,0,this.canvas.width,this.canvas.height);return e.data&&this.decoder.postMessage(e),1}catch(e){return 0}return 0}},{key:"onDecoderMessage",value:function(e){var t=this;if("done"!=e.data){var r=e.data.payload_string,n=Date.now();r!=this.last_scanned_raw||this.last_scanned_at<n-this.debounce_timeout?(this.last_scanned_raw=r,this.last_scanned_at=n,this.handleDecodedMessage(r)):r==this.last_scanned_raw&&(this.last_scanned_at=n)}setTimeout((function(){t.attemptQRDecode()}),0)}},{key:"handleDecodedMessage",value:function(e){if(null!=this.scanner_callback)return this.decoder.terminate(),void this.scanner_callback(e);this.app.crypto.isPublicKey(e)?this.decoder.terminate():this.sendEvent("qrcode",e)}},{key:"decodeFromFile",value:function(e){var t=this,r=new FileReader;r.onload=function(e){t.canvas_context.clearRect(0,0,t.canvas.width,t.canvas.height)},r.readAsDataURL(e)}},{key:"handleSuccess",value:function(e){window.stream=e,this.video.srcObject=e,this.isStreamInit=!0}},{key:"handleError",value:function(e){console.log("navigator.MediaDevices.getUserMedia error: ",e.message,e.name)}},{key:"receiveEvent",value:function(e,t){"encrypt-key-exchange-confirm"===e&&document.getElementById("qr-canvas")&&this.initializing_key&&window.location.assign("/chat")}}])&&i(t.prototype,r),n&&i(t,n),p}(d));e.exports=h},function(e,t,r){var n=r(354);e.exports=RegistryAppspace={render:function(e,t){document.querySelector(".email-appspace").innerHTML=n()},attachEvents:function(e,t){document.querySelector(".registry-submit").addEventListener("click",(function(e){var r=document.getElementById("identifier-requested").value;t.registry.registerIdentifier(r)}))}}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,c,"next",e)}function c(e){a(s,n,i,o,c,"throw",e)}o(void 0)}))}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r(53),r(12);var h=r(27),p=r(355),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(m,e);var t,r,n,a,d,h,f=c(m);function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=f.call(this,e)).app=e,t.name="Registry",t.description="Adds support for the Saito DNS system, so that users can register user-generated names. Runs DNS server on core nodes.",t.categories="Core Utilities Messaging",t.publickey="zYCCXRZt2DyPD9UmxRfwFgLTNAqCd5VE8RuNneg4aNMK",u(t,l(t))}return t=m,(r=[{key:"returnServices",value:function(){var e=[];return e.push({service:"registry",domain:"saito"}),e}},{key:"respondTo",value:function(){var e,t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"do-registry-prompt"==r?{doRegistryPrompt:(e=i(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sprompt("Pick a handle or nickname. <br /><sub>Alphanumeric characters only - Do not include an @</sub.>");case 2:if(r=e.sent,e.prev=3,!t.tryRegisterIdentifier(r)){e.next=9;break}return e.abrupt("return",r);case 9:throw"Unknown error";case 10:e.next=19;break;case 12:if(e.prev=12,e.t0=e.catch(3),"Alphanumeric Characters only"!=e.t0.message){e.next=18;break}salert("Alphanumeric Characters only"),e.next=19;break;case 18:throw e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,12]])}))),function(){return e.apply(this,arguments)})}:null}},{key:"showModal",value:function(){p.render(this.app,this),p.attachEvents(this.app,this)}},{key:"tryRegisterIdentifier",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@saito",r=this.app.wallet.createUnsignedTransaction(this.publickey,0,this.app.wallet.wallet.default_fee);if(null==r)throw console.log("NULL TX CREATED IN REGISTRY MODULE"),Error("NULL TX CREATED IN REGISTRY MODULE");if("string"==typeof e||e instanceof String){var n=/^[0-9A-Za-z]+$/;if(!n.test(e))throw Error("Alphanumeric Characters only");return r.msg.module="Registry",r.msg.identifier=e+t,r=this.app.wallet.signTransaction(r),this.app.network.propagateTransaction(r),!0}throw TypeError("identifier must be a string")}},{key:"registerIdentifier",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@saito",r=this.app.wallet.createUnsignedTransaction(this.publickey,0,this.app.wallet.wallet.default_fee);if(null!=r){if("string"==typeof e||e instanceof String){var n=/^[0-9A-Za-z]+$/;return n.test(e)?(r.msg.module="Registry",r.msg.identifier=e+t,r=this.app.wallet.signTransaction(r),this.app.network.propagateTransaction(r),!0):(salert("Alphanumeric Characters only"),!1)}}else console.log("NULL TX CREATED IN REGISTRY MODULE")}},{key:"onPeerHandshakeComplete",value:function(e,t){var r=e.modules.returnModule("Registry");null!=r.app.options.server?r.publickey=r.app.wallet.returnPublicKey():r.publickey=t.peer.publickey}},{key:"onConfirmation",value:(h=i(regeneratorRuntime.mark((function e(t,r,n,a){var i,s,o,c,u,l,d,h,p,f,m,g,y,b,v,_,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.modules.returnModule("Registry"),s=r.returnMessage(),0!=n){e.next=24;break}if("Registry"!==s.module){e.next=23;break}if(!r.isTo(i.publickey)||a.wallet.returnPublicKey()!==i.publickey){e.next=23;break}return console.log(i.publickey+" -- "+a.wallet.returnPublicKey()),s.request,o=s.identifier,c=r.transaction.from[0].add,u=(new Date).getTime(),l=t.block.id,d=t.returnHash(),h=o+c+l+d,p=i.app.wallet.signMessage(h),f=this.publickey,e.next=19,i.addRecord(o,c,u,l,d,0,p,f,1);case 19:return m=e.sent,g=r.returnPaymentTo(i.publickey),1==m?((y=i.app.wallet.createUnsignedTransaction(r.transaction.from[0].add,0,g)).msg.module="Email",y.msg.origin="Registry",y.msg.title="Address Registration Success!",y.msg.message="<p>You have successfully registered the identifier: <span class='boldred'>"+o+"</span></p>",y.msg.identifier=o,y.msg.signed_message=h,y.msg.sig=p,y=i.app.wallet.signTransaction(y),i.app.network.propagateTransaction(y)):((b=i.app.wallet.createUnsignedTransaction(r.transaction.from[0].add,0,g)).msg.module="Email",b.msg.title="Address Registration Failed!",b.msg.message="<p>The identifier you requested (<span class='boldred'>"+o+"</span>) has already been registered.</p>",b.msg.identifier=o,b.msg.signed_message="",b.msg.sig="",b=i.app.wallet.signTransaction(b),i.app.network.propagateTransaction(b)),e.abrupt("return");case 23:if("Email"==s.module&&r.transaction.from[0].add==i.publickey&&r.transaction.to[0].add==i.app.wallet.returnPublicKey()&&null!=r.msg.identifier&&null!=r.msg.signed_message&&null!=r.msg.sig){v=r.msg.identifier,_=r.msg.signed_message,w=r.msg.sig;try{console.log("a"),i.app.crypto.verifyMessage(_,w,i.publickey)&&(console.log("b"),i.app.keys.addKey(r.transaction.to[0].add,v,!0,"",t.block.id,t.returnHash(),1),console.log("c"))}catch(e){console.log("ERROR verifying username registration message: "+e)}}case 24:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return h.apply(this,arguments)})},{key:"addRecord",value:(d=i(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s,o,c,u,l,d,h,p=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:"",r=p.length>1&&void 0!==p[1]?p[1]:"",n=p.length>2&&void 0!==p[2]?p[2]:0,a=p.length>3&&void 0!==p[3]?p[3]:0,i=p.length>4&&void 0!==p[4]?p[4]:"",s=p.length>5&&void 0!==p[5]?p[5]:0,o=p.length>6&&void 0!==p[6]?p[6]:"",c=p.length>7&&void 0!==p[7]?p[7]:"",u=p.length>8&&void 0!==p[8]?p[8]:1,l="INSERT INTO records (\n        identifier, \n        publickey, \n        unixtime, \n        bid, \n        bsh, \n        lock_block, \n        sig,\n        signer, \n        lc\n      ) VALUES (\n        $identifier, \n        $publickey,\n        $unixtime, \n        $bid, \n        $bsh, \n        $lock_block, \n        $sig, \n        $signer, \n        $lc\n      )",d={$identifier:t,$publickey:r,$unixtime:n,$bid:a,$bsh:i,$lock_block:s,$sig:o,$signer:c,$lc:u},e.next=13,this.app.storage.executeDatabase(l,d,"registry");case 13:return l="SELECT * FROM records WHERE identifier = $identifier AND publickey = $publickey AND unixtime = $unixtime AND bid = $bid AND bsh = $bsh AND lock_block = $lock_block AND sig = $sig AND signer = $signer AND lc = $lc",e.next=16,this.app.storage.queryDatabase(l,d,"registry");case 16:if(h=e.sent,console.log(l),console.log(d),console.log("\n\n\nRES: "+JSON.stringify(h)),0!=h.length){e.next=24;break}return e.abrupt("return",0);case 24:return e.abrupt("return",1);case 25:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"onChainReorganization",value:(a=i(regeneratorRuntime.mark((function e(t,r,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={$bid:t,$bsh:r},e.next=4,this.app.storage.executeDatabase("UPDATE records SET lc = $lc WHERE bid = $bid AND bsh = $bsh",a,"registry");case 4:return e.abrupt("return");case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return a.apply(this,arguments)})},{key:"shouldAffixCallbackToModule",value:function(e){return e==this.name||"Email"==e?1:0}},{key:"sendSuccessResponse",value:function(e){var t=e.returnPaymentTo(this.app.wallet.returnPublicKey()),r=registry_self.app.wallet.createUnsignedTransaction(to,0,t);null!=r?(r.msg.module="Email",r.msg.data="You have successfully registered your address",r.msg.title="Address Registration Success!",r=this.app.wallet.signTransaction(e),this.app.network.propagateTransaction(r)):console.log("NULL TX CREATED IN REGISTRY MODULE")}},{key:"sendFailureResponse",value:function(e){var t=e.returnPaymentTo(this.app.wallet.returnPublicKey()),r=registry_self.app.wallet.createUnsignedTransaction(to,0,t);null!=r?(r.msg.module="Email",r.msg.data="You have successfully registered your address",r.msg.title="Address Registration Success!",r=this.app.wallet.signTransaction(e),this.app.network.propagateTransaction(r)):console.log("NULL TX CREATED IN REGISTRY MODULE")}}])&&s(t.prototype,r),n&&s(t,n),m}(h);e.exports=f},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=r(12),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(f,e);var t,r,n,l,h,p=o(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=p.call(this,e)).app=e,t.name="Relay",t.description="Adds support for off-chain, realtime communications channels through relay servers, for mobile users and real-time gaming needs.",t.categories="Utilities Core",t.description="Simple Message Relay for Saito",t.categories="Utilities Communications",c(t,u(t))}return t=f,(r=[{key:"returnServices",value:function(){var e=[];return e.push({service:"relay"}),e}},{key:"sendRelayMessage",value:function(e,t,r){Array.isArray(e)||(recipient=e,(e=[]).push(recipient));var n=new d.transaction;n.transaction.from.push(new d.slip(this.app.wallet.returnPublicKey()));for(var a=0;a<e.length;a++)n.transaction.to.push(new d.slip(e[a]));n.transaction.ts=(new Date).getTime(),n.msg.request=t,n.msg.data=r;for(var i=n=this.app.wallet.signTransaction(n),s=0;s<this.app.network.peers.length;s++)if(this.app.network.peers[s].peer&&this.app.network.peers[s].peer.modules&&this.app.network.peers[s].peer.modules.length>0&&this.app.network.peers[s].peer.modules.includes(this.name)){var o=this.app.network.peers[s];if(!e.includes(o.peer.publickey)){var c=new d.transaction;c.transaction.from.push(new d.slip(this.app.wallet.returnPublicKey()));for(var u=0;u<e.length;u++)c.transaction.to.push(new d.slip(e[u]));c.transaction.ts=(new Date).getTime(),c.msg=n.transaction,c=this.app.wallet.signTransaction(c),(i=new d.transaction).transaction.from.push(new d.slip(this.app.wallet.returnPublicKey())),i.transaction.to.push(new d.slip(o.peer.publickey)),i.transaction.ts=(new Date).getTime(),i.msg=c.transaction,i=this.app.wallet.signTransaction(i)}o.sendRequest("relay peer message",i.transaction)}}},{key:"sendRelayMessageWithRetry",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};t.request=e,this.app.network.peers[0].sendRequestWithCallbackAndRetry("relayPeerMessage2",t,r.bind(this))}},{key:"sendRelayMessageToRecipientWithRetry",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};r.request=e,r.recipient=t,this.app.network.peers[0].sendRequestWithCallbackAndRetry("relayPeerMessageToRecipient",r,n.bind(this))}},{key:"handlePeerRequest",value:(l=regeneratorRuntime.mark((function e(t,r,n){var a,i,s,o,c,u,l,h,p,f,m=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.length>3&&void 0!==m[3]?m[3]:null,e.prev=1,t.modules.returnModule("Relay"),"relayPeerMessageToRecipient"===r.request&&r.data&&r.data.request&&r.data.recipient&&(null!=(i=this.app.network.returnPeerByPublicKey(r.data.recipient))?null===a?i.sendRequest(r.data.request,r.data):i.sendRequestWithCallbackAndRetry(r.data.request,r.data,(function(e){a(e)})):a({err:"Peer not found"})),"relayPeerMessage2"===r.request&&r.data&&r.data.request&&(null===a?this.app.network.sendRequest(r.data.request,r.data):this.app.network.sendRequestWithCall(r.data.request,r.data,(function(e){a(e)}))),"relay peer message"!==r.request){e.next=36;break}if(r.data,!((s=new d.transaction(r.data)).transaction.to.length<=0)){e.next=10;break}return e.abrupt("return");case 10:if(null!=s.transaction.to[0].add){e.next=12;break}return e.abrupt("return");case 12:if(s.decryptMessage(this.app),!(o=s.returnMessage()).data){e.next=18;break}return t.modules.handlePeerRequest(o,n,a),null!=a&&a({err:"",success:1}),e.abrupt("return");case 18:if(!(c=new d.transaction(o)).isTo(t.wallet.returnPublicKey())){e.next=33;break}if(c.decryptMessage(t),!(u=c.returnMessage()).request){e.next=26;break}return t.modules.handlePeerRequest(h,n,a),null!=a&&a({err:"",success:1}),e.abrupt("return");case 26:(l=new d.transaction(u)).decryptMessage(t),h=l.returnMessage(),t.modules.handlePeerRequest(h,n,a),null!=a&&a({err:"",success:1}),e.next=36;break;case 33:for(p=0,f=0;f<t.network.peers.length;f++)c.isTo(t.network.peers[f].peer.publickey)&&(p=1,t.network.peers[f].sendRequest("relay peer message",r.data,(function(){null!=a&&a({err:"",success:1})})));0==p&&null!=a&&a({err:"ERROR 141423: peer not found in relay module",success:0});case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(1),console.log(e.t0);case 41:case"end":return e.stop()}}),e,this,[[1,38]])})),h=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=l.apply(e,t);function s(e){a(i,r,n,s,o,"next",e)}function o(e){a(i,r,n,s,o,"throw",e)}s(void 0)}))},function(e,t,r){return h.apply(this,arguments)})}])&&i(t.prototype,r),n&&i(t,n),f}(r(27));e.exports=h},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var a=u(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return o(this,r)}}function o(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=r(358),d=(r(12),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(d,e);var t,r,n,u=s(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=u.call(this,e)).app=e,t.name="Settings",t.description="Convenient Email plugin for managing Saito account settings",t.utilities="Core Utilities",t.link="/email?module=settings",t.description="User settings module.",t.categories="Admin Users",o(t,c(t))}return t=d,(r=[{key:"respondTo",value:function(e){if("email-appspace"==e){var t={render:function(e,t){l.render(e,t)},attachEvents:function(e,t){l.attachEvents(e,t)}};return t}return null}}])&&a(t.prototype,r),n&&a(t,n),d}(r(27)));e.exports=d},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function s(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var a=p(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=r(70),m=r(1281),g=r(360),y=(r(310),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(o,e);var t,r,n,s=d(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=s.call(this,e)).app=e,t.name="Settlers",t.description="German-style building game - island colonization.",t.categories="Games Arcade Entertainment",t.type="Strategy Boardgame",t.status="Beta",t.hexgrid=new m,t.boardgameWidth=5100,t.skin=new g,t.log_length=150,t.minPlayers=2,t.maxPlayers=4,t.useHUD=0,t}return t=o,(r=[{key:"respondTo",value:function(e){if(null!=u(p(o.prototype),"respondTo",this).call(this,e))return u(p(o.prototype),"respondTo",this).call(this,e);if("arcade-carousel"==e){var t={background:"/settlers/img/arcade/arcade-banner-background.png",title:"Settlers"};return t}return null}},{key:"returnGameOptionsHTML",value:function(){return'\n          <label for="theme">Game Version:</label>\n          <select name="theme">\n            <option value="classic" selected title="Familiar version of the game with ore, wheat, bricks, wood and sheep">Classic</option>\n            <option value="elements" title="Magical version of game where players cultivate the five elements (earth, fire, water, metal, and wood)">Elemental</option>\n          </select>\n          <div id="game-wizard-advanced-return-btn" class="game-wizard-advanced-return-btn button">accept</div>\n    '}},{key:"showInstructions",value:function(){var e='\n\n  <div class="trade_overlay">\n  <h1>'.concat(this.skin.gametitle,"</h1>\n  <h2>Overview</h2>\n  <p>The game mechanics should be familiar to anyone who has played resource-acquisition boardgames based on trading and building.</p>\n  <h2>Set up</h2>\n  <p>Each player gets to place 2 ").concat(this.skin.c1.name,"s and 2 adjoining ").concat(this.skin.r.name,"s anywhere on the board during the initial setup. <em>Note: </em> ").concat(this.skin.c1.name,"s may not be placed on adjacent corners (i.e. only seperated by a single ").concat(this.skin.r.name,", whether or not one is actually built).</p>\n  <p>The order of placement reverses so that last player to place their first ").concat(this.skin.c1.name," is the first to place their second ").concat(this.skin.c1.name,". Each player starts with resource cards from the tiles adjacent to their second placed ").concat(this.skin.c1.name,".</p>\n  <h2>Game Play</h2>\n  <p>Each player's turn consists of a number of moves: roll, trade, build, buy card, play card. They begin by rolling the dice. The number of the roll determines which tiles produce resources (see section on ").concat(this.skin.b.name,"). Players with ").concat(this.skin.c1.name,'s on the producing tiles collect resources from those tiles.</p>\n  <p>Players may then trade with each other or with the "bank." Trades with the bank require 4 identical resources to be exchanged for any other resource. However, if players have a ').concat(this.skin.c1.name,' adjacent to a trade ship, they can get a better rate with the "bank." There are no restrictions on trades between players, who may trade any number of resources. Once a player has bought a card or built something, they may no longer make trades during their turn. All trades must involve the player whose turn it is.</p>\n  <h3>Building and Costs</h3>\n  <p>After the player is satisfied with their trades (if any), they may build something or purchase a ').concat(this.skin.card.name,' card. Players must have sufficient resources to afford the purchases, as defined below:</p>\n  <ul style="margin-left:2em"> <li>A ').concat(this.skin.r.name," costs ").concat(this.skin.priceList[0],"</li>\n  <li>A ").concat(this.skin.c1.name," costs ").concat(this.skin.priceList[1],"</li>\n  <li>A ").concat(this.skin.c2.name," costs ").concat(this.skin.priceList[2],"</li>\n  <li>A ").concat(this.skin.card.name," card costs ").concat(this.skin.priceList[3],"</li></ul>\n  <p> A ").concat(this.skin.c2.name," replaces an already built ").concat(this.skin.c1.name," and collects double the resources of a ").concat(this.skin.c1.name,'.</p>\n  <h3 style="text-transform:capitalize">').concat(this.skin.b.name,"</h3>\n  <p>If a 7 is rolled, the ").concat(this.skin.b.name," comes into play. The ").concat(this.skin.b.name," does 3 things. First, any players with more than 7 resource cards must discard half their hand. Second, the rolling player may move the ").concat(this.skin.b.name," to any tile. The ").concat(this.skin.b.name," may steal one resource from any player with a ").concat(this.skin.c1.name," or ").concat(this.skin.c2.name," adjacent to the affected tile. Third, that tile is deactivate by the presence of the ").concat(this.skin.b.name," and will not produce resources until the ").concat(this.skin.b.name," is moved. The ").concat(this.skin.b.name," will be moved on the next roll of a 7 or if a player purchases and plays a ").concat(this.skin.s.name," from the ").concat(this.skin.card.name,' cards.</p>\n  <h3 style="text-transform:capitalize">').concat(this.skin.card.name," cards</h3>\n  <p>There are many kinds of ").concat(this.skin.card.name," cards, though the aforementioned ").concat(this.skin.s.name," is the most common type. Some allow the player to perform a special action (such as building additional ").concat(this.skin.r.name," at no cost or collecting additional resources), while others give the player an extra ").concat(this.skin.vp.name,". Players may play a ").concat(this.skin.card.name," card at any time during their turn (including before the roll), but may only play one per turn and only on the turn after purchasing it. ").concat(this.skin.card.name," cards which give +1 ").concat(this.skin.vp.name," are exempt from these restrictions.</p> \n  <h2>Winning the Game</h2>\n  <p>").concat(this.skin.vp.name," are important because the first player to accumulate 10 ").concat(this.skin.vp.name," is declared the winner of the game. Players earn ").concat(this.skin.vp.name," by building ").concat(this.skin.c1.name,"s (worth 1 ").concat(this.skin.vp.name," each) and ").concat(this.skin.c1.name,"s (worth 2 ").concat(this.skin.vp.name,"s each). There are also two special achievements worth 2 ").concat(this.skin.vp.name,"s each.</p>\n  <p> The player with the longest contiguous ").concat(this.skin.r.name,' of at least 5 is awarded the "').concat(this.skin.longest.name,'" badge. Similarly, if a player accumulates at least 3 ').concat(this.skin.s.name,'s, they are awarded the "').concat(this.skin.largest.name,'" badge. Only one player may hold either badge, and other players must surpass them to claim it for themselves.</p>\n  </div>\n   ');this.overlay.showOverlay(this.app,this,e)}},{key:"initializeHTML",value:function(e){var t=this;if(0!=this.browser_active){u(p(o.prototype),"initializeHTML",this).call(this,e),this.app.modules.respondTo("chat-manager").forEach((function(r){r.respondTo("chat-manager").render(e,t),r.respondTo("chat-manager").attachEvents(e,t)})),this.menu.addMenuOption({text:"Game",id:"game-game",class:"game-game",callback:function(e,t){t.menu.showSubMenu("game-game")}}),this.menu.addSubMenuOption("game-game",{text:"Help",id:"game-help",class:"game-help",callback:function(e,t){t.menu.hideSubMenus(),t.showInstructions()}}),this.menu.addSubMenuOption("game-game",{text:"Log",id:"game-log",class:"game-log",callback:function(e,t){t.menu.hideSubMenus(),t.log.toggleLog()}}),this.menu.addSubMenuOption("game-game",{text:"Exit",id:"game-exit",class:"game-exit",callback:function(e,t){window.location.href="/arcade"}});for(var r=0,n=0,a=0;a<this.app.modules.mods.length;a++)if("chat"===this.app.modules.mods[a].slug)for(var i=0;i<this.game.players.length;i++)this.game.players[i]!=this.app.wallet.returnPublicKey()&&function(){0==r&&(t.menu.addMenuOption({text:"Chat",id:"game-chat",class:"game-chat",callback:function(e,t){t.menu.showSubMenu("game-chat")}}),r=1),0==n&&(t.menu.addSubMenuOption("game-chat",{text:"Community",id:"game-chat-community",class:"game-chat-community",callback:function(e,t){t.menu.hideSubMenus(),c.sendEvent("chat-render-request",{}),c.openChatBox()}}),n=1);var e=[t.game.players[i],t.app.wallet.returnPublicKey()].sort(),s=t.app.crypto.hash(e.join("_")),o="Player "+(i+1),c=t.app.modules.mods[a];t.menu.addSubMenuOption("game-chat",{text:o,id:"game-chat-"+(i+1),class:"game-chat-"+(i+1),callback:function(t,r){r.menu.hideSubMenus();var n=c.createChatGroup(e);n?(c.addNewGroup(n),c.sendEvent("chat-render-request",{}),c.saveChat(),c.openChatBox(n.id)):(c.sendEvent("chat-render-request",{}),c.openChatBox(s))}})}();this.menu.addMenuIcon({text:'<i class="fa fa-window-maximize" aria-hidden="true"></i>',id:"game-menu-fullscreen",callback:function(e,t){t.menu.hideSubMenus(),e.browser.requestFullscreen()}}),this.menu.addMenuOption({text:"Trade",id:"game-trade",class:"game-trade",callback:function(e,t){t.menu.showSubMenu("game-trade")}}),this.menu.addSubMenuOption("game-trade",{text:"Offer",id:"game-offer",class:"game-offer",callback:function(e,t){t.menu.hideSubMenus(),t.showTradeOverlay()}}),this.menu.render(e,this),this.menu.attachEvents(e,this),this.log.render(e,this),this.log.attachEvents(e,this),this.hexgrid.render(e,this),this.hexgrid.attachEvents(e,this);try{this.skin.render(this.game.options.theme),this.playerbox.render(e,this),this.playerbox.attachEvents(e),this.playerbox.addClass("me",this.game.player);for(var s=1;s<=this.game.players.length;s++)this.playerbox.addClass("c".concat(s),s),s!=this.game.player&&this.playerbox.addClass("notme",s);this.playerbox.groupOpponents(),e.browser.isMobileBrowser(navigator.userAgent)?(GameHammerMobile.render(this.app,this),GameHammerMobile.attachEvents(this.app,this,".game-hexgrid-container")):(GameBoardSizer.render(this.app,this),GameBoardSizer.attachEvents(this.app,this,".game-hexgrid-container")),this.addCitiesToGameboard(),this.addPortsToGameboard(),this.displayBoard()}catch(e){console.log("Intialize HTML: "+e)}}}},{key:"initializeGame",value:function(e){if(""!=this.game.status&&this.updateStatus(this.game.status),this.game.log&&this.game.log.length>0)for(var t=this.game.log.length-1;t>=0;t--)this.updateLog(this.game.log[t]);if(null==this.game.state){this.game.state=this.returnState(),this.skin.render(this.game.options.theme),this.initializeDice(),console.log("---------------------------"),console.log("---------------------------"),console.log("------ INITIALIZE GAME ----"),console.log("---------------------------"),console.log("---------------------------"),console.log("---------------------------"),this.game.queue.push("init");for(var r=1;r<=this.game.players.length;r++)this.game.queue.push("player_build_road\t"+r),this.game.queue.push("player_build_city\t"+r);for(var n=this.game.players.length;n>=1;n--)this.game.queue.push("player_build_road\t"+n),this.game.queue.push("player_build_city\t"+n);this.game.queue.push("READY"),this.game.queue.push("generate_map");for(var a=0;a<19;a++){for(var i=this.game.players.length-1;i>=0;i--)this.game.queue.push("FLIPCARD\t2\t1\t1\t"+(i+1));this.game.queue.push("FLIPRESET\t1")}for(var s=0;s<18;s++){for(var o=this.game.players.length-1;o>=0;o--)this.game.queue.push("FLIPCARD\t3\t1\t2\t"+(o+1));this.game.queue.push("FLIPRESET\t2")}this.game.queue.push("DECKANDENCRYPT\t3\t"+this.game.players.length+"\t"+JSON.stringify(this.returnDiceTokens())),this.game.queue.push("DECKANDENCRYPT\t2\t"+this.game.players.length+"\t"+JSON.stringify(this.skin.returnHexes())),this.game.queue.push("DECKANDENCRYPT\t1\t"+this.game.players.length+"\t"+JSON.stringify(this.skin.returnDeck()))}}},{key:"returnState",value:function(){for(var e={hexes:{},roads:[],cities:[],longestRoad:{length:0,player:0},largestArmy:{size:0,player:0},players:[],ports:[],lastroll:[0,0]},t=0;t<this.game.players.length;t++)e.players.push({}),e.players[t].resources=[],e.players[t].vp=0,e.players[t].towns=5,e.players[t].cities=4,e.players[t].knights=0,e.players[t].vpc=0,e.players[t].devcards=0,e.players[t].ports=[];return e}},{key:"handleGameLoop",value:function(){var e=this;if(this.game.queue.length>0){try{this.displayPlayers()}catch(e){console.log("Attempting to access DOM elements which haven't been created yet"),console.log(e)}var t=this.game.queue.length-1,r=this.game.queue[t].split("\t");if(console.log("QUEUE: "+this.game.queue),"init"==r[0]){this.game.state.placedCity=null;for(var n=this.game.players.length;n>0;n--)this.game.queue.push("play\t".concat(n));return 1}if("generate_map"==r[0])return console.log("Building the map"),this.game.queue.splice(t,1),this.generateMap(),1;if("winner"==r[0]){console.log("Victory!");var a=parseInt(r[1]);return this.game.queue.splice(t,1),this.updateLog("Player ".concat(a," is ").concat(this.skin.winState," of Saitoa! The game is over.")),this.game.player==a?this.updateStatus('<div class="tbd">You are the winner! Congratulations!</div>'):this.updateStatus('<div class="tbd">Player '.concat(a," wins! Better luck next time.</div>")),0}if("buy_card"==r[0]){var s=parseInt(r[1]);return this.game.queue.splice(t,1),this.updateLog("Player ".concat(s," bought a ").concat(this.skin.card," card")),e.game.state.canTrade=!1,this.game.player==s?(this.addMove("SAFEDEAL\t1\t"+e.game.player+"\t1"),this.endTurn()):this.game.state.players[s-1].devcards++,0}if("vp"==r[0]){var o=parseInt(r[1]);return this.game.queue.splice(t,1),this.game.state.players[o-1].vpc++,this.game.state.players[o-1].devcards--,this.updateLog("Player ".concat(o," played a victory point card")),1}if("road_building"==r[0]){var c=parseInt(r[1]);return this.game.queue.splice(t,1),this.game.state.players[c-1].devcards--,this.updateLog("Player ".concat(c," played road building")),1}if("spend_resource"==r[0]){var u=parseInt(r[1]),l=r[2],d=this.game.state.players[u-1].resources.indexOf(l);return d>=0?this.game.state.players[u-1].resources.splice(d,1):console.log("Resource not found...",l,this.game.state.players[u-1]),this.game.queue.splice(t,1),1}if("player_build_road"==r[0]){var h=parseInt(r[1]);return this.game.queue.splice(t,1),e.game.state.canTrade=!1,this.game.player==h?this.playerBuildRoad(r[1]):this.updateStatus('<div class="tbd">Player '.concat(h," is building a ").concat(this.skin.r.name,"...</div>")),0}if("build_road"==r[0]){var p=parseInt(r[1]),f=r[2];return this.game.queue.splice(t,1),this.game.player!=p&&this.buildRoad(p,f),this.checkLongestRoad(p),1}if("player_build_city"==r[0]){var m=parseInt(r[1]);return this.game.queue.splice(t,1),e.game.state.canTrade=!1,this.game.player==m?this.playerBuildCity(r[1]):this.updateStatus('<div class="tbd">Player '.concat(m," is building a ").concat(this.skin.c1.name,"...</div>")),0}if("build_city"==r[0]){var g=parseInt(r[1]),y=r[2];return this.game.queue.splice(t,1),this.game.player!=g&&this.buildCity(g,y),1}if("player_upgrade_city"==r[0]){var b=parseInt(r[1]);return this.game.queue.splice(t,1),e.game.state.canTrade=!1,this.game.player==b?this.playerUpgradeCity(b):this.updateStatus('<div class="tbd">Player '.concat(b," is upgrading to a ").concat(this.skin.c2.name,"...</div>")),0}if("upgrade_city"==r[0]){var v=parseInt(r[1]),_=r[2];this.game.queue.splice(t,1);for(var w=0;w<this.game.state.cities.length;w++)if(this.game.state.cities[w].slot===_){this.game.state.cities[w].level=2,this.game.state.players[v-1].cities--,this.game.state.players[v-1].towns++;var x="#"+_;return $(x).html(this.skin.c2.svg),$(x).addClass("p".concat(v)),1}return console.log("Upgrade city failed...",_,this.game.state.cities),1}if("advertisement"==r[0]){var k=parseInt(r[1]),S=JSON.parse(r[2]),O=JSON.parse(r[3]);if(this.game.queue.splice(t,1),this.game.player!=k){var P="";for(var E in S)S[E]>0&&(S[E]>1?P+=" and ".concat(S[E]," ").concat(E,"s"):P+=" and ".concat(E));P=P.length>0?P.substring(5):"nothing";var A="";for(var C in O)O[C]>0&&(O[C]>1?A+=" and ".concat(O[C]," ").concat(C,"s"):A+=" and ".concat(C));A=A.length>0?A.substring(5):"nothing",this.updateLog("Player ".concat(k," wants ").concat(A," for ").concat(P)),this.updateStatus("<div>Player ".concat(k," wants ").concat(A," for ").concat(P,"</div>")+$(".status").innerHTML)}return 1}if("offer"===r[0]){var T=this,D=parseInt(r[1]),j=parseInt(r[2]),M=JSON.parse(r[3]),I=JSON.parse(r[4]);if(this.game.queue.splice(t,1),this.game.player==j){var R="";for(var B in M)M[B]>0&&(M[B]>1?R+=" and ".concat(M[B]," ").concat(B,"s"):R+=" and ".concat(B));R=R.length>0?R.substring(5):"nothing";var N="";for(var F in I)I[F]>0&&(I[F]>1?N+=" and ".concat(I[F]," ").concat(F,"s"):N+=" and ".concat(F));N=N.length>0?N.substring(5):"nothing";var q='<div class="tbd">You have been offered <span class="highlight">'.concat(R,'</span> in exchange for <span class="highlight">').concat(N,"</span>:");q+="<ul>",q+='<li class="option" id="accept">accept</li>',q+='<li class="option" id="reject">reject</li>',q+="</ul>",q+="</div>",this.updateStatus(q),$(".option").off(),$(".option").on("click",(function(){var e=$(this).attr("id");"accept"==e&&(T.updateStatus('<div class="tbd">offer accepted</div>'),T.addMove("accept_offer\t"+T.game.player+"\t"+D+"\t"+JSON.stringify(M)+"\t"+JSON.stringify(I)),T.endTurn()),"reject"==e&&(T.updateStatus('<div class="tbd">offer rejected</div>'),T.addMove("reject_offer\t"+T.game.player+"\t"+D),T.endTurn())}))}else this.game.player==D?T.updateStatus("Player ".concat(j," is considering your offer.")):T.updateStatus("Player ".concat(j," is considering Player ").concat(D,"'s offer."));return 0}if("accept_offer"===r[0]){var L=parseInt(r[1]),H=parseInt(r[2]),U=JSON.parse(r[3]),z=JSON.parse(r[4]);for(var V in this.game.queue.splice(t,1),this.game.player==H?this.playerAcknowledgeNotice("ACKNOWLEDGE\t<div class='tbd'>Your offer has been accepted</div>",(function(){e.endTurn()})):this.game.player==L?this.updateStatus("You accept Player ".concat(H,"'s trade.")):this.updateStatus("Player ".concat(H,"'s trade offer was accepted. It is still their move.")),U)for(var G=0;G<U[V];G++)this.game.queue.push("spend_resource\t"+H+"\t"+V),this.game.state.players[L-1].resources.push(V);for(var W in z)for(var K=0;K<z[W];K++)this.game.queue.push("spend_resource\t"+L+"\t"+W),this.game.state.players[H-1].resources.push(W);return this.updateLog("Players ".concat(L," and ").concat(H," completed a trade.")),0}if("reject_offer"===r[0]){var Y=parseInt(r[1]),X=parseInt(r[2]);return this.game.queue.splice(t,1),this.game.player==X?this.playerAcknowledgeNotice("ACKNOWLEDGE\t<div class='tbd'>Your offer has been rejected</div>",(function(){e.endTurn()})):this.game.player==Y?this.updateStatus("You reject Player ".concat(X,"'s trade.")):this.updateStatus("Player ".concat(X,"'s trade offer was rejected. It is still their move.")),0}if("bank"===r[0]){var J=parseInt(r[1]),Q=parseInt(r[2]),Z=r[3],ee=parseInt(r[4]),te=r[5];this.game.queue.splice(t,1),this.game.player==J?this.playerAcknowledgeNotice("ACKNOWLEDGE\t<div class='tbd'>Your trade is completed</div>",(function(){e.endTurn()})):this.updateStatus("Player ".concat(J," traded with the bank. It is still their move."));for(var re=0;re<Q;re++)this.game.queue.push("spend_resource\t"+J+"\t"+Z);for(var ne=0;ne<ee;ne++)this.game.state.players[J-1].resources.push(te);return this.updateLog("Player ".concat(J," traded with the bank.")),0}if("play"==r[0]){var ae=this,ie=parseInt(r[1]);if(this.game.queue.splice(t,1),this.cardfan.render(this.app,this),this.cardfan.attachEvents(this.app,this),r[2]||(this.game.state.canPlayCard=!0),this.game.player==ie){this.game.state.players[ie-1].devcards=this.game.deck[0].hand.length;var se='<div class="tbd"><div style="margin-bottom:5px">Your turn:</div>';se+="<ul>",se+='<li class="option" id="rolldice">roll dice</li>',ae.canPlayerPlayCard(ie)&&(se+='<li class="option" id="knight">move robber</li>'),se+="</ul>",se+="</div>",this.updateStatus(se,1),$(".option").off(),$(".option").on("click",(function(){var e=$(this).attr("id");"rolldice"===e&&(ae.addMove("roll\t"+ie),ae.endTurn()),"knight"===e&&(ae.addMove("play\t".concat(ie,"\tSTOP")),ae.playerPlayCard())}))}else{var oe='<div class="tbd">Player '.concat(ie," rolling dice...</div>");this.updateStatus(oe)}return 0}if("roll"==r[0]){var ce=parseInt(r[1]);this.game.queue.splice(t,1);var ue,le=i(this.game.state.cities);try{for(le.s();!(ue=le.n()).done;){var de=ue.value;document.querySelector("#".concat(de.slot)).classList.remove("producer")}}catch(e){le.e(e)}finally{le.f()}var he=this.rollDice(6),pe=this.rollDice(6);this.game.state.lastroll=[he,pe];var fe=he+pe;if(this.updateLog("Player ".concat(ce," rolled: ").concat(fe)),this.displayDice(),this.animateDiceRoll(fe),this.game.state.canTrade=!0,this.game.queue.push("player_actions\t".concat(ce)),7==fe){this.game.queue.push("play_bandit\t"+ce);for(var me=0;me<this.game.state.players.length;me++)this.game.state.players[me].resources.length>7&&(this.game.queue.push("discard\t".concat(me+1)),this.updateLog("Player ".concat(me+1," has to discard ").concat(Math.floor(this.game.state.players[me].resources.length/2)," resource cards")));return 1}return this.game.queue.push("collect_harvest\t".concat(fe)),1}if("discard"==r[0]){var ge=parseInt(r[1]);if(this.game.queue.splice(t,1),this.game.player==ge)this.chooseCardsToDiscard();else{var ye='<div class="tbd">Waiting for Player '.concat(ge," to discard half their hand...</div>");this.updateStatus(ye)}return 0}if("year_of_plenty"==r[0]){var be=parseInt(r[1]),ve=JSON.parse(r[2]);this.game.queue.splice(t,1);var _e,we=i(ve);try{for(we.s();!(_e=we.n()).done;){var xe=_e.value;this.game.state.players[be-1].resources.push(xe)}}catch(e){we.e(e)}finally{we.f()}return this.game.state.players[be-1].devcards--,this.updateLog("Player ".concat(be," played a Year of Plenty.")),1}if("monopoly"==r[0]){var ke=parseInt(r[1]),Se=r[2];this.game.queue.splice(t,1);for(var Oe=0,Pe=0;Pe<this.game.state.players.length;Pe++)if(ke!=Pe+1)for(var Ee=0;Ee<this.game.state.players[Pe].resources.length;Ee++)this.game.state.players[Pe].resources[Ee]==Se&&(Oe++,this.game.state.players[Pe].resources.splice(Ee,1),Ee--);for(var Ae=0;Ae<Oe;Ae++)this.game.state.players[ke-1].resources.push(Se);return this.game.state.players[ke-1].devcards--,this.updateLog("Player ".concat(ke," played a Monopoly on ").concat(Se,", collecting ").concat(Oe,".")),1}if("play_knight"==r[0]){var Ce=parseInt(r[1]);if(this.game.queue.splice(t,1),this.updateLog("Player ".concat(Ce," played a knight!")),this.game.state.players[Ce-1].devcards--,this.game.state.players[Ce-1].knights++,this.checkLargestArmy(Ce),this.game.player==Ce)this.playBandit();else{var Te='<div class="tbd">Waiting for Player '.concat(Ce," to move the ").concat(this.skin.b.name,"...</div>");this.updateStatus(Te)}return 0}if("play_bandit"==r[0]){var De=parseInt(r[1]);if(this.game.queue.splice(t,1),this.game.player==De)this.playBandit();else{var je='<div class="tbd">Waiting for Player '.concat(De," to move the ").concat(this.skin.b.name,"...</div>");this.updateStatus(je)}return 0}if("move_bandit"==r[0]){var Me=parseInt(r[1]),Ie=r[2];this.game.queue.splice(t,1),$(".bandit").removeClass("bandit"),$("#"+Ie).addClass("bandit");var Re=Ie.split("_"),Be=Re[2]+"_"+Re[3];for(var Ne in this.game.state.hexes)this.game.state.hexes[Ne].robber=Ne==Be;return this.updateLog("Player ".concat(Me," moved the bandit to ").concat(Be)),this.game.player===Me?this.moveBandit(Me,Be):this.updateStatus('<div class="tbd">Waiting for Player '.concat(Me," to choose the ").concat(this.skin.b.name,"'s victim...</div>")),0}if("steal_card"==r[0]){var Fe=parseInt(r[1]),qe=parseInt(r[2]),Le=r[3];return this.game.queue.splice(t,1),"nothing"!=Le&&(this.game.queue.push("spend_resource\t"+qe+"\t"+Le),this.game.state.players[Fe-1].resources.push(Le)),this.updateLog("Player ".concat(Fe," stole ").concat(Le," from Player ").concat(qe)),1}if("player_actions"==r[0]){var He=parseInt(r[1]);if(He==this.game.player)this.playerPlayMove(He);else if(this.game.state.canTrade){var Ue=this,ze="<div>Player ".concat(He," is taking their turn.</div><ul><li id='tradenow' class='option'>Propose a trade</li></ul>");this.updateStatus(ze),$("#tradenow").on("click",(function(){Ue.privateTrade(He),Ue.game.state.canTrade=!1}))}else this.updateStatus("Player "+He+" is making their move");return 0}if("end_turn"==r[0])return this.game.queue.splice(t-1,2),1;if("collect_harvest"==r[0]){var Ve=parseInt(r[1]);return this.game.queue.splice(t,1),this.collectHarvest(Ve),1}if("secondcity"==r[0]){var Ge=parseInt(r[1]),We=r[2];this.game.queue.splice(t,1);var Ke,Ye="Player ".concat(Ge," starts with "),Xe=i(this.hexgrid.hexesFromVertex(We));try{for(Xe.s();!(Ke=Xe.n()).done;){var Je=Ke.value,Qe=this.game.state.hexes[Je].resource;Ye+=Qe+", ",this.game.state.players[Ge-1].resources.push(Qe)}}catch(e){Xe.e(e)}finally{Xe.f()}return Ye=Ye.substring(0,Ye.length-2)+".",this.updateLog(Ye),1}}return 1}},{key:"collectHarvest",value:function(e){var t,r="",n=i(this.game.state.cities);try{for(n.s();!(t=n.n()).done;){var a,s=t.value,o=s.player,c=i(s.neighbours);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(this.game.state.hexes[u].value==e&&!this.game.state.hexes[u].robber){document.querySelector("#".concat(s.slot)).classList.add("producer");var l=this.game.state.hexes[u].resource;r+="Player ".concat(o," gains ").concat(l),this.game.state.players[o-1].resources.push(l),2==s.level&&(this.game.state.players[o-1].resources.push(l),r+=" x2"),r+="; "}}}catch(e){c.e(e)}finally{c.f()}}}catch(e){n.e(e)}finally{n.f()}(r=r.substr(0,r.length-2))?this.updateLog(r):this.updateLog("No one collects any resources.")}},{key:"returnCitySlotsAdjacentToPlayerRoads",value:function(e){for(var t=[],r=0;r<this.game.state.roads.length;r++)if(this.game.state.roads[r].player==e){var n,a=this.game.state.roads[r].slot.replace("road_",""),s=i(this.hexgrid.verticesFromEdge(a));try{for(s.s();!(n=s.n()).done;){var o=n.value;t.includes(o)||t.push(o)}}catch(e){s.e(e)}finally{s.f()}}for(var c=[],u=0,l=t;u<l.length;u++){var d=l[u],h=document.querySelector("#city_"+d);h&&h.classList.contains("empty")&&c.push("city_"+d)}return adjacent=c,adjacent}},{key:"returnAdjacentCitySlots",value:function(e){var t,r=[],n=e.replace("city_",""),a=i(this.hexgrid.adjacentVertices(n));try{for(a.s();!(t=a.n()).done;){var s=t.value;r.push("city_"+s)}}catch(e){a.e(e)}finally{a.f()}return r}},{key:"playBandit",value:function(){this.updateStatus("Move the bandit...");var e=this;$(".sector_value").addClass("hover"),$(".sector_value").off(),$(".sector_value").on("click",(function(){$(".sector_value").off(),$(".sector_value").removeClass("hover");var t=$(this).attr("id");e.addMove("move_bandit\t".concat(e.game.player,"\t").concat(t)),e.endTurn()})),$(".bandit").removeClass("hover"),$(".bandit").off()}},{key:"moveBandit",value:function(e,t){var r,n=this,a=[],s=i(this.game.state.cities);try{for(s.s();!(r=s.n()).done;){var o=r.value;o.neighbours.includes(t)&&o.player!=e&&(a.includes(o.player)||a.push(o.player))}}catch(e){s.e(e)}finally{s.f()}if(a.length>0){for(var c='<div class="tbd">Steal from which Player: <ul>',u=0;u<this.game.players.length;u++)a.includes(u+1)&&(c+='<li class="option" id="'.concat(u+1,'">Player ').concat(u+1," (").concat(n.game.state.players[u].resources.length," cards)</li>"));c+="</ul></div>",this.updateStatus(c,1),$(".option").off(),$(".option").on("click",(function(){var t=$(this).attr("id"),r=n.game.state.players[t-1].resources;if(r.length>0){var a=r[Math.floor(Math.random()*r.length)];n.addMove("steal_card\t".concat(e,"\t").concat(t,"\t").concat(a))}else n.addMove("steal_card\t".concat(e,"\t").concat(t,"\tnothing"));n.endTurn()}))}else n.addMove("steal_card\t".concat(e,"\tnobody\tnothing")),n.endTurn()}},{key:"chooseCardsToDiscard",value:function(){var e=this.game.player,t=this.game.state.players[this.game.player-1].resources.length;if(!(t<=7)){var r,n=Math.floor(t/2),a={},s=[],o=i(this.skin.resourceArray());try{for(o.s();!(r=o.n()).done;){var c=r.value,u=this.countResource(this.game.player,c);u>0&&(a[c]=u)}}catch(e){o.e(e)}finally{o.f()}!function t(r){var i="<div class='tbd'>Select Cards to Discard (Must get rid of ".concat(n-s.length,"): <ul>");for(var o in a)a[o]>0&&(i+='<li id="'.concat(o,'" class="option">').concat(o," (").concat(a[o],")</li>"));i+="</ul>",i+="</div>",r.updateStatus(i,1),$(".option").off(),$(".option").on("click",(function(){var i=$(this).attr("id");if(s.push(i),a[i]--,r.addMove("spend_resource\t"+e+"\t"+i),s.length>=n)return r.endTurn(),0;t(r)}))}(this)}}},{key:"addSectorValuesToGameboard",value:function(){var e,t=i(this.hexgrid.hexes);try{for(t.s();!(e=t.n()).done;){var r=e.value;this.addSectorValueToGameboard(r,0)}}catch(e){t.e(e)}finally{t.f()}}},{key:"addSectorValueToGameboard",value:function(e,t){var r="hex_bg_"+e,n=document.getElementById(r),a="sector_value_".concat(e);if(document.getElementById(a)){var i=document.getElementById(a);i.textContent=t,i.classList.add("sv"+t)}else{var s='<div class="sector_value hexTileCenter sv'.concat(t,'" id="').concat(a,'">').concat(t,"</div>"),o=this.app.browser.htmlToElement(s);n?n.after(o):console.log("Null selector: "+r)}return a}},{key:"addPortsToGameboard",value:function(){var e=this.skin.resourceArray();this.addPortToGameboard("1_1","3:1",6),this.addPortToGameboard("3_5","3:1",3),this.addPortToGameboard("5_4","3:1",3),this.addPortToGameboard("4_2","3:1",5);for(var t=["1_2","2_1","2_4","5_3","5_5"],r=[1,5,1,4,2],n=0;n<5;n++)this.addPortToGameboard(t[n],"2:1 "+e[n],r[n])}},{key:"addPortToGameboard",value:function(e,t,r){var n="port_"+r+"_"+e;this.game.state.ports[r+"_"+e]=t;var a="hex_bg_"+e,i=document.getElementById(a);if(!document.getElementById(n)){var s='<div class="port port'.concat(r,'" id="').concat(n,'">\n                        <div class="ship hexTileCenter">').concat(t,'</div>\n                        <div class="harbor lharbor"></div>\n                        <div class="harbor rharbor"></div>\n                        </div>'),o=this.app.browser.htmlToElement(s);i?i.after(o):console.log("Null selector: "+a)}}},{key:"addCitiesToGameboard",value:function(){var e,t=i(this.hexgrid.hexes);try{for(t.s();!(e=t.n()).done;){var r=e.value;this.addCityToGameboard(r,6),this.addCityToGameboard(r,1)}}catch(e){t.e(e)}finally{t.f()}this.addCityToGameboard("1_3",2),this.addCityToGameboard("2_4",2),this.addCityToGameboard("3_5",2),this.addCityToGameboard("4_5",2),this.addCityToGameboard("5_5",2),this.addCityToGameboard("3_5",3),this.addCityToGameboard("4_5",3),this.addCityToGameboard("5_5",3),this.addCityToGameboard("3_1",5),this.addCityToGameboard("4_2",5),this.addCityToGameboard("5_3",5),this.addCityToGameboard("5_3",4),this.addCityToGameboard("5_4",5),this.addCityToGameboard("5_4",4),this.addCityToGameboard("5_5",5),this.addCityToGameboard("5_5",4)}},{key:"addCityToGameboard",value:function(e,t){var r="city_"+t+"_"+e,n="hex_bg_"+e,a=document.getElementById(n);if(!document.getElementById(r)){var i='<div class="city city'.concat(t,' empty" id="').concat(r,'"></div>'),s=this.app.browser.htmlToElement(i);a?a.after(s):console.log("Null selector: "+n)}}},{key:"addRoadsToGameboard",value:function(){var e,t=i(this.hexgrid.hexes);try{for(t.s();!(e=t.n()).done;){var r=e.value;this.addRoadToGameboard(r,5),this.addRoadToGameboard(r,6),this.addRoadToGameboard(r,1)}}catch(e){t.e(e)}finally{t.f()}this.addRoadToGameboard("2_4",2),this.addRoadToGameboard("3_1",4),this.addRoadToGameboard("3_5",2),this.addRoadToGameboard("3_5",3),this.addRoadToGameboard("4_2",4),this.addRoadToGameboard("4_5",2),this.addRoadToGameboard("5_5",2),this.addRoadToGameboard("5_3",4),this.addRoadToGameboard("5_3",3),this.addRoadToGameboard("5_4",4),this.addRoadToGameboard("5_4",3),this.addRoadToGameboard("5_5",4),this.addRoadToGameboard("5_5",3)}},{key:"addRoadToGameboard",value:function(e,t){var r="hex_bg_"+e,n=document.getElementById(r),a="road_"+t+"_"+e;if(!document.getElementById(a)){var i='<div class="road road'.concat(t,' empty" id="').concat(a,'"></div>'),s=this.app.browser.htmlToElement(i);n?n.after(s):console.log("Null selector: "+r)}}},{key:"returnDiceTokens",value:function(){var e=[];e.push({value:2}),e.push({value:12});for(var t=3;t<7;t++)e.push({value:t}),e.push({value:t}),e.push({value:t+5}),e.push({value:t+5});return e}},{key:"generateMap",value:function(){var e,t,r,n,a=0,s=0,o=i(this.hexgrid.hexes);try{for(o.s();!(n=o.n()).done;){var c=n.value;if(e=this.game.pool[0].hand[a++],(t=this.game.deck[1].cards[e].resource)!=this.skin.nullResource()){var u=this.game.pool[1].hand[s++];r=this.game.deck[2].cards[u].value}else r=0;this.game.state.hexes[c]={resource:t,value:r,img:this.game.deck[1].cards[e].img,neighbours:[],robber:!1},t==this.skin.nullResource()&&(this.game.state.hexes[c].robber=!0),r&&this.addSectorValueToGameboard(c,r)}}catch(e){o.e(e)}finally{o.f()}}},{key:"displayBoard",value:function(){for(var e in this.displayCardfan(),this.game.state.hexes)if($("#hex_bg_"+e).html('<img class="hex_img2" src="'.concat(this.game.state.hexes[e].img,'">')),this.game.state.hexes[e].resource!=this.skin.nullResource()){var t=this.addSectorValueToGameboard(e,this.game.state.hexes[e].value);this.game.state.hexes[e].robber&&document.getElementById(t).classList.add("bandit")}for(var r in this.game.state.cities){var n="#"+this.game.state.cities[r].slot,a="p"+this.game.state.cities[r].player;$(n).addClass(a),$(n).removeClass("empty"),1==this.game.state.cities[r].level?$(n).html(this.skin.c1.svg):$(n).html(this.skin.c2.svg),$(n).addClass(a);for(var i=this.returnAdjacentCitySlots(this.game.state.cities[r].slot),s=0;s<i.length;s++){var o="#"+i[s];try{$(o).remove()}catch(e){}}}for(var c in this.game.state.roads)this.buildRoad(this.game.state.roads[c].player,this.game.state.roads[c].slot);this.displayPlayers()}},{key:"updateScore",value:function(){for(var e=0;e<this.game.state.players.length;e++){for(var t=0,r=0;r<this.game.state.cities.length;r++)this.game.state.cities[r].player===e+1&&(t+=this.game.state.cities[r].level);this.game.state.longestRoad.player==e+1&&(t+=2),this.game.state.largestArmy.player==e+1&&(t+=2),t+=this.game.state.players[e].vpc,this.game.state.players[e].vp=t,t>=10&&this.game.queue.push("winner\t".concat(e+1))}}},{key:"displayCardfan",value:function(){try{var e="";console.log(JSON.stringify(this.game.state.players)),console.log(JSON.stringify(this.game.state.players[this.game.player-1].resources));for(var t=0;t<this.game.state.players[this.game.player-1].resources.length;t++){var r=this.game.state.players[this.game.player-1].resources[t];e+='<img class="card" src="/settlers/img/cards/'.concat(r,'.png"></div>')}this.cardfan.render(this.app,this,e),this.cardfan.attachEvents(this.app,this)}catch(e){console.log(e)}}},{key:"displayPlayers",value:function(){this.updateScore();for(var e=1;e<=this.game.state.players.length;e++){this.game.state.players[e-1].resources.sort();var t="";if(this.playerbox.refreshName(e),this.playerbox.refreshInfo(t,e),t="",this.game.player==e){if(this.game.deck[0].hand.length>0){t='<div class="devcards bighand">';for(var r=0;r<this.game.deck[0].hand.length;r++){var n=this.game.deck[0].cards[this.game.deck[0].hand[r]];t+='<img class="card" src="'.concat(n.img,'" title="').concat(n.card,": ").concat(this.skin.rules[n.action],'">')}t+="</div>"}}else if(this.game.state.players[e-1].devcards>0){t='<div class="devcards bighand">';for(var a=0;a<this.game.state.players[e-1].devcards;a++)t+='<img class="card tinycard" src="'.concat(this.skin.card.back,'">');t+="</div>"}t+='<div class="rescards bighand">';for(var i=0;i<this.game.state.players[e-1].resources.length;i++)this.game.player==e?t+='<img class="card" src="'.concat(this.skin.resourceCard(this.game.state.players[e-1].resources[i]),'">'):t+='<img class="card tinycard" src="'.concat(this.skin.back,'">');t+="</div>",this.playerbox.refreshGraphic(t,e)}}},{key:"playerBuildCity",value:function(){this.updateStatus('<div class="tbd">You may build a '.concat(this.skin.c1.name,"...</div>"));for(var e=this,t=0,r=0;r<this.game.state.cities.length;r++)this.game.state.cities[r].player==this.game.player&&t++;if(t<2)$(".city.empty").addClass("hover"),$(".city.empty").off(),$(".city.empty").on("click",(function(){$(".city.empty").removeClass("hover"),$(".city.empty").off();var r=$(this).attr("id");e.game.state.placedCity=r,e.buildCity(e.game.player,r),1==t&&e.addMove("secondcity\t".concat(e.game.player,"\t").concat(r.replace("city_",""))),e.addMove("build_city\t".concat(e.game.player,"\t").concat(r)),e.endTurn()}));else for(var n=this.returnCitySlotsAdjacentToPlayerRoads(this.game.player),a=0;a<n.length;a++){var i="#"+n[a];$(i).addClass("hover"),$(i).css("background-color","yellow"),$(i).off(),$(i).on("click",(function(){$(".hover").css("background-color",""),$(".hover").off(),$(".hover").removeClass("hover");var t=$(this).attr("id");e.buildCity(e.game.player,t),e.addMove("build_city\t".concat(e.game.player,"\t").concat(t)),e.endTurn()}))}}},{key:"buildCity",value:function(e,t){for(var r=this.returnAdjacentCitySlots(t),n=0;n<r.length;n++){var a="#"+r[n];try{$(a).remove()}catch(e){}}var s="#"+t,o="p"+e;if($(s).addClass(o),$(s).removeClass("empty"),$(s).html(this.skin.c1.svg),this.game.player==e){var c,u=i(this.hexgrid.edgesFromVertex(t.replace("city_","")));try{for(u.s();!(c=u.n()).done;){var l=c.value;this.addRoadToGameboard(l.substring(2),l[0])}}catch(e){u.e(e)}finally{u.f()}}for(var d=0;d<this.game.state.cities.length;d++)if(this.game.state.cities[d].slot==t)return;for(var h in this.game.state.players[e-1].towns--,this.game.state.ports){var p,f=i(this.hexgrid.verticesFromEdge(h));try{for(f.s();!(p=f.n()).done;)"city_"+p.value==t&&(this.game.state.players[e-1].ports.push(this.game.state.ports[h]),console.log("Player ".concat(e," has a ").concat(this.game.state.ports[h]," port")))}catch(e){f.e(e)}finally{f.f()}}var m=this.hexgrid.hexesFromVertex(t.replace("city_",""));this.game.state.cities.push({player:e,slot:t,neighbours:m,level:1})}},{key:"playerUpgradeCity",value:function(e){this.updateStatus('<div class="tbd">Click on a '.concat(this.skin.c1.name," to upgrade it to a ").concat(this.skin.c2.name,"...</div>"));var t=this,r=".city.p".concat(e);$(r).addClass("hover"),$(r).off(),$(r).on("click",(function(){$(r).removeClass("hover"),$(r).off();for(var n=$(this).attr("id"),a=0;a<t.game.state.cities.length;a++)if(n==t.game.state.cities[a].slot&&1==t.game.state.cities[a].level)return t.addMove("upgrade_city\t".concat(t.game.player,"\t").concat(n)),void t.endTurn();t.playerUpgradeCity(e)}))}},{key:"playerBuildRoad",value:function(){var e=this;if(this.updateStatus('<div class="tbd">You may build a '.concat(this.skin.r.name,"...</div>")),this.game.state.placedCity){var t,r=i(this.hexgrid.edgesFromVertex(this.game.state.placedCity.replace("city_","")));try{for(r.s();!(t=r.n()).done;){var n=t.value;$("#road_".concat(n)).addClass("new")}}catch(e){r.e(e)}finally{r.f()}$(".road.new").addClass("hover"),$(".road.new").off(),$(".road.new").on("click",(function(){$(".road.new").off(),$(".road.new").removeClass("hover"),$(".road.new").removeClass("new");var t=$(this).attr("id");e.buildRoad(e.game.player,t),e.addMove("build_road\t".concat(e.game.player,"\t").concat(t)),e.endTurn()}))}else $(".road.empty").addClass("hover"),$(".road.empty").off(),$(".road.empty").on("click",(function(){$(".road.empty").off(),$(".road.empty").removeClass("hover");var t=$(this).attr("id");e.buildRoad(e.game.player,t),e.addMove("build_road\t".concat(e.game.player,"\t").concat(t)),e.endTurn()}))}},{key:"buildRoad",value:function(e,t){var r="#"+t,n="p"+e;if(!document.querySelector(r)){var a=t.split("_");this.addRoadToGameboard(a[2]+"_"+a[3],a[1])}if($(r).addClass(n),$(r).removeClass("empty"),this.game.player==e){var s,o=i(this.hexgrid.adjacentEdges(t.replace("road_","")));try{for(o.s();!(s=o.n()).done;){var c=s.value;this.addRoadToGameboard(c.substring(2),c[0])}}catch(e){o.e(e)}finally{o.f()}}for(var u=0;u<this.game.state.roads.length;u++)if(this.game.state.roads[u].slot==t)return;this.game.state.roads.push({player:e,slot:t})}},{key:"playerPlayMove",value:function(){var e=this,t="";console.log("RES: "+JSON.stringify(this.game.state.players[this.game.player-1].resources)),t+='<div class="tbd">',t+="<ul>",e.canPlayerTrade(e.game.player)&&(t+='<li class="option" id="trade">trade</li>'),e.canPlayerBuildRoad(e.game.player)&&(t+='<li class="option" id="0">build '.concat(this.skin.r.name,"</li>")),e.canPlayerBuildTown(e.game.player)&&(t+='<li class="option" id="1">build '.concat(this.skin.c1.name,"</li>")),e.canPlayerBuildCity(e.game.player)&&(t+='<li class="option" id="2">build '.concat(this.skin.c2.name,"</li>")),e.canPlayerBuyCard(e.game.player)&&(t+='<li class="option" id="3">buy card</li>'),e.canPlayerPlayCard(e.game.player)&&(t+='<li class="option" id="playcard">play card</li>'),t+='<li class="option" id="pass">end turn</li>',t+="</ul>",t+="</div>",e.updateStatus(t,1),$(".option").off(),$(".option").on("click",(function(){var t=$(this).attr("id");if(e.updateStatus('<div class="tbd">broadcasting choice</div>'),"pass"===t)return e.addMove("end_turn\t"+e.game.player),void e.endTurn();if("trade"!==t)if("playcard"!==t){"0"===t&&e.addMove("player_build_road\t"+e.game.player),"1"===t&&e.addMove("player_build_city\t"+e.game.player),"2"===t&&e.addMove("player_upgrade_city\t"+e.game.player),"3"===t&&e.addMove("buy_card\t"+e.game.player);var r=parseInt(t);if(r>=0&&r<=3){var n,a=i(e.skin.priceList[parseInt(t)]);try{for(a.s();!(n=a.n()).done;){var s=n.value;e.addMove("spend_resource\t"+e.game.player+"\t"+s)}}catch(e){a.e(e)}finally{a.f()}e.endTurn()}else console.log("Unexpected selection for player move:",t)}else e.playerPlayCard();else e.playerTrade()}))}},{key:"playerPlayCard",value:function(){var e=this,t="";t+='<div class="tbd">Select a card to play: <ul>';for(var r=Math.min(this.game.deck[0].hand.length,this.game.state.players[this.game.player-1].devcards),n=0;n<r;n++){var a=this.game.deck[0].cards[this.game.deck[0].hand[n]].card;!this.game.state.canPlayCard&&this.skin.isActionCard(a)||(t+='<li class="option" id="'.concat(n,'">').concat(a,"</li>"))}t+='<li class="option" id="cancel">Cancel</li>',t+="</ul></div>",this.updateStatus(t,1),$(".option").off(),$(".option").on("click",(function(){var t=$(this).attr("id");if("cancel"!=t){switch(e.game.deck[0].cards[e.game.deck[0].hand[t]].action){case 1:e.playKnight(e.game.player),e.game.state.canPlayCard=!1;break;case 2:e.playYearOfPlenty(e.game.player),e.game.state.canPlayCard=!1;break;case 3:e.playMonopoly(e.game.player),e.game.state.canPlayCard=!1;break;case 4:e.playRoadBuilding(e.game.player),e.game.state.canPlayCard=!1;break;default:e.declareVP(e.game.player)}e.game.deck[0].hand.splice(e.game.deck[0].hand.indexOf(t),1),console.log("Deleted Card from Hand?",e.game.deck[0].hand)}else e.endTurn()}))}},{key:"doesPlayerHaveResources",value:function(e,t){var r,n=this.game.state.players[e-1].resources.slice(),a=i(t);try{for(a.s();!(r=a.n()).done;){var s=r.value,o=n.indexOf(s);if(!(o>=0))return!1;n.splice(o,1)}}catch(e){a.e(e)}finally{a.f()}return!0}},{key:"canPlayerBuildRoad",value:function(e){return this.doesPlayerHaveResources(e,this.skin.priceList[0])}},{key:"canPlayerBuildTown",value:function(e){return 0!=this.game.state.players[e-1].towns&&0!=this.returnCitySlotsAdjacentToPlayerRoads(this.game.player).length&&this.doesPlayerHaveResources(e,this.skin.priceList[1])}},{key:"canPlayerBuildCity",value:function(e){var t,r=!1,n=i(this.game.state.cities);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.player==e&&1==a.level&&(r=!0)}}catch(e){n.e(e)}finally{n.f()}return!!r&&0!=this.game.state.players[e-1].cities&&this.doesPlayerHaveResources(e,this.skin.priceList[2])}},{key:"canPlayerBuyCard",value:function(e){return 0!=this.game.deck[0].crypt.length&&this.doesPlayerHaveResources(e,this.skin.priceList[3])}},{key:"canPlayerPlayCard",value:function(e){if(this.game.player==e){if(this.game.state.players[e-1].devcards>0&&this.game.state.canPlayCard)return!0;if(this.hasVPCards())return!0}return!1}},{key:"hasVPCards",value:function(){for(var e=0;e<this.game.deck[0].hand.length;e++){var t=this.game.deck[0].cards[this.game.deck[0].hand[e]].card;if(!this.skin.isActionCard(t))return!0}return!1}},{key:"canPlayerTrade",value:function(e){return this.game.state.canTrade&&this.game.state.players[e-1].resources.length>0?1:0}},{key:"playKnight",value:function(e){this.addMove("play_knight\t".concat(e)),this.endTurn()}},{key:"playYearOfPlenty",value:function(e){if(this.game.player==e){var t=2,r=this.skin.resourceArray(),n=[];!function a(s){var o,c="<div class='tbd'>Select Resources (Can get ".concat(t,"): <ul>"),u=i(r);try{for(u.s();!(o=u.n()).done;){var l=o.value;c+='<li id="'.concat(l,'" class="option">').concat(l,"</li>")}}catch(e){u.e(e)}finally{u.f()}c+="</ul>",c+="</div>",s.updateStatus(c,1),$(".option").off(),$(".option").on("click",(function(){var r=$(this).attr("id");if(n.push(r),--t<=0)return s.addMove("year_of_plenty\t".concat(e,"\t").concat(JSON.stringify(n))),s.endTurn(),0;a(s)}))}(this)}}},{key:"playMonopoly",value:function(e){if(this.game.player==e){var t,r=this,n="<div class='tbd'>Select Desired Resource: <ul>",a=i(this.skin.resourceArray());try{for(a.s();!(t=a.n()).done;){var s=t.value;n+='<li id="'.concat(s,'" class="option">').concat(s,"</li>")}}catch(e){a.e(e)}finally{a.f()}n+="</ul>",n+="</div>",r.updateStatus(n,1),$(".option").off(),$(".option").on("click",(function(){var t=$(this).attr("id");return r.addMove("monopoly\t".concat(e,"\t").concat(t)),r.endTurn(),0}))}}},{key:"playRoadBuilding",value:function(e){this.addMove("player_build_road\t"+e),this.addMove("player_build_road\t"+e),this.addMove("road_building\t".concat(e)),this.endTurn()}},{key:"declareVP",value:function(e){this.addMove("vp\t".concat(e)),this.endTurn()}},{key:"checkLargestArmy",value:function(e){var t=!1;this.game.state.largestArmy.player>0?this.game.state.largestArmy.player!=e?this.game.state.players[e-1].knights>this.game.state.largestArmy.size&&(this.game.state.largestArmy.player=e,this.game.state.largestArmy.size=this.game.state.players[e-1].knights,t=!0):this.game.state.largestArmy.size=this.game.state.players[e-1].knights:this.game.state.players[e-1].knights>=3&&(this.game.state.largestArmy.player=e,this.game.state.largestArmy.size=this.game.state.players[e-1].knights,t=!0),t&&this.updateScore()}},{key:"isCityAt",value:function(e){e.includes("city_")||(e="city_"+e);var t,r=i(this.game.state.cities);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.slot==e)return n.player}}catch(e){r.e(e)}finally{r.f()}return 0}},{key:"checkLongestRoad",value:function(e){var t,r=function t(r,n,s){var o=n;if(0==s.length)return o;var c,u,l=[];1===n.length?l=r.hexgrid.verticesFromEdge(n[0]):l.push(r.hexgrid.directedEdge(n[n.length-2],n[n.length-1]));var d,h=i(l);try{for(h.s();!(d=h.n()).done;){var p=d.value;if((u=r.isCityAt(p))==e||0==u){var f,m=i(r.hexgrid.edgesFromVertex(p));try{for(m.s();!(f=m.n()).done;){var g=f.value;if(s.includes(g)){var y=n.concat(g),b=a(s);b.splice(b.indexOf(g),1),(c=t(r,y,b)).length>o.length&&(o=c)}}}catch(e){m.e(e)}finally{m.f()}}}}catch(e){h.e(e)}finally{h.f()}return o},n=[],s=i(this.game.state.roads);try{for(s.s();!(t=s.n()).done;){var o=t.value;o.player==e&&n.push(o.slot.replace("road_",""))}}catch(e){s.e(e)}finally{s.f()}for(var c=[],u=0;u<n.length;u++){var l=[].concat(n);l.splice(u,1);var d=r(this,Array(n[u]),l);d.length>c.length&&(c=d)}this.game.state.longestRoad.player>0?c.length>this.game.state.longestRoad.size&&(this.game.state.longestRoad.player!=e?(this.highlightRoad(e,c,"claimed the ".concat(this.skin.longest.name," from Player ").concat(this.game.state.longestRoad.player," with ").concat(c.length," segments!")),this.game.state.longestRoad.player=e,this.game.state.longestRoad.size=c.length):(this.game.state.longestRoad.size=c.length,this.updateLog("Player ".concat(e," extended the ").concat(this.skin.longest.name," to ").concat(c.length," segments.")))):c>=5&&(this.highlightRoad(e,c,"claimed the ".concat(this.skin.longest.name," with ").concat(c.length," segments.")),this.game.state.longestRoad.player=e,this.game.state.longestRoad.size=c.length)}},{key:"highlightRoad",value:function(e,t,r){this.updateLog("Player ".concat(e," ").concat(r));var n,a=i(t);try{for(a.s();!(n=a.n()).done;){var s="#road_"+n.value,o=document.querySelector(s);o?o.classList.add("roadhighlight"):console.log("Null selector?",s)}}catch(e){a.e(e)}finally{a.f()}$(".roadhighlight").css("background","#FFF").delay(500).queue((function(){$(this).removeAttr("style").dequeue()})).delay(500).queue((function(){$(this).css("background","#FFF").dequeue()})).delay(500).queue((function(){$(this).removeAttr("style").dequeue()})).delay(500).queue((function(){$(this).css("background","#FFF").dequeue()})).delay(500).queue((function(){$(this).removeAttr("style").dequeue()})).delay(500).queue((function(){$(this).css("background","#FFF").dequeue()})).delay(500).queue((function(){$(this).removeAttr("style").removeClass("roadhighlight").dequeue()}))}},{key:"countResource",value:function(e,t){var r,n=0,a=i(this.game.state.players[e-1].resources);try{for(a.s();!(r=a.n()).done;)r.value==t&&n++}catch(e){a.e(e)}finally{a.f()}return n}},{key:"analyzePorts",value:function(){var e,t=this.skin.resourceArray(),r={},n=4,a=i(this.game.state.players[this.game.player-1].ports);try{for(a.s();!(e=a.n()).done;){var s=e.value;"3:1"==s&&(console.log(s),n=3)}}catch(e){a.e(e)}finally{a.f()}var o,c=i(t);try{for(c.s();!(o=c.n()).done;)r[o.value]=n}catch(e){c.e(e)}finally{c.f()}var u,l=i(this.game.state.players[this.game.player-1].ports);try{for(l.s();!(u=l.n()).done;){var d=u.value;d.includes("2:1")&&(r[d.replace("2:1 ","")]=2)}}catch(e){l.e(e)}finally{l.f()}return r}},{key:"bankTrade",value:function(){var e,t=this,r={},n=this.analyzePorts(),a=i(this.skin.resourceArray());try{for(a.s();!(e=a.n()).done;){var s=e.value,o=t.countResource(t.game.player,s);o>=n[s]&&(r[s]=o)}}catch(e){a.e(e)}finally{a.f()}if(Object.keys(r).length>0){var c="<div class='tbd'>Select Resource to Trade: <ul>";for(var u in r)c+='<li id="'.concat(u,'" class="option">').concat(u," (").concat(n[u],"/").concat(r[u],")</li>");c+='<li id="cancel" class="option">cancel trade</li>',c+="</ul>",c+="</div>",t.updateStatus(c,1),$(".option").off(),$(".option").on("click",(function(){var e=$(this).attr("id");if("cancel"!=e){c="<div class='tbd'>Select Desired Resource: <ul>";var r,a=i(t.skin.resourceArray());try{for(a.s();!(r=a.n()).done;){var s=r.value;c+='<li id="'.concat(s,'" class="option">').concat(s,"</li>")}}catch(e){a.e(e)}finally{a.f()}c+='<li id="cancel" class="option">cancel trade</li>',c+="</ul>",c+="</div>",t.updateStatus(c,1),$(".option").off(),$(".option").on("click",(function(){var r=$(this).attr("id");if("cancel"!=r){if(r==e)return c='<div class="tbd">Are you sure you want to discard '.concat(n[e]-1," ").concat(e,'s??\n                          <ul><li id="yes" class="option">Yes, Do it!</li>\n                          <li id="no" class="option">No way!</li></ul></div>'),t.updateStatus(c,1),$(".option").off(),void $(".option").on("click",(function(){return"yes"==$(this).attr("id")?(t.addMove("bank\t".concat(t.game.player,"\t").concat(n[e],"\t").concat(e,"\t1\t").concat(r)),void t.endTurn()):void t.endTurn()}));t.addMove("bank\t".concat(t.game.player,"\t").concat(n[e],"\t").concat(e,"\t1\t").concat(r)),t.endTurn()}else t.endTurn()}))}else t.endTurn()}))}else this.playerAcknowledgeNotice("ACKNOWLEDGE\t<div class='tbd'>You don't have enough resources to trade with the bank</div>",(function(){t.endTurn()}))}},{key:"playerTrade",value:function(){var e=this,t='<div class="tbd">Pick Counterparty:';t+="<ul>",t+='<li class="option" id="bank">Bank</li>';for(var r=0;r<this.game.players.length;r++)r+1!=this.game.player&&(t+='<li class="option" id="'+(r+1)+'">Player '+(r+1)+"</li>");t+='<li class="option" id="cancel">Cancel</li>',t+="</ul>",t+="</div>",this.updateStatus(t,1),$(".option").off(),$(".option").on("click",(function(){var t=$(this).attr("id");switch(t){case"bank":e.bankTrade();break;case"open":e.showTradeOverlay();break;case"cancel":e.endTurn();break;default:e.privateTrade(t)}}))}},{key:"privateTrade",value:function(e){var t,r={},n={},a=this.skin.resourceObject(),s=this.skin.resourceObject(),o=i(this.skin.resourceArray());try{for(o.s();!(t=o.n()).done;){var c=t.value,u=this.countResource(this.game.player,c);u>0&&(r[c]=u)}}catch(e){o.e(e)}finally{o.f()}var l,d=i(this.skin.resourceArray());try{for(d.s();!(l=d.n()).done;){var h=l.value,p=this.countResource(e,h);p>0&&(n[h]=p)}}catch(e){d.e(e)}finally{d.f()}var f=function e(t,r){var i="<div class='sf-readable'>Select Resources to Ask For: </div><ul>";for(var o in n)i+='<li id="'.concat(o,'" class="option">').concat(o," (").concat(s[o],"/").concat(n[o],")</li>");i+='<li id="confirm" class="option">confirm ask</li>',i+='<li id="cancel" class="option">cancel trade</li>',i+="</ul>",t.updateStatus(i,1),$(".option").off(),$(".option").on("click",(function(){var i=$(this).attr("id");if("confirm"==i)return t.updateStatus("<div class='tbd'>Sending Trade Offer</div>"),t.addMove("offer\t"+t.game.player+"\t"+r+"\t"+JSON.stringify(a)+"\t"+JSON.stringify(s)),void t.endTurn();"cancel"!=i?(s[i]<n[i]&&s[i]++,e(t,r)):t.endTurn()}))};!function e(t,n){var i="<div class='tbd'>Select Resources to Offer: <ul>";for(var s in r)i+='<li id="'.concat(s,'" class="option">').concat(s," (").concat(a[s],"/").concat(r[s],")</li>");i+='<li id="confirm" class="option">confirm offer</li>',i+='<li id="cancel" class="option">cancel trade</li>',i+="</ul>",i+="</div>",t.updateStatus(i,1),$(".option").off(),$(".option").on("click",(function(){var i=$(this).attr("id");"confirm"!=i?"cancel"!=i?(a[i]<r[i]&&a[i]++,e(t,n)):t.endTurn():f(t,n)}))}(this,e)}},{key:"showTradeOverlay",value:function(){var e,t={},r=this.skin.resourceArray(),n=this.skin.resourceObject(),a=this.skin.resourceObject(),s=i(r);try{for(s.s();!(e=s.n()).done;){var o=e.value,c=this.countResource(this.game.player,o);c>0&&(t[o]=c)}}catch(e){s.e(e)}finally{s.f()}!function e(t,r,n,a,i){for(var s='<div class="trade_overlay" id="trade_overlay">\n            <div style="width:100%"><div class="trade_overlay_title">Broadcast Trade Offers</div></div>\n            <div class="trade_overlay_offers">\n            <h2>You Want</h2>',o=0;o<r.length;o++)s+='<div id="want_'.concat(o,'" class="trade_button select">').concat(r[o],": ").concat(i[r[o]]>0?i[r[o]]:"","</div>");s+='</div><div class="trade_overlay_offers"><h2>You Offer</h2>';for(var c=0;c<r.length;c++)n[r[c]]?s+='<div id="offer_'.concat(c,'" class="trade_button select">').concat(r[c],": ").concat(a[r[c]]>0?a[r[c]]:""," (").concat(n[r[c]],")</div>"):s+='<div id="offer_'.concat(c,'" class="trade_button noselect">').concat(r[c],"</div>");s+='</div><div class="trade_overlay_buttons">\n            <div class="trade_overlay_button button trade_overlay_reset_button">Reset</div>\n            <div class="trade_overlay_button button trade_overlay_broadcast_button">Broadcast Offer</div>\n          </div></div>',t.overlay.showOverlay(t.app,t.this,s),$(".trade_button.select").on("click",(function(){var s=$(this).attr("id").split("_"),o=parseInt(s[1]);"want"==s[0]?i[r[o]]++:a[r[o]]++,e(t,r,n,a,i)})),$(".trade_overlay_reset_button").on("click",(function(){e(t,r,n,t.skin.resourceObject(),t.skin.resourceObject())})),$(".trade_overlay_broadcast_button").on("click",(function(){t.addMove("advertisement\t".concat(t.game.player,"\t").concat(JSON.stringify(a),"\t").concat(JSON.stringify(i))),t.endTurn(),t.overlay.hideOverlay()}))}(this,r,t,n,a)}},{key:"playerBuild",value:function(){}},{key:"displayDice",value:function(){try{var e=document.querySelector("#diceroll");if(e){var t,r="",n=i(this.game.state.lastroll);try{for(n.s();!(t=n.n()).done;){var a=t.value;switch(r+='<div class="die">',a){case 1:r+='<svg viewbox="0 0 200 200"><rect fill="red" width="200" height="200" rx="25"/>\n                    <circle fill="white" cx="100" cy="100" r="25"/></svg>';break;case 2:r+='<svg viewbox="0 0 200 200"><rect fill="red" width="200" height="200" rx="25"/>\n                    <circle fill="white" cx="66" cy="66" r="25"/>\n                    <circle fill="white" cx="133" cy="133" r="25"/></svg>';break;case 3:r+='<svg viewbox="0 0 200 200"><rect fill="red" width="200" height="200" rx="25"/>\n                    <circle fill="white" cx="50" cy="50" r="25"/>\n                    <circle fill="white" cx="100" cy="100" r="25"/>\n                    <circle fill="white" cx="150" cy="150" r="25"/></svg>';break;case 4:r+='<svg viewbox="0 0 200 200"><rect fill="red" width="200" height="200" rx="25"/>\n                    <circle fill="white" cx="55" cy="55" r="25"/>\n                    <circle fill="white" cx="55" cy="145" r="25"/>\n                    <circle fill="white" cx="145" cy="55" r="25"/>\n                    <circle fill="white" cx="145" cy="145" r="25"/></svg>';break;case 5:r+='<svg viewbox="0 0 200 200"><rect fill="red" width="200" height="200" rx="25"/>\n                    <circle fill="white" cx="50" cy="50" r="25"/>\n                    <circle fill="white" cx="50" cy="150" r="25"/>\n                    <circle fill="white" cx="100" cy="100" r="25"/>\n                    <circle fill="white" cx="150" cy="50" r="25"/>\n                    <circle fill="white" cx="150" cy="150" r="25"/></svg>';break;case 6:r+='<svg viewbox="0 0 200 200"><rect fill="red" width="200" height="200" rx="25"/>\n                  <circle fill="white" cx="55" cy="40" r="25"/>\n                  <circle fill="white" cx="55" cy="100" r="25"/>\n                  <circle fill="white" cx="55" cy="160" r="25"/>\n                  <circle fill="white" cx="145" cy="40" r="25"/>\n                  <circle fill="white" cx="145" cy="100" r="25"/>\n                  <circle fill="white" cx="145" cy="160" r="25"/></svg>';break;default:r+='<svg viewbox="0 0 200 200"><rect fill="red" width="200" height="200" rx="25"/></svg>'}r+="</div>"}}catch(e){n.e(e)}finally{n.f()}e.innerHTML=r}}catch(e){}}},{key:"animateDiceRoll",value:function(e){console.log("Dice Animated: "+e),$(".sv"+e+":not(.bandit)").css("color","#000").css("background","#FFF6").delay(800).queue((function(){$(this).css("color","#FFF").css("background","#0004").dequeue()})).delay(800).queue((function(){$(this).css("color","#000").css("background","#FFF6").dequeue()})).delay(800).queue((function(){$(this).css("color","#FFF").css("background","#0004").dequeue()})).delay(800).queue((function(){$(this).css("color","#000").css("background","#FFF6").dequeue()})).delay(800).queue((function(){$(this).css("color","#FFF").css("background","#0004").dequeue()})).delay(800).queue((function(){$(this).removeAttr("style").dequeue()}))}},{key:"updateStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{if(0==t?this.playerbox.showInfo():this.playerbox.hideInfo(),1==this.lock_interface)return;if(this.game.status=e,1==this.browser_active){var r=document.querySelector(".status");this.game.players.includes(this.app.wallet.returnPublicKey())&&(r.innerHTML=e)}}catch(e){console.log("ERR: "+e)}}}])&&c(t.prototype,r),n&&c(t,n),o}(f));e.exports=y},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var a=l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r(12);var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(p,e);var t,r,n,u,d,h=c(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=h.call(this,e)).name="Solitrio",t.description="Once you've started playing Solitrio, how can you go back to old-fashioned Solitaire? This one-player card game is the perfect way to pass a flight from Hong Kong to pretty much anywhere. Arrange the cards on the table from 2-10 ordered by suite. Harder than it looks.",t.categories="Arcade Games Entertainment",t.maxPlayers=1,t.minPlayers=1,t.type="Solitaire Cardgame",t.status="Beta",t.description="Solitaire card game made famous by the good folks at Cathay Pacific Information Technology Services.",t.categories="Cardgame Game Solitaire",t.boardgameWidth=5100,t}return t=p,(r=[{key:"toggleIntro",value:function(){this.overlay.showOverlay(this.app,this,'\n\n  <div class="intro">\n  <h1>Instrutions</h1>\n  <ul>\n  <li>Cards (2-10 in each suit) are randomly arranged in four rows of ten with four blank spaces.</li>\n  <li>The goal is to arrange the cards in sequential order with one suit per row.</li>\n\t<li>The 2 of any suit may be placed in the leftmost space of any row (if empty).</li>\n  <li>All other cards must match the suit of its left neighbor and be the next in sequence, e.g. the 8&spades; may be placed after (to the right of) the 7&spades;.</li>\n  <li>If you get stuck, you may reshuffle the board. Reshuffling will not move a 2 (or any connected sequence of cards) from its target position.</li>\n\t<li>You only have two chances to reshuffle the board and you lose if you cannot order the cards.</li>\n\t</ul>\n  </div>\n   ')}},{key:"initializeGame",value:function(e){this.updateStatus("loading game..."),this.loadGame(e),this.saveGame(),this.loadGame(this.game.id),""!=this.game.status&&this.updateStatus(this.game.status),""==this.game.dice&&this.initializeDice(),this.updateStatus("Generating the Game"),this.game.queue.push("round"),this.game.queue.push("DEAL\t1\t1\t40"),this.game.queue.push("SHUFFLE\t1\t1"),this.game.queue.push("DECK\t1\t"+JSON.stringify(this.returnDeck())),this.game.board={},this.game.state=this.returnState(),this.saveGame(e),$(".slot").css("min-height",$(".card").css("min-height"))}},{key:"initializeHTML",value:function(e){var t=this;s(l(p.prototype),"initializeHTML",this).call(this,e),this.app.modules.respondTo("chat-manager").forEach((function(r){r.respondTo("chat-manager").render(e,t),r.respondTo("chat-manager").attachEvents(e,t)})),this.menu.addMenuOption({text:"Game",id:"game-game",class:"game-game",callback:function(e,t){t.menu.showSubMenu("game-game")}}),this.menu.addSubMenuOption("game-game",{text:"Start New Game",id:"game-new",class:"game-new",callback:function(e,t){t.menu.hideSubMenus()}}),this.menu.addSubMenuOption("game-game",{text:"How to Play",id:"game-intro",class:"game-intro",callback:function(e,t){t.menu.hideSubMenus(),t.toggleIntro()}}),this.menu.addSubMenuOption("game-game",{text:"Exit",id:"game-exit",class:"game-exit",callback:function(e,t){window.location.href="/arcade"}}),this.menu.addMenuIcon({text:'<i class="fa fa-window-maximize" aria-hidden="true"></i>',id:"game-menu-fullscreen",callback:function(e,t){t.menu.hideSubMenus(),e.browser.requestFullscreen()}});for(var r=0;r<this.app.modules.mods.length;r++)"chat"===this.app.modules.mods[r].slug&&function(){var e=t.app.modules.mods[r];t.menu.addMenuOption({text:"Chat",id:"game-chat",class:"game-chat",callback:function(e,t){t.menu.showSubMenu("game-chat")}}),t.menu.addSubMenuOption("game-chat",{text:"Community",id:"game-chat-community",class:"game-chat-community",callback:function(t,r){r.menu.hideSubMenus(),e.mute_community_chat=0,e.sendEvent("chat-render-request",{}),e.openChatBox()}})}();this.menu.render(e,this),this.menu.attachEvents(e,this)}},{key:"requestInterface",value:function(e){return"arcade-sidebar"==e?{title:this.name}:null}},{key:"returnState",value:function(){var e={recycles_remaining:2};return e}},{key:"playerTurn",value:function(){this.displayBoard(),this.updateStatus("Play Solitrio like your life Depends on it!")}},{key:"attachEventsToBoard",value:function(){var e=this,t="";$(".slot").off(),$(".slot").on("click",(function(){var r=$(this).attr("id");if("E"!==r[0]){if(t===r)return e.untoggleCard(r),void(t="");if(""==t){if("E"===e.game.board[r].name[0])return;return t=r,void e.toggleCard(r)}if("E"!==e.game.board[r].name[0])return e.untoggleCard(t),e.toggleCard(r),void(t=r);if(e.canCardPlaceInSlot(t,r)){var n=JSON.stringify(e.game.board[t]),a=JSON.stringify(e.game.board[r]);return e.game.board[t]=JSON.parse(a),e.game.board[r]=JSON.parse(n),e.untoggleCard(r),e.untoggleCard(t),$("#"+t).html(e.returnCardImageHTML(e.game.board[t].name)),$("#"+r).html(e.returnCardImageHTML(e.game.board[r].name)),t="",void(e.scanBoard(!1)?(salert("Congratulations! You win!"),console.log("Game Over -- Winner!")):e.hasAvailableMoves()?console.log("Wait for next Move"):0==e.game.state.recycles_remaining?(salert("No More Available Moves, you lose!"),console.log("Game Over -- Loser!")):console.log("Need to shuffle"))}var i,s=e.getPredecessor(r);if(s){var o=parseInt(e.returnCardNumber(s))+1;i=o<11?"Hint: Try a "+o+" of "+e.cardSuitHTML(e.returnCardSuite(s)):"Unfortunately, no card can go there"}else i="Hint: Try a 2 of any suit";return salert("<p>Sorry, "+e.cardSuitHTML(e.returnCardSuite(t))+e.returnCardNumber(t)+" cannot go there... </p><p>"+i+"</p>"),e.untoggleCard(t),void(t="")}}))}},{key:"canCardPlaceInSlot",value:function(e,t){var r=this.returnCardNumber(e),n=this.returnCardSuite(e);console.log(e+"["+n+r+"] --\x3e "+t);var a=this.getPredecessor(t);if(a){var i=parseInt(this.returnCardNumber(a)),s=this.returnCardSuite(a);if(r==i+1&&n===s)return!0}else if("2"===r)return!0;return!1}},{key:"getPredecessor",value:function(e){var t=e.split("_slot");return"1"!==t[1]&&t[0]+"_slot"+(t[1]-1)}},{key:"hasAvailableMoves",value:function(){for(var e=1;e<=4;e++)for(var t="none",r=1;r<=10;r++){var n="row".concat(e,"_slot").concat(r);if("E"===this.returnCardSuite(n)){if("10"!=t)return!0;t="10"}else t=this.returnCardNumber(n)}return!1}},{key:"toggleCard",value:function(e){e="#"+e,$(e).css("opacity","0.75")}},{key:"untoggleCard",value:function(e){e="#"+e,$(e).css("opacity","1.0")}},{key:"hideCard",value:function(e){e="#"+e,$(e).css("opacity","0.0")}},{key:"handleGameLoop",value:function(){if(1==this.game.over)return this.updateStatus("Game Over: Player "+winner.toUpperCase()+" wins"),0;if(this.displayBoard(),this.game.queue.length>0){var e=this.game.queue.length-1,t=this.game.queue[e].split("\t"),r=1;if("turn"===t[0]&&(this.game.queue.splice(e,1),parseInt(t[1])==this.game.player&&this.playerTurn(),r=0),"round"===t[0]){this.displayUserInterface();for(var n=0,a=1;a<=4;a++)for(var i=1;i<=10;i++){var s="row".concat(a,"_slot").concat(i);this.game.board[s]=this.game.deck[0].cards[this.game.deck[0].hand[n++]]}this.displayBoard(),r=0}if("play"===t[0]&&this.game.queue.splice(e,1),"call"===t[0]&&this.game.queue.splice(e,1),"fold"===t[0]&&this.game.queue.splice(e,1),"raise"===t[0]&&this.game.queue.splice(e,1),0==r)return console.log("NOT CONTINUING"),0}return 1}},{key:"displayBoard",value:(u=regeneratorRuntime.mark((function e(){var t,r,n,a,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:0,0!=this.browser_active){e.next=3;break}return e.abrupt("return");case 3:e.prev=3,r=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.t0=regeneratorRuntime.keys(this.game.board);case 6:if((e.t1=e.t0()).done){e.next=15;break}return n=e.t1.value,e.next=10,r(t);case 10:a="#"+n,$(a).html(this.returnCardImageHTML(this.game.board[n].name)),this.untoggleCard(n),e.next=6;break;case 15:e.next=19;break;case 17:e.prev=17,e.t2=e.catch(3);case 19:this.attachEventsToBoard();case 20:case"end":return e.stop()}}),e,this,[[3,17]])})),d=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=u.apply(e,t);function s(e){a(i,r,n,s,o,"next",e)}function o(e){a(i,r,n,s,o,"throw",e)}s(void 0)}))},function(){return d.apply(this,arguments)})},{key:"returnCardImageHTML",value:function(e){return"E"==e[0]?"":'<img src="/solitrio/img/cards/'+e+'.png" />'}},{key:"returnDeck",value:function(){for(var e=["S","C","H","D","E"],t={},r=0;r<4;r++)for(var n=2;n<=10;n++)t[(10*r+n).toString()]={name:e[r]+n};for(var a=1;a<=4;a++)t[(40+a).toString()]={name:e[4]+a};return t}},{key:"endTurn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.updateStatus("Waiting for information from peers...."),$(".menu_option").off();var t={};t.target=this.returnNextPlayer(this.game.player),0!=e&&(t.target=e),this.game.turn=this.moves,this.moves=[],this.sendMessage("game",t)}},{key:"displayUserInterface",value:function(){var e=this,t="Order cards by suit from 2 to 10. You may randomize the unarranged cards ";2==this.game.state.recycles_remaining&&(t+="two more times.",$(".chances").text("two chances")),1==this.game.state.recycles_remaining&&(t+="one more time.",$(".chances").text("one chance")),0==this.game.state.recycles_remaining&&(t+="no more times.",$(".chances").text("no chances")),this.game.state.recycles_remaining>0&&(t+=' <p></p><div id="recycles_remaining">click here to cycle the board</div>'),this.updateStatus(t),$(".logobox").off(),$(".logobox").on("click",(function(){0!=e.game.state.recycles_remaining?(e.scanBoard(!0),e.game.state.recycles_remaining--,e.displayUserInterface()):salert("Sorry! No more chances!")})),$("#recycles_remaining").off(),$("#recycles_remaining").on("click",(function(){0!=e.game.state.recycles_remaining?(e.scanBoard(!0),e.game.state.recycles_remaining--,e.displayUserInterface()):salert("Sorry! No more chances!")}))}},{key:"scanBoard",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=new Array(4);t.fill(0);for(var r=[],n=0;n<4;n++)for(var a="none",i=1;i<11;i++){var s="row"+(n+1)+"_slot"+i,o=this.returnCardSuite(s),c=this.returnCardNumber(s);if(1==i&&2==c&&(a=o),a!==o||c!=i+1)break;t[n]=i,e&&this.toggleCard(s)}for(var u=0;u<4;u++)for(var l=t[u]+1;l<11;l++){var d="row".concat(u+1,"_slot").concat(l);e&&this.hideCard(d),r.push(this.game.board[d])}var h=0===r.length;if(e){r.sort((function(){return Math.random()-.5}));for(var p=0;p<4;p++)for(var f=t[p]+1;f<11;f++){var m="row".concat(p+1,"_slot").concat(f);this.game.board[m]=r.shift()}this.saveGame(this.game.id),this.displayBoard(100)}return h}},{key:"returnCardSuite",value:function(e){return this.game.board[e].name[0]}},{key:"cardSuitHTML",value:function(e){switch(e){case"D":return"&diams;";case"H":return"&hearts;";case"S":return"&spades;";case"C":return"&clubs;";default:return""}}},{key:"returnCardNumber",value:function(e){var t=this.game.board[e].name;return"E"===t[0]?11:t.substring(1)}},{key:"addMove",value:function(e){this.moves.push(e)}}])&&i(t.prototype,r),n&&i(t,n),p}(r(70));e.exports=d},function(e,t,r){var n=r(361);e.exports=WebsiteData={render:function(e){document.querySelector(".netstats")&&(document.querySelector(".netstats").innerHTML=n());var t=new Date(e.blockchain.last_ts),r=t.getHours()+":"+("0"+t.getMinutes()).substr(-2)+":"+("0"+t.getSeconds()).substr(-2),a=e.blockchain.last_bid;document.querySelector(".block-number")&&(document.querySelector(".block-number").innerHTML=a),document.querySelector(".block-time")&&(document.querySelector(".block-time").innerHTML=r)}}},function(e,t,r){(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,c,"next",e)}function c(e){a(s,n,i,o,c,"throw",e)}o(void 0)}))}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var a=d(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return u(this,r)}}function u(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=r(53),p=(r(12),r(27)),f=r(267),m=r(127),g=r(54),y=r(366),b=r(367),v=r(169),_=r(365),w=r(368),x=r(364),k=r(362),S=r(363),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(p,e);var r,n,a,d=c(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=d.call(this,e)).app=e,t.name="Website",t.description="Module that creates a root website on a Saito node.",t.categories="Utilities Communications",t.header=null,t.overlay=new g(e,l(t)),u(t,l(t))}return r=p,(n=[{key:"initializeHompage",value:function(e){var t=this;document.querySelectorAll("#weixin-link").forEach((function(r){r.onclick=function(r){t.overlay.showOverlay(e,t,'<div id=\'weixinqr-overlay\'><img src="/img/wechat/weixin.png" style="display: block;">\n        </div>',(function(){}))}})),document.querySelectorAll("#whitepaperLink").forEach((function(t){t.onclick=function(t){e.browser.logMatomoEvent("Navigation","HomepageNavigationClick","HomepageWhitepaperLink")}})),document.querySelectorAll("#litepaperLink").forEach((function(t){t.onclick=function(t){e.browser.logMatomoEvent("Navigation","HomepageNavigationClick","HomepageLitepaperLink")}})),document.querySelectorAll("#arcadeLink").forEach((function(t){t.onclick=function(t){e.browser.logMatomoEvent("Navigation","HomepageNavigationClick","HomepageArcadeLink")}})),document.querySelectorAll("#developersLink").forEach((function(t){t.onclick=function(t){e.browser.logMatomoEvent("Navigation","HomepageNavigationClick","HomepageDevelopersLink")}})),document.querySelectorAll(".left.desktop .logo").forEach((function(t){t.onclick=function(t){e.browser.logMatomoEvent("Navigation","HomepageNavigationClick","HeaderLogoHomepageLink")}})),document.querySelectorAll(".website-newsletter-subscribe").forEach((function(r){r.onclick=function(r){t.mre=new f(e),t.mre.render(t.app,t,f.MODES.NEWSLETTER),t.mre.attachEvents(t.app,t)}})),this.initializePrivateSaleOverlay()}},{key:"initializeTokenPage",value:function(e){document.title="SAITO ERC-20 Token Contract",e.browser.addElementToElement('<link rel="stylesheet" href="/subpagestyle/token/token.style.css" />',document.head),document.querySelector("#content").innerHTML=y(),document.querySelectorAll("#burnlink").forEach((function(e){e.onclick=function(){var e=i(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,sconfirm("WARNING: At this time the Saito Network is under active development and is subject to be reset at the team's discretion. Your Native SAITO balance will be reset in such a case.");case 3:if(!(r=e.sent)){e.next=8;break}return e.next=7,sconfirm("WARNING: It is strongly recommended that you do not burn your ERC20 SAITO at this time. If you are in need of tokens on the current SAITO network, please consider reaching out to us before proceeding to burn your ERC20 SAITO.");case 7:r=e.sent;case 8:if(!r){e.next=12;break}return e.next=11,sconfirm("Are you absolutely sure you want to know how to burn your ERC20 SAITO?");case 11:r=e.sent;case 12:r&&(window.location=document.querySelector("#burnlink").href);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))}},{key:"initializeTokenBurnPage",value:function(e){document.title="Burn SAITO Token",document.querySelector("#content").innerHTML=b()}},{key:"initializePoolsPage",value:function(e){document.title="IDO Pools",e.browser.addElementToElement('<link rel="stylesheet" href="/subpagestyle/token/pools.style.css" />',document.head),document.querySelector("#content").innerHTML=_()}},{key:"initializeWeb3Page",value:function(e){document.title="Web3.0",e.browser.addElementToElement('<link rel="stylesheet" href="/subpagestyle/web3/style.css" />',document.head),document.querySelector("#content").innerHTML=w(e)}},{key:"initializeTeamPage",value:function(e){document.title="Our Team",e.browser.addElementToElement('<link rel="stylesheet" href="/subpagestyle/team/style.css" />',document.head),document.querySelector("#content").innerHTML=x()}},{key:"initializeFAQPage",value:function(e){document.title="Frequently Asked Questions",e.browser.addElementToElement('<link rel="stylesheet" href="/subpagestyle/faq/style.css" />',document.head),document.querySelector("#content").innerHTML=k()}},{key:"initializeHowSaitoWorksPage",value:function(e){document.title="Welcome to the Saito Project",e.browser.addElementToElement('<link rel="stylesheet" href="/subpagestyle/howSaitoWorks/style.css" />',document.head),document.querySelector("#content").innerHTML=S()}},{key:"initializeHTML",value:function(e){null==this.header&&(this.header=new m(e,this)),this.header.render(e,this),this.header.attachEvents(e,this),document.querySelector(".header-icon-links")&&e.browser.prependElementToDom(document.querySelector("#header-icon-links-hidden").innerHTML,document.querySelector(".header-icon-links")),document.querySelector(".header-dropdown")&&e.browser.prependElementToDom(document.querySelector("#header-dropdown-hidden").innerHTML,document.querySelector(".header-dropdown")),document.location.pathname.startsWith("/website/tokenburn")?this.initializeTokenBurnPage(e):document.location.pathname.startsWith("/website/token")?this.initializeTokenPage(e):document.location.pathname.startsWith("/website/pools")||document.location.pathname.startsWith("/website/whitelist")?this.initializePoolsPage(e):document.location.pathname.startsWith("/website/web3")?this.initializeWeb3Page(e):document.location.pathname.startsWith("/website/team")?this.initializeTeamPage(e):document.location.pathname.startsWith("/website/faq")?this.initializeFAQPage(e):document.location.pathname.startsWith("/website/how-saito-works")?this.initializeHowSaitoWorksPage(e):this.initializeHompage(e),v.render(this.app,this),v.attachEvents(this.app,this)}},{key:"initialize",value:function(e){e.BROWSER&&this.initializeExpandSideBar()}},{key:"doPrivateSaleOverlay",value:function(){this.app.browser.parseHash(window.location.hash).private_sale&&(this.mre=new f(this.app),this.mre.render(this.app,this,f.MODES.PRIVATESALE),this.mre.attachEvents(this.app,this),window.location.hash=this.app.browser.removeFromHash(window.location.hash,"private_sale"))}},{key:"doExpandSideBar",value:function(){this.app.browser.parseHash(window.location.hash).side_bar&&(document.querySelector("#header-mini-wallet").click(),document.querySelector("#header-token-select").classList.add("pulsey"),window.location.hash=this.app.browser.removeFromHash(window.location.hash,"side_bar"))}},{key:"initializeExpandSideBar",value:function(){var e=this;window.addEventListener("hashchange",(function(){e.doExpandSideBar()}));var t=window.location.hash;window.location.hash="#",window.location.hash=t}},{key:"initializePrivateSaleOverlay",value:function(){var e=this;window.addEventListener("hashchange",(function(){e.doPrivateSaleOverlay()}));var t=window.location.hash;window.location.hash="#",window.location.hash=t}},{key:"triggerPrivateSaleOverlay",value:function(){window.location.hash=this.app.browser.modifyHash(window.location.hash,{private_sale:"1"})}},{key:"respondTo",value:function(e){if("private_sale_overlay"==e){var t={};return t.initializePrivateSaleOverlay=this.initializePrivateSaleOverlay.bind(this),t.triggerPrivateSaleOverlay=this.triggerPrivateSaleOverlay.bind(this),t}}},{key:"webServer",value:function(e,r,n){r.use("/",n.static("".concat(t,"/../../mods/website/web"))),r.use("/website/",n.static("".concat(t,"/../../mods/website/web"))),r.get("/l/:campaign/:channel/:subchannel",function(){var e=i(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.sendFile(h.join(t+"/web/marketing/marketing.html"));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),r.get("/l/matomohelpers.js",function(){var e=i(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.sendFile(h.join(t+"../../../mods/matomo/matomoHelpers.js"));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),r.get("/l/maketrackinglink",function(){var e=i(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.sendFile(h.join(t+"/web/marketing/linkmakerform.html"));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),r.get("/weixin",function(){var e=i(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.sendFile(h.join(t+"/web/weixininvite.html"));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),r.get("/subpagestyle/:subpage/:stylesheetfile",function(){var e=i(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(r.params.stylesheetfile),n.sendFile(h.join(t+"/web/subpage/"+r.params.subpage+"/"+r.params.stylesheetfile));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),r.get("/website/*",function(){var e=i(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.sendFile(h.join(t+"/web/subpage/index.html"));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())}}])&&s(r.prototype,n),a&&s(r,a),p}(p);e.exports=O}).call(this,"/")},function(module,exports,__webpack_require__){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],s=!0,o=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(o)throw a}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function asyncGeneratorStep(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){asyncGeneratorStep(i,n,a,s,o,"next",e)}function o(e){asyncGeneratorStep(i,n,a,s,o,"throw",e)}s(void 0)}))}}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _get(e,t,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=_superPropBase(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var saito=__webpack_require__(12),GameTemplate=__webpack_require__(70),GameBoardSizer=__webpack_require__(1283),GameHammerMobile=__webpack_require__(489),Wordblocks=function(_GameTemplate){_inherits(Wordblocks,_GameTemplate);var _super=_createSuper(Wordblocks),_addEventsToBoard,_calculateScore;function Wordblocks(e){var t;return _classCallCheck(this,Wordblocks),(t=_super.call(this,e)).name="Wordblocks",t.wordlist="",t.letterset={},t.mydeck={},t.score="",t.app=e,t.name="Wordblocks",t.description="Wordblocks is a word game in which two to four players score points by placing tiles bearing a single letter onto a board divided into a 1515 grid of squares. The tiles must form words that, in crossword fashion, read left to right in rows or downward in columns, and be included in a standard dictionary or lexicon.",t.categories="Game Arcade Entertainment",t.minPlayers=2,t.maxPlayers=4,t.type="Wordgame",t.useHUD=1,t.gameboardWidth=2677,t.tileHeight=163,t.tileWidth=148,t.letters={},t.moves=[],t.firstmove=1,t.last_played_word={},t.defaultMsg='Click on the board to enter a word from that square, click a tile to select it for play, or <span class="link tosstiles" title="Double click tiles to select them for deletion">discard tiles</span> if you cannot move.',_possibleConstructorReturn(t,_assertThisInitialized(t))}return _createClass(Wordblocks,[{key:"respondTo",value:function(e){if(null!=_get(_getPrototypeOf(Wordblocks.prototype),"respondTo",this).call(this,e))return _get(_getPrototypeOf(Wordblocks.prototype),"respondTo",this).call(this,e);if("arcade-carousel"==e){var t={background:"/wordblocks/img/arcade/arcade-banner-background.png",title:"Wordblocks"};return t}return null}},{key:"showTiles",value:function(){if(0!=this.game.deck.length){for(var e="",t=0;t<this.game.deck[0].hand.length;t++){var r=this.game.deck[0].cards[this.game.deck[0].hand[t]];null!=r&&(e+=this.returnTileHTML(r))}$(".tiles").html(e),$("#remainder").html("DECK: "+this.game.deck[0].crypt.length)}}},{key:"initializeHTML",value:function(e){var t=this;this.hud.mode=0,_get(_getPrototypeOf(Wordblocks.prototype),"initializeHTML",this).call(this,e),this.app.modules.respondTo("chat-manager").forEach((function(e){e.respondTo("chat-manager").render(t.app,t)})),this.menu.addMenuOption({text:"Game",id:"game-game",class:"game-game",callback:function(e,t){t.menu.showSubMenu("game-game")}}),this.menu.addSubMenuOption("game-game",{text:"How to Play",id:"game-intro",class:"game-intro",callback:function(e,t){t.menu.hideSubMenus(),t.overlay.showOverlay(t.app,t,t.returnRulesOverlay())}}),this.menu.addSubMenuOption("game-game",{text:"Stats",id:"game-stats",class:"game-stats",callback:function(e,t){t.menu.hideSubMenus(),t.overlay.showOverlay(t.app,t,t.returnStatsOverlay())}}),this.menu.addSubMenuOption("game-game",{text:"Exit",id:"game-exit",class:"game-exit",callback:function(e,t){window.location.href="/arcade"}});for(var r=0,n=0,a=0;a<this.app.modules.mods.length;a++)if("chat"===this.app.modules.mods[a].slug)for(var i=0;i<this.game.players.length;i++)this.game.players[i]!=this.app.wallet.returnPublicKey()&&function(){0==r&&(t.menu.addMenuOption({text:"Chat",id:"game-chat",class:"game-chat",callback:function(e,t){t.menu.showSubMenu("game-chat")}}),r=1),0==n&&(t.menu.addSubMenuOption("game-chat",{text:"Community",id:"game-chat-community",class:"game-chat-community",callback:function(e,t){t.menu.hideSubMenus(),c.mute_community_chat=0,c.sendEvent("chat-render-request",{}),c.openChatBox()}}),n=1);var e=[t.game.players[i],t.app.wallet.returnPublicKey()].sort(),s=t.app.crypto.hash(e.join("_")),o="Player "+(i+1),c=t.app.modules.mods[a];t.menu.addSubMenuOption("game-chat",{text:o,id:"game-chat-"+(i+1),class:"game-chat-"+(i+1),callback:function(t,r){r.menu.hideSubMenus(),c.createChatGroup(e,o),c.openChatBox(s),c.sendEvent("chat-render-request",{}),c.saveChat()}})}();this.menu.addMenuIcon({text:'<i class="fa fa-window-maximize" aria-hidden="true"></i>',id:"game-menu-fullscreen",callback:function(e,t){t.menu.hideSubMenus(),e.browser.requestFullscreen()}}),this.menu.render(e,this),this.menu.attachEvents(e,this),this.hud.render(e,this);try{e.browser.isMobileBrowser(navigator.userAgent)?(GameHammerMobile.render(this.app,this),GameHammerMobile.attachEvents(this.app,this,".gameboard")):(GameBoardSizer.render(this.app,this),GameBoardSizer.attachEvents(this.app,this,".gameboard"),$("#gameboard").draggable())}catch(e){}}},{key:"returnRulesOverlay",value:function(){return'<div class="intro">\n      <h1>Welcome to Wordblocks</h1>\n      <p>Game play is similar to the classic crossword puzzle boardgame. Players take turns spelling words using the seven letters in their tile rack and available space on the game board. The game ends when one player finishes all the letters in their rack and there are no remaining tiles to draw.</p>\n      <p>Players may discard any number of tiles from their rack in lieu of playing a word.</p>\n      <h2>Scoring</h2>\n      <p>Each letter is worth the number of points indicated on the tile. The score for the word is the sum of point values of its letters, which may be affected by playing the word over bonus spaces on the board. </p>\n      <p>If you use all 7 tiles in one play, you receive 10 additional points to the letter score and a +1 multiple on the overall word score.</p>\n      </div>'}},{key:"returnMath",value:function(e){var t,r=0,n='<div class="score-overlay"><table>\n              <thead><tr><td>Word</td><td>Calculation</td><td>Points</td></tr></thead><tbody>',a=_createForOfIteratorHelper(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n+="<tr><td>".concat(i.word,"</td><td>").concat(i.math,"</td><td>").concat(i.score,"</td></tr>"),r+=i.score}}catch(e){a.e(e)}finally{a.f()}return n+='</tbody><tfoot><tr><td colspan="3"><hr></td></tr><tr><td>Total:</td><td></td><td>'.concat(r,"</td></tr></tfoot></table></div>")}},{key:"returnStatsOverlay",value:function(){for(var e='<div class="stats-overlay"><table cellspacing="10px" rowspacing="10px"><tr><th>Round</th>',t=0;t<this.game.opponents.length+1;t++)e+='<th colspan="2">Player '.concat(t+1,"</th>");var r=new Array(this.game.opponents.length+1);r.fill(0),console.log(this.game.opponents);for(var n=0;n<this.game.words_played[0].length;n++){e+="</tr><tr><td>".concat(n+1,"</td>");for(var a=0;a<this.game.opponents.length+1;a++)null!=this.game.words_played[a][n]&&(e+="<td>"+this.game.words_played[a][n].word+"</td><td>"+this.game.words_played[a][n].score+"</td>",r[a]+=this.game.words_played[a][n].score)}console.log(r),e+='</tr><tr><td colspan="10"><hr></td></tr><tfoot><tr><td>Totals</td>';for(var i=0,s=r;i<s.length;i++){var o=s[i];e+='<td colspan="2">'.concat(o,"</td>")}return e+="</tr></tfoot></table></div>"}},{key:"initializeGame",value:function initializeGame(game_id){var _this3=this;this.updateStatus("loading game..."),this.loadGame(game_id),""!=this.game.status&&this.updateStatus(this.game.status);var dictionary=this.game.options.dictionary,durl="/wordblocks/dictionaries/"+dictionary+"/"+dictionary+".js",xhr=new XMLHttpRequest;xhr.open("GET",durl,!1);try{xhr.send(),200!=xhr.status?salert("Network issues downloading dictionary -- ".concat(durl)):(eval(xhr.response),this.wordlist=wordlist)}catch(e){salert("Network issues downloading dictionary")}if(0==this.game.deck.length&&1==this.game.step.game){this.updateStatus("Generating the Game"),1==this.game.opponents.length&&(this.game.queue.push("READY"),this.game.queue.push("DEAL\t1\t2\t7"),this.game.queue.push("DEAL\t1\t1\t7"),this.game.queue.push("DECKENCRYPT\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t1"),this.game.queue.push("DECKXOR\t1\t2"),this.game.queue.push("DECKXOR\t1\t1")),2==this.game.opponents.length&&(this.game.queue.push("READY"),this.game.queue.push("DEAL\t1\t3\t7"),this.game.queue.push("DEAL\t1\t2\t7"),this.game.queue.push("DEAL\t1\t1\t7"),this.game.queue.push("DECKENCRYPT\t1\t3"),this.game.queue.push("DECKENCRYPT\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t1"),this.game.queue.push("DECKXOR\t1\t3"),this.game.queue.push("DECKXOR\t1\t2"),this.game.queue.push("DECKXOR\t1\t1")),3==this.game.opponents.length&&(this.game.queue.push("READY"),this.game.queue.push("DEAL\t1\t4\t7"),this.game.queue.push("DEAL\t1\t3\t7"),this.game.queue.push("DEAL\t1\t2\t7"),this.game.queue.push("DEAL\t1\t1\t7"),this.game.queue.push("DECKENCRYPT\t1\t4"),this.game.queue.push("DECKENCRYPT\t1\t3"),this.game.queue.push("DECKENCRYPT\t1\t2"),this.game.queue.push("DECKENCRYPT\t1\t1"),this.game.queue.push("DECKXOR\t1\t4"),this.game.queue.push("DECKXOR\t1\t3"),this.game.queue.push("DECKXOR\t1\t2"),this.game.queue.push("DECKXOR\t1\t1"));var tmp_json=JSON.stringify(this.returnDeck());this.game.queue.push("DECK\t1\t"+tmp_json)}if(1!=this.game.initializing){resizeBoard=function(e){},responsive=function(){},this.showTiles();var html="",am_i_done=0,players=1;null!=this.game.opponents&&(players=this.game.opponents.length+1);var score=[];if(null==this.game.score){this.game.score=[];for(var _i3=0;_i3<players;_i3++)this.game.score[_i3]=0}if(null==this.game.words_played){this.game.words_played=[];for(var _i4=0;_i4<players;_i4++)this.game.words_played[_i4]=[]}for(var op=0,_i5=0;_i5<players;_i5++){var this_player=_i5+1;if(this.game.player==this_player)html+='\n          <div class="player">\n            <span class="player_name">Player '.concat(this.game.player,' (you)</span>\n            <span id="score_').concat(this_player,'"> ').concat(this.game.score[_i5]," </span>\n          </div>\n        ");else if(0!=this.game.player){var opponent=this.game.opponents[op];opponent=this.app.keys.returnIdentifierByPublicKey(opponent,!0),op++,html+='\n          <div class="player">\n            <span class="player_name">'.concat(opponent.substring(0,16),'</span>\n            <span id="score_').concat(this_player,'"> ').concat(this.game.score[_i5]," </span>\n          </div>\n        ")}}if(1==this.browser_active)try{$(".score").html(html)}catch(e){}if(this.letters=this.returnLetters(),resizeBoard(this.app),null==this.game.board)this.game.board=this.returnBoard();else for(var i in this.game.board){var divname="#"+i,letter=this.game.board[i].letter;if(this.addTile($(divname),letter),"_"!=letter&&""!=letter)try{$(divname).addClass("set")}catch(e){}}for(var _i6=1;_i6<16;_i6++)for(var k=1;k<16;k++){var _boardslot=_i6+"_"+k;"_"!=this.game.board[_boardslot].letter&&(this.firstmove=0)}this.game.target==this.game.player?(this.updateStatusWithTiles("YOUR GO! "+this.defaultMsg),this.enableEvents()):this.updateStatusWithTiles("Waiting for Player ".concat(this.game.target," to move."));try{$("#game_status").on("click",(function(){$(".log").hide(),_this3.app.browser.isMobileBrowser(navigator.userAgent)&&window.matchMedia("(orientation: portrait)").matches||window.innerHeight>700?($("#sizer").switchClass("fa-caret-up","fa-caret-down"),$("#hud").switchClass("short","tall",150)):($("#sizer").switchClass("fa-caret-left","fa-caret-right"),$("#hud").switchClass("narrow","wide",150)),$(".hud_menu_overlay").hide(),$(".status").show()}))}catch(e){}}}},{key:"updateStatusWithTiles",value:function(e){try{for(var t,r="",n=0;n<this.game.deck[0].hand.length;n++)r+=this.returnTileHTML(this.game.deck[0].cards[this.game.deck[0].hand[n]].name);if(this.last_played_word.word){var a=this.game.player===this.last_played_word.player?"You":"Player ".concat(this.last_played_word.player);t=this.last_played_word.score>0?"".concat(a," played ").concat(this.last_played_word.word," for: ").concat(this.last_played_word.score," points (total: ").concat(this.last_played_word.totalscore,")"):"".concat(a,' discarded the tiles <span style="text-transform:uppercase;">[').concat(this.last_played_word.word.split("").join(),"</span>]")}else t="...";var i='\n      <div class="hud-status-update-message">'.concat(e,'</div>\n      <div class="status_container">\n        <div class="rack" id="rack">\n          <div class="tiles" id="tiles">\n            ').concat(r,'\n          </div>\n        </div>\n        <div class="subrack" id="subrack">\n          <div class="rack-controls">\n            <div>Shuffle: <img id="shuffle" class="shuffle" src="/wordblocks/img/reload.png"></div>\n            <div id="deletectrl" class="hidden deletectrl"><i class="fa fa-trash" aria-hidden="true" id="delete"></i>\n<i id="canceldelete" class="far fa-window-close"></i></div>\n            <div id="remainder" class="remainder">Remaining Tiles: ').concat(this.game.deck[0].crypt.length,'</div>\n        </div>\n        <div class="lastmove" id="lastmove">').concat(t,'</div>\n        <div class="score" id="score"></div>\n        </div>\n      </div\n    ');this.updateStatus(i),this.calculateScore(),this.limitedEvents()}catch(e){console.log(e)}}},{key:"calculateScore",value:(_calculateScore=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s,o,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",r=1,null!=this.game.opponents&&(r=this.game.opponents.length+1),null==this.game.score)for(this.game.score=[],n=0;n<r;n++)this.game.score[n]=0;for(a=0,i=0;i<r;i++)s=i+1,o=this.app.keys.returnUsername(this.game.players[i]),c=this.app.keys.returnIdenticon(this.game.players[i]),""!=o&&o.indexOf("@")>0&&(o=o.substring(0,o.indexOf("@"))),this.game.player==s?t+='\n          <div class="player">\n            <img class="player-identicon" src="'.concat(c,'">\n            <span class="player_name">Me (Player ').concat(this.game.player,')</span>\n            <span class="player_score" id="score_').concat(s,'"> ').concat(this.game.score[i]," </span>\n          </div>\n        "):(u=this.game.opponents[a],u=this.app.keys.returnIdentifierByPublicKey(u,!0),a++,t+='\n          <div class="player">\n            <img class="player-identicon" src="'.concat(c,'">\n            <span class="player_name">Player ').concat(s,": ").concat(o,'</span>\n            <span class="player_score" id="score_').concat(s,'"> ').concat(this.game.score[i]," </span>\n          </div>\n        "));1==this.browser_active&&(document.querySelector(".score").innerHTML=t);case 9:case"end":return e.stop()}}),e,this)}))),function(){return _calculateScore.apply(this,arguments)})},{key:"returnTileHTML",value:function(e){var t="",r=this.returnLetters();return r[e]&&(t='<div class="tile '+e+" sc"+r[e].score+'">'+e+"</div>"),t}},{key:"addTile",value:function(e,t){"_"!==t&&(e.find(".bonus").css("display","none"),e.append(this.returnTileHTML(t)))}},{key:"limitedEvents",value:function(){var e=this;1==this.browser_active&&($(".slot").off(),$("#rack .tile").off(),$("#tiles").disableSelection(),$("#tiles").sortable({axis:"x",tolerance:"pointer",containment:"parent",distance:3,start:function(e,t){$(t.item).addClass("noclick")},stop:function(e,t){setTimeout((function(){$(t.item).removeClass("noclick")}),350)}}),$("#shuffle").on("click",(function(){for(var e=$("#tiles").children.length;e>=0;e--)$("#tiles")[0].appendChild($("#tiles")[0].childNodes[Math.random()*e|0])})),$("#lastmove").off(),$("#lastmove").on("click",(function(){e.overlay.showOverlay(e.app,e,e.returnMath(e.last_played_word.play))})))}},{key:"enableEvents",value:function(){1==this.browser_active&&this.addEventsToBoard()}},{key:"addEventsToBoard",value:(_addEventsToBoard=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=this.browser_active){e.next=2;break}return e.abrupt("return");case 2:t=this,r=document.querySelector(".highlighttile"),n=document.querySelector(".slot .tempplacement")||document.querySelector("#tiles .highlighttile");try{a=function(){$(".tiles .tile").removeClass("todelete"),$("#tiles").sortable("enable"),$("#deletectrl").addClass("hidden"),$("#delete").off(),$("#canceldelete").off(),t.addEventsToBoard()},i=function(e,t){$(".highlighttile").removeClass("highlighttile"),r=e,$(r).addClass("highlighttile");var n=r.cloneNode(!0);n.id="helper",$(document.body).append(n),$("#helper").css({top:t.clientY-25,left:t.clientX-25})},s=function(){$(".highlighttile").removeClass("highlighttile"),r=null,$("#helper").remove()},o=function(){$(".tile-placement-controls").remove();var e=_slicedToArray(t.readWordFromBoard(),4),r=e[0],n=e[1],a=e[2],i=e[3];if(r){var s='\n            <div class="tile-placement-controls">\n              <span class="playable">'.concat(r,'</span>\n              <span class="action" id="submit"><i class="fa fa-paper-plane"></i> Submit</span>\n              <span class="action" id="cancel"><i class="far fa-window-close"></i> Cancel</span>\n            </div>');$("body").append(s),$(".tile-placement-controls").addClass("active-status"),$(".tile-placement-controls").css({position:"absolute",top:"40vh",right:"1em"}),$(".action").off(),$(".action").on("click",(function(){$(".action").off(),$(".tile-placement-controls").remove(),t.clearBoard(),"submit"==$(this).attr("id")?(console.log(r,n,a,i),t.tryPlayingWord(a,i,n,r)):t.addEventsToBoard()}))}},$(document).on("mousemove",(function(e){$("#helper").css({top:e.clientY-25,left:e.clientX-25})})),$("#shuffle").off(),$(".slot").off(),$("#rack .tile").off(),$("#rack .tile").on("click",(function(e){$(this).hasClass("noclick")||($(this).hasClass("highlighttile")?($("#helper").remove(),$(".highlighttile").removeClass("highlighttile"),r=null):(console.log("Selection"),i(this,e)),n!=(document.querySelector(".slot .tempplacement")||document.querySelector("#tiles .highlighttile"))&&t.addEventsToBoard())})),$("#rack .tile").on("dblclick",(function(){this.classList.toggle("todelete");for(var e="",r=document.querySelectorAll(".tiles .tile"),n=0;n<r.length;n++)r[n].classList.contains("todelete")&&(e+=r[n].textContent);e.length>0?($(".hud-status-update-message").text("Select the tiles you want to trash and click the trash icon to confirm (this will count as your turn)."),$("#tiles").sortable("disable"),$(".tile").off("click"),$("#deletectrl").removeClass("hidden"),$("#delete").off(),$("#delete").on("click",(function(){t.discardAndDrawTiles(e)})),$("#canceldelete").off(),$("#canceldelete").on("click",a)):a()})),n?($(".hud-status-update-message").text("Click a tile to select/deselect it, then click the board to place it. Double click to move it back to the rack"),$(".tile-placement-controls").remove(),$("#rack .tile").off("dblclick"),$(".slot").on("dblclick",(function(){var e=this.querySelector(".tile");e&&$(e).hasClass("tempplacement")&&($(".highlighttile").removeClass("highlighttile"),$("#tiles").append(e),this.querySelector(".bonus")&&(this.querySelector(".bonus").style.display="block"),o(),document.querySelector(".slot .tempplacement")||document.querySelector("#tiles .highlighttile")||t.addEventsToBoard())})),$(".slot").on("click",(function(e){if(this.querySelector(".tile")){var t=this.querySelector(".tile");t.classList.contains("tempplacement")&&(r?t.classList.contains("highlighttile")?(console.log("Deselect:",r,t),s()):(console.log("Swap selection:",r,t),s(),i(t,e)):(console.log("Select new:",r,t),i(t,e)))}else r?(this.querySelector(".bonus")&&(this.querySelector(".bonus").style.display="none"),r.parentElement.querySelector(".bonus")&&(r.parentElement.querySelector(".bonus").style.display="block"),this.append(r),$(r).addClass("tempplacement"),$(r).off(),s()):console.log("must select a tile first");o()}))):($("#helper").remove(),$(".hud-status-update-message").html(t.defaultMsg),$(".slot").on("mousedown",(function(e){xpos=e.clientX,ypos=e.clientY})),$(".slot").on("mouseup",(function(e){if(!(Math.abs(xpos-e.clientX)>4||Math.abs(ypos-e.clientY)>4)){var r='\n            <div class="tile-placement-controls">\n              <span class="action" id="horizontal"><i class="fas fa-arrows-alt-h"></i> horizontally</span>\n              <span class="action" id="vertical"><i class="fas fa-arrows-alt-v"></i> vertically</span>\n              <span class="action" id="cancel"><i class="far fa-window-close"></i> cancel</span>\n            </div>',n=$(this).attr("id").split("_"),a=n[0],i=n[1],s="",o=t.app.browser.isMobileBrowser(navigator.userAgent)?25:55,c=t.app.browser.isMobileBrowser(navigator.userAgent)?25:55,u=t.app.browser.isMobileBrowser(navigator.userAgent)?135:155,l=t.app.browser.isMobileBrowser(navigator.userAgent)?135:155,d=$(this).offset().left+o,h=$(this).offset().top+c;if(i>8&&(d-=u),a>8&&(h-=l),$(".tile-placement-controls").remove(),t.app.browser.isMobileBrowser(navigator.userAgent)){for(var p="",f=0;f<t.game.deck[0].hand.length;f++)p+=t.returnTileHTML(t.game.deck[0].cards[t.game.deck[0].hand[f]].name);var m='\n            <div class="rack" id="rack">\n              <div class="tiles" id="tiles">\n                '.concat(p,'\n              </div>\n              <img id="shuffle" class="shuffle" src="/wordblocks/img/reload.png">\n            </div>\n            ').concat(r,"\n            ");$(".status").html(m),t.enableEvents()}else $("body").append(r),$(".tile-placement-controls").addClass("active-status"),$(".tile-placement-controls").css({position:"absolute",top:h,left:d});$(".action").off(),$(".action").on("click",_asyncToGenerator(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cancel"!=(r=$(this).attr("id"))){e.next=7;break}return $(".action").off(),$(".tile-placement-controls").remove(),t.updateStatusWithTiles(t.defaultMsg),t.enableEvents(),e.abrupt("return");case 7:return e.next=9,sprompt("Provide your word:");case 9:(s=e.sent)&&t.tryPlayingWord(i,a,r,s);case 11:case"end":return e.stop()}}),e,this)}))))}})),$("#shuffle").on("click",(function(){for(var e=$("#tiles").children.length;e>=0;e--)$("#tiles")[0].appendChild($("#tiles")[0].childNodes[Math.random()*e|0])}))),$(".tosstiles").off(),$(".tosstiles").on("click",_asyncToGenerator(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sprompt("Which tiles do you want to discard?");case 2:tiles=e.sent,tiles&&t.discardAndDrawTiles(tiles);case 4:case"end":return e.stop()}}),e)}))))}catch(e){console.log(e)}case 6:case"end":return e.stop()}}),e,this)}))),function(){return _addEventsToBoard.apply(this,arguments)})},{key:"clearBoard",value:function(){var e,t=_createForOfIteratorHelper(document.querySelectorAll(".slot .tempplacement"));try{for(t.s();!(e=t.n()).done;){var r=e.value;r.parentElement.querySelector(".bonus")&&(r.parentElement.querySelector(".bonus").style.display="block"),$(".tiles").append(r)}}catch(e){t.e(e)}finally{t.f()}}},{key:"readWordFromBoard",value:function(){var e,t=16,r=16,n=0,a=0,i=_createForOfIteratorHelper(document.querySelectorAll(".slot .tempplacement"));try{for(i.s();!(e=i.n()).done;){var s=_slicedToArray(e.value.parentElement.id.split("_"),2),o=s[0],c=s[1];o=parseInt(o),c=parseInt(c),o>n&&(n=o),o<t&&(t=o),c>a&&(a=c),c<r&&(r=c)}}catch(e){i.e(e)}finally{i.f()}var u="",l="",d=!1;if(n==t){l="horizontal";for(var h=r;h<=a;h++){var p=n+"_"+h,f=document.getElementById(p);f&&f.querySelector(".tile")?u+=f.querySelector(".tile").textContent:d=!0}}else if(a==r){l="vertical";for(var m=t;m<=n;m++){var g=m+"_"+a,y=document.getElementById(g);y&&y.querySelector(".tile")?u+=y.querySelector(".tile").textContent:d=!0}}else d=!0;return d?["","invalid",r,t]:[u,l,r,t]}},{key:"tryPlayingWord",value:function(e,t,r,n){if(n=n.toUpperCase(),$(".tile-placement-controls").html(""),$(".status").html("Processing your turn."),1==this.isEntryValid(n,r,e,t)){var a;this.addWordToBoard(n,r,e,t);var i=this.expandWord(n,r,e,t);if(1==i.length){var s="vertical"==r?"horizontal":"vertical";if(this.expandWord(n,s,e,t).length>1)return this.removeWordFromBoard(n,r,e,t),void this.tryPlayingWord(e,t,s,n)}if((a=this.scorePlay(n,this.game.player,r,e,t))<=1)this.removeWordFromBoard(n,r,e,t),this.updateStatusWithTiles("Not a valid word, try again! ".concat(this.defaultMsg)),this.addEventsToBoard();else{if(this.game.words_played[parseInt(this.game.player)-1].push({word:i,score:a}),this.addMove("place\t"+n+"\t"+this.game.player+"\t"+e+"\t"+t+"\t"+r),this.discardTiles(n,r,e,t),this.finalizeWord(n,r,e,t),this.addScoreToPlayer(this.game.player,a),this.drawTiles(),1==this.checkForEndGame())return;$("#remainder").html("DECK: "+this.game.deck[0].crypt.length),this.endTurn()}}else
//!isEntryValid
this.updateStatusWithTiles("Not a valid word, try again! ".concat(this.defaultMsg)),this.enableEvents()}},{key:"drawTiles",value:function(){var e=7;(e-=this.game.deck[0].hand.length)>this.game.deck[0].crypt.length&&(e=this.game.deck[0].crypt.length),e>0&&this.addMove("DEAL\t1\t"+this.game.player+"\t"+e)}},{key:"discardAndDrawTiles",value:function(e){salert("Tossed: "+e),this.removeTilesFromHand(e),this.addMove("turn\t"+this.game.player+"\t"+e),this.drawTiles(),this.showTiles(),this.endTurn()}},{key:"removeTilesFromHand",value:function(e){for(;e.length>0;){var t=e[0];t=t.toUpperCase();for(var r=0;r<this.game.deck[0].hand.length;r++)this.game.deck[0].cards[this.game.deck[0].hand[r]].name==t&&(this.game.deck[0].hand.splice(r,1),r=this.game.deck[0].hand.length);e=e.length>1?e.substring(1):""}}},{key:"isEntryValid",value:function(e,t,r,n){var a=1,i=JSON.parse(JSON.stringify(this.game.deck[0].hand));if(r=parseInt(r),n=parseInt(n),1==this.firstmove){if("vertical"==t){if(6!=r&&10!=r)return salert("First Word must be placed to cross a Star"),0;var s=n,o=n+e.length-1;if(!(s<=6&&o>=6||s<=10&&o>=6))return salert("First Word must be long enough to cross a Star"),0}if("horizontal"==t){if(6!=n&&10!=n)return salert("First Word must be placed to cross a Star"),0;var c=r,u=r+e.length-1;if(!(c<=6&&u>=6||c<=10&&u>=6))return salert("First Word must be long enough to cross a Star"),0}}else{var l,d,h=0,p=Math.max(1,r-1),f=Math.max(1,n-1);"horizontal"==t?(l=Math.min(15,r+e.length+1),d=Math.min(15,n+1)):(l=Math.min(15,r+1),d=Math.min(15,n+e.length+1));for(var m=p;m<=l;m++)for(var g=f;g<=d;g++){var y=g+"_"+m;if(0==this.game.board[y].fresh){h=1;break}}if(0==h)return salert("Word does not cross or touch an existing word."),0}for(var b=0;b<e.length;b++){var v="",_=e[b].toUpperCase();if("horizontal"==t&&(v=n+"_"+(r+b),r+b>15))return salert("Word must fit on board!"),0;if("vertical"==t&&(v=n+b+"_"+r,n+b>15))return salert("Word must fit on board!"),0;if("_"!=this.game.board[v].letter)this.game.board[v].letter!=_&&(a=0);else{for(var w=0,x=0;x<i.length;x++)this.game.deck[0].cards[i[x]].name==_&&(i.splice(x,1),w=1,x=i.length+1);if(0==w)return salert("INVALID: letter not in hand: "+_),0}}return 0==a&&salert("This is an invalid placement!"),a}},{key:"finalizeWord",value:function(e,t,r,n){r=parseInt(r),n=parseInt(n);for(var a=0;a<e.length;a++){var i="";e[a].toUpperCase();"horizontal"==t&&(i=n+"_"+(r+a)),"vertical"==t&&(i=n+a+"_"+r),1==this.game.board[i].fresh&&(this.game.board[i].fresh=0),$("#"+i).addClass("set")}}},{key:"discardTiles",value:function(e,t,r,n){r=parseInt(r),n=parseInt(n);for(var a=0;a<e.length;a++){var i="";e[a].toUpperCase();"horizontal"==t&&(i=n+"_"+(r+a)),"vertical"==t&&(i=n+a+"_"+r),1==this.game.board[i].fresh&&this.removeTilesFromHand(e[a])}}},{key:"addWordToBoard",value:function(e,t,r,n){r=parseInt(r),n=parseInt(n);for(var a=0;a<e.length;a++){var i,s="",o=e[a].toUpperCase();"horizontal"==t&&(s=n+"_"+(r+a)),"vertical"==t&&(s=n+a+"_"+r),i="#"+s,"_"!=this.game.board[s].letter?this.game.board[s].letter!=o&&(console.log(this.game.board[s].letter,o),this.game.board[s].letter=o,this.addTile($(i),o)):(this.game.board[s].letter=o,this.addTile($(i),o))}}},{key:"removeWordFromBoard",value:function(e,t,r,n){r=parseInt(r),n=parseInt(n);for(var a=0;a<e.length;a++){var i,s="";e[a].toUpperCase();"horizontal"==t&&(s=n+"_"+(r+a)),"vertical"==t&&(s=n+a+"_"+r),i="#"+s,1!=$(i).hasClass("set")&&(this.game.board[s].letter="_",$(i).find(".tile").remove(),$(i).find(".bonus").css("display","block"))}}},{key:"returnBoard",value:function(){for(var e={},t=1;t<=15;t++)for(var r=1;r<=15;r++){e[t+"_"+r]={letter:"_",fresh:1}}return e}},{key:"returnDeck",value:function(){var e=this.game.options.dictionary;if("twl"!==e&&"sowpods"!==e||(this.mydeck={1:{name:"A"},2:{name:"A"},3:{name:"A"},4:{name:"A"},5:{name:"A"},6:{name:"A"},7:{name:"A"},8:{name:"A"},9:{name:"A"},10:{name:"B"},11:{name:"B"},12:{name:"C"},13:{name:"C"},14:{name:"D"},15:{name:"D"},16:{name:"D"},17:{name:"D"},18:{name:"E"},19:{name:"E"},20:{name:"E"},21:{name:"E"},22:{name:"E"},23:{name:"E"},24:{name:"E"},25:{name:"E"},26:{name:"E"},27:{name:"E"},28:{name:"E"},29:{name:"E"},30:{name:"F"},41:{name:"F"},42:{name:"G"},43:{name:"G"},44:{name:"G"},45:{name:"H"},46:{name:"H"},47:{name:"I"},48:{name:"I"},49:{name:"I"},50:{name:"I"},51:{name:"I"},52:{name:"I"},53:{name:"I"},54:{name:"I"},55:{name:"I"},56:{name:"J"},57:{name:"K"},58:{name:"L"},59:{name:"L"},60:{name:"L"},61:{name:"L"},62:{name:"M"},63:{name:"M"},64:{name:"N"},65:{name:"N"},66:{name:"N"},67:{name:"N"},68:{name:"N"},69:{name:"N"},70:{name:"O"},71:{name:"O"},72:{name:"O"},73:{name:"O"},74:{name:"O"},75:{name:"O"},76:{name:"O"},77:{name:"O"},78:{name:"P"},79:{name:"P"},80:{name:"Q"},81:{name:"R"},82:{name:"R"},83:{name:"R"},84:{name:"R"},85:{name:"R"},86:{name:"R"},87:{name:"S"},88:{name:"S"},89:{name:"S"},90:{name:"S"},91:{name:"T"},92:{name:"T"},93:{name:"T"},94:{name:"T"},95:{name:"T"},96:{name:"T"},97:{name:"U"},98:{name:"U"},99:{name:"U"},100:{name:"U"},101:{name:"V"},102:{name:"V"},103:{name:"W"},104:{name:"W"},105:{name:"X"},106:{name:"U"},107:{name:"Y"},108:{name:"Y"},109:{name:"Z"}}),"fise"!==e&&"tagalog"!==e||(this.mydeck={1:{name:"A"},2:{name:"A"},3:{name:"A"},4:{name:"A"},5:{name:"A"},6:{name:"A"},7:{name:"A"},8:{name:"A"},9:{name:"A"},10:{name:"A"},11:{name:"A"},12:{name:"A"},13:{name:"B"},14:{name:"B"},15:{name:"C"},16:{name:"C"},17:{name:"C"},18:{name:"C"},19:{name:"C"},20:{name:"D"},21:{name:"D"},22:{name:"D"},23:{name:"D"},24:{name:"D"},25:{name:"E"},26:{name:"E"},27:{name:"E"},28:{name:"E"},29:{name:"E"},30:{name:"E"},31:{name:"E"},32:{name:"E"},33:{name:"E"},34:{name:"E"},35:{name:"E"},36:{name:"E"},37:{name:"E"},38:{name:"F"},39:{name:"G"},40:{name:"G"},41:{name:"H"},42:{name:"H"},43:{name:"H"},44:{name:"I"},45:{name:"I"},46:{name:"I"},47:{name:"I"},48:{name:"I"},49:{name:"I"},50:{name:"J"},51:{name:"L"},52:{name:"L"},53:{name:"L"},54:{name:"L"},55:{name:"L"},56:{name:"L"},57:{name:"M"},58:{name:"M"},59:{name:"N"},60:{name:"N"},61:{name:"N"},62:{name:"N"},63:{name:"N"},64:{name:""},65:{name:""},66:{name:"O"},67:{name:"O"},68:{name:"O"},69:{name:"O"},70:{name:"O"},71:{name:"O"},72:{name:"O"},73:{name:"O"},74:{name:"O"},75:{name:"O"},76:{name:"P"},77:{name:"P"},78:{name:"Q"},79:{name:"R"},80:{name:"R"},81:{name:"R"},82:{name:"R"},83:{name:"R"},84:{name:"R"},85:{name:"R"},86:{name:"S"},87:{name:"S"},88:{name:"S"},89:{name:"S"},90:{name:"S"},91:{name:"S"},92:{name:"S"},93:{name:"T"},94:{name:"T"},95:{name:"T"},96:{name:"T"},97:{name:"U"},98:{name:"U"},99:{name:"U"},100:{name:"U"},101:{name:"U"},102:{name:"V"},103:{name:"X"},104:{name:"Y"},105:{name:"Z"}}),"test"===e);return this.mydeck}},{key:"returnLetters",value:function(){var e=this.game.options.dictionary;if("twl"!==e&&"sowpods"!==e||(this.letterset={A:{score:1},B:{score:3},C:{score:2},D:{score:2},E:{score:1},F:{score:2},G:{score:2},H:{score:1},I:{score:1},J:{score:8},K:{score:4},L:{score:2},M:{score:2},N:{score:1},O:{score:1},P:{score:2},Q:{score:10},R:{score:1},S:{score:1},T:{score:1},U:{score:2},V:{score:3},W:{score:2},X:{score:8},Y:{score:2},Z:{score:10}}),"fise"!==e&&"tagalog"!==e||(this.letterset={A:{score:1},B:{score:2},C:{score:3},D:{score:2},E:{score:1},F:{score:4},G:{score:2},H:{score:4},I:{score:1},J:{score:8},L:{score:1},M:{score:3},N:{score:1},"":{score:8},O:{score:1},P:{score:3},Q:{score:6},R:{score:2},S:{score:1},T:{score:1},U:{score:1},V:{score:4},X:{score:8},Y:{score:4},Z:{score:10}}),"test"===e);return this.letterset}},{key:"checkWord",value:function(e){return!(e.length>=1&&void 0!==this.wordlist)||(!(this.wordlist.indexOf(e.toLowerCase())<=0)||(salert(e+" is not a playable word."),!1))}},{key:"returnBonus",value:function(e){return"1_1"==e||"1_15"==e||"3_8"==e||"8_3"==e||"8_13"==e||"13_8"==e||"15_1"==e||"15_15"==e?"3L":"2_2"==e||"2_14"==e||"8_8"==e||"14_2"==e||"14_14"==e?"3W":"1_5"==e||"1_11"==e||"3_4"==e||"3_12"==e||"4_3"==e||"4_13"==e||"5_8"==e||"5_1"==e||"5_15"==e||"8_5"==e||"8_11"==e||"11_1"==e||"11_8"==e||"11_15"==e||"12_3"==e||"12_13"==e||"13_4"===e||"13_12"===e||"15_5"==e||"15_11"==e?"2L":"1_8"==e||"4_6"==e||"4_10"==e||"6_4"==e||"6_12"==e||"8_1"==e||"8_15"==e||"10_4"==e||"10_12"==e||"12_6"==e||"12_10"==e||"15_8"==e?"2W":""}},{key:"getWordScope",value:function(e,t){for(var r,n=e,a=e,i=parseInt(e);i>=1&&(r=t.replace("#",i),"_"!=this.game.board[r].letter);i--)n=i;for(var s=parseInt(e);s<=15&&(r=t.replace("#",s),"_"!=this.game.board[r].letter);s++)a=s;return{start:n,end:a}}},{key:"scoreWord",value:function(e,t,r){for(var n=0,a=1,i="",s=0,o="",c=e;c<=t;c++){boardslot=r.replace("#",c);var u=1;if(1==this.game.board[boardslot].fresh){switch(this.returnBonus(boardslot)){case"3W":a*=3;break;case"2W":a*=2;break;case"3L":u=3;break;case"2L":u=2}n+=1}else touchesWord=1;var l=this.game.board[boardslot].letter;i+=l,s+=this.letters[l].score*u,o+=u>1?" + ".concat(this.letters[l].score," x").concat(u):" + "+this.letters[l].score}return this.checkWord(i)?(7==n&&(s+=10,a+=1,o+=" +10(!)"),s*=a,o=o.substring(3),a>1&&(o="("+o+") x "+a),console.log("word:",i,"score:",s),{word:i,score:s,math:o}):-1}},{key:"scorePlay",value:function(e,t,r,n,a){var i,s="horizontal"==r?n:a,o="horizontal"==r?a:n,c="horizontal"==r?o+"_#":"#_"+o;console.log(s,o,c);var u=this.getWordScope(s,c),l=this.scoreWord(u.start,u.end,c);if(-1==l)return-1;console.log(r,u,l);for(var d=new Array(l),h=l.score,p=u.start;p<=u.end;p++)if(i=c.replace("#",p),1==this.game.board[i].fresh){var f=c.replace(o,"@").replace("#",p).replace("@","#"),m=this.getWordScope(o,f);if(m.start!=m.end){if(console.log(o,f,m),-1==(l=this.scoreWord(m.start,m.end,f)))return-1;d.push(l),h+=l.score}}return this.firstmove=0,console.log(d),this.last_played_word={player:t,word:d[0].word,score:d[0].score,totalscore:h,play:d},h}},{key:"expandWord",value:function(e,t,r,n){for(var a="horizontal"==t?r:n,i="horizontal"==t?n:r,s="horizontal"==t?i+"_#":"#_"+i,o=this.getWordScope(a,s),c="",u=o.start;u<=o.end;u++)boardslot=s.replace("#",u),c+=this.game.board[boardslot].letter;return c}},{key:"handleGameLoop",value:function(){var e=this;if(this.showTiles(),this.game.queue.length>0){e.saveGame(e.game.id);var t=this.game.queue.length-1,r=this.game.queue[t].split("\t"),n=1;if("gameover"===r[0]){for(var a=0,i=0,s=0;s<e.game.score.length;s++)e.game.score[s]>a&&(a=e.game.score[s],i=s);for(var o=0;o<e.game.score.length;o++)o!=i&&e.game.score[o]==e.game.score[i]&&(i=-1);if(e.game.winner=i+1,e.saveGame(e.game.id),1==e.browser_active){var c="Game Over -- Player ".concat(e.game.winner," Wins!");i<0&&(c="It's a tie! Well done everyone!"),e.updateStatusWithTiles(c),e.updateLog(c),this.game.winner==this.game.player&&this.resignGame()}return this.game.queue.splice(this.game.queue.length-1,1),0}if("endgame"===r[0])return this.game.queue.splice(this.game.queue.length-1,1),this.addMove("gameover"),1;if("place"===r[0]){var u=r[1],l=r[2],d=r[3],h=r[4],p=r[5],f=0;if(l!=e.game.player&&(this.addWordToBoard(u,p,d,h),f=this.scorePlay(u,l,p,d,h),this.finalizeWord(u,p,d,h),this.addScoreToPlayer(l,f),this.game.words_played[parseInt(l)-1].push({word:u,score:f})),1==e.game.over)return;if(e.game.player==e.returnNextPlayer(l)){if(1==e.checkForEndGame())return;e.updateStatusWithTiles("YOUR GO: "+e.defaultMsg),e.enableEvents()}else e.updateStatusWithTiles("Player "+e.returnNextPlayer(l)+"'s turn");return this.game.queue.splice(this.game.queue.length-1,1),1}if("turn"===r[0]){if(0==this.game.player)return this.game.queue.push("OBSERVER_CHECKPOINT"),this.game.queue.splice(this.game.queue.length-1,1),1;if(1==e.checkForEndGame())return;var m=r[1],g=r[2];return e.last_played_word={player:m,word:g,score:0},e.game.words_played[parseInt(m)-1].push({word:"---",score:0}),e.game.player==e.returnNextPlayer(m)?(e.updateStatusWithTiles("YOUR GO: "+e.defaultMsg),e.enableEvents()):e.updateStatusWithTiles("Player "+e.returnNextPlayer(m)+"'s turn"),this.game.queue.splice(this.game.queue.length-1,1),1}if(0==n)return 0}return 1}},{key:"checkForEndGame",value:function(){return 0==this.game.deck[0].hand.length&&0==this.game.deck[0].crypt.length?(this.addMove("endgame"),this.endTurn(),1):0}},{key:"addScoreToPlayer",value:function(e,t){if(0!=this.browser_active){var r="#score_"+e;this.game.score[e-1]=this.game.score[e-1]+t,$(r).html(parseInt($(r).html())+t)}}},{key:"addMove",value:function(e){this.moves.push(e)}},{key:"endTurn",value:function(){this.updateStatusWithTiles("Waiting for information from peers....");var e={};e.target=this.returnNextPlayer(this.game.player),this.game.turn=this.moves,this.moves=[],this.sendMessage("game",e)}},{key:"returnGameOptionsHTML",value:function(){var e="";return this.app.config&&"DEV"==this.app.config.currentEnv&&(e='<option value="test">Test Dictionary</option>'),'\n          <label for="dictionary">Dictionary:</label>\n          <select name="dictionary">\n            <option value="sowpods" title="A combination of the Official Scrabble Player Dictionary and Official Scrabble Words" selected>English: SOWPODS</option>\n            <option value="twl" title="Scrabble Tournament Word List">English: TWL06</option>\n            <option value="fise">Spanish: FISE</option>\n            <option value="tagalog">Tagalog</option>\n            '.concat(e,'\n          </select>\n\n          <label for="observer_mode">Observer Mode:</label>\n          <select name="observer">\n            <option value="enable" selected>enable</option>\n            <option value="disable">disable</option>\n          </select>\n\n\n          <div id="game-wizard-advanced-return-btn" class="game-wizard-advanced-return-btn button">accept</div>\n\n          ')}}]),Wordblocks}(GameTemplate);module.exports=Wordblocks},function(e,t,r){"use strict";r.r(t),r.d(t,"decodeAddress",(function(){return a.a})),r.d(t,"encodeAddress",(function(){return i.a})),r.d(t,"setSS58Format",(function(){return u})),r.d(t,"DEV_PHRASE",(function(){return l.a})),r.d(t,"DEV_SEED",(function(){return l.b})),r.d(t,"createPair",(function(){return d.a})),r.d(t,"packageInfo",(function(){return h.a})),r.d(t,"createTestKeyring",(function(){return g})),r.d(t,"createTestPairs",(function(){return x})),r.d(t,"Keyring",(function(){return n.a}));r(1224);var n=r(182),a=r(191),i=r(1312),s=r(1303),o=r(77);const c=Object(s.a)("setSS58Format");function u(e){c.warn("Global setting of the ss58Format is deprecated and not recommended. Set format on the keyring (if used) or as pat of the address encode function"),o.a.prefix=e}var l=r(178),d=r(57),h=r(177),p=r(632);const f=[{publicKey:Object(p.a)("0xd43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d"),secretKey:Object(p.a)("0x98319d4ff8a9508c4bb0cf0b5a78d760a0b2082c02775e6e82370816fedfff48925a225d97aa00682d6a59b95b18780c10d7032336e88f3442b42361f4a66011"),seed:"Alice",type:"sr25519"},{publicKey:Object(p.a)("0xbe5ddb1579b72e84524fc29e78609e3caf42e85aa118ebfe0b0ad404b5bdd25f"),secretKey:Object(p.a)("0xe8da6c9d810e020f5e3c7f5af2dea314cbeaa0d72bc6421e92c0808a0c584a6046ab28e97c3ffc77fe12b5a4d37e8cd4afbfebbf2391ffc7cb07c0f38c023efd"),seed:"Alice//stash",type:"sr25519"},{publicKey:Object(p.a)("0x8eaf04151687736326c9fea17e25fc5287613693c912909cb226aa4794f26a48"),secretKey:Object(p.a)("0x081ff694633e255136bdb456c20a5fc8fed21f8b964c11bb17ff534ce80ebd5941ae88f85d0c1bfc37be41c904e1dfc01de8c8067b0d6d5df25dd1ac0894a325"),seed:"Bob",type:"sr25519"},{publicKey:Object(p.a)("0xfe65717dad0447d715f660a0a58411de509b42e6efb8375f562f58a554d5860e"),secretKey:Object(p.a)("0xc006507cdfc267a21532394c49ca9b754ca71de21e15a1cdf807c7ceab6d0b6c3ed408d9d35311540dcd54931933e67cf1ea10d46f75408f82b789d9bd212fde"),seed:"Bob//stash",type:"sr25519"},{publicKey:Object(p.a)("0x90b5ab205c6974c9ea841be688864633dc9ca8a357843eeacf2314649965fe22"),secretKey:Object(p.a)("0xa8f2d83016052e5d6d77b2f6fd5d59418922a09024cda701b3c34369ec43a7668faf12ff39cd4e5d92bb773972f41a7a5279ebc2ed92264bed8f47d344f8f18c"),seed:"Charlie",type:"sr25519"},{publicKey:Object(p.a)("0x306721211d5404bd9da88e0204360a1a9ab8b87c66c1bc2fcdd37f3c2222cc20"),secretKey:Object(p.a)("0x20e05482ca4677e0edbc58ae9a3a59f6ed3b1a9484ba17e64d6fe8688b2b7b5d108c4487b9323b98b11fe36cb301b084e920f7b7895536809a6d62a451b25568"),seed:"Dave",type:"sr25519"},{publicKey:Object(p.a)("0xe659a7a1628cdd93febc04a4e0646ea20e9f5f0ce097d9a05290d4a9e054df4e"),secretKey:Object(p.a)("0x683576abfd5dc35273e4264c23095a1bf21c14517bece57c7f0cc5c0ed4ce06a3dbf386b7828f348abe15d76973a72009e6ef86a5c91db2990cb36bb657c6587"),seed:"Eve",type:"sr25519"},{publicKey:Object(p.a)("0x1cbd2d43530a44705ad088af313e18f80b53ef16b36177cd4b77b846f2a5f07c"),secretKey:Object(p.a)("0xb835c20f450079cf4f513900ae9faf8df06ad86c681884122c752a4b2bf74d4303e4f21bc6cc62bb4eeed5a9cce642c25e2d2ac1464093b50f6196d78e3a7426"),seed:"Ferdie",type:"sr25519"}],m=[{name:"Alith",publicKey:Object(p.a)("0x02509540919faacf9ab52146c9aa40db68172d83777250b28e4679176e49ccdd9f"),secretKey:Object(p.a)("0x5fb92d6e98884f76de468fa3f6278f8807c48bebc13595d45af5bdc4da702133"),type:"ethereum"},{name:"Baltathar",publicKey:Object(p.a)("0x033bc19e36ff1673910575b6727a974a9abd80c9a875d41ab3e2648dbfb9e4b518"),secretKey:Object(p.a)("0x8075991ce870b93a8870eca0c0f91913d12f47948ca0fd25b49c6fa7cdbeee8b"),type:"ethereum"},{name:"Charleth",publicKey:Object(p.a)("0x0234637bdc0e89b5d46543bcbf8edff329d2702bc995e27e9af4b1ba009a3c2a5e"),secretKey:Object(p.a)("0x0b6e18cafb6ed99687ec547bd28139cafdd2bffe70e6b688025de6b445aa5c5b"),type:"ethereum"},{name:"Dorothy",publicKey:Object(p.a)("0x02a00d60b2b408c2a14c5d70cdd2c205db8985ef737a7e55ad20ea32cc9e7c417c"),secretKey:Object(p.a)("0x39539ab1876910bbf3a223d84a29e28f1cb4e2e456503e7e91ed39b2e7223d68"),type:"ethereum"},{name:"Ethan",publicKey:Object(p.a)("0x025cdc005b752651cd3f728fb9192182acb3a9c89e19072cbd5b03f3ee1f1b3ffa"),secretKey:Object(p.a)("0x7dce9bc8babb68fec1409be38c8e1a52650206a7ed90ff956ae8a6d15eeaaef4"),type:"ethereum"},{name:"Faith",publicKey:Object(p.a)("0x037964b6c9d546da4646ada28a99e34acaa1d14e7aba861a9055f9bd200c8abf74"),secretKey:Object(p.a)("0xb9d2ea9a615f3165812e8d44de0d24da9bbd164b65c4f0573e1ce2c8dbd9c8df"),type:"ethereum"}];function g(e={},t=!0){const r=new n.a(e),a=e.type&&"ethereum"===e.type?m:f;for(const{name:n,publicKey:i,secretKey:s,seed:o,type:c}of a){if(!n&&!o)throw new Error("Testing pair should have either a name or a seed");const a={isTesting:!0,name:n||o&&o.replace("//","_").toLowerCase()};(t||n||!o?r.addPair(Object(d.a)({toSS58:r.encodeAddress,type:c},{publicKey:i,secretKey:s},a)):r.addFromUri(o,a,e.type)).lock=()=>{}}return r}const y=new Uint8Array(32),b=Object(i.a)(y),v={isTesting:!0,name:"nobody"},_={address:b,encoded:"",encoding:{content:["pkcs8","ed25519"],type:"none",version:"0"},meta:v},w={address:b,addressRaw:y,decodePkcs8:(e,t)=>{},decryptMessage:(e,t)=>null,derive:(e,t)=>w,encodePkcs8:e=>new Uint8Array(0),encryptMessage:(e,t,r)=>new Uint8Array,isLocked:!0,lock:()=>{},meta:v,publicKey:y,setMeta:e=>{},sign:e=>new Uint8Array(64),toJson:e=>_,type:"ed25519",unlock:e=>{},verify:(e,t)=>!1,vrfSign:(e,t,r)=>new Uint8Array(96),vrfVerify:(e,t,r,n)=>!1};function x(e,t=!0){const r=g(e,t).getPairs(),n={nobody:w};for(const e of r)n[e.meta.name]=e;return n}t.default=n.a},function(e,t,r){(function(t){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(12),c=r(53),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(this,e),this.BROWSER=1,this.SPVMODE=0,this.options=t,this.config={},this.newSaito(),this.modules=new o.modules(this,t.mod_paths),this}var n,u,l,d,h;return n=e,(u=[{key:"newSaito",value:function(){this.crypto=new o.crypto,this.connection=new o.connection,this.browser=new o.browser(this),this.storage=new o.storage(this),this.shashmap=new o.shashmap(this),this.mempool=new o.mempool(this),this.wallet=new o.wallet(this),this.miner=new o.miner(this),this.keys=new o.keychain(this),this.network=new o.network(this),this.burnfee=new o.burnfee(this),this.blockchain=new o.blockchain(this)}},{key:"init",value:(h=a(regeneratorRuntime.mark((function e(){var n,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.storage.initialize();case 3:return n=this,t.argv.forEach((function(e,t,r){var a=e.split("=")[0],i=e.split("=")[1];n.options.runtime[a]=i})),this.wallet.initialize(),this.mempool.initialize(),this.keys.initialize(),this.modules.mods=this.modules.mods_list.map((function(e){var t=new(r(1099)("./".concat(e)))(a);return t.dirname=c.dirname(e),t})),e.next=11,this.browser.initialize();case 11:return e.next=13,this.modules.initialize();case 13:return e.next=15,this.blockchain.initialize();case 15:this.network.initialize(),this.server&&this.server.initialize(),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),console.log("Error occured initializing your Saito install. The most likely cause of this is a module that is throwing an error on initialization. You can debug this by removing modules from your config file to test which ones are causing the problem and restarting."),console.log(e.t0);case 23:case"end":return e.stop()}}),e,this,[[0,19]])}))),function(){return h.apply(this,arguments)})},{key:"reset",value:(d=a(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.options=t,this.newSaito(),e.next=4,this.init();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"shutdown",value:function(){this.network.close()}}])&&s(n.prototype,u),l&&s(n,l),e}();e.exports.Saito=u,e.exports.saito_lib=o}).call(this,r(19))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n={name:"@polkadot/util-crypto",version:"7.7.1"}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(25),a=r(55),i=r(193);function s(e,t=-1){if(!e)return new Uint8Array;Object(n.a)(Object(a.a)(e),()=>`Expected hex value to convert, found '${e}'`);const r=Object(i.a)(e),s=r.length/2,o=Math.ceil(-1===t?s:t/8),c=new Uint8Array(o),u=Math.max(0,o-s);for(let e=0;e<o;e++)c[e+u]=parseInt(r.substr(2*e,2),16);return c}},function(e,t,r){"use strict";var n=r(9).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var a=0;a<e.length;a++){var i=e.charAt(a),s=i.charCodeAt(0);if(255!==t[s])throw new TypeError(i+" is ambiguous");t[s]=a}var o=e.length,c=e.charAt(0),u=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,a=0,i=0;e[r]===c;)a++,r++;for(var s=(e.length-r)*u+1>>>0,l=new Uint8Array(s);e[r];){var d=t[e.charCodeAt(r)];if(255===d)return;for(var h=0,p=s-1;(0!==d||h<i)&&-1!==p;p--,h++)d+=o*l[p]>>>0,l[p]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");i=h,r++}for(var f=s-i;f!==s&&0===l[f];)f++;var m=n.allocUnsafe(a+(s-f));m.fill(0,0,a);for(var g=a;f!==s;)m[g++]=l[f++];return m}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,a=0,i=0,s=t.length;i!==s&&0===t[i];)i++,r++;for(var u=(s-i)*l+1>>>0,d=new Uint8Array(u);i!==s;){for(var h=t[i],p=0,f=u-1;(0!==h||p<a)&&-1!==f;f--,p++)h+=256*d[f]>>>0,d[f]=h%o>>>0,h=h/o>>>0;if(0!==h)throw new Error("Non-zero carry");a=p,i++}for(var m=u-a;m!==u&&0===d[m];)m++;for(var g=c.repeat(r);m<u;++m)g+=e.charAt(d[m]);return g},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+o+" character")}}}},function(e,t,r){const n=r(1225),a=r(1226);e.exports={blake2b:n.blake2b,blake2bHex:n.blake2bHex,blake2bInit:n.blake2bInit,blake2bUpdate:n.blake2bUpdate,blake2bFinal:n.blake2bFinal,blake2s:a.blake2s,blake2sHex:a.blake2sHex,blake2sInit:a.blake2sInit,blake2sUpdate:a.blake2sUpdate,blake2sFinal:a.blake2sFinal}},function(e,t,r){"use strict";function n(e){return"object"==typeof e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(8),a=r.n(n);function i(e){return a.a.isBN(e)}},function(e,t,r){"use strict";function n(e){return e.toString().padStart(2,"0")}function a(e){return`${e.getFullYear().toString()}-${n(e.getMonth()+1)}-${n(e.getDate())} ${n(e.getHours())}:${n(e.getMinutes())}:${n(e.getSeconds())}`}r.d(t,"a",(function(){return a}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(25),a=r(79),i=r(28);function s(e){Object(n.a)(32===e.length,"Expected valid 32-byte private key as a seed");const t=i.b.keyFromPrivate(e);return{publicKey:new Uint8Array(t.getPublic().encodeCompressed()),secretKey:Object(a.a)(t.getPrivate(),i.a)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(30),a=r.n(n),i=r(62);function s(e,t=!1){if(!t&&Object(i.i)()){const t=Object(i.f)(e);return{publicKey:t.slice(32),secretKey:t.slice(0,64)}}return a.a.sign.keyPair.fromSeed(e)}},function(e,t,r){const n=r(1229);n.async=r(1230),e.exports=n},function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(25),a=r(8),i=r.n(a),s=r(61),o=r(79),c=r(113),u=r(112);const l=new i.a(2).pow(new i.a(6)).subn(1),d=new i.a(2).pow(new i.a(14)).subn(1),h=new i.a(2).pow(new i.a(30)).subn(1);function p(e){const t=Object(s.a)(e);if(t.lte(l))return new Uint8Array([t.toNumber()<<2]);if(t.lte(d))return Object(o.a)(t.shln(2).iadd(c.f),16,!0);if(t.lte(h))return Object(o.a)(t.shln(2).iadd(c.h),32,!0);const r=Object(o.a)(t);let a=r.length;for(;0===r[a-1];)a--;return Object(n.a)(a>=4,"Invalid length, previous checks match anything less than 2^30"),Object(u.a)([3+(a-4<<2)],r.subarray(0,a))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n={name:"@polkadot/rpc-provider",version:"6.6.1"}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n={name:"@polkadot/types",version:"6.6.1"}},function(e,t,r){"use strict";const n=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},0===(e=Array.isArray(e)?e.map(e=>e.trim()).filter(e=>e.length).join("-"):e.trim()).length)return"";if(1===e.length)return t.pascalCase?e.toLocaleUpperCase(t.locale):e.toLocaleLowerCase(t.locale);return e!==e.toLocaleLowerCase(t.locale)&&(e=((e,t)=>{let r=!1,n=!1,a=!1;for(let i=0;i<e.length;i++){const s=e[i];r&&/[\p{Lu}]/u.test(s)?(e=e.slice(0,i)+"-"+e.slice(i),r=!1,a=n,n=!0,i++):n&&a&&/[\p{Ll}]/u.test(s)?(e=e.slice(0,i-1)+"-"+e.slice(i-1),a=n,n=!1,r=!0):(r=s.toLocaleLowerCase(t)===s&&s.toLocaleUpperCase(t)!==s,a=n,n=s.toLocaleUpperCase(t)===s&&s.toLocaleLowerCase(t)!==s)}return e})(e,t.locale)),e=e.replace(/^[_.\- ]+/,""),e=t.preserveConsecutiveUppercase?(e=>e.replace(/^[\p{Lu}](?![\p{Lu}])/gu,e=>e.toLowerCase()))(e):e.toLocaleLowerCase(),t.pascalCase&&(e=e.charAt(0).toLocaleUpperCase(t.locale)+e.slice(1)),((e,t)=>e.replace(/[_.\- ]+([\p{Alpha}\p{N}_]|$)/gu,(e,r)=>r.toLocaleUpperCase(t.locale)).replace(/\d+([\p{Alpha}\p{N}_]|$)/gu,e=>e.toLocaleUpperCase(t.locale)))(e,t)};e.exports=n,e.exports.default=n},function(e,t,r){e.exports={h32:r(1232),h64:r(1235)}},function(e,t){e.exports={core:["arcade/arcade.js","archive/archive.js","blackjack/blackjack.js","chat/chat.js","chess/chess.js","dotarcade/dotarcade.js","email/email.js","encrypt/encrypt.js","explorer/explorer.js","forge/forge.js","imperium/imperium.js","myqrcode/myqrcode.js","post/post.js","poker/poker.js","polkadot/polkadot.js","qrscanner/qrscanner.js","relay/relay.js","settlers/settlers.js","settings/settings.js","solitrio/solitrio.js","wordblocks/wordblocks.js","website/website.js"],lite:["arcade/arcade.js","archive/archive.js","blackjack/blackjack.js","chess/chess.js","chat/chat.js","email/email.js","debug/debug.js","dotarcade/dotarcade.js","encrypt/encrypt.js","forge/forge.js","imperium/imperium.js","myqrcode/myqrcode.js","qrscanner/qrscanner.js","poker/poker.js","polkadot/polkadot.js","post/post.js","relay/relay.js","registry/registry.js","settings/settings.js","settlers/settlers.js","solitrio/solitrio.js","wordblocks/wordblocks.js","website/website.js"]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(31);const a=void 0===n.a.TextEncoder?class{encode(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}}:n.a.TextEncoder},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(31);const a=void 0===n.a.TextDecoder?class{constructor(e){}decode(e){let t="";for(const r of e)t+=String.fromCharCode(r);return t}}:n.a.TextDecoder},function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));var n=r(25),a=r(0),i=r(1),s=r(8),o=r.n(s),c=r(186),u=r(636),l=r(188),d=r(79),h=r(55),p=r(632),f=r(73),m=r(1308),g=r(136),y=r(75);const b=/^\d+$/,v={bitLength:256,isLe:!0};var _=Object(i.a)("chainCode"),w=Object(i.a)("isHard");class x{constructor(){Object.defineProperty(this,_,{writable:!0,value:new Uint8Array(32)}),Object.defineProperty(this,w,{writable:!0,value:!1})}static from(e){const t=new x,[r,n]=e.startsWith("/")?[e.substr(1),!0]:[e,!1];return t.soft(b.test(r)?new o.a(r,10):r),n?t.harden():t}get chainCode(){return Object(a.a)(this,_)[_]}get isHard(){return Object(a.a)(this,w)[w]}get isSoft(){return!Object(a.a)(this,w)[w]}hard(e){return this.soft(e).harden()}harden(){return Object(a.a)(this,w)[w]=!0,this}soft(e){return Object(c.a)(e)||Object(u.a)(e)||Object(l.a)(e)?this.soft(Object(d.a)(e,v)):Object(h.a)(e)?this.soft(Object(p.a)(e)):Object(f.a)(e)?this.soft(Object(m.a)(Object(g.a)(e))):e.length>32?this.soft(Object(y.a)(e)):(Object(a.a)(this,_)[_].fill(0),Object(a.a)(this,_)[_].set(e,0),this)}soften(){return Object(a.a)(this,w)[w]=!1,this}}const k=/\/(\/?)([^/]+)/g;function S(e){const t=e.match(k),r=[];let a="";if(t){a=t.join("");for(const e of t)r.push(x.from(e.substr(1)))}return Object(n.a)(a===e,()=>`Re-constructed path "${a}" does not match input`),{parts:t,path:r}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(31),a=r(74),i=r(73),s=r(25);const o="Either remove and explicitly install matching versions or dedupe using your package manager.\nThe following conflicting packages were found:";function c(e){let t=0;for(const{version:r}of e)t=Math.max(t,r.length);return t}function u(e){if(Object(a.a)(e))try{return e()||""}catch(e){return""}return e||""}function l({name:e,version:t},r,a=[]){Object(s.a)(e.startsWith("@polkadot"),()=>"Invalid package descriptor "+e);const l=function(e){const t=n.a;return t.__polkadotjs||(t.__polkadotjs={}),t.__polkadotjs[e]||(t.__polkadotjs[e]=[]),t.__polkadotjs[e]}(e);if(l.push({path:u(r),version:t}),1!==l.length)console.warn(`${e} has multiple versions, ensure that there is only one installed.\n${o}\n${function(e){const t=e.map(e=>Object(i.a)(e)?{version:e}:e),r=c(t);return t.map(({path:e,version:t})=>`\t${t.padEnd(r)}\t${!e||e.length<5?"<unknown>":e}`).join("\n")}(l)}`);else{const r=a.filter(e=>e&&e.version!==t);r.length&&console.warn(`${e} requires direct dependencies exactly matching version ${t}.\n${o}\n${function(e){const t=c(e);return e.map(({name:e,version:r})=>`\t${r.padEnd(t)}\t${e}`).join("\n")}(r)}`)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(369),a=r.n(n),i=r(16),s=r(62);function o(e,t=256,r=!1){const n=256===t;return Object(s.i)()&&n&&!r?Object(s.j)(Object(i.a)(e)):new Uint8Array((n?a.a.keccak256:a.a.keccak512).update(Object(i.a)(e)).arrayBuffer())}},,,,,,,,,,,,,,function(e,t,r){r(666),e.exports=r(868)},function(e,t,r){"use strict";(function(e){if(r(667),r(864),r(865),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;function t(e,t,r){e[t]||Object.defineProperty(e,t,{writable:!0,configurable:!0,value:r})}t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(e){[][e]&&t(Array,e,Function.call.bind([][e]))}))}).call(this,r(26))},function(e,t,r){r(668),r(671),r(672),r(673),r(674),r(675),r(676),r(677),r(678),r(679),r(680),r(681),r(682),r(683),r(684),r(685),r(686),r(687),r(688),r(689),r(690),r(691),r(692),r(693),r(694),r(695),r(696),r(697),r(698),r(699),r(700),r(701),r(702),r(703),r(704),r(705),r(706),r(707),r(708),r(709),r(710),r(711),r(712),r(713),r(714),r(715),r(716),r(717),r(718),r(719),r(720),r(721),r(722),r(723),r(724),r(725),r(726),r(727),r(728),r(729),r(730),r(731),r(732),r(733),r(734),r(735),r(736),r(737),r(738),r(739),r(740),r(741),r(742),r(743),r(744),r(745),r(746),r(748),r(749),r(751),r(752),r(753),r(754),r(755),r(756),r(757),r(759),r(760),r(761),r(762),r(763),r(764),r(765),r(766),r(767),r(768),r(769),r(770),r(771),r(217),r(772),r(397),r(773),r(398),r(774),r(775),r(776),r(777),r(778),r(401),r(403),r(404),r(779),r(780),r(781),r(782),r(783),r(784),r(785),r(786),r(787),r(788),r(789),r(790),r(791),r(792),r(793),r(794),r(795),r(796),r(797),r(798),r(799),r(800),r(801),r(802),r(803),r(804),r(805),r(806),r(807),r(808),r(809),r(810),r(811),r(812),r(813),r(814),r(815),r(816),r(817),r(818),r(819),r(820),r(821),r(822),r(823),r(824),r(825),r(826),r(827),r(828),r(829),r(830),r(831),r(832),r(833),r(834),r(835),r(836),r(837),r(838),r(839),r(840),r(841),r(842),r(843),r(844),r(845),r(846),r(847),r(848),r(849),r(850),r(851),r(852),r(853),r(854),r(855),r(856),r(857),r(858),r(859),r(860),r(861),r(862),r(863),e.exports=r(42)},function(e,t,r){"use strict";var n=r(13),a=r(35),i=r(20),s=r(4),o=r(33),c=r(65).KEY,u=r(14),l=r(116),d=r(97),h=r(81),p=r(17),f=r(379),m=r(198),g=r(670),y=r(139),b=r(10),v=r(15),_=r(23),w=r(36),x=r(48),k=r(80),S=r(84),O=r(382),P=r(37),E=r(138),A=r(21),C=r(82),T=P.f,D=A.f,j=O.f,M=n.Symbol,I=n.JSON,R=I&&I.stringify,B=p("_hidden"),N=p("toPrimitive"),F={}.propertyIsEnumerable,q=l("symbol-registry"),L=l("symbols"),H=l("op-symbols"),U=Object.prototype,z="function"==typeof M&&!!E.f,V=n.QObject,G=!V||!V.prototype||!V.prototype.findChild,W=i&&u((function(){return 7!=S(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=T(U,t);n&&delete U[t],D(e,t,r),n&&e!==U&&D(U,t,n)}:D,K=function(e){var t=L[e]=S(M.prototype);return t._k=e,t},Y=z&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},X=function(e,t,r){return e===U&&X(H,t,r),b(e),t=x(t,!0),b(r),a(L,t)?(r.enumerable?(a(e,B)&&e[B][t]&&(e[B][t]=!1),r=S(r,{enumerable:k(0,!1)})):(a(e,B)||D(e,B,k(1,{})),e[B][t]=!0),W(e,t,r)):D(e,t,r)},J=function(e,t){b(e);for(var r,n=g(t=w(t)),a=0,i=n.length;i>a;)X(e,r=n[a++],t[r]);return e},Q=function(e){var t=F.call(this,e=x(e,!0));return!(this===U&&a(L,e)&&!a(H,e))&&(!(t||!a(this,e)||!a(L,e)||a(this,B)&&this[B][e])||t)},Z=function(e,t){if(e=w(e),t=x(t,!0),e!==U||!a(L,t)||a(H,t)){var r=T(e,t);return!r||!a(L,t)||a(e,B)&&e[B][t]||(r.enumerable=!0),r}},$=function(e){for(var t,r=j(w(e)),n=[],i=0;r.length>i;)a(L,t=r[i++])||t==B||t==c||n.push(t);return n},ee=function(e){for(var t,r=e===U,n=j(r?H:w(e)),i=[],s=0;n.length>s;)!a(L,t=n[s++])||r&&!a(U,t)||i.push(L[t]);return i};z||(o((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(r){this===U&&t.call(H,r),a(this,B)&&a(this[B],e)&&(this[B][e]=!1),W(this,e,k(1,r))};return i&&G&&W(U,e,{configurable:!0,set:t}),K(e)}).prototype,"toString",(function(){return this._k})),P.f=Z,A.f=X,r(85).f=O.f=$,r(118).f=Q,E.f=ee,i&&!r(64)&&o(U,"propertyIsEnumerable",Q,!0),f.f=function(e){return K(p(e))}),s(s.G+s.W+s.F*!z,{Symbol:M});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)p(te[re++]);for(var ne=C(p.store),ae=0;ne.length>ae;)m(ne[ae++]);s(s.S+s.F*!z,"Symbol",{for:function(e){return a(q,e+="")?q[e]:q[e]=M(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in q)if(q[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),s(s.S+s.F*!z,"Object",{create:function(e,t){return void 0===t?S(e):J(S(e),t)},defineProperty:X,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:ee});var ie=u((function(){E.f(1)}));s(s.S+s.F*ie,"Object",{getOwnPropertySymbols:function(e){return E.f(_(e))}}),I&&s(s.S+s.F*(!z||u((function(){var e=M();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],a=1;arguments.length>a;)n.push(arguments[a++]);if(r=t=n[1],(v(t)||void 0!==e)&&!Y(e))return y(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Y(t))return t}),n[1]=t,R.apply(I,n)}}),M.prototype[N]||r(32)(M.prototype,N,M.prototype.valueOf),d(M,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(e,t,r){e.exports=r(116)("native-function-to-string",Function.toString)},function(e,t,r){var n=r(82),a=r(138),i=r(118);e.exports=function(e){var t=n(e),r=a.f;if(r)for(var s,o=r(e),c=i.f,u=0;o.length>u;)c.call(e,s=o[u++])&&t.push(s);return t}},function(e,t,r){var n=r(4);n(n.S,"Object",{create:r(84)})},function(e,t,r){var n=r(4);n(n.S+n.F*!r(20),"Object",{defineProperty:r(21).f})},function(e,t,r){var n=r(4);n(n.S+n.F*!r(20),"Object",{defineProperties:r(381)})},function(e,t,r){var n=r(36),a=r(37).f;r(50)("getOwnPropertyDescriptor",(function(){return function(e,t){return a(n(e),t)}}))},function(e,t,r){var n=r(23),a=r(38);r(50)("getPrototypeOf",(function(){return function(e){return a(n(e))}}))},function(e,t,r){var n=r(23),a=r(82);r(50)("keys",(function(){return function(e){return a(n(e))}}))},function(e,t,r){r(50)("getOwnPropertyNames",(function(){return r(382).f}))},function(e,t,r){var n=r(15),a=r(65).onFreeze;r(50)("freeze",(function(e){return function(t){return e&&n(t)?e(a(t)):t}}))},function(e,t,r){var n=r(15),a=r(65).onFreeze;r(50)("seal",(function(e){return function(t){return e&&n(t)?e(a(t)):t}}))},function(e,t,r){var n=r(15),a=r(65).onFreeze;r(50)("preventExtensions",(function(e){return function(t){return e&&n(t)?e(a(t)):t}}))},function(e,t,r){var n=r(15);r(50)("isFrozen",(function(e){return function(t){return!n(t)||!!e&&e(t)}}))},function(e,t,r){var n=r(15);r(50)("isSealed",(function(e){return function(t){return!n(t)||!!e&&e(t)}}))},function(e,t,r){var n=r(15);r(50)("isExtensible",(function(e){return function(t){return!!n(t)&&(!e||e(t))}}))},function(e,t,r){var n=r(4);n(n.S+n.F,"Object",{assign:r(383)})},function(e,t,r){var n=r(4);n(n.S,"Object",{is:r(384)})},function(e,t,r){var n=r(4);n(n.S,"Object",{setPrototypeOf:r(202).set})},function(e,t,r){"use strict";var n=r(98),a={};a[r(17)("toStringTag")]="z",a+""!="[object z]"&&r(33)(Object.prototype,"toString",(function(){return"[object "+n(this)+"]"}),!0)},function(e,t,r){var n=r(4);n(n.P,"Function",{bind:r(385)})},function(e,t,r){var n=r(21).f,a=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in a||r(20)&&n(a,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,r){"use strict";var n=r(15),a=r(38),i=r(17)("hasInstance"),s=Function.prototype;i in s||r(21).f(s,i,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=a(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,r){var n=r(4),a=r(387);n(n.G+n.F*(parseInt!=a),{parseInt:a})},function(e,t,r){var n=r(4),a=r(388);n(n.G+n.F*(parseFloat!=a),{parseFloat:a})},function(e,t,r){"use strict";var n=r(13),a=r(35),i=r(44),s=r(204),o=r(48),c=r(14),u=r(85).f,l=r(37).f,d=r(21).f,h=r(99).trim,p=n.Number,f=p,m=p.prototype,g="Number"==i(r(84)(m)),y="trim"in String.prototype,b=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){var r,n,a,i=(t=y?t.trim():h(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+t}for(var s,c=t.slice(2),u=0,l=c.length;u<l;u++)if((s=c.charCodeAt(u))<48||s>a)return NaN;return parseInt(c,n)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof p&&(g?c((function(){m.valueOf.call(r)})):"Number"!=i(r))?s(new f(b(t)),r,p):b(t)};for(var v,_=r(20)?u(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)a(f,v=_[w])&&!a(p,v)&&d(p,v,l(f,v));p.prototype=m,m.constructor=p,r(33)(n,"Number",p)}},function(e,t,r){"use strict";var n=r(4),a=r(45),i=r(389),s=r(205),o=1..toFixed,c=Math.floor,u=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",d=function(e,t){for(var r=-1,n=t;++r<6;)n+=e*u[r],u[r]=n%1e7,n=c(n/1e7)},h=function(e){for(var t=6,r=0;--t>=0;)r+=u[t],u[t]=c(r/e),r=r%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var r=String(u[e]);t=""===t?r:t+s.call("0",7-r.length)+r}return t},f=function(e,t,r){return 0===t?r:t%2==1?f(e,t-1,r*e):f(e*e,t/2,r)};n(n.P+n.F*(!!o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(14)((function(){o.call({})}))),"Number",{toFixed:function(e){var t,r,n,o,c=i(this,l),u=a(e),m="",g="0";if(u<0||u>20)throw RangeError(l);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m="-",c=-c),c>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(c*f(2,69,1))-69)<0?c*f(2,-t,1):c/f(2,t,1),r*=4503599627370496,(t=52-t)>0){for(d(0,r),n=u;n>=7;)d(1e7,0),n-=7;for(d(f(10,n,1),0),n=t-1;n>=23;)h(1<<23),n-=23;h(1<<n),d(1,1),h(2),g=p()}else d(0,r),d(1<<-t,0),g=p()+s.call("0",u);return g=u>0?m+((o=g.length)<=u?"0."+s.call("0",u-o)+g:g.slice(0,o-u)+"."+g.slice(o-u)):m+g}})},function(e,t,r){"use strict";var n=r(4),a=r(14),i=r(389),s=1..toPrecision;n(n.P+n.F*(a((function(){return"1"!==s.call(1,void 0)}))||!a((function(){s.call({})}))),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?s.call(t):s.call(t,e)}})},function(e,t,r){var n=r(4);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,r){var n=r(4),a=r(13).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&a(e)}})},function(e,t,r){var n=r(4);n(n.S,"Number",{isInteger:r(390)})},function(e,t,r){var n=r(4);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,r){var n=r(4),a=r(390),i=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return a(e)&&i(e)<=9007199254740991}})},function(e,t,r){var n=r(4);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){var n=r(4);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,r){var n=r(4),a=r(388);n(n.S+n.F*(Number.parseFloat!=a),"Number",{parseFloat:a})},function(e,t,r){var n=r(4),a=r(387);n(n.S+n.F*(Number.parseInt!=a),"Number",{parseInt:a})},function(e,t,r){var n=r(4),a=r(391),i=Math.sqrt,s=Math.acosh;n(n.S+n.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:a(e-1+i(e-1)*i(e+1))}})},function(e,t,r){var n=r(4),a=Math.asinh;n(n.S+n.F*!(a&&1/a(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,r){var n=r(4),a=Math.atanh;n(n.S+n.F*!(a&&1/a(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,r){var n=r(4),a=r(206);n(n.S,"Math",{cbrt:function(e){return a(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,r){var n=r(4);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,r){var n=r(4),a=Math.exp;n(n.S,"Math",{cosh:function(e){return(a(e=+e)+a(-e))/2}})},function(e,t,r){var n=r(4),a=r(207);n(n.S+n.F*(a!=Math.expm1),"Math",{expm1:a})},function(e,t,r){var n=r(4);n(n.S,"Math",{fround:r(392)})},function(e,t,r){var n=r(4),a=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var r,n,i=0,s=0,o=arguments.length,c=0;s<o;)c<(r=a(arguments[s++]))?(i=i*(n=c/r)*n+1,c=r):i+=r>0?(n=r/c)*n:r;return c===1/0?1/0:c*Math.sqrt(i)}})},function(e,t,r){var n=r(4),a=Math.imul;n(n.S+n.F*r(14)((function(){return-5!=a(4294967295,5)||2!=a.length})),"Math",{imul:function(e,t){var r=+e,n=+t,a=65535&r,i=65535&n;return 0|a*i+((65535&r>>>16)*i+a*(65535&n>>>16)<<16>>>0)}})},function(e,t,r){var n=r(4);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,r){var n=r(4);n(n.S,"Math",{log1p:r(391)})},function(e,t,r){var n=r(4);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,r){var n=r(4);n(n.S,"Math",{sign:r(206)})},function(e,t,r){var n=r(4),a=r(207),i=Math.exp;n(n.S+n.F*r(14)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(a(e)-a(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,r){var n=r(4),a=r(207),i=Math.exp;n(n.S,"Math",{tanh:function(e){var t=a(e=+e),r=a(-e);return t==1/0?1:r==1/0?-1:(t-r)/(i(e)+i(-e))}})},function(e,t,r){var n=r(4);n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,r){var n=r(4),a=r(83),i=String.fromCharCode,s=String.fromCodePoint;n(n.S+n.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,s=0;n>s;){if(t=+arguments[s++],a(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},function(e,t,r){var n=r(4),a=r(36),i=r(18);n(n.S,"String",{raw:function(e){for(var t=a(e.raw),r=i(t.length),n=arguments.length,s=[],o=0;r>o;)s.push(String(t[o++])),o<n&&s.push(String(arguments[o]));return s.join("")}})},function(e,t,r){"use strict";r(99)("trim",(function(e){return function(){return e(this,3)}}))},function(e,t,r){"use strict";var n=r(140)(!0);r(208)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},function(e,t,r){"use strict";var n=r(4),a=r(140)(!1);n(n.P,"String",{codePointAt:function(e){return a(this,e)}})},function(e,t,r){"use strict";var n=r(4),a=r(18),i=r(210),s="".endsWith;n(n.P+n.F*r(211)("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),r=arguments.length>1?arguments[1]:void 0,n=a(t.length),o=void 0===r?n:Math.min(a(r),n),c=String(e);return s?s.call(t,c,o):t.slice(o-c.length,o)===c}})},function(e,t,r){"use strict";var n=r(4),a=r(210);n(n.P+n.F*r(211)("includes"),"String",{includes:function(e){return!!~a(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(4);n(n.P,"String",{repeat:r(205)})},function(e,t,r){"use strict";var n=r(4),a=r(18),i=r(210),s="".startsWith;n(n.P+n.F*r(211)("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),r=a(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return s?s.call(t,n,r):t.slice(r,r+n.length)===n}})},function(e,t,r){"use strict";r(34)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},function(e,t,r){"use strict";r(34)("big",(function(e){return function(){return e(this,"big","","")}}))},function(e,t,r){"use strict";r(34)("blink",(function(e){return function(){return e(this,"blink","","")}}))},function(e,t,r){"use strict";r(34)("bold",(function(e){return function(){return e(this,"b","","")}}))},function(e,t,r){"use strict";r(34)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},function(e,t,r){"use strict";r(34)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},function(e,t,r){"use strict";r(34)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},function(e,t,r){"use strict";r(34)("italics",(function(e){return function(){return e(this,"i","","")}}))},function(e,t,r){"use strict";r(34)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},function(e,t,r){"use strict";r(34)("small",(function(e){return function(){return e(this,"small","","")}}))},function(e,t,r){"use strict";r(34)("strike",(function(e){return function(){return e(this,"strike","","")}}))},function(e,t,r){"use strict";r(34)("sub",(function(e){return function(){return e(this,"sub","","")}}))},function(e,t,r){"use strict";r(34)("sup",(function(e){return function(){return e(this,"sup","","")}}))},function(e,t,r){var n=r(4);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,r){"use strict";var n=r(4),a=r(23),i=r(48);n(n.P+n.F*r(14)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=a(this),r=i(t);return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},function(e,t,r){var n=r(4),a=r(747);n(n.P+n.F*(Date.prototype.toISOString!==a),"Date",{toISOString:a})},function(e,t,r){"use strict";var n=r(14),a=Date.prototype.getTime,i=Date.prototype.toISOString,s=function(e){return e>9?e:"0"+e};e.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-50000000000001))}))||!n((function(){i.call(new Date(NaN))}))?function(){if(!isFinite(a.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+s(e.getUTCMonth()+1)+"-"+s(e.getUTCDate())+"T"+s(e.getUTCHours())+":"+s(e.getUTCMinutes())+":"+s(e.getUTCSeconds())+"."+(r>99?r:"0"+s(r))+"Z"}:i},function(e,t,r){var n=Date.prototype,a=n.toString,i=n.getTime;new Date(NaN)+""!="Invalid Date"&&r(33)(n,"toString",(function(){var e=i.call(this);return e==e?a.call(this):"Invalid Date"}))},function(e,t,r){var n=r(17)("toPrimitive"),a=Date.prototype;n in a||r(32)(a,n,r(750))},function(e,t,r){"use strict";var n=r(10),a=r(48);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return a(n(this),"number"!=e)}},function(e,t,r){var n=r(4);n(n.S,"Array",{isArray:r(139)})},function(e,t,r){"use strict";var n=r(43),a=r(4),i=r(23),s=r(393),o=r(212),c=r(18),u=r(213),l=r(214);a(a.S+a.F*!r(142)((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,a,d,h=i(e),p="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,y=0,b=l(h);if(g&&(m=n(m,f>2?arguments[2]:void 0,2)),null==b||p==Array&&o(b))for(r=new p(t=c(h.length));t>y;y++)u(r,y,g?m(h[y],y):h[y]);else for(d=b.call(h),r=new p;!(a=d.next()).done;y++)u(r,y,g?s(d,m,[a.value,y],!0):a.value);return r.length=y,r}})},function(e,t,r){"use strict";var n=r(4),a=r(213);n(n.S+n.F*r(14)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)a(r,e,arguments[e++]);return r.length=t,r}})},function(e,t,r){"use strict";var n=r(4),a=r(36),i=[].join;n(n.P+n.F*(r(117)!=Object||!r(46)(i)),"Array",{join:function(e){return i.call(a(this),void 0===e?",":e)}})},function(e,t,r){"use strict";var n=r(4),a=r(201),i=r(44),s=r(83),o=r(18),c=[].slice;n(n.P+n.F*r(14)((function(){a&&c.call(a)})),"Array",{slice:function(e,t){var r=o(this.length),n=i(this);if(t=void 0===t?r:t,"Array"==n)return c.call(this,e,t);for(var a=s(e,r),u=s(t,r),l=o(u-a),d=new Array(l),h=0;h<l;h++)d[h]="String"==n?this.charAt(a+h):this[a+h];return d}})},function(e,t,r){"use strict";var n=r(4),a=r(29),i=r(23),s=r(14),o=[].sort,c=[1,2,3];n(n.P+n.F*(s((function(){c.sort(void 0)}))||!s((function(){c.sort(null)}))||!r(46)(o)),"Array",{sort:function(e){return void 0===e?o.call(i(this)):o.call(i(this),a(e))}})},function(e,t,r){"use strict";var n=r(4),a=r(51)(0),i=r(46)([].forEach,!0);n(n.P+n.F*!i,"Array",{forEach:function(e){return a(this,e,arguments[1])}})},function(e,t,r){var n=r(15),a=r(139),i=r(17)("species");e.exports=function(e){var t;return a(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),n(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){"use strict";var n=r(4),a=r(51)(1);n(n.P+n.F*!r(46)([].map,!0),"Array",{map:function(e){return a(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(4),a=r(51)(2);n(n.P+n.F*!r(46)([].filter,!0),"Array",{filter:function(e){return a(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(4),a=r(51)(3);n(n.P+n.F*!r(46)([].some,!0),"Array",{some:function(e){return a(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(4),a=r(51)(4);n(n.P+n.F*!r(46)([].every,!0),"Array",{every:function(e){return a(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(4),a=r(394);n(n.P+n.F*!r(46)([].reduce,!0),"Array",{reduce:function(e){return a(this,e,arguments.length,arguments[1],!1)}})},function(e,t,r){"use strict";var n=r(4),a=r(394);n(n.P+n.F*!r(46)([].reduceRight,!0),"Array",{reduceRight:function(e){return a(this,e,arguments.length,arguments[1],!0)}})},function(e,t,r){"use strict";var n=r(4),a=r(137)(!1),i=[].indexOf,s=!!i&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(s||!r(46)(i)),"Array",{indexOf:function(e){return s?i.apply(this,arguments)||0:a(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(4),a=r(36),i=r(45),s=r(18),o=[].lastIndexOf,c=!!o&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(c||!r(46)(o)),"Array",{lastIndexOf:function(e){if(c)return o.apply(this,arguments)||0;var t=a(this),r=s(t.length),n=r-1;for(arguments.length>1&&(n=Math.min(n,i(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}})},function(e,t,r){var n=r(4);n(n.P,"Array",{copyWithin:r(395)}),r(66)("copyWithin")},function(e,t,r){var n=r(4);n(n.P,"Array",{fill:r(216)}),r(66)("fill")},function(e,t,r){"use strict";var n=r(4),a=r(51)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),n(n.P+n.F*i,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r(66)("find")},function(e,t,r){"use strict";var n=r(4),a=r(51)(6),i="findIndex",s=!0;i in[]&&Array(1)[i]((function(){s=!1})),n(n.P+n.F*s,"Array",{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r(66)(i)},function(e,t,r){r(86)("Array")},function(e,t,r){var n=r(13),a=r(204),i=r(21).f,s=r(85).f,o=r(141),c=r(119),u=n.RegExp,l=u,d=u.prototype,h=/a/g,p=/a/g,f=new u(h)!==h;if(r(20)&&(!f||r(14)((function(){return p[r(17)("match")]=!1,u(h)!=h||u(p)==p||"/a/i"!=u(h,"i")})))){u=function(e,t){var r=this instanceof u,n=o(e),i=void 0===t;return!r&&n&&e.constructor===u&&i?e:a(f?new l(n&&!i?e.source:e,t):l((n=e instanceof u)?e.source:e,n&&i?c.call(e):t),r?this:d,u)};for(var m=function(e){e in u||i(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},g=s(l),y=0;g.length>y;)m(g[y++]);d.constructor=u,u.prototype=d,r(33)(n,"RegExp",u)}r(86)("RegExp")},function(e,t,r){"use strict";r(398);var n=r(10),a=r(119),i=r(20),s=/./.toString,o=function(e){r(33)(RegExp.prototype,"toString",e,!0)};r(14)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?o((function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?a.call(e):void 0)})):"toString"!=s.name&&o((function(){return s.call(this)}))},function(e,t,r){"use strict";var n=r(10),a=r(18),i=r(219),s=r(143);r(144)("match",1,(function(e,t,r,o){return[function(r){var n=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=o(r,e,this);if(t.done)return t.value;var c=n(e),u=String(this);if(!c.global)return s(c,u);var l=c.unicode;c.lastIndex=0;for(var d,h=[],p=0;null!==(d=s(c,u));){var f=String(d[0]);h[p]=f,""===f&&(c.lastIndex=i(u,a(c.lastIndex),l)),p++}return 0===p?null:h}]}))},function(e,t,r){"use strict";var n=r(10),a=r(23),i=r(18),s=r(45),o=r(219),c=r(143),u=Math.max,l=Math.min,d=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;r(144)("replace",2,(function(e,t,r,f){return[function(n,a){var i=e(this),s=null==n?void 0:n[t];return void 0!==s?s.call(n,i,a):r.call(String(i),n,a)},function(e,t){var a=f(r,e,this,t);if(a.done)return a.value;var d=n(e),h=String(this),p="function"==typeof t;p||(t=String(t));var g=d.global;if(g){var y=d.unicode;d.lastIndex=0}for(var b=[];;){var v=c(d,h);if(null===v)break;if(b.push(v),!g)break;""===String(v[0])&&(d.lastIndex=o(h,i(d.lastIndex),y))}for(var _,w="",x=0,k=0;k<b.length;k++){v=b[k];for(var S=String(v[0]),O=u(l(s(v.index),h.length),0),P=[],E=1;E<v.length;E++)P.push(void 0===(_=v[E])?_:String(_));var A=v.groups;if(p){var C=[S].concat(P,O,h);void 0!==A&&C.push(A);var T=String(t.apply(void 0,C))}else T=m(S,h,O,P,A,t);O>=x&&(w+=h.slice(x,O)+T,x=O+S.length)}return w+h.slice(x)}];function m(e,t,n,i,s,o){var c=n+e.length,u=i.length,l=p;return void 0!==s&&(s=a(s),l=h),r.call(o,l,(function(r,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(c);case"<":o=s[a.slice(1,-1)];break;default:var l=+a;if(0===l)return r;if(l>u){var h=d(l/10);return 0===h?r:h<=u?void 0===i[h-1]?a.charAt(1):i[h-1]+a.charAt(1):r}o=i[l-1]}return void 0===o?"":o}))}}))},function(e,t,r){"use strict";var n=r(10),a=r(384),i=r(143);r(144)("search",1,(function(e,t,r,s){return[function(r){var n=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=s(r,e,this);if(t.done)return t.value;var o=n(e),c=String(this),u=o.lastIndex;a(u,0)||(o.lastIndex=0);var l=i(o,c);return a(o.lastIndex,u)||(o.lastIndex=u),null===l?-1:l.index}]}))},function(e,t,r){"use strict";var n=r(141),a=r(10),i=r(120),s=r(219),o=r(18),c=r(143),u=r(218),l=r(14),d=Math.min,h=[].push,p="length",f=!l((function(){RegExp(4294967295,"y")}));r(144)("split",2,(function(e,t,r,l){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[p]||2!="ab".split(/(?:ab)*/)[p]||4!=".".split(/(.?)(.?)/)[p]||".".split(/()()/)[p]>1||"".split(/.?/)[p]?function(e,t){var a=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(a,e,t);for(var i,s,o,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,f=void 0===t?4294967295:t>>>0,m=new RegExp(e.source,l+"g");(i=u.call(m,a))&&!((s=m.lastIndex)>d&&(c.push(a.slice(d,i.index)),i[p]>1&&i.index<a[p]&&h.apply(c,i.slice(1)),o=i[0][p],d=s,c[p]>=f));)m.lastIndex===i.index&&m.lastIndex++;return d===a[p]?!o&&m.test("")||c.push(""):c.push(a.slice(d)),c[p]>f?c.slice(0,f):c}:"0".split(void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var a=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,a,n):m.call(String(a),r,n)},function(e,t){var n=l(m,e,this,t,m!==r);if(n.done)return n.value;var u=a(e),h=String(this),p=i(u,RegExp),g=u.unicode,y=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(f?"y":"g"),b=new p(f?u:"^(?:"+u.source+")",y),v=void 0===t?4294967295:t>>>0;if(0===v)return[];if(0===h.length)return null===c(b,h)?[h]:[];for(var _=0,w=0,x=[];w<h.length;){b.lastIndex=f?w:0;var k,S=c(b,f?h:h.slice(w));if(null===S||(k=d(o(b.lastIndex+(f?0:w)),h.length))===_)w=s(h,w,g);else{if(x.push(h.slice(_,w)),x.length===v)return x;for(var O=1;O<=S.length-1;O++)if(x.push(S[O]),x.length===v)return x;w=_=k}}return x.push(h.slice(_)),x}]}))},function(e,t,r){"use strict";var n,a,i,s,o=r(64),c=r(13),u=r(43),l=r(98),d=r(4),h=r(15),p=r(29),f=r(87),m=r(88),g=r(120),y=r(220).set,b=r(221)(),v=r(222),_=r(399),w=r(145),x=r(400),k=c.TypeError,S=c.process,O=S&&S.versions,P=O&&O.v8||"",E=c.Promise,A="process"==l(S),C=function(){},T=a=v.f,D=!!function(){try{var e=E.resolve(1),t=(e.constructor={})[r(17)("species")]=function(e){e(C,C)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof t&&0!==P.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),j=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var r=e._c;b((function(){for(var n=e._v,a=1==e._s,i=0,s=function(t){var r,i,s,o=a?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{o?(a||(2==e._h&&B(e),e._h=1),!0===o?r=n:(l&&l.enter(),r=o(n),l&&(l.exit(),s=!0)),r===t.promise?u(k("Promise-chain cycle")):(i=j(r))?i.call(r,c,u):c(r)):u(n)}catch(e){l&&!s&&l.exit(),u(e)}};r.length>i;)s(r[i++]);e._c=[],e._n=!1,t&&!e._h&&I(e)}))}},I=function(e){y.call(c,(function(){var t,r,n,a=e._v,i=R(e);if(i&&(t=_((function(){A?S.emit("unhandledRejection",a,e):(r=c.onunhandledrejection)?r({promise:e,reason:a}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",a)})),e._h=A||R(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},B=function(e){y.call(c,(function(){var t;A?S.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},N=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},F=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw k("Promise can't be resolved itself");(t=j(e))?b((function(){var n={_w:r,_d:!1};try{t.call(e,u(F,n,1),u(N,n,1))}catch(e){N.call(n,e)}})):(r._v=e,r._s=1,M(r,!1))}catch(e){N.call({_w:r,_d:!1},e)}}};D||(E=function(e){f(this,E,"Promise","_h"),p(e),n.call(this);try{e(u(F,this,1),u(N,this,1))}catch(e){N.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(89)(E.prototype,{then:function(e,t){var r=T(g(this,E));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=A?S.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&M(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=u(F,e,1),this.reject=u(N,e,1)},v.f=T=function(e){return e===E||e===s?new i(e):a(e)}),d(d.G+d.W+d.F*!D,{Promise:E}),r(97)(E,"Promise"),r(86)("Promise"),s=r(42).Promise,d(d.S+d.F*!D,"Promise",{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(o||!D),"Promise",{resolve:function(e){return x(o&&this===s?E:this,e)}}),d(d.S+d.F*!(D&&r(142)((function(e){E.all(e).catch(C)}))),"Promise",{all:function(e){var t=this,r=T(t),n=r.resolve,a=r.reject,i=_((function(){var r=[],i=0,s=1;m(e,!1,(function(e){var o=i++,c=!1;r.push(void 0),s++,t.resolve(e).then((function(e){c||(c=!0,r[o]=e,--s||n(r))}),a)})),--s||n(r)}));return i.e&&a(i.v),r.promise},race:function(e){var t=this,r=T(t),n=r.reject,a=_((function(){m(e,!1,(function(e){t.resolve(e).then(r.resolve,n)}))}));return a.e&&n(a.v),r.promise}})},function(e,t,r){"use strict";var n=r(405),a=r(90);r(146)("WeakSet",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(a(this,"WeakSet"),e,!0)}},n,!1,!0)},function(e,t,r){"use strict";var n=r(4),a=r(147),i=r(223),s=r(10),o=r(83),c=r(18),u=r(15),l=r(13).ArrayBuffer,d=r(120),h=i.ArrayBuffer,p=i.DataView,f=a.ABV&&l.isView,m=h.prototype.slice,g=a.VIEW;n(n.G+n.W+n.F*(l!==h),{ArrayBuffer:h}),n(n.S+n.F*!a.CONSTR,"ArrayBuffer",{isView:function(e){return f&&f(e)||u(e)&&g in e}}),n(n.P+n.U+n.F*r(14)((function(){return!new h(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(s(this),e);for(var r=s(this).byteLength,n=o(e,r),a=o(void 0===t?r:t,r),i=new(d(this,h))(c(a-n)),u=new p(this),l=new p(i),f=0;n<a;)l.setUint8(f++,u.getUint8(n++));return i}}),r(86)("ArrayBuffer")},function(e,t,r){var n=r(4);n(n.G+n.W+n.F*!r(147).ABV,{DataView:r(223).DataView})},function(e,t,r){r(58)("Int8",1,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){r(58)("Uint8",1,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){r(58)("Uint8",1,(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},function(e,t,r){r(58)("Int16",2,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){r(58)("Uint16",2,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){r(58)("Int32",4,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){r(58)("Uint32",4,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){r(58)("Float32",4,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){r(58)("Float64",8,(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){var n=r(4),a=r(29),i=r(10),s=(r(13).Reflect||{}).apply,o=Function.apply;n(n.S+n.F*!r(14)((function(){s((function(){}))})),"Reflect",{apply:function(e,t,r){var n=a(e),c=i(r);return s?s(n,t,c):o.call(n,t,c)}})},function(e,t,r){var n=r(4),a=r(84),i=r(29),s=r(10),o=r(15),c=r(14),u=r(385),l=(r(13).Reflect||{}).construct,d=c((function(){function e(){}return!(l((function(){}),[],e)instanceof e)})),h=!c((function(){l((function(){}))}));n(n.S+n.F*(d||h),"Reflect",{construct:function(e,t){i(e),s(t);var r=arguments.length<3?e:i(arguments[2]);if(h&&!d)return l(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(u.apply(e,n))}var c=r.prototype,p=a(o(c)?c:Object.prototype),f=Function.apply.call(e,p,t);return o(f)?f:p}})},function(e,t,r){var n=r(21),a=r(4),i=r(10),s=r(48);a(a.S+a.F*r(14)((function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,r){i(e),t=s(t,!0),i(r);try{return n.f(e,t,r),!0}catch(e){return!1}}})},function(e,t,r){var n=r(4),a=r(37).f,i=r(10);n(n.S,"Reflect",{deleteProperty:function(e,t){var r=a(i(e),t);return!(r&&!r.configurable)&&delete e[t]}})},function(e,t,r){"use strict";var n=r(4),a=r(10),i=function(e){this._t=a(e),this._i=0;var t,r=this._k=[];for(t in e)r.push(t)};r(209)(i,"Object",(function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}})),n(n.S,"Reflect",{enumerate:function(e){return new i(e)}})},function(e,t,r){var n=r(37),a=r(38),i=r(35),s=r(4),o=r(15),c=r(10);s(s.S,"Reflect",{get:function e(t,r){var s,u,l=arguments.length<3?t:arguments[2];return c(t)===l?t[r]:(s=n.f(t,r))?i(s,"value")?s.value:void 0!==s.get?s.get.call(l):void 0:o(u=a(t))?e(u,r,l):void 0}})},function(e,t,r){var n=r(37),a=r(4),i=r(10);a(a.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(i(e),t)}})},function(e,t,r){var n=r(4),a=r(38),i=r(10);n(n.S,"Reflect",{getPrototypeOf:function(e){return a(i(e))}})},function(e,t,r){var n=r(4);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,r){var n=r(4),a=r(10),i=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return a(e),!i||i(e)}})},function(e,t,r){var n=r(4);n(n.S,"Reflect",{ownKeys:r(407)})},function(e,t,r){var n=r(4),a=r(10),i=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){a(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,r){var n=r(21),a=r(37),i=r(38),s=r(35),o=r(4),c=r(80),u=r(10),l=r(15);o(o.S,"Reflect",{set:function e(t,r,o){var d,h,p=arguments.length<4?t:arguments[3],f=a.f(u(t),r);if(!f){if(l(h=i(t)))return e(h,r,o,p);f=c(0)}if(s(f,"value")){if(!1===f.writable||!l(p))return!1;if(d=a.f(p,r)){if(d.get||d.set||!1===d.writable)return!1;d.value=o,n.f(p,r,d)}else n.f(p,r,c(0,o));return!0}return void 0!==f.set&&(f.set.call(p,o),!0)}})},function(e,t,r){var n=r(4),a=r(202);a&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){a.check(e,t);try{return a.set(e,t),!0}catch(e){return!1}}})},function(e,t,r){"use strict";var n=r(4),a=r(137)(!0);n(n.P,"Array",{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r(66)("includes")},function(e,t,r){"use strict";var n=r(4),a=r(408),i=r(23),s=r(18),o=r(29),c=r(215);n(n.P,"Array",{flatMap:function(e){var t,r,n=i(this);return o(e),t=s(n.length),r=c(n,0),a(r,n,n,t,0,1,e,arguments[1]),r}}),r(66)("flatMap")},function(e,t,r){"use strict";var n=r(4),a=r(408),i=r(23),s=r(18),o=r(45),c=r(215);n(n.P,"Array",{flatten:function(){var e=arguments[0],t=i(this),r=s(t.length),n=c(t,0);return a(n,t,t,r,0,void 0===e?1:o(e)),n}}),r(66)("flatten")},function(e,t,r){"use strict";var n=r(4),a=r(140)(!0),i=r(14)((function(){return""!=="".at(0)}));n(n.P+n.F*i,"String",{at:function(e){return a(this,e)}})},function(e,t,r){"use strict";var n=r(4),a=r(409),i=r(145),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);n(n.P+n.F*s,"String",{padStart:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,r){"use strict";var n=r(4),a=r(409),i=r(145),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);n(n.P+n.F*s,"String",{padEnd:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,r){"use strict";r(99)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},function(e,t,r){"use strict";r(99)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},function(e,t,r){"use strict";var n=r(4),a=r(49),i=r(18),s=r(141),o=r(119),c=RegExp.prototype,u=function(e,t){this._r=e,this._s=t};r(209)(u,"RegExp String",(function(){var e=this._r.exec(this._s);return{value:e,done:null===e}})),n(n.P,"String",{matchAll:function(e){if(a(this),!s(e))throw TypeError(e+" is not a regexp!");var t=String(this),r="flags"in c?String(e.flags):o.call(e),n=new RegExp(e.source,~r.indexOf("g")?r:"g"+r);return n.lastIndex=i(e.lastIndex),new u(n,t)}})},function(e,t,r){r(198)("asyncIterator")},function(e,t,r){r(198)("observable")},function(e,t,r){var n=r(4),a=r(407),i=r(36),s=r(37),o=r(213);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,r,n=i(e),c=s.f,u=a(n),l={},d=0;u.length>d;)void 0!==(r=c(n,t=u[d++]))&&o(l,t,r);return l}})},function(e,t,r){var n=r(4),a=r(410)(!1);n(n.S,"Object",{values:function(e){return a(e)}})},function(e,t,r){var n=r(4),a=r(410)(!0);n(n.S,"Object",{entries:function(e){return a(e)}})},function(e,t,r){"use strict";var n=r(4),a=r(23),i=r(29),s=r(21);r(20)&&n(n.P+r(148),"Object",{__defineGetter__:function(e,t){s.f(a(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},function(e,t,r){"use strict";var n=r(4),a=r(23),i=r(29),s=r(21);r(20)&&n(n.P+r(148),"Object",{__defineSetter__:function(e,t){s.f(a(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},function(e,t,r){"use strict";var n=r(4),a=r(23),i=r(48),s=r(38),o=r(37).f;r(20)&&n(n.P+r(148),"Object",{__lookupGetter__:function(e){var t,r=a(this),n=i(e,!0);do{if(t=o(r,n))return t.get}while(r=s(r))}})},function(e,t,r){"use strict";var n=r(4),a=r(23),i=r(48),s=r(38),o=r(37).f;r(20)&&n(n.P+r(148),"Object",{__lookupSetter__:function(e){var t,r=a(this),n=i(e,!0);do{if(t=o(r,n))return t.set}while(r=s(r))}})},function(e,t,r){var n=r(4);n(n.P+n.R,"Map",{toJSON:r(411)("Map")})},function(e,t,r){var n=r(4);n(n.P+n.R,"Set",{toJSON:r(411)("Set")})},function(e,t,r){r(149)("Map")},function(e,t,r){r(149)("Set")},function(e,t,r){r(149)("WeakMap")},function(e,t,r){r(149)("WeakSet")},function(e,t,r){r(150)("Map")},function(e,t,r){r(150)("Set")},function(e,t,r){r(150)("WeakMap")},function(e,t,r){r(150)("WeakSet")},function(e,t,r){var n=r(4);n(n.G,{global:r(13)})},function(e,t,r){var n=r(4);n(n.S,"System",{global:r(13)})},function(e,t,r){var n=r(4),a=r(44);n(n.S,"Error",{isError:function(e){return"Error"===a(e)}})},function(e,t,r){var n=r(4);n(n.S,"Math",{clamp:function(e,t,r){return Math.min(r,Math.max(t,e))}})},function(e,t,r){var n=r(4);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,r){var n=r(4),a=180/Math.PI;n(n.S,"Math",{degrees:function(e){return e*a}})},function(e,t,r){var n=r(4),a=r(413),i=r(392);n(n.S,"Math",{fscale:function(e,t,r,n,s){return i(a(e,t,r,n,s))}})},function(e,t,r){var n=r(4);n(n.S,"Math",{iaddh:function(e,t,r,n){var a=e>>>0,i=r>>>0;return(t>>>0)+(n>>>0)+((a&i|(a|i)&~(a+i>>>0))>>>31)|0}})},function(e,t,r){var n=r(4);n(n.S,"Math",{isubh:function(e,t,r,n){var a=e>>>0,i=r>>>0;return(t>>>0)-(n>>>0)-((~a&i|~(a^i)&a-i>>>0)>>>31)|0}})},function(e,t,r){var n=r(4);n(n.S,"Math",{imulh:function(e,t){var r=+e,n=+t,a=65535&r,i=65535&n,s=r>>16,o=n>>16,c=(s*i>>>0)+(a*i>>>16);return s*o+(c>>16)+((a*o>>>0)+(65535&c)>>16)}})},function(e,t,r){var n=r(4);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,r){var n=r(4),a=Math.PI/180;n(n.S,"Math",{radians:function(e){return e*a}})},function(e,t,r){var n=r(4);n(n.S,"Math",{scale:r(413)})},function(e,t,r){var n=r(4);n(n.S,"Math",{umulh:function(e,t){var r=+e,n=+t,a=65535&r,i=65535&n,s=r>>>16,o=n>>>16,c=(s*i>>>0)+(a*i>>>16);return s*o+(c>>>16)+((a*o>>>0)+(65535&c)>>>16)}})},function(e,t,r){var n=r(4);n(n.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,r){"use strict";var n=r(4),a=r(42),i=r(13),s=r(120),o=r(400);n(n.P+n.R,"Promise",{finally:function(e){var t=s(this,a.Promise||i.Promise),r="function"==typeof e;return this.then(r?function(r){return o(t,e()).then((function(){return r}))}:e,r?function(r){return o(t,e()).then((function(){throw r}))}:e)}})},function(e,t,r){"use strict";var n=r(4),a=r(222),i=r(399);n(n.S,"Promise",{try:function(e){var t=a.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){var n=r(59),a=r(10),i=n.key,s=n.set;n.exp({defineMetadata:function(e,t,r,n){s(e,t,a(r),i(n))}})},function(e,t,r){var n=r(59),a=r(10),i=n.key,s=n.map,o=n.store;n.exp({deleteMetadata:function(e,t){var r=arguments.length<3?void 0:i(arguments[2]),n=s(a(t),r,!1);if(void 0===n||!n.delete(e))return!1;if(n.size)return!0;var c=o.get(t);return c.delete(r),!!c.size||o.delete(t)}})},function(e,t,r){var n=r(59),a=r(10),i=r(38),s=n.has,o=n.get,c=n.key,u=function(e,t,r){if(s(e,t,r))return o(e,t,r);var n=i(t);return null!==n?u(e,n,r):void 0};n.exp({getMetadata:function(e,t){return u(e,a(t),arguments.length<3?void 0:c(arguments[2]))}})},function(e,t,r){var n=r(403),a=r(412),i=r(59),s=r(10),o=r(38),c=i.keys,u=i.key,l=function(e,t){var r=c(e,t),i=o(e);if(null===i)return r;var s=l(i,t);return s.length?r.length?a(new n(r.concat(s))):s:r};i.exp({getMetadataKeys:function(e){return l(s(e),arguments.length<2?void 0:u(arguments[1]))}})},function(e,t,r){var n=r(59),a=r(10),i=n.get,s=n.key;n.exp({getOwnMetadata:function(e,t){return i(e,a(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,r){var n=r(59),a=r(10),i=n.keys,s=n.key;n.exp({getOwnMetadataKeys:function(e){return i(a(e),arguments.length<2?void 0:s(arguments[1]))}})},function(e,t,r){var n=r(59),a=r(10),i=r(38),s=n.has,o=n.key,c=function(e,t,r){if(s(e,t,r))return!0;var n=i(t);return null!==n&&c(e,n,r)};n.exp({hasMetadata:function(e,t){return c(e,a(t),arguments.length<3?void 0:o(arguments[2]))}})},function(e,t,r){var n=r(59),a=r(10),i=n.has,s=n.key;n.exp({hasOwnMetadata:function(e,t){return i(e,a(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,r){var n=r(59),a=r(10),i=r(29),s=n.key,o=n.set;n.exp({metadata:function(e,t){return function(r,n){o(e,t,(void 0!==n?a:i)(r),s(n))}}})},function(e,t,r){var n=r(4),a=r(221)(),i=r(13).process,s="process"==r(44)(i);n(n.G,{asap:function(e){var t=s&&i.domain;a(t?t.bind(e):e)}})},function(e,t,r){"use strict";var n=r(4),a=r(13),i=r(42),s=r(221)(),o=r(17)("observable"),c=r(29),u=r(10),l=r(87),d=r(89),h=r(32),p=r(88),f=p.RETURN,m=function(e){return null==e?void 0:c(e)},g=function(e){var t=e._c;t&&(e._c=void 0,t())},y=function(e){return void 0===e._o},b=function(e){y(e)||(e._o=void 0,g(e))},v=function(e,t){u(e),this._c=void 0,this._o=e,e=new _(this);try{var r=t(e),n=r;null!=r&&("function"==typeof r.unsubscribe?r=function(){n.unsubscribe()}:c(r),this._c=r)}catch(t){return void e.error(t)}y(this)&&g(this)};v.prototype=d({},{unsubscribe:function(){b(this)}});var _=function(e){this._s=e};_.prototype=d({},{next:function(e){var t=this._s;if(!y(t)){var r=t._o;try{var n=m(r.next);if(n)return n.call(r,e)}catch(e){try{b(t)}finally{throw e}}}},error:function(e){var t=this._s;if(y(t))throw e;var r=t._o;t._o=void 0;try{var n=m(r.error);if(!n)throw e;e=n.call(r,e)}catch(e){try{g(t)}finally{throw e}}return g(t),e},complete:function(e){var t=this._s;if(!y(t)){var r=t._o;t._o=void 0;try{var n=m(r.complete);e=n?n.call(r,e):void 0}catch(e){try{g(t)}finally{throw e}}return g(t),e}}});var w=function(e){l(this,w,"Observable","_f")._f=c(e)};d(w.prototype,{subscribe:function(e){return new v(e,this._f)},forEach:function(e){var t=this;return new(i.Promise||a.Promise)((function(r,n){c(e);var a=t.subscribe({next:function(t){try{return e(t)}catch(e){n(e),a.unsubscribe()}},error:n,complete:r})}))}}),d(w,{from:function(e){var t="function"==typeof this?this:w,r=m(u(e)[o]);if(r){var n=u(r.call(e));return n.constructor===t?n:new t((function(e){return n.subscribe(e)}))}return new t((function(t){var r=!1;return s((function(){if(!r){try{if(p(e,!1,(function(e){if(t.next(e),r)return f}))===f)return}catch(e){if(r)throw e;return void t.error(e)}t.complete()}})),function(){r=!0}}))},of:function(){for(var e=0,t=arguments.length,r=new Array(t);e<t;)r[e]=arguments[e++];return new("function"==typeof this?this:w)((function(e){var t=!1;return s((function(){if(!t){for(var n=0;n<r.length;++n)if(e.next(r[n]),t)return;e.complete()}})),function(){t=!0}}))}}),h(w.prototype,o,(function(){return this})),n(n.G,{Observable:w}),r(86)("Observable")},function(e,t,r){var n=r(13),a=r(4),i=r(145),s=[].slice,o=/MSIE .\./.test(i),c=function(e){return function(t,r){var n=arguments.length>2,a=!!n&&s.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,a)}:t,r)}};a(a.G+a.B+a.F*o,{setTimeout:c(n.setTimeout),setInterval:c(n.setInterval)})},function(e,t,r){var n=r(4),a=r(220);n(n.G+n.B,{setImmediate:a.set,clearImmediate:a.clear})},function(e,t,r){for(var n=r(217),a=r(82),i=r(33),s=r(13),o=r(32),c=r(100),u=r(17),l=u("iterator"),d=u("toStringTag"),h=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=a(p),m=0;m<f.length;m++){var g,y=f[m],b=p[y],v=s[y],_=v&&v.prototype;if(_&&(_[l]||o(_,l,h),_[d]||o(_,d,y),c[y]=h,b))for(g in n)_[g]||i(_,g,n[g],!0)}},function(e,t,r){(function(t){!function(t){"use strict";var r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag",c="object"==typeof e,u=t.regeneratorRuntime;if(u)c&&(e.exports=u);else{(u=t.regeneratorRuntime=c?e.exports:{}).wrap=m;var l={},d={};d[i]=function(){return this};var h=Object.getPrototypeOf,p=h&&h(h(P([])));p&&p!==r&&n.call(p,i)&&(d=p);var f=v.prototype=y.prototype=Object.create(d);b.prototype=f.constructor=v,v.constructor=b,v[o]=b.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(f),e},u.awrap=function(e){return{__await:e}},_(w.prototype),w.prototype[s]=function(){return this},u.AsyncIterator=w,u.async=function(e,t,r,n){var a=new w(m(e,t,r,n));return u.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(f),f[o]="Generator",f[i]=function(){return this},f.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},u.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var o=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(o&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;S(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}}}function m(e,t,r,n){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),s=new O(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return E()}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var o=x(s,r);if(o){if(o===l)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=g(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,s),i}function g(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function y(){}function b(){}function v(){}function _(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function w(e){function r(t,a,i,s){var o=g(e[t],e,a);if("throw"!==o.type){var c=o.arg,u=c.value;return u&&"object"==typeof u&&n.call(u,"__await")?Promise.resolve(u.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):Promise.resolve(u).then((function(e){c.value=e,i(c)}),s)}s(o.arg)}var a;"object"==typeof t.process&&t.process.domain&&(r=t.process.domain.bind(r)),this._invoke=function(e,t){function n(){return new Promise((function(n,a){r(e,t,n,a)}))}return a=a?a.then(n,n):n()}}function x(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=g(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function P(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,r(26))},function(e,t,r){r(866),e.exports=r(42).RegExp.escape},function(e,t,r){var n=r(4),a=r(867)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(e){return a(e)}})},function(e,t){e.exports=function(e,t){var r=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,r)}}},function(e,t,r){"use strict";r.r(t);var n=r(630),a=r(646),i=r.n(a);function s(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){s(i,n,a,o,c,"next",e)}function c(e){s(i,n,a,o,c,"throw",e)}o(void 0)}))}}function c(){return(c=o(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new n.Saito({mod_paths:i.a.lite})).BROWSER=1,e.next=4,t.init();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()},function(e,t,r){(function(t){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(47),c=r(12),u=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(i(this,e),this.app=t||{},this.block={},this.block.ts=(new Date).getTime(),this.block.prevbsh="",this.block.merkle="",this.block.creator="",this.block.id=1,this.block.bf=0,this.block.difficulty=0,this.block.paysplit=.5,this.block.powsplit=.5,this.block.mt=o("2868000000.0"),this.block.st=o("100000.0"),this.block.ss=0,this.block.sa=0,this.block.reclaimed=o("0.0"),this.nextbsh="",this.mc="0.0",this.sc="0.0",this.staker_pos=-1,this.staker_bid=-1,this.staker_sis=-1,this.staker_slip="",this.txs_hmap=[],this.transactions=[],this.callbacks=[],this.callbacksTx=[],this.maxtid=0,this.mintid=0,this.avgfee=0,this.size=0,this.hash="",this.prehash="",this.filename="",this.confirmations=n,this.is_valid=1,this.validates=0,null!=r)try{this.block=r.block}catch(e){return console.log("invalid block"),console.log(e),void(this.is_valid=0)}}var r,n,u,l,d,h,p,f;return r=e,(n=[{key:"affixCallbacks",value:function(){for(var e=0;e<this.transactions.length;e++){var t=this.transactions[e].returnMessage();this.app.modules.affixCallbacks(this.transactions[e],e,t,this.callbacks,this.callbacksTx,this.app)}}},{key:"bundle",value:(f=a(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s,u,l,d,h,p,f,m,g,y,b,v,_,w=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.length>0&&void 0!==w[0]?w[0]:null,r=1,null!=t&&(this.block.id=t.block.id+1,this.block.mt=o(t.block.mt).plus(o(t.block.reclaimed)),this.mc=o(this.block.mt).div(this.app.blockchain.genesis_period).toFixed(8),this.block.mt=this.block.mt.minus(o(this.mc)).toFixed(8),this.block.st=o(t.block.st),this.sc=o(t.block.st).div(this.app.blockchain.genesis_period).toFixed(8),this.block.ss=t.block.ss,this.block.sa=t.block.sa,this.block.prevbsh=t.returnHash(),this.block.difficulty=t.block.difficulty,this.block.paysplit=t.block.paysplit,this.block.powsplit=t.block.powsplit,this.block.ts=(new Date).getTime(),this.block.bf=this.app.burnfee.returnBurnFee(t,this),0==t.transactions.length?0==(r=t.returnMaxTxId())&&(r=1):r=t.returnMaxTxId()+1),1==this.block.id&&((n=new c.transaction).transaction.to.push(new c.slip("zYCCXRZt2DyPD9UmxRfwFgLTNAqCd5VE8RuNneg4aNMK",1e9,3,0,0,0,"",1)),n.transaction.to.push(new c.slip("zYCCXRZt2DyPD9UmxRfwFgLTNAqCd5VE8RuNneg4aNMK",1e9,3,0,0,0,"",1)),n.transaction.to.push(new c.slip("zYCCXRZt2DyPD9UmxRfwFgLTNAqCd5VE8RuNneg4aNMK",1e9,3,0,0,0,"",1)),n.transaction.to.push(new c.slip("zYCCXRZt2DyPD9UmxRfwFgLTNAqCd5VE8RuNneg4aNMK",1e9,3,0,0,0,"",1)),n.transaction.to.push(new c.slip("zYCCXRZt2DyPD9UmxRfwFgLTNAqCd5VE8RuNneg4aNMK",1e9,3,0,0,0,"",1)),n.transaction.type=3,n.transaction.from.push(new c.slip(this.app.wallet.returnPublicKey(),5e9,3,0,0,0,"",1)),n.transaction.id=1,n=this.app.wallet.signTransaction(n),this.transactions.push(n),(n=new c.transaction).transaction.to.push(new c.slip("STAKING1WBKFDyMTVpvuKNEHt2fZQUxDebpiBaqwkWMM",6e6,4,0,0,0,"",1)),n.transaction.type=4,n.transaction.from.push(new c.slip(this.app.wallet.returnPublicKey(),6e6,4,0,0,0,"",1)),n=this.app.wallet.signTransaction(n),this.transactions.push(n)),e.next=6,this.calculateRebroadcasts();case 6:for(a=e.sent,this.block.reclaimed=a.reclaimed,this.block.ss-=a.ss,this.block.sa=o(this.block.sa).minus(o(a.sa)).toFixed(8),i=o(0),s=0;s<a.rebroadcast.length;s++){for(u=0;u<a.rebroadcast[s].transaction.to.length;u++)i=i.plus(o(a.rebroadcast[s].transaction.to[u].amt));this.transactions.push(a.rebroadcast[s])}l=0,d=0,h=null,p=0;case 17:if(!(p<this.transactions.length)){e.next=37;break}if(this.transactions[p].transaction.id=r+p,1!=this.transactions[p].transaction.type){e.next=31;break}if(d++,h=this.transactions[p].returnMessage(),!(d>1)){e.next=27;break}return console.log("ERROR 412523: second golden ticket found in block"),this.is_valid=0,e.abrupt("return",this);case 27:if(h.target==t.returnHash()){e.next=31;break}return console.log("golden ticket does not solve previous block, thus isn't valid..."),this.is_valid=0,e.abrupt("return",this);case 31:if(4==this.transactions[p].transaction.type)for(f=0;f<this.transactions[p].transaction.to.length;f++)this.transactions[p].transaction.to[f].isNonZeroAmount()&&4==this.transactions[p].transaction.to[f].type&&(this.block.ss++,this.block.sa=o(this.block.sa).plus(o(this.transactions[p].transaction.to[f].amt)).toFixed(8));for(m=0;m<this.transactions[p].transaction.from.length;m++)this.txs_hmap[this.transactions[p].transaction.from[m].add]=1;for(g=0;g<this.transactions[p].transaction.to.length;g++)this.txs_hmap[this.transactions[p].transaction.to[g].add]=1;case 34:p++,e.next=17;break;case 37:if(y=[],null==t){e.next=44;break}return e.next=41,t.calculateBlockPayments(h);case 41:(b=e.sent)&&(b.producer_share>0&&y.push(new c.slip(b.producer_publickey,b.producer_share,2)),b.miner_share>0&&y.push(new c.slip(b.miner_publickey,b.miner_share,2)),b.router_share>0&&y.push(new c.slip(b.router_publickey,b.router_share,2)),1==this.containsGoldenTicket()&&this.block.id>1&&(b.sproducer_share>0&&y.push(new c.slip(b.sproducer_publickey,b.sproducer_share,2)),b.srouter_share>=0&&y.push(new c.slip(b.srouter_publickey,b.srouter_share,2)),b.staker_share>=0&&(v=this.app.blockchain.index.stakers[b.staker_pos][b.staker_sid],l=this.returnNormalizedStakerPayment(v.slip.amt,this.sc,t.block.sa,t.block.ss),this.block.ss++,this.block.sa=o(this.block.sa).plus(l).toFixed(8),this.block.st=o(this.block.st).plus(o(b.staker_share)).minus(l).toFixed(8),y.push(new c.slip(b.staker_publickey,l,4))))),y.length>0&&((_=new c.transaction).transaction.from.push(new c.slip(this.app.wallet.returnPublicKey(),0,2)),_.transaction.to=y,_.transaction.type=2,_.transaction.id=r+this.transactions.length,_.msg=b,_=this.app.wallet.signTransaction(_),this.transactions.push(_));case 44:return this.block.merkle=this.returnMerkleRoot(),e.abrupt("return",this);case 46:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"calculateRebroadcasts",value:(p=a(regeneratorRuntime.mark((function e(){var r,n,a,i,s,c,u,l,d,h,p=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.length>0&&void 0!==p[0]&&p[0],r={reclaimed:"0.0",ss:0,sa:"0.0",rebroadcast:[],total_rebroadcast:0},1!=this.app.BROWSER&&1!=this.app.SPVMODE){e.next=5;break}return e.abrupt("return",r);case 5:if(!((n=this.block.id-this.app.blockchain.genesis_period-1)<1)){e.next=8;break}return e.abrupt("return",r);case 8:return a=o(0),i=this.app.blockchain.bid_bsh_hmap[n],e.next=12,this.app.storage.loadBlockByHash(i);case 12:for(s=e.sent,c=0;c<s.transactions.length;c++)for(u=0;u<s.transactions[c].transaction.to.length;u++)if((l=s.transactions[c].transaction.to[u]).bid=s.returnId(),l.tid=s.transactions[c].transaction.id,l.bsh=s.returnHash(),l.sid=u,o(l.amt).gt(0)&&(4==l.type&&(r.sa=o(r.sa).plus(l.amt),r.ss++),this.app.shashmap.validate_slip(l.returnSignatureSource(),this.block.id)))if(s.transactions[c].isRebroadcast(s,this,u)){for(r.total_rebroadcast++,null==(d=s.transactions[c].generateRebroadcastTransaction(this.block.creator,l.tid,l.sid,2))&&(console.log("ERROR 481029: issue generating rebroadcast transaction..."),t.exit()),h=0;h<d.transaction.from.length;h++)d.transaction.from[h].bid=this.block.id;r.rebroadcast.push(d)}else a=a.plus(o(l.amt)),r.reclaimed=a.toFixed(8);return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"containsGoldenTicket",value:function(){for(var e=0;e<this.transactions.length;e++)if(1==this.transactions[e].isGoldenTicket())return 1;return 0}},{key:"decryptTransactions",value:function(){for(var e=0;e<this.transactions.length;e++)1==this.transactions[e].involvesPublicKey(this.app.wallet.returnPublicKey())&&this.transactions[e].decryptMessage(this.app)}},{key:"returnFilename",value:function(){return this.block.ts+"-"+this.returnHash()+".blk"}},{key:"returnRoutingWorkNeeded",value:function(){return this.block.bf.current}},{key:"returnDifficulty",value:function(){return this.block.difficulty}},{key:"returnEmbeddedRoutingWork",value:function(){for(var e=o(0),t=0;t<this.transactions.length;t++)if(1==this.transactions[t].is_valid&&2!=this.transactions[t].transaction.type){var r=o(this.transactions[t].returnRoutingWorkAvailable(this.app,this.block.creator));1==this.transactions[t].transaction.type&&this.transactions[t].returnMessage().target!=this.prevbsh&&(r=o(0)),e=e.plus(r)}return e.toFixed(8)}},{key:"returnHash",value:function(){return""!=this.hash||(this.prehash=this.app.crypto.hash(this.returnFingerprint()),this.hash=this.app.crypto.hash(this.prehash+this.block.prevbsh)),this.hash}},{key:"returnId",value:function(){return this.block.id}},{key:"returnMaxTxId",value:function(){if(0!=this.maxtid)return this.maxtid;for(var e=0;e<this.transactions.length;e++)this.transactions[e].transaction.id>this.maxtid&&(this.maxtid=this.transactions[e].transaction.id);return this.maxtid}},{key:"returnMinTxId",value:function(){if(0!=this.mintid)return this.mintid;if(0==this.transactions.length)return this.app.blockchain.returnMinTxId();this.mintid=this.transactions[0].transaction.id;for(var e=1;e<this.transactions.length;e++)this.transactions[e].transaction.id<this.mintid&&(this.mintid=this.transactions[e].transaction.id);return this.mintid}},{key:"returnPaysplit",value:function(){return this.block.paysplit}},{key:"returnPowsplit",value:function(){return this.block.powsplit}},{key:"returnReclaimed",value:function(){return this.block.reclaimed}},{key:"returnFingerprint",value:function(){return JSON.stringify(this.block)}},{key:"returnNormalizedStakerPayment",value:function(e,t,r,n){if(o(t).eq(0))return"0";var a=o(r).div(o(n)),i=o(e).div(a);return o(t).times(i).toFixed(8)}},{key:"returnTreasury",value:function(){return this.block.mt}},{key:"runCallbacks",value:(h=a(regeneratorRuntime.mark((function e(t){var r,n,a,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:1,!this.confirmations||!this.callbacks){e.next=21;break}n=this.confirmations+1;case 3:if(!(n<=t)){e.next=21;break}a=0;case 5:if(!(a<this.callbacks.length)){e.next=18;break}if(e.prev=6,1!=r){e.next=10;break}return e.next=10,this.callbacks[a](this,this.transactions[this.callbacksTx[a]],n,this.app);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.log("ERROR 567567: ",e.t0);case 15:a++,e.next=5;break;case 18:n++,e.next=3;break;case 21:this.confirmations=t;case 22:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(e){return h.apply(this,arguments)})},{key:"spendInputs",value:function(){for(var e=0;e<this.transactions.length;e++)for(var t=0;t<this.transactions[e].transaction.from.length;t++)this.transactions[e].transaction.from[t].amt>0&&this.app.shashmap.insert_slip(this.transactions[e].transaction.from[t].returnSignatureSource(),this.block.id);return 1}},{key:"unspendInputs",value:function(){for(var e=0;e<this.transactions.length;e++)for(var t=0;t<this.transactions[e].transaction.from.length;t++)this.transactions[e].transaction.from[t].amt>0&&this.app.shashmap.insert_slip(this.transactions[e].transaction.from[t].returnSignatureSource(),-1);return 1}},{key:"validate",value:(d=a(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s,u,l,d,h,p,f,m,g,y,b,v,_,w,x,k,S,O,P,E,A,C,T,D,j,M,I,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=this.block.prevbsh){e.next=2;break}return e.abrupt("return",1);case 2:return t="0",e.next=5,this.app.blockchain.returnBlockByHash(this.block.prevbsh,1);case 5:if(r=e.sent,1!=this.ghost){e.next=8;break}return e.abrupt("return",1);case 8:if(n=1,null==r){e.next=15;break}if(1!=r.ghost){e.next=12;break}return e.abrupt("return",1);case 12:0==r.transactions.length?0==(n=r.returnMaxTxId())&&(n=1):n=r.returnMaxTxId()+1,e.next=16;break;case 15:return e.abrupt("return",1);case 16:if(this.sc=o(r.block.st).div(this.app.blockchain.genesis_period).toFixed(8),this.block.id==r.block.id+1){e.next=20;break}return console.log("ERROR 482039: block id is not single increment over previous block"),e.abrupt("return",0);case 20:if(a=o(r.block.mt).plus(o(r.block.reclaimed)),i=o(a).div(this.app.blockchain.genesis_period).toFixed(8),a=a.minus(o(i)).toFixed(8),this.block.mt==a){e.next=27;break}return console.log("ERROR 410829: block treasury does not validate in new block"),console.log(this.block.mt+" -- vs -- "+a+" ---\x3e "+r.block.mt+" -- "+r.block.reclaimed),e.abrupt("return",0);case 27:if(this.block.difficulty==r.block.difficulty){e.next=30;break}return console.log("ERROR 571928: block difficulty does not validate in new block"),e.abrupt("return",0);case 30:if(this.block.paysplit==r.block.paysplit){e.next=33;break}return console.log("ERROR 571928: block paysplit does not validate in new block"),e.abrupt("return",0);case 33:if(this.block.powsplit==r.block.powsplit){e.next=36;break}return console.log("ERROR 571928: block difficulty does not validate in new block"),e.abrupt("return",0);case 36:if(s=this.app.burnfee.returnBurnFee(r,this),this.block.bf==s){e.next=40;break}return console.log("ERROR 571928: block difficulty does not validate in new block"),e.abrupt("return",0);case 40:if(!(r.block.ts>=this.block.ts)){e.next=43;break}return console.log("ERROR 729384: block timestamp not incremented from previous block"),e.abrupt("return",0);case 43:u=[],l=[],d=0,h=-1,p=-1,f=0,m=r.block.st,g=r.block.ss,y=r.block.sa,b=0;case 55:if(!(b<=this.transactions.length-1)){e.next=110;break}if(9==this.transactions[b].transaction.type&&(f=1),this.transactions[b].transaction.id==n+b){e.next=61;break}if(0!=f){e.next=61;break}return console.log("ERROR 517324: transaction ids are out-of-order when validating block - "+n+"-"+b+" ------- "+this.transactions[b].transaction.id),e.abrupt("return",0);case 61:if(1!=this.transactions[b].transaction.type){e.next=82;break}if(p=b,(v=this.transactions[b].returnMessage()).target==r.returnHash()){e.next=69;break}return console.log("ERROR 029312: golden ticket does not match prevblk hash"),e.abrupt("return",0);case 69:if(!(++d>1)){e.next=73;break}return console.log("ERROR 189842: two golden tickets in block"),e.abrupt("return",0);case 73:if(1!=this.app.blockchain.isFullySynced()||0!=this.app.BROWSER||0!=this.app.SPVMODE){e.next=82;break}return e.next=76,r.calculateBlockPayments(v);case 76:for((_=e.sent).producer_share>0&&l.push(new c.slip(_.producer_publickey,_.producer_share,2)),_.miner_share>0&&l.push(new c.slip(_.miner_publickey,_.miner_share,2)),_.router_share>0&&l.push(new c.slip(_.router_publickey,_.router_share,2)),1==this.containsGoldenTicket()&&this.block.id>1&&(_.sproducer_share>0&&l.push(new c.slip(_.sproducer_publickey,_.sproducer_share,2)),_.srouter_share>0&&l.push(new c.slip(_.srouter_publickey,_.srouter_share,2)),_.staker_share>0&&(w=this.app.blockchain.index.stakers[_.staker_pos][_.staker_sid].slip.amt,x=this.returnNormalizedStakerPayment(w,this.sc,r.block.sa,r.block.ss),m=o(m).plus(o(_.staker_share)).toFixed(8),m=o(m).minus(o(x)),l.push(new c.slip(_.staker_publickey,x,4)),this.app.shashmap.spend_slipidx(_.staker_slip,this.block.id),this.app.blockchain.index.stakers[_.staker_pos][_.staker_sid].paid=-1,this.app.blockchain.lowest_unspent_bid=this.app.blockchain.index.blocks[_.staker_pos].block.id,this.app.blockchain.lowest_unspent_pos=_.staker_pos)),k=0;k<l.length;k++)l[k].sid=k;case 82:if(2!=this.transactions[b].transaction.type){e.next=88;break}if(-1==h){e.next=86;break}return console.log("ERROR 581029: two block paymeet (type=2) transactions in block"),e.abrupt("return",0);case 86:for(h=b,S=0;S<this.transactions[b].transaction.to.length;S++)4==this.transactions[b].transaction.to[S].type&&this.transactions[b].transaction.to[S].isNonZeroAmount()&&(g++,y=o(y).plus(o(this.transactions[b].transaction.to[S].amt)).toFixed(8));case 88:if(4==this.transactions[b].transaction.type)for(O=0;O<this.transactions[b].transaction.to.length;O++)4==this.transactions[b].transaction.to[O].type&&this.transactions[b].transaction.to[O].isNonZeroAmount()&&(g++,y=o(y).plus(o(this.transactions[b].transaction.to[O].amt)).toFixed(8));P=0;case 90:if(!(P<this.transactions[b].transaction.from.length)){e.next=100;break}if(null==u[this.transactions[b].transaction.from[P].returnSignatureSource()]){e.next=96;break}for(console.log("ERROR 820493: multiple transactions spend same input detected"),console.log("\n\n\nTHESE ARE THE SLIPS: "),E=0;E<this.transactions.length;E++)for(A=0;A<this.transactions[E].transaction.from.length;A++)console.log(E+" -- "+A+" ==> "+JSON.stringify(this.transactions[E].transaction.from[A]));return e.abrupt("return",0);case 96:this.transactions[b].transaction.from[P].amt>0&&(u[this.transactions[b].transaction.from[P].returnSignatureSource()]=1);case 97:P++,e.next=90;break;case 100:if(this.transactions[b].validate(this.app,this.block.id)){e.next=107;break}return console.log("ERROR 174233: block contains invalid transaction: ".concat(b)),console.log("!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"),console.log("!!!!!!!!!!!!    ERROR    !!!!!!!!!!!!!!"),console.log("!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!"),this.transactions[b].is_valid=0,e.abrupt("return",0);case 107:b++,e.next=55;break;case 110:if(!(p>-1)){e.next=172;break}if(-1!=h){e.next=116;break}return console.log("ERROR 697812: golden ticket in block, but not block payment transaction"),e.abrupt("return",0);case 116:if(1!=this.app.blockchain.isFullySynced()||0!=this.app.BROWSER||0!=this.app.SPVMODE){e.next=128;break}if(l.length==this.transactions[h].transaction.to.length){e.next=120;break}return console.log("ERROR 513234: golden ticket to slip length inaccurate"),e.abrupt("return",0);case 120:for(C=0;C<l.length;C++)l[C].bsh=this.transactions[h].transaction.to[C].bsh,l[C].bid=this.transactions[h].transaction.to[C].bid,l[C].tid=this.transactions[h].transaction.to[C].tid,l[C].sid=this.transactions[h].transaction.to[C].sid,this.transactions[h].transaction.to[C].lc=1;if(this.app.crypto.hash(JSON.stringify(l))!=this.app.crypto.hash(JSON.stringify(this.transactions[h].transaction.to))){e.next=124;break}e.next=128;break;case 124:return console.log("ERROR 840192: to slips in block fee transaction invalid"),console.log("RECOVERED SLIPS: ",l),console.log("TX TO SLIPS",this.transactions[h].transaction.to),e.abrupt("return",0);case 128:if(1!=this.app.blockchain.isFullySynced()||0!=this.app.BROWSER||0!=this.app.SPVMODE){e.next=172;break}return e.next=131,this.calculateRebroadcasts(this.transactions);case 131:if(T=e.sent,D=T.ss,j=T.sa,g-=D,y=o(y).minus(j).toFixed(8),g===this.block.ss){e.next=139;break}return console.log("ERROR 432810: total staked slips not accurate: "+g+" vs "+this.block.ss),e.abrupt("return",0);case 139:if(o(y).toFixed(8)===this.block.sa){e.next=142;break}return console.log("ERROR 432810: total staked amount not accurate: "+y+" vs "+this.block.sa),e.abrupt("return",0);case 142:if(o(m).toFixed(8)===this.block.st){e.next=145;break}return console.log("ERROR 432810: total staker treasury not accurate: "+m+" vs "+this.block.st),e.abrupt("return",0);case 145:if(t=o(t).plus(o(T.reclaimed)),o(this.block.reclaimed).eq(t)){e.next=149;break}return console.log("ERROR 241948: reclaimed funds do not match expected when validating"),e.abrupt("return",0);case 149:if(!((M=this.transactions.length-1)>0)){e.next=164;break}if(2==this.transactions[M].transaction.type&&M--,!(M>0)){e.next=164;break}I=T.rebroadcast.length-1;case 155:if(!(I>=0)){e.next=164;break}if(T.rebroadcast[I].transaction.id=this.transactions[M].transaction.id,JSON.stringify(T.rebroadcast[I].transaction)==JSON.stringify(this.transactions[M].transaction)){e.next=160;break}return console.log("ERROR 549280: rebroadcast txs JSON outputs not as expected"),e.abrupt("return",0);case 160:M--;case 161:I--,e.next=155;break;case 164:R=M;case 165:if(!(R>0)){e.next=172;break}if(5!=this.transactions[R].transaction.type&&6!=this.transactions[R].transaction.type&&7!=this.transactions[R].transaction.type){e.next=169;break}return console.log("ERROR 004222: block chains rebroadcast transactions outside appropriate range"),e.abrupt("return",0);case 169:R--,e.next=165;break;case 172:if(this.block.merkle==this.returnMerkleRoot()){e.next=175;break}return console.log("ERROR 258102: merkle root does not match provided root"),e.abrupt("return",0);case 175:return this.validates=1,e.abrupt("return",1);case 177:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"calculateBlockPayments",value:(l=a(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s,c,u,l,d,h,p,f,m,g,y,b,v,_,w,x,k,S,O,P,E,A,C,T,D,j,M,I,R,B,N,F,q,L,H,U,z,V,G,W,K,Y,X,J,Q,Z,$,ee,te,re,ne,ae,ie,se,oe,ce,ue,le,de,he,pe,fe,me,ge,ye,be=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=be.length>0&&void 0!==be[0]?be[0]:null,0!=this.is_valid){e.next=3;break}return e.abrupt("return",{});case 3:if((r={}).producer_publickey="",r.producer_share="0.0",r.miner_publickey="",r.miner_share="0.0",r.router_publickey="",r.router_share="0.0",r.sproducer_publickey="",r.sproducer_share="0.0",r.srouter_publickey="",r.srouter_share="0.0",r.staker_publickey="",r.staker_share="0.0",r.staker_bid=-1,r.staker_sid=-1,r.staker_pos=-1,r.staker_slip=null,n=null,a=null,i=null,s=null,""==this.block.prevbsh){e.next=29;break}return n=this.block.prevbsh,e.next=28,this.app.blockchain.returnBlockByHash(n,1);case 28:a=e.sent;case 29:if(null==a){e.next=34;break}return i=a.block.prevbsh,e.next=33,this.app.blockchain.returnBlockByHash(i,1);case 33:s=e.sent;case 34:if(c="",u="",l="",null!=this.block.creator&&(c=this.block.creator),null!=t&&(u=t.publickey),d=0,h=0,p=0,null!=a&&(d=this.app.burnfee.returnWorkNeeded(a.block.ts,this.block.ts,a.block.bf),h=this.returnEmbeddedRoutingWork(),p=this.returnFees(),this.sc=o(a.block.st).div(this.app.blockchain.genesis_period).toFixed(8)),this.mc=o(this.block.mt).div(this.app.blockchain.genesis_period).toFixed(8),f=o(h).minus(o(d)),m=o(p).minus(f).plus(this.mc),g=m.div(2).toFixed(8),y=m.minus(o(g)).toFixed(8),b="",null!=a&&(b=a.block.creator),v="",_=-1,w=-1,x=-1,k=null,S="",O=0,P=0,E=0,null!=s&&(O=this.app.burnfee.returnWorkNeeded(s.block.ts,a.block.ts,s.block.bf),P=this.returnEmbeddedRoutingWork(),E=this.returnFees()),A=0,C=0,T=0,D=0,null!=a&&(A=o(P).minus(o(O)),a.mc=o(a.block.mt).div(this.app.blockchain.genesis_period).toFixed(8),C=o(E).minus(A).plus(a.mc),T=C.div(2).toFixed(8),D=C.minus(o(T)).toFixed(8)),j="0",null!=t&&null!=t.random&&(j=t.random),M=this.app.crypto.hash(j).slice(0,12),I=this.app.crypto.hash(M).slice(0,12),R=this.app.crypto.hash(I).slice(0,12),B=this.app.crypto.hash(R).slice(0,12),o(y).gt(0)){for(N="ffffffffffff",F=parseInt(M,16),q=parseInt(N,16),L=F/q,H=o(p).times(L),U=-1,z=o(0),V=0,G=0;G<this.transactions.length&&0==V;G++)z.plus(o(this.transactions[G].returnFees(this.app))),z.gte(H)&&(V=1,U=G);if(-1==U)l=this.block.creator;else if(0==(W=this.transactions[U]).transaction.path.length&&(l=W.transaction.from[0].add),K=I,Y=parseInt(K,16),X=Y/q,J=W.transaction.path.length,W.returnFees(this.app),0==X)l=W.transaction.path[0].to;else if(1==L)l=W.transaction.path[J].to;else for(Q=J,Math.pow(2,Q-1),Z=Q*X,$=0;$<J;$++)2-1/Math.pow(2,$-1)<=Z&&(l=W.transaction.path[$].to)}if(ee=this.app.blockchain.returnWinningStaker(t,R,this.block.id),v=ee.publickey,_=ee.staker_bid,w=ee.staker_sid,x=ee.staker_pos,k=ee.staker_slip,o(D).gt(0)){for(te="ffffffffffff",re=parseInt(R,16),ne=parseInt(te,16),ae=re/ne,ie=o(E).times(ae),se=-1,oe=o(0),ce=0,ue=0;ue<a.transactions.length&&0==ce;ue++)oe.plus(o(a.transactions[ue].returnFees(this.app))),oe.gte(ie)&&(ce=1,se=ue);if(-1==se)S=a.block.creator;else if(0==(le=a.transactions[se]).transaction.path.length)S=le.transaction.from[0].add;else if(de=B,he=parseInt(de,16),pe=he/ne,fe=le.transaction.path.length,le.returnFees(this.app),0==pe)S=le.transaction.path[0].to;else if(1==ae)S=le.transaction.path[fe].to;else for(me=fe,Math.pow(2,me-1),ge=me*pe,ye=0;ye<fe;ye++)2-1/Math.pow(2,ye-1)<=ge&&(S=le.transaction.path[ye].to)}return r.producer_publickey=c,r.miner_publickey=u,r.router_publickey=l,r.staker_publickey=v,r.srouter_publickey=S,r.sproducer_publickey=b,r.producer_share=f.toFixed(8),r.miner_share=g,r.staker_share=T,r.router_share=y,r.sproducer_share=A.toFixed(8),r.srouter_share=D,r.staker_share=T,r.staker_share=T,r.staker_pos=x,r.staker_bid=_,r.staker_sid=w,r.staker_slip=k,r.total_fees_in_block_block1=p,r.total_work_needed_block1=d,r.total_work_available_block1=h,r.total_fees_in_block_block2=E,r.total_work_needed_block2=O,r.total_work_available_block2=P,e.abrupt("return",r);case 104:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"returnFees",value:function(){for(var e=o(0),t=0;t<this.transactions.length;t++)e=e.plus(o(this.transactions[t].returnFees(this.app)));return e.toFixed(8)}},{key:"returnBlockFileData",value:function(){var e={block:JSON.parse(JSON.stringify(this.block)),transactions:JSON.parse(JSON.stringify(this.transactions))};return JSON.stringify(e)}},{key:"returnBlockHeaderData",value:function(){var e={block:JSON.parse(JSON.stringify(this.block))};return JSON.stringify(e)}},{key:"returnLiteBlock",value:function(e,t){for(var r=[],n=0;n<this.transactions.length;n++){for(var a=0,i=0;i<t.length;i++)this.transactions[n].involvesPublicKey(t[i])&&(a=1,i=t.length);if(1==a)r.push(this.transactions[n]);else{var s=new c.transaction;s.transaction.id=this.transactions[n].transaction.id,s.transaction.type=9,s.transaction.r=1,s.transaction.sig=this.app.crypto.hash(this.transactions[n].returnSignatureSource(this.app)),delete s.transaction.m,delete s.transaction.ps,delete s.transaction.ts,delete s.transaction.ver,delete s.transaction.path,delete s.transaction.msg,delete s.fees_total,delete s.work_available_to_me,delete s.work_available_to_creator,delete s.work_cumulative,delete s.msg,delete s.dmsg,delete s.size,delete s.is_valid,delete s.atr_trapdoor,delete s.atr_rebroadcasting_limit,delete s.may_be_removed_from_block,r.push(s)}}var o=new c.block;return o.block=Object.assign({},this.block),o.transactions=r,o}},{key:"returnMerkleRoot",value:function(){if(0==this.transactions.length&&(1==this.app.BROWSER||1==this.app.SPVMODE))return this.block.merkle;for(var e="",t=[],r=0;r<this.transactions.length;r++)9==this.transactions[r].transaction.type?t.push(this.transactions[r].transaction.sig):t.push(this.app.crypto.hash(this.transactions[r].returnSignatureSource(this.app)));for(;""==e;){var n=[];if(t.length<=2)e=1==t.length?t[0]:this.app.crypto.hash(""+t[0]+t[1]);else{for(var a=0;a<t.length;a++)a<=t.length-2?(n.push(this.app.crypto.hash(""+t[a]+t[a+1])),a++):n.push(t[a]);t=n}}return e}},{key:"hasKeylistTransactions",value:function(e){for(var t=0;t<e.length;t++)if(1==this.txs_hmap[e[t]])return!0;return!1}}])&&s(r.prototype,n),u&&s(r,u),e}();e.exports=u}).call(this,r(19))},function(e,t,r){(function(t){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}saito=r(12);r(47);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t||{},this.index={},this.index.blocks=[],this.index.paths=[],this.index.stakers=[],this.bsh_lc_hmap=[],this.bsh_bid_hmap=[],this.bid_bsh_hmap=[],this.bsh_ts_hmap=[],this.lc_pos_set=!1,this.lc_pos=0,this.last_lc_pos=0,this.process_blocks=1,this.run_callbacks=1,this.callback_limit=50,1==this.app.BROWSER&&(this.callback_limit=10),this.fork_id="",this.fork_id_mod=10,this.genesis_ts=0,this.genesis_bid=0,this.genesis_period=1e5,this.last_bsh="",this.last_bid=0,this.last_ts=0,this.last_bf=0,this.lowest_acceptable_ts=0,this.lowest_acceptable_bsh="",this.lowest_acceptable_bid=0,this.indexing_active=0,this.loading_blocks_from_disk_active=1,this.lowest_unspent_bid=0,this.lowest_unspent_pos=0,this.added_block=0}var r,n,o,c,u,l,d,h,p,f,m,g,y,b,v,_;return r=e,(n=[{key:"addHashToBlockchain",value:(_=a(regeneratorRuntime.mark((function e(t,r,n,a){var i,s,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.length>4&&void 0!==o[4]&&o[4],this.indexing_active=1,(i=new saito.block(this.app)).block.ts=r,i.block.prevbsh=a,i.block.id=n,i.hash=t,i.ghost=1,s=this.binaryInsert(this.index.blocks,i,(function(e,t){return e.block.ts-t.block.ts})),this.index.paths.splice(s,0,[]),this.index.stakers.splice(s,0,[]),this.bsh_lc_hmap[i.hash]=0,this.bsh_bid_hmap[i.hash]=n,s<=this.last_lc_pos&&this.index.blocks.length>1&&this.last_lc_pos++,s<=this.lc_pos&&this.index.blocks.length>1?this.lc_pos++:null==this.bid_bsh_hmap[n]&&(1==this.bsh_lc_hmap[a]||this.last_bsh==a&&null==this.bid_bsh_hmap[n])&&(this.bsh_lc_hmap[i.hash]=1,this.lc_pos=s),1==this.bsh_lc_hmap[i.hash]&&(this.bid_bsh_hmap[n]=i.hash),this.bsh_ts_hmap[i.hash]=r,1==this.index.blocks.length&&(this.bsh_lc_hmap[i.hash]=1),this.indexing_active=0,e.abrupt("return");case 20:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return _.apply(this,arguments)})},{key:"addBlockToBlockchain",value:(v=a(regeneratorRuntime.mark((function e(t){var r,n,a,i,s,o,c,u,l,d,h,p,f,m,g,y,b,v,_,w,x,k,S,O,P,E,A,C=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=C.length>1&&void 0!==C[1]&&C[1],1!=this.app.BROWSER){e.next=7;break}if(0!=this.process_blocks){e.next=7;break}return console.log("---------------------------------------------"),console.log("-- inactive tab, bailing in blockchain.js -- "),console.log("---------------------------------------------"),e.abrupt("return");case 7:if(this.indexing_active=1,0!=t.is_valid){e.next=12;break}return console.log("ERROR 178234: block is not valid when adding to chain. terminating..."),this.indexing_active=0,e.abrupt("return");case 12:if(!(t.block.ts<this.genesis_ts||t.block.id<this.genesis_bid)||1==r){e.next=16;break}return console.log("ERROR 792837: block id precedes genesis period. terminating..."),this.indexing_active=0,e.abrupt("return");case 16:if(!this.isHashIndexed(t.returnHash())){e.next=20;break}return console.log("ERROR 582039: blockchain already contains this block hash. terminating..."),this.indexing_active=0,e.abrupt("return");case 20:if(this.last_lc_pos=this.lc_pos,t.block.ts<this.lowest_acceptable_ts&&(this.lowest_acceptable_ts=t.block.ts),0==this.lowest_acceptable_ts?(this.lowest_acceptable_bid=t.block.id,this.lowest_acceptable_bsh=t.returnHash(),this.lowest_acceptable_ts=this.last_ts,0==this.lowest_acceptable_ts&&(this.lowest_acceptable_ts=t.block.ts)):this.lowest_acceptable_ts>t.block.ts&&(r||(this.lowest_acceptable_ts=t.block.ts)),t.block.ts>this.lowest_acceptable_ts&&(this.isHashIndexed(t.block.prevbsh)||1==this.lc_pos_set&&t.block.id>this.index.blocks[this.lc_pos].block.bid-this.genesis_period&&((n={}).request="missing block",n.data={},n.data.hash=t.block.prevbsh,n.data.last_hash=this.returnLatestBlockHash(),this.app.network.sendRequest(n.request,JSON.stringify(n.data)))),(a=this.binaryInsert(this.index.blocks,t,(function(e,t){return e.block.ts-t.block.ts})))<=this.last_lc_pos&&this.index.blocks.length>1&&this.last_lc_pos++,a<=this.lc_pos&&this.index.blocks.length>1&&this.lc_pos++,this.bsh_bid_hmap[t.returnHash()]=t.block.id,this.bsh_ts_hmap[t.returnHash()]=t.block.ts,this.index.paths.splice(a,0,[]),this.index.stakers.splice(a,0,[]),i=0,s=0,o=!1,c=[],u=[],l=[],d=[],1==this.index.blocks.length&&(i=1,this.lc_pos=a,this.last_bsh=t.returnHash(),this.last_bid=t.block.id,this.last_bf=t.block.bf,this.last_ts=t.block.ts,c.push(t.returnHash()),l.push(a)),this.last_bsh==t.block.prevbsh&&this.index.blocks.length>1&&1==this.bsh_lc_hmap[this.last_bsh]&&(i=1,s=this.last_lc_pos,c.push(t.returnHash()),l.push(a)),0!=i){e.next=110;break}if(!(t.block.id>=this.index.blocks[this.lc_pos].block.id)){e.next=109;break}if(h=this.index.blocks[this.lc_pos],p=this.index.blocks[a],t.block.prevbsh!=h.returnHash()){e.next=50;break}i=1,c.push(t.returnHash()),l.push(a),e.next=107;break;case 50:f=this.lc_pos,m=a,g=0,y=0,b=h.block.bf,v=p.block.bf,_=h.block.ts,w=p.block.ts,x=h.block.prevbsh,k=p.block.prevbsh,S=null,O=null,u.push(h.returnHash()),d.push(this.lc_pos),c.push(t.returnHash()),l.push(a),S=w>=_?m-1:f-1;case 70:if(!(S>=0)){e.next=106;break}if((P=this.index.blocks[S]).block.ts,P.block.bf,O=P.returnHash(),P.block.prevbsh,O!=x||O!=k){e.next=82;break}o=!0,s=S,S=-1,e.next=104;break;case 82:if(O==x&&(g++,x=this.index.blocks[S].block.prevbsh,b+=this.index.blocks[S].block.bf,u.push(O),d.push(S)),O==k&&(k=this.index.blocks[S].block.prevbsh,y++,v+=this.index.blocks[S].block.bf,c.push(O),l.push(S)),s=S,S--,1!=s){e.next=95;break}if(""!=k){e.next=95;break}return e.next=90,this.addBlockToBlockchainSuccess(t,a,0);case 90:return e.next=92,this.handleTransactionSlips(t,a);case 92:return this.app.mempool.removeBlockAndTransactions(t),this.indexing_active=0,e.abrupt("return");case 95:if(0!=s){e.next=104;break}if(k==x){e.next=104;break}return e.next=99,this.addBlockToBlockchainSuccess(t,a,0);case 99:return e.next=101,this.handleTransactionSlips(t,a);case 101:return this.app.mempool.removeBlockAndTransactions(t),this.indexing_active=0,e.abrupt("return");case 104:e.next=70;break;case 106:y>g&&v>=b&&1==o&&(i=1);case 107:e.next=110;break;case 109:if(t.block.prevbsh==this.last_bsh&&""!=t.block.prevbsh){for(E=a+1;E<this.index.blocks.length;E++)this.bsh_lc_hmap[this.index.blocks[E].returnHash()]=i,this.onChainReorganization(this.index.blocks[E].block.id,this.index.blocks[E].returnHash(),0,a);i=1,c.push(t.returnHash()),l.push(a)}case 110:if(this.bsh_lc_hmap[this.index.blocks[a].returnHash()]=i,1==i&&(this.last_bsh=this.index.blocks[a].returnHash(),this.last_bf=this.index.blocks[a].block.bf,this.last_ts=this.index.blocks[a].block.ts,this.last_bid=this.index.blocks[a].block.id,this.lc_pos=a,this.lc_pos_set=!0),1!=i||1!=this.index.blocks.length){e.next=124;break}for(A=0;A<t.transactions.length;A++)try{this.app.shashmap.insert_new_transaction(t,t.transactions[A])}catch(e){}return this.app.options||(this.app.options={}),this.app.options.blockchain||(this.app.options.blockchain={}),this.app.options.blockchain.original_genesis_hash||"e1hpHsuiRPbzXdCf7smXvAFCnqpvZXcjtxZLMxcATat1"===this.app.wallet.returnPublicKey()&&(this.app.options.blockchain.original_genesis_ts=t.block.ts,this.app.options.blockchain.original_genesis_hash=t.returnHash(),console.log("signing message 1"),this.app.options.blockchain.original_genesis_sig=this.app.crypto.signMessage("alertreset"+t.block.ts+t.returnHash(),this.app.wallet.returnPrivateKey()),console.log("signing message 2"),this.app.storage.saveOptions(),console.log("CREATED FIRST BLOCK: "),console.log("CREATED FIRST BLOCK: "+this.app.options.blockchain.original_genesis_hash),console.log("CREATED FIRST BLOCK: "+this.app.options.blockchain.original_genesis_sig)),e.next=119,this.validate(t,a,1,[t.returnHash()],[],[a],[],r);case 119:return e.next=121,this.handleTransactionSlips(t,a);case 121:return this.app.mempool.removeBlockAndTransactions(t),this.indexing_active=0,e.abrupt("return");case 124:if(0!=i){e.next=132;break}return e.next=127,this.addBlockToBlockchainSuccess(t,a,0);case 127:return e.next=129,this.handleTransactionSlips(t,a);case 129:return this.app.mempool.removeBlockAndTransactions(t),this.indexing_active=0,e.abrupt("return");case 132:return c.reverse(),u.reverse(),l.reverse(),d.reverse(),e.next=138,this.validate(t,a,i,c,u,l,d,r);case 138:return e.next=140,this.handleTransactionSlips(t,a);case 140:this.app.mempool.removeBlockAndTransactions(t),this.indexing_active=0;case 142:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"initialize",value:(b=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null!=this.app.options.blockchain&&null!=this.app.options.blockchain.genesis_period&&(this.last_bid=this.app.options.blockchain.last_bid,this.last_bsh=this.app.options.blockchain.last_bsh,this.last_ts=this.app.options.blockchain.last_ts,this.last_bf=this.app.options.blockchain.last_bf,this.genesis_ts=this.app.options.blockchain.genesis_ts,this.genesis_bid=this.app.options.blockchain.genesis_bid,this.genesis_period=this.app.options.blockchain.genesis_period,this.lowest_acceptable_ts=this.app.options.blockchain.lowest_acceptable_ts,this.lowest_acceptable_bsh=this.app.options.blockchain.lowest_acceptable_bsh,this.lowest_acceptable_bid=this.app.options.blockchain.lowest_acceptable_bid),this.loading_blocks_from_disk_active=1,e.next=5,this.app.storage.loadBlocksFromDisk(2*this.genesis_period);case 5:this.loading_blocks_from_disk_active=0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return b.apply(this,arguments)})},{key:"isFullySynced",value:function(){var e=this.last_bid-this.genesis_period;return e<0?1==this.index.blocks[0].block.id:(this.index.blocks.length>=this.genesis_period||e<=0)&&(e>this.lowest_acceptable_bid||e<=0&&1==this.lowest_acceptable_bid)}},{key:"handleTransactionSlips",value:(y=a(regeneratorRuntime.mark((function e(t,r){var n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=0;n<t.transactions.length;n++){try{this.app.shashmap.insert_new_transaction(t,t.transactions[n])}catch(e){}if(4==t.transactions[n].transaction.type||2==t.transactions[n].transaction.type)for(a=0;a<t.transactions[n].transaction.to.length;a++)4==t.transactions[n].transaction.to[a].type&&(i=new saito.slip(t.transactions[n].transaction.to[a].add,t.transactions[n].transaction.to[a].amt,t.transactions[n].transaction.to[a].type,t.transactions[n].transaction.to[a].bid,t.transactions[n].transaction.to[a].tid,t.transactions[n].transaction.to[a].sid,t.transactions[n].transaction.to[a].bsh,t.transactions[n].transaction.to[a].lc),this.addStakingSlip(t,i,r))}case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"validate",value:(g=a(regeneratorRuntime.mark((function e(t,r,n,a,i,s,o){var c,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=u.length>7&&void 0!==u[7]&&u[7],!(i.length>0)){e.next=6;break}return e.next=4,this.unwindChain(t,r,n,a,i,c,0,i.length-1,s,o);case 4:e.next=8;break;case 6:return e.next=8,this.windChain(t,r,n,a,i,c,0,0,s,o);case 8:return e.abrupt("return");case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,a,i,s){return g.apply(this,arguments)})},{key:"windChain",value:(m=a(regeneratorRuntime.mark((function e(r,n,a,i,s,o,c,u,l,d){var h,p,f,m,g,y,b,v,_,w,x,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=i[u],r.returnHash()!==h){e.next=37;break}if(p=0,1!=r.validates){e.next=7;break}p=1,e.next=10;break;case 7:return e.next=9,r.validate();case 9:p=e.sent;case 10:if(!p){e.next=17;break}for(f=0;f<r.transactions.length;f++)try{this.app.shashmap.spend_transaction(r.transactions[f],r.block.id)}catch(e){}return e.next=14,this.addBlockToBlockchainSuccess(r,n,a,o);case 14:return e.abrupt("return");case 17:if(0!=u){e.next=29;break}if(!(s.length>0)){e.next=24;break}return e.next=21,this.windChain(r,n,a,s,i,o,1,0,d,l);case 21:return e.abrupt("return");case 24:return e.next=26,this.addBlockToBlockchainFailure(r,n,a,o);case 26:return e.abrupt("return");case 27:e.next=35;break;case 29:for(m=[],g=[],y=u;y<i.length;y++)m.push(i[y]),g.push(l[y]);return e.next=34,this.unwindChain(r,n,a,s,m,o,1,m.length,d,g);case 34:return e.abrupt("return");case 35:e.next=79;break;case 37:return e.next=39,this.returnBlockByHashFromMemoryOrDisk(h);case 39:if(null==(b=e.sent)&&(console.log("ERROR 620394: block does not exist on disk that should. terminating"),t.exit()),v=0,1!=b.validates){e.next=46;break}v=1,e.next=49;break;case 46:return e.next=48,b.validate();case 48:v=e.sent;case 49:if(!v){e.next=69;break}for(this.onChainReorganization(h,b.block.id,1,l[u]),_=0;_<b.transactions.length;_++)try{shashmap.spend_transaction(b.transactions[_],b.block.id)}catch(e){}if(u!=i.length-1){e.next=64;break}if(0!=c){e.next=59;break}return e.next=56,this.addBlockToBlockchainSuccess(r,n,a,o);case 56:return e.abrupt("return");case 59:return e.next=61,this.addBlockToBlockchainFailure(r,n,a,o);case 61:return e.abrupt("return");case 62:e.next=67;break;case 64:return e.next=66,this.windChain(r,n,a,i,s,o,c,u+1,l,d);case 66:return e.abrupt("return");case 67:e.next=79;break;case 69:if(0!=u){e.next=74;break}return e.next=72,this.windChain(r,n,a,s,[],o,1,0,d,[]);case 72:e.next=79;break;case 74:for(w=[],x=[],k=u;k<i.length;k++)w.push(i[k]),x.push(l[k]);return e.next=79,this.unwindChain(r,n,a,s,w,o,1,w.length-1,d,x);case 79:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,a,i,s,o,c,u){return m.apply(this,arguments)})},{key:"unwindChain",value:(f=a(regeneratorRuntime.mark((function e(r,n,a,i,s,o,c,u,l,d){var h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.length>0)){e.next=15;break}return e.next=3,this.returnBlockByHashFromMemoryOrDisk(s[u]);case 3:if(null==(h=e.sent)&&(console.log("ERROR 721058: cannot find block that should exist on disk..."),console.log(" missing: "+s[u]),t.exit()),this.onChainReorganization(h.returnHash(),h.block.id,0,d[u]),0!=u){e.next=11;break}return e.next=9,this.windChain(r,n,a,i,s,o,c,0,l,d);case 9:e.next=13;break;case 11:return e.next=13,this.unwindChain(r,n,a,i,s,o,c,u-1,l,d);case 13:e.next=17;break;case 15:return e.next=17,this.windChain(r,n,a,i,s,o,c,0,l,d);case 17:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,a,i,s,o,c,u){return f.apply(this,arguments)})},{key:"returnLastSharedBlockId",value:function(e,t){if(null==e||""==e)return 0;if(e.length<2&&!(t>0))return 0;for(var r=t;r>=0;r--)r%this.fork_id_mod==0&&(t=r,r=-1);for(var n=this.last_bid,a=0;a<e.length/2;a++){var i=e.substring(2*a,2*a+2),s=t;if(0==a&&(s=t-0),1==a&&(s=t-10),2==a&&(s=t-20),3==a&&(s=t-30),4==a&&(s=t-40),5==a&&(s=t-50),6==a&&(s=t-75),7==a&&(s=t-100),8==a&&(s=t-200),9==a&&(s=t-500),10==a&&(s=t-1e3),11==a&&(s=t-5e3),12==a&&(s=t-1e4),13==a&&(s=t-5e4),n<s);else{var o=this.returnHashByBlockId(s);if(""==o)return 0;if(o.substring(0,2)==i)return s}}return 0}},{key:"returnLongestChainIndexPosArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(0==this.index.blocks.length)return[];if(this.index.blocks.length<e&&(e=this.index.blocks.length),0==e)return[];var t=[],r=this.lc_pos;t.push(r);for(var n=0;n<e;n++){var a=r-1,i=0;if(-1==a)n=e+1;else for(;a>=0&&0==i;)this.index.blocks[a].returnHash()==this.index.blocks[r].block.prevbsh?(t.push(a),i=1,r=a):a--}return t}},{key:"updateForkId",value:function(e){if(null==e)return this.fork_id;for(var t=e.block.id,r="",n=this.index.blocks.length-1,a=t;a>=0;a--)a%this.fork_id_mod==0&&(t=a,a=-1);for(var i=0,s=0;0==s&&i<this.genesis_period;){var o=t-i;-1==(n=this.returnLongestChainIndexArray(o,n))||o<0?s=1:r+=this.index.hash[n].substring(0,2),1e4==i&&(i=5e4),5e3==i&&(i=1e4),1e3==i&&(i=5e3),500==i&&(i=1e3),200==i&&(i=500),100==i&&(i=200),75==i&&(i=100),50==i&&(i=75),40==i&&(i=50),30==i&&(i=40),20==i&&(i=30),10==i&&(i=20),0==i&&(i=10),(i>this.genesis_period||5e4==i)&&(s=1)}this.fork_id=r}},{key:"addBlockToBlockchainSuccess",value:(p=a(regeneratorRuntime.mark((function e(t,r,n){var a,i,s,o,c,u,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.decryptTransactions(this.app),e.next=4,this.app.storage.saveBlock(t,n);case 4:if(this.onChainReorganization(t.returnHash(),t.block.id,n,r),1==n&&(this.lc_pos_set=!0,this.lc_pos=r),this.app.network.propagateBlock(t),a){e.next=27;break}if(this.app.wallet.processPayments(t,n),1!=this.run_callbacks){e.next=27;break}if(t.affixCallbacks(0),1!=n||a){e.next=26;break}i=this.returnLongestChainIndexPosArray(this.callback_limit),s=i.length,i.reverse(),o=0;case 16:if(!(o<i.length&&o<=this.callback_limit)){e.next=26;break}if(null==(c=this.index.blocks[i[o]])){e.next=23;break}return u=1,c.block.id<this.last_bid&&c.block.ts<this.last_ts&&1==n&&(u=0),e.next=23,c.runCallbacks(s-o,u);case 23:o++,e.next=16;break;case 26:this.app.modules.onNewBlock(t,n);case 27:1==n&&this.saveBlockchain(t),this.updateGenesisBlock(t,r),a||this.app.miner.startMining(t),this.resendPendingTransactions();case 31:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return p.apply(this,arguments)})},{key:"resendPendingTransactions",value:function(){this.app.wallet.rebroadcastPendingTransactions()}},{key:"addBlockToBlockchainFailure",value:(h=a(regeneratorRuntime.mark((function e(t,r,n){var a,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>3&&void 0!==i[3]?i[3]:no,this.lc_pos=this.last_lc_pos,this.onChainReorganization(t.returnHash(),t.block.id,0,r),delete this.bsh_lc_hmap[t.returnHash()],delete this.bsh_bid_hmap[t.returnHash()],delete this.bsh_ts_hmap[t.returnHash()],this.app.miner.stopMining(),null!=(a=this.returnLatestBlock())&&this.app.miner.startMining(a),this.resendPendingTransactions(),e.abrupt("return",1);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return h.apply(this,arguments)})},{key:"binaryInsert",value:function(e,t,r,n){for(var a=0,i=e.length;a<i;){var s=a+i>>1,o=r(t,e[s]);if(0===o){a=s,i=s;break}o<0?i=s:a=s+1}return n||e.splice(a,0,t),a}},{key:"isHashIndexed",value:function(e){return this.bsh_bid_hmap[e]>0}},{key:"onChainReorganization",value:function(e,t,r,n){this.bsh_lc_hmap[e]=r,0==r?(delete this.bid_bsh_hmap[t],this.lowest_unspent_bid=0,this.lowest_unspent_pos=0):this.bid_bsh_hmap[t]=e;for(var a=this.index.blocks[n].block.prevbsh,i=t-1,s=-1,o=n-1;o>=0&&this.index.blocks[o].block.id>=i;o--)a==this.index.blocks[o].returnHash()&&(s=o);this.updateStakingSlip(n,s,r),this.app.wallet.onChainReorganization(t,e,r,n),this.app.modules.onChainReorganization(t,e,r,n)}},{key:"resetBlockchainOptions",value:function(){this.last_bid="",this.last_bsh="",this.last_ts=0,this.last_bf=0,this.genesis_ts=0,this.genesis_bid=0,this.lowest_acceptable_ts=0,this.lowest_acceptable_bsh=0,this.lowest_acceptable_bid=0,this.saveBlockchain()}},{key:"returnLatestBlock",value:function(){return 0==this.index.blocks.length?null:this.index.blocks[this.lc_pos]}},{key:"returnLatestBlockId",value:function(){var e=this.returnLatestBlock();return null==e?"":e.block.id}},{key:"returnLatestBlockHash",value:function(){var e=this.returnLatestBlock();return null==e?"":e.returnHash()}},{key:"returnLatestBlockTimestamp",value:function(){var e=this.returnLatestBlock();return null==e||null==e.block?0:e.block.ts}},{key:"returnBlockByHashFromBlockIndex",value:function(e){if(this.isHashIndexed(e))for(var t=this.index.blocks.length-1;t>=0;t--)if(this.index.blocks[t].returnHash()==e)return this.index.blocks[t];return null}},{key:"returnBlockByHashFromMemoryOrDisk",value:(d=a(regeneratorRuntime.mark((function e(t){var r,n,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:0,e.next=3,this.returnBlockByHash(t,r);case 3:if(null!=(n=e.sent)){e.next=9;break}return n=this.returnBlockByHashFromDisk(t),e.abrupt("return",n);case 9:return e.abrupt("return",n);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"returnBlockByHash",value:(l=a(regeneratorRuntime.mark((function e(t){var r,n,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:0,!this.isHashIndexed(t)){e.next=18;break}n=this.index.blocks.length-1;case 3:if(!(n>=0)){e.next=18;break}if(this.index.blocks[n].returnHash()!==t){e.next=15;break}e.t0=r,e.next=0===e.t0?8:1===e.t0?9:14;break;case 8:return e.abrupt("return",this.index.blocks[n]);case 9:if(0!=this.index.blocks[n].transactions.length){e.next=13;break}return e.next=12,this.app.storage.loadBlockByHash(t);case 12:return e.abrupt("return",e.sent);case 13:case 14:return e.abrupt("return",this.index.blocks[n]);case 15:n--,e.next=3;break;case 18:return e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"returnBlockByHashFromDisk",value:(u=a(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isHashIndexed(t)){e.next=10;break}r=this.index.blocks.length-1;case 2:if(!(r>=0)){e.next=10;break}if(this.index.blocks[r].returnHash()!=t){e.next=7;break}return e.next=6,this.app.storage.loadBlockByHash(t);case 6:return e.abrupt("return",e.sent);case 7:r--,e.next=2;break;case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"returnBlockById",value:(c=a(regeneratorRuntime.mark((function e(t){var r,n,a,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:0,null!=(n=this.bid_bsh_hmap[t])){e.next=4;break}return e.abrupt("return",null);case 4:if(!this.isHashIndexed(n)){e.next=21;break}a=this.index.blocks.length-1;case 6:if(!(a>=0)){e.next=21;break}if(this.index.blocks[a].returnHash()!=n){e.next=18;break}e.t0=r,e.next=0===e.t0?11:1===e.t0?12:17;break;case 11:return e.abrupt("return",this.index.blocks[a]);case 12:if(0!=this.index.blocks[a].transactions.length){e.next=16;break}return e.next=15,this.app.storage.loadBlockByHash(n);case 15:return e.abrupt("return",e.sent);case 16:case 17:return e.abrupt("return",this.index.blocks[a]);case 18:a--,e.next=6;break;case 21:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"returnMinTxId",value:function(){return null==this.lc_pos||null==this.index.blocks[this.lc_pos].mintxid?0:this.index.blocks[this.lc_pos].maxtxid}},{key:"returnMaxTxId",value:function(){return null==this.lc_pos||null==this.index.blocks[this.lc_pos].maxtxid?0:this.index.blocks[this.lc_pos].maxtxid}},{key:"returnLowestValidBlock",value:function(){return this.last_bid-this.genesis_period+2}},{key:"saveBlockchain",value:function(e){this.app.options.blockchain=Object.assign({},this.app.options.blockchain),null!=e&&(this.last_bsh=e.returnHash(),this.last_bid=e.block.id,this.last_ts=e.block.ts,this.last_bf=e.block.bf,e.block.id%this.fork_id_mod==0&&(this.fork_id=this.updateForkId()),this.app.options.blockchain.last_bsh=this.last_bsh,this.app.options.blockchain.last_bid=this.last_bid,this.app.options.blockchain.last_ts=this.last_ts,this.app.options.blockchain.last_bf=this.last_bf,this.app.options.blockchain.genesis_ts=this.genesis_ts,this.app.options.blockchain.genesis_bid=this.genesis_bid,this.app.options.blockchain.genesis_period=this.genesis_period,this.app.options.blockchain.lowest_acceptable_ts=this.lowest_acceptable_ts,this.app.options.blockchain.lowest_acceptable_bsh=this.lowest_acceptable_bsh,this.app.options.blockchain.lowest_acceptable_bid=this.lowest_acceptable_bid,this.app.storage.saveOptions())}},{key:"updateGenesisBlock",value:function(e,t){if(this.index.blocks[this.lc_pos].returnHash()!=e.returnHash())return t;if(this.index.blocks.length<2*this.genesis_period)return t;if(e.block.id>=2*this.genesis_period+1){var r=e.block.id-2*this.genesis_period;return this.genesis_bid=e.block.id-this.genesis_period,this.purgeArchivedData(r,t)}return t}},{key:"purgeArchivedData",value:function(e,t){for(var r=0,n=0;n<this.index.blocks.length;n++)this.index.blocks[n].block.bid<e?r++:n=this.index.blocks.length;for(var a=0;a<r;a++){var i=this.index.blocks[a],s=i.returnHash();delete this.bsh_lc_hmap[s],delete this.bsh_bid_hmap[s],delete this.bsh_ts_hmap[s],delete this.bid_bsh_hmap[i.block.bid],this.app.storage.deleteBlock(i.block.bid,i.returnHash(),this.bsh_lc_hmap[i.returnHash()])}this.index.blocks.splice(0,r),this.index.paths.splice(0,r),this.index.stakers.splice(0,r),this.index.staking_reward(0,r);var o=t-r;return this.lowest_unspent_pos=this.lowest_unspent_pos-r,this.lc_pos=this.lc_pos-r,this.lc_pos=this.lc_pos-r,this.app.wallet.purgeExpiredSlips(),o}},{key:"addStakingSlip",value:function(e,t,r){var n={};n.slip=t,n.paid=0,this.index.stakers[r].push(n)}},{key:"updateStakingSlip",value:function(e,t,r){if(1==r)try{for(var n=0;n<this.index.stakers[e].length;n++)this.index.stakers[e][n].paid=0}catch(e){}else try{for(var a=0;a<this.index.stakers[e].length;a++)this.index.stakers[e][a].paid=0}catch(t){console.log("ERROR 582035: error trying to unspend slip at pos: "+e)}}},{key:"returnWinningStaker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;null==t&&(t=e.random);var n={publickey:"",staker_bid:-1,staker_sid:-1,staker_pos:-1};null!=e&&null!=e.publickey&&(n.publickey=e.publickey);var a=this.app.blockchain.genesis_period;a>r&&(a=r);for(var s=this.app.crypto.hash(t).slice(0,12),o=parseInt(s,16),c=o%a,u=-1,l=-1,d=null,h=this.index.blocks.length-1;h>=0;h--)1!=this.bsh_lc_hmap[this.index.blocks[h].returnHash()]&&this.index.blocks[h].block.id!=r||(c=h,h=-1);u=this.index.blocks[c].block.id;var p=0,f=this.app.crypto.hash(s).slice(0,12),m=parseInt(f,16);if(this.index.stakers[c].length>0&&(l=m%this.index.stakers[c].length),(-1==l||-1==this.index.stakers[c][l].paid)&&(p=1),0==p)d=this.index.stakers[c][l];else{var g=this.last_bid-this.genesis_period+1;g<1&&(g=1),g<this.lowest_unspent_bid&&(g=this.lowest_unspent_bid);for(var y=0,b=0;b>this.index.blocks.length&&0==y;b++)this.index.blocks[b].block.id==g&&1==this.bsh_lc_hmap[this.index.blocks[i].returnHash()]&&(y=b);for(var v=1,_=y;_<this.index.stakers.length&&1==v;_++)for(var w=0;w<this.index.stakers[_].length&&1==v;w++)0==this.index.stakers[_][w].paid&&(u=this.index.blocks[_].block.id,l=w,c=_,d=this.index.stakers[_][w],v=0)}return n.publickey=this.index.stakers[c][l].slip.add,n.staker_bid=u,n.staker_sid=l,n.staker_pos=c,n.staker_slip=d.slip.returnSignatureSource(),n}},{key:"resetBlockchain",value:function(){this.last_bsh="",this.last_bid=0,this.last_ts=0,this.last_bf=0,this.genesis_ts=0,this.genesis_bid=0,this.lowest_acceptable_ts=0,this.lowest_acceptable_bsh="",this.lowest_acceptable_bid=0,void 0===this.app.options.blockchain&&(this.app.options.blockchain={}),this.app.options.blockchain.last_bsh=this.last_bsh,this.app.options.blockchain.last_bid=this.last_bid,this.app.options.blockchain.last_ts=this.last_ts,this.app.options.blockchain.last_bf=this.last_bf,this.app.options.blockchain.lowest_acceptable_ts=this.lowest_acceptable_ts,this.app.options.blockchain.lowest_acceptable_bsh=this.lowest_acceptable_bsh,this.app.options.blockchain.lowest_acceptable_bid=this.lowest_acceptable_bid,this.app.storage.saveOptions()}},{key:"hasKeylistTransactions",value:function(e,t){var r=this.returnBlockByHashFromBlockIndex(e);return null===r?(console.log("Not found block"),-1):r.hasKeylistTransactions(t)?1:0}}])&&s(r.prototype,n),o&&s(r,o),e}();e.exports=o}).call(this,r(19))},function(e,t,r){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,i=[],s=!0,o=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(e){o=!0,a=e}finally{try{s||null==r.return||r.return()}finally{if(o)throw a}}return i}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function s(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){c(i,n,a,s,o,"next",e)}function o(e){c(i,n,a,s,o,"throw",e)}s(void 0)}))}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=r(872),h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t||{},this.browser_active=0,this.drag_callback=null,this.urlParams={},this.active_tab=0}var t,r,s,o,c,h;return t=e,(r=[{key:"initialize",value:(h=u(regeneratorRuntime.mark((function e(t){var r,n,a,s,o,c,u,l,d,h,p,f,m,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this,1==this.app.BROWSER){e.next=3;break}return e.abrupt("return",0);case 3:e.prev=3,document.hidden||r.setActiveTab(1);try{n=new BroadcastChannel("saito"),document.hidden||n.postMessage({active:1,publickey:r.app.wallet.returnPublicKey()}),n.onmessage=function(e){document.hidden?e.data&&1==e.data.active&&1==e.data.active&&e.data.publickey===r.app.wallet.returnPublicKey()&&r.setActiveTab(0):(n.postMessage({active:1,publickey:r.app.wallet.returnPublicKey()}),r.setActiveTab(1))},document.addEventListener("visibilitychange",(function(){document.hidden?n.postMessage({active:0,publickey:r.app.wallet.returnPublicKey()}):(r.setActiveTab(1),n.postMessage({active:1,publickey:r.app.wallet.returnPublicKey()}))}),!1),window.addEventListener("storage",(function(e){0==r.active_tab&&r.app.storage.loadOptions()}))}catch(e){}if("undefined"!=typeof window){e.next=11;break}return console.log("Initializing Saito Node"),e.abrupt("return");case 11:console.info("Initializing Saito Light Client");case 12:a=window.location,s=new URL(a),o=s.pathname.split("/"),""==(c=o[1]?o[1].toLowerCase():"")&&(c="website"),this.urlParams=new URLSearchParams(window.location.search),u=this.urlParams.entries(),l=i(u);try{for(l.s();!(d=l.n()).done;)if(pair=d.value,"crypto"===pair[0]){for(h=0,p=this.app.wallet.returnInstalledCryptos(),f=0;f<p.length;f++)p[f].ticker&&p[f].ticker.toLowerCase()===pair[1].toLowerCase()&&(h=1,this.app.wallet.setPreferredCrypto(p[f].ticker));0==h&&salert("Your compile does not contain a ".concat(pair[1].toUpperCase()," module. Visit the AppStore or contact us about getting one built!"))}}catch(e){l.e(e)}finally{l.f()}for(m=0;m<this.app.modules.mods.length;m++)this.app.modules.mods[m].returnSlug()==c&&(this.app.modules.mods[m].browser_active=1,this.app.modules.mods[m].alerts=0,g=new URLSearchParams(location.search),this.app.modules.mods[m].handleUrlParams(g));this.checkForMultipleWindows(),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then((function(){})),this.browser_active=1,e.next=34;break;case 27:if(e.prev=27,e.t0=e.catch(3),"ReferenceError: document is not defined"!=e.t0){e.next=33;break}console.log("non-browser detected: "+e.t0),e.next=34;break;case 33:throw e.t0;case 34:1==this.app.BROWSER&&(this.app.connection.on("connection_up",(function(e){siteMessage("Websocket Connection Established",1e3)})),this.app.connection.on("connection_down",(function(e){siteMessage("Websocket Connection Lost")})));case 35:case"end":return e.stop()}}),e,this,[[3,27]])}))),function(e){return h.apply(this,arguments)})},{key:"returnURLParameter",value:function(e){var t,r=i(this.urlParams.entries());try{for(r.s();!(t=r.n()).done;)if(pair=t.value,pair[0]==e)return pair[1]}catch(e){r.e(e)}finally{r.f()}return""}},{key:"isMobileBrowser",value:function(e){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(e),t}},{key:"isSupportedBrowser",value:function(e){if(e.toLowerCase().indexOf("safari/")>-1&&-1==e.toLowerCase().indexOf("chrome")&&-1==e.toLowerCase().indexOf("firefox"))return 0;try{Function("() => {};")}catch(e){return 0}return 1}},{key:"sendNotification",value:function(e,t,r){0!=this.app.BROWSER&&(this.isMobileBrowser(navigator.userAgent)?Notification.requestPermission().then((function(n){"granted"!==n&&"default"!==n||navigator.serviceWorker.ready.then((function(n){n.showNotification(e,{body:t,icon:"/saito/img/touch/pwa-192x192.png",vibrate:[200,100,200,100,200,100,200],tag:r})}))})):("default"===Notification.permission&&Notification.requestPermission(),"granted"===Notification.permission&&(notify=new Notification(e,{body:t,iconURL:"/saito/img/touch/pwa-192x192.png",icon:"/saito/img/touch/pwa-192x192.png"}))))}},{key:"checkForMultipleWindows",value:function(){localStorage.openpages=Date.now(),browser_self=this,window.addEventListener("storage",(function(e){"openpages"==e.key&&(localStorage.page_available=Date.now()),"page_available"!=e.key||browser_self.isMobileBrowser(navigator.userAgent)||(console.log(e.key),console.log(navigator.userAgent))}),!1)}},{key:"returnInviteObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return t.publickey=this.app.wallet.returnPublicKey(),t.bundle="",t.email=e,""!=this.app.options.bundle&&(t.bundle=this.app.options.bundle),t}},{key:"returnInviteLink",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.app.options.peers[0],r=t.protocol,n=t.host,a=t.port,i=encodeURIComponent(this.app.crypto.stringToBase64(JSON.stringify(this.returnInviteObject(e))));return"".concat(r,"://").concat(n,":").concat(a,"/r?i=").concat(i)}},{key:"setActiveTab",value:function(e){this.active_tab=e,this.app.blockchain.process_blocks=e,this.app.storage.save_options=e;for(var t=0;t<this.app.network.peers.length;t++)this.app.network.peers[t].handle_peer_requests=e}},{key:"requestFullscreen",value:function(){d.isEnabled&&d.toggle()}},{key:"addElementToDom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=document.createElement("div");null==t?document.body.appendChild(r):document.getElementById(t)?document.getElementById(t).appendChild(r):document.body.appendChild(r),r.outerHTML=e}},{key:"prependElementToDom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;try{var r=document.createElement("div");t.insertAdjacentElement("afterbegin",r),r.outerHTML=e}catch(e){console.log("ERROR 582343: error in prependElementToDom")}}},{key:"addElementToElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;try{var r=document.createElement("div");t.appendChild(r),r.outerHTML=e}catch(e){console.log("ERROR 582343: error in addElementToElement")}}},{key:"makeElement",value:function(e,t,r){var n=document.createElement(e);return n.id=t,n.class=r,n}},{key:"htmlToElement",value:function(e){return(new DOMParser).parseFromString(e,"text/html").body.firstChild}},{key:"formatDate",value:function(e){var t=new Date(e),r=t.getHours(),n=t.getMinutes(),a=[12];a[0]="January",a[1]="February",a[2]="March",a[3]="April",a[4]="May",a[5]="June",a[6]="July",a[7]="August",a[8]="September",a[9]="October",a[10]="November",a[11]="December";var i=a[t.getMonth()],s=t.getDay();return{year:t.getFullYear(),month:i,day:s,hours:r,minutes:n=1==n.toString().length?"0".concat(n):"".concat(n)}}},{key:"addDragAndDropFileUploadToElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this,i='\n      <form class="my-form" style="display:none">\n        <p>Upload multiple files with the file dialog or by dragging and dropping images onto the dashed region</p>\n        <input type="file" id="hidden_file_element_'.concat(e,'" multiple accept="*">\n        <label class="button" for="fileElem">Select some files</label>\n      </form>\n    ');if(!document.getElementById("hidden_file_element_".concat(e))){this.addElementToDom(i,e);var s=document.getElementById(e);["dragenter","dragover","dragleave","drop"].forEach((function(e){s.addEventListener(e,n.preventDefaults,!1)})),["dragenter","dragover"].forEach((function(e){s.addEventListener(e,n.highlight,!1)})),["dragleave","drop"].forEach((function(e){s.addEventListener(e,n.unhighlight,!1)})),s.addEventListener("drop",(function(e){a(e.dataTransfer.files).forEach((function(e){var r=new FileReader;r.addEventListener("load",(function(e){t(e.target.result)})),r.readAsDataURL(e)}))}),!1),s.parentNode.parentNode.addEventListener("paste",(function(e){a(e.clipboardData.files).forEach((function(e){var r=new FileReader;r.addEventListener("load",(function(e){t(e.target.result)})),r.readAsDataURL(e)}))}),!1);var o=document.getElementById("hidden_file_element_".concat(e));1==r&&s.addEventListener("click",(function(e){o.click()})),o.addEventListener("change",(function(e){this.files&&this.files.length>0&&a(this.files).forEach((function(e){var r=new FileReader;r.addEventListener("load",(function(e){t(e.target.result)})),r.readAsDataURL(e)}))}),!1),s.focus()}}},{key:"highlight",value:function(e){document.getElementById(e.currentTarget.id).style.opacity=.8}},{key:"unhighlight",value:function(e){document.getElementById(e.currentTarget.id).style.opacity=1}},{key:"preventDefaults",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"makeDraggable",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{var n=document.getElementById(e),a=n;""!=t&&(a=document.getElementById(t));var i=0,s=0,o=0,c=0,u=0,l=0,d=0;a.onmousedown=function(a){if(a.currentTarget.id!=e&&a.currentTarget.id!=t||void 0===a.currentTarget.id)return document.ontouchend=null,document.ontouchmove=null,document.onmouseup=null,void(document.onmousemove=null);a=a||window.event;var h=n.getBoundingClientRect();l=h.left,d=h.top,s=a.clientX,o=a.clientY,c=s,u=o,document.onmouseup=function(e){document.ontouchend=null,document.ontouchmove=null,document.onmouseup=null,document.onmousemove=null,null!=r&&1==i&&r()},document.onmousemove=function(e){e=e||window.event,c=e.clientX,u=e.clientY;var t=c-s,r=u-o;t>0&&(i=1),r>0&&(i=1),n.style.left=l+t+"px",n.style.top=d+r+"px",n.style.bottom="unset",n.style.right="unset",n.style.transform="unset",n.style.transform="unset"}},a.ontouchstart=function(a){if(a.currentTarget.id!=e&&a.currentTarget.id!=t||void 0===a.currentTarget.id)return document.ontouchend=null,document.ontouchmove=null,document.onmouseup=null,void(document.onmousemove=null);a=a||window.event;var h=n.getBoundingClientRect();l=h.left,d=h.top,s=a.targetTouches[0]?a.targetTouches[0].pageX:a.changedTouches[a.changedTouches.length-1].pageX,o=a.targetTouches[0]?event.targetTouches[0].pageY:a.changedTouches[a.changedTouches.length-1].pageY,c=s,u=o,document.ontouchend=function(e){document.ontouchend=null,document.ontouchmove=null,document.onmouseup=null,document.onmousemove=null,null!=r&&1==i&&r()},document.ontouchmove=function(e){e=e||window.event,c=e.targetTouches[0]?e.targetTouches[0].pageX:e.changedTouches[e.changedTouches.length-1].pageX,u=e.targetTouches[0]?event.targetTouches[0].pageY:e.changedTouches[e.changedTouches.length-1].pageY;var t=c-s,r=u-o;t>0&&(i=1),r>0&&(i=1),n.style.left=l+t+"px",n.style.top=d+r+"px",n.style.bottom="unset",n.style.right="unset",n.style.transform="unset",n.style.transform="unset"}}}catch(e){console.log("error: "+e)}}},{key:"addIdentifiersToDom",value:(c=u(regeneratorRuntime.mark((function e(){var t,r,a,i=this,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0==(t=s.length>0&&void 0!==s[0]?s[0]:[]).length&&(r=document.getElementsByClassName("saito-address"),Array.from(r).forEach((function(e){var r=e.getAttribute("data-id");r&&t.push(r)}))),e.prev=2,e.next=5,this.app.keys.fetchManyIdentifiersPromise(t);case 5:a=e.sent,Object.entries(a).forEach((function(e){var t=n(e,2),r=t[0],a=t[1];return i.updateAddressHTML(r,a)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(){return c.apply(this,arguments)})},{key:"returnAddressHTML",value:function(e){var t=this.app.keys.returnIdentifierByPublicKey(e),r=t||e;return'<span data-id="'.concat(e,'" class="saito-address saito-address-').concat(e,'">').concat(r,"</span>")}},{key:"returnAddressHTMLPromise",value:(o=u(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.returnIdentifier(t);case 2:return r=e.sent,n=r||t,e.abrupt("return",'<span class="saito-address saito-address-'.concat(t,'">').concat(n,"</span>"));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"updateAddressHTML",value:function(e,t){if(t)try{var r=document.getElementsByClassName("saito-address-".concat(e));Array.from(r).forEach((function(e){return e.innerHTML=t}))}catch(e){}}},{key:"logMatomoEvent",value:function(e,t,r,n){try{this.app.modules.returnFirstRespondTo("matomo_event_push").push(e,t,r,n)}catch(e){e.startsWith("Module responding to")?console.log("Matomo module not present, cannot push event"):console.log(e)}}},{key:"parseHash",value:function(e){return""===e?{}:e.substr(1).split("&").reduce((function(e,t){var r=t.split("=");return e[r[0]]=r[1],e}),{})}},{key:"buildHash",value:function(e){return"#"+Object.keys(e).reduce((function(t,r){return e[r],t+"&".concat(r,"=").concat(e[r])}),"").substr(1)}},{key:"buildHashAndPreserve",value:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return this.buildHash(Object.assign(this.getSubsetOfHash(t,n),this.parseHash(e)))}},{key:"getSubsetOfHash",value:function(e){for(var t=this.parseHash(e),r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((function(e,r){return e[r]=t[r],e}),{})}},{key:"removeFromHash",value:function(e){for(var t=this.parseHash(e),r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach((function(e,r){delete t[e]})),this.buildHash(t)}},{key:"modifyHash",value:function(e,t){return this.buildHash(Object.assign(this.parseHash(e),t))}},{key:"defaultHashTo",value:function(e,t){return this.buildHash(Object.assign(this.parseHash(e),this.parseHash(t)))}},{key:"initializeHash",value:function(e,t,r){return this.modifyHash(this.defaultHashTo(e,t),r)}},{key:"getValueFromHashAsBoolean",value:function(){}},{key:"getValueFromHashAsNumber",value:function(e,t){try{var r=this.getSubsetOfHash(e,t);if(r[t])return Number(r[t]);throw"key not found in hash"}catch(e){return Number(0)}}}])&&l(t.prototype,r),s&&l(t,s),e}();e.exports=h},function(e,t,r){
/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},r=e.exports,n=function(){for(var e,r=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,a=r.length,i={};n<a;n++)if((e=r[n])&&e[1]in t){for(n=0;n<e.length;n++)i[r[0][n]]=e[n];return i}return!1}(),a={change:n.fullscreenchange,error:n.fullscreenerror},i={request:function(e,r){return new Promise(function(a,i){var s=function(){this.off("change",s),a()}.bind(this);this.on("change",s);var o=(e=e||t.documentElement)[n.requestFullscreen](r);o instanceof Promise&&o.then(s).catch(i)}.bind(this))},exit:function(){return new Promise(function(e,r){if(this.isFullscreen){var a=function(){this.off("change",a),e()}.bind(this);this.on("change",a);var i=t[n.exitFullscreen]();i instanceof Promise&&i.then(a).catch(r)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,r){var n=a[e];n&&t.addEventListener(n,r,!1)},off:function(e,r){var n=a[e];n&&t.removeEventListener(n,r,!1)},raw:n};n?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(t[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[n.fullscreenEnabled])}}}),r?e.exports=i:window.screenfull=i):r?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r(47);var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.heartbeat=10}var t,r,a;return t=e,(r=[{key:"returnWorkNeeded",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getTime(),r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0==e)return 0;var n=t-e;return n<=1&&(n=1),n>2e3*this.heartbeat?0:Math.floor(r/(n/1e3))}},{key:"returnBurnFee",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null==e||null==t?0:(e.block.bf+1)*Math.sqrt(1e3*this.heartbeat/(Math.abs(t.block.ts-e.block.ts)+1))}}])&&n(t.prototype,r),a&&n(t,a),e}();e.exports=a},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=o(e);if(t){var a=o(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return s(this,r)}}function s(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(r,e);var t=i(r);function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=t.call(this)).setMaxListeners(200),e}return r}(r(67));e.exports=c},function(e,t,r){"use strict";(function(t){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(68),i=r(959),s=r(962),o=r(68).randomBytes,c=r(241),u=s.CryptoJS,l=s.JsonFormatter,d=r(156),h=r(974),p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,s,p;return r=e,(s=[{key:"hash",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i(e)}},{key:"xor",value:function(e,r){t.isBuffer(e)||(e=new t(e)),t.isBuffer(r)||(r=new t(r));var n=[];if(e.length>r.length)for(var a=0;a<r.length;a++)n.push(e[a]^r[a]);else for(a=0;a<e.length;a++)n.push(e[a]^r[a]);return new t(n)}},{key:"encodeXOR",value:function(e,r){for(;e.length>r.length;)r+=r;return this.xor(t.from(e,"hex"),t.from(r,"hex")).toString("hex")}},{key:"decodeXOR",value:function(e,r){for(;e.length>r.length;)r+=r;return this.xor(t.from(e,"hex"),t.from(r,"hex")).toString("hex")}},{key:"stringToHex",value:function(e){return t.from(e,"utf-8").toString("hex")}},{key:"hexToString",value:function(e){return t.from(e,"hex").toString("utf-8")}},{key:"stringToBase64",value:function(e){return t.from(e,"utf-8").toString("base64")}},{key:"base64ToString",value:function(e){return t.from(e,"base64").toString("utf-8")}},{key:"compressPublicKey",value:function(e){return this.toBase58(c.publicKeyConvert(t.from(e,"hex"),!0).toString("hex"))}},{key:"fromBase58",value:function(e){return t.from(d.decode(e),"Uint8Array").toString("hex")}},{key:"toBase58",value:function(e){return d.encode(t.from(e,"hex"))}},{key:"generateKeys",value:function(){var e;do{e=o(32)}while(!c.privateKeyVerify(e,!1));return e.toString("hex")}},{key:"generateRandomNumber",value:function(){return o(32).toString("hex")}},{key:"returnPublicKey",value:function(e){return this.compressPublicKey(c.publicKeyCreate(t.from(e,"hex"),!1).toString("hex"))}},{key:"signMessage",value:function(e,r){return this.toBase58(c.sign(t.from(this.hash(t.from(e,"utf-8").toString("base64")),"hex"),t.from(r,"hex")).signature.toString("hex"))}},{key:"uncompressPublicKey",value:function(e){return c.publicKeyConvert(t.from(this.fromBase58(e),"hex"),!1).toString("hex")}},{key:"verifySignatureSource",value:function(e,r,n){try{return c.verify(t.from(e,"hex"),t.from(this.fromBase58(r),"hex"),t.from(this.uncompressPublicKey(n),"hex"))}catch(e){return console.log(e),!1}}},{key:"verifyMessage",value:function(e,r,n){try{return c.verify(t.from(this.hash(t.from(e,"utf-8").toString("base64")),"hex"),t.from(this.fromBase58(r),"hex"),t.from(this.uncompressPublicKey(n),"hex"))}catch(e){return console.log(e),!1}}},{key:"fastVerifyMessage",value:function(e,r,n){try{return c.verify(t.from(e,"hex"),t.from(this.fromBase58(r),"hex"),t.from(this.uncompressPublicKey(n),"hex"))}catch(e){return console.log(e),!1}}},{key:"isPublicKey",value:function(e){return 44!=e.length&&45!=e.length||e.indexOf("@")>0?0:1}},{key:"createDiffieHellman",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=a.createECDH("secp256k1");return r.generateKeys(),""!=e&&r.setPublicKey(e),""!=t&&r.setPrivateKey(t),r}},{key:"returnDiffieHellmanKeys",value:function(e){var t={};return t.pubkey=e.getPublicKey(null,"compressed"),t.privkey=e.getPrivateKey(null,"compressed"),t}},{key:"createDiffieHellmanSecret",value:function(e,t){return e.computeSecret(t)}},{key:"aesEncrypt",value:function(e,t){var r=t.toString("hex");return u.AES.encrypt(e,r,{format:l}).toString()}},{key:"aesDecrypt",value:function(e,t){var r=t.toString("hex"),n=u.AES.decrypt(e,r,{format:l});return u.enc.Utf8.stringify(n)}},{key:"fastSerialize",value:function(e){return h(e)}}])&&n(r.prototype,s),p&&n(r,p),e}();e.exports=p}).call(this,r(11).Buffer)},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,a){var i,s,o=8*a-n-1,c=(1<<o)-1,u=c>>1,l=-7,d=r?a-1:0,h=r?-1:1,p=e[t+d];for(d+=h,i=p&(1<<-l)-1,p>>=-l,l+=o;l>0;i=256*i+e[t+d],d+=h,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=n;l>0;s=256*s+e[t+d],d+=h,l-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),i-=u}return(p?-1:1)*s*Math.pow(2,i-n)},t.write=function(e,t,r,n,a,i){var s,o,c,u=8*i-a-1,l=(1<<u)-1,d=l>>1,h=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=l?(o=0,s=l):s+d>=1?(o=(t*c-1)*Math.pow(2,a),s+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,a),s=0));a>=8;e[r+p]=255&o,p+=f,o/=256,a-=8);for(s=s<<a|o,u+=a;u>0;e[r+p]=255&s,p+=f,s/=256,u-=8);e[r+p-f]|=128*m}},function(e,t){},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(11).Buffer,o=r(879).inspect,c=o&&o.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,u;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,a=s.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=i.data,r=a,n=o,s.prototype.copy.call(t,r,n),o+=i.data.length,i=i.next;return a}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var a=t.data,i=e>a.length?a.length:e;if(i===a.length?n+=a:n+=a.slice(0,e),0==(e-=i)){i===a.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=a.slice(i));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var a=r.data,i=e>a.length?a.length:e;if(a.copy(t,t.length-e,0,i),0==(e-=i)){i===a.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=a.slice(i));break}++n}return this.length-=n,t}},{key:c,value:function(e,t){return o(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&i(t.prototype,r),u&&i(t,u),e}()},function(e,t){},function(e,t,r){"use strict";(function(t){var n;function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(225),s=Symbol("lastResolve"),o=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function f(e){var t=e[s];if(null!==t){var r=e[h].read();null!==r&&(e[l]=null,e[s]=null,e[o]=null,t(p(r,!1)))}}function m(e){t.nextTick(f,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((a(n={get stream(){return this[h]},next:function(){var e=this,r=this[c];if(null!==r)return Promise.reject(r);if(this[u])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(r,n){t.nextTick((function(){e[c]?n(e[c]):r(p(void 0,!0))}))}));var n,a=this[l];if(a)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(p(void 0,!0)):t[d](r,n)}),n)}}(a,this));else{var i=this[h].read();if(null!==i)return Promise.resolve(p(i,!1));n=new Promise(this[d])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),a(n,"return",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,r=Object.create(y,(a(t={},h,{value:e,writable:!0}),a(t,s,{value:null,writable:!0}),a(t,o,{value:null,writable:!0}),a(t,c,{value:null,writable:!0}),a(t,u,{value:e._readableState.endEmitted,writable:!0}),a(t,d,{value:function(e,t){var n=r[h].read();n?(r[l]=null,r[s]=null,r[o]=null,e(p(n,!1))):(r[s]=e,r[o]=t)},writable:!0}),t));return r[l]=null,i(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[o];return null!==t&&(r[l]=null,r[s]=null,r[o]=null,t(e)),void(r[c]=e)}var n=r[s];null!==n&&(r[l]=null,r[s]=null,r[o]=null,n(p(void 0,!0))),r[u]=!0})),e.on("readable",m.bind(null,r)),r}}).call(this,r(19))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,r){"use strict";e.exports=a;var n=r(423);function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}r(7)(a,n),a.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){"use strict";var n;var a=r(103).codes,i=a.ERR_MISSING_ARGS,s=a.ERR_STREAM_DESTROYED;function o(e){if(e)throw e}function c(e,t,a,i){i=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(i);var o=!1;e.on("close",(function(){o=!0})),void 0===n&&(n=r(225)),n(e,{readable:t,writable:a},(function(e){if(e)return i(e);o=!0,i()}));var c=!1;return function(t){if(!o&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void i(t||new s("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function d(e){return e.length?"function"!=typeof e[e.length-1]?o:e.pop():o}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,a=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new i("streams");var s=t.map((function(e,r){var i=r<t.length-1;return c(e,i,r>0,(function(e){n||(n=e),e&&s.forEach(u),i||(s.forEach(u),a(n))}))}));return t.reduce(l)}},function(e,t,r){var n=r(7),a=r(106),i=r(9).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,a.call(this,64,56)}function u(e){return e<<30|e>>>2}function l(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,a),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,a=0|this._b,i=0|this._c,o=0|this._d,c=0|this._e,d=0;d<16;++d)r[d]=e.readInt32BE(4*d);for(;d<80;++d)r[d]=r[d-3]^r[d-8]^r[d-14]^r[d-16];for(var h=0;h<80;++h){var p=~~(h/20),f=0|((t=n)<<5|t>>>27)+l(p,a,i,o)+c+r[h]+s[p];c=o,o=i,i=u(a),a=n,n=f}this._a=n+this._a|0,this._b=a+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=i.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},function(e,t,r){var n=r(7),a=r(106),i=r(9).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,a.call(this,64,56)}function u(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function d(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,a),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,a=0|this._b,i=0|this._c,o=0|this._d,c=0|this._e,h=0;h<16;++h)r[h]=e.readInt32BE(4*h);for(;h<80;++h)r[h]=(t=r[h-3]^r[h-8]^r[h-14]^r[h-16])<<1|t>>>31;for(var p=0;p<80;++p){var f=~~(p/20),m=u(n)+d(f,a,i,o)+c+r[p]+s[f]|0;c=o,o=i,i=l(a),a=n,n=m}this._a=n+this._a|0,this._b=a+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=i.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},function(e,t,r){var n=r(7),a=r(424),i=r(106),s=r(9).Buffer,o=new Array(64);function c(){this.init(),this._w=o,i.call(this,64,56)}n(c,a),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},function(e,t,r){var n=r(7),a=r(425),i=r(106),s=r(9).Buffer,o=new Array(160);function c(){this.init(),this._w=o,i.call(this,128,112)}n(c,a),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=s.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},function(e,t,r){e.exports=a;var n=r(67).EventEmitter;function a(){n.call(this)}r(7)(a,n),a.Readable=r(228),a.Writable=r(894),a.Duplex=r(895),a.Transform=r(896),a.PassThrough=r(897),a.Stream=a,a.prototype.pipe=function(e,t){var r=this;function a(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",a),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",o),r.on("close",c));var s=!1;function o(){s||(s=!0,e.end())}function c(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",a),e.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",u),e.on("error",u),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},function(e,t){},function(e,t,r){"use strict";var n=r(229).Buffer,a=r(891);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,a,i=n.allocUnsafe(e>>>0),s=this.head,o=0;s;)t=s.data,r=i,a=o,t.copy(r,a),o+=s.data.length,s=s.next;return i},e}(),a&&a.inspect&&a.inspect.custom&&(e.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,a,i,s,o=1,c={},u=!1,l=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(i="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&p(+t.data.slice(i.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(i+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){a.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?function(){var e=l.documentElement;n=function(t){var r=l.createElement("script");r.onreadystatechange=function(){p(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():n=function(e){setTimeout(p,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var a={callback:e,args:t};return c[o]=a,n(o),o++},d.clearImmediate=h}function h(e){delete c[e]}function p(e){if(u)setTimeout(p,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{h(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(26),r(19))},function(e,t,r){"use strict";e.exports=i;var n=r(430),a=Object.create(r(121));function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}a.inherits=r(7),a.inherits(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){e.exports=r(230)},function(e,t,r){e.exports=r(91)},function(e,t,r){e.exports=r(228).Transform},function(e,t,r){e.exports=r(228).PassThrough},function(e,t,r){"use strict";var n=r(7),a=r(9).Buffer,i=r(69),s=a.alloc(128);function o(e,t){i.call(this,"digest"),"string"==typeof t&&(t=a.from(t)),this._alg=e,this._key=t,t.length>64?t=e(t):t.length<64&&(t=a.concat([t,s],64));for(var r=this._ipad=a.allocUnsafe(64),n=this._opad=a.allocUnsafe(64),o=0;o<64;o++)r[o]=54^t[o],n[o]=92^t[o];this._hash=[r]}n(o,i),o.prototype._update=function(e){this._hash.push(e)},o.prototype._final=function(){var e=this._alg(a.concat(this._hash));return this._alg(a.concat([this._opad,e]))},e.exports=o},function(e,t,r){e.exports=r(433)},function(e,t,r){(function(t){var n,a,i=r(9).Buffer,s=r(435),o=r(436),c=r(437),u=r(438),l=t.crypto&&t.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function p(){return a||(a=t.process&&t.process.nextTick?t.process.nextTick:t.queueMicrotask?t.queueMicrotask:t.setImmediate?t.setImmediate:t.setTimeout)}function f(e,t,r,n,a){return l.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return l.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:a}},e,n<<3)})).then((function(e){return i.from(e)}))}e.exports=function(e,r,a,m,g,y){"function"==typeof g&&(y=g,g=void 0);var b=d[(g=g||"sha1").toLowerCase()];if(b&&"function"==typeof t.Promise){if(s(a,m),e=u(e,o,"Password"),r=u(r,o,"Salt"),"function"!=typeof y)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){p()((function(){t(null,e)}))}),(function(e){p()((function(){t(e)}))}))}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(void 0!==h[e])return h[e];var r=f(n=n||i.alloc(8),n,10,128,e).then((function(){return!0})).catch((function(){return!1}));return h[e]=r,r}(b).then((function(t){return t?f(e,r,a,m,b):c(e,r,a,m,g)})),y)}else p()((function(){var t;try{t=c(e,r,a,m,g)}catch(e){return y(e)}y(null,t)}))}}).call(this,r(26))},function(e,t,r){var n=r(902),a=r(232),i=r(233),s=r(915),o=r(153);function c(e,t,r){if(e=e.toLowerCase(),i[e])return a.createCipheriv(e,t,r);if(s[e])return new n({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function u(e,t,r){if(e=e.toLowerCase(),i[e])return a.createDecipheriv(e,t,r);if(s[e])return new n({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var r,n;if(e=e.toLowerCase(),i[e])r=i[e].key,n=i[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");r=8*s[e].key,n=s[e].iv}var a=o(t,!1,r,n);return c(e,a.key,a.iv)},t.createCipheriv=t.Cipheriv=c,t.createDecipher=t.Decipher=function(e,t){var r,n;if(e=e.toLowerCase(),i[e])r=i[e].key,n=i[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");r=8*s[e].key,n=s[e].iv}var a=o(t,!1,r,n);return u(e,a.key,a.iv)},t.createDecipheriv=t.Decipheriv=u,t.listCiphers=t.getCiphers=function(){return Object.keys(s).concat(a.getCiphers())}},function(e,t,r){var n=r(69),a=r(903),i=r(7),s=r(9).Buffer,o={"des-ede3-cbc":a.CBC.instantiate(a.EDE),"des-ede3":a.EDE,"des-ede-cbc":a.CBC.instantiate(a.EDE),"des-ede":a.EDE,"des-cbc":a.CBC.instantiate(a.DES),"des-ecb":a.DES};function c(e){n.call(this);var t,r=e.mode.toLowerCase(),a=o[r];t=e.decrypt?"decrypt":"encrypt";var i=e.key;s.isBuffer(i)||(i=s.from(i)),"des-ede"!==r&&"des-ede-cbc"!==r||(i=s.concat([i,i.slice(0,8)]));var c=e.iv;s.isBuffer(c)||(c=s.from(c)),this._des=a.create({key:i,iv:c,type:t})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],e.exports=c,i(c,n),c.prototype._update=function(e){return s.from(this._des.update(e))},c.prototype._final=function(){return s.from(this._des.final())}},function(e,t,r){"use strict";t.utils=r(439),t.Cipher=r(231),t.DES=r(440),t.CBC=r(904),t.EDE=r(905)},function(e,t,r){"use strict";var n=r(39),a=r(7),i={};function s(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}a(t,e);for(var r=Object.keys(i),n=0;n<r.length;n++){var s=r[n];t.prototype[s]=i[s]}return t.create=function(e){return new t(e)},t},i._cbcInit=function(){var e=new s(this.options.iv);this._cbcState=e},i._update=function(e,t,r,n){var a=this._cbcState,i=this.constructor.super_.prototype,s=a.iv;if("encrypt"===this.type){for(var o=0;o<this.blockSize;o++)s[o]^=e[t+o];i._update.call(this,s,0,r,n);for(o=0;o<this.blockSize;o++)s[o]=r[n+o]}else{i._update.call(this,e,t,r,n);for(o=0;o<this.blockSize;o++)r[n+o]^=s[o];for(o=0;o<this.blockSize;o++)s[o]=e[t+o]}}},function(e,t,r){"use strict";var n=r(39),a=r(7),i=r(231),s=r(440);function o(e,t){n.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),a=t.slice(8,16),i=t.slice(16,24);this.ciphers="encrypt"===e?[s.create({type:"encrypt",key:r}),s.create({type:"decrypt",key:a}),s.create({type:"encrypt",key:i})]:[s.create({type:"decrypt",key:i}),s.create({type:"encrypt",key:a}),s.create({type:"decrypt",key:r})]}function c(e){i.call(this,e);var t=new o(this.type,this.options.key);this._edeState=t}a(c,i),e.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,r,n){var a=this._edeState;a.ciphers[0]._update(e,t,r,n),a.ciphers[1]._update(r,n,r,n),a.ciphers[2]._update(r,n,r,n)},c.prototype._pad=s.prototype._pad,c.prototype._unpad=s.prototype._unpad},function(e,t,r){var n=r(233),a=r(444),i=r(9).Buffer,s=r(445),o=r(69),c=r(152),u=r(153);function l(e,t,r){o.call(this),this._cache=new h,this._cipher=new c.AES(t),this._prev=i.from(r),this._mode=e,this._autopadding=!0}r(7)(l,o),l.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return i.concat(n)};var d=i.alloc(16,16);function h(){this.cache=i.allocUnsafe(0)}function p(e,t,r){var o=n[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=i.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=i.from(r)),"GCM"!==o.mode&&r.length!==o.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===o.type?new s(o.module,t,r):"auth"===o.type?new a(o.module,t,r):new l(o.module,t,r)}l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=i.concat([this.cache,e])},h.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},h.prototype.flush=function(){for(var e=16-this.cache.length,t=i.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return i.concat([this.cache,t])},t.createCipheriv=p,t.createCipher=function(e,t){var r=n[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var a=u(t,!1,r.key,r.iv);return p(e,a.key,a.iv)}},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,r){var n=r(122);t.encrypt=function(e,t){var r=n(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},t.decrypt=function(e,t){var r=e._prev;e._prev=t;var a=e._cipher.decryptBlock(t);return n(a,r)}},function(e,t,r){var n=r(9).Buffer,a=r(122);function i(e,t,r){var i=t.length,s=a(t,e._cache);return e._cache=e._cache.slice(i),e._prev=n.concat([e._prev,r?t:s]),s}t.encrypt=function(e,t,r){for(var a,s=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){s=n.concat([s,i(e,t,r)]);break}a=e._cache.length,s=n.concat([s,i(e,t.slice(0,a),r)]),t=t.slice(a)}return s}},function(e,t,r){var n=r(9).Buffer;function a(e,t,r){var a=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([r?t:a])]),a}t.encrypt=function(e,t,r){for(var i=t.length,s=n.allocUnsafe(i),o=-1;++o<i;)s[o]=a(e,t[o],r);return s}},function(e,t,r){var n=r(9).Buffer;function a(e,t,r){for(var n,a,s=-1,o=0;++s<8;)n=t&1<<7-s?128:0,o+=(128&(a=e._cipher.encryptBlock(e._prev)[0]^n))>>s%8,e._prev=i(e._prev,r?n:a);return o}function i(e,t){var r=e.length,a=-1,i=n.allocUnsafe(e.length);for(e=n.concat([e,n.from([t])]);++a<r;)i[a]=e[a]<<1|e[a+1]>>7;return i}t.encrypt=function(e,t,r){for(var i=t.length,s=n.allocUnsafe(i),o=-1;++o<i;)s[o]=a(e,t[o],r);return s}},function(e,t,r){(function(e){var n=r(122);function a(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,r){for(;t._cache.length<r.length;)t._cache=e.concat([t._cache,a(t)]);var i=t._cache.slice(0,r.length);return t._cache=t._cache.slice(r.length),n(r,i)}}).call(this,r(11).Buffer)},function(e,t,r){var n=r(9).Buffer,a=n.alloc(16,0);function i(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function s(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}s.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},s.prototype._multiply=function(){for(var e,t,r,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],a=[0,0,0,0],s=-1;++s<128;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(a[0]^=n[0],a[1]^=n[1],a[2]^=n[2],a[3]^=n[3]),r=0!=(1&n[3]),t=3;t>0;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=i(a)},s.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},s.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,a],16)),this.ghash(i([0,e,0,t])),this.state},e.exports=s},function(e,t,r){var n=r(444),a=r(9).Buffer,i=r(233),s=r(445),o=r(69),c=r(152),u=r(153);function l(e,t,r){o.call(this),this._cache=new d,this._last=void 0,this._cipher=new c.AES(t),this._prev=a.from(r),this._mode=e,this._autopadding=!0}function d(){this.cache=a.allocUnsafe(0)}function h(e,t,r){var o=i[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=a.from(r)),"GCM"!==o.mode&&r.length!==o.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof t&&(t=a.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===o.type?new s(o.module,t,r,!0):"auth"===o.type?new n(o.module,t,r,!0):new l(o.module,t,r)}r(7)(l,o),l.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return a.concat(n)},l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var r=-1;for(;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=a.concat([this.cache,e])},d.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var r=i[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=u(t,!1,r.key,r.iv);return h(e,n.key,n.iv)},t.createDecipheriv=h},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,r){(function(e){var n=r(446),a=r(919),i=r(920);var s={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var r=new e(a[t].prime,"hex"),n=new e(a[t].gen,"hex");return new i(r,n)},t.createDiffieHellman=t.DiffieHellman=function t(r,a,o,c){return e.isBuffer(a)||void 0===s[a]?t(r,"binary",a,o):(a=a||"binary",c=c||"binary",o=o||new e([2]),e.isBuffer(o)||(o=new e(o,c)),"number"==typeof r?new i(n(r,o),o,!0):(e.isBuffer(r)||(r=new e(r,a)),new i(r,o,!0)))}}).call(this,r(11).Buffer)},function(e,t){},function(e,t){},function(e){e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},function(e,t,r){(function(t){var n=r(8),a=new(r(447)),i=new n(24),s=new n(11),o=new n(10),c=new n(3),u=new n(7),l=r(446),d=r(101);function h(e,r){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),this._pub=new n(e),this}function p(e,r){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),this._priv=new n(e),this}e.exports=m;var f={};function m(e,t,r){this.setGenerator(t),this.__prime=new n(e),this._prime=n.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=h,this.setPrivateKey=p):this._primeCode=8}function g(e,r){var n=new t(e.toArray());return r?n.toString(r):n}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in f)return f[n];var d,h=0;if(e.isEven()||!l.simpleSieve||!l.fermatTest(e)||!a.test(e))return h+=1,h+="02"===r||"05"===r?8:4,f[n]=h,h;switch(a.test(e.shrn(1))||(h+=2),r){case"02":e.mod(i).cmp(s)&&(h+=8);break;case"05":(d=e.mod(o)).cmp(c)&&d.cmp(u)&&(h+=8);break;default:h+=4}return f[n]=h,h}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new n(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(e){var r=(e=(e=new n(e)).toRed(this._prime)).redPow(this._priv).fromRed(),a=new t(r.toArray()),i=this.getPrime();if(a.length<i.length){var s=new t(i.length-a.length);s.fill(0),a=t.concat([s,a])}return a},m.prototype.getPublicKey=function(e){return g(this._pub,e)},m.prototype.getPrivateKey=function(e){return g(this._priv,e)},m.prototype.getPrime=function(e){return g(this.__prime,e)},m.prototype.getGenerator=function(e){return g(this._gen,e)},m.prototype.setGenerator=function(e,r){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),this.__gen=e,this._gen=new n(e),this}}).call(this,r(11).Buffer)},function(e,t,r){var n=r(9).Buffer,a=r(102),i=r(416),s=r(7),o=r(922),c=r(953),u=r(433);function l(e){i.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=a(t.hash),this._tag=t.id,this._signType=t.sign}function d(e){i.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=a(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){return new l(e)}function p(e){return new d(e)}Object.keys(u).forEach((function(e){u[e].id=n.from(u[e].id,"hex"),u[e.toLowerCase()]=u[e]})),s(l,i.Writable),l.prototype._write=function(e,t,r){this._hash.update(e),r()},l.prototype.update=function(e,t){return"string"==typeof e&&(e=n.from(e,t)),this._hash.update(e),this},l.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=o(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},s(d,i.Writable),d.prototype._write=function(e,t,r){this._hash.update(e),r()},d.prototype.update=function(e,t){return"string"==typeof e&&(e=n.from(e,t)),this._hash.update(e),this},d.prototype.verify=function(e,t,r){"string"==typeof t&&(t=n.from(t,r)),this.end();var a=this._hash.digest();return c(t,a,e,this._signType,this._tag)},e.exports={Sign:h,Verify:p,createSign:h,createVerify:p}},function(e,t,r){var n=r(9).Buffer,a=r(431),i=r(235),s=r(109).ec,o=r(453),c=r(155),u=r(459);function l(e,t,r,i){if((e=n.from(e.toArray())).length<t.byteLength()){var s=n.alloc(t.byteLength()-e.length);e=n.concat([s,e])}var o=r.length,c=function(e,t){e=(e=d(e,t)).mod(t);var r=n.from(e.toArray());if(r.length<t.byteLength()){var a=n.alloc(t.byteLength()-r.length);r=n.concat([a,r])}return r}(r,t),u=n.alloc(o);u.fill(1);var l=n.alloc(o);return l=a(i,l).update(u).update(n.from([0])).update(e).update(c).digest(),u=a(i,l).update(u).digest(),{k:l=a(i,l).update(u).update(n.from([1])).update(e).update(c).digest(),v:u=a(i,l).update(u).digest()}}function d(e,t){var r=new o(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function h(e,t,r){var i,s;do{for(i=n.alloc(0);8*i.length<e.bitLength();)t.v=a(r,t.k).update(t.v).digest(),i=n.concat([i,t.v]);s=d(i,e),t.k=a(r,t.k).update(t.v).update(n.from([0])).digest(),t.v=a(r,t.k).update(t.v).digest()}while(-1!==s.cmp(e));return s}function p(e,t,r,n){return e.toRed(o.mont(r)).redPow(t).fromRed().mod(n)}e.exports=function(e,t,r,a,f){var m=c(t);if(m.curve){if("ecdsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong private key type");return function(e,t){var r=u[t.curve.join(".")];if(!r)throw new Error("unknown curve "+t.curve.join("."));var a=new s(r).keyFromPrivate(t.privateKey).sign(e);return n.from(a.toDER())}(e,m)}if("dsa"===m.type){if("dsa"!==a)throw new Error("wrong private key type");return function(e,t,r){var a,i=t.params.priv_key,s=t.params.p,c=t.params.q,u=t.params.g,f=new o(0),m=d(e,c).mod(c),g=!1,y=l(i,c,e,r);for(;!1===g;)a=h(c,y,r),f=p(u,a,s,c),0===(g=a.invm(c).imul(m.add(i.mul(f))).mod(c)).cmpn(0)&&(g=!1,f=new o(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e));128&t[0]&&(t=[0].concat(t));var r=[48,e.length+t.length+4,2,e.length];return r=r.concat(e,[2,t.length],t),n.from(r)}(f,g)}(e,m,r)}if("rsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong private key type");e=n.concat([f,e]);for(var g=m.modulus.byteLength(),y=[0,1];e.length+y.length+1<g;)y.push(255);y.push(0);for(var b=-1;++b<e.length;)y.push(e[b]);return i(y,m)},e.exports.getKey=l,e.exports.makeKey=h},function(e,t,r){(function(e){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function a(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(924).Buffer}catch(e){}function o(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function c(e,t,r){var n=o(e,r);return r-1>=t&&(n|=o(e,r-1)<<4),n}function u(e,t,r,a){for(var i=0,s=0,o=Math.min(e.length,r),c=t;c<o;c++){var u=e.charCodeAt(c)-48;i*=a,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<a,"Invalid character"),i+=s}return i}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var a=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(a++,this.negative=1),a<e.length&&(16===t?this._parseHex(e,a,r):(this._parseBase(e,t,a),"le"===r&&this._initArray(this.toArray(),t,r)))},i.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var i,s,o=0;if("be"===r)for(a=e.length-1,i=0;a>=0;a-=3)s=e[a]|e[a-1]<<8|e[a-2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);else if("le"===r)for(a=0,i=0;a<e.length;a+=3)s=e[a]|e[a+1]<<8|e[a+2]<<16,this.words[i]|=s<<o&67108863,this.words[i+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);return this._strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var a,i=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)a=c(e,t,n)<<i,this.words[s]|=67108863&a,i>=18?(i-=18,s+=1,this.words[s]|=a>>>26):i+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)a=c(e,t,n)<<i,this.words[s]|=67108863&a,i>=18?(i-=18,s+=1,this.words[s]|=a>>>26):i+=8;this._strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,a=1;a<=67108863;a*=t)n++;n--,a=a/t|0;for(var i=e.length-r,s=i%n,o=Math.min(i,i-s)+r,c=0,l=r;l<o;l+=n)c=u(e,l,l+n,t),this.imuln(a),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(e,l,e.length,t),l=0;l<s;l++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){l(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){i.prototype.inspect=d}else i.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var a=0,i=0,s=0;s<this.length;s++){var o=this.words[s],c=(16777215&(o<<a|i)).toString(16);r=0!==(i=o>>>24-a&16777215)||s!==this.length-1?h[6-c.length]+c+r:c+r,(a+=2)>=26&&(a-=26,s--)}for(0!==i&&(r=i.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=p[e],l=f[e];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modrn(l).toString(e);r=(d=d.idivn(l)).isZero()?m+r:h[u-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function m(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var a=0|e.words[0],i=0|t.words[0],s=a*i,o=67108863&s,c=s/67108864|0;r.words[0]=o;for(var u=1;u<n;u++){for(var l=c>>>26,d=67108863&c,h=Math.min(u,t.length-1),p=Math.max(0,u-e.length+1);p<=h;p++){var f=u-p|0;l+=(s=(a=0|e.words[f])*(i=0|t.words[p])+d)/67108864|0,d=67108863&s}r.words[u]=0|d,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}i.prototype.toArrayLike=function(e,t,r){this._strip();var a=this.byteLength(),i=r||Math.max(1,a);n(a<=i,"byte array longer than desired length"),n(i>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,i);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,a),s},i.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,a=0,i=0;a<this.length;a++){var s=this.words[a]<<i|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===i?(r<e.length&&(e[r++]=s>>24&255),n=0,i=0):(n=s>>>24,i+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,a=0,i=0;a<this.length;a++){var s=this.words[a]<<i|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===i?(r>=0&&(e[r--]=s>>24&255),n=0,i=0):(n=s>>>24,i+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var a=0;a<t;a++)this.words[a]=67108863&~this.words[a];return r>0&&(this.words[a]=~this.words[a]&67108863>>26-r),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,a=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<a:this.words[r]&~(1<<a),this._strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var a=0,i=0;i<n.length;i++)t=(0|r.words[i])+(0|n.words[i])+a,this.words[i]=67108863&t,a=t>>>26;for(;0!==a&&i<r.length;i++)t=(0|r.words[i])+a,this.words[i]=67108863&t,a=t>>>26;if(this.length=r.length,0!==a)this.words[this.length]=a,this.length++;else if(r!==this)for(;i<r.length;i++)this.words[i]=r.words[i];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,a=this.cmp(e);if(0===a)return this.negative=0,this.length=1,this.words[0]=0,this;a>0?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)i=(t=(0|r.words[s])-(0|n.words[s])+i)>>26,this.words[s]=67108863&t;for(;0!==i&&s<r.length;s++)i=(t=(0|r.words[s])+i)>>26,this.words[s]=67108863&t;if(0===i&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var n,a,i,s=e.words,o=t.words,c=r.words,u=0,l=0|s[0],d=8191&l,h=l>>>13,p=0|s[1],f=8191&p,m=p>>>13,g=0|s[2],y=8191&g,b=g>>>13,v=0|s[3],_=8191&v,w=v>>>13,x=0|s[4],k=8191&x,S=x>>>13,O=0|s[5],P=8191&O,E=O>>>13,A=0|s[6],C=8191&A,T=A>>>13,D=0|s[7],j=8191&D,M=D>>>13,I=0|s[8],R=8191&I,B=I>>>13,N=0|s[9],F=8191&N,q=N>>>13,L=0|o[0],H=8191&L,U=L>>>13,z=0|o[1],V=8191&z,G=z>>>13,W=0|o[2],K=8191&W,Y=W>>>13,X=0|o[3],J=8191&X,Q=X>>>13,Z=0|o[4],$=8191&Z,ee=Z>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ae=0|o[6],ie=8191&ae,se=ae>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,le=0|o[8],de=8191&le,he=le>>>13,pe=0|o[9],fe=8191&pe,me=pe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(u+(n=Math.imul(d,H))|0)+((8191&(a=(a=Math.imul(d,U))+Math.imul(h,H)|0))<<13)|0;u=((i=Math.imul(h,U))+(a>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(f,H),a=(a=Math.imul(f,U))+Math.imul(m,H)|0,i=Math.imul(m,U);var ye=(u+(n=n+Math.imul(d,V)|0)|0)+((8191&(a=(a=a+Math.imul(d,G)|0)+Math.imul(h,V)|0))<<13)|0;u=((i=i+Math.imul(h,G)|0)+(a>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,H),a=(a=Math.imul(y,U))+Math.imul(b,H)|0,i=Math.imul(b,U),n=n+Math.imul(f,V)|0,a=(a=a+Math.imul(f,G)|0)+Math.imul(m,V)|0,i=i+Math.imul(m,G)|0;var be=(u+(n=n+Math.imul(d,K)|0)|0)+((8191&(a=(a=a+Math.imul(d,Y)|0)+Math.imul(h,K)|0))<<13)|0;u=((i=i+Math.imul(h,Y)|0)+(a>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(_,H),a=(a=Math.imul(_,U))+Math.imul(w,H)|0,i=Math.imul(w,U),n=n+Math.imul(y,V)|0,a=(a=a+Math.imul(y,G)|0)+Math.imul(b,V)|0,i=i+Math.imul(b,G)|0,n=n+Math.imul(f,K)|0,a=(a=a+Math.imul(f,Y)|0)+Math.imul(m,K)|0,i=i+Math.imul(m,Y)|0;var ve=(u+(n=n+Math.imul(d,J)|0)|0)+((8191&(a=(a=a+Math.imul(d,Q)|0)+Math.imul(h,J)|0))<<13)|0;u=((i=i+Math.imul(h,Q)|0)+(a>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,H),a=(a=Math.imul(k,U))+Math.imul(S,H)|0,i=Math.imul(S,U),n=n+Math.imul(_,V)|0,a=(a=a+Math.imul(_,G)|0)+Math.imul(w,V)|0,i=i+Math.imul(w,G)|0,n=n+Math.imul(y,K)|0,a=(a=a+Math.imul(y,Y)|0)+Math.imul(b,K)|0,i=i+Math.imul(b,Y)|0,n=n+Math.imul(f,J)|0,a=(a=a+Math.imul(f,Q)|0)+Math.imul(m,J)|0,i=i+Math.imul(m,Q)|0;var _e=(u+(n=n+Math.imul(d,$)|0)|0)+((8191&(a=(a=a+Math.imul(d,ee)|0)+Math.imul(h,$)|0))<<13)|0;u=((i=i+Math.imul(h,ee)|0)+(a>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,H),a=(a=Math.imul(P,U))+Math.imul(E,H)|0,i=Math.imul(E,U),n=n+Math.imul(k,V)|0,a=(a=a+Math.imul(k,G)|0)+Math.imul(S,V)|0,i=i+Math.imul(S,G)|0,n=n+Math.imul(_,K)|0,a=(a=a+Math.imul(_,Y)|0)+Math.imul(w,K)|0,i=i+Math.imul(w,Y)|0,n=n+Math.imul(y,J)|0,a=(a=a+Math.imul(y,Q)|0)+Math.imul(b,J)|0,i=i+Math.imul(b,Q)|0,n=n+Math.imul(f,$)|0,a=(a=a+Math.imul(f,ee)|0)+Math.imul(m,$)|0,i=i+Math.imul(m,ee)|0;var we=(u+(n=n+Math.imul(d,re)|0)|0)+((8191&(a=(a=a+Math.imul(d,ne)|0)+Math.imul(h,re)|0))<<13)|0;u=((i=i+Math.imul(h,ne)|0)+(a>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(C,H),a=(a=Math.imul(C,U))+Math.imul(T,H)|0,i=Math.imul(T,U),n=n+Math.imul(P,V)|0,a=(a=a+Math.imul(P,G)|0)+Math.imul(E,V)|0,i=i+Math.imul(E,G)|0,n=n+Math.imul(k,K)|0,a=(a=a+Math.imul(k,Y)|0)+Math.imul(S,K)|0,i=i+Math.imul(S,Y)|0,n=n+Math.imul(_,J)|0,a=(a=a+Math.imul(_,Q)|0)+Math.imul(w,J)|0,i=i+Math.imul(w,Q)|0,n=n+Math.imul(y,$)|0,a=(a=a+Math.imul(y,ee)|0)+Math.imul(b,$)|0,i=i+Math.imul(b,ee)|0,n=n+Math.imul(f,re)|0,a=(a=a+Math.imul(f,ne)|0)+Math.imul(m,re)|0,i=i+Math.imul(m,ne)|0;var xe=(u+(n=n+Math.imul(d,ie)|0)|0)+((8191&(a=(a=a+Math.imul(d,se)|0)+Math.imul(h,ie)|0))<<13)|0;u=((i=i+Math.imul(h,se)|0)+(a>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(j,H),a=(a=Math.imul(j,U))+Math.imul(M,H)|0,i=Math.imul(M,U),n=n+Math.imul(C,V)|0,a=(a=a+Math.imul(C,G)|0)+Math.imul(T,V)|0,i=i+Math.imul(T,G)|0,n=n+Math.imul(P,K)|0,a=(a=a+Math.imul(P,Y)|0)+Math.imul(E,K)|0,i=i+Math.imul(E,Y)|0,n=n+Math.imul(k,J)|0,a=(a=a+Math.imul(k,Q)|0)+Math.imul(S,J)|0,i=i+Math.imul(S,Q)|0,n=n+Math.imul(_,$)|0,a=(a=a+Math.imul(_,ee)|0)+Math.imul(w,$)|0,i=i+Math.imul(w,ee)|0,n=n+Math.imul(y,re)|0,a=(a=a+Math.imul(y,ne)|0)+Math.imul(b,re)|0,i=i+Math.imul(b,ne)|0,n=n+Math.imul(f,ie)|0,a=(a=a+Math.imul(f,se)|0)+Math.imul(m,ie)|0,i=i+Math.imul(m,se)|0;var ke=(u+(n=n+Math.imul(d,ce)|0)|0)+((8191&(a=(a=a+Math.imul(d,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((i=i+Math.imul(h,ue)|0)+(a>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(R,H),a=(a=Math.imul(R,U))+Math.imul(B,H)|0,i=Math.imul(B,U),n=n+Math.imul(j,V)|0,a=(a=a+Math.imul(j,G)|0)+Math.imul(M,V)|0,i=i+Math.imul(M,G)|0,n=n+Math.imul(C,K)|0,a=(a=a+Math.imul(C,Y)|0)+Math.imul(T,K)|0,i=i+Math.imul(T,Y)|0,n=n+Math.imul(P,J)|0,a=(a=a+Math.imul(P,Q)|0)+Math.imul(E,J)|0,i=i+Math.imul(E,Q)|0,n=n+Math.imul(k,$)|0,a=(a=a+Math.imul(k,ee)|0)+Math.imul(S,$)|0,i=i+Math.imul(S,ee)|0,n=n+Math.imul(_,re)|0,a=(a=a+Math.imul(_,ne)|0)+Math.imul(w,re)|0,i=i+Math.imul(w,ne)|0,n=n+Math.imul(y,ie)|0,a=(a=a+Math.imul(y,se)|0)+Math.imul(b,ie)|0,i=i+Math.imul(b,se)|0,n=n+Math.imul(f,ce)|0,a=(a=a+Math.imul(f,ue)|0)+Math.imul(m,ce)|0,i=i+Math.imul(m,ue)|0;var Se=(u+(n=n+Math.imul(d,de)|0)|0)+((8191&(a=(a=a+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;u=((i=i+Math.imul(h,he)|0)+(a>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(F,H),a=(a=Math.imul(F,U))+Math.imul(q,H)|0,i=Math.imul(q,U),n=n+Math.imul(R,V)|0,a=(a=a+Math.imul(R,G)|0)+Math.imul(B,V)|0,i=i+Math.imul(B,G)|0,n=n+Math.imul(j,K)|0,a=(a=a+Math.imul(j,Y)|0)+Math.imul(M,K)|0,i=i+Math.imul(M,Y)|0,n=n+Math.imul(C,J)|0,a=(a=a+Math.imul(C,Q)|0)+Math.imul(T,J)|0,i=i+Math.imul(T,Q)|0,n=n+Math.imul(P,$)|0,a=(a=a+Math.imul(P,ee)|0)+Math.imul(E,$)|0,i=i+Math.imul(E,ee)|0,n=n+Math.imul(k,re)|0,a=(a=a+Math.imul(k,ne)|0)+Math.imul(S,re)|0,i=i+Math.imul(S,ne)|0,n=n+Math.imul(_,ie)|0,a=(a=a+Math.imul(_,se)|0)+Math.imul(w,ie)|0,i=i+Math.imul(w,se)|0,n=n+Math.imul(y,ce)|0,a=(a=a+Math.imul(y,ue)|0)+Math.imul(b,ce)|0,i=i+Math.imul(b,ue)|0,n=n+Math.imul(f,de)|0,a=(a=a+Math.imul(f,he)|0)+Math.imul(m,de)|0,i=i+Math.imul(m,he)|0;var Oe=(u+(n=n+Math.imul(d,fe)|0)|0)+((8191&(a=(a=a+Math.imul(d,me)|0)+Math.imul(h,fe)|0))<<13)|0;u=((i=i+Math.imul(h,me)|0)+(a>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(F,V),a=(a=Math.imul(F,G))+Math.imul(q,V)|0,i=Math.imul(q,G),n=n+Math.imul(R,K)|0,a=(a=a+Math.imul(R,Y)|0)+Math.imul(B,K)|0,i=i+Math.imul(B,Y)|0,n=n+Math.imul(j,J)|0,a=(a=a+Math.imul(j,Q)|0)+Math.imul(M,J)|0,i=i+Math.imul(M,Q)|0,n=n+Math.imul(C,$)|0,a=(a=a+Math.imul(C,ee)|0)+Math.imul(T,$)|0,i=i+Math.imul(T,ee)|0,n=n+Math.imul(P,re)|0,a=(a=a+Math.imul(P,ne)|0)+Math.imul(E,re)|0,i=i+Math.imul(E,ne)|0,n=n+Math.imul(k,ie)|0,a=(a=a+Math.imul(k,se)|0)+Math.imul(S,ie)|0,i=i+Math.imul(S,se)|0,n=n+Math.imul(_,ce)|0,a=(a=a+Math.imul(_,ue)|0)+Math.imul(w,ce)|0,i=i+Math.imul(w,ue)|0,n=n+Math.imul(y,de)|0,a=(a=a+Math.imul(y,he)|0)+Math.imul(b,de)|0,i=i+Math.imul(b,he)|0;var Pe=(u+(n=n+Math.imul(f,fe)|0)|0)+((8191&(a=(a=a+Math.imul(f,me)|0)+Math.imul(m,fe)|0))<<13)|0;u=((i=i+Math.imul(m,me)|0)+(a>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(F,K),a=(a=Math.imul(F,Y))+Math.imul(q,K)|0,i=Math.imul(q,Y),n=n+Math.imul(R,J)|0,a=(a=a+Math.imul(R,Q)|0)+Math.imul(B,J)|0,i=i+Math.imul(B,Q)|0,n=n+Math.imul(j,$)|0,a=(a=a+Math.imul(j,ee)|0)+Math.imul(M,$)|0,i=i+Math.imul(M,ee)|0,n=n+Math.imul(C,re)|0,a=(a=a+Math.imul(C,ne)|0)+Math.imul(T,re)|0,i=i+Math.imul(T,ne)|0,n=n+Math.imul(P,ie)|0,a=(a=a+Math.imul(P,se)|0)+Math.imul(E,ie)|0,i=i+Math.imul(E,se)|0,n=n+Math.imul(k,ce)|0,a=(a=a+Math.imul(k,ue)|0)+Math.imul(S,ce)|0,i=i+Math.imul(S,ue)|0,n=n+Math.imul(_,de)|0,a=(a=a+Math.imul(_,he)|0)+Math.imul(w,de)|0,i=i+Math.imul(w,he)|0;var Ee=(u+(n=n+Math.imul(y,fe)|0)|0)+((8191&(a=(a=a+Math.imul(y,me)|0)+Math.imul(b,fe)|0))<<13)|0;u=((i=i+Math.imul(b,me)|0)+(a>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(F,J),a=(a=Math.imul(F,Q))+Math.imul(q,J)|0,i=Math.imul(q,Q),n=n+Math.imul(R,$)|0,a=(a=a+Math.imul(R,ee)|0)+Math.imul(B,$)|0,i=i+Math.imul(B,ee)|0,n=n+Math.imul(j,re)|0,a=(a=a+Math.imul(j,ne)|0)+Math.imul(M,re)|0,i=i+Math.imul(M,ne)|0,n=n+Math.imul(C,ie)|0,a=(a=a+Math.imul(C,se)|0)+Math.imul(T,ie)|0,i=i+Math.imul(T,se)|0,n=n+Math.imul(P,ce)|0,a=(a=a+Math.imul(P,ue)|0)+Math.imul(E,ce)|0,i=i+Math.imul(E,ue)|0,n=n+Math.imul(k,de)|0,a=(a=a+Math.imul(k,he)|0)+Math.imul(S,de)|0,i=i+Math.imul(S,he)|0;var Ae=(u+(n=n+Math.imul(_,fe)|0)|0)+((8191&(a=(a=a+Math.imul(_,me)|0)+Math.imul(w,fe)|0))<<13)|0;u=((i=i+Math.imul(w,me)|0)+(a>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(F,$),a=(a=Math.imul(F,ee))+Math.imul(q,$)|0,i=Math.imul(q,ee),n=n+Math.imul(R,re)|0,a=(a=a+Math.imul(R,ne)|0)+Math.imul(B,re)|0,i=i+Math.imul(B,ne)|0,n=n+Math.imul(j,ie)|0,a=(a=a+Math.imul(j,se)|0)+Math.imul(M,ie)|0,i=i+Math.imul(M,se)|0,n=n+Math.imul(C,ce)|0,a=(a=a+Math.imul(C,ue)|0)+Math.imul(T,ce)|0,i=i+Math.imul(T,ue)|0,n=n+Math.imul(P,de)|0,a=(a=a+Math.imul(P,he)|0)+Math.imul(E,de)|0,i=i+Math.imul(E,he)|0;var Ce=(u+(n=n+Math.imul(k,fe)|0)|0)+((8191&(a=(a=a+Math.imul(k,me)|0)+Math.imul(S,fe)|0))<<13)|0;u=((i=i+Math.imul(S,me)|0)+(a>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(F,re),a=(a=Math.imul(F,ne))+Math.imul(q,re)|0,i=Math.imul(q,ne),n=n+Math.imul(R,ie)|0,a=(a=a+Math.imul(R,se)|0)+Math.imul(B,ie)|0,i=i+Math.imul(B,se)|0,n=n+Math.imul(j,ce)|0,a=(a=a+Math.imul(j,ue)|0)+Math.imul(M,ce)|0,i=i+Math.imul(M,ue)|0,n=n+Math.imul(C,de)|0,a=(a=a+Math.imul(C,he)|0)+Math.imul(T,de)|0,i=i+Math.imul(T,he)|0;var Te=(u+(n=n+Math.imul(P,fe)|0)|0)+((8191&(a=(a=a+Math.imul(P,me)|0)+Math.imul(E,fe)|0))<<13)|0;u=((i=i+Math.imul(E,me)|0)+(a>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(F,ie),a=(a=Math.imul(F,se))+Math.imul(q,ie)|0,i=Math.imul(q,se),n=n+Math.imul(R,ce)|0,a=(a=a+Math.imul(R,ue)|0)+Math.imul(B,ce)|0,i=i+Math.imul(B,ue)|0,n=n+Math.imul(j,de)|0,a=(a=a+Math.imul(j,he)|0)+Math.imul(M,de)|0,i=i+Math.imul(M,he)|0;var De=(u+(n=n+Math.imul(C,fe)|0)|0)+((8191&(a=(a=a+Math.imul(C,me)|0)+Math.imul(T,fe)|0))<<13)|0;u=((i=i+Math.imul(T,me)|0)+(a>>>13)|0)+(De>>>26)|0,De&=67108863,n=Math.imul(F,ce),a=(a=Math.imul(F,ue))+Math.imul(q,ce)|0,i=Math.imul(q,ue),n=n+Math.imul(R,de)|0,a=(a=a+Math.imul(R,he)|0)+Math.imul(B,de)|0,i=i+Math.imul(B,he)|0;var je=(u+(n=n+Math.imul(j,fe)|0)|0)+((8191&(a=(a=a+Math.imul(j,me)|0)+Math.imul(M,fe)|0))<<13)|0;u=((i=i+Math.imul(M,me)|0)+(a>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(F,de),a=(a=Math.imul(F,he))+Math.imul(q,de)|0,i=Math.imul(q,he);var Me=(u+(n=n+Math.imul(R,fe)|0)|0)+((8191&(a=(a=a+Math.imul(R,me)|0)+Math.imul(B,fe)|0))<<13)|0;u=((i=i+Math.imul(B,me)|0)+(a>>>13)|0)+(Me>>>26)|0,Me&=67108863;var Ie=(u+(n=Math.imul(F,fe))|0)+((8191&(a=(a=Math.imul(F,me))+Math.imul(q,fe)|0))<<13)|0;return u=((i=Math.imul(q,me))+(a>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,c[0]=ge,c[1]=ye,c[2]=be,c[3]=ve,c[4]=_e,c[5]=we,c[6]=xe,c[7]=ke,c[8]=Se,c[9]=Oe,c[10]=Pe,c[11]=Ee,c[12]=Ae,c[13]=Ce,c[14]=Te,c[15]=De,c[16]=je,c[17]=Me,c[18]=Ie,0!==u&&(c[19]=u,r.length++),r};function y(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,a=0,i=0;i<r.length-1;i++){var s=a;a=0;for(var o=67108863&n,c=Math.min(i,t.length-1),u=Math.max(0,i-e.length+1);u<=c;u++){var l=i-u,d=(0|e.words[l])*(0|t.words[u]),h=67108863&d;o=67108863&(h=h+o|0),a+=(s=(s=s+(d/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[i]=o,n=s,s=a}return 0!==n?r.words[i]=n:r.length--,r._strip()}function b(e,t,r){return y(e,t,r)}function v(e,t){this.x=e,this.y=t}Math.imul||(g=m),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):r<63?m(this,e,t):r<1024?y(this,e,t):b(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,a=0;a<t;a++)n|=(1&e)<<t-a-1,e>>=1;return n},v.prototype.permute=function(e,t,r,n,a,i){for(var s=0;s<i;s++)n[s]=t[e[s]],a[s]=r[e[s]]},v.prototype.transform=function(e,t,r,n,a,i){this.permute(i,e,t,r,n,a);for(var s=1;s<a;s<<=1)for(var o=s<<1,c=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),l=0;l<a;l+=o)for(var d=c,h=u,p=0;p<s;p++){var f=r[l+p],m=n[l+p],g=r[l+p+s],y=n[l+p+s],b=d*g-h*y;y=d*y+h*g,g=b,r[l+p]=f+g,n[l+p]=m+y,r[l+p+s]=f-g,n[l+p+s]=m-y,p!==o&&(b=c*d-u*h,h=c*h+u*d,d=b)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,a=0;for(r=r/2|0;r;r>>>=1)a++;return 1<<a+1+n},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var a=e[n];e[n]=e[r-n-1],e[r-n-1]=a,a=t[n],t[n]=-t[r-n-1],t[r-n-1]=-a}},v.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var a=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&a,r=a<67108864?0:a/67108864|0}return e},v.prototype.convert13b=function(e,t,r,a){for(var i=0,s=0;s<t;s++)i+=0|e[s],r[2*s]=8191&i,i>>>=13,r[2*s+1]=8191&i,i>>>=13;for(s=2*t;s<a;++s)r[s]=0;n(0===i),n(0==(-8192&i))},v.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),a=this.makeRBT(n),i=this.stub(n),s=new Array(n),o=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),d=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,i,o,c,n,a),this.transform(u,i,l,d,n,a);for(var p=0;p<n;p++){var f=o[p]*l[p]-c[p]*d[p];c[p]=o[p]*d[p]+c[p]*l[p],o[p]=f}return this.conjugate(o,c,n),this.transform(o,c,h,i,n,a),this.conjugate(h,i,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),b(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,a=0;a<this.length;a++){var i=(0|this.words[a])*e,s=(67108863&i)+(67108863&r);r>>=26,r+=i/67108864|0,r+=s>>>26,this.words[a]=67108863&s}return 0!==r&&(this.words[a]=r,this.length++),t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,a=r%26;t[r]=e.words[n]>>>a&1}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},i.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,a=(e-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&i,c=(0|this.words[t])-o<<r;this.words[t]=c|s,s=o>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==a){for(t=this.length-1;t>=0;t--)this.words[t+a]=this.words[t];for(t=0;t<a;t++)this.words[t]=0;this.length+=a}return this._strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,r){var a;n("number"==typeof e&&e>=0),a=t?(t-t%26)/26:0;var i=e%26,s=Math.min((e-i)/26,this.length),o=67108863^67108863>>>i<<i,c=r;if(a-=s,a=Math.max(0,a),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=a);u--){var d=0|this.words[u];this.words[u]=l<<26-i|d>>>i,l=d&o}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,a=1<<t;return!(this.length<=r)&&!!(this.words[r]&a)},i.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var a=67108863^67108863>>>t<<t;this.words[this.length-1]&=a}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,r){var a,i,s=e.length+r;this._expand(s);var o=0;for(a=0;a<e.length;a++){i=(0|this.words[a+r])+o;var c=(0|e.words[a])*t;o=((i-=67108863&c)>>26)-(c/67108864|0),this.words[a+r]=67108863&i}for(;a<this.length-r;a++)o=(i=(0|this.words[a+r])+o)>>26,this.words[a+r]=67108863&i;if(0===o)return this._strip();for(n(-1===o),o=0,a=0;a<this.length;a++)o=(i=-(0|this.words[a])+o)>>26,this.words[a]=67108863&i;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),a=e,s=0|a.words[a.length-1];0!==(r=26-this._countBits(s))&&(a=a.ushln(r),n.iushln(r),s=0|a.words[a.length-1]);var o,c=n.length-a.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var l=n.clone()._ishlnsubmul(a,1,c);0===l.negative&&(n=l,o&&(o.words[c]=1));for(var d=c-1;d>=0;d--){var h=67108864*(0|n.words[a.length+d])+(0|n.words[a.length+d-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(a,h,d);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(a,1,d),n.isZero()||(n.negative^=1);o&&(o.words[d]=h)}return o&&o._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},i.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var a,s,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),a=e.andln(1),i=r.cmp(n);return i<0||1===a&&0===i?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,a=0,i=this.length-1;i>=0;i--)a=(r*a+(0|this.words[i]))%e;return t?-a:a},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,a=this.length-1;a>=0;a--){var i=(0|this.words[a])+67108864*r;this.words[a]=i/e|0,r=i%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),s=new i(0),o=new i(0),c=new i(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),d=t.clone();!t.isZero();){for(var h=0,p=1;0==(t.words[0]&p)&&h<26;++h,p<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(l),s.isub(d)),a.iushrn(1),s.iushrn(1);for(var f=0,m=1;0==(r.words[0]&m)&&f<26;++f,m<<=1);if(f>0)for(r.iushrn(f);f-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(l),c.isub(d)),o.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o),s.isub(c)):(r.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:r.iushln(u)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,s=new i(1),o=new i(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0==(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,h=1;0==(r.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(r.iushrn(d);d-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(o)):(r.isub(t),o.isub(s))}return(a=0===t.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var a=t.cmp(r);if(a<0){var i=t;t=r,r=i}else if(0===a||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,a=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=a,this;for(var i=a,s=r;0!==i&&s<this.length;s++){var o=0|this.words[s];i=(o+=i)>>>26,o&=67108863,this.words[s]=o}return 0!==i&&(this.words[s]=i,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var a=0|this.words[0];t=a===e?0:a<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],a=0|e.words[r];if(n!==a){n<a?t=-1:n>a&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new P(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var _={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function O(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function P(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function E(e){P.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},a(x,w),x.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=4194303&a,n=10;n<e.length;n++){var i=0|e.words[n];e.words[n-10]=(4194303&i)<<4|a>>>22,a=i}a>>>=22,e.words[n-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},x.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},a(k,w),a(S,w),a(O,w),O.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,a=67108863&n;n>>>=26,e.words[r]=a,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(_[e])return _[e];var t;if("k256"===e)t=new x;else if("p224"===e)t=new k;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new O}return _[e]=t,t},P.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},P.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},P.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},P.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},P.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},P.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},P.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},P.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},P.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},P.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},P.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},P.prototype.isqr=function(e){return this.imul(e,e.clone())},P.prototype.sqr=function(e){return this.mul(e,e)},P.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new i(1)).iushrn(2);return this.pow(e,r)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);n(!a.isZero());var o=new i(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var d=this.pow(l,a),h=this.pow(e,a.addn(1).iushrn(1)),p=this.pow(e,a),f=s;0!==p.cmp(o);){for(var m=p,g=0;0!==m.cmp(o);g++)m=m.redSqr();n(g<f);var y=this.pow(d,new i(1).iushln(f-g-1));h=h.redMul(y),d=y.redSqr(),p=p.redMul(d),f=g}return h},P.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},P.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var d=u>>l&1;a!==r[0]&&(a=this.sqr(a)),0!==d||0!==s?(s<<=1,s|=d,(4===++o||0===n&&0===l)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}c=26}return a},P.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},P.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new E(e)},a(E,P),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),i=a;return a.cmp(this.m)>=0?i=a.isub(this.m):a.cmpn(0)<0&&(i=a.iadd(this.m)),i._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,r(92)(e))},function(e,t){},function(e){e.exports=JSON.parse('{"_args":[["elliptic@6.5.4","/Users/david/Programming/saito-lite"]],"_from":"elliptic@6.5.4","_id":"elliptic@6.5.4","_inBundle":false,"_integrity":"sha512-iLhC6ULemrljPZb+QutR5TQGB+pdW6KGD5RSegS+8sorOZT+rdQFbsQFJgvN3eRqNALqJer4oQ16YvJHlU8hzQ==","_location":"/elliptic","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"elliptic@6.5.4","name":"elliptic","escapedName":"elliptic","rawSpec":"6.5.4","saveSpec":null,"fetchSpec":"6.5.4"},"_requiredBy":["/@polkadot/util-crypto","/browserify-sign","/create-ecdh","/secp256k1"],"_resolved":"https://registry.npmjs.org/elliptic/-/elliptic-6.5.4.tgz","_spec":"6.5.4","_where":"/Users/david/Programming/saito-lite","author":{"name":"Fedor Indutny","email":"fedor@indutny.com"},"bugs":{"url":"https://github.com/indutny/elliptic/issues"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},"description":"EC cryptography","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"files":["lib"],"homepage":"https://github.com/indutny/elliptic","keywords":["EC","Elliptic","curve","Cryptography"],"license":"MIT","main":"lib/elliptic.js","name":"elliptic","repository":{"type":"git","url":"git+ssh://git@github.com/indutny/elliptic.git"},"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","test":"npm run lint && npm run unit","unit":"istanbul test _mocha --reporter=spec test/index.js","version":"grunt dist && git add dist/"},"version":"6.5.4"}')},function(e,t,r){"use strict";var n=r(40),a=r(8),i=r(7),s=r(154),o=n.assert;function c(e){s.call(this,"short",e),this.a=new a(e.a,16).toRed(this.red),this.b=new a(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){s.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new a(t,16),this.y=new a(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(e,t,r,n){s.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new a(0)):(this.x=new a(t,16),this.y=new a(r,16),this.z=new a(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i(c,s),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new a(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new a(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],o(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new a(e.a,16),b:new a(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:a.mont(e),r=new a(2).toRed(t).redInvm(),n=r.redNeg(),i=new a(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,i,s,o,c,u,l,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,p=this.n.clone(),f=new a(1),m=new a(0),g=new a(0),y=new a(1),b=0;0!==h.cmpn(0);){var v=p.div(h);u=p.sub(v.mul(h)),l=g.sub(v.mul(f));var _=y.sub(v.mul(m));if(!n&&u.cmp(d)<0)t=c.neg(),r=f,n=u.neg(),i=l;else if(n&&2==++b)break;c=u,p=h,h=u,g=f,f=l,y=m,m=_}s=u.neg(),o=l;var w=n.sqr().add(i.sqr());return s.sqr().add(o.sqr()).cmp(w)>=0&&(s=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],a=n.b.mul(e).divRound(this.n),i=r.b.neg().mul(e).divRound(this.n),s=a.mul(r.a),o=i.mul(n.a),c=a.mul(r.b),u=i.mul(n.b);return{k1:e.sub(s).sub(o),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),a=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(a).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,a=this._endoWnafT2,i=0;i<e.length;i++){var s=this._endoSplit(t[i]),o=e[i],c=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*i]=o,n[2*i+1]=c,a[2*i]=s.k1,a[2*i+1]=s.k2}for(var u=this._wnafMulAdd(1,n,a,2*i,r),l=0;l<2*i;l++)n[l]=null,a[l]=null;return u},i(u,s.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function a(t){return e.point(t[0],t[1],r)}var i=t[2];return n.precomputed={beta:null,doubles:i.doubles&&{step:i.doubles.step,points:[n].concat(i.doubles.points.map(a))},naf:i.naf&&{wnd:i.naf.wnd,points:[n].concat(i.naf.points.map(a))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),a=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),i=a.redSqr().redISub(this.x.redAdd(this.x)),s=a.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,s)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new a(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],a=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,a):this.curve._wnafMulAdd(1,n,a,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],a=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,a,!0):this.curve._wnafMulAdd(1,n,a,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},i(l,s.BasePoint),c.prototype.jpoint=function(e,t,r){return new l(this,e,t,r)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),a=e.x.redMul(r),i=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),o=n.redSub(a),c=i.redSub(s);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),l=u.redMul(o),d=n.redMul(u),h=c.redSqr().redIAdd(l).redISub(d).redISub(d),p=c.redMul(d.redISub(h)).redISub(i.redMul(l)),f=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(h,p,f)},l.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),a=this.y,i=e.y.redMul(t).redMul(this.z),s=r.redSub(n),o=a.redSub(i);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),l=r.redMul(c),d=o.redSqr().redIAdd(u).redISub(l).redISub(l),h=o.redMul(l.redISub(d)).redISub(a.redMul(u)),p=this.z.redMul(s);return this.curve.jpoint(d,h,p)},l.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,a=this.curve.tinv,i=this.x,s=this.y,o=this.z,c=o.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var l=i.redSqr(),d=u.redSqr(),h=d.redSqr(),p=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),f=i.redMul(d),m=p.redSqr().redISub(f.redAdd(f)),g=f.redISub(m),y=p.redMul(g);y=y.redIAdd(y).redISub(h);var b=u.redMul(o);t+1<e&&(c=c.redMul(h)),i=m,o=b,u=y}return this.curve.jpoint(i,u.redMul(a),o)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),i=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(n).redISub(i);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n),c=o.redSqr().redISub(s).redISub(s),u=i.redIAdd(i);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=o.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),p=this.x.redAdd(d).redSqr().redISub(l).redISub(h);p=p.redIAdd(p);var f=l.redAdd(l).redIAdd(l),m=f.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(p).redISub(p),t=f.redMul(p.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},l.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),a=this.y.redSqr(),i=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(n).redISub(i);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=o.redSqr().redISub(s).redISub(s);e=c;var u=i.redIAdd(i);u=(u=u.redIAdd(u)).redIAdd(u),t=o.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),p=this.x.redSub(l).redMul(this.x.redAdd(l));p=p.redAdd(p).redIAdd(p);var f=h.redIAdd(h),m=(f=f.redIAdd(f)).redAdd(f);e=p.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(l);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=p.redMul(f.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},l.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,a=n.redSqr().redSqr(),i=t.redSqr(),s=r.redSqr(),o=i.redAdd(i).redIAdd(i).redIAdd(e.redMul(a)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),l=o.redSqr().redISub(u.redAdd(u)),d=u.redISub(l),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var p=o.redMul(d).redISub(h),f=r.redAdd(r).redMul(n);return this.curve.jpoint(l,p,f)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),a=e.redAdd(e).redIAdd(e),i=a.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(i)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=a.redIAdd(s).redSqr().redISub(i).redISub(o).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var d=this.x.redMul(o).redISub(l);d=(d=d.redIAdd(d)).redIAdd(d);var h=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(o)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var p=this.z.redAdd(s).redSqr().redISub(r).redISub(o);return this.curve.jpoint(d,h,p)},l.prototype.mul=function(e,t){return e=new a(e,t),this.curve._wnafMul(this,e)},l.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),a=r.redMul(e.z);return 0===this.y.redMul(a).redISub(e.y.redMul(n)).cmpn(0)},l.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),a=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(a),0===this.x.cmp(r))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,r){"use strict";var n=r(8),a=r(7),i=r(154),s=r(40);function o(e){i.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){i.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}a(o,i),e.exports=o,o.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},a(c,i.BasePoint),o.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},o.prototype.point=function(e,t){return new c(this,e,t)},o.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),a=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,a)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),a=e.x.redAdd(e.z),i=e.x.redSub(e.z).redMul(r),s=a.redMul(n),o=t.z.redMul(i.redAdd(s).redSqr()),c=t.x.redMul(i.redISub(s).redSqr());return this.curve.point(o,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),a=[];0!==t.cmpn(0);t.iushrn(1))a.push(t.andln(1));for(var i=a.length-1;i>=0;i--)0===a[i]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,r){"use strict";var n=r(40),a=r(8),i=r(7),s=r(154),o=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new a(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,n,i){s.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(t,16),this.y=new a(r,16),this.z=n?new a(n,16):this.curve.one,this.t=i&&new a(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}i(c,s),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(i.redInvm()),o=s.redSqrt();if(0!==o.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var c=o.fromRed().isOdd();return(t&&!c||!t&&c)&&(o=o.redNeg()),this.point(e,o)},c.prototype.pointFromY=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(i.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=s.redSqrt();if(0!==o.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return o.fromRed().isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),a=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(a)},i(u,s.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),i=n.redAdd(t),s=i.redSub(r),o=n.redSub(t),c=a.redMul(s),u=i.redMul(o),l=a.redMul(o),d=s.redMul(i);return this.curve.point(c,u,d,l)},u.prototype._projDbl=function(){var e,t,r,n,a,i,s=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(o)).redAdd(c);this.zOne?(e=s.redSub(o).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(a=this.z.redSqr(),i=u.redSub(a).redISub(a),e=s.redSub(o).redISub(c).redMul(i),t=u.redMul(n.redSub(c)),r=u.redMul(i))}else n=o.redAdd(c),a=this.curve._mulC(this.z).redSqr(),i=n.redSub(a).redSub(a),e=this.curve._mulC(s.redISub(n)).redMul(i),t=this.curve._mulC(n).redMul(o.redISub(c)),r=n.redMul(i);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),i=r.redSub(t),s=a.redSub(n),o=a.redAdd(n),c=r.redAdd(t),u=i.redMul(s),l=o.redMul(c),d=i.redMul(c),h=s.redMul(o);return this.curve.point(u,l,h,d)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),a=n.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),c=a.redSub(o),u=a.redAdd(o),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),d=n.redMul(c).redMul(l);return this.curve.twisted?(t=n.redMul(u).redMul(s.redSub(this.curve._mulA(i))),r=c.redMul(u)):(t=n.redMul(u).redMul(s.redSub(i)),r=this.curve._mulC(c).redMul(u)),this.curve.point(d,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},function(e,t,r){"use strict";t.sha1=r(930),t.sha224=r(931),t.sha256=r(451),t.sha384=r(932),t.sha512=r(452)},function(e,t,r){"use strict";var n=r(52),a=r(123),i=r(450),s=n.rotl32,o=n.sum32,c=n.sum32_5,u=i.ft_1,l=a.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(h,l),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var a=this.h[0],i=this.h[1],l=this.h[2],h=this.h[3],p=this.h[4];for(n=0;n<r.length;n++){var f=~~(n/20),m=c(s(a,5),u(f,i,l,h),p,r[n],d[f]);p=h,h=l,l=s(i,30),i=a,a=m}this.h[0]=o(this.h[0],a),this.h[1]=o(this.h[1],i),this.h[2]=o(this.h[2],l),this.h[3]=o(this.h[3],h),this.h[4]=o(this.h[4],p)},h.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";var n=r(52),a=r(451);function i(){if(!(this instanceof i))return new i;a.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(i,a),e.exports=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},function(e,t,r){"use strict";var n=r(52),a=r(452);function i(){if(!(this instanceof i))return new i;a.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(i,a),e.exports=i,i.blockSize=1024,i.outSize=384,i.hmacStrength=192,i.padLength=128,i.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},function(e,t,r){"use strict";var n=r(52),a=r(123),i=n.rotl32,s=n.sum32,o=n.sum32_3,c=n.sum32_4,u=a.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function h(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function p(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(l,u),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],a=this.h[2],u=this.h[3],l=this.h[4],b=r,v=n,_=a,w=u,x=l,k=0;k<80;k++){var S=s(i(c(r,d(k,n,a,u),e[f[k]+t],h(k)),g[k]),l);r=l,l=u,u=i(a,10),a=n,n=S,S=s(i(c(b,d(79-k,v,_,w),e[m[k]+t],p(k)),y[k]),x),b=x,x=w,w=i(_,10),_=v,v=S}S=o(this.h[1],a,w),this.h[1]=o(this.h[2],u,x),this.h[2]=o(this.h[3],l,b),this.h[3]=o(this.h[4],r,v),this.h[4]=o(this.h[0],n,_),this.h[0]=S},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,r){"use strict";var n=r(52),a=r(39);function i(e,t,r){if(!(this instanceof i))return new i(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=i,i.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),a(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},i.prototype.update=function(e,t){return this.inner.update(e,t),this},i.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,r){"use strict";var n=r(8),a=r(937),i=r(40),s=r(236),o=r(234),c=i.assert,u=r(938),l=r(939);function d(e){if(!(this instanceof d))return new d(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(s,e),"Unknown curve "+e),e=s[e]),e instanceof s.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new u(this,e)},d.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new a({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new n(2));;){var s=new n(t.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}},d.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},d.prototype.sign=function(e,t,r,i){"object"==typeof r&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var s=this.n.byteLength(),o=t.getPrivate().toArray("be",s),c=e.toArray("be",s),u=new a({hash:this.hash,entropy:o,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),d=this.n.sub(new n(1)),h=0;;h++){var p=i.k?i.k(h):new n(u.generate(this.n.byteLength()));if(!((p=this._truncateToN(p,!0)).cmpn(1)<=0||p.cmp(d)>=0)){var f=this.g.mul(p);if(!f.isInfinity()){var m=f.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var y=p.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(y=y.umod(this.n)).cmpn(0)){var b=(f.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return i.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),b^=1),new l({r:g,s:y,recoveryParam:b})}}}}}},d.prototype.verify=function(e,t,r,a){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,a);var i=(t=new l(t,"hex")).r,s=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,c=s.invm(this.n),u=c.mul(e).umod(this.n),d=c.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),d)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(u,r.getPublic(),d)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},d.prototype.recoverPubKey=function(e,t,r,a){c((3&r)===r,"The recovery param is more than two bits"),t=new l(t,a);var i=this.n,s=new n(e),o=t.r,u=t.s,d=1&r,h=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");o=h?this.curve.pointFromX(o.add(this.curve.n),d):this.curve.pointFromX(o,d);var p=t.r.invm(i),f=i.sub(s).mul(p).umod(i),m=u.mul(p).umod(i);return this.g.mulAdd(f,o,m)},d.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new l(t,n)).recoveryParam)return t.recoveryParam;for(var a=0;a<4;a++){var i;try{i=this.recoverPubKey(e,t,a)}catch(e){continue}if(i.eq(r))return a}throw new Error("Unable to find valid recovery factor")}},function(e,t,r){"use strict";var n=r(60),a=r(448),i=r(39);function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=a.toArray(e.entropy,e.entropyEnc||"hex"),r=a.toArray(e.nonce,e.nonceEnc||"hex"),n=a.toArray(e.pers,e.persEnc||"hex");i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=s,s.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=a.toArray(e,t),r=a.toArray(r,n),i(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=a.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(r),this._reseed++,a.encode(s,t)}},function(e,t,r){"use strict";var n=r(8),a=r(40).assert;function i(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=i,i.fromPublic=function(e,t,r){return t instanceof i?t:new i(e,{pub:t,pubEnc:r})},i.fromPrivate=function(e,t,r){return t instanceof i?t:new i(e,{priv:t,privEnc:r})},i.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},i.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?a(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||a(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},i.prototype.derive=function(e){return e.validate()||a(e.validate(),"public point not validated"),e.mul(this.priv).getX()},i.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},i.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,r){"use strict";var n=r(8),a=r(40),i=a.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(i(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function o(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var a=0,i=0,s=t.place;i<n;i++,s++)a<<=8,a|=e[s],a>>>=0;return!(a<=127)&&(t.place=s,a)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=s,s.prototype._importDER=function(e,t){e=a.toArray(e,t);var r=new o;if(48!==e[r.place++])return!1;var i=c(e,r);if(!1===i)return!1;if(i+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var s=c(e,r);if(!1===s)return!1;var u=e.slice(r.place,s+r.place);if(r.place+=s,2!==e[r.place++])return!1;var l=c(e,r);if(!1===l)return!1;if(e.length!==l+r.place)return!1;var d=e.slice(r.place,l+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new n(u),this.s=new n(d),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];l(n,t.length),(n=n.concat(t)).push(2),l(n,r.length);var i=n.concat(r),s=[48];return l(s,i.length),s=s.concat(i),a.encode(s,e)}},function(e,t,r){"use strict";var n=r(60),a=r(236),i=r(40),s=i.assert,o=i.parseBytes,c=r(941),u=r(942);function l(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=a[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=l,l.prototype.sign=function(e,t){e=o(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),a=this.g.mul(n),i=this.encodePoint(a),s=this.hashInt(i,r.pubBytes(),e).mul(r.priv()),c=n.add(s).umod(this.curve.n);return this.makeSignature({R:a,S:c,Rencoded:i})},l.prototype.verify=function(e,t,r){e=o(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),a=this.hashInt(t.Rencoded(),n.pubBytes(),e),i=this.g.mul(t.S());return t.R().add(n.pub().mul(a)).eq(i)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return i.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=i.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),a=i.intFromLE(r);return this.curve.pointFromY(a,n)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return i.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,r){"use strict";var n=r(40),a=n.assert,i=n.parseBytes,s=n.cachedProperty;function o(e,t){this.eddsa=e,this._secret=i(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=i(t.pub)}o.fromPublic=function(e,t){return t instanceof o?t:new o(e,{pub:t})},o.fromSecret=function(e,t){return t instanceof o?t:new o(e,{secret:t})},o.prototype.secret=function(){return this._secret},s(o,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(o,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(o,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(o,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(o,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(o,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),o.prototype.sign=function(e){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},o.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},o.prototype.getSecret=function(e){return a(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},o.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=o},function(e,t,r){"use strict";var n=r(8),a=r(40),i=a.assert,s=a.cachedProperty,o=a.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=o(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),i(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},function(e,t){},function(e,t,r){"use strict";var n=r(454);t.certificate=r(950);var a=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=a;var i=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=i;var s=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}));t.PublicKey=s;var o=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),c=n.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=c;var u=n.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=u;var l=n.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=l,t.DSAparam=n.define("DSAparam",(function(){this.int()}));var d=n.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=d;var h=n.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=n.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},function(e,t,r){"use strict";const n=r(455),a=r(457),i=r(7);function s(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new s(e,t)},s.prototype._createNamed=function(e){const t=this.name;function r(e){this._initNamed(e,t)}return i(r,e),r.prototype._initNamed=function(t,r){e.call(this,t,r)},new r(this)},s.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(a[e])),this.decoders[e]},s.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},s.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n[e])),this.encoders[e]},s.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},function(e,t,r){"use strict";const n=r(7),a=r(456);function i(e){a.call(this,e),this.enc="pem"}n(i,a),e.exports=i,i.prototype.encode=function(e,t){const r=a.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"];for(let e=0;e<r.length;e+=64)n.push(r.slice(e,e+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},function(e,t,r){"use strict";const n=r(7),a=r(237).Buffer,i=r(458);function s(e){i.call(this,e),this.enc="pem"}n(s,i),e.exports=s,s.prototype.decode=function(e,t){const r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let o=-1,c=-1;for(let e=0;e<r.length;e++){const t=r[e].match(s);if(null!==t&&t[2]===n){if(-1!==o){if("END"!==t[1])break;c=e;break}if("BEGIN"!==t[1])break;o=e}}if(-1===o||-1===c)throw new Error("PEM section not found for: "+n);const u=r.slice(o+1,c).join("");u.replace(/[^a-z0-9+/=]+/gi,"");const l=a.from(u,"base64");return i.prototype.decode.call(this,l,t)}},function(e,t,r){"use strict";const n=t;n.Reporter=r(239).Reporter,n.DecoderBuffer=r(124).DecoderBuffer,n.EncoderBuffer=r(124).EncoderBuffer,n.Node=r(238)},function(e,t,r){"use strict";const n=t;n._reverse=function(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);const n=e[r];t[n]=r})),t},n.der=r(240)},function(e,t,r){"use strict";var n=r(454),a=n.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),i=n.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),s=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),o=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())})),c=n.define("RelativeDistinguishedName",(function(){this.setof(i)})),u=n.define("RDNSequence",(function(){this.seqof(c)})),l=n.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),d=n.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(a),this.key("notAfter").use(a))})),h=n.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),p=n.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(l),this.key("validity").use(d),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())})),f=n.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(p),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())}));e.exports=f},function(e){e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},function(e,t,r){var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=r(153),o=r(232),c=r(9).Buffer;e.exports=function(e,t){var r,u=e.toString(),l=u.match(n);if(l){var d="aes"+l[1],h=c.from(l[2],"hex"),p=c.from(l[3].replace(/[\r\n]/g,""),"base64"),f=s(t,h.slice(0,8),parseInt(l[1],10)).key,m=[],g=o.createDecipheriv(d,f,h);m.push(g.update(p)),m.push(g.final()),r=c.concat(m)}else{var y=u.match(i);r=c.from(y[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(a)[1],data:r}}},function(e,t,r){var n=r(9).Buffer,a=r(453),i=r(109).ec,s=r(155),o=r(459);function c(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,t,r,u,l){var d=s(r);if("ec"===d.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var n=o[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var a=new i(n),s=r.data.subjectPrivateKey.data;return a.verify(t,e,s)}(e,t,d)}if("dsa"===d.type){if("dsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var n=r.data.p,i=r.data.q,o=r.data.g,u=r.data.pub_key,l=s.signature.decode(e,"der"),d=l.s,h=l.r;c(d,i),c(h,i);var p=a.mont(n),f=d.invm(i);return 0===o.toRed(p).redPow(new a(t).mul(f).mod(i)).fromRed().mul(u.toRed(p).redPow(h.mul(f).mod(i)).fromRed()).mod(n).mod(i).cmp(h)}(e,t,d)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");t=n.concat([l,t]);for(var h=d.modulus.byteLength(),p=[1],f=0;t.length+p.length+2<h;)p.push(255),f++;p.push(0);for(var m=-1;++m<t.length;)p.push(t[m]);p=n.from(p);var g=a.mont(d.modulus);e=(e=new a(e).toRed(g)).redPow(new a(d.publicExponent)),e=n.from(e.fromRed().toArray());var y=f<8?1:0;for(h=Math.min(e.length,p.length),e.length!==p.length&&(y=1),m=-1;++m<h;)y|=e[m]^p[m];return 0===y}},function(e,t,r){(function(t){var n=r(109),a=r(8);e.exports=function(e){return new s(e)};var i={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(e){this.curveType=i[e],this.curveType||(this.curveType={name:e}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function o(e,r,n){Array.isArray(e)||(e=e.toArray());var a=new t(e);if(n&&a.length<n){var i=new t(n-a.length);i.fill(0),a=t.concat([i,a])}return r?a.toString(r):a}i.p224=i.secp224r1,i.p256=i.secp256r1=i.prime256v1,i.p192=i.secp192r1=i.prime192v1,i.p384=i.secp384r1,i.p521=i.secp521r1,s.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},s.prototype.computeSecret=function(e,r,n){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),o(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},s.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),o(r,e)},s.prototype.getPrivateKey=function(e){return o(this.keys.getPrivate(),e)},s.prototype.setPublicKey=function(e,r){return r=r||"utf8",t.isBuffer(e)||(e=new t(e,r)),this.keys._importPublic(e),this},s.prototype.setPrivateKey=function(e,r){r=r||"utf8",t.isBuffer(e)||(e=new t(e,r));var n=new a(e);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this}}).call(this,r(11).Buffer)},function(e,t,r){t.publicEncrypt=r(956),t.privateDecrypt=r(957),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}},function(e,t,r){var n=r(155),a=r(101),i=r(102),s=r(460),o=r(461),c=r(8),u=r(462),l=r(235),d=r(9).Buffer;e.exports=function(e,t,r){var h;h=e.padding?e.padding:r?1:4;var p,f=n(e);if(4===h)p=function(e,t){var r=e.modulus.byteLength(),n=t.length,u=i("sha1").update(d.alloc(0)).digest(),l=u.length,h=2*l;if(n>r-h-2)throw new Error("message too long");var p=d.alloc(r-n-h-2),f=r-l-1,m=a(l),g=o(d.concat([u,p,d.alloc(1,1),t],f),s(m,f)),y=o(m,s(g,l));return new c(d.concat([d.alloc(1),y,g],r))}(f,t);else if(1===h)p=function(e,t,r){var n,i=t.length,s=e.modulus.byteLength();if(i>s-11)throw new Error("message too long");n=r?d.alloc(s-i-3,255):function(e){var t,r=d.allocUnsafe(e),n=0,i=a(2*e),s=0;for(;n<e;)s===i.length&&(i=a(2*e),s=0),(t=i[s++])&&(r[n++]=t);return r}(s-i-3);return new c(d.concat([d.from([0,r?1:2]),n,d.alloc(1),t],s))}(f,t,r);else{if(3!==h)throw new Error("unknown padding");if((p=new c(t)).cmp(f.modulus)>=0)throw new Error("data too long for modulus")}return r?l(p,f):u(p,f)}},function(e,t,r){var n=r(155),a=r(460),i=r(461),s=r(8),o=r(235),c=r(102),u=r(462),l=r(9).Buffer;e.exports=function(e,t,r){var d;d=e.padding?e.padding:r?1:4;var h,p=n(e),f=p.modulus.byteLength();if(t.length>f||new s(t).cmp(p.modulus)>=0)throw new Error("decryption error");h=r?u(new s(t),p):o(t,p);var m=l.alloc(f-h.length);if(h=l.concat([m,h],f),4===d)return function(e,t){var r=e.modulus.byteLength(),n=c("sha1").update(l.alloc(0)).digest(),s=n.length;if(0!==t[0])throw new Error("decryption error");var o=t.slice(1,s+1),u=t.slice(s+1),d=i(o,a(u,s)),h=i(u,a(d,r-s-1));if(function(e,t){e=l.from(e),t=l.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));var a=-1;for(;++a<n;)r+=e[a]^t[a];return r}(n,h.slice(0,s)))throw new Error("decryption error");var p=s;for(;0===h[p];)p++;if(1!==h[p++])throw new Error("decryption error");return h.slice(p)}(p,h);if(1===d)return function(e,t,r){var n=t.slice(0,2),a=2,i=0;for(;0!==t[a++];)if(a>=t.length){i++;break}var s=t.slice(2,a-1);("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&i++;s.length<8&&i++;if(i)throw new Error("decryption error");return t.slice(a)}(0,h,r);if(3===d)return h;throw new Error("unknown padding")}},function(e,t,r){"use strict";(function(e,n){function a(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var i=r(9),s=r(101),o=i.Buffer,c=i.kMaxLength,u=e.crypto||e.msCrypto,l=Math.pow(2,32)-1;function d(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>l||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function h(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>l||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>c)throw new RangeError("buffer too small")}function p(e,t,r,a){if(n.browser){var i=e.buffer,o=new Uint8Array(i,t,r);return u.getRandomValues(o),a?void n.nextTick((function(){a(null,e)})):e}if(!a)return s(r).copy(e,t),e;s(r,(function(r,n){if(r)return a(r);n.copy(e,t),a(null,e)}))}u&&u.getRandomValues||!n.browser?(t.randomFill=function(t,r,n,a){if(!(o.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof r)a=r,r=0,n=t.length;else if("function"==typeof n)a=n,n=t.length-r;else if("function"!=typeof a)throw new TypeError('"cb" argument must be a function');return d(r,t.length),h(n,r,t.length),p(t,r,n,a)},t.randomFillSync=function(t,r,n){void 0===r&&(r=0);if(!(o.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');d(r,t.length),void 0===n&&(n=t.length-r);return h(n,r,t.length),p(t,r,n)}):(t.randomFill=a,t.randomFillSync=a)}).call(this,r(26),r(19))},function(e,t,r){!function(t){"use strict";var n={};e.exports?(n.bytesToHex=r(960).bytesToHex,n.convertString=r(961),e.exports=o):(n.bytesToHex=t.convertHex.bytesToHex,n.convertString=t.convertString,t.sha256=o);var a=[];!function(){function e(e){for(var t=Math.sqrt(e),r=2;r<=t;r++)if(!(e%r))return!1;return!0}function t(e){return 4294967296*(e-(0|e))|0}for(var r=2,n=0;n<64;)e(r)&&(a[n]=t(Math.pow(r,1/3)),n++),r++}();var i=[],s=function(e,t,r){for(var n=e[0],s=e[1],o=e[2],c=e[3],u=e[4],l=e[5],d=e[6],h=e[7],p=0;p<64;p++){if(p<16)i[p]=0|t[r+p];else{var f=i[p-15],m=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,g=i[p-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;i[p]=m+i[p-7]+y+i[p-16]}var b=n&s^n&o^s&o,v=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),_=h+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&l^~u&d)+a[p]+i[p];h=d,d=l,l=u,u=c+_|0,c=o,o=s,s=n,n=_+(v+b)|0}e[0]=e[0]+n|0,e[1]=e[1]+s|0,e[2]=e[2]+o|0,e[3]=e[3]+c|0,e[4]=e[4]+u|0,e[5]=e[5]+l|0,e[6]=e[6]+d|0,e[7]=e[7]+h|0};function o(e,t){e.constructor===String&&(e=n.convertString.UTF8.stringToBytes(e));var r=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],a=function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t}(e),i=8*e.length;a[i>>5]|=128<<24-i%32,a[15+(i+64>>9<<4)]=i;for(var o=0;o<a.length;o+=16)s(r,a,o);var c=function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t}(r);return t&&t.asBytes?c:t&&t.asString?n.convertString.bytesToString(c):n.bytesToHex(c)}o.x2=function(e,t){return o(o(e,{asBytes:!0}),t)}}(this)},function(e,t,r){!function(t){"use strict";var r={bytesToHex:function(e){return function(e){return e.map((function(e){return t=e.toString(16),r=2,t.length>r?t:Array(r-t.length+1).join("0")+t;var t,r})).join("")}(e)},hexToBytes:function(e){if(e.length%2==1)throw new Error("hexToBytes can't have a string with an odd number of characters.");return 0===e.indexOf("0x")&&(e=e.slice(2)),e.match(/../g).map((function(e){return parseInt(e,16)}))}};e.exports?e.exports=r:t.convertHex=r}(this)},function(e,t,r){!function(t){"use strict";var r={bytesToString:function(e){return e.map((function(e){return String.fromCharCode(e)})).join("")},stringToBytes:function(e){return e.split("").map((function(e){return e.charCodeAt(0)}))}};r.UTF8={bytesToString:function(e){return decodeURIComponent(escape(r.bytesToString(e)))},stringToBytes:function(e){return r.stringToBytes(unescape(encodeURIComponent(e)))}},e.exports?e.exports=r:t.convertString=r}(this)},function(e,t,r){var n=r(93).CryptoJS;r(963),r(964),r(965),r(966),r(967);var a=r(968).JsonFormatter;t.CryptoJS=n,t.JsonFormatter=a},function(e,t,r){var n,a,i=r(93).CryptoJS;a=(n=i).lib.WordArray,n.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var a=[],i=0;i<r;i+=3)for(var s=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;o<4&&i+.75*o<r;o++)a.push(n.charAt(s>>>6*(3-o)&63));var c=n.charAt(64);if(c)for(;a.length%4;)a.push(c);return a.join("")},parse:function(e){var t=e.length,r=this._map,n=r.charAt(64);if(n){var i=e.indexOf(n);-1!=i&&(t=i)}for(var s=[],o=0,c=0;c<t;c++)if(c%4){var u=r.indexOf(e.charAt(c-1))<<c%4*2,l=r.indexOf(e.charAt(c))>>>6-c%4*2;s[o>>>2]|=(u|l)<<24-o%4*8,o++}return a.create(s,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},function(e,t,r){var n=r(93).CryptoJS;!function(e){var t=n,r=t.lib,a=r.WordArray,i=r.Hasher,s=t.algo,o=[];!function(){for(var t=0;t<64;t++)o[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=s.MD5=i.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,a=e[n];e[n]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var i=this._hash.words,s=e[t+0],c=e[t+1],p=e[t+2],f=e[t+3],m=e[t+4],g=e[t+5],y=e[t+6],b=e[t+7],v=e[t+8],_=e[t+9],w=e[t+10],x=e[t+11],k=e[t+12],S=e[t+13],O=e[t+14],P=e[t+15],E=i[0],A=i[1],C=i[2],T=i[3];E=u(E,A,C,T,s,7,o[0]),T=u(T,E,A,C,c,12,o[1]),C=u(C,T,E,A,p,17,o[2]),A=u(A,C,T,E,f,22,o[3]),E=u(E,A,C,T,m,7,o[4]),T=u(T,E,A,C,g,12,o[5]),C=u(C,T,E,A,y,17,o[6]),A=u(A,C,T,E,b,22,o[7]),E=u(E,A,C,T,v,7,o[8]),T=u(T,E,A,C,_,12,o[9]),C=u(C,T,E,A,w,17,o[10]),A=u(A,C,T,E,x,22,o[11]),E=u(E,A,C,T,k,7,o[12]),T=u(T,E,A,C,S,12,o[13]),C=u(C,T,E,A,O,17,o[14]),E=l(E,A=u(A,C,T,E,P,22,o[15]),C,T,c,5,o[16]),T=l(T,E,A,C,y,9,o[17]),C=l(C,T,E,A,x,14,o[18]),A=l(A,C,T,E,s,20,o[19]),E=l(E,A,C,T,g,5,o[20]),T=l(T,E,A,C,w,9,o[21]),C=l(C,T,E,A,P,14,o[22]),A=l(A,C,T,E,m,20,o[23]),E=l(E,A,C,T,_,5,o[24]),T=l(T,E,A,C,O,9,o[25]),C=l(C,T,E,A,f,14,o[26]),A=l(A,C,T,E,v,20,o[27]),E=l(E,A,C,T,S,5,o[28]),T=l(T,E,A,C,p,9,o[29]),C=l(C,T,E,A,b,14,o[30]),E=d(E,A=l(A,C,T,E,k,20,o[31]),C,T,g,4,o[32]),T=d(T,E,A,C,v,11,o[33]),C=d(C,T,E,A,x,16,o[34]),A=d(A,C,T,E,O,23,o[35]),E=d(E,A,C,T,c,4,o[36]),T=d(T,E,A,C,m,11,o[37]),C=d(C,T,E,A,b,16,o[38]),A=d(A,C,T,E,w,23,o[39]),E=d(E,A,C,T,S,4,o[40]),T=d(T,E,A,C,s,11,o[41]),C=d(C,T,E,A,f,16,o[42]),A=d(A,C,T,E,y,23,o[43]),E=d(E,A,C,T,_,4,o[44]),T=d(T,E,A,C,k,11,o[45]),C=d(C,T,E,A,P,16,o[46]),E=h(E,A=d(A,C,T,E,p,23,o[47]),C,T,s,6,o[48]),T=h(T,E,A,C,b,10,o[49]),C=h(C,T,E,A,O,15,o[50]),A=h(A,C,T,E,g,21,o[51]),E=h(E,A,C,T,k,6,o[52]),T=h(T,E,A,C,f,10,o[53]),C=h(C,T,E,A,w,15,o[54]),A=h(A,C,T,E,c,21,o[55]),E=h(E,A,C,T,v,6,o[56]),T=h(T,E,A,C,P,10,o[57]),C=h(C,T,E,A,y,15,o[58]),A=h(A,C,T,E,S,21,o[59]),E=h(E,A,C,T,m,6,o[60]),T=h(T,E,A,C,x,10,o[61]),C=h(C,T,E,A,p,15,o[62]),A=h(A,C,T,E,_,21,o[63]),i[0]=i[0]+E|0,i[1]=i[1]+A|0,i[2]=i[2]+C|0,i[3]=i[3]+T|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,a=8*t.sigBytes;r[a>>>5]|=128<<24-a%32;var i=e.floor(n/4294967296),s=n;r[15+(a+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(a+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(r.length+1),this._process();for(var o=this._hash,c=o.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return o},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,n,a,i,s){var o=e+(t&r|~t&n)+a+s;return(o<<i|o>>>32-i)+t}function l(e,t,r,n,a,i,s){var o=e+(t&n|r&~n)+a+s;return(o<<i|o>>>32-i)+t}function d(e,t,r,n,a,i,s){var o=e+(t^r^n)+a+s;return(o<<i|o>>>32-i)+t}function h(e,t,r,n,a,i,s){var o=e+(r^(t|~n))+a+s;return(o<<i|o>>>32-i)+t}t.MD5=i._createHelper(c),t.HmacMD5=i._createHmacHelper(c)}(Math)},function(e,t,r){var n,a,i,s,o,c,u,l=r(93).CryptoJS;a=(n=l).lib,i=a.Base,s=a.WordArray,o=n.algo,c=o.MD5,u=o.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),a=s.create(),i=a.words,o=r.keySize,c=r.iterations;i.length<o;){u&&n.update(u);var u=n.update(e).finalize(t);n.reset();for(var l=1;l<c;l++)u=n.finalize(u),n.reset();a.concat(u)}return a.sigBytes=4*o,a}}),n.EvpKDF=function(e,t,r){return u.create(r).compute(e,t)}},function(e,t,r){var n,a,i,s,o,c,u,l,d,h,p,f,m,g,y,b,v,_,w=r(93).CryptoJS;w.lib.Cipher||(a=(n=w).lib,i=a.Base,s=a.WordArray,o=a.BufferedBlockAlgorithm,(c=n.enc).Utf8,u=c.Base64,l=n.algo.EvpKDF,d=a.Cipher=o.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?_:b}return function(t){return{encrypt:function(r,n,a){return e(n).encrypt(t,r,n,a)},decrypt:function(r,n,a){return e(n).decrypt(t,r,n,a)}}}}()}),a.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),h=n.mode={},p=a.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),f=h.CBC=function(){var e=p.extend();function t(e,t,r){var n=this._iv;if(n){var a=n;this._iv=void 0}else a=this._prevBlock;for(var i=0;i<r;i++)e[t+i]^=a[i]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,a=n.blockSize;t.call(this,e,r,a),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+a)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,a=n.blockSize,i=e.slice(r,r+a);n.decryptBlock(e,r),t.call(this,e,r,a),this._prevBlock=i}}),e}(),m=(n.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,a=n<<24|n<<16|n<<8|n,i=[],o=0;o<n;o+=4)i.push(a);var c=s.create(i,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},a.BlockCipher=d.extend({cfg:d.cfg.extend({mode:f,padding:m}),reset:function(){d.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else n=r.createDecryptor,this._minBufferSize=1;this._mode=n.call(r,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4}),g=a.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),y=(n.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var n=s.create([1398893684,1701076831]).concat(r).concat(t);else n=t;return n.toString(u)},parse:function(e){var t=u.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var n=s.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return g.create({ciphertext:t,salt:n})}},b=a.SerializableCipher=i.extend({cfg:i.extend({format:y}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var a=e.createEncryptor(r,n),i=a.finalize(t),s=a.cfg;return g.create({ciphertext:i,key:r,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),v=(n.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=s.random(8));var a=l.create({keySize:t+r}).compute(e,n),i=s.create(a.words.slice(t),4*r);return a.sigBytes=4*t,g.create({key:a,iv:i,salt:n})}},_=a.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:v}),encrypt:function(e,t,r,n){var a=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=a.iv;var i=b.encrypt.call(this,e,t,a.key,n);return i.mixIn(a),i},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var a=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=a.iv,b.decrypt.call(this,e,t,a.key,n)}}))},function(e,t,r){var n=r(93).CryptoJS;!function(){var e=n,t=e.lib.BlockCipher,r=e.algo,a=[],i=[],s=[],o=[],c=[],u=[],l=[],d=[],h=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var f=n^n<<1^n<<2^n<<3^n<<4;f=f>>>8^255&f^99,a[r]=f,i[f]=r;var m=e[r],g=e[m],y=e[g],b=257*e[f]^16843008*f;s[r]=b<<24|b>>>8,o[r]=b<<16|b>>>16,c[r]=b<<8|b>>>24,u[r]=b;b=16843009*y^65537*g^257*m^16843008*r;l[f]=b<<24|b>>>8,d[f]=b<<16|b>>>16,h[f]=b<<8|b>>>24,p[f]=b,r?(r=m^e[e[e[y^m]]],n^=e[e[n]]):r=n=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],m=r.AES=t.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],s=0;s<n;s++)if(s<r)i[s]=t[s];else{var o=i[s-1];s%r?r>6&&s%r==4&&(o=a[o>>>24]<<24|a[o>>>16&255]<<16|a[o>>>8&255]<<8|a[255&o]):(o=a[(o=o<<8|o>>>24)>>>24]<<24|a[o>>>16&255]<<16|a[o>>>8&255]<<8|a[255&o],o^=f[s/r|0]<<24),i[s]=i[s-r]^o}for(var c=this._invKeySchedule=[],u=0;u<n;u++){s=n-u;if(u%4)o=i[s];else o=i[s-4];c[u]=u<4||s<=4?o:l[a[o>>>24]]^d[a[o>>>16&255]]^h[a[o>>>8&255]]^p[a[255&o]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,o,c,u,a)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,l,d,h,p,i);r=e[t+1];e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,a,i,s,o){for(var c=this._nRounds,u=e[t]^r[0],l=e[t+1]^r[1],d=e[t+2]^r[2],h=e[t+3]^r[3],p=4,f=1;f<c;f++){var m=n[u>>>24]^a[l>>>16&255]^i[d>>>8&255]^s[255&h]^r[p++],g=n[l>>>24]^a[d>>>16&255]^i[h>>>8&255]^s[255&u]^r[p++],y=n[d>>>24]^a[h>>>16&255]^i[u>>>8&255]^s[255&l]^r[p++],b=n[h>>>24]^a[u>>>16&255]^i[l>>>8&255]^s[255&d]^r[p++];u=m,l=g,d=y,h=b}m=(o[u>>>24]<<24|o[l>>>16&255]<<16|o[d>>>8&255]<<8|o[255&h])^r[p++],g=(o[l>>>24]<<24|o[d>>>16&255]<<16|o[h>>>8&255]<<8|o[255&u])^r[p++],y=(o[d>>>24]<<24|o[h>>>16&255]<<16|o[u>>>8&255]<<8|o[255&l])^r[p++],b=(o[h>>>24]<<24|o[u>>>16&255]<<16|o[l>>>8&255]<<8|o[255&d])^r[p++];e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=b},keySize:8});e.AES=t._createHelper(m)}()},function(e,t,r){var n=r(93).CryptoJS,a={stringify:function(e){var t={ct:e.ciphertext.toString(n.enc.Base64)};return e.iv&&(t.iv=e.iv.toString()),e.salt&&(t.s=e.salt.toString()),JSON.stringify(t)},parse:function(e){var t=JSON.parse(e),r=n.lib.CipherParams.create({ciphertext:n.enc.Base64.parse(t.ct)});return t.iv&&(r.iv=n.enc.Hex.parse(t.iv)),t.s&&(r.salt=n.enc.Hex.parse(t.s)),r}};t.JsonFormatter=a},function(e,t,r){"use strict";var n=r(970),a=r(971),i=r(463);function s(e,t){return void 0===e?t:(n.isBoolean(e,i.COMPRESSED_TYPE_INVALID),e)}e.exports=function(e){return{privateKeyVerify:function(t){return n.isBuffer(t,i.EC_PRIVATE_KEY_TYPE_INVALID),32===t.length&&e.privateKeyVerify(t)},privateKeyExport:function(t,r){n.isBuffer(t,i.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,i.EC_PRIVATE_KEY_LENGTH_INVALID),r=s(r,!0);var o=e.privateKeyExport(t,r);return a.privateKeyExport(t,o,r)},privateKeyImport:function(t){if(n.isBuffer(t,i.EC_PRIVATE_KEY_TYPE_INVALID),(t=a.privateKeyImport(t))&&32===t.length&&e.privateKeyVerify(t))return t;throw new Error(i.EC_PRIVATE_KEY_IMPORT_DER_FAIL)},privateKeyNegate:function(t){return n.isBuffer(t,i.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,i.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyNegate(t)},privateKeyModInverse:function(t){return n.isBuffer(t,i.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,i.EC_PRIVATE_KEY_LENGTH_INVALID),e.privateKeyModInverse(t)},privateKeyTweakAdd:function(t,r){return n.isBuffer(t,i.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,i.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,i.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,i.TWEAK_LENGTH_INVALID),e.privateKeyTweakAdd(t,r)},privateKeyTweakMul:function(t,r){return n.isBuffer(t,i.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,i.EC_PRIVATE_KEY_LENGTH_INVALID),n.isBuffer(r,i.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,i.TWEAK_LENGTH_INVALID),e.privateKeyTweakMul(t,r)},publicKeyCreate:function(t,r){return n.isBuffer(t,i.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(t,32,i.EC_PRIVATE_KEY_LENGTH_INVALID),r=s(r,!0),e.publicKeyCreate(t,r)},publicKeyConvert:function(t,r){return n.isBuffer(t,i.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,i.EC_PUBLIC_KEY_LENGTH_INVALID),r=s(r,!0),e.publicKeyConvert(t,r)},publicKeyVerify:function(t){return n.isBuffer(t,i.EC_PUBLIC_KEY_TYPE_INVALID),e.publicKeyVerify(t)},publicKeyTweakAdd:function(t,r,a){return n.isBuffer(t,i.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,i.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,i.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,i.TWEAK_LENGTH_INVALID),a=s(a,!0),e.publicKeyTweakAdd(t,r,a)},publicKeyTweakMul:function(t,r,a){return n.isBuffer(t,i.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,i.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,i.TWEAK_TYPE_INVALID),n.isBufferLength(r,32,i.TWEAK_LENGTH_INVALID),a=s(a,!0),e.publicKeyTweakMul(t,r,a)},publicKeyCombine:function(t,r){n.isArray(t,i.EC_PUBLIC_KEYS_TYPE_INVALID),n.isLengthGTZero(t,i.EC_PUBLIC_KEYS_LENGTH_INVALID);for(var a=0;a<t.length;++a)n.isBuffer(t[a],i.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t[a],33,65,i.EC_PUBLIC_KEY_LENGTH_INVALID);return r=s(r,!0),e.publicKeyCombine(t,r)},signatureNormalize:function(t){return n.isBuffer(t,i.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,i.ECDSA_SIGNATURE_LENGTH_INVALID),e.signatureNormalize(t)},signatureExport:function(t){n.isBuffer(t,i.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(t,64,i.ECDSA_SIGNATURE_LENGTH_INVALID);var r=e.signatureExport(t);return a.signatureExport(r)},signatureImport:function(t){n.isBuffer(t,i.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(t,i.ECDSA_SIGNATURE_LENGTH_INVALID);var r=a.signatureImport(t);if(r)return e.signatureImport(r);throw new Error(i.ECDSA_SIGNATURE_PARSE_DER_FAIL)},signatureImportLax:function(t){n.isBuffer(t,i.ECDSA_SIGNATURE_TYPE_INVALID),n.isLengthGTZero(t,i.ECDSA_SIGNATURE_LENGTH_INVALID);var r=a.signatureImportLax(t);if(r)return e.signatureImport(r);throw new Error(i.ECDSA_SIGNATURE_PARSE_DER_FAIL)},sign:function(t,r,a){n.isBuffer(t,i.MSG32_TYPE_INVALID),n.isBufferLength(t,32,i.MSG32_LENGTH_INVALID),n.isBuffer(r,i.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,i.EC_PRIVATE_KEY_LENGTH_INVALID);var s=null,o=null;return void 0!==a&&(n.isObject(a,i.OPTIONS_TYPE_INVALID),void 0!==a.data&&(n.isBuffer(a.data,i.OPTIONS_DATA_TYPE_INVALID),n.isBufferLength(a.data,32,i.OPTIONS_DATA_LENGTH_INVALID),s=a.data),void 0!==a.noncefn&&(n.isFunction(a.noncefn,i.OPTIONS_NONCEFN_TYPE_INVALID),o=a.noncefn)),e.sign(t,r,o,s)},verify:function(t,r,a){return n.isBuffer(t,i.MSG32_TYPE_INVALID),n.isBufferLength(t,32,i.MSG32_LENGTH_INVALID),n.isBuffer(r,i.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,i.ECDSA_SIGNATURE_LENGTH_INVALID),n.isBuffer(a,i.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(a,33,65,i.EC_PUBLIC_KEY_LENGTH_INVALID),e.verify(t,r,a)},recover:function(t,r,a,o){return n.isBuffer(t,i.MSG32_TYPE_INVALID),n.isBufferLength(t,32,i.MSG32_LENGTH_INVALID),n.isBuffer(r,i.ECDSA_SIGNATURE_TYPE_INVALID),n.isBufferLength(r,64,i.ECDSA_SIGNATURE_LENGTH_INVALID),n.isNumber(a,i.RECOVERY_ID_TYPE_INVALID),n.isNumberInInterval(a,-1,4,i.RECOVERY_ID_VALUE_INVALID),o=s(o,!0),e.recover(t,r,a,o)},ecdh:function(t,r){return n.isBuffer(t,i.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,i.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,i.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,i.EC_PRIVATE_KEY_LENGTH_INVALID),e.ecdh(t,r)},ecdhUnsafe:function(t,r,a){return n.isBuffer(t,i.EC_PUBLIC_KEY_TYPE_INVALID),n.isBufferLength2(t,33,65,i.EC_PUBLIC_KEY_LENGTH_INVALID),n.isBuffer(r,i.EC_PRIVATE_KEY_TYPE_INVALID),n.isBufferLength(r,32,i.EC_PRIVATE_KEY_LENGTH_INVALID),a=s(a,!0),e.ecdhUnsafe(t,r,a)}}}},function(e,t,r){"use strict";(function(e){var r=Object.prototype.toString;t.isArray=function(e,t){if(!Array.isArray(e))throw TypeError(t)},t.isBoolean=function(e,t){if("[object Boolean]"!==r.call(e))throw TypeError(t)},t.isBuffer=function(t,r){if(!e.isBuffer(t))throw TypeError(r)},t.isFunction=function(e,t){if("[object Function]"!==r.call(e))throw TypeError(t)},t.isNumber=function(e,t){if("[object Number]"!==r.call(e))throw TypeError(t)},t.isObject=function(e,t){if("[object Object]"!==r.call(e))throw TypeError(t)},t.isBufferLength=function(e,t,r){if(e.length!==t)throw RangeError(r)},t.isBufferLength2=function(e,t,r,n){if(e.length!==t&&e.length!==r)throw RangeError(n)},t.isLengthGTZero=function(e,t){if(0===e.length)throw RangeError(t)},t.isNumberInInterval=function(e,t,r,n){if(e<=t||e>=r)throw RangeError(n)}}).call(this,r(11).Buffer)},function(e,t,r){"use strict";var n=r(9).Buffer,a=r(972),i=n.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),s=n.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);t.privateKeyExport=function(e,t,r){var a=n.from(r?i:s);return e.copy(a,r?8:9),t.copy(a,r?181:214),a},t.privateKeyImport=function(e){var t=e.length,r=0;if(!(t<r+1||48!==e[r])&&!(t<(r+=1)+1)&&128&e[r]){var n=127&e[r];if(r+=1,!(n<1||n>2||t<r+n)){var a=e[r+n-1]|(n>1?e[r+n-2]<<8:0);if(!(t<(r+=n)+a||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]))return e.slice(r+2,r+2+e[r+1])}}},t.signatureExport=function(e){for(var t=n.concat([n.from([0]),e.r]),r=33,i=0;r>1&&0===t[i]&&!(128&t[i+1]);--r,++i);for(var s=n.concat([n.from([0]),e.s]),o=33,c=0;o>1&&0===s[c]&&!(128&s[c+1]);--o,++c);return a.encode(t.slice(i),s.slice(c))},t.signatureImport=function(e){var t=n.alloc(32,0),r=n.alloc(32,0);try{var i=a.decode(e);if(33===i.r.length&&0===i.r[0]&&(i.r=i.r.slice(1)),i.r.length>32)throw new Error("R length is too long");if(33===i.s.length&&0===i.s[0]&&(i.s=i.s.slice(1)),i.s.length>32)throw new Error("S length is too long")}catch(e){return}return i.r.copy(t,32-i.r.length),i.s.copy(r,32-i.s.length),{r:t,s:r}},t.signatureImportLax=function(e){var t=n.alloc(32,0),r=n.alloc(32,0),a=e.length,i=0;if(48===e[i++]){var s=e[i++];if(!(128&s&&(i+=s-128)>a)&&2===e[i++]){var o=e[i++];if(128&o){if(i+(s=o-128)>a)return;for(;s>0&&0===e[i];i+=1,s-=1);for(o=0;s>0;i+=1,s-=1)o=(o<<8)+e[i]}if(!(o>a-i)){var c=i;if(i+=o,2===e[i++]){var u=e[i++];if(128&u){if(i+(s=u-128)>a)return;for(;s>0&&0===e[i];i+=1,s-=1);for(u=0;s>0;i+=1,s-=1)u=(u<<8)+e[i]}if(!(u>a-i)){var l=i;for(i+=u;o>0&&0===e[c];o-=1,c+=1);if(!(o>32)){var d=e.slice(c,c+o);for(d.copy(t,32-d.length);u>0&&0===e[l];u-=1,l+=1);if(!(u>32)){var h=e.slice(l,l+u);return h.copy(r,32-h.length),{r:t,s:r}}}}}}}}}},function(e,t,r){var n=r(9).Buffer;e.exports={check:function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;var t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;var r=e[5+t];return 0!==r&&(6+t+r===e.length&&(!(128&e[4])&&(!(t>1&&0===e[4]&&!(128&e[5]))&&(!(128&e[t+6])&&!(r>1&&0===e[t+6]&&!(128&e[t+7]))))))},decode:function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");var t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");var r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},encode:function(e,t){var r=e.length,a=t.length;if(0===r)throw new Error("R length is zero");if(0===a)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(a>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(a>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");var i=n.allocUnsafe(6+r+a);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=e.length,e.copy(i,4),i[4+r]=2,i[5+r]=t.length,t.copy(i,6+r),i}}},function(e,t,r){"use strict";var n=r(9).Buffer,a=r(102),i=r(8),s=r(109).ec,o=r(463),c=new s("secp256k1"),u=c.curve;function l(e){var t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){var r=new i(t);if(r.cmp(u.p)>=0)return null;var n=(r=r.toRed(u.red)).redSqr().redIMul(r).redIAdd(u.b).redSqrt();return 3===e!==n.isOdd()&&(n=n.redNeg()),c.keyPair({pub:{x:r,y:n}})}(t,e.slice(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){var n=new i(t),a=new i(r);if(n.cmp(u.p)>=0||a.cmp(u.p)>=0)return null;if(n=n.toRed(u.red),a=a.toRed(u.red),(6===e||7===e)&&a.isOdd()!==(7===e))return null;var s=n.redSqr().redIMul(n);return a.redSqr().redISub(s.redIAdd(u.b)).isZero()?c.keyPair({pub:{x:n,y:a}}):null}(t,e.slice(1,33),e.slice(33,65));default:return null}}t.privateKeyVerify=function(e){var t=new i(e);return t.cmp(u.n)<0&&!t.isZero()},t.privateKeyExport=function(e,t){var r=new i(e);if(r.cmp(u.n)>=0||r.isZero())throw new Error(o.EC_PRIVATE_KEY_EXPORT_DER_FAIL);return n.from(c.keyFromPrivate(e).getPublic(t,!0))},t.privateKeyNegate=function(e){var t=new i(e);return t.isZero()?n.alloc(32):u.n.sub(t).umod(u.n).toArrayLike(n,"be",32)},t.privateKeyModInverse=function(e){var t=new i(e);if(t.cmp(u.n)>=0||t.isZero())throw new Error(o.EC_PRIVATE_KEY_RANGE_INVALID);return t.invm(u.n).toArrayLike(n,"be",32)},t.privateKeyTweakAdd=function(e,t){var r=new i(t);if(r.cmp(u.n)>=0)throw new Error(o.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);if(r.iadd(new i(e)),r.cmp(u.n)>=0&&r.isub(u.n),r.isZero())throw new Error(o.EC_PRIVATE_KEY_TWEAK_ADD_FAIL);return r.toArrayLike(n,"be",32)},t.privateKeyTweakMul=function(e,t){var r=new i(t);if(r.cmp(u.n)>=0||r.isZero())throw new Error(o.EC_PRIVATE_KEY_TWEAK_MUL_FAIL);return r.imul(new i(e)),r.cmp(u.n)&&(r=r.umod(u.n)),r.toArrayLike(n,"be",32)},t.publicKeyCreate=function(e,t){var r=new i(e);if(r.cmp(u.n)>=0||r.isZero())throw new Error(o.EC_PUBLIC_KEY_CREATE_FAIL);return n.from(c.keyFromPrivate(e).getPublic(t,!0))},t.publicKeyConvert=function(e,t){var r=l(e);if(null===r)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);return n.from(r.getPublic(t,!0))},t.publicKeyVerify=function(e){return null!==l(e)},t.publicKeyTweakAdd=function(e,t,r){var a=l(e);if(null===a)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new i(t)).cmp(u.n)>=0)throw new Error(o.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);var s=u.g.mul(t).add(a.pub);if(s.isInfinity())throw new Error(o.EC_PUBLIC_KEY_TWEAK_ADD_FAIL);return n.from(s.encode(!0,r))},t.publicKeyTweakMul=function(e,t,r){var a=l(e);if(null===a)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);if((t=new i(t)).cmp(u.n)>=0||t.isZero())throw new Error(o.EC_PUBLIC_KEY_TWEAK_MUL_FAIL);return n.from(a.pub.mul(t).encode(!0,r))},t.publicKeyCombine=function(e,t){for(var r=new Array(e.length),a=0;a<e.length;++a)if(r[a]=l(e[a]),null===r[a])throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);for(var i=r[0].pub,s=1;s<r.length;++s)i=i.add(r[s].pub);if(i.isInfinity())throw new Error(o.EC_PUBLIC_KEY_COMBINE_FAIL);return n.from(i.encode(!0,t))},t.signatureNormalize=function(e){var t=new i(e.slice(0,32)),r=new i(e.slice(32,64));if(t.cmp(u.n)>=0||r.cmp(u.n)>=0)throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);var a=n.from(e);return 1===r.cmp(c.nh)&&u.n.sub(r).toArrayLike(n,"be",32).copy(a,32),a},t.signatureExport=function(e){var t=e.slice(0,32),r=e.slice(32,64);if(new i(t).cmp(u.n)>=0||new i(r).cmp(u.n)>=0)throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);return{r:t,s:r}},t.signatureImport=function(e){var t=new i(e.r);t.cmp(u.n)>=0&&(t=new i(0));var r=new i(e.s);return r.cmp(u.n)>=0&&(r=new i(0)),n.concat([t.toArrayLike(n,"be",32),r.toArrayLike(n,"be",32)])},t.sign=function(e,t,r,a){if("function"==typeof r){var s=r;r=function(r){var c=s(e,t,null,a,r);if(!n.isBuffer(c)||32!==c.length)throw new Error(o.ECDSA_SIGN_FAIL);return new i(c)}}var l=new i(t);if(l.cmp(u.n)>=0||l.isZero())throw new Error(o.ECDSA_SIGN_FAIL);var d=c.sign(e,t,{canonical:!0,k:r,pers:a});return{signature:n.concat([d.r.toArrayLike(n,"be",32),d.s.toArrayLike(n,"be",32)]),recovery:d.recoveryParam}},t.verify=function(e,t,r){var n={r:t.slice(0,32),s:t.slice(32,64)},a=new i(n.r),s=new i(n.s);if(a.cmp(u.n)>=0||s.cmp(u.n)>=0)throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);if(1===s.cmp(c.nh)||a.isZero()||s.isZero())return!1;var d=l(r);if(null===d)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);return c.verify(e,n,{x:d.pub.x,y:d.pub.y})},t.recover=function(e,t,r,a){var s={r:t.slice(0,32),s:t.slice(32,64)},l=new i(s.r),d=new i(s.s);if(l.cmp(u.n)>=0||d.cmp(u.n)>=0)throw new Error(o.ECDSA_SIGNATURE_PARSE_FAIL);try{if(l.isZero()||d.isZero())throw new Error;var h=c.recoverPubKey(e,s,r);return n.from(h.encode(!0,a))}catch(e){throw new Error(o.ECDSA_RECOVER_FAIL)}},t.ecdh=function(e,r){var n=t.ecdhUnsafe(e,r,!0);return a("sha256").update(n).digest()},t.ecdhUnsafe=function(e,t,r){var a=l(e);if(null===a)throw new Error(o.EC_PUBLIC_KEY_PARSE_FAIL);var s=new i(t);if(s.cmp(u.n)>=0||s.isZero())throw new Error(o.ECDH_FAIL);return n.from(a.pub.mul(s).encode(!0,r))}},function(e,t,r){"use strict";var n=Object.keys,a=JSON.stringify;e.exports=function(e){return""+function e(t,r){var i,s,o,c,u,l,d;if("string"===(d=typeof t))return a(t);if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(t instanceof Array){for(o="[",s=t.length-1,i=0;i<s;i++)o+=e(t[i],!1)+",";return s>-1&&(o+=e(t[i],!1)),o+"]"}if(t instanceof Object){if("function"==typeof t.toJSON)return e(t.toJSON(),r);for(s=(c=n(t).sort()).length,o="",i=0;i<s;)void 0!==(l=e(t[u=c[i]],!0))&&(i&&""!==o&&(o+=","),o+=a(u)+":"+l),i++;return"{"+o+"}"}switch(d){case"function":case"undefined":return r?void 0:null;default:return isFinite(t)?t:null}}(e,!1)}},function(e,t,r){r(12),r(47);function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!(this instanceof n))return new n(e,t);if(this.app=e||{},this.solution={},this.solution.name="golden ticket",this.solution.target="",this.solution.random="",this.solution.publickey="",""!=t)try{this.solution=JSON.parse(t)}catch(e){return null}return this}e.exports=n,n.prototype.formatSolutionForGoldenTicket=function(e,t){return this.solution.name="golden ticket",this.solution.target=e.returnHash(),this.solution.random=t,this.solution.publickey=this.app.wallet.returnPublicKey(),this.solution},n.prototype.isValidSolution=function(e,t){var r=Math.floor(t.returnDifficulty()),n=t.returnDifficulty()%1,a=parseInt(e.slice(0,r+1),16),i=parseInt(t.returnHash().slice(0,r+1),16);return a>=i&&(a-i)/16<=n},n.prototype.validateTicket=function(e,t){if(null==e)return 1;if(this.solution.target!=e.returnHash())return 0;var r=this.app.crypto.hash(this.solution.publickey+this.solution.random);return this.isValidTicket(r,e)?1:0}},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r(12);var a=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(this instanceof e))return new e;this.publickey="",this.tags=[],this.identifiers=[],this.watched=!1,this.lock_block=!1,this.aes_publickey="",this.aes_privatekey="",this.aes_secret="",this.identifiers=[],this.data={}}var t,r,a;return t=e,(r=[{key:"addTag",value:function(e){this.isTagged(e)||this.tags.push(e)}},{key:"addIdentifier",value:function(e){this.isIdentifier(e)||this.identifiers.push(e)}},{key:"hasSharedSecret",value:function(){return""!=this.aes_secret}},{key:"isIdentifier",value:function(e){for(var t=0;t<this.identifiers.length;t++)if(this.identifiers[t]==e)return!0;return!1}},{key:"isPublicKey",value:function(e){return this.publickey==e}},{key:"isWatched",value:function(e){return this.watched}},{key:"isTagged",value:function(e){for(var t=0;t<this.tags.length;t++)if(this.tags[t]==e)return!0;return!1}},{key:"removeIdentifier",value:function(e){if(this.isIdentifier(e))for(var t=this.identifiers.length-1;t>=0;t++)this.identifiers[t]==e&&this.identifiers.splice(t,1)}},{key:"removeTag",value:function(e){if(this.isTagged(e))for(var t=this.tags.length-1;t>=0;t++)this.tags[t]==e&&this.tags.splice(t,1)}}])&&n(t.prototype,r),a&&n(t,a),e}();e.exports=a},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(12),i=r(27),s=r(1060),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t||{},this.keys=[],this.groups=[],this.modtemplate=new i(this.app),this.fetched_keys={}}var t,r,o;return t=e,(r=[{key:"initialize",value:function(){null==this.app.options.keys&&(this.app.options.keys=[]);for(var e=0;e<this.app.options.keys.length;e++){var t=this.app.options.keys[e],r=new a.key(this.app);r.publickey=t.publickey,r.watched=t.watched,r.bid=t.bid,r.bsh=t.bsh,r.lc=t.lc,r.aes_publickey=t.aes_publickey,r.aes_privatekey=t.aes_privatekey,r.aes_secret=t.aes_secret,r.data=t.data;for(var n=0;n<t.identifiers.length;n++)r.identifiers[n]=t.identifiers[n],0==n&&(r.name=t.identifiers[n]);for(var i=0;i<t.tags.length;i++)r.tags[i]=t.tags[i];this.keys.push(r)}0==this.app.options.keys.length&&this.addKey(this.app.wallet.returnPublicKey(),"",!0)}},{key:"addKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;if(""!=e){e=e.trim();var c=this.findByPublicKey(e),u=0,l=0;null==c?((c=new a.key(this.app)).publickey=e,c.watched=r,c.bid=i,c.bsh=s,c.lc=o,c.name="",""!=t&&(c.identifiers.includes(t)||(u=1,c.addIdentifier(t),c.name=t)),""!=n&&(c.tags.includes(n)||(l=1,c.addTag(n))),this.keys.push(c)):""!=i&&""!=s?(c.bsh!=s&&c.bid,c.publickey=e,c.watched=r,c.bid=i,c.bsh=s,c.lc=o,c.identifiers.includes(t)||(u=1,c.addIdentifier(t)),c.tags.includes(n)||(l=1,c.addTag(n))):(c.identifiers.includes(t)||(u=1,c.addIdentifier(t)),c.tags.includes(n)||(l=1,c.addTag(n)),r&&(c.watched=!0)),this.saveKeys(),1==u&&this.app.connection.emit("update_identifier",c),1==l&&this.app.connection.emit("update_tag",c)}}},{key:"decryptMessage",value:function(e,t){for(var r=0;r<this.keys.length;r++)if(this.keys[r].publickey==e&&""!=this.keys[r].aes_secret){var n=this.app.crypto.aesDecrypt(t,this.keys[r].aes_secret);if(null!=n){var a=JSON.parse(n);if(null!=a.module)return a}}return t}},{key:"decryptString",value:function(e,t){for(var r=0;r<this.keys.length;r++)if(this.keys[r].publickey==e&&""!=this.keys[r].aes_secret)return this.app.crypto.aesDecrypt(t,this.keys[r].aes_secret);return t}},{key:"encryptMessage",value:function(e,t){for(var r=JSON.stringify(t),n=0;n<this.keys.length;n++)if(this.keys[n].publickey==e&&""!=this.keys[n].aes_secret)return this.app.crypto.aesEncrypt(r,this.keys[n].aes_secret);return t}},{key:"findByPublicKey",value:function(e){for(var t=0;t<this.keys.length;t++)if(this.keys[t].publickey==e)return this.keys[t];return null}},{key:"findByIdentifier",value:function(e){for(var t=0;t<this.keys.length;t++)if(1==this.keys[t].isIdentifier(e))return this.keys[t];return null}},{key:"hasSharedSecret",value:function(e){for(var t=0;t<this.keys.length;t++)if((this.keys[t].publickey==e||1==this.keys[t].isIdentifier(e))&&1==this.keys[t].hasSharedSecret())return!0;return!1}},{key:"isWatched",value:function(e){for(var t=0;t<this.keys.length;t++)if((this.keys[t].publickey==e||this.keys[t].isIdentifier(e))&&this.keys[t].isWatched())return!0;return!1}},{key:"initializeKeyExchange",value:function(e){var t=this.app.crypto.createDiffieHellman(),r=t.getPublicKey(null,"compressed").toString("hex"),n=t.getPrivateKey(null,"compressed").toString("hex");return this.updateCryptoByPublicKey(e,r,n,""),r}},{key:"isTagged",value:function(e,t){var r=this.findByPublicKey(e);return null!=r&&r.isTagged(t)}},{key:"saveKeys",value:function(){this.app.options.keys=this.keys,this.app.storage.saveOptions()}},{key:"saveGrouos",value:function(){this.app.options.groups=this.groups,this.app.storage.saveOptions()}},{key:"removeKey",value:function(e){for(var t=this.keys.length-1;t>=0;t--)this.keys[t].publickey==e&&this.keys.splice(t,1)}},{key:"returnKeys",value:function(){for(var e=[],t=0;t<this.keys.length;t++)1==this.keys[t].lc&&this.keys[t].publickey!=this.app.wallet.returnPublicKey()&&(e[e.length]=this.keys[t]);return e}},{key:"returnGroups",value:function(){return this.groups}},{key:"returnKeychainByTag",value:function(e){for(var t=[],r=0;r<this.keys.length;r++)this.keys[r].isTagged(e)&&(t[t.length]=this.keys[r]);return t}},{key:"updateEmail",value:function(e,t){var r=0;if(null!=this.keys)for(var n=0;n<this.keys.length;n++)this.keys[n].publickey===e&&(this.keys[n].data||(this.keys[n].data={}),r=1,this.keys[n].data.email=t,this.app.connection.emit("update_email",this.keys[n]));0==r&&(this.addKey(e),this.updateEmail(e,t)),this.saveKeys()}},{key:"returnEmail",value:function(e){if(null!=this.keys)for(var t=0;t<this.keys.length;t++)if(this.keys[t].publickey===e&&""!=this.keys[t].data.email&&void 0!==this.keys[t].data.email)return this.keys[t].data.email;return""}},{key:"updateIdenticon",value:function(e,t){if(null!=this.keys)for(var r=0;r<this.keys.length;r++)this.keys[r].publickey===e&&(this.keys[r].data||(this.keys[r].data={}),this.keys[r].data.identicon=t);this.saveKeys()}},{key:"returnIdenticon",value:function(e){if(null!=this.keys)for(var t=0;t<this.keys.length;t++)if(this.keys[t].publickey===e&&""!=this.keys[t].data.identicon&&void 0!==this.keys[t].data.identicon)return this.keys[t].data.identicon;return"data:image/svg+xml;base64,"+new s(this.app.crypto.hash(e),{margin:0,size:420,format:"svg"}).toString()}},{key:"returnIdenticonColor",value:function(e){var t=parseInt(this.app.crypto.hash(e).substr(-7),16)/268435455,r=this.hsl2rgb(t,.7,.5).map(Math.round);return"rgba(".concat(r.join(","),")")}},{key:"hsl2rgb",value:function(e,t,r){return[255*(t=[r+=t*=r<.5?r:1-r,r-(e*=6)%1*t*2,r-=t*=2,r,r+e%1*t,r+t])[~~e%6],255*t[(16|e)%6],255*t[(8|e)%6]]}},{key:"fetchIdentifierPromise",value:function(e){var t=this;return new Promise((function(r,n){t.fetchIdentifier(e,(function(e){r(e)}))}))}},{key:"fetchManyIdentifiersPromise",value:function(e){var t=this;return new Promise((function(r,n){t.fetchManyIdentifiers(e,(function(e){r(e)}))}))}},{key:"fetchIdentifier",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,n="",a=[];""==t&&r(n),n=this.returnIdentifierByPublicKey(t),1==this.fetched_keys[t]&&r(n),n||r(n),this.modtemplate.sendPeerDatabaseRequestWithFilter("Registry",'SELECT * FROM records WHERE publickey = "'+t+'"',(function(t){var n=[];null==t.rows&&r(n),t.err&&r(n),null==t.rows&&r(n),0==t.rows.length&&r(n),n=t.rows.map((function(t){var r=t.publickey,n=t.identifier,i=t.bid,s=t.bsh,o=t.lc;e.fetched_keys[r]=1,e.addKey(r,n,!1,"",i,s,o),a.includes(r)||(a[r]=n)})),r(a)}),(function(e){for(var t=0;t<e.peer.services.length;t++)if("registry"===e.peer.services[t].service)return 1}))}},{key:"fetchManyIdentifiers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,n=[],a=[];if(t.forEach((function(t){var r=e.returnIdentifierByPublicKey(t);r.length>0?n[t]=r:a.push("'".concat(t,"'"))})),0!=a.length){var i="publickey in (".concat(a.join(","),")"),s="select * from records where ".concat(i);this.modtemplate.sendPeerDatabaseRequestWithFilter("Registry",s,(function(t){try{var a=[];if(void 0===t.rows)return void r(a);if(t.err)return void r(a);if(0==t.rows.length)return void r(a);a=t.rows.map((function(t){var r=t.publickey,a=t.identifier,i=t.bid,s=t.bsh,o=t.lc;e.addKey(r,a,!1,"",i,s,o),n.includes(r)||(n[r]=a)})),r(n)}catch(e){console.log(e)}}),(function(e){if(e.peer.services)for(var t=0;t<e.peer.services.length;t++)if("registry"===e.peer.services[t].service)return 1}))}else r(n)}},{key:"fetchPublicKeyPromise",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((function(r,n){e.fetchPublicKey(t,(function(e){r(e)}))}))}},{key:"fetchPublicKey",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0;if(!t)return null;this.app.crypto.isPublicKey(t)&&r(t);var n=this.returnPublicKeyByIdentifier(t);""!=n&&r({err:"",rows:[n]}),this.modtemplate.sendPeerDatabaseRequest("registry","records","*","identifier = '".concat(t,"'"),null,(function(t){null==t.rows&&r([]),t.rows.forEach((function(t){var r=t.publickey,n=t.identifier,a=t.bid,i=t.bsh,s=t.lc;e.addKey(r,n,!1,"",a,i,s)})),r(t)}))}},{key:"returnPublicKeyByIdentifier",value:function(e){for(var t=0;t<this.keys.length;t++){var r=this.keys[t];if(1==r.lc&&r.isIdentifier(e))return r.publickey}return""}},{key:"returnIdentifierByPublicKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=this.keys)for(var r=0;r<this.keys.length;r++){var n=this.keys[r];if(n.publickey===e&&null!=n.identifiers&&1==n.lc&&n.identifiers.length>0)return n.identifiers[0]}return t?e:""}},{key:"returnUsername",value:function(e){var t=this.returnIdentifierByPublicKey(e,!0);return""!=t&&t!=e?t:t.length>12?t.substr(0,12)+"...":t[0]&&t[0].length>12?t[0].substr(0,12)+"...":t}},{key:"returnWatchedPublicKeys",value:function(){for(var e=[],t=0;t<this.keys.length;t++)this.keys[t].isWatched()&&1==this.keys[t].lc&&e.push(this.keys[t].publickey);return e}},{key:"addWatchedPublicKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.addKey(e,"",!0),this.saveKeys(),this.app.network.updatePeersWithWatchedPublicKeys()}},{key:"updateCryptoByPublicKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(""!=e){this.addKey(e);for(var a=0;a<this.keys.length;a++)this.keys[a].publickey==e&&1==this.keys[a].lc&&(this.keys[a].aes_publickey=t,this.keys[a].aes_privatekey=r,this.keys[a].aes_secret=n);return this.saveKeys(),!0}}},{key:"alreadyHaveSharedSecret",value:function(e){for(var t=0;t<this.keys.length;t++)if(this.keys[t].publickey==e&&1==this.keys[t].lc&&""!=this.keys[t].aes_secret)return!0;return!1}},{key:"clean",value:function(){for(var e=0;e<this.keys.length;e++)0==this.keys[e].isWatched()&&""!=this.keys[e].aes_secret&&(console.log("purging key records: "+this.keys[e].publickey+" "+JSON.stringify(this.keys[e].identifiers)),this.keys.splice(e,1),e--)}}])&&n(t.prototype,r),o&&n(t,o),e}();e.exports=o},function(e,t){},function(e,t,r){r(980).call;if("undefined"!=typeof window){var n=function(e){if(!e.classList.contains("treated")){e.addEventListener("change",(function(e){var r="";(r=this.files&&this.files.length>1?this.files.length+" files selected.":e.target.value.split("\\").pop())?(t.style.border="none",t.innerHTML=r):t.innerHTML=labelVal})),e.classList.add("treated");var t=document.createElement("label");t.classList.add("treated"),t.innerHTML="Choose File",t.htmlFor=e.id,t.id=e.id+"-label",e.parentNode.appendChild(t)}},a=function(e){var t=document.createElement("div");t.classList.add("saito-select"),e.classList.add("saito-slct"),e.parentNode.insertBefore(t,e),t.appendChild(e)};new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.length>0&&function e(t){for(var r=0;r<t.length;r++)t[r].files&&n(t[r]),"SELECT"===t[r].tagName&&(t[r].classList.contains("saito-slct")||a(t[r])),t[r].childNodes.length>=1&&e(t[r].childNodes)}(e.addedNodes)}))})).observe(document.documentElement,{attributes:!0,characterData:!0,childList:!0,subtree:!0,attributeOldValue:!0}),window.salert=function(e){if(!document.getElementById("alert-wrapper")){var t=document.createElement("div");t.id="alert-wrapper";var r='<div id="alert-shim">';r+='<div id="alert-box">',r+='<p class="alert-message">'+e+"</p>",r+='<div id="alert-buttons"><button id="alert-ok">OK</button>',r+="</div></div></div>",t.innerHTML=r,document.body.appendChild(t),setTimeout((function(){document.querySelector("#alert-box").style.top="0"}),100),document.querySelector("#alert-ok").focus(),document.querySelector("#alert-shim").addEventListener("keyup",(function(e){13===e.keyCode&&(e.preventDefault(),document.querySelector("#alert-ok").click())})),document.querySelector("#alert-ok").addEventListener("click",(function(){t.remove()}),!1)}},window.sconfirm=function(e){if(!document.getElementById("alert-wrapper"))return new Promise((function(t,r){var n=document.createElement("div");n.id="alert-wrapper";var a='<div id="alert-shim">';a+='<div id="alert-box">',a+='<p class="alert-message">'+e+"</p>",a+='<div id="alert-buttons"><button id="alert-cancel">Cancel</button><button id="alert-ok">OK</button>',a+="</div></div></div>",n.innerHTML=a,document.body.appendChild(n),setTimeout((function(){document.getElementById("alert-box").style.top="0"}),100),document.getElementById("alert-ok").focus(),document.getElementById("alert-shim").onclick=function(e){13===e.keyCode&&(e.preventDefault(),document.getElementById("alert-ok").click())},document.getElementById("alert-ok").onclick=function(){n.remove(),t(!0)},document.getElementById("alert-cancel").onclick=function(){n.remove(),t(!1)}}))},window.sprompt=function(e){if(!document.getElementById("alert-wrapper"))return new Promise((function(t,r){var n=document.createElement("div");n.id="alert-wrapper";var a='<div id="alert-shim">';a+='<div id="alert-box">',a+='<p class="alert-message">'+e+"</p>",a+='<div class="alert-prompt"><input type="text" id="promptval" class="promptval" /></div>',a+='<div id="alert-buttons"><button id="alert-cancel">Cancel</button><button id="alert-ok">OK</button>',a+="</div></div></div>",n.innerHTML=a,document.body.appendChild(n),document.querySelector("#promptval").focus(),document.querySelector("#promptval").select(),setTimeout((function(){document.querySelector("#alert-box").style.top="0"}),100),document.querySelector("#alert-shim").addEventListener("keyup",(function(e){13===e.keyCode&&(e.preventDefault(),document.querySelector("#alert-ok").click())})),document.querySelector("#alert-ok").addEventListener("click",(function(){var e=document.querySelector("#promptval").value;n.remove(),t(e)}),!1),document.querySelector("#alert-cancel").addEventListener("click",(function(){n.remove(),t(!1)}),!1)}))},window.siteMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9999999;document.getElementById("message-wrapper")&&document.getElementById("message-wrapper").remove();var r=document.createElement("div");r.id="message-wrapper";var n='<div id="message-box">';n+='<p class="message-message">'+e+"</p>",n+="</div>",r.innerHTML=n,document.body.appendChild(r),setTimeout((function(){r.remove()}),t),document.querySelector("#message-wrapper").addEventListener("click",(function(){r.remove()}),!1)},window.imgPop=function(e){e.style.cursor="pointer",e.addEventListener("click",(function(t){var r=document.createElement("div");r.id="alert-wrapper";var n='<div id="alert-shim">';n+='<img class="imgpop" src="'.concat(e.src,'" />'),n+="</div>",r.innerHTML=n,document.body.appendChild(r),document.querySelector("img.imgpop").addEventListener("click",(function(t){try{window.open("").document.body.innerHTML='<img src="'+e.src+'" />'}catch(e){}})),r.addEventListener("click",(function(e){document.getElementById("alert-wrapper").remove()}))}))},window.scopy=function(e){var t=document.createElement("div");t.innerHTML=e,t.style.position="fixed",t.style.pointerEvents="none",t.style.opacity=0;var r=Array.prototype.slice.call(document.styleSheets).filter((function(e){return!e.disabled}));document.body.appendChild(t),window.getSelection().removeAllRanges();var n=document.createRange();n.selectNode(t),window.getSelection().addRange(n),document.execCommand("copy");for(var a=0;a<r.length;a++)r[a].disabled=!0;document.execCommand("copy");for(a=0;a<r.length;a++)r[a].disabled=!1;document.body.removeChild(t)},window.sWord=function(e,t){var r=new Blob(["\ufeff",e],{type:"application/msword"}),n="data:application/vnd.ms-word;charset=utf-8,"+encodeURIComponent(e),a=document.createElement("a");document.body.appendChild(a),navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(r,t):(a.href=n,a.download=t,a.click()),document.body.removeChild(a)},window.s2Number=function(e){if(void 0!==e)return e=e.toString().replace(/,/g,""),"number"!=typeof Number(e)?e:Number(e).toLocaleString()},window.addStyleSheet=function(e){var t=document.head,r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,t.appendChild(r)},HTMLElement.prototype.toggleClass=function(e){this.classList.contains(e)?this.classList.remove(e):this.classList.add(e)},HTMLElement.prototype.destroy=function(){try{this.parentNode.removeChild(this)}catch(e){console.log(e)}},window.setPreference=function(e,t){void 0===this.localStorage.profile&&(this.localStorage.profile=JSON.stringify({}));var r=JSON.parse(localStorage.profile);r[e]=t,localStorage.profile=JSON.stringify(r)},window.getPreference=function(e){if(void 0!==this.localStorage.profile&&(profile=JSON.parse(localStorage.profile),void 0!==profile[e]))return profile[e]},window.handlePasteImage=function(e,t){e.onpaste=function(e){var r=(e.clipboardData||e.originalEvent.clipboardData).items;console.log(JSON.stringify(r));for(var n=null,a=0;a<r.length;a++)0===r[a].type.indexOf("image")&&(n=r[a].getAsFile());if(null!==n){if(document.getElementById("alert-wrapper"))return;return new Promise((function(e,r){var a=document.createElement("div");a.id="alert-wrapper";a.innerHTML='<div id="alert-shim"><div id="alert-box"><p class="alert-message"><img class="img-prev" src="" /></p><div id="alert-buttons"><button id="alert-cancel">Cancel</button><button id="alert-ok">OK</button></div></div></div>',document.body.appendChild(a),setTimeout((function(){document.getElementById("alert-box").style.top="0"}),100),document.getElementById("alert-ok").focus();var i=new FileReader;i.onload=function(e){var t=new Image;t.onload=function(){var e,r,n=t.src.split(";")[0].split(":")[1],a=1,i=document.createElement("canvas");t.width>1e3&&(a=1e3/t.width),a*t.height>1e3&&(a=1e3/t.height),e=t.width*a,r=t.height*a,i.width=e,i.height=r,i.getContext("2d").drawImage(t,0,0,e,r);var s=1,o=i.toDataURL(n,s);console.log(o.length),o.length>25e4&&(o=i.toDataURL("image/jpeg",1)).length>25e4&&(s=Math.pow(25e4/o.length,1.33),o=i.toDataURL("image/jpeg",s)),console.log(o.length),document.querySelector(".alert-message img").src=o},t.src=e.target.result},i.readAsDataURL(n),document.getElementById("alert-shim").onclick=function(e){13===e.keyCode&&(e.preventDefault(),document.getElementById("alert-ok").click())},document.getElementById("alert-ok").onclick=function(){t(document.querySelector(".alert-message").innerHTML),a.remove(),e(!0)},document.getElementById("alert-cancel").onclick=function(){a.remove(),e(!1)}}))}}}}},function(e,t,r){"use strict";const n=r(981);e.exports=n.default,e.exports.raw=n.raw},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=(0,a.getOptions)(this);(0,i.validate)(s.default,t,{name:"File Loader",baseDataPath:"options"});const r=t.context||this.rootContext,c=t.name||"[contenthash].[ext]",u=(0,a.interpolateName)(this,c,{context:r,content:e,regExp:t.regExp});let l=u;t.outputPath&&(l="function"==typeof t.outputPath?t.outputPath(u,this.resourcePath,r):n.default.posix.join(t.outputPath,u));let d="__webpack_public_path__ + "+JSON.stringify(l);t.publicPath&&(d="function"==typeof t.publicPath?t.publicPath(u,this.resourcePath,r):`${t.publicPath.endsWith("/")?t.publicPath:t.publicPath+"/"}${u}`,d=JSON.stringify(d));t.postTransformPublicPath&&(d=t.postTransformPublicPath(d));if(void 0===t.emitFile||t.emitFile){const t={};if("string"==typeof c){let e=c;const r=e.indexOf("?");r>=0&&(e=e.substr(0,r));!0===/\[([^:\]]+:)?(hash|contenthash)(:[^\]]+)?]/gi.test(e)&&(t.immutable=!0)}t.sourceFilename=(0,o.normalizePath)(n.default.relative(this.rootContext,this.resourcePath)),this.emitFile(l,e,null,t)}return`${void 0===t.esModule||t.esModule?"export default":"module.exports ="} ${d};`},t.raw=void 0;var n=c(r(53)),a=r(982),i=r(995),s=c(r(1058)),o=r(1059);function c(e){return e&&e.__esModule?e:{default:e}}t.raw=!0},function(e,t,r){"use strict";const n=r(983),a=r(464),i=r(985),s=r(986),o=r(987),c=r(988),u=r(989),l=r(990),d=r(465),h=r(993);t.getOptions=n,t.parseQuery=a,t.stringifyRequest=i,t.getRemainingRequest=s,t.getCurrentRequest=o,t.isUrlRequest=c,t.urlToRequest=u,t.parseString=l,t.getHashDigest=d,t.interpolateName=h},function(e,t,r){"use strict";const n=r(464);e.exports=function(e){const t=e.query;return"string"==typeof t&&""!==t?n(e.query):t&&"object"==typeof t?t:{}}},function(e,t,r){e.exports=function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t=e((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),r=e((function(e){var t=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=t)})),n=(r.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),a=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e},i=function(e){try{return!!e()}catch(e){return!0}},s=!i((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),o=t.document,c=n(o)&&n(o.createElement),u=!s&&!i((function(){return 7!=Object.defineProperty((e="div",c?o.createElement(e):{}),"a",{get:function(){return 7}}).a;var e})),l=Object.defineProperty,d={f:s?Object.defineProperty:function(e,t,r){if(a(e),t=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}(t,!0),a(r),u)try{return l(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},h=s?function(e,t,r){return d.f(e,t,function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}(1,r))}:function(e,t,r){return e[t]=r,e},p={}.hasOwnProperty,f=function(e,t){return p.call(e,t)},m=0,g=Math.random(),y=e((function(e){var n=t["__core-js_shared__"]||(t["__core-js_shared__"]={});(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})}))("native-function-to-string",Function.toString),b=e((function(e){var n=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++m+g).toString(36))}("src"),a=(""+y).split("toString");r.inspectSource=function(e){return y.call(e)},(e.exports=function(e,r,i,s){var o="function"==typeof i;o&&(f(i,"name")||h(i,"name",r)),e[r]!==i&&(o&&(f(i,n)||h(i,n,e[r]?""+e[r]:a.join(String(r)))),e===t?e[r]=i:s?e[r]?e[r]=i:h(e,r,i):(delete e[r],h(e,r,i)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[n]||y.call(this)}))})),v=function(e,t,r){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,a){return e.call(t,r,n,a)}}return function(){return e.apply(t,arguments)}},_=function(e,n,a){var i,s,o,c,u=e&_.F,l=e&_.G,d=e&_.S,p=e&_.P,f=e&_.B,m=l?t:d?t[n]||(t[n]={}):(t[n]||{}).prototype,g=l?r:r[n]||(r[n]={}),y=g.prototype||(g.prototype={});for(i in l&&(a=n),a)o=((s=!u&&m&&void 0!==m[i])?m:a)[i],c=f&&s?v(o,t):p&&"function"==typeof o?v(Function.call,o):o,m&&b(m,i,o,e&_.U),g[i]!=o&&h(g,i,c),p&&y[i]!=o&&(y[i]=o)};t.core=r,_.F=1,_.G=2,_.S=4,_.P=8,_.B=16,_.W=32,_.U=64,_.R=128;var w,x=_,k=Math.ceil,S=Math.floor,O=function(e){return isNaN(e=+e)?0:(e>0?S:k)(e)},P=(w=!1,function(e,t){var r,n,a=String(function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}(e)),i=O(t),s=a.length;return i<0||i>=s?w?"":void 0:(r=a.charCodeAt(i))<55296||r>56319||i+1===s||(n=a.charCodeAt(i+1))<56320||n>57343?w?a.charAt(i):r:w?a.slice(i,i+2):n-56320+(r-55296<<10)+65536});x(x.P,"String",{codePointAt:function(e){return P(this,e)}}),r.String.codePointAt;var E=Math.max,A=Math.min,C=function(e,t){return(e=O(e))<0?E(e+t,0):A(e,t)},T=String.fromCharCode,D=String.fromCodePoint;x(x.S+x.F*(!!D&&1!=D.length),"String",{fromCodePoint:function(e){for(var t,r=arguments,n=[],a=arguments.length,i=0;a>i;){if(t=+r[i++],C(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?T(t):T(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}}),r.String.fromCodePoint;var j,M,I,R,B,N,F,q,L,H,U,z,V,G,W={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},K=function(e){return"string"==typeof e&&W.Space_Separator.test(e)},Y=function(e){return"string"==typeof e&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||"$"===e||"_"===e||W.ID_Start.test(e))},X=function(e){return"string"==typeof e&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"$"===e||"_"===e||""===e||""===e||W.ID_Continue.test(e))},J=function(e){return"string"==typeof e&&/[0-9]/.test(e)},Q=function(e){return"string"==typeof e&&/[0-9A-Fa-f]/.test(e)};function Z(){for(H="default",U="",z=!1,V=1;;){G=$();var e=te[H]();if(e)return e}}function $(){if(j[R])return String.fromCodePoint(j.codePointAt(R))}function ee(){var e=$();return"\n"===e?(B++,N=0):e?N+=e.length:N++,e&&(R+=e.length),e}var te={default:function(){switch(G){case"\t":case"\v":case"\f":case" ":case"":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void ee();case"/":return ee(),void(H="comment");case void 0:return ee(),re("eof")}if(!K(G))return te[M]();ee()},comment:function(){switch(G){case"*":return ee(),void(H="multiLineComment");case"/":return ee(),void(H="singleLineComment")}throw ce(ee())},multiLineComment:function(){switch(G){case"*":return ee(),void(H="multiLineCommentAsterisk");case void 0:throw ce(ee())}ee()},multiLineCommentAsterisk:function(){switch(G){case"*":return void ee();case"/":return ee(),void(H="default");case void 0:throw ce(ee())}ee(),H="multiLineComment"},singleLineComment:function(){switch(G){case"\n":case"\r":case"\u2028":case"\u2029":return ee(),void(H="default");case void 0:return ee(),re("eof")}ee()},value:function(){switch(G){case"{":case"[":return re("punctuator",ee());case"n":return ee(),ne("ull"),re("null",null);case"t":return ee(),ne("rue"),re("boolean",!0);case"f":return ee(),ne("alse"),re("boolean",!1);case"-":case"+":return"-"===ee()&&(V=-1),void(H="sign");case".":return U=ee(),void(H="decimalPointLeading");case"0":return U=ee(),void(H="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return U=ee(),void(H="decimalInteger");case"I":return ee(),ne("nfinity"),re("numeric",1/0);case"N":return ee(),ne("aN"),re("numeric",NaN);case'"':case"'":return z='"'===ee(),U="",void(H="string")}throw ce(ee())},identifierNameStartEscape:function(){if("u"!==G)throw ce(ee());ee();var e=ae();switch(e){case"$":case"_":break;default:if(!Y(e))throw le()}U+=e,H="identifierName"},identifierName:function(){switch(G){case"$":case"_":case"":case"":return void(U+=ee());case"\\":return ee(),void(H="identifierNameEscape")}if(!X(G))return re("identifier",U);U+=ee()},identifierNameEscape:function(){if("u"!==G)throw ce(ee());ee();var e=ae();switch(e){case"$":case"_":case"":case"":break;default:if(!X(e))throw le()}U+=e,H="identifierName"},sign:function(){switch(G){case".":return U=ee(),void(H="decimalPointLeading");case"0":return U=ee(),void(H="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return U=ee(),void(H="decimalInteger");case"I":return ee(),ne("nfinity"),re("numeric",V*(1/0));case"N":return ee(),ne("aN"),re("numeric",NaN)}throw ce(ee())},zero:function(){switch(G){case".":return U+=ee(),void(H="decimalPoint");case"e":case"E":return U+=ee(),void(H="decimalExponent");case"x":case"X":return U+=ee(),void(H="hexadecimal")}return re("numeric",0*V)},decimalInteger:function(){switch(G){case".":return U+=ee(),void(H="decimalPoint");case"e":case"E":return U+=ee(),void(H="decimalExponent")}if(!J(G))return re("numeric",V*Number(U));U+=ee()},decimalPointLeading:function(){if(J(G))return U+=ee(),void(H="decimalFraction");throw ce(ee())},decimalPoint:function(){switch(G){case"e":case"E":return U+=ee(),void(H="decimalExponent")}return J(G)?(U+=ee(),void(H="decimalFraction")):re("numeric",V*Number(U))},decimalFraction:function(){switch(G){case"e":case"E":return U+=ee(),void(H="decimalExponent")}if(!J(G))return re("numeric",V*Number(U));U+=ee()},decimalExponent:function(){switch(G){case"+":case"-":return U+=ee(),void(H="decimalExponentSign")}if(J(G))return U+=ee(),void(H="decimalExponentInteger");throw ce(ee())},decimalExponentSign:function(){if(J(G))return U+=ee(),void(H="decimalExponentInteger");throw ce(ee())},decimalExponentInteger:function(){if(!J(G))return re("numeric",V*Number(U));U+=ee()},hexadecimal:function(){if(Q(G))return U+=ee(),void(H="hexadecimalInteger");throw ce(ee())},hexadecimalInteger:function(){if(!Q(G))return re("numeric",V*Number(U));U+=ee()},string:function(){switch(G){case"\\":return ee(),void(U+=function(){switch($()){case"b":return ee(),"\b";case"f":return ee(),"\f";case"n":return ee(),"\n";case"r":return ee(),"\r";case"t":return ee(),"\t";case"v":return ee(),"\v";case"0":if(ee(),J($()))throw ce(ee());return"\0";case"x":return ee(),function(){var e="",t=$();if(!Q(t))throw ce(ee());if(e+=ee(),t=$(),!Q(t))throw ce(ee());return e+=ee(),String.fromCodePoint(parseInt(e,16))}();case"u":return ee(),ae();case"\n":case"\u2028":case"\u2029":return ee(),"";case"\r":return ee(),"\n"===$()&&ee(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw ce(ee())}return ee()}());case'"':return z?(ee(),re("string",U)):void(U+=ee());case"'":return z?void(U+=ee()):(ee(),re("string",U));case"\n":case"\r":throw ce(ee());case"\u2028":case"\u2029":!function(e){console.warn("JSON5: '"+de(e)+"' in strings is not valid ECMAScript; consider escaping")}(G);break;case void 0:throw ce(ee())}U+=ee()},start:function(){switch(G){case"{":case"[":return re("punctuator",ee())}H="value"},beforePropertyName:function(){switch(G){case"$":case"_":return U=ee(),void(H="identifierName");case"\\":return ee(),void(H="identifierNameStartEscape");case"}":return re("punctuator",ee());case'"':case"'":return z='"'===ee(),void(H="string")}if(Y(G))return U+=ee(),void(H="identifierName");throw ce(ee())},afterPropertyName:function(){if(":"===G)return re("punctuator",ee());throw ce(ee())},beforePropertyValue:function(){H="value"},afterPropertyValue:function(){switch(G){case",":case"}":return re("punctuator",ee())}throw ce(ee())},beforeArrayValue:function(){if("]"===G)return re("punctuator",ee());H="value"},afterArrayValue:function(){switch(G){case",":case"]":return re("punctuator",ee())}throw ce(ee())},end:function(){throw ce(ee())}};function re(e,t){return{type:e,value:t,line:B,column:N}}function ne(e){for(var t=0,r=e;t<r.length;t+=1){var n=r[t];if($()!==n)throw ce(ee());ee()}}function ae(){for(var e="",t=4;t-- >0;){var r=$();if(!Q(r))throw ce(ee());e+=ee()}return String.fromCodePoint(parseInt(e,16))}var ie={start:function(){if("eof"===F.type)throw ue();se()},beforePropertyName:function(){switch(F.type){case"identifier":case"string":return q=F.value,void(M="afterPropertyName");case"punctuator":return void oe();case"eof":throw ue()}},afterPropertyName:function(){if("eof"===F.type)throw ue();M="beforePropertyValue"},beforePropertyValue:function(){if("eof"===F.type)throw ue();se()},beforeArrayValue:function(){if("eof"===F.type)throw ue();"punctuator"!==F.type||"]"!==F.value?se():oe()},afterPropertyValue:function(){if("eof"===F.type)throw ue();switch(F.value){case",":return void(M="beforePropertyName");case"}":oe()}},afterArrayValue:function(){if("eof"===F.type)throw ue();switch(F.value){case",":return void(M="beforeArrayValue");case"]":oe()}},end:function(){}};function se(){var e;switch(F.type){case"punctuator":switch(F.value){case"{":e={};break;case"[":e=[]}break;case"null":case"boolean":case"numeric":case"string":e=F.value}if(void 0===L)L=e;else{var t=I[I.length-1];Array.isArray(t)?t.push(e):t[q]=e}if(null!==e&&"object"==typeof e)I.push(e),M=Array.isArray(e)?"beforeArrayValue":"beforePropertyName";else{var r=I[I.length-1];M=null==r?"end":Array.isArray(r)?"afterArrayValue":"afterPropertyValue"}}function oe(){I.pop();var e=I[I.length-1];M=null==e?"end":Array.isArray(e)?"afterArrayValue":"afterPropertyValue"}function ce(e){return he(void 0===e?"JSON5: invalid end of input at "+B+":"+N:"JSON5: invalid character '"+de(e)+"' at "+B+":"+N)}function ue(){return he("JSON5: invalid end of input at "+B+":"+N)}function le(){return he("JSON5: invalid identifier character at "+B+":"+(N-=5))}function de(e){var t={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(t[e])return t[e];if(e<" "){var r=e.charCodeAt(0).toString(16);return"\\x"+("00"+r).substring(r.length)}return e}function he(e){var t=new SyntaxError(e);return t.lineNumber=B,t.columnNumber=N,t}return{parse:function(e,t){j=String(e),M="start",I=[],R=0,B=1,N=0,F=void 0,q=void 0,L=void 0;do{F=Z(),ie[M]()}while("eof"!==F.type);return"function"==typeof t?function e(t,r,n){var a=t[r];if(null!=a&&"object"==typeof a)for(var i in a){var s=e(a,i,n);void 0===s?delete a[i]:a[i]=s}return n.call(t,r,a)}({"":L},"",t):L},stringify:function(e,t,r){var n,a,i,s=[],o="",c="";if(null==t||"object"!=typeof t||Array.isArray(t)||(r=t.space,i=t.quote,t=t.replacer),"function"==typeof t)a=t;else if(Array.isArray(t)){n=[];for(var u=0,l=t;u<l.length;u+=1){var d=l[u],h=void 0;"string"==typeof d?h=d:("number"==typeof d||d instanceof String||d instanceof Number)&&(h=String(d)),void 0!==h&&n.indexOf(h)<0&&n.push(h)}}return r instanceof Number?r=Number(r):r instanceof String&&(r=String(r)),"number"==typeof r?r>0&&(r=Math.min(10,Math.floor(r)),c="          ".substr(0,r)):"string"==typeof r&&(c=r.substr(0,10)),p("",{"":e});function p(e,t){var r=t[e];switch(null!=r&&("function"==typeof r.toJSON5?r=r.toJSON5(e):"function"==typeof r.toJSON&&(r=r.toJSON(e))),a&&(r=a.call(t,e,r)),r instanceof Number?r=Number(r):r instanceof String?r=String(r):r instanceof Boolean&&(r=r.valueOf()),r){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof r?f(r):"number"==typeof r?String(r):"object"==typeof r?Array.isArray(r)?function(e){if(s.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");s.push(e);var t=o;o+=c;for(var r,n=[],a=0;a<e.length;a++){var i=p(String(a),e);n.push(void 0!==i?i:"null")}if(0===n.length)r="[]";else if(""===c){var u=n.join(",");r="["+u+"]"}else{var l=",\n"+o,d=n.join(l);r="[\n"+o+d+",\n"+t+"]"}return s.pop(),o=t,r}(r):function(e){if(s.indexOf(e)>=0)throw TypeError("Converting circular structure to JSON5");s.push(e);var t=o;o+=c;for(var r,a,i=n||Object.keys(e),u=[],l=0,d=i;l<d.length;l+=1){var h=d[l],f=p(h,e);if(void 0!==f){var g=m(h)+":";""!==c&&(g+=" "),g+=f,u.push(g)}}if(0===u.length)r="{}";else if(""===c)a=u.join(","),r="{"+a+"}";else{var y=",\n"+o;a=u.join(y),r="{\n"+o+a+",\n"+t+"}"}return s.pop(),o=t,r}(r):void 0}function f(e){for(var t={"'":.1,'"':.2},r={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},n="",a=0;a<e.length;a++){var s=e[a];switch(s){case"'":case'"':t[s]++,n+=s;continue;case"\0":if(J(e[a+1])){n+="\\x00";continue}}if(r[s])n+=r[s];else if(s<" "){var o=s.charCodeAt(0).toString(16);n+="\\x"+("00"+o).substring(o.length)}else n+=s}var c=i||Object.keys(t).reduce((function(e,r){return t[e]<t[r]?e:r}));return c+(n=n.replace(new RegExp(c,"g"),r[c]))+c}function m(e){if(0===e.length)return f(e);var t=String.fromCodePoint(e.codePointAt(0));if(!Y(t))return f(e);for(var r=t.length;r<e.length;r++)if(!X(String.fromCodePoint(e.codePointAt(r))))return f(e);return e}}}}()},function(e,t,r){"use strict";const n=r(53),a=/^\.\.?[/\\]/;function i(e){return n.posix.isAbsolute(e)||n.win32.isAbsolute(e)}e.exports=function(e,t){const r=t.split("!"),s=e.context||e.options&&e.options.context;return JSON.stringify(r.map(e=>{const t=e.match(/^(.*?)(\?.*)/),r=t?t[2]:"";let o=t?t[1]:e;if(i(o)&&s){if(o=n.relative(s,o),i(o))return o+r;!1===(c=o,a.test(c))&&(o="./"+o)}var c;return o.replace(/\\/g,"/")+r}).join("!"))}},function(e,t,r){"use strict";e.exports=function(e){return e.remainingRequest?e.remainingRequest:e.loaders.slice(e.loaderIndex+1).map(e=>e.request).concat([e.resource]).join("!")}},function(e,t,r){"use strict";e.exports=function(e){return e.currentRequest?e.currentRequest:e.loaders.slice(e.loaderIndex).map(e=>e.request).concat([e.resource]).join("!")}},function(e,t,r){"use strict";const n=r(53);e.exports=function(e,t){return!(/^[a-z][a-z0-9+.-]*:/i.test(e)&&!n.win32.isAbsolute(e))&&(!/^\/\//.test(e)&&(!/^[{}[\]#*;,'$%&(=?`^<>]/.test(e)&&(void 0!==t&&!1!==t||!/^\//.test(e))))}},function(e,t,r){"use strict";const n=/^[A-Z]:[/\\]|^\\\\/i;e.exports=function(e,t){if(""===e)return"";const r=/^[^?]*~/;let a;if(n.test(e))a=e;else if(void 0!==t&&!1!==t&&/^\//.test(e))switch(typeof t){case"string":a=r.test(t)?t.replace(/([^~/])$/,"$1/")+e.slice(1):t+e;break;case"boolean":a=e;break;default:throw new Error("Unexpected parameters to loader-utils 'urlToRequest': url = "+e+", root = "+t+".")}else a=/^\.\.?\//.test(e)?e:"./"+e;return r.test(a)&&(a=a.replace(r,"")),a}},function(e,t,r){"use strict";e.exports=function e(t){try{return'"'===t[0]?JSON.parse(t):"'"===t[0]&&"'"===t.substr(t.length-1)?e(t.replace(/\\.|"/g,e=>'"'===e?'\\"':e).replace(/^'|'$/g,'"')):JSON.parse('"'+t+'"')}catch(e){return t}}},function(e,t,r){"use strict";(function(t){const n=r(992),a=new WebAssembly.Module(t.from("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","base64"));e.exports=n.bind(null,a,[],64,32)}).call(this,r(11).Buffer)},function(e,t,r){"use strict";(function(t){const r=-4&Math.floor(16368);class n{constructor(e,r,n,a){const i=e.exports;i.init(),this.exports=i,this.mem=t.from(i.memory.buffer,0,65536),this.buffered=0,this.instancesPool=r,this.chunkSize=n,this.digestSize=a}reset(){this.buffered=0,this.exports.init()}update(e,t){if("string"==typeof e){for(;e.length>r;)this._updateWithShortString(e.slice(0,r),t),e=e.slice(r);return this._updateWithShortString(e,t),this}return this._updateWithBuffer(e),this}_updateWithShortString(e,t){const{exports:r,buffered:n,mem:a,chunkSize:i}=this;let s;if(e.length<70)if(t&&"utf-8"!==t&&"utf8"!==t)if("latin1"===t){s=n;for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);a[s++]=r}}else s=n+a.write(e,n,t);else{s=n;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(n<128)a[s++]=n;else{if(!(n<2048)){s+=a.write(e.slice(s),s,t);break}a[s]=n>>6|192,a[s+1]=63&n|128,s+=2}}}else s=n+a.write(e,n,t);if(s<i)this.buffered=s;else{const e=s&~(this.chunkSize-1);r.update(e);const t=s-e;this.buffered=t,t>0&&a.copyWithin(0,e,s)}}_updateWithBuffer(e){const{exports:t,buffered:r,mem:n}=this,a=e.length;if(r+a<this.chunkSize)e.copy(n,r,0,a),this.buffered+=a;else{const i=r+a&~(this.chunkSize-1);if(i>65536){let a=65536-r;e.copy(n,r,0,a),t.update(65536);const s=i-r-65536;for(;a<s;)e.copy(n,0,a,a+65536),t.update(65536),a+=65536;e.copy(n,0,a,i-r),t.update(i-r-a)}else e.copy(n,r,0,i-r),t.update(i);const s=a+r-i;this.buffered=s,s>0&&e.copy(n,0,a-s,a)}}digest(e){const{exports:r,buffered:n,mem:a,digestSize:i}=this;r.final(n),this.instancesPool.push(this);const s=a.toString("latin1",0,i);return"hex"===e?s:"binary"!==e&&e?t.from(s,"hex").toString(e):t.from(s,"hex")}}e.exports=(e,t,r,a)=>{if(t.length>0){const e=t.pop();return e.reset(),e}return new n(new WebAssembly.Instance(e),t,r,a)},e.exports.MAX_SHORT_STRING=r}).call(this,r(11).Buffer)},function(e,t,r){"use strict";const n=r(53),a=r(994),i=r(465),s=/[\uD800-\uDFFF]./,o=a.filter(e=>s.test(e)),c={};e.exports=function(e,t,r){let a;const s=e.resourceQuery&&e.resourceQuery.length>1;a="function"==typeof t?t(e.resourcePath,s?e.resourceQuery:void 0):t||"[hash].[ext]";const u=r.context,l=r.content,d=r.regExp;let h="bin",p="file",f="",m="",g="";if(e.resourcePath){const t=n.parse(e.resourcePath);let r=e.resourcePath;t.ext&&(h=t.ext.substr(1)),t.dir&&(p=t.name,r=t.dir+n.sep),void 0!==u?(f=n.relative(u,r+"_").replace(/\\/g,"/").replace(/\.\.(\/)?/g,"_$1"),f=f.substr(0,f.length-1)):f=r.replace(/\\/g,"/").replace(/\.\.(\/)?/g,"_$1"),1===f.length?f="":f.length>1&&(m=n.basename(f))}if(e.resourceQuery&&e.resourceQuery.length>1){g=e.resourceQuery;const t=g.indexOf("#");t>=0&&(g=g.substr(0,t))}let y=a;if(l&&(y=y.replace(/\[(?:([^:\]]+):)?(?:hash|contenthash)(?::([a-z]+\d*))?(?::(\d+))?\]/gi,(e,t,r,n)=>i(l,t,r,parseInt(n,10))).replace(/\[emoji(?::(\d+))?\]/gi,(e,t)=>function(e,t){if(c[e])return c[e];t=t||1;const r=[];do{if(!o.length)throw new Error("Ran out of emoji");const e=Math.floor(Math.random()*o.length);r.push(o[e]),o.splice(e,1)}while(--t>0);const n=r.join("");return c[e]=n,n}(l,parseInt(t,10)))),y=y.replace(/\[ext\]/gi,()=>h).replace(/\[name\]/gi,()=>p).replace(/\[path\]/gi,()=>f).replace(/\[folder\]/gi,()=>m).replace(/\[query\]/gi,()=>g),d&&e.resourcePath){const t=e.resourcePath.match(new RegExp(d));t&&t.forEach((e,t)=>{y=y.replace(new RegExp("\\["+t+"\\]","ig"),e)})}return"object"==typeof e.options&&"function"==typeof e.options.customInterpolateName&&(y=e.options.customInterpolateName.call(e,y,t,r)),y}},function(e,t){e.exports=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","#","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","*","","","","","","","","0","","","1","2","","","3","4","5","6","7","8","9","","",""]},function(e,t,r){"use strict";const{validate:n,ValidationError:a}=r(996);e.exports={validate:n,ValidationError:a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate=function(e,t,r){let n=[];Array.isArray(t)?(n=Array.from(t,t=>u(e,t)),n.forEach((e,t)=>{const r=e=>{e.dataPath=`[${t}]${e.dataPath}`,e.children&&e.children.forEach(r)};e.forEach(r)}),n=n.reduce((e,t)=>(e.push(...t),e),[])):n=u(e,t);if(n.length>0)throw new a.default(n,e,r)},Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return a.default}});var n=i(r(997)),a=i(r(998));function i(e){return e&&e.__esModule?e:{default:e}}const s=r(1001),o=r(1035),c=new s({allErrors:!0,verbose:!0,$data:!0});function u(e,t){const r=c.compile(e);return r(t)?[]:r.errors?function(e){let t=[];for(const r of e){const{dataPath:e}=r;let n=[];t=t.filter(t=>!t.dataPath.includes(e)||(t.children&&(n=n.concat(t.children.slice(0))),t.children=void 0,n.push(t),!1)),n.length&&(r.children=n),t.push(r)}return t}(r.errors):[]}o(c,["instanceof","formatMinimum","formatMaximum","patternRequired"]),(0,n.default)(c)},function(e,t,r){"use strict";function n(e,t,r){return{dataPath:void 0,schemaPath:void 0,keyword:"absolutePath",params:{absolutePath:r},message:e,parentSchema:t}}function a(e,t,r){return n(e?`The provided value ${JSON.stringify(r)} is not an absolute path!`:`A relative path is expected. However, the provided value ${JSON.stringify(r)} is an absolute path!`,t,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){return e.addKeyword("absolutePath",{errors:!0,type:"string",compile(e,t){const r=i=>{let s=!0;i.includes("!")&&(r.errors=[n(`The provided value ${JSON.stringify(i)} contains exclamation mark (!) which is not allowed because it's reserved for loader syntax.`,t,i)],s=!1);return e===/^(?:[A-Za-z]:(\\|\/)|\\\\|\/)/.test(i)||(r.errors=[a(e,t,i)],s=!1),s};return r.errors=[],r}}),e};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const{stringHints:n,numberHints:a}=r(999),i={type:1,not:1,oneOf:1,anyOf:1,if:1,enum:1,const:1,instanceof:1,required:2,pattern:2,patternRequired:2,format:2,formatMinimum:2,formatMaximum:2,minimum:2,exclusiveMinimum:2,maximum:2,exclusiveMaximum:2,multipleOf:2,uniqueItems:2,contains:2,minLength:2,maxLength:2,minItems:2,maxItems:2,minProperties:2,maxProperties:2,dependencies:2,propertyNames:2,additionalItems:2,additionalProperties:2,absolutePath:2};function s(e,t){const r=e.reduce((e,r)=>Math.max(e,t(r)),0);return e.filter(e=>t(e)===r)}function o(e,t){let r=e.length-1;const n=t=>0!==e[r].schemaPath.indexOf(t);for(;r>-1&&!t.every(n);)if("anyOf"===e[r].keyword||"oneOf"===e[r].keyword){const t=c(e[r]),n=o(e.slice(0,r),t.concat(e[r].schemaPath));r=n-1}else r-=1;return r+1}function c(e){const{schema:t}=e;return Array.isArray(t)?t.map(({$ref:e})=>e).filter(e=>e):[]}function u(e,t){return e.replace(/\n(?!$)/g,"\n"+t)}function l(e){return!!e.not}function d(e){const t=function e(t){return l(t)?e(t.not):t}(e);return p(t)||f(t)||m(t)||v(t)||g(t)}function h(e){return"object"==typeof e&&null!==e}function p(e){return"number"===e.type||void 0!==e.minimum||void 0!==e.exclusiveMinimum||void 0!==e.maximum||void 0!==e.exclusiveMaximum||void 0!==e.multipleOf}function f(e){return"integer"===e.type||void 0!==e.minimum||void 0!==e.exclusiveMinimum||void 0!==e.maximum||void 0!==e.exclusiveMaximum||void 0!==e.multipleOf}function m(e){return"string"===e.type||void 0!==e.minLength||void 0!==e.maxLength||void 0!==e.pattern||void 0!==e.format||void 0!==e.formatMinimum||void 0!==e.formatMaximum}function g(e){return"boolean"===e.type}function y(e){return"array"===e.type||"number"==typeof e.minItems||"number"==typeof e.maxItems||void 0!==e.uniqueItems||void 0!==e.items||void 0!==e.additionalItems||void 0!==e.contains}function b(e){return"object"===e.type||void 0!==e.minProperties||void 0!==e.maxProperties||void 0!==e.required||void 0!==e.properties||void 0!==e.patternProperties||void 0!==e.additionalProperties||void 0!==e.dependencies||void 0!==e.propertyNames||void 0!==e.patternRequired}function v(e){return"null"===e.type}function _(e){if(!e)return"";if(!e.type){if(p(e)||f(e))return" | should be any non-number";if(m(e))return" | should be any non-string";if(y(e))return" | should be any non-array";if(b(e))return" | should be any non-object"}return""}function w(e){return e.length>0?`(${e.join(", ")})`:""}function x(e,t){return p(e)||f(e)?a(e,t):m(e)?n(e,t):[]}class k extends Error{constructor(e,t,r={}){let n,a;if(super(),this.name="ValidationError",this.errors=e,this.schema=t,t.title&&(!r.name||!r.baseDataPath)){const e=t.title.match(/^(.+) (.+)$/);e&&(r.name||([,n]=e),r.baseDataPath||([,,a]=e))}this.headerName=r.name||n||"Object",this.baseDataPath=r.baseDataPath||a||"configuration",this.postFormatter=r.postFormatter||null;const i=`Invalid ${this.baseDataPath} object. ${this.headerName} has been initialized using ${s=this.baseDataPath,/^[aeiou]/i.test(s)?"an":"a"} ${this.baseDataPath} object that does not match the API schema.\n`;var s;this.message=`${i}${this.formatValidationErrors(e)}`,Error.captureStackTrace(this,this.constructor)}getSchemaPart(e){const t=e.split("/");let r=this.schema;for(let e=1;e<t.length;e++){const n=r[t[e]];if(!n)break;r=n}return r}formatSchema(e,t=!0,r=[]){let n=t;const a=(t,a)=>a?r.includes(t)?"(recursive)":this.formatSchema(t,n,r.concat(e)):this.formatSchema(t,n,r);if(l(e)&&!b(e)){if(d(e.not))return n=!t,a(e.not);const r=!e.not.not,i=t?"":"non ";return n=!t,r?i+a(e.not):a(e.not)}if(e.instanceof){const{instanceof:t}=e;return(Array.isArray(t)?t:[t]).map(e=>"Function"===e?"function":e).join(" | ")}if(e.enum)return e.enum.map(e=>JSON.stringify(e)).join(" | ");if(void 0!==e.const)return JSON.stringify(e.const);if(e.oneOf)return e.oneOf.map(e=>a(e,!0)).join(" | ");if(e.anyOf)return e.anyOf.map(e=>a(e,!0)).join(" | ");if(e.allOf)return e.allOf.map(e=>a(e,!0)).join(" & ");if(e.if){const{if:t,then:r,else:n}=e;return`${t?"if "+a(t):""}${r?" then "+a(r):""}${n?" else "+a(n):""}`}if(e.$ref)return a(this.getSchemaPart(e.$ref),!0);if(p(e)||f(e)){const[r,...n]=x(e,t),a=`${r}${n.length>0?" "+w(n):""}`;return t?a:n.length>0?`non-${r} | ${a}`:"non-"+r}if(m(e)){const[r,...n]=x(e,t),a=`${r}${n.length>0?" "+w(n):""}`;return t?a:"string"===a?"non-string":"non-string | "+a}if(g(e))return(t?"":"non-")+"boolean";if(y(e)){n=!0;const t=[];"number"==typeof e.minItems&&t.push(`should not have fewer than ${e.minItems} item${e.minItems>1?"s":""}`),"number"==typeof e.maxItems&&t.push(`should not have more than ${e.maxItems} item${e.maxItems>1?"s":""}`),e.uniqueItems&&t.push("should not have duplicate items");const r=void 0===e.additionalItems||Boolean(e.additionalItems);let i="";return e.items?Array.isArray(e.items)&&e.items.length>0?(i=""+e.items.map(e=>a(e)).join(", "),r&&e.additionalItems&&h(e.additionalItems)&&Object.keys(e.additionalItems).length>0&&t.push("additional items should be "+a(e.additionalItems))):i=e.items&&Object.keys(e.items).length>0?""+a(e.items):"any":i="any",e.contains&&Object.keys(e.contains).length>0&&t.push(`should contains at least one ${this.formatSchema(e.contains)} item`),`[${i}${r?", ...":""}]${t.length>0?` (${t.join(", ")})`:""}`}if(b(e)){n=!0;const t=[];if("number"==typeof e.minProperties&&t.push(`should not have fewer than ${e.minProperties} ${e.minProperties>1?"properties":"property"}`),"number"==typeof e.maxProperties&&t.push(`should not have more than ${e.maxProperties} ${e.minProperties&&e.minProperties>1?"properties":"property"}`),e.patternProperties&&Object.keys(e.patternProperties).length>0){const r=Object.keys(e.patternProperties);t.push(`additional property names should match pattern${r.length>1?"s":""} ${r.map(e=>JSON.stringify(e)).join(" | ")}`)}const r=e.properties?Object.keys(e.properties):[],i=e.required?e.required:[],s=[...new Set([].concat(i).concat(r))].map(e=>`${e}${i.includes(e)?"":"?"}`).concat(void 0===e.additionalProperties||Boolean(e.additionalProperties)?e.additionalProperties&&h(e.additionalProperties)?["<key>: "+a(e.additionalProperties)]:[""]:[]).join(", "),{dependencies:o,propertyNames:c,patternRequired:u}=e;return o&&Object.keys(o).forEach(e=>{const r=o[e];Array.isArray(r)?t.push(`should have ${r.length>1?"properties":"property"} ${r.map(e=>`'${e}'`).join(", ")} when property '${e}' is present`):t.push(`should be valid according to the schema ${a(r)} when property '${e}' is present`)}),c&&Object.keys(c).length>0&&t.push("each property name should match format "+JSON.stringify(e.propertyNames.format)),u&&u.length>0&&t.push("should have property matching pattern "+u.map(e=>JSON.stringify(e))),`object {${s?` ${s} `:""}}${t.length>0?` (${t.join(", ")})`:""}`}return v(e)?(t?"":"non-")+"null":Array.isArray(e.type)?""+e.type.join(" | "):JSON.stringify(e,null,2)}getSchemaPartText(e,t,r=!1,n=!0){if(!e)return"";if(Array.isArray(t))for(let r=0;r<t.length;r++){const n=e[t[r]];if(!n)break;e=n}for(;e.$ref;)e=this.getSchemaPart(e.$ref);let a=`${this.formatSchema(e,n)}${r?".":""}`;return e.description&&(a+="\n-> "+e.description),e.link&&(a+="\n-> Read more at "+e.link),a}getSchemaPartDescription(e){if(!e)return"";for(;e.$ref;)e=this.getSchemaPart(e.$ref);let t="";return e.description&&(t+="\n-> "+e.description),e.link&&(t+="\n-> Read more at "+e.link),t}formatValidationError(e){const{keyword:t,dataPath:r}=e,n=`${this.baseDataPath}${r}`;switch(t){case"type":{const{parentSchema:t,params:r}=e;switch(r.type){case"number":return`${n} should be a ${this.getSchemaPartText(t,!1,!0)}`;case"integer":return`${n} should be an ${this.getSchemaPartText(t,!1,!0)}`;case"string":case"boolean":return`${n} should be a ${this.getSchemaPartText(t,!1,!0)}`;case"array":return`${n} should be an array:\n${this.getSchemaPartText(t)}`;case"object":return`${n} should be an object:\n${this.getSchemaPartText(t)}`;case"null":return`${n} should be a ${this.getSchemaPartText(t,!1,!0)}`;default:return`${n} should be:\n${this.getSchemaPartText(t)}`}}case"instanceof":{const{parentSchema:t}=e;return`${n} should be an instance of ${this.getSchemaPartText(t,!1,!0)}`}case"pattern":{const{params:t,parentSchema:r}=e,{pattern:a}=t;return`${n} should match pattern ${JSON.stringify(a)}${_(r)}.${this.getSchemaPartDescription(r)}`}case"format":{const{params:t,parentSchema:r}=e,{format:a}=t;return`${n} should match format ${JSON.stringify(a)}${_(r)}.${this.getSchemaPartDescription(r)}`}case"formatMinimum":case"formatMaximum":{const{params:t,parentSchema:r}=e,{comparison:a,limit:i}=t;return`${n} should be ${a} ${JSON.stringify(i)}${_(r)}.${this.getSchemaPartDescription(r)}`}case"minimum":case"maximum":case"exclusiveMinimum":case"exclusiveMaximum":{const{parentSchema:t,params:r}=e,{comparison:a,limit:i}=r,[,...s]=x(t,!0);return 0===s.length&&s.push(`should be ${a} ${i}`),`${n} ${s.join(" ")}${_(t)}.${this.getSchemaPartDescription(t)}`}case"multipleOf":{const{params:t,parentSchema:r}=e,{multipleOf:a}=t;return`${n} should be multiple of ${a}${_(r)}.${this.getSchemaPartDescription(r)}`}case"patternRequired":{const{params:t,parentSchema:r}=e,{missingPattern:a}=t;return`${n} should have property matching pattern ${JSON.stringify(a)}${_(r)}.${this.getSchemaPartDescription(r)}`}case"minLength":{const{params:t,parentSchema:r}=e,{limit:a}=t;if(1===a)return`${n} should be a non-empty string${_(r)}.${this.getSchemaPartDescription(r)}`;const i=a-1;return`${n} should be longer than ${i} character${i>1?"s":""}${_(r)}.${this.getSchemaPartDescription(r)}`}case"minItems":{const{params:t,parentSchema:r}=e,{limit:a}=t;return 1===a?`${n} should be a non-empty array${_(r)}.${this.getSchemaPartDescription(r)}`:`${n} should not have fewer than ${a} items${_(r)}.${this.getSchemaPartDescription(r)}`}case"minProperties":{const{params:t,parentSchema:r}=e,{limit:a}=t;return 1===a?`${n} should be a non-empty object${_(r)}.${this.getSchemaPartDescription(r)}`:`${n} should not have fewer than ${a} properties${_(r)}.${this.getSchemaPartDescription(r)}`}case"maxLength":{const{params:t,parentSchema:r}=e,{limit:a}=t,i=a+1;return`${n} should be shorter than ${i} character${i>1?"s":""}${_(r)}.${this.getSchemaPartDescription(r)}`}case"maxItems":{const{params:t,parentSchema:r}=e,{limit:a}=t;return`${n} should not have more than ${a} items${_(r)}.${this.getSchemaPartDescription(r)}`}case"maxProperties":{const{params:t,parentSchema:r}=e,{limit:a}=t;return`${n} should not have more than ${a} properties${_(r)}.${this.getSchemaPartDescription(r)}`}case"uniqueItems":{const{params:t,parentSchema:r}=e,{i:a}=t;return`${n} should not contain the item '${e.data[a]}' twice${_(r)}.${this.getSchemaPartDescription(r)}`}case"additionalItems":{const{params:t,parentSchema:r}=e,{limit:a}=t;return`${n} should not have more than ${a} items${_(r)}. These items are valid:\n${this.getSchemaPartText(r)}`}case"contains":{const{parentSchema:t}=e;return`${n} should contains at least one ${this.getSchemaPartText(t,["contains"])} item${_(t)}.`}case"required":{const{parentSchema:t,params:r}=e,a=r.missingProperty.replace(/^\./,""),i=t&&Boolean(t.properties&&t.properties[a]);return`${n} misses the property '${a}'${_(t)}.${i?" Should be:\n"+this.getSchemaPartText(t,["properties",a]):this.getSchemaPartDescription(t)}`}case"additionalProperties":{const{params:t,parentSchema:r}=e,{additionalProperty:a}=t;return`${n} has an unknown property '${a}'${_(r)}. These properties are valid:\n${this.getSchemaPartText(r)}`}case"dependencies":{const{params:t,parentSchema:r}=e,{property:a,deps:i}=t;return`${n} should have properties ${i.split(",").map(e=>`'${e.trim()}'`).join(", ")} when property '${a}' is present${_(r)}.${this.getSchemaPartDescription(r)}`}case"propertyNames":{const{params:t,parentSchema:r,schema:a}=e,{propertyName:i}=t;return`${n} property name '${i}' is invalid${_(r)}. Property names should be match format ${JSON.stringify(a.format)}.${this.getSchemaPartDescription(r)}`}case"enum":{const{parentSchema:t}=e;return t&&t.enum&&1===t.enum.length?`${n} should be ${this.getSchemaPartText(t,!1,!0)}`:`${n} should be one of these:\n${this.getSchemaPartText(t)}`}case"const":{const{parentSchema:t}=e;return`${n} should be equal to constant ${this.getSchemaPartText(t,!1,!0)}`}case"not":{const t=b(e.parentSchema)?"\n"+this.getSchemaPartText(e.parentSchema):"",r=this.getSchemaPartText(e.schema,!1,!1,!1);if(d(e.schema))return`${n} should be any ${r}${t}.`;const{schema:a,parentSchema:i}=e;return`${n} should not be ${this.getSchemaPartText(a,!1,!0)}${i&&b(i)?"\n"+this.getSchemaPartText(i):""}`}case"oneOf":case"anyOf":{const{parentSchema:t,children:r}=e;if(r&&r.length>0){if(1===e.schema.length){const e=r[r.length-1],n=r.slice(0,r.length-1);return this.formatValidationError(Object.assign({},e,{children:n,parentSchema:Object.assign({},t,e.parentSchema)}))}let a=function(e){let t=e;return t=s(t,e=>e.dataPath?e.dataPath.length:0),t=s(t,e=>i[e.keyword]||2),t}(r);return 1===a.length?this.formatValidationError(a[0]):(a=function(e){const t=[];let r=e.length-1;for(;r>0;){const n=e[r];if("anyOf"===n.keyword||"oneOf"===n.keyword){const a=c(n),i=o(e.slice(0,r),a.concat(n.schemaPath));i!==r?(t.push(Object.assign({},n,{children:e.slice(i,r)})),r=i):t.push(n)}else t.push(n);r-=1}return 0===r&&t.push(e[r]),t.reverse()}(a),`${n} should be one of these:\n${this.getSchemaPartText(t)}\nDetails:\n${a.map(e=>" * "+u(this.formatValidationError(e),"   ")).join("\n")}`)}return`${n} should be one of these:\n${this.getSchemaPartText(t)}`}case"if":{const{params:t,parentSchema:r}=e,{failingKeyword:a}=t;return`${n} should match "${a}" schema:\n${this.getSchemaPartText(r,[a])}`}case"absolutePath":{const{message:t,parentSchema:r}=e;return`${n}: ${t}${this.getSchemaPartDescription(r)}`}default:{const{message:t,parentSchema:r}=e;return`${n} ${t} (${JSON.stringify(e,null,2)}).\n${this.getSchemaPartText(r,!1)}`}}}formatValidationErrors(e){return e.map(e=>{let t=this.formatValidationError(e);return this.postFormatter&&(t=this.postFormatter(t,e))," - "+u(t,"   ")}).join("\n")}}var S=k;t.default=S},function(e,t,r){"use strict";const n=r(1e3);e.exports.stringHints=function(e,t){const r=[];let n="string";const a={...e};if(!t){const e=a.minLength,t=a.formatMinimum,r=a.formatExclusiveMaximum;a.minLength=a.maxLength,a.maxLength=e,a.formatMinimum=a.formatMaximum,a.formatMaximum=t,a.formatExclusiveMaximum=!a.formatExclusiveMinimum,a.formatExclusiveMinimum=!r}if("number"==typeof a.minLength)if(1===a.minLength)n="non-empty string";else{const e=Math.max(a.minLength-1,0);r.push(`should be longer than ${e} character${e>1?"s":""}`)}if("number"==typeof a.maxLength)if(0===a.maxLength)n="empty string";else{const e=a.maxLength+1;r.push(`should be shorter than ${e} character${e>1?"s":""}`)}return a.pattern&&r.push(`should${t?"":" not"} match pattern ${JSON.stringify(a.pattern)}`),a.format&&r.push(`should${t?"":" not"} match format ${JSON.stringify(a.format)}`),a.formatMinimum&&r.push(`should be ${a.formatExclusiveMinimum?">":">="} ${JSON.stringify(a.formatMinimum)}`),a.formatMaximum&&r.push(`should be ${a.formatExclusiveMaximum?"<":"<="} ${JSON.stringify(a.formatMaximum)}`),[n].concat(r)},e.exports.numberHints=function(e,t){const r=["integer"===e.type?"integer":"number"],a=new n;"number"==typeof e.minimum&&a.left(e.minimum),"number"==typeof e.exclusiveMinimum&&a.left(e.exclusiveMinimum,!0),"number"==typeof e.maximum&&a.right(e.maximum),"number"==typeof e.exclusiveMaximum&&a.right(e.exclusiveMaximum,!0);const i=a.format(t);return i&&r.push(i),"number"==typeof e.multipleOf&&r.push(`should${t?"":" not"} be multiple of ${e.multipleOf}`),r}},function(e,t,r){"use strict";class n{static getOperator(e,t){return"left"===e?t?">":">=":t?"<":"<="}static formatRight(e,t,r){return!1===t?n.formatLeft(e,!t,!r):`should be ${n.getOperator("right",r)} ${e}`}static formatLeft(e,t,r){return!1===t?n.formatRight(e,!t,!r):`should be ${n.getOperator("left",r)} ${e}`}static formatRange(e,t,r,a,i){let s="should be";return s+=` ${n.getOperator(i?"left":"right",i?r:!r)} ${e} `,s+=i?"and":"or",s+=` ${n.getOperator(i?"right":"left",i?a:!a)} ${t}`,s}static getRangeValue(e,t){let r=t?1/0:-1/0,n=-1;const a=t?([e])=>e<=r:([e])=>e>=r;for(let t=0;t<e.length;t++)a(e[t])&&([r]=e[t],n=t);return n>-1?e[n]:[1/0,!0]}constructor(){this._left=[],this._right=[]}left(e,t=!1){this._left.push([e,t])}right(e,t=!1){this._right.push([e,t])}format(e=!0){const[t,r]=n.getRangeValue(this._left,e),[a,i]=n.getRangeValue(this._right,!e);if(!Number.isFinite(t)&&!Number.isFinite(a))return"";const s=r?t+1:t;return s===(i?a-1:a)?`should be ${e?"":"!"}= ${s}`:Number.isFinite(t)&&!Number.isFinite(a)?n.formatLeft(t,e,r):!Number.isFinite(t)&&Number.isFinite(a)?n.formatRight(a,e,i):n.formatRange(t,a,r,i,e)}}e.exports=n},function(e,t,r){"use strict";var n=r(1002),a=r(242),i=r(1006),s=r(466),o=r(467),c=r(1007),u=r(1008),l=r(1029),d=r(107);e.exports=y,y.prototype.validate=function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var n=this._addSchema(e);r=n.validate||this._compile(n)}var a=r(t);!0!==r.$async&&(this.errors=r.errors);return a},y.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},y.prototype.addSchema=function(e,t,r,n){if(Array.isArray(e)){for(var i=0;i<e.length;i++)this.addSchema(e[i],void 0,r,n);return this}var s=this._getId(e);if(void 0!==s&&"string"!=typeof s)throw new Error("schema id must be string");return k(this,t=a.normalizeId(t||s)),this._schemas[t]=this._addSchema(e,r,n,!0),this},y.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},y.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(f)?f:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(r,e);if(!n&&t){var a="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(a);this.logger.error(a)}return n},y.prototype.getSchema=function(e){var t=b(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var r=a.schema.call(e,{schema:{}},t);if(r){var i=r.schema,o=r.root,c=r.baseId,u=n.call(e,i,o,void 0,c);return e._fragments[t]=new s({ref:t,fragment:!0,schema:i,root:o,baseId:c,validate:u}),u}}(this,e)}},y.prototype.removeSchema=function(e){if(e instanceof RegExp)return v(this,this._schemas,e),v(this,this._refs,e),this;switch(typeof e){case"undefined":return v(this,this._schemas),v(this,this._refs),this._cache.clear(),this;case"string":var t=b(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,n=r?r(e):e;this._cache.del(n);var i=this._getId(e);i&&(i=a.normalizeId(i),delete this._schemas[i],delete this._refs[i])}return this},y.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},y.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,n=void 0===t.dataVar?"data":t.dataVar,a="",i=0;i<e.length;i++){var s=e[i];s&&(a+=n+s.dataPath+" "+s.message+r)}return a.slice(0,-r.length)},y.prototype._addSchema=function(e,t,r,n){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var i=this._opts.serialize,o=i?i(e):e,c=this._cache.get(o);if(c)return c;n=n||!1!==this._opts.addUsedSchema;var u=a.normalizeId(this._getId(e));u&&n&&k(this,u);var l,d=!1!==this._opts.validateSchema&&!t;d&&!(l=u&&u==a.normalizeId(e.$schema))&&this.validateSchema(e,!0);var h=a.ids.call(this,e),p=new s({id:u,schema:e,localRefs:h,cacheKey:o,meta:r});"#"!=u[0]&&n&&(this._refs[u]=p);this._cache.put(o,p),d&&l&&this.validateSchema(e,!0);return p},y.prototype._compile=function(e,t){if(e.compiling)return e.validate=i,i.schema=e.schema,i.errors=null,i.root=t||i,!0===e.schema.$async&&(i.$async=!0),i;var r,a;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{a=n.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=a,e.refs=a.refs,e.refVal=a.refVal,e.root=a.root,a;function i(){var t=e.validate,r=t.apply(this,arguments);return i.errors=t.errors,r}},y.prototype.compileAsync=r(1030);var h=r(1031);y.prototype.addKeyword=h.add,y.prototype.getKeyword=h.get,y.prototype.removeKeyword=h.remove,y.prototype.validateKeyword=h.validate;var p=r(244);y.ValidationError=p.Validation,y.MissingRefError=p.MissingRef,y.$dataMetaSchema=l;var f="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],g=["/properties"];function y(e){if(!(this instanceof y))return new y(e);e=this._opts=d.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:S,warn:S,error:S};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=c(e.format),this._cache=e.cache||new i,this._loadingSchemas={},this._compilations=[],this.RULES=u(),this._getId=function(e){switch(e.schemaId){case"auto":return x;case"id":return _;default:return w}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=o),this._metaOpts=function(e){for(var t=d.copy(e._opts),r=0;r<m.length;r++)delete t[m[r]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}(this),function(e){var t;e._opts.$data&&(t=r(1034),e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var n=r(473);e._opts.$data&&(n=l(n,g));e.addMetaSchema(n,f,!0),e._refs["http://json-schema.org/schema"]=f}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function b(e,t){return t=a.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function v(e,t,r){for(var n in t){var a=t[n];a.meta||r&&!r.test(n)||(e._cache.del(a.cacheKey),delete t[n])}}function _(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function w(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function x(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function k(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function S(){}},function(e,t,r){"use strict";var n=r(242),a=r(107),i=r(244),s=r(467),o=r(468),c=a.ucs2length,u=r(243),l=i.Validation;function d(e,t,r){var n=p.call(this,e,t,r);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:r},{index:n,compiling:!1})}function h(e,t,r){var n=p.call(this,e,t,r);n>=0&&this._compilations.splice(n,1)}function p(e,t,r){for(var n=0;n<this._compilations.length;n++){var a=this._compilations[n];if(a.schema==e&&a.root==t&&a.baseId==r)return n}return-1}function f(e,t){return"var pattern"+e+" = new RegExp("+a.toQuotedString(t[e])+");"}function m(e){return"var default"+e+" = defaults["+e+"];"}function g(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function y(e){return"var customRule"+e+" = customRules["+e+"];"}function b(e,t){if(!e.length)return"";for(var r="",n=0;n<e.length;n++)r+=t(n,e);return r}e.exports=function e(t,r,p,v){var _=this,w=this._opts,x=[void 0],k={},S=[],O={},P=[],E={},A=[];r=r||{schema:t,refVal:x,refs:k};var C=d.call(this,t,r,v),T=this._compilations[C.index];if(C.compiling)return T.callValidate=function e(){var t=T.validate,r=t.apply(this,arguments);return e.errors=t.errors,r};var D=this._formats,j=this.RULES;try{var M=R(t,r,p,v);T.validate=M;var I=T.callValidate;return I&&(I.schema=M.schema,I.errors=null,I.refs=M.refs,I.refVal=M.refVal,I.root=M.root,I.$async=M.$async,w.sourceCode&&(I.source=M.source)),M}finally{h.call(this,t,r,v)}function R(t,s,d,h){var p=!s||s&&s.schema==t;if(s.schema!=r.schema)return e.call(_,t,s,d,h);var v,O=!0===t.$async,E=o({isTop:!0,schema:t,isRoot:p,baseId:h,root:s,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:i.MissingRef,RULES:j,validate:o,util:a,resolve:n,resolveRef:B,usePattern:q,useDefault:L,useCustomRule:H,opts:w,formats:D,logger:_.logger,self:_});E=b(x,g)+b(S,f)+b(P,m)+b(A,y)+E,w.processCode&&(E=w.processCode(E,t));try{v=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",E)(_,j,D,r,x,P,A,u,c,l),x[0]=v}catch(e){throw _.logger.error("Error compiling schema, function code:",E),e}return v.schema=t,v.errors=null,v.refs=k,v.refVal=x,v.root=p?v:s,O&&(v.$async=!0),!0===w.sourceCode&&(v.source={code:E,patterns:S,defaults:P}),v}function B(t,a,i){a=n.url(t,a);var s,o,c=k[a];if(void 0!==c)return F(s=x[c],o="refVal["+c+"]");if(!i&&r.refs){var u=r.refs[a];if(void 0!==u)return F(s=r.refVal[u],o=N(a,s))}o=N(a);var l=n.call(_,R,r,a);if(void 0===l){var d=p&&p[a];d&&(l=n.inlineRef(d,w.inlineRefs)?d:e.call(_,d,r,p,t))}if(void 0!==l)return function(e,t){var r=k[e];x[r]=t}(a,l),F(l,o);!function(e){delete k[e]}(a)}function N(e,t){var r=x.length;return x[r]=t,k[e]=r,"refVal"+r}function F(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function q(e){var t=O[e];return void 0===t&&(t=O[e]=S.length,S[t]=e),"pattern"+t}function L(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return a.toQuotedString(e);case"object":if(null===e)return"null";var t=s(e),r=E[t];return void 0===r&&(r=E[t]=P.length,P[r]=e),"default"+r}}function H(e,t,r,n){if(!1!==_._opts.validateSchema){var a=e.definition.dependencies;if(a&&!a.every((function(e){return Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have all required keywords: "+a.join(","));var i=e.definition.validateSchema;if(i)if(!i(t)){var s="keyword schema is invalid: "+_.errorsText(i.errors);if("log"!=_._opts.validateSchema)throw new Error(s);_.logger.error(s)}}var o,c=e.definition.compile,u=e.definition.inline,l=e.definition.macro;if(c)o=c.call(_,t,r,n);else if(l)o=l.call(_,t,r,n),!1!==w.validateSchema&&_.validateSchema(o,!0);else if(u)o=u.call(_,n,e.keyword,t,r);else if(!(o=e.definition.validate))return;if(void 0===o)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var d=A.length;return A[d]=o,{code:"customRule"+d,validate:o}}}},function(e,t,r){
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,a=1;a<n;++a)t[a]=t[a].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function a(e){return e.toUpperCase()}function i(e){var n=t("[0-9]","[A-Fa-f]"),a=r(r("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+r("%[89A-Fa-f]"+n+"%"+n+n)+"|"+r("%"+n+n)),i="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",s=t("[\\:\\/\\?\\#\\[\\]\\@]",i),o=e?"[\\uE000-\\uF8FF]":"[]",c=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),u=r("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),l=r(r(a+"|"+t(c,i,"[\\:]"))+"*"),d=(r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("[1-9][0-9]")+"|[0-9]"),r(r("25[0-5]")+"|"+r("2[0-4][0-9]")+"|"+r("1[0-9][0-9]")+"|"+r("0?[1-9][0-9]")+"|0?0?[0-9]")),h=r(d+"\\."+d+"\\."+d+"\\."+d),p=r(n+"{1,4}"),f=r(r(p+"\\:"+p)+"|"+h),m=r(r(p+"\\:")+"{6}"+f),g=r("\\:\\:"+r(p+"\\:")+"{5}"+f),y=r(r(p)+"?\\:\\:"+r(p+"\\:")+"{4}"+f),b=r(r(r(p+"\\:")+"{0,1}"+p)+"?\\:\\:"+r(p+"\\:")+"{3}"+f),v=r(r(r(p+"\\:")+"{0,2}"+p)+"?\\:\\:"+r(p+"\\:")+"{2}"+f),_=r(r(r(p+"\\:")+"{0,3}"+p)+"?\\:\\:"+p+"\\:"+f),w=r(r(r(p+"\\:")+"{0,4}"+p)+"?\\:\\:"+f),x=r(r(r(p+"\\:")+"{0,5}"+p)+"?\\:\\:"+p),k=r(r(r(p+"\\:")+"{0,6}"+p)+"?\\:\\:"),S=r([m,g,y,b,v,_,w,x,k].join("|")),O=r(r(c+"|"+a)+"+"),P=(r(S+"\\%25"+O),r(S+r("\\%25|\\%(?!"+n+"{2})")+O)),E=r("[vV]"+n+"+\\."+t(c,i,"[\\:]")+"+"),A=r("\\["+r(P+"|"+S+"|"+E)+"\\]"),C=r(r(a+"|"+t(c,i))+"*"),T=r(A+"|"+h+"(?!"+C+")|"+C),D=r("[0-9]*"),j=r(r(l+"@")+"?"+T+r("\\:"+D)+"?"),M=r(a+"|"+t(c,i,"[\\:\\@]")),I=r(M+"*"),R=r(M+"+"),B=r(r(a+"|"+t(c,i,"[\\@]"))+"+"),N=r(r("\\/"+I)+"*"),F=r("\\/"+r(R+N)+"?"),q=r(B+N),L=r(R+N),H="(?!"+M+")",U=(r(N+"|"+F+"|"+q+"|"+L+"|"+H),r(r(M+"|"+t("[\\/\\?]",o))+"*")),z=r(r(M+"|[\\/\\?]")+"*"),V=r(r("\\/\\/"+j+N)+"|"+F+"|"+L+"|"+H),G=r(u+"\\:"+V+r("\\?"+U)+"?"+r("\\#"+z)+"?"),W=r(r("\\/\\/"+j+N)+"|"+F+"|"+q+"|"+H),K=r(W+r("\\?"+U)+"?"+r("\\#"+z)+"?");return r(G+"|"+K),r(u+"\\:"+V+r("\\?"+U)+"?"),r(r("\\/\\/("+r("("+l+")@")+"?("+T+")"+r("\\:("+D+")")+"?)")+"?("+N+"|"+F+"|"+L+"|"+H+")"),r("\\?("+U+")"),r("\\#("+z+")"),r(r("\\/\\/("+r("("+l+")@")+"?("+T+")"+r("\\:("+D+")")+"?)")+"?("+N+"|"+F+"|"+q+"|"+H+")"),r("\\?("+U+")"),r("\\#("+z+")"),r(r("\\/\\/("+r("("+l+")@")+"?("+T+")"+r("\\:("+D+")")+"?)")+"?("+N+"|"+F+"|"+L+"|"+H+")"),r("\\?("+U+")"),r("\\#("+z+")"),r("("+l+")@"),r("\\:("+D+")"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",c,i),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",c,i),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",c,i),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",c,i),"g"),NOT_QUERY:new RegExp(t("[^\\%]",c,i,"[\\:\\@\\/\\?]",o),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",c,i,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",c,i),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",c,s),"g"),PCT_ENCODED:new RegExp(a,"g"),IPV4ADDRESS:new RegExp("^("+h+")$"),IPV6ADDRESS:new RegExp("^\\[?("+S+")"+r(r("\\%25|\\%(?!"+n+"{2})")+"("+O+")")+"?\\]?$")}}var s=i(!1),o=i(!0),c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,l=/^xn--/,d=/[^\0-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,m=String.fromCharCode;function g(e){throw new RangeError(p[e])}function y(e,t){var r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);var a=function(e,t){for(var r=[],n=e.length;n--;)r[n]=t(e[n]);return r}((e=e.replace(h,".")).split("."),t).join(".");return n+a}function b(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&a)<<10)+(1023&i)+65536):(t.push(a),r--)}else t.push(a)}return t}var v=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},_=function(e,t,r){var n=0;for(e=r?f(e/700):e>>1,e+=f(e/t);e>455;n+=36)e=f(e/35);return f(n+36*e/(e+38))},w=function(e){var t,r=[],n=e.length,a=0,i=128,s=72,o=e.lastIndexOf("-");o<0&&(o=0);for(var c=0;c<o;++c)e.charCodeAt(c)>=128&&g("not-basic"),r.push(e.charCodeAt(c));for(var l=o>0?o+1:0;l<n;){for(var d=a,h=1,p=36;;p+=36){l>=n&&g("invalid-input");var m=(t=e.charCodeAt(l++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(m>=36||m>f((u-a)/h))&&g("overflow"),a+=m*h;var y=p<=s?1:p>=s+26?26:p-s;if(m<y)break;var b=36-y;h>f(u/b)&&g("overflow"),h*=b}var v=r.length+1;s=_(a-d,v,0==d),f(a/v)>u-i&&g("overflow"),i+=f(a/v),a%=v,r.splice(a++,0,i)}return String.fromCodePoint.apply(String,r)},x=function(e){var t=[],r=(e=b(e)).length,n=128,a=0,i=72,s=!0,o=!1,c=void 0;try{for(var l,d=e[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var h=l.value;h<128&&t.push(m(h))}}catch(e){o=!0,c=e}finally{try{!s&&d.return&&d.return()}finally{if(o)throw c}}var p=t.length,y=p;for(p&&t.push("-");y<r;){var w=u,x=!0,k=!1,S=void 0;try{for(var O,P=e[Symbol.iterator]();!(x=(O=P.next()).done);x=!0){var E=O.value;E>=n&&E<w&&(w=E)}}catch(e){k=!0,S=e}finally{try{!x&&P.return&&P.return()}finally{if(k)throw S}}var A=y+1;w-n>f((u-a)/A)&&g("overflow"),a+=(w-n)*A,n=w;var C=!0,T=!1,D=void 0;try{for(var j,M=e[Symbol.iterator]();!(C=(j=M.next()).done);C=!0){var I=j.value;if(I<n&&++a>u&&g("overflow"),I==n){for(var R=a,B=36;;B+=36){var N=B<=i?1:B>=i+26?26:B-i;if(R<N)break;var F=R-N,q=36-N;t.push(m(v(N+F%q,0))),R=f(F/q)}t.push(m(v(R,0))),i=_(a,A,y==p),a=0,++y}}}catch(e){T=!0,D=e}finally{try{!C&&M.return&&M.return()}finally{if(T)throw D}}++a,++n}return t.join("")},k=function(e){return y(e,(function(e){return d.test(e)?"xn--"+x(e):e}))},S=function(e){return y(e,(function(e){return l.test(e)?w(e.slice(4).toLowerCase()):e}))},O={};function P(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function E(e){for(var t="",r=0,n=e.length;r<n;){var a=parseInt(e.substr(r+1,2),16);if(a<128)t+=String.fromCharCode(a),r+=3;else if(a>=194&&a<224){if(n-r>=6){var i=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&a)<<6|63&i)}else t+=e.substr(r,6);r+=6}else if(a>=224){if(n-r>=9){var s=parseInt(e.substr(r+4,2),16),o=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&a)<<12|(63&s)<<6|63&o)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function A(e,t){function r(e){var r=E(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,P).replace(t.PCT_ENCODED,a)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,P).replace(t.PCT_ENCODED,a)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,P).replace(t.PCT_ENCODED,a)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,P).replace(t.PCT_ENCODED,a)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,P).replace(t.PCT_ENCODED,a)),e}function C(e){return e.replace(/^0*(.*)/,"$1")||"0"}function T(e,t){var r=e.match(t.IPV4ADDRESS)||[],n=c(r,2)[1];return n?n.split(".").map(C).join("."):e}function D(e,t){var r=e.match(t.IPV6ADDRESS)||[],n=c(r,3),a=n[1],i=n[2];if(a){for(var s=a.toLowerCase().split("::").reverse(),o=c(s,2),u=o[0],l=o[1],d=l?l.split(":").map(C):[],h=u.split(":").map(C),p=t.IPV4ADDRESS.test(h[h.length-1]),f=p?7:8,m=h.length-f,g=Array(f),y=0;y<f;++y)g[y]=d[y]||h[m+y]||"";p&&(g[f-1]=T(g[f-1],t));var b=g.reduce((function(e,t,r){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===r?n.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],v=void 0;if(b&&b.length>1){var _=g.slice(0,b.index),w=g.slice(b.index+b.length);v=_.join(":")+"::"+w.join(":")}else v=g.join(":");return i&&(v+="%"+i),v}return e}var j=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,M=void 0==="".match(/(){0}/)[1];function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n=!1!==t.iri?o:s;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var a=e.match(j);if(a){M?(r.scheme=a[1],r.userinfo=a[3],r.host=a[4],r.port=parseInt(a[5],10),r.path=a[6]||"",r.query=a[7],r.fragment=a[8],isNaN(r.port)&&(r.port=a[5])):(r.scheme=a[1]||void 0,r.userinfo=-1!==e.indexOf("@")?a[3]:void 0,r.host=-1!==e.indexOf("//")?a[4]:void 0,r.port=parseInt(a[5],10),r.path=a[6]||"",r.query=-1!==e.indexOf("?")?a[7]:void 0,r.fragment=-1!==e.indexOf("#")?a[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?a[4]:void 0)),r.host&&(r.host=D(T(r.host,n),n)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var i=O[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||i&&i.unicodeSupport)A(r,n);else{if(r.host&&(t.domainHost||i&&i.domainHost))try{r.host=k(r.host.replace(n.PCT_ENCODED,E).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}A(r,s)}i&&i.parse&&i.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function R(e,t){var r=!1!==t.iri?o:s,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(D(T(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}var B=/^\.\.?\//,N=/^\/\.(\/|$)/,F=/^\/\.\.(\/|$)/,q=/^\/?(?:.|\n)*?(?=\/|$)/;function L(e){for(var t=[];e.length;)if(e.match(B))e=e.replace(B,"");else if(e.match(N))e=e.replace(N,"/");else if(e.match(F))e=e.replace(F,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(q);if(!r)throw new Error("Unexpected dot segment condition");var n=r[0];e=e.slice(n.length),t.push(n)}return t.join("")}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?o:s,n=[],a=O[(t.scheme||e.scheme||"").toLowerCase()];if(a&&a.serialize&&a.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||a&&a.domainHost)try{e.host=t.iri?S(e.host):k(e.host.replace(r.PCT_ENCODED,E).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}A(e,r),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var i=R(e,t);if(void 0!==i&&("suffix"!==t.reference&&n.push("//"),n.push(i),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var c=e.path;t.absolutePath||a&&a.absolutePath||(c=L(c)),void 0===i&&(c=c.replace(/^\/\//,"/%2F")),n.push(c)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function U(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],a={};return n||(e=I(H(e,r),r),t=I(H(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(a.scheme=t.scheme,a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=L(t.path||""),a.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=L(t.path||""),a.query=t.query):(t.path?("/"===t.path.charAt(0)?a.path=L(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?a.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:a.path=t.path:a.path="/"+t.path,a.path=L(a.path)),a.query=t.query):(a.path=e.path,void 0!==t.query?a.query=t.query:a.query=e.query),a.userinfo=e.userinfo,a.host=e.host,a.port=e.port),a.scheme=e.scheme),a.fragment=t.fragment,a}function z(e,t){return e&&e.toString().replace(t&&t.iri?o.PCT_ENCODED:s.PCT_ENCODED,E)}var V={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},G={scheme:"https",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize};function W(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var K={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=W(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(W(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),n=c(r,2),a=n[0],i=n[1];e.path=a&&"/"!==a?a:void 0,e.query=i,e.resourceName=void 0}return e.fragment=void 0,e}},Y={scheme:"wss",domainHost:K.domainHost,parse:K.parse,serialize:K.serialize},X={},J="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Q="[0-9A-Fa-f]",Z=r(r("%[EFef]"+Q+"%"+Q+Q+"%"+Q+Q)+"|"+r("%[89A-Fa-f]"+Q+"%"+Q+Q)+"|"+r("%"+Q+Q)),$=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),ee=new RegExp(J,"g"),te=new RegExp(Z,"g"),re=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',$),"g"),ne=new RegExp(t("[^]",J,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ae=ne;function ie(e){var t=E(e);return t.match(ee)?t:e}var se={scheme:"mailto",parse:function(e,t){var r=e,n=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var a=!1,i={},s=r.query.split("&"),o=0,c=s.length;o<c;++o){var u=s[o].split("=");switch(u[0]){case"to":for(var l=u[1].split(","),d=0,h=l.length;d<h;++d)n.push(l[d]);break;case"subject":r.subject=z(u[1],t);break;case"body":r.body=z(u[1],t);break;default:a=!0,i[z(u[0],t)]=z(u[1],t)}}a&&(r.headers=i)}r.query=void 0;for(var p=0,f=n.length;p<f;++p){var m=n[p].split("@");if(m[0]=z(m[0]),t.unicodeSupport)m[1]=z(m[1],t).toLowerCase();else try{m[1]=k(z(m[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}n[p]=m.join("@")}return r},serialize:function(e,t){var r,n=e,i=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(i){for(var s=0,o=i.length;s<o;++s){var c=String(i[s]),u=c.lastIndexOf("@"),l=c.slice(0,u).replace(te,ie).replace(te,a).replace(re,P),d=c.slice(u+1);try{d=t.iri?S(d):k(z(d,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}i[s]=l+"@"+d}n.path=i.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var p=[];for(var f in h)h[f]!==X[f]&&p.push(f.replace(te,ie).replace(te,a).replace(ne,P)+"="+h[f].replace(te,ie).replace(te,a).replace(ae,P));return p.length&&(n.query=p.join("&")),n}},oe=/^([^\:]+)\:(.*)/,ce={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(oe),n=e;if(r){var a=t.scheme||n.scheme||"urn",i=r[1].toLowerCase(),s=r[2],o=a+":"+(t.nid||i),c=O[o];n.nid=i,n.nss=s,n.path=void 0,c&&(n=c.parse(n,t))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",n=e.nid,a=r+":"+(t.nid||n),i=O[a];i&&(e=i.serialize(e,t));var s=e,o=e.nss;return s.path=(n||t.nid)+":"+o,s}},ue=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,le={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(ue)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};O[V.scheme]=V,O[G.scheme]=G,O[K.scheme]=K,O[Y.scheme]=Y,O[se.scheme]=se,O[ce.scheme]=ce,O[le.scheme]=le,e.SCHEMES=O,e.pctEncChar=P,e.pctDecChars=E,e.parse=I,e.removeDotSegments=L,e.serialize=H,e.resolveComponents=U,e.resolve=function(e,t,r){var n=function(e,t){var r=e;if(t)for(var n in t)r[n]=t[n];return r}({scheme:"null"},r);return H(U(I(e,n),I(t,n),n,!0),n)},e.normalize=function(e,t){return"string"==typeof e?e=H(I(e,t),t):"object"===n(e)&&(e=I(H(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=H(I(e,r),r):"object"===n(e)&&(e=H(e,r)),"string"==typeof t?t=H(I(t,r),r):"object"===n(t)&&(t=H(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?o.ESCAPE:s.ESCAPE,P)},e.unescapeComponent=z,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,r){"use strict";e.exports=function(e){for(var t,r=0,n=e.length,a=0;a<n;)r++,(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<n&&56320==(64512&(t=e.charCodeAt(a)))&&a++;return r}},function(e,t,r){"use strict";var n=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),function e(t,r,a,i,s,o,c,u,l,d){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var h in r(i,s,o,c,u,l,d),i){var p=i[h];if(Array.isArray(p)){if(h in n.arrayKeywords)for(var f=0;f<p.length;f++)e(t,r,a,p[f],s+"/"+h+"/"+f,o,s,h,i,f)}else if(h in n.propsKeywords){if(p&&"object"==typeof p)for(var m in p)e(t,r,a,p[m],s+"/"+h+"/"+m.replace(/~/g,"~0").replace(/\//g,"~1"),o,s,h,i,m)}else(h in n.keywords||t.allKeys&&!(h in n.skipKeywords))&&e(t,r,a,p,s+"/"+h,o,s,h,i)}a(i,s,o,c,u,l,d)}}(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};n.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},n.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},n.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},n.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,r){"use strict";var n=e.exports=function(){this._cache={}};n.prototype.put=function(e,t){this._cache[e]=t},n.prototype.get=function(e){return this._cache[e]},n.prototype.del=function(e){delete this._cache[e]},n.prototype.clear=function(){this._cache={}}},function(e,t,r){"use strict";var n=r(107),a=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31],s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,o=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,c=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,u=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,l=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,d=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,f=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function m(e){return e="full"==e?"full":"fast",n.copy(m[e])}function g(e){var t=e.match(a);if(!t)return!1;var r=+t[1],n=+t[2],s=+t[3];return n>=1&&n<=12&&s>=1&&s<=(2==n&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:i[n])}function y(e,t){var r=e.match(s);if(!r)return!1;var n=r[1],a=r[2],i=r[3],o=r[5];return(n<=23&&a<=59&&i<=59||23==n&&59==a&&60==i)&&(!t||o)}e.exports=m,m.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":u,url:l,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:o,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:d,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":f},m.full={date:g,time:y,"date-time":function(e){var t=e.split(b);return 2==t.length&&g(t[0])&&y(t[1],!0)},uri:function(e){return v.test(e)&&c.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":u,url:l,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:o,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:d,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":f};var b=/t|\s/i;var v=/\/|:/;var _=/[^\\]\\Z/;function w(e){if(_.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},function(e,t,r){"use strict";var n=r(1009),a=r(107).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=a(t),e.types=a(["number","integer","string","array","object","boolean","null"]),e.forEach((function(r){r.rules=r.rules.map((function(r){var a;if("object"==typeof r){var i=Object.keys(r)[0];a=r[i],r=i,a.forEach((function(r){t.push(r),e.all[r]=!0}))}return t.push(r),e.all[r]={keyword:r,code:n[r],implements:a}})),e.all.$comment={keyword:"$comment",code:n.$comment},r.type&&(e.types[r.type]=r)})),e.keywords=a(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},function(e,t,r){"use strict";e.exports={$ref:r(1010),allOf:r(1011),anyOf:r(1012),$comment:r(1013),const:r(1014),contains:r(1015),dependencies:r(1016),enum:r(1017),format:r(1018),if:r(1019),items:r(1020),maximum:r(469),minimum:r(469),maxItems:r(470),minItems:r(470),maxLength:r(471),minLength:r(471),maxProperties:r(472),minProperties:r(472),multipleOf:r(1021),not:r(1022),oneOf:r(1023),pattern:r(1024),properties:r(1025),propertyNames:r(1026),required:r(1027),uniqueItems:r(1028),validate:r(468)}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,a,i=" ",s=e.level,o=e.dataLevel,c=e.schema[t],u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(o||""),h="valid"+s;if("#"==c||"#/"==c)e.isRoot?(n=e.async,a="validate"):(n=!0===e.root.schema.$async,a="root.refVal[0]");else{var p=e.resolveRef(e.baseId,c,e.isRoot);if(void 0===p){var f=e.MissingRefError.message(e.baseId,c);if("fail"==e.opts.missingRefs){e.logger.error(f),(b=b||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(c)+"' } ",!1!==e.opts.messages&&(i+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(c)+"' "),e.opts.verbose&&(i+=" , schema: "+e.util.toQuotedString(c)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var m=i;i=b.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(i+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,c,f);e.logger.warn(f),l&&(i+=" if (true) { ")}}else if(p.inline){var g=e.util.copy(e);g.level++;var y="valid"+g.level;g.schema=p.schema,g.schemaPath="",g.errSchemaPath=c,i+=" "+e.validate(g).replace(/validate\.schema/g,p.code)+" ",l&&(i+=" if ("+y+") { ")}else n=!0===p.$async||e.async&&!1!==p.$async,a=p.code}if(a){var b;(b=b||[]).push(i),i="",e.opts.passContext?i+=" "+a+".call(this, ":i+=" "+a+"( ",i+=" "+d+", (dataPath || '')",'""'!=e.errorPath&&(i+=" + "+e.errorPath);var v=i+=" , "+(o?"data"+(o-1||""):"parentData")+" , "+(o?e.dataPathArr[o]:"parentDataProperty")+", rootData)  ";if(i=b.pop(),n){if(!e.async)throw new Error("async schema referenced by sync schema");l&&(i+=" var "+h+"; "),i+=" try { await "+v+"; ",l&&(i+=" "+h+" = true; "),i+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(i+=" "+h+" = false; "),i+=" } ",l&&(i+=" if ("+h+") { ")}else i+=" if (!"+v+") { if (vErrors === null) vErrors = "+a+".errors; else vErrors = vErrors.concat("+a+".errors); errors = vErrors.length; } ",l&&(i+=" else { ")}return i}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.schema[t],i=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,o=!e.opts.allErrors,c=e.util.copy(e),u="";c.level++;var l="valid"+c.level,d=c.baseId,h=!0,p=a;if(p)for(var f,m=-1,g=p.length-1;m<g;)f=p[m+=1],(e.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0||!1===f:e.util.schemaHasRules(f,e.RULES.all))&&(h=!1,c.schema=f,c.schemaPath=i+"["+m+"]",c.errSchemaPath=s+"/"+m,n+="  "+e.validate(c)+" ",c.baseId=d,o&&(n+=" if ("+l+") { ",u+="}"));return o&&(n+=h?" if (true) { ":" "+u.slice(0,-1)+" "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(i||""),d="valid"+a,h="errs__"+a,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level;if(s.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}))){var g=p.baseId;n+=" var "+h+" = errors; var "+d+" = false;  ";var y=e.compositeRule;e.compositeRule=p.compositeRule=!0;var b=s;if(b)for(var v,_=-1,w=b.length-1;_<w;)v=b[_+=1],p.schema=v,p.schemaPath=o+"["+_+"]",p.errSchemaPath=c+"/"+_,n+="  "+e.validate(p)+" ",p.baseId=g,n+=" "+d+" = "+d+" || "+m+"; if (!"+d+") { ",f+="}";e.compositeRule=p.compositeRule=y,n+=" "+f+" if (!"+d+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else u&&(n+=" if (true) { ");return n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.schema[t],i=e.errSchemaPath+"/"+t,s=(e.opts.allErrors,e.util.toQuotedString(a));return!0===e.opts.$comment?n+=" console.log("+s+");":"function"==typeof e.opts.$comment&&(n+=" self._opts.$comment("+s+", "+e.util.toQuotedString(i)+", validate.root.schema);"),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(i||""),d="valid"+a,h=e.opts.$data&&s&&s.$data;h&&(n+=" var schema"+a+" = "+e.util.getData(s.$data,i,e.dataPathArr)+"; "),h||(n+=" var schema"+a+" = validate.schema"+o+";"),n+="var "+d+" = equal("+l+", schema"+a+"); if (!"+d+") {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValue: schema"+a+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var f=n;return n=p.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+f+"]); ":n+=" validate.errors = ["+f+"]; return false; ":n+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",u&&(n+=" else { "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(i||""),d="valid"+a,h="errs__"+a,p=e.util.copy(e);p.level++;var f="valid"+p.level,m="i"+a,g=p.dataLevel=e.dataLevel+1,y="data"+g,b=e.baseId,v=e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all);if(n+="var "+h+" = errors;var "+d+";",v){var _=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=s,p.schemaPath=o,p.errSchemaPath=c,n+=" var "+f+" = false; for (var "+m+" = 0; "+m+" < "+l+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var w=l+"["+m+"]";p.dataPathArr[g]=m;var x=e.validate(p);p.baseId=b,e.util.varOccurences(x,y)<2?n+=" "+e.util.varReplace(x,y,w)+" ":n+=" var "+y+" = "+w+"; "+x+" ",n+=" if ("+f+") break; }  ",e.compositeRule=p.compositeRule=_,n+="  if (!"+f+") {"}else n+=" if ("+l+".length == 0) {";var k=k||[];k.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var S=n;return n=k.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+S+"]); ":n+=" validate.errors = ["+S+"]; return false; ":n+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",v&&(n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(i||""),d="errs__"+a,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,m={},g={},y=e.opts.ownProperties;for(w in s)if("__proto__"!=w){var b=s[w],v=Array.isArray(b)?g:m;v[w]=b}n+="var "+d+" = errors;";var _=e.errorPath;for(var w in n+="var missing"+a+";",g)if((v=g[w]).length){if(n+=" if ( "+l+e.util.getProperty(w)+" !== undefined ",y&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),u){n+=" && ( ";var x=v;if(x)for(var k=-1,S=x.length-1;k<S;){T=x[k+=1],k&&(n+=" || "),n+=" ( ( "+(I=l+(M=e.util.getProperty(T)))+" === undefined ",y&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(T)+"') "),n+=") && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?T:M)+") ) "}n+=")) {  ";var O="missing"+a,P="' + "+O+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,O,!0):_+" + "+O);var E=E||[];E.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+P+"', depsCount: "+v.length+", deps: '"+e.util.escapeQuotes(1==v.length?v[0]:v.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==v.length?n+="property "+e.util.escapeQuotes(v[0]):n+="properties "+e.util.escapeQuotes(v.join(", ")),n+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var A=n;n=E.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var C=v;if(C)for(var T,D=-1,j=C.length-1;D<j;){T=C[D+=1];var M=e.util.getProperty(T),I=(P=e.util.escapeQuotes(T),l+M);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,T,e.opts.jsonPointers)),n+=" if ( "+I+" === undefined ",y&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(T)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+P+"', depsCount: "+v.length+", deps: '"+e.util.escapeQuotes(1==v.length?v[0]:v.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==v.length?n+="property "+e.util.escapeQuotes(v[0]):n+="properties "+e.util.escapeQuotes(v.join(", ")),n+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",u&&(p+="}",n+=" else { ")}e.errorPath=_;var R=h.baseId;for(var w in m){b=m[w];(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))&&(n+=" "+f+" = true; if ( "+l+e.util.getProperty(w)+" !== undefined ",y&&(n+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),n+=") { ",h.schema=b,h.schemaPath=o+e.util.getProperty(w),h.errSchemaPath=c+"/"+e.util.escapeFragment(w),n+="  "+e.validate(h)+" ",h.baseId=R,n+=" }  ",u&&(n+=" if ("+f+") { ",p+="}"))}return u&&(n+="   "+p+" if ("+d+" == errors) {"),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(i||""),d="valid"+a,h=e.opts.$data&&s&&s.$data;h&&(n+=" var schema"+a+" = "+e.util.getData(s.$data,i,e.dataPathArr)+"; ");var p="i"+a,f="schema"+a;h||(n+=" var "+f+" = validate.schema"+o+";"),n+="var "+d+";",h&&(n+=" if (schema"+a+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+a+")) "+d+" = false; else {"),n+=d+" = false;for (var "+p+"=0; "+p+"<"+f+".length; "+p+"++) if (equal("+l+", "+f+"["+p+"])) { "+d+" = true; break; }",h&&(n+="  }  "),n+=" if (!"+d+") {   ";var m=m||[];m.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValues: schema"+a+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var g=n;return n=m.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",u&&(n+=" else { "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(i||"");if(!1===e.opts.format)return u&&(n+=" if (true) { "),n;var d,h=e.opts.$data&&s&&s.$data;h?(n+=" var schema"+a+" = "+e.util.getData(s.$data,i,e.dataPathArr)+"; ",d="schema"+a):d=s;var p=e.opts.unknownFormats,f=Array.isArray(p);if(h){n+=" var "+(m="format"+a)+" = formats["+d+"]; var "+(g="isObject"+a)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(y="formatType"+a)+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",e.async&&(n+=" var async"+a+" = "+m+".async; "),n+=" "+m+" = "+m+".validate; } if (  ",h&&(n+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),n+=" (","ignore"!=p&&(n+=" ("+d+" && !"+m+" ",f&&(n+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),n+=") || "),n+=" ("+m+" && "+y+" == '"+r+"' && !(typeof "+m+" == 'function' ? ",e.async?n+=" (async"+a+" ? await "+m+"("+l+") : "+m+"("+l+")) ":n+=" "+m+"("+l+") ",n+=" : "+m+".test("+l+"))))) {"}else{var m;if(!(m=e.formats[s])){if("ignore"==p)return e.logger.warn('unknown format "'+s+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(n+=" if (true) { "),n;if(f&&p.indexOf(s)>=0)return u&&(n+=" if (true) { "),n;throw new Error('unknown format "'+s+'" is used in schema at path "'+e.errSchemaPath+'"')}var g,y=(g="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(g){var b=!0===m.async;m=m.validate}if(y!=r)return u&&(n+=" if (true) { "),n;if(b){if(!e.async)throw new Error("async format in sync schema");n+=" if (!(await "+(v="formats"+e.util.getProperty(s)+".validate")+"("+l+"))) { "}else{n+=" if (! ";var v="formats"+e.util.getProperty(s);g&&(v+=".validate"),n+="function"==typeof m?" "+v+"("+l+") ":" "+v+".test("+l+") ",n+=") { "}}var _=_||[];_.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",n+=h?""+d:""+e.util.toQuotedString(s),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match format \"",n+=h?"' + "+d+" + '":""+e.util.escapeQuotes(s),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+o:""+e.util.toQuotedString(s),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var w=n;return n=_.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u&&(n+=" else { "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(i||""),d="valid"+a,h="errs__"+a,p=e.util.copy(e);p.level++;var f="valid"+p.level,m=e.schema.then,g=e.schema.else,y=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),b=void 0!==g&&(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:e.util.schemaHasRules(g,e.RULES.all)),v=p.baseId;if(y||b){var _;p.createErrors=!1,p.schema=s,p.schemaPath=o,p.errSchemaPath=c,n+=" var "+h+" = errors; var "+d+" = true;  ";var w=e.compositeRule;e.compositeRule=p.compositeRule=!0,n+="  "+e.validate(p)+" ",p.baseId=v,p.createErrors=!0,n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=w,y?(n+=" if ("+f+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(p)+" ",p.baseId=v,n+=" "+d+" = "+f+"; ",y&&b?n+=" var "+(_="ifClause"+a)+" = 'then'; ":_="'then'",n+=" } ",b&&(n+=" else { ")):n+=" if (!"+f+") { ",b&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(p)+" ",p.baseId=v,n+=" "+d+" = "+f+"; ",y&&b?n+=" var "+(_="ifClause"+a)+" = 'else'; ":_="'else'",n+=" } "),n+=" if (!"+d+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+_+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match \"' + "+_+" + '\" schema' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",u&&(n+=" else { ")}else u&&(n+=" if (true) { ");return n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(i||""),d="valid"+a,h="errs__"+a,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,g="i"+a,y=p.dataLevel=e.dataLevel+1,b="data"+y,v=e.baseId;if(n+="var "+h+" = errors;var "+d+";",Array.isArray(s)){var _=e.schema.additionalItems;if(!1===_){n+=" "+d+" = "+l+".length <= "+s.length+"; ";var w=c;c=e.errSchemaPath+"/additionalItems",n+="  if (!"+d+") {   ";var x=x||[];x.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+s.length+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have more than "+s.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var k=n;n=x.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+k+"]); ":n+=" validate.errors = ["+k+"]; return false; ":n+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c=w,u&&(f+="}",n+=" else { ")}var S=s;if(S)for(var O,P=-1,E=S.length-1;P<E;)if(O=S[P+=1],e.opts.strictKeywords?"object"==typeof O&&Object.keys(O).length>0||!1===O:e.util.schemaHasRules(O,e.RULES.all)){n+=" "+m+" = true; if ("+l+".length > "+P+") { ";var A=l+"["+P+"]";p.schema=O,p.schemaPath=o+"["+P+"]",p.errSchemaPath=c+"/"+P,p.errorPath=e.util.getPathExpr(e.errorPath,P,e.opts.jsonPointers,!0),p.dataPathArr[y]=P;var C=e.validate(p);p.baseId=v,e.util.varOccurences(C,b)<2?n+=" "+e.util.varReplace(C,b,A)+" ":n+=" var "+b+" = "+A+"; "+C+" ",n+=" }  ",u&&(n+=" if ("+m+") { ",f+="}")}if("object"==typeof _&&(e.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0||!1===_:e.util.schemaHasRules(_,e.RULES.all))){p.schema=_,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+m+" = true; if ("+l+".length > "+s.length+") {  for (var "+g+" = "+s.length+"; "+g+" < "+l+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);A=l+"["+g+"]";p.dataPathArr[y]=g;C=e.validate(p);p.baseId=v,e.util.varOccurences(C,b)<2?n+=" "+e.util.varReplace(C,b,A)+" ":n+=" var "+b+" = "+A+"; "+C+" ",u&&(n+=" if (!"+m+") break; "),n+=" } }  ",u&&(n+=" if ("+m+") { ",f+="}")}}else if(e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all)){p.schema=s,p.schemaPath=o,p.errSchemaPath=c,n+="  for (var "+g+" = 0; "+g+" < "+l+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);A=l+"["+g+"]";p.dataPathArr[y]=g;C=e.validate(p);p.baseId=v,e.util.varOccurences(C,b)<2?n+=" "+e.util.varReplace(C,b,A)+" ":n+=" var "+b+" = "+A+"; "+C+" ",u&&(n+=" if (!"+m+") break; "),n+=" }"}return u&&(n+=" "+f+" if ("+h+" == errors) {"),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&o&&o.$data;if(h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",n="schema"+i):n=o,!h&&"number"!=typeof o)throw new Error(t+" must be number");a+="var division"+i+";if (",h&&(a+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),a+=" (division"+i+" = "+d+" / "+n+", ",e.opts.multipleOfPrecision?a+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+e.opts.multipleOfPrecision+" ":a+=" division"+i+" !== parseInt(division"+i+") ",a+=" ) ",h&&(a+="  )  "),a+=" ) {   ";var p=p||[];p.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+n+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be multiple of ",a+=h?"' + "+n:n+"'"),e.opts.verbose&&(a+=" , schema:  ",a+=h?"validate.schema"+c:""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var f=a;return a=p.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+f+"]); ":a+=" validate.errors = ["+f+"]; return false; ":a+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(i||""),d="errs__"+a,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=o,h.errSchemaPath=c,n+=" var "+d+" = errors;  ";var f,m=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(f=h.opts.allErrors,h.opts.allErrors=!1),n+=" "+e.validate(h)+" ",h.createErrors=!0,f&&(h.opts.allErrors=f),e.compositeRule=h.compositeRule=m,n+=" if ("+p+") {   ";var g=g||[];g.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var y=n;n=g.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(n+=" if (false) { ");return n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(i||""),d="valid"+a,h="errs__"+a,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,g=p.baseId,y="prevValid"+a,b="passingSchemas"+a;n+="var "+h+" = errors , "+y+" = false , "+d+" = false , "+b+" = null; ";var v=e.compositeRule;e.compositeRule=p.compositeRule=!0;var _=s;if(_)for(var w,x=-1,k=_.length-1;x<k;)w=_[x+=1],(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all))?(p.schema=w,p.schemaPath=o+"["+x+"]",p.errSchemaPath=c+"/"+x,n+="  "+e.validate(p)+" ",p.baseId=g):n+=" var "+m+" = true; ",x&&(n+=" if ("+m+" && "+y+") { "+d+" = false; "+b+" = ["+b+", "+x+"]; } else { ",f+="}"),n+=" if ("+m+") { "+d+" = "+y+" = true; "+b+" = "+x+"; }";return e.compositeRule=p.compositeRule=v,n+=f+"if (!"+d+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+b+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&o&&o.$data;h?(a+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",n="schema"+i):n=o,a+="if ( ",h&&(a+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),a+=" !"+(h?"(new RegExp("+n+"))":e.usePattern(o))+".test("+d+") ) {   ";var p=p||[];p.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",a+=h?""+n:""+e.util.toQuotedString(o),a+="  } ",!1!==e.opts.messages&&(a+=" , message: 'should match pattern \"",a+=h?"' + "+n+" + '":""+e.util.escapeQuotes(o),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",a+=h?"validate.schema"+c:""+e.util.toQuotedString(o),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var f=a;return a=p.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+f+"]); ":a+=" validate.errors = ["+f+"]; return false; ":a+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(i||""),d="errs__"+a,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,m="key"+a,g="idx"+a,y=h.dataLevel=e.dataLevel+1,b="data"+y,v="dataProperties"+a,_=Object.keys(s||{}).filter(M),w=e.schema.patternProperties||{},x=Object.keys(w).filter(M),k=e.schema.additionalProperties,S=_.length||x.length,O=!1===k,P="object"==typeof k&&Object.keys(k).length,E=e.opts.removeAdditional,A=O||P||E,C=e.opts.ownProperties,T=e.baseId,D=e.schema.required;if(D&&(!e.opts.$data||!D.$data)&&D.length<e.opts.loopRequired)var j=e.util.toHash(D);function M(e){return"__proto__"!==e}if(n+="var "+d+" = errors;var "+f+" = true;",C&&(n+=" var "+v+" = undefined;"),A){if(n+=C?" "+v+" = "+v+" || Object.keys("+l+"); for (var "+g+"=0; "+g+"<"+v+".length; "+g+"++) { var "+m+" = "+v+"["+g+"]; ":" for (var "+m+" in "+l+") { ",S){if(n+=" var isAdditional"+a+" = !(false ",_.length)if(_.length>8)n+=" || validate.schema"+o+".hasOwnProperty("+m+") ";else{var I=_;if(I)for(var R=-1,B=I.length-1;R<B;)X=I[R+=1],n+=" || "+m+" == "+e.util.toQuotedString(X)+" "}if(x.length){var N=x;if(N)for(var F=-1,q=N.length-1;F<q;)ie=N[F+=1],n+=" || "+e.usePattern(ie)+".test("+m+") "}n+=" ); if (isAdditional"+a+") { "}if("all"==E)n+=" delete "+l+"["+m+"]; ";else{var L=e.errorPath,H="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),O)if(E)n+=" delete "+l+"["+m+"]; ";else{n+=" "+f+" = false; ";var U=c;c=e.errSchemaPath+"/additionalProperties",(re=re||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+H+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var z=n;n=re.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+z+"]); ":n+=" validate.errors = ["+z+"]; return false; ":n+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=U,u&&(n+=" break; ")}else if(P)if("failing"==E){n+=" var "+d+" = errors;  ";var V=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=k,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var G=l+"["+m+"]";h.dataPathArr[y]=m;var W=e.validate(h);h.baseId=T,e.util.varOccurences(W,b)<2?n+=" "+e.util.varReplace(W,b,G)+" ":n+=" var "+b+" = "+G+"; "+W+" ",n+=" if (!"+f+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+m+"]; }  ",e.compositeRule=h.compositeRule=V}else{h.schema=k,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);G=l+"["+m+"]";h.dataPathArr[y]=m;W=e.validate(h);h.baseId=T,e.util.varOccurences(W,b)<2?n+=" "+e.util.varReplace(W,b,G)+" ":n+=" var "+b+" = "+G+"; "+W+" ",u&&(n+=" if (!"+f+") break; ")}e.errorPath=L}S&&(n+=" } "),n+=" }  ",u&&(n+=" if ("+f+") { ",p+="}")}var K=e.opts.useDefaults&&!e.compositeRule;if(_.length){var Y=_;if(Y)for(var X,J=-1,Q=Y.length-1;J<Q;){var Z=s[X=Y[J+=1]];if(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0||!1===Z:e.util.schemaHasRules(Z,e.RULES.all)){var $=e.util.getProperty(X),ee=(G=l+$,K&&void 0!==Z.default);h.schema=Z,h.schemaPath=o+$,h.errSchemaPath=c+"/"+e.util.escapeFragment(X),h.errorPath=e.util.getPath(e.errorPath,X,e.opts.jsonPointers),h.dataPathArr[y]=e.util.toQuotedString(X);W=e.validate(h);if(h.baseId=T,e.util.varOccurences(W,b)<2){W=e.util.varReplace(W,b,G);var te=G}else{te=b;n+=" var "+b+" = "+G+"; "}if(ee)n+=" "+W+" ";else{if(j&&j[X]){n+=" if ( "+te+" === undefined ",C&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(X)+"') "),n+=") { "+f+" = false; ";L=e.errorPath,U=c;var re,ne=e.util.escapeQuotes(X);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(L,X,e.opts.jsonPointers)),c=e.errSchemaPath+"/required",(re=re||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+ne+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+ne+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";z=n;n=re.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+z+"]); ":n+=" validate.errors = ["+z+"]; return false; ":n+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=U,e.errorPath=L,n+=" } else { "}else u?(n+=" if ( "+te+" === undefined ",C&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(X)+"') "),n+=") { "+f+" = true; } else { "):(n+=" if ("+te+" !== undefined ",C&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(X)+"') "),n+=" ) { ");n+=" "+W+" } "}}u&&(n+=" if ("+f+") { ",p+="}")}}if(x.length){var ae=x;if(ae)for(var ie,se=-1,oe=ae.length-1;se<oe;){Z=w[ie=ae[se+=1]];if(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0||!1===Z:e.util.schemaHasRules(Z,e.RULES.all)){h.schema=Z,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),n+=C?" "+v+" = "+v+" || Object.keys("+l+"); for (var "+g+"=0; "+g+"<"+v+".length; "+g+"++) { var "+m+" = "+v+"["+g+"]; ":" for (var "+m+" in "+l+") { ",n+=" if ("+e.usePattern(ie)+".test("+m+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);G=l+"["+m+"]";h.dataPathArr[y]=m;W=e.validate(h);h.baseId=T,e.util.varOccurences(W,b)<2?n+=" "+e.util.varReplace(W,b,G)+" ":n+=" var "+b+" = "+G+"; "+W+" ",u&&(n+=" if (!"+f+") break; "),n+=" } ",u&&(n+=" else "+f+" = true; "),n+=" }  ",u&&(n+=" if ("+f+") { ",p+="}")}}}return u&&(n+=" "+p+" if ("+d+" == errors) {"),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(i||""),d="errs__"+a,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(n+="var "+d+" = errors;",e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=o,h.errSchemaPath=c;var f="key"+a,m="idx"+a,g="i"+a,y="' + "+f+" + '",b="data"+(h.dataLevel=e.dataLevel+1),v="dataProperties"+a,_=e.opts.ownProperties,w=e.baseId;_&&(n+=" var "+v+" = undefined; "),n+=_?" "+v+" = "+v+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+v+".length; "+m+"++) { var "+f+" = "+v+"["+m+"]; ":" for (var "+f+" in "+l+") { ",n+=" var startErrs"+a+" = errors; ";var x=f,k=e.compositeRule;e.compositeRule=h.compositeRule=!0;var S=e.validate(h);h.baseId=w,e.util.varOccurences(S,b)<2?n+=" "+e.util.varReplace(S,b,x)+" ":n+=" var "+b+" = "+x+"; "+S+" ",e.compositeRule=h.compositeRule=k,n+=" if (!"+p+") { for (var "+g+"=startErrs"+a+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+f+"; }   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+y+"' } ",!1!==e.opts.messages&&(n+=" , message: 'property name \\'"+y+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),u&&(n+=" break; "),n+=" } }"}return u&&(n+="  if ("+d+" == errors) {"),n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(i||""),d="valid"+a,h=e.opts.$data&&s&&s.$data;h&&(n+=" var schema"+a+" = "+e.util.getData(s.$data,i,e.dataPathArr)+"; ");var p="schema"+a;if(!h)if(s.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var f=[],m=s;if(m)for(var g,y=-1,b=m.length-1;y<b;){g=m[y+=1];var v=e.schema.properties[g];v&&(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all))||(f[f.length]=g)}}else f=s;if(h||f.length){var _=e.errorPath,w=h||f.length>=e.opts.loopRequired,x=e.opts.ownProperties;if(u)if(n+=" var missing"+a+"; ",w){h||(n+=" var "+p+" = validate.schema"+o+"; ");var k="' + "+(C="schema"+a+"["+(P="i"+a)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,C,e.opts.jsonPointers)),n+=" var "+d+" = true; ",h&&(n+=" if (schema"+a+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+a+")) "+d+" = false; else {"),n+=" for (var "+P+" = 0; "+P+" < "+p+".length; "+P+"++) { "+d+" = "+l+"["+p+"["+P+"]] !== undefined ",x&&(n+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+p+"["+P+"]) "),n+="; if (!"+d+") break; } ",h&&(n+="  }  "),n+="  if (!"+d+") {   ",(A=A||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+k+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var S=n;n=A.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+S+"]); ":n+=" validate.errors = ["+S+"]; return false; ":n+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var O=f;if(O)for(var P=-1,E=O.length-1;P<E;){D=O[P+=1],P&&(n+=" || "),n+=" ( ( "+(R=l+(I=e.util.getProperty(D)))+" === undefined ",x&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(D)+"') "),n+=") && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?D:I)+") ) "}n+=") {  ";var A;k="' + "+(C="missing"+a)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,C,!0):_+" + "+C),(A=A||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+k+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";S=n;n=A.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+S+"]); ":n+=" validate.errors = ["+S+"]; return false; ":n+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(w){h||(n+=" var "+p+" = validate.schema"+o+"; ");var C;k="' + "+(C="schema"+a+"["+(P="i"+a)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,C,e.opts.jsonPointers)),h&&(n+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+k+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),n+=" for (var "+P+" = 0; "+P+" < "+p+".length; "+P+"++) { if ("+l+"["+p+"["+P+"]] === undefined ",x&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+p+"["+P+"]) "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+k+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(n+="  }  ")}else{var T=f;if(T)for(var D,j=-1,M=T.length-1;j<M;){D=T[j+=1];var I=e.util.getProperty(D),R=(k=e.util.escapeQuotes(D),l+I);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,D,e.opts.jsonPointers)),n+=" if ( "+R+" === undefined ",x&&(n+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(D)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+k+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+k+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=_}else u&&(n+=" if (true) {");return n}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,a=" ",i=e.level,s=e.dataLevel,o=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),h="valid"+i,p=e.opts.$data&&o&&o.$data;if(p?(a+=" var schema"+i+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",n="schema"+i):n=o,(o||p)&&!1!==e.opts.uniqueItems){p&&(a+=" var "+h+"; if ("+n+" === false || "+n+" === undefined) "+h+" = true; else if (typeof "+n+" != 'boolean') "+h+" = false; else { "),a+=" var i = "+d+".length , "+h+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,m=Array.isArray(f);if(!f||"object"==f||"array"==f||m&&(f.indexOf("object")>=0||f.indexOf("array")>=0))a+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+h+" = false; break outer; } } } ";else{a+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var g="checkDataType"+(m?"s":"");a+=" if ("+e.util[g](f,"item",e.opts.strictNumbers,!0)+") continue; ",m&&(a+=" if (typeof item == 'string') item = '\"' + item; "),a+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}a+=" } ",p&&(a+="  }  "),a+=" if (!"+h+") {   ";var y=y||[];y.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+c:""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var b=a;a=y.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+b+"]); ":a+=" validate.errors = ["+b+"]; return false; ":a+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",l&&(a+=" else { ")}else l&&(a+=" if (true) { ");return a}},function(e,t,r){"use strict";var n=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var a,i=t[r].split("/"),s=e;for(a=1;a<i.length;a++)s=s[i[a]];for(a=0;a<n.length;a++){var o=n[a],c=s[o];c&&(s[o]={anyOf:[c,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,t,r){"use strict";var n=r(244).MissingRef;e.exports=function e(t,r,a){var i=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof r&&(a=r,r=void 0);var s=o(t).then((function(){var e=i._addSchema(t,void 0,r);return e.validate||function e(t){try{return i._compile(t)}catch(e){if(e instanceof n)return a(e);throw e}function a(n){var a=n.missingSchema;if(u(a))throw new Error("Schema "+a+" is loaded but "+n.missingRef+" cannot be resolved");var s=i._loadingSchemas[a];return s||(s=i._loadingSchemas[a]=i._opts.loadSchema(a)).then(c,c),s.then((function(e){if(!u(a))return o(e).then((function(){u(a)||i.addSchema(e,a,void 0,r)}))})).then((function(){return e(t)}));function c(){delete i._loadingSchemas[a]}function u(e){return i._refs[e]||i._schemas[e]}}}(e)}));a&&s.then((function(e){a(null,e)}),a);return s;function o(t){var r=t.$schema;return r&&!i.getSchema(r)?e.call(i,{$ref:r},!0):Promise.resolve()}}},function(e,t,r){"use strict";var n=/^[a-z_$][a-z0-9_$-]*$/i,a=r(1032),i=r(1033);e.exports={add:function(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!n.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var i=t.type;if(Array.isArray(i))for(var s=0;s<i.length;s++)c(e,i[s],t);else c(e,i,t);var o=t.metaSchema;o&&(t.$data&&this._opts.$data&&(o={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(o,!0))}function c(e,t,n){for(var i,s=0;s<r.length;s++){var o=r[s];if(o.type==t){i=o;break}}i||(i={type:t,rules:[]},r.push(i));var c={keyword:e,definition:n,custom:!0,code:a,implements:n.implements};i.rules.push(c),r.custom[e]=c}return r.keywords[e]=r.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var n=t[r].rules,a=0;a<n.length;a++)if(n[a].keyword==e){n.splice(a,1);break}return this},validate:function e(t,r){e.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(i,!0);if(n(t))return!0;if(e.errors=n.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,a,i=" ",s=e.level,o=e.dataLevel,c=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,h="data"+(o||""),p="valid"+s,f="errs__"+s,m=e.opts.$data&&c&&c.$data;m?(i+=" var schema"+s+" = "+e.util.getData(c.$data,o,e.dataPathArr)+"; ",a="schema"+s):a=c;var g,y,b,v,_,w="definition"+s,x=this.definition,k="";if(m&&x.$data){_="keywordValidate"+s;var S=x.validateSchema;i+=" var "+w+" = RULES.custom['"+t+"'].definition; var "+_+" = "+w+".validate;"}else{if(!(v=e.useCustomRule(this,c,e.schema,e)))return;a="validate.schema"+u,_=v.code,g=x.compile,y=x.inline,b=x.macro}var O=_+".errors",P="i"+s,E="ruleErr"+s,A=x.async;if(A&&!e.async)throw new Error("async keyword in sync schema");if(y||b||(i+=O+" = null;"),i+="var "+f+" = errors;var "+p+";",m&&x.$data&&(k+="}",i+=" if ("+a+" === undefined) { "+p+" = true; } else { ",S&&(k+="}",i+=" "+p+" = "+w+".validateSchema("+a+"); if ("+p+") { ")),y)x.statements?i+=" "+v.validate+" ":i+=" "+p+" = "+v.validate+"; ";else if(b){var C=e.util.copy(e);k="";C.level++;var T="valid"+C.level;C.schema=v.validate,C.schemaPath="";var D=e.compositeRule;e.compositeRule=C.compositeRule=!0;var j=e.validate(C).replace(/validate\.schema/g,_);e.compositeRule=C.compositeRule=D,i+=" "+j}else{(B=B||[]).push(i),i="",i+="  "+_+".call( ",e.opts.passContext?i+="this":i+="self",g||!1===x.schema?i+=" , "+h+" ":i+=" , "+a+" , "+h+" , validate.schema"+e.schemaPath+" ",i+=" , (dataPath || '')",'""'!=e.errorPath&&(i+=" + "+e.errorPath);var M=o?"data"+(o-1||""):"parentData",I=o?e.dataPathArr[o]:"parentDataProperty",R=i+=" , "+M+" , "+I+" , rootData )  ";i=B.pop(),!1===x.errors?(i+=" "+p+" = ",A&&(i+="await "),i+=R+"; "):i+=A?" var "+(O="customErrors"+s)+" = null; try { "+p+" = await "+R+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+O+" = e.errors; else throw e; } ":" "+O+" = null; "+p+" = "+R+"; "}if(x.modifying&&(i+=" if ("+M+") "+h+" = "+M+"["+I+"];"),i+=""+k,x.valid)d&&(i+=" if (true) { ");else{var B;i+=" if ( ",void 0===x.valid?(i+=" !",i+=b?""+T:""+p):i+=" "+!x.valid+" ",i+=") { ",n=this.keyword,(B=B||[]).push(i),i="",(B=B||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var N=i;i=B.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+N+"]); ":i+=" validate.errors = ["+N+"]; return false; ":i+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var F=i;i=B.pop(),y?x.errors?"full"!=x.errors&&(i+="  for (var "+P+"="+f+"; "+P+"<errors; "+P+"++) { var "+E+" = vErrors["+P+"]; if ("+E+".dataPath === undefined) "+E+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+E+".schemaPath === undefined) { "+E+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(i+=" "+E+".schema = "+a+"; "+E+".data = "+h+"; "),i+=" } "):!1===x.errors?i+=" "+F+" ":(i+=" if ("+f+" == errors) { "+F+" } else {  for (var "+P+"="+f+"; "+P+"<errors; "+P+"++) { var "+E+" = vErrors["+P+"]; if ("+E+".dataPath === undefined) "+E+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+E+".schemaPath === undefined) { "+E+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(i+=" "+E+".schema = "+a+"; "+E+".data = "+h+"; "),i+=" } } "):b?(i+="   var err =   ",!1!==e.createErrors?(i+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; ")):!1===x.errors?i+=" "+F+" ":(i+=" if (Array.isArray("+O+")) { if (vErrors === null) vErrors = "+O+"; else vErrors = vErrors.concat("+O+"); errors = vErrors.length;  for (var "+P+"="+f+"; "+P+"<errors; "+P+"++) { var "+E+" = vErrors["+P+"]; if ("+E+".dataPath === undefined) "+E+".dataPath = (dataPath || '') + "+e.errorPath+";  "+E+'.schemaPath = "'+l+'";  ',e.opts.verbose&&(i+=" "+E+".schema = "+a+"; "+E+".data = "+h+"; "),i+=" } } else { "+F+" } "),i+=" } ",d&&(i+=" else { ")}return i}},function(e,t,r){"use strict";var n=r(473);e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:n.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:n.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},function(e,t,r){"use strict";var n=r(1036);function a(e,t){if(Array.isArray(t)){for(var r=0;r<t.length;r++)i(t[r])(e);return e}if(t)return i(t)(e),e;for(t in n)i(t)(e);return e}function i(e){var t=n[e];if(!t)throw new Error("Unknown keyword "+e);return t}e.exports=a,a.get=i},function(e,t,r){"use strict";e.exports={instanceof:r(1037),range:r(1038),regexp:r(1039),typeof:r(1040),dynamicDefaults:r(1041),allRequired:r(1042),anyRequired:r(1043),oneRequired:r(1044),prohibited:r(1045),uniqueItemProperties:r(1046),deepProperties:r(1047),deepRequired:r(1048),formatMinimum:r(1049),formatMaximum:r(1051),patternRequired:r(1052),switch:r(1054),select:r(1056),transform:r(1057)}},function(e,t,r){"use strict";(function(t){var r={Object:Object,Array:Array,Function:Function,Number:Number,String:String,Date:Date,RegExp:RegExp};e.exports=function e(n){return void 0!==t&&(r.Buffer=t),"undefined"!=typeof Promise&&(r.Promise=Promise),e.definition={compile:function(e){if("string"==typeof e){var t=a(e);return function(e){return e instanceof t}}var r=e.map(a);return function(e){for(var t=0;t<r.length;t++)if(e instanceof r[t])return!0;return!1}},CONSTRUCTORS:r,metaSchema:{anyOf:[{type:"string"},{type:"array",items:{type:"string"}}]}},n.addKeyword("instanceof",e.definition),n;function a(e){var t=r[e];if(t)return t;throw new Error('invalid "instanceof" keyword value '+e)}}}).call(this,r(11).Buffer)},function(e,t,r){"use strict";e.exports=function e(t){return e.definition={type:"number",macro:function(e,t){var r=e[0],n=e[1],a=t.exclusiveRange;return function(e,t,r){if(void 0!==r&&"boolean"!=typeof r)throw new Error("Invalid schema for exclusiveRange keyword, should be boolean");if(e>t||r&&e==t)throw new Error("There are no numbers in range")}(r,n,a),!0===a?{exclusiveMinimum:r,exclusiveMaximum:n}:{minimum:r,maximum:n}},metaSchema:{type:"array",minItems:2,maxItems:2,items:{type:"number"}}},t.addKeyword("range",e.definition),t.addKeyword("exclusiveRange"),t}},function(e,t,r){"use strict";e.exports=function e(t){return e.definition={type:"string",inline:function(e,t,r){return function(){try{if("object"==typeof r)return new RegExp(r.pattern,r.flags);var e=r.match(/^\/(.*)\/([gimuy]*)$/);if(e)return new RegExp(e[1],e[2]);throw new Error("cannot parse string into RegExp")}catch(e){throw console.error("regular expression",r,"is invalid"),e}}()+".test(data"+(e.dataLevel||"")+")"},metaSchema:{type:["string","object"],properties:{pattern:{type:"string"},flags:{type:"string"}},required:["pattern"],additionalProperties:!1}},t.addKeyword("regexp",e.definition),t}},function(e,t,r){"use strict";var n=["undefined","string","number","object","function","boolean","symbol"];e.exports=function e(t){return e.definition={inline:function(e,t,r){var n="data"+(e.dataLevel||"");return"string"==typeof r?"typeof "+n+' == "'+r+'"':(r="validate.schema"+e.schemaPath+"."+t)+".indexOf(typeof "+n+") >= 0"},metaSchema:{anyOf:[{type:"string",enum:n},{type:"array",items:{type:"string",enum:n}}]}},t.addKeyword("typeof",e.definition),t}},function(e,t,r){"use strict";var n={},a={timestamp:function(){return Date.now()},datetime:function(){return(new Date).toISOString()},date:function(){return(new Date).toISOString().slice(0,10)},time:function(){return(new Date).toISOString().slice(11)},random:function(){return Math.random()},randomint:function(e){var t=e&&e.max||2;return function(){return Math.floor(Math.random()*t)}},seq:function(e){var t=e&&e.name||"";return n[t]=n[t]||0,function(){return n[t]++}}};e.exports=function e(t){return e.definition={compile:function(e,t,n){var a={};for(var i in e){var s=e[i],o=r("string"==typeof s?s:s.func);a[i]=o.length?o(s.args):o}return n.opts.useDefaults&&!n.compositeRule?function(t){for(var r in e)void 0!==t[r]&&("empty"!=n.opts.useDefaults||null!==t[r]&&""!==t[r])||(t[r]=a[r]());return!0}:function(){return!0}},DEFAULTS:a,metaSchema:{type:"object",additionalProperties:{type:["string","object"],additionalProperties:!1,required:["func","args"],properties:{func:{type:"string"},args:{type:"object"}}}}},t.addKeyword("dynamicDefaults",e.definition),t;function r(e){var t=a[e];if(t)return t;throw new Error('invalid "dynamicDefaults" keyword property value: '+e)}}},function(e,t,r){"use strict";e.exports=function e(t){return e.definition={type:"object",macro:function(e,t){if(!e)return!0;var r=Object.keys(t.properties);return 0==r.length||{required:r}},metaSchema:{type:"boolean"},dependencies:["properties"]},t.addKeyword("allRequired",e.definition),t}},function(e,t,r){"use strict";e.exports=function e(t){return e.definition={type:"object",macro:function(e){return 0==e.length||(1==e.length?{required:e}:{anyOf:e.map((function(e){return{required:[e]}}))})},metaSchema:{type:"array",items:{type:"string"}}},t.addKeyword("anyRequired",e.definition),t}},function(e,t,r){"use strict";e.exports=function e(t){return e.definition={type:"object",macro:function(e){return 0==e.length||(1==e.length?{required:e}:{oneOf:e.map((function(e){return{required:[e]}}))})},metaSchema:{type:"array",items:{type:"string"}}},t.addKeyword("oneRequired",e.definition),t}},function(e,t,r){"use strict";e.exports=function e(t){return e.definition={type:"object",macro:function(e){return 0==e.length||(1==e.length?{not:{required:e}}:{not:{anyOf:e.map((function(e){return{required:[e]}}))}})},metaSchema:{type:"array",items:{type:"string"}}},t.addKeyword("prohibited",e.definition),t}},function(e,t,r){"use strict";var n=["number","integer","string","boolean","null"];e.exports=function e(t){return e.definition={type:"array",compile:function(e,t,r){var a=r.util.equal,i=function(e,t){return e.map((function(e){var r=t.items&&t.items.properties,a=r&&r[e]&&r[e].type;return Array.isArray(a)?a.indexOf("object")<0&&a.indexOf("array")<0:n.indexOf(a)>=0}))}(e,t);return function(t){if(t.length>1)for(var r=0;r<e.length;r++){var n,s=e[r];if(i[r]){var o={};for(n=t.length;n--;)if(t[n]&&"object"==typeof t[n]){var c=t[n][s];if(!c||"object"!=typeof c){if("string"==typeof c&&(c='"'+c),o[c])return!1;o[c]=!0}}}else for(n=t.length;n--;)if(t[n]&&"object"==typeof t[n])for(var u=n;u--;)if(t[u]&&"object"==typeof t[u]&&a(t[n][s],t[u][s]))return!1}return!0}},metaSchema:{type:"array",items:{type:"string"}}},t.addKeyword("uniqueItemProperties",e.definition),t}},function(e,t,r){"use strict";var n=r(245);function a(e,t){for(var r=e.split("/"),n={},a=n,i=1;i<r.length;i++){var s=r[i],o=i==r.length-1;s=s.replace(/~1/g,"/").replace(/~0/g,"~");var c=a.properties={},u=void 0;if(/[0-9]+/.test(s)){var l=+s;for(u=a.items=[];l--;)u.push({})}a=o?t:{},c[s]=a,u&&u.push(a)}return n}e.exports=function e(t){return e.definition={type:"object",macro:function(e){var t=[];for(var r in e)t.push(a(r,e[r]));return{allOf:t}},metaSchema:{type:"object",propertyNames:{type:"string",format:"json-pointer"},additionalProperties:n.metaSchemaRef(t)}},t.addKeyword("deepProperties",e.definition),t}},function(e,t,r){"use strict";function n(e,t){var r="data"+(t||"");if(!e)return r;for(var n,o=r,c=e.split("/"),u=1;u<c.length;u++){var l=c[u];o+=" && "+(r+=(n=l.replace(/~1/g,"/").replace(/~0/g,"~"),i.test(n)?"["+n+"]":a.test(n)?"."+n:"['"+n.replace(s,"\\$&")+"']"))}return o}e.exports=function e(t){return e.definition={type:"object",inline:function(e,t,r){for(var a="",i=0;i<r.length;i++)i&&(a+=" && "),a+="("+n(r[i],e.dataLevel)+" !== undefined)";return a},metaSchema:{type:"array",items:{type:"string",format:"json-pointer"}}},t.addKeyword("deepRequired",e.definition),t};var a=/^[a-z$_][a-z$_0-9]*$/i,i=/^[0-9]+$/,s=/'|\\/g},function(e,t,r){"use strict";e.exports=r(474)("Minimum")},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(i||""),d="valid"+a;if(n+="var "+d+" = undefined;",!1===e.opts.format)return n+=" "+d+" = true; ";var h=e.schema.format,p=e.opts.$data&&h.$data,f="";if(p){n+=" var "+(m="format"+a)+" = formats["+e.util.getData(h.$data,i,e.dataPathArr)+"] , "+(g="compare"+a)+" = "+m+" && "+m+".compare;"}else{var m;if(!(m=e.formats[h])||!m.compare)return n+="  "+d+" = true; ";var g="formats"+e.util.getProperty(h)+".compare"}var y,b="formatMaximum"==t,v="formatExclusive"+(b?"Maximum":"Minimum"),_=e.schema[v],w=e.opts.$data&&_&&_.$data,x=b?"<":">",k="result"+a,S=e.opts.$data&&s&&s.$data;if(S?(n+=" var schema"+a+" = "+e.util.getData(s.$data,i,e.dataPathArr)+"; ",y="schema"+a):y=s,w){var O=e.util.getData(_.$data,i,e.dataPathArr),P="exclusive"+a,E="' + "+(T="op"+a)+" + '";n+=" var schemaExcl"+a+" = "+O+"; ",n+=" if (typeof "+(O="schemaExcl"+a)+" != 'boolean' && "+O+" !== undefined) { "+d+" = false; ";var A=v;(D=D||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(A||"_formatExclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: '"+v+" should be boolean' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var C=n;n=D.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+C+"]); ":n+=" validate.errors = ["+C+"]; return false; ":n+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }  ",u&&(f+="}",n+=" else { "),S&&(n+=" if ("+y+" === undefined) "+d+" = true; else if (typeof "+y+" != 'string') "+d+" = false; else { ",f+="}"),p&&(n+=" if (!"+g+") "+d+" = true; else { ",f+="}"),n+=" var "+k+" = "+g+"("+l+",  ",n+=S?""+y:""+e.util.toQuotedString(s),n+=" ); if ("+k+" === undefined) "+d+" = false; var "+P+" = "+O+" === true; if ("+d+" === undefined) { "+d+" = "+P+" ? "+k+" "+x+" 0 : "+k+" "+x+"= 0; } if (!"+d+") var op"+a+" = "+P+" ? '"+x+"' : '"+x+"=';"}else{E=x;(P=!0===_)||(E+="=");var T="'"+E+"'";S&&(n+=" if ("+y+" === undefined) "+d+" = true; else if (typeof "+y+" != 'string') "+d+" = false; else { ",f+="}"),p&&(n+=" if (!"+g+") "+d+" = true; else { ",f+="}"),n+=" var "+k+" = "+g+"("+l+",  ",n+=S?""+y:""+e.util.toQuotedString(s),n+=" ); if ("+k+" === undefined) "+d+" = false; if ("+d+" === undefined) "+d+" = "+k+" "+x,P||(n+="="),n+=" 0;"}n+=f+"if (!"+d+") { ";var D;A=t;(D=D||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(A||"_formatLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+T+", limit:  ",n+=S?""+y:""+e.util.toQuotedString(s),n+=" , exclusive: "+P+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be "+E+' "',n+=S?"' + "+y+" + '":""+e.util.escapeQuotes(s),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=S?"validate.schema"+o:""+e.util.toQuotedString(s),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";C=n;return n=D.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+C+"]); ":n+=" validate.errors = ["+C+"]; return false; ":n+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="}"}},function(e,t,r){"use strict";e.exports=r(474)("Maximum")},function(e,t,r){"use strict";e.exports=function e(t){return e.definition={type:"object",inline:r(1053),statements:!0,errors:"full",metaSchema:{type:"array",items:{type:"string",format:"regex"},uniqueItems:!0}},t.addKeyword("patternRequired",e.definition),t}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(i||""),d="valid"+a,h="key"+a,p="idx"+a,f="patternMatched"+a,m="dataProperties"+a,g="",y=e.opts.ownProperties;n+="var "+d+" = true;",y&&(n+=" var "+m+" = undefined;");var b=s;if(b)for(var v,_=-1,w=b.length-1;_<w;){v=b[_+=1],n+=" var "+f+" = false;  ",n+=y?" "+m+" = "+m+" || Object.keys("+l+"); for (var "+p+"=0; "+p+"<"+m+".length; "+p+"++) { var "+h+" = "+m+"["+p+"]; ":" for (var "+h+" in "+l+") { ",n+=" "+f+" = "+e.usePattern(v)+".test("+h+"); if ("+f+") break; } ";var x=e.util.escapeQuotes(v);n+=" if (!"+f+") { "+d+" = false;  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'patternRequired' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingPattern: '"+x+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have property matching pattern \\'"+x+"\\'' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; }   ",u&&(g+="}",n+=" else { ")}return n+=""+g}},function(e,t,r){"use strict";var n=r(245);e.exports=function e(t){if(!t.RULES.keywords.switch||!t.RULES.keywords.if){var a=n.metaSchemaRef(t);return e.definition={inline:r(1055),statements:!0,errors:"full",metaSchema:{type:"array",items:{required:["then"],properties:{if:a,then:{anyOf:[{type:"boolean"},a]},continue:{type:"boolean"}},additionalProperties:!1,dependencies:{continue:["if"]}}}},t.addKeyword("switch",e.definition),t}}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=" ",a=e.level,i=e.dataLevel,s=e.schema[t],o=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,l="data"+(i||""),d="valid"+a,h="errs__"+a,p=e.util.copy(e),f="";p.level++;var m,g="valid"+p.level,y="ifPassed"+e.level,b=p.baseId;n+="var "+y+";";var v=s;if(v)for(var _,w=-1,x=v.length-1;w<x;){if(_=v[w+=1],w&&!m&&(n+=" if (!"+y+") { ",f+="}"),_.if&&(e.opts.strictKeywords?"object"==typeof _.if&&Object.keys(_.if).length>0:e.util.schemaHasRules(_.if,e.RULES.all))){n+=" var "+h+" = errors;   ";var k=e.compositeRule;if(e.compositeRule=p.compositeRule=!0,p.createErrors=!1,p.schema=_.if,p.schemaPath=o+"["+w+"].if",p.errSchemaPath=c+"/"+w+"/if",n+="  "+e.validate(p)+" ",p.baseId=b,p.createErrors=!0,e.compositeRule=p.compositeRule=k,n+=" "+y+" = "+g+"; if ("+y+") {  ","boolean"==typeof _.then){if(!1===_.then){(O=O||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'switch' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { caseIndex: "+w+" } ",!1!==e.opts.messages&&(n+=" , message: 'should pass \"switch\" keyword validation' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";var S=n;n=O.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+S+"]); ":n+=" validate.errors = ["+S+"]; return false; ":n+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" var "+g+" = "+_.then+"; "}else p.schema=_.then,p.schemaPath=o+"["+w+"].then",p.errSchemaPath=c+"/"+w+"/then",n+="  "+e.validate(p)+" ",p.baseId=b;n+="  } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } } "}else if(n+=" "+y+" = true;  ","boolean"==typeof _.then){if(!1===_.then){var O;(O=O||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'switch' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { caseIndex: "+w+" } ",!1!==e.opts.messages&&(n+=" , message: 'should pass \"switch\" keyword validation' "),e.opts.verbose&&(n+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),n+=" } "):n+=" {} ";S=n;n=O.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+S+"]); ":n+=" validate.errors = ["+S+"]; return false; ":n+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" var "+g+" = "+_.then+"; "}else p.schema=_.then,p.schemaPath=o+"["+w+"].then",p.errSchemaPath=c+"/"+w+"/then",n+="  "+e.validate(p)+" ",p.baseId=b;m=_.continue}return n+=f+"var "+d+" = "+g+";"}},function(e,t,r){"use strict";var n=r(245);e.exports=function e(t){if(!t._opts.$data)return console.warn("keyword select requires $data option"),t;var r=n.metaSchemaRef(t),a=[];return e.definition={validate:function e(t,r,n){if(void 0===n.selectCases)throw new Error('keyword "selectCases" is absent');var a=i(n,!1),s=a.cases[t];if(void 0===s&&(s=a.default),"boolean"==typeof s)return s;var o=s(r);return o||(e.errors=s.errors),o},$data:!0,metaSchema:{type:["string","number","boolean","null"]}},t.addKeyword("select",e.definition),t.addKeyword("selectCases",{compile:function(e,t){var r=i(t);for(var n in e)r.cases[n]=s(e[n]);return function(){return!0}},valid:!0,metaSchema:{type:"object",additionalProperties:r}}),t.addKeyword("selectDefault",{compile:function(e,t){return i(t).default=s(e),function(){return!0}},valid:!0,metaSchema:r}),t;function i(e,t){var r;return a.some((function(t){if(t.parentSchema===e)return r=t,!0})),r||!1===t||(r={parentSchema:e,cases:{},default:!0},a.push(r)),r}function s(e){return"boolean"==typeof e?e:t.compile(e)}}},function(e,t,r){"use strict";e.exports=function e(t){var r={trimLeft:function(e){return e.replace(/^[\s]+/,"")},trimRight:function(e){return e.replace(/[\s]+$/,"")},trim:function(e){return e.trim()},toLowerCase:function(e){return e.toLowerCase()},toUpperCase:function(e){return e.toUpperCase()},toEnumCase:function(e,t){return t.hash[n(e)]||e}};return e.definition={type:"string",errors:!1,modifying:!0,valid:!0,compile:function(e,t){var a;if(-1!==e.indexOf("toEnumCase")){if(a={hash:{}},!t.enum)throw new Error('Missing enum. To use `transform:["toEnumCase"]`, `enum:[...]` is required.');for(var i=t.enum.length;i--;i){var s=t.enum[i];if("string"==typeof s){var o=n(s);if(a.hash[o])throw new Error('Invalid enum uniqueness. To use `transform:["toEnumCase"]`, all values must be unique when case insensitive.');a.hash[o]=s}}}return function(t,n,i,s){if(i){for(var o=0,c=e.length;o<c;o++)t=r[e[o]](t,a);i[s]=t}}},metaSchema:{type:"array",items:{type:"string",enum:["trimLeft","trimRight","trim","toLowerCase","toUpperCase","toEnumCase"]}}},t.addKeyword("transform",e.definition),t;function n(e){return e.toLowerCase()}}},function(e){e.exports=JSON.parse('{"additionalProperties":true,"properties":{"name":{"description":"The filename template for the target file(s) (https://github.com/webpack-contrib/file-loader#name).","anyOf":[{"type":"string"},{"instanceof":"Function"}]},"outputPath":{"description":"A filesystem path where the target file(s) will be placed (https://github.com/webpack-contrib/file-loader#outputpath).","anyOf":[{"type":"string"},{"instanceof":"Function"}]},"publicPath":{"description":"A custom public path for the target file(s) (https://github.com/webpack-contrib/file-loader#publicpath).","anyOf":[{"type":"string"},{"instanceof":"Function"}]},"postTransformPublicPath":{"description":"A custom transformation function for post-processing the publicPath (https://github.com/webpack-contrib/file-loader#posttransformpublicpath).","instanceof":"Function"},"context":{"description":"A custom file context (https://github.com/webpack-contrib/file-loader#context).","type":"string"},"emitFile":{"description":"Enables/Disables emit files (https://github.com/webpack-contrib/file-loader#emitfile).","type":"boolean"},"regExp":{"description":"A Regular Expression to one or many parts of the target file path. The capture groups can be reused in the name property using [N] placeholder (https://github.com/webpack-contrib/file-loader#regexp).","anyOf":[{"type":"string"},{"instanceof":"RegExp"}]},"esModule":{"description":"By default, file-loader generates JS modules that use the ES modules syntax.","type":"boolean"}},"type":"object"}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizePath=function(e,t){if("\\"===e||"/"===e)return"/";const r=e.length;if(r<=1)return e;let n="";if(r>4&&"\\"===e[3]){const t=e[2];"?"!==t&&"."!==t||"\\\\"!==e.slice(0,2)||(e=e.slice(2),n="//")}const a=e.split(/[/\\]+/);!1!==t&&""===a[a.length-1]&&a.pop();return n+a.join("/")}},function(e,t,r){(function(t){!function(){var n;n=void 0!==e.exports?r(1061):window.PNGlib;var a=function(e,t){if("string"!=typeof e||e.length<15)throw"A hash of at least 15 characters is required.";this.defaults={background:[240,240,240,255],margin:.08,size:64,saturation:.7,brightness:.5,format:"png"},this.options="object"==typeof t?t:this.defaults,"number"==typeof arguments[1]&&(this.options.size=arguments[1]),arguments[2]&&(this.options.margin=arguments[2]),this.hash=e,this.background=this.options.background||this.defaults.background,this.size=this.options.size||this.defaults.size,this.format=this.options.format||this.defaults.format,this.margin=void 0!==this.options.margin?this.options.margin:this.defaults.margin;var r=parseInt(this.hash.substr(-7),16)/268435455,n=this.options.saturation||this.defaults.saturation,a=this.options.brightness||this.defaults.brightness;this.foreground=this.options.foreground||this.hsl2rgb(r,n,a)};a.prototype={background:null,foreground:null,hash:null,margin:null,size:null,format:null,image:function(){return this.isSvg()?new i(this.size,this.foreground,this.background):new n(this.size,this.size,256)},render:function(){var e,t,r=this.image(),n=this.size,a=Math.floor(n*this.margin),i=Math.floor((n-2*a)/5),s=Math.floor((n-5*i)/2),o=r.color.apply(r,this.background),c=r.color.apply(r,this.foreground);for(e=0;e<15;e++)t=parseInt(this.hash.charAt(e),16)%2?o:c,e<5?this.rectangle(2*i+s,e*i+s,i,i,t,r):e<10?(this.rectangle(1*i+s,(e-5)*i+s,i,i,t,r),this.rectangle(3*i+s,(e-5)*i+s,i,i,t,r)):e<15&&(this.rectangle(0*i+s,(e-10)*i+s,i,i,t,r),this.rectangle(4*i+s,(e-10)*i+s,i,i,t,r));return r},rectangle:function(e,t,r,n,a,i){var s,o;if(this.isSvg())i.rectangles.push({x:e,y:t,w:r,h:n,color:a});else for(s=e;s<e+r;s++)for(o=t;o<t+n;o++)i.buffer[i.index(s,o)]=a},hsl2rgb:function(e,t,r){return[255*(t=[r+=t*=r<.5?r:1-r,r-(e*=6)%1*t*2,r-=t*=2,r,r+e%1*t,r+t])[~~e%6],255*t[(16|e)%6],255*t[(8|e)%6]]},toString:function(e){return e?this.render().getDump():this.render().getBase64()},isSvg:function(){return this.format.match(/svg/i)}};var i=function(e,t,r){this.size=e,this.foreground=this.color.apply(this,t),this.background=this.color.apply(this,r),this.rectangles=[]};i.prototype={size:null,foreground:null,background:null,rectangles:null,color:function(e,t,r,n){var a=[e,t,r].map(Math.round);return a.push(n>=0&&n<=255?n/255:1),"rgba("+a.join(",")+")"},getDump:function(){var e,t,r,n=this.foreground,a=this.background,i=.005*this.size;for(t="<svg xmlns='http://www.w3.org/2000/svg' width='"+this.size+"' height='"+this.size+"' style='background-color:"+a+";'><g style='fill:"+n+"; stroke:"+n+"; stroke-width:"+i+";'>",e=0;e<this.rectangles.length;e++)(r=this.rectangles[e]).color!=a&&(t+="<rect  x='"+r.x+"' y='"+r.y+"' width='"+r.w+"' height='"+r.h+"'/>");return t+="</g></svg>"},getBase64:function(){if("function"==typeof btoa)return btoa(this.getDump());if(t)return new t(this.getDump(),"binary").toString("base64");throw"Cannot generate base64 output"}},void 0!==e.exports?e.exports=a:window.Identicon=a}()}).call(this,r(11).Buffer)},function(e,t,r){
/**
* A handy class to calculate color values.
*
* @version 1.0
* @author Robert Eisele <robert@xarg.org>
* @copyright Copyright (c) 2010, Robert Eisele
* @link http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/
* @license http://www.opensource.org/licenses/bsd-license.php BSD License
*
*/
!function(){function t(e,t){for(var r=2;r<arguments.length;r++)for(var n=0;n<arguments[r].length;n++)e[t++]=arguments[r].charAt(n)}function r(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function n(e){return String.fromCharCode(255&e,e>>8&255)}var a=function(e,a,i){this.width=e,this.height=a,this.depth=i,this.pix_size=a*(e+1),this.data_size=2+this.pix_size+5*Math.floor((65534+this.pix_size)/65535)+4,this.ihdr_offs=0,this.ihdr_size=25,this.plte_offs=this.ihdr_offs+this.ihdr_size,this.plte_size=8+3*i+4,this.trns_offs=this.plte_offs+this.plte_size,this.trns_size=8+i+4,this.idat_offs=this.trns_offs+this.trns_size,this.idat_size=8+this.data_size+4,this.iend_offs=this.idat_offs+this.idat_size,this.iend_size=12,this.buffer_size=this.iend_offs+this.iend_size,this.buffer=new Array,this.palette=new Object,this.pindex=0;for(var s=new Array,o=0;o<this.buffer_size;o++)this.buffer[o]="\0";t(this.buffer,this.ihdr_offs,r(this.ihdr_size-12),"IHDR",r(e),r(a),"\b"),t(this.buffer,this.plte_offs,r(this.plte_size-12),"PLTE"),t(this.buffer,this.trns_offs,r(this.trns_size-12),"tRNS"),t(this.buffer,this.idat_offs,r(this.idat_size-12),"IDAT"),t(this.buffer,this.iend_offs,r(this.iend_size-12),"IEND");var c,u=30912;u+=31-u%31,t(this.buffer,this.idat_offs+8,(c=u,String.fromCharCode(c>>8&255,255&c)));for(o=0;(o<<16)-1<this.pix_size;o++){var l,d;o+65535<this.pix_size?(l=65535,d="\0"):(l=this.pix_size-(o<<16)-o,d=""),t(this.buffer,this.idat_offs+8+2+(o<<16)+(o<<2),d,n(l),n(~l))}for(o=0;o<256;o++){for(var h=o,p=0;p<8;p++)h=1&h?-306674912^h>>1&2147483647:h>>1&2147483647;s[o]=h}this.index=function(e,t){var r=t*(this.width+1)+e+1;return this.idat_offs+8+2+5*Math.floor(r/65535+1)+r},this.color=function(e,t,r,n){var a=(((n=n>=0?n:255)<<8|e)<<8|t)<<8|r;if(void 0===this.palette[a]){if(this.pindex==this.depth)return"\0";var i=this.plte_offs+8+3*this.pindex;this.buffer[i+0]=String.fromCharCode(e),this.buffer[i+1]=String.fromCharCode(t),this.buffer[i+2]=String.fromCharCode(r),this.buffer[this.trns_offs+8+this.pindex]=String.fromCharCode(n),this.palette[a]=String.fromCharCode(this.pindex++)}return this.palette[a]},this.getBase64=function(){var e,t,r,n,a,i,s,o=this.getDump(),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=o.length,l=0,d="";do{n=(e=o.charCodeAt(l))>>2,a=(3&e)<<4|(t=o.charCodeAt(l+1))>>4,r=o.charCodeAt(l+2),i=u<l+2?64:(15&t)<<2|r>>6,s=u<l+3?64:63&r,d+=c.charAt(n)+c.charAt(a)+c.charAt(i)+c.charAt(s)}while((l+=3)<u);return d},this.getDump=function(){for(var e=1,n=0,a=5552,i=0;i<this.height;i++)for(var o=-1;o<this.width;o++)n+=e+=this.buffer[this.index(o,i)].charCodeAt(0),0==(a-=1)&&(e%=65521,n%=65521,a=5552);function c(e,n,a){for(var i=-1,o=4;o<a-4;o+=1)i=s[255&(i^e[n+o].charCodeAt(0))]^i>>8&16777215;t(e,n+a-4,r(-1^i))}return e%=65521,n%=65521,t(this.buffer,this.idat_offs+this.idat_size-8,r(n<<16|e)),c(this.buffer,this.ihdr_offs,this.ihdr_size),c(this.buffer,this.plte_offs,this.plte_size),c(this.buffer,this.trns_offs,this.trns_size),c(this.buffer,this.idat_offs,this.idat_size),c(this.buffer,this.iend_offs,this.iend_size),"PNG\r\n\n"+this.buffer.join("")}};void 0!==e.exports?e.exports=a:window.PNGlib=a}()},function(e,t,r){"use strict";function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(12),s=r(47),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t||{},this.mining_active=!1,this.mining_speed=100,this.mining_timer=null}var t,r,o,c,u;return t=e,(r=[{key:"startMining",value:function(e){var t=this;e.is_valid&&(this.mining_active&&clearInterval(this.mining_timer),this.mining_active=!0,this.mining_timer=setInterval((function(){t.mine(e)}),this.mining_speed))}},{key:"stopMining",value:function(){this.mining_active=!1,clearInterval(this.mining_timer)}},{key:"mine",value:(c=regeneratorRuntime.mark((function e(t){var r,n,a,o,c,u,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:if(t.is_valid){e.next=4;break}return e.abrupt("return");case 4:if(1!=t.block.id){e.next=6;break}return e.abrupt("return");case 6:if(r=Math.random().toString(),n=this.app.crypto.hash(this.app.wallet.returnPublicKey()+r),this.app.wallet.returnPublicKey(),this.app.wallet.returnPrivateKey(),!(a=new i.goldenticket(this.app)).isValidSolution(n,t)){e.next=32;break}if(this.stopMining(),o=a.formatSolutionForGoldenTicket(t,r),c=new i.transaction,!(this.app.wallet.wallet.inputs.length>1)){e.next=21;break}if(c.transaction.from=this.app.wallet.returnAdequateInputs(1e-4),null!=c.transaction.from){e.next=19;break}return e.abrupt("return");case 19:e.next=23;break;case 21:c.transaction.from=[],c.transaction.from.push(new i.slip(this.app.wallet.returnPublicKey(),0,1));case 23:for(c.transaction.type=1,c.msg=o,u=s(c.transaction.from[0].amt),l=1;l<c.transaction.from.length;l++)u=u.plus(s(c.transaction.from[l].amt));(d=u.minus(s(1e-4))).gt(0)?(c.transaction.to.push(new i.slip(this.app.wallet.returnPublicKey(),d.toFixed(8),0)),c.transaction.to[c.transaction.to.length-1].type=0):c.transaction.to.push(new i.slip(this.app.wallet.returnPublicKey(),"0.0",0)),c=this.app.wallet.signTransaction(c),this.app.network.propagateTransaction(c),this.stopMining();case 32:case"end":return e.stop()}}),e,this)})),u=function(){var e=this,t=arguments;return new Promise((function(r,a){var i=c.apply(e,t);function s(e){n(i,r,a,s,o,"next",e)}function o(e){n(i,r,a,s,o,"throw",e)}s(void 0)}))},function(e){return u.apply(this,arguments)})}])&&a(t.prototype,r),o&&a(t,o),e}();e.exports=o},function(e,t){function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.mods=[],this.uimods=[],this.mods_list=r,this.lowest_sync_bid=-1}var t,r,a,o,c;return t=e,(r=[{key:"isModuleActive",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0;t<this.mods.length;t++)if(1==this.mods[t].browser_active&&e==this.mods[t].name)return 1;return 0}},{key:"returnActiveModule",value:function(){for(var e=0;e<this.mods.length;e++)if(1==this.mods[e].browser_active)return this.mods[e];return null}},{key:"attachEvents",value:function(){for(var e=0;e<this.mods.length;e++)1==this.mods[e].browser_active&&this.mods[e].attachEvents(this.app);return null}},{key:"affixCallbacks",value:function(e,t,r,n,a){if(9!=e.transaction.type)for(var i=0;i<this.mods.length;i++)null!=r.module?1==this.mods[i].shouldAffixCallbackToModule(r.module,e)&&(n.push(this.mods[i].onConfirmation.bind(this.mods[i])),a.push(t)):1==this.mods[i].shouldAffixCallbackToModule("",e)&&(n.push(this.mods[i].onConfirmation.bind(this.mods[i])),a.push(t))}},{key:"handlePeerRequest",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=0;n<this.mods.length;n++)try{this.mods[n].handlePeerRequest(this.app,e,t,r)}catch(e){console.log("handlePeerRequest Unknown Error: \n"+e)}}},{key:"initialize",value:(o=regeneratorRuntime.mark((function e(){var t,r,n,a,i,s,o,c,u,l,d,h=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.app.options&&this.app.options.modules)for(t=0;t<this.app.options.modules.length;t++)if(0==this.app.options.modules[t].active)for(r=0;r<this.mods.length;r++)this.mods[r].name===this.app.options.modules[t].name&&(this.mods.splice(r,1),r=this.mods.length+1);n=0,null==this.app.options.modules?this.app.options.modules=[]:(this.app.options.modules.length,this.mods.length),a=0;case 6:if(!(a<this.mods.length)){e.next=20;break}for(i=0,s=-1,o=0,c=0;c<this.app.options.modules.length;c++)this.mods[a].name==this.app.options.modules[c].name&&(i=1,s=c);if((0==i||0==this.app.options.modules[s].installed)&&(o=1),1!=o){e.next=17;break}return n=1,e.next=16,this.mods[a].installModule(this.app);case 16:-1!=s?(this.app.options.modules[s].installed=1,null==this.app.options.modules[s].version&&this.app.options.modules[s].version,null==this.app.options.modules[s].publisher&&this.app.options.modules[s].publisher,this.app.options.modules[s].active=1):this.app.options.modules.push({name:this.mods[a].name,installed:1,version:"",publisher:"",active:1});case 17:a++,e.next=6;break;case 20:1==n&&this.app.storage.saveOptions();case 21:if(u={},this.mods.forEach((function(e,t){u[e.name]&&(console.log("*****************************************************************"),console.log("***** WARNING: mod ".concat(e.name," is installed more than once! *****")),console.log("*****************************************************************")),u[e.name]=!0})),1==this.app.BROWSER)for(l=0;l<this.uimods.length;l++)this.mods.push(this.uimods[l]);d=0;case 25:if(!(d<this.mods.length)){e.next=31;break}return e.next=28,this.mods[d].initialize(this.app);case 28:d++,e.next=25;break;case 31:if(this.app.connection.on("handshake_complete",(function(e){h.onPeerHandshakeComplete(e)})),this.app.connection.on("connection_dropped",(function(e){h.onConnectionUnstable(e)})),this.app.connection.on("connection_up",(function(e){h.onConnectionStable(e)})),!this.app.BROWSER){e.next=41;break}return e.next=37,this.app.modules.initializeHTML();case 37:return e.next=39,this.app.modules.attachEvents();case 39:return e.next=41,this.app.modules.render();case 41:case"end":return e.stop()}}),e,this)})),c=function(){var e=this,t=arguments;return new Promise((function(r,n){var a=o.apply(e,t);function s(e){i(a,r,n,s,c,"next",e)}function c(e){i(a,r,n,s,c,"throw",e)}s(void 0)}))},function(){return c.apply(this,arguments)})},{key:"render",value:function(){for(var e=0;e<this.mods.length;e++)1==this.mods[e].browser_active&&this.mods[e].render(this.app);return null}},{key:"initializeHTML",value:function(){for(var e=0;e<this.mods.length;e++)1==this.mods[e].browser_active&&this.mods[e].initializeHTML(this.app);return null}},{key:"respondTo",value:function(e){return this.mods.filter((function(t){return null!=t.respondTo(e)}))}},{key:"getRespondTos",value:function(e){var t=[];return this.mods.forEach((function(r){var a=r.respondTo(e);null!=a&&t.push(n(n({},a),{},{modname:r.name}))})),t}},{key:"returnModulesBySubType",value:function(e){var t=[];return this.mods.forEach((function(r){r instanceof e&&t.push(r)})),t}},{key:"returnFirstModulBySubType",value:function(e){for(var t=0;t<this.mods.length;t++)if(this.mods[t]instanceof e)return this.mods[t];return null}},{key:"returnModulesByTypeName",value:function(e){}},{key:"returnFirstModuleByTypeName",value:function(e){for(var t=0;t<this.mods.length;t++)if(this.mods[t].constructor.name===e)return this.mods[t];return null}},{key:"returnFirstRespondTo",value:function(e){for(var t=0;t<this.mods.length;t++)if(this.mods[t].respondTo(e))return this.mods[t].respondTo(e);throw"Module responding to "+e+" not found"}},{key:"onNewBlock",value:function(e,t){for(var r=0;r<this.mods.length;r++)this.mods[r].onNewBlock(e,t)}},{key:"onChainReorganization",value:function(e,t,r,n){for(var a=0;a<this.mods.length;a++)this.mods[a].onChainReorganization(e,t,r,n);return null}},{key:"onPeerHandshakeComplete",value:function(e){for(var t=0;t<this.mods.length;t++)this.mods[t].onPeerHandshakeComplete(this.app,e)}},{key:"onConnectionStable",value:function(e){for(var t=0;t<this.mods.length;t++)this.mods[t].onConnectionStable(this.app,e)}},{key:"onConnectionUnstable",value:function(e){for(var t=0;t<this.mods.length;t++)this.mods[t].onConnectionUnstable(this.app,e)}},{key:"onWalletReset",value:function(){for(var e=0;e<this.mods.length;e++)this.mods[e].onWalletReset()}},{key:"returnModuleBySlug",value:function(e){for(var t=0;t<this.mods.length;t++)if(e===this.mods[t].returnSlug())return this.mods[t];return null}},{key:"returnModule",value:function(e){for(var t=0;t<this.mods.length;t++)if(e===this.mods[t].name)return this.mods[t];return null}},{key:"returnModuleIndex",value:function(e){for(var t=0;t<this.mods.length;t++)if(e===this.mods[t].name.toLowerCase())return t;return-1}},{key:"updateBlockchainSync",value:function(e,t){-1==this.lowest_sync_bid&&(this.lowest_sync_bid=e),(t-=this.lowest_sync_bid-1)<1&&(t=1),(e-=this.lowest_sync_bid-1)<1&&(e=1);var r=100;t>e&&(r=Math.floor(e/t*100));for(var n=0;n<this.mods.length;n++)this.mods[n].updateBlockchainSync(this.app,r);return null}},{key:"webServer",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=0;r<this.mods.length;r++)this.mods[r].webServer(this.app,e,t);return null}}])&&s(t.prototype,r),a&&s(t,a),e}();e.exports=o},function(e,t,r){"use strict";(function(t){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(47),o=r(12),c=r(53),u=function(){function e(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=r||{},this.directory=c.join(t,"../../data/"),this.blocks=[],this.transactions=[],this.routing_work_needed=0,this.routing_work_in_mempool=0,this.transaction_size_cap=256e5,this.transaction_size_current=0,this.block_size_cap=1024e6,this.block_size_current=0,this.clearing_active=!1,this.accept_zero_fee_txs=!0,this.processing_active=!1,this.processing_speed=10,this.processing_timer=null,this.bundling_active=!1,this.bundling_speed=1e3,this.bundling_timer=null,this.transactions_hmap=[],this.transactions_inputs_hmap=[],this.downloads={},this.downloads_hmap={},this.downloading_active=0,this.block_sample_size=15}var r,n,u,l;return r=e,(n=[{key:"canBundleBlock",value:function(){if(1==this.app.blockchain.indexing_active)return console.log("CANNOT PRODUCE AS ACTIVE INDEXING BLOCK"),0;if(1==this.app.blockchain.loading_blocks_from_disk_active)return console.log("CANNOT PRODUCE AS LOADING FROM DISK"),0;if(1==this.app.network.downloading_active)return console.log("CANNOT PRODUCE AS DOWNLOADING ACTIVE"),0;if(1==this.bundling_active)return console.log("CANNOT PRODUCE AS BUNDLING ACTIVE"),0;if(1==this.processing_active)return console.log("CANNOT PRODUCE AS PROCESSING ACTIVE"),0;if(1==this.clearing_active)return console.log("CANNOT PRODUCE AS CLEARING ACTIVE"),0;if(this.blocks.length>0)return console.log("CANNOT PRODUCE AS BLOCKS WAITING FOR PROCESSING"),0;if(0==this.transactions.length&&this.app.blockchain.last_bid>1)return console.log("CANNOT PRODUCE AS NO TXS and LAST_BID > 1"),0;if(this.app.options){if(this.app.options.wallet&&"number"==typeof this.app.options.wallet.bundleBlocks&&0==this.app.options.wallet.bundleBlocks)return 0;if(this.app.options.peers&&this.app.options&&this.app.options.peers.length>0&&0==this.app.blockchain.index.blocks.length)return console.log("ERROR: 502843: refusing to self-generate block #1 as we have defined peers..."),0}var e=this.app.blockchain.returnLatestBlock();return this.routing_work_needed=null!=e?this.app.burnfee.returnWorkNeeded(e.block.ts,(new Date).getTime(),e.block.bf):this.app.burnfee.returnWorkNeeded(),this.routing_work_in_mempool=parseFloat(this.returnRoutingWorkAvailable()),console.log("Total Work Needed: "+this.routing_work_needed+" ---- available ---\x3e "+this.routing_work_in_mempool+"     ("+this.app.wallet.returnBalance()+")"),this.routing_work_in_mempool>=this.routing_work_needed?1:0}},{key:"calculateRoutingWorkAvailable",value:function(){this.routing_work_in_mempool=0;for(var e=0;e<this.transactions.length;e++)this.routing_work_in_mempool+=this.transactions[e].returnWorkAvailable()}},{key:"containsBlock",value:function(e){return null==e||null==e.block||0==e.is_valid?0:1==this.blocks_hmap[e.block.sig]?1:0}},{key:"containsTransaction",value:function(e){if(null==e)return 0;if(null==e.transaction)return 0;if(null==e.transaction.from)return 0;if(1==this.transactions_hmap[e.transaction.sig])return 1;for(var t=0;t<e.transaction.from.length;t++)if(e.transaction.from[t].isNonZeroAmount()){var r=e.transaction.from[t].returnSignatureSource();if(1==this.transactions_inputs_hmap[r])return 1}return 0}},{key:"containsGoldenTicket",value:function(){for(var e=0;e<this.transactions.length;e++)if(1==this.transactions[e].isGoldenTicket())return 1;return 0}},{key:"resetTransactions",value:function(){this.transactions=[],this.transactions_hmap=[],this.transactions_inputs_hmap=[],this.transaction_size_current=0}},{key:"initialize",value:function(){var e=this;if(1!=this.app.BROWSER&&1!=this.app.SPVMODE)try{this.bundling_timer=setInterval(a(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.canBundleBlock()){t.next=3;break}return t.next=3,e.bundleBlock();case 3:case"end":return t.stop()}}),t)}))),this.bundling_speed)}catch(e){console.log(e),this.bundling_active=!1,this.bundling_speed=1e3,this.bundling_timer=null}}},{key:"returnRoutingWorkNeeded",value:function(e){return this.routing_work_needed=this.app.burnfee.returnRoutingWorkNeeded(e),this.routing_work_needed}},{key:"returnRoutingWorkAvailable",value:function(){for(var e=s(0),t=0;t<this.transactions.length;t++)if(1==this.transactions[t].is_valid){var r=s(this.transactions[t].returnRoutingWorkAvailable(this.app,this.app.wallet.returnPublicKey()));1==this.transactions[t].transaction.type&&this.transactions[t].returnMessage().target!=this.app.blockchain.returnLatestBlockHash()&&(r=s(0)),e=e.plus(r)}return e.toFixed(8)}},{key:"addBlock",value:function(e){if(null==e)return!1;if(!e.is_valid)return!1;if(!(this.block_size_current+e.size>this.block_size_cap)){for(var t=0;t<this.blocks.length;t++)if(this.blocks[t].returnHash()==e.returnHash())return!1;return this.blocks.push(e),this.block_size_current+=e.size,this.processBlockQueue(),!0}console.log("ERROR 629384: mempool block queue at size limit")}},{key:"addTransaction",value:function(e){if(e.validate(this.app,this.app.blockchain.last_bid+1)||1==e.transaction.type){if(s(e.returnFees(this.app)).lte(0)){if(!s(e.returnFees(this.app)).eq(0))return void console.log("ERROR 481023: not importing invalid transaction with negative fees to mempool");if(0==this.accept_zero_fee_txs)return}if(1==this.containsTransaction(e))return console.log("ERROR 582039: mempool already contains this transaction..."),void(0==this.routing_work_needed&&null==this.bundling_timer&&(console.log("Routing work is zero and bundling timer is inactive -- restarting bundle loop"),this.initialize()));if(!(e.size>this.transaction_size_cap)){this.transactions_hmap[e.transaction.sig]=1;for(var t=0;t<e.transaction.from.length;t++)e.transaction.from[t].isNonZeroAmount()&&(this.transactions_inputs_hmap[e.transaction.from[t].returnSignatureSource()]=1);return this.transaction_size_current+=e.size,this.transactions.push(e),1}console.log("ERROR 582034: mempool asked to add tx over "+this.transaction_size_cap+" bytes")}else console.log("ERROR 471293: not importing invalid transaction to mempool")}},{key:"processBlockQueue",value:function(){var e=this;if(1!=this.processing_active){this.processing_active=1,this.blocks.sort((function(e,t){return e.block.id-t.block.id}));try{this.processing_timer=setInterval(a(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.blocks.length>0)){t.next=7;break}if(0!=e.app.blockchain.indexing_active){t.next=5;break}return r=e.blocks.shift(),t.next=5,e.app.blockchain.addBlockToBlockchain(r);case 5:t.next=9;break;case 7:e.processing_active=0,clearInterval(e.processing_timer);case 9:case"end":return t.stop()}}),t)}))),this.processing_speed)}catch(e){console.log(e)}}}},{key:"bundleBlock",value:(l=a(regeneratorRuntime.mark((function e(){var t,r,n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=this.bundling_active){e.next=3;break}return console.log("ERROR 850293: currently bundling a block, cannot bundle new one."),e.abrupt("return");case 3:if(this.bundling_active=!0,1!=this.transactions.length){e.next=10;break}if(this.app.network.isPrivateNetwork()&&!this.app.network.isProductionNetwork()){e.next=10;break}if(1!=this.transactions[0].transaction.type){e.next=10;break}return console.log("WARNING 582034: refusing to spam public network with no-tx blocks."),this.bundling_active=!1,e.abrupt("return");case 10:if(0!=this.app.blockchain.index.blocks.length){e.next=17;break}if(!this.app.options){e.next=17;break}if(!this.app.options.peers){e.next=17;break}if(!(this.app.options.peers.length>0)){e.next=17;break}return console.log("WARNING 582034: refusing to spam public network with no-tx blocks."),this.bundling_active=!1,e.abrupt("return");case 17:e.prev=17,t=new o.block(this.app),r=this.app.blockchain.returnLatestBlock(),t.block.creator=this.app.wallet.returnPublicKey(),null!=r&&(t.block.prevbsh=r.returnHash()),n=0;case 23:if(!(n<this.transactions.length)){e.next=37;break}if(a=1,i=0,1!=this.transactions[n].transaction.type){e.next=32;break}if(this.transactions[n].returnMessage().target==r.returnHash()){e.next=32;break}return this.transactions.splice(n,1),this.bundling_active=!1,i=1,e.abrupt("return");case 32:1==a&&0==this.transactions[n].is_valid&&(console.log("deciding not to add this TX: "+JSON.stringify(this.transactions[n].transaction)),a=0),1==a?t.transactions.push(this.transactions[n]):0==i&&0==this.transactions[n].is_valid&&(this.transactions.splice(n,1),i=1,n--);case 34:n++,e.next=23;break;case 37:return e.next=39,t.bundle(r);case 39:if(!(0==t.transactions.length&&t.block.id>10)){e.next=46;break}return console.log("ERROR 51958: produced block with zero transactions. Aborting."),this.resetTransactions(),this.app.miner.stopMining(),this.app.miner.startMining(this.app.blockchain.returnLatestBlock()),this.bundling_active=!1,e.abrupt("return");case 46:if(0!=t.is_valid){e.next=50;break}return console.log("ERROR 105812: block invalid when bundling. Aborting block bundling..."),this.bundling_active=!1,e.abrupt("return");case 50:this.addBlock(t),e.next=56;break;case 53:e.prev=53,e.t0=e.catch(17),console.log("ERROR 781029: unexpected problem bundling block in mempool: "+e.t0);case 56:this.bundling_active=!1;case 57:case"end":return e.stop()}}),e,this,[[17,53]])}))),function(){return l.apply(this,arguments)})},{key:"removeBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!=e){this.clearing_active=!0;for(var t=this.blocks.length-1;t>=0;t--)this.blocks[t].returnHash()==e.returnHash()&&(this.block_size_current-=this.blocks[t].size,this.blocks.splice(t,1));this.clearing_active=!1}}},{key:"removeBlockAndTransactions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!=e){this.clearing_active=!0;for(var t=[],r=[],n=0;n<this.transactions.length;n++)t[this.transactions[n].transaction.sig]=n;for(var a=0;a<e.transactions.length;a++){var i=t[e.transactions[a].transaction.sig];null!=i&&(t[e.transactions[a].transaction.sig]=-1,this.transaction_size_current-=this.transactions[i].size)}for(var s=0;s<this.transactions.length;s++)if(1==this.transactions[s].transaction.type&&this.transactions[s].transaction.ts<e.block.ts){var o=t[this.transactions[s].transaction.sig];if(null!=o&&-1!=t[this.transactions[s].transaction.sig]){t[this.transactions[s].transaction.sig]=-1,this.transaction_size_current-=this.transactions[o].size,delete this.transactions_hmap[this.transactions[s].transaction.sig];for(var c=0;c<this.transactions[s].transaction.from.length;c++)delete this.transactions_inputs_hmap[this.transactions[s].transaction.from[c].returnSignatureSource()]}}for(var u=0;u<this.transactions.length;u++)t[this.transactions[u].transaction.sig]>-1&&r.push(this.transactions[u]);this.transactions=r;for(var l=0;l<e.transactions.length;l++){delete this.transactions_hmap[e.transactions[l].transaction.sig];for(var d=0;d<e.transactions[l].transaction.from.length;d++)delete this.transactions_inputs_hmap[e.transactions[l].transaction.from[d].returnSignatureSource()]}this.removeBlock(e),this.clearing_active=!1}}}])&&i(r.prototype,n),u&&i(r,u),e}();e.exports=u}).call(this,"/")},function(e,t,r){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(12),o=r(157),c=(r(475).set,r(156),r(241),function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t||{},this.peers=[],this.peer_monitor_timer=null,this.peer_monitor_timer_speed=1e4,this.peer_monitor_connection_timeout=5e3,this.peers_connected=0,this.peers_connected_limit=2048,this.sendblks=1,this.sendtxs=1,this.sendgts=1,this.receiveblks=1,this.receivetxs=1,this.receivegts=1,this.sockets=[],this.downloads={},this.downloads_hmap={},this.downloading_active=0,this.block_sample_size=15,this.dead_peers=[]}var t,r,n,c,u;return t=e,(r=[{key:"updatePeersWithWatchedPublicKeys",value:function(){for(var e=this.app.keys.returnWatchedPublicKeys(),t=0;t<this.peers.length;t++)this.app.network.peers[t].sendRequestWithCallback("keylist",e,(function(){}))}},{key:"initialize",value:function(){var e=this;if(this.app.options&&this.app.options.server&&(void 0!==this.app.options.server.receiveblks&&0===this.app.options.server.receiveblks&&(this.receiveblks=0),void 0!==this.app.options.server.receivetxs&&0===this.app.options.server.receivetxs&&(this.receivetxs=0),void 0!==this.app.options.server.receivegts&&0===this.app.options.server.receivegts&&(this.receivegts=0),void 0!==this.app.options.server.sendblks&&0===this.app.options.server.sendblks&&(this.sendblks=0),void 0!==this.app.options.server.sendtxs&&0===this.app.options.server.sendtxs&&(this.sendtxs=0),void 0!==this.app.options.server.sendgts&&0===this.app.options.server.sendgts&&(this.sendgts=0)),null!=this.app.options.peers)for(var t=0;t<this.app.options.peers.length;t++)this.connectToPeer(JSON.stringify(this.app.options.peers[t]));this.app.connection.on("peer_disconnect",(function(t){e.cleanupDisconnectedSocket(t)})),this.peer_monitor_timer=setInterval((function(){e.pollPeers(e.app.network.peers,e.app)}),this.peer_monitor_timer_speed)}},{key:"pollPeers",value:function(e,t){var r=this,n=t.network;e.forEach((function(e){e.socket.connected||r.dead_peers.includes(e)||r.cleanupDisconnectedSocket(e)}));var a=this.peer_monitor_timer_speed-this.peer_monitor_connection_timeout;this.dead_peers.forEach((function(e){setTimeout((function(){n.connectToPeer(JSON.stringify(e))}),a)})),this.dead_peers=[]}},{key:"cleanupDisconnectedSocket",value:function(e){for(var t=0;t<this.peers.length;t++)if(this.peers[t]==e){var r=-1;if(null!=this.app.options.peers)for(var n=0;n<this.app.options.peers.length;n++)this.app.options.peers[n].host==e.peer.host&&this.app.options.peers[n].port==e.peer.port&&(r=n);if(null!=this.app.options.peers&&void 0!==e.peer.endpoint)for(var a=0;a<this.app.options.peers.length;a++)this.app.options.peers[a].host==e.peer.endpoint.host&&this.app.options.peers[a].port==e.peer.endpoint.port&&(r=a);if(null!=this.app.options.peers&&null!=this.app.options.dns)for(var i=0;i<this.app.options.dns.length;i++)this.app.options.dns[i].host==e.peer.host&&this.app.options.dns[i].port==e.peer.port&&(r=i);r>=0&&this.dead_peers.push(this.app.options.peers[r]),this.peers[t].deletePeer(),this.peers.splice(t,1),t--,this.peers_connected--}}},{key:"connectToPeer",value:function(e){var t="",r="",n={};n.peer=JSON.parse(e),null==n.peer.protocol&&(n.peer.protocol="http"),null!=n.peer.host&&(t=n.peer.host),null!=n.peer.port&&(r=n.peer.port);for(var a=0;a<this.peers.length;a++)if(this.peers[a].peer.host==t&&this.peers[a].peer.port==r)return void console.log("already connected to peer...");if(null!=this.app.options.server){if("localhost"==t)return;if(this.app.options.server.host==t&&this.app.options.server.port==r)return void console.log("ERROR 185203: not adding "+this.app.options.server.host+" as peer since it is our server.");if(null!=this.app.options.server.endpoint&&this.app.options.server.endpoint.host==t&&this.app.options.server.endpoint.port==r)return void console.log("ERROR 185204: not adding "+this.app.options.server.host+" as peer since it is our server.")}var i=new s.peer(this.app,JSON.stringify(n));i.connect(0),this.peers.push(i),this.peers_connected++,console.log("connect to peer...")}},{key:"addRemotePeer",value:function(e){if(this.peers_connected>=this.peers_connected_limit)console.log("ERROR 757594: denying request to remote peer as server overloaded...");else{for(var t=0;t<this.peers.length;t++)if(this.peers[t].socket_id==e.id)return void console.log("error adding socket: already in pool");var r=new s.peer(this.app);r.socket=e,r.connect(1),this.peers.push(r),this.peers_connected++}}},{key:"propagateBlock",value:function(e){if(1!=this.app.BROWSER&&null!=e&&0!=e.is_valid)for(var t={bhash:e.returnHash(),bid:e.block.id},r=0;r<this.peers.length;r++)1==this.peers[r].handshake_completed&&1==this.peers[r].peer.sendblks&&this.peers[r].sendRequest("block",t)}},{key:"propagateTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"transaction",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!=e&&e.is_valid){if(1==e.transaction.type&&(t="golden ticket"),e.transaction.from[0].add==this.app.wallet.returnPublicKey()&&(this.app.wallet.addTransactionToPending(e),this.app.connection.emit("update_balance",this.app.wallet)),0==this.app.BROWSER&&0==this.app.SPVMODE&&1!=this.app.mempool.containsTransaction(e)){if(!this.app.mempool.addTransaction(e))return console.error("ERROR 810299: balking at propagating bad transaction"),void console.error("BAD TX: "+JSON.stringify(e.transaction));if(1==this.app.mempool.canBundleBlock())return 1}for(var n=e.returnFees(this.app),a=0;a<e.transaction.path.length;a++)n/=2;this.sendTransactionToPeers(e,t,n,r)}}},{key:"propagateOffchainTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"offchain transaction",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!=e&&e.is_valid){for(var n=e.returnFees(this.app),a=0;a<e.transaction.path.length;a++)n/=2;this.sendTransactionToPeers(e,t,n,r),this.peers.forEach((function(r){if(!r.inTransactionPath(e)&&null!=r.returnPublicKey()){var n=r.addPathToTransaction(e);r.sendTransaction(t,JSON.stringify(n.transaction))}}))}}},{key:"sendTransaction",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.peers.length-1;r>=0;r--)1==this.peers[r].peer.receivetxs&&this.peers[r].sendRequest(e,t)}},{key:"sendPeerRequest",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=this.peers.length-1;n>=0;n--)this.peers[n]==r&&this.peers[n].sendRequest(e,t)}},{key:"sendRequest",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.peers.length-1;r>=0;r--)this.peers[r].sendRequest(e,t)}},{key:"sendRequestWithCallback",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=this.peers.length-1;n>=0;n--)this.peers[n].sendRequestWithCallback(e,t,r)}},{key:"sendTransactionToPeers",value:function(e,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.peers.forEach((function(n){if(0!=n.peer.receivetxs&&!n.inTransactionPath(e)&&null!=n.returnPublicKey()){var a=n.addPathToTransaction(e);r?n.sendRequestWithCallback(t,JSON.stringify(a.transaction),r):n.sendRequest(t,JSON.stringify(a.transaction))}}))}},{key:"propagateTransactionWithCallback",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.propagateTransaction(e,"transaction",t)}},{key:"addBlockHashToQueue",value:function(e,t){if(1!=this.app.blockchain.isHashIndexed(t)&&1!=this.downloads_hmap[t]){var r=e.returnPublicKey();null==this.downloads[r]?(this.downloads[r]=[],this.downloads[r].push(t)):this.downloads[r].push(t),this.downloads_hmap[t]=1}}},{key:"fetchBlocks",value:(u=a(regeneratorRuntime.mark((function e(){var t,r,n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=this.downloading_active){e.next=2;break}return e.abrupt("return");case 2:e.prev=2,this.downloading_active=1,e.t0=regeneratorRuntime.keys(this.downloads);case 5:if((e.t1=e.t0()).done){e.next=45;break}if(t=e.t1.value,null==(r=this.app.network.returnPeerByPublicKey(t))){e.next=42;break}case 9:if(!(this.downloads[t].length>0)){e.next=42;break}n=0;case 11:if(!(n<this.downloads[t].length&&-1!=n)){e.next=40;break}if(a=this.app.wallet.returnPublicKey(),!((i=r.returnBlockURL(this.downloads[t][n])).indexOf("localhost")>-1&&0==this.app.BROWSER)){e.next=20;break}console.log("ERROR 482039: network misconfiguration trying to download from myself - peer as localhost"),this.downloads[t].shift(),this.downloading_active=0,e.next=38;break;case 20:return e.prev=20,e.next=23,this.fetchBlock("".concat(i,"/").concat(this.downloads[t][n],"/").concat(a),this.downloads[t][n]);case 23:this.downloads[t].shift(),e.next=38;break;case 26:if(e.prev=26,e.t2=e.catch(20),-1!=e.t2){e.next=34;break}return console.log("error downloading block... network down"),this.downloading_active=0,e.abrupt("return");case 34:console.log("error downloading block... network up (remove block)"),console.log("err: "+JSON.stringify(e.t2)),this.downloads[t].shift(),this.downloading_active=0;case 38:e.next=11;break;case 40:e.next=9;break;case 42:delete this.downloads[t],e.next=5;break;case 45:e.next=50;break;case 47:e.prev=47,e.t3=e.catch(2),console.log("ERROR 852034: error downloading blocks from peer");case 50:console.log("and out...downloading set tozero"),this.downloading_active=0,this.app.mempool.processBlockQueue();case 53:case"end":return e.stop()}}),e,this,[[2,47],[20,26]])}))),function(){return u.apply(this,arguments)})},{key:"fetchBlock",value:(c=a(regeneratorRuntime.mark((function e(t,r){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){o(t,{}).then((function(t){200!==t.status?(console.log("ERROR FETCHING BLOCK 11111. Status Code: ",t.status),a(200)):t.text().then((function(t){for(var a=n.app.storage.convertBlockStringToHeadersAndTransactionsJSON(t),i=new s.block(n.app,JSON.parse(a.headers)),o=0;o<a.transactions.length;o++)i.transactions.push(new s.transaction(JSON.parse(a.transactions[o])));n.app.mempool.addBlock(i),delete n.downloads_hmap[r],e()}))})).catch((function(e){console.log("Fetch Error :-S",e),a(-1)}))})));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})},{key:"returnPeerByPublicKey",value:function(e){for(var t=0;t<this.peers.length;t++){var r=this.peers[t];if(r.peer.publickey==e)return r}return null}},{key:"isPrivateNetwork",value:function(){for(var e=0;e<this.peers.length;e++)if(this.peers[e].isConnected())return!1;return null==this.app.options.peers}},{key:"isProductionNetwork",value:function(){return this.app.BROWSER,!1}},{key:"isConnected",value:function(){for(var e=0;e<this.peers.length;e++)if(1==this.peers[e].isConnected())return 1;return 0}},{key:"hasPeer",value:function(e){for(var t=0;t<this.peers.length;t++)if(this.peers[t].returnPublicKey()==e)return!0;return!1}},{key:"close",value:function(){console.log("closing network connections");for(var e=0;e<this.peers.length;e++)this.peers[e].socket&&delete this.peers[e].socket}}])&&i(t.prototype,r),n&&i(t,n),e}());e.exports=c},function(e,t,r){(function(t){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r(12),r(157),r(475).set;var c=r(156),u=r(241),l=r(1286),d=r(47),h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.api_call_index=0,this.api_callbacks={}}var n,s,h,p,f;return n=e,(s=[{key:"initialize",value:function(){this.app.BROWSER||(console.log("Connect to Rust client!"),this.wsConnectToRustPeer(),console.log("Connect to Rust client!"),this.getDemoBlockFromRust(),console.log("Connect to Rust client!"))}},{key:"u64FromBytes",value:function(e){var t=new d(this.u32FromBytes(e.slice(0,4))),r=new d(this.u32FromBytes(e.slice(4,8))),n=new d(4294967296);return t.times(n).plus(r)}},{key:"u64AsBytes",value:function(e){var r=new d(4294967296),n=e.div(r).round(0,d.roundDown),a=e.minus(n),i=this.u32AsBytes(Number(n)),s=this.u32AsBytes(Number(a));return t.concat([new Uint8Array(i),new Uint8Array(s)])}},{key:"u32FromBytes",value:function(e){for(var t=0,r=0;r<e.length;++r)t+=e[r],r<e.length-1&&(t<<=8);return t}},{key:"u32AsBytes",value:function(e){var t=[],r=4;do{t[--r]=255&e,e>>=8}while(r);return t}},{key:"u8FromByte",value:function(e){return 0+e}},{key:"u8AsByte",value:function(e){return 255&e}},{key:"sendAPICall",value:function(e,t,r){var n=this;return new Promise((function(a,i){n.api_callbacks[n.api_call_index]={resolve:a,reject:i};var s=n.serializeAPIMessage(t,n.api_call_index,r);n.api_call_index+=1,e.send(s)}))}},{key:"receiveAPIResponse",value:function(e){if(!this.api_callbacks[e.index])throw"response callback not found";this.api_callbacks[e.index].resolve(e.raw_message)}},{key:"receiveAPIError",value:function(e){var t=this.u32FromBytes(e.slice(8,12));if(!this.api_callbacks[t])throw"error callback not found";this.api_callbacks[t].reject(e.slice(12))}},{key:"serializeAPIMessage",value:function(e,t,r){var n=(new TextEncoder).encode(e),a=new Uint8Array(r),s=this.u32AsBytes(t);return new Uint8Array([].concat(i(n),i(s),i(a)))}},{key:"deserializeAPIMessage",value:function(e){return{command:"".concat(e.slice(0,8)),index:this.u32FromBytes(e.slice(8,12)),raw_message:e.slice(12)}}},{key:"deserializeHandshakeChallenge",value:function(e){var t=[];t[0]=e.readUInt8(0),t[1]=e.readUInt8(1),t[2]=e.readUInt8(2),t[3]=e.readUInt8(3);var r=[];return r[0]=e.readUInt8(4),r[1]=e.readUInt8(5),r[2]=e.readUInt8(6),r[3]=e.readUInt8(7),{their_ip_octets:t,my_ip_octets:r,their_address:e.slice(8,41),my_address:e.slice(41,74),timestamp:e.slice(74,82),their_sig:e.slice(82,146)}}},{key:"serializeBlock",value:function(e){for(var r=this.u32AsBytes(e.transactions.length),n=this.u64AsBytes(e.id),a=this.u64AsBytes(e.timestamp),s=t.from(e.previous_block_hash,"hex"),o=t.from(e.creator,"hex"),c=t.from(e.merkle_root,"hex"),u=t.from(e.signature,"hex"),l=this.u64AsBytes(e.treasury),d=this.u64AsBytes(e.staking_treasury),h=this.u64AsBytes(e.burnfee),p=this.u64AsBytes(e.difficulty),f=new Uint8Array([].concat(i(r),i(n),i(a),i(s),i(o),i(c),i(u),i(l),i(d),i(h),i(p))),m=0,g=[],y=0;y<e.transactions.length;y++){var b=this.serializeTransaction(e.transactions[y]);m+=b.length,g.push(b)}var v=new Uint8Array(213+m);v.set(f,0);for(var _=213,w=0;w<g.length;w++)v.set(g[w],_),_+=g[w].length;return v}},{key:"deserializeBlock",value:function(e){var t={transactions:[]},r=this.u32FromBytes(e.slice(0,4));t.id=this.u64FromBytes(e.slice(4,12)),t.timestamp=this.u64FromBytes(e.slice(12,20)),t.previous_block_hash=this.app.crypto.stringToHex(e.slice(20,52)),t.creator=this.app.crypto.stringToHex(e.slice(52,85)),t.merkle_root=this.app.crypto.stringToHex(e.slice(85,117)),t.signature=this.app.crypto.stringToHex(e.slice(117,181)),t.treasury=this.u64FromBytes(e.slice(181,189)),t.staking_treasury=this.u64FromBytes(e.slice(189,197)),t.burnfee=this.u64FromBytes(e.slice(197,205)),t.difficulty=this.u64FromBytes(e.slice(205,213));for(var n=213,a=0;a<r;a++){var i=n+89+75*(this.u32FromBytes(e.slice(n,n+4))+this.u32FromBytes(e.slice(n+4,n+8)))+this.u32FromBytes(e.slice(n+8,n+12))+130*this.u32FromBytes(e.slice(n+12,n+16)),s=this.deserializeTransaction(e,n);t.transactions.push(s),n=i}return t}},{key:"serializeTransaction",value:function(e){var r=this.u32AsBytes(e.inputs.length),n=this.u32AsBytes(e.outputs.length),a=this.u32AsBytes(e.message.length),s=this.u32AsBytes(e.path.length),o=t.from(e.signature,"hex"),c=this.u64AsBytes(e.timestamp),u=this.u8AsByte(e.transaction_type),l=[],d=[],h=[],p=89+75*e.inputs.length,f=89+75*(e.inputs.length+e.outputs.length),m=89+75*(e.inputs.length+e.outputs.length)+e.message.length,g=89+75*(e.inputs.length+e.outputs.length)+e.message.length+130*e.path.length,y=new Uint8Array(g);y.set(new Uint8Array([].concat(i(r),i(n),i(a),i(s),i(o),i(c),[u])),0);for(var b=0;b<e.inputs.length;b++)l.push(this.serializeSlip(e.inputs[b]));for(var v=89,_=0;_<l.length;_++)y.set(l[_],v),v+=75;for(var w=0;w<e.outputs.length;w++)d.push(this.serializeSlip(e.outputs[w]));for(var x=p,k=0;k<d.length;k++)y.set(d[k],x),x+=75;y.set(e.message,f);for(var S=0;S<e.path.length;S++){var O=this.serializeHop(e.path[S]);h.push(O)}for(var P=m,E=0;E<h.length;E++)y.set(h[E],P),P+=130;return y}},{key:"deserializeTransaction",value:function(e,t){for(var r=this.u32FromBytes(e.slice(t,t+4)),n=this.u32FromBytes(e.slice(t+4,t+8)),a=this.u32FromBytes(e.slice(t+8,t+12)),i=this.u32FromBytes(e.slice(t+12,t+16)),s=this.app.crypto.stringToHex(e.slice(t+16,t+80)),o=this.u64FromBytes(e.slice(t+80,t+88)),c=e[t+88],u=t+89,l=u+75*r,d=l+75*n,h=d+a,p=[],f=0;f<r;f++){var m=u+75*f,g=m+75,y=this.deserializeSlip(e.slice(m,g));p.push(y)}for(var b=[],v=0;v<n;v++){var _=l+75*v,w=_+75,x=this.deserializeSlip(e.slice(_,w));b.push(x)}for(var k=e.slice(d,d+a),S=[],O=0;O<i;O++){var P=h+130*O,E=P+130,A=this.deserializeHop(e.slice(P,E));S.push(A)}return{inputs:p,outputs:b,timestamp:o,signature:s,path:S,transaction_type:c,message:k}}},{key:"serializeSlip",value:function(e){var r=t.from(e.publickey,"hex"),n=t.from(e.uuid,"hex"),a=this.u64AsBytes(e.amount),s=this.u8AsByte(e.slip_ordinal),o=this.u8AsByte(e.slip_type);return new Uint8Array([].concat(i(r),i(n),i(a),[s,o]))}},{key:"deserializeSlip",value:function(e){return{publickey:this.app.crypto.stringToHex(e.slice(0,33)),uuid:this.app.crypto.stringToHex(e.slice(33,65)),amount:this.u64FromBytes(e.slice(65,73)),slip_ordinal:this.u8FromByte(e[73]),slip_type:this.u8FromByte(e[74])}}},{key:"serializeHop",value:function(e){var r=t.from(e.from,"hex"),n=t.from(e.to,"hex"),a=t.from(e.sig,"hex");return new Uint8Array([].concat(i(r),i(n),i(a)))}},{key:"deserializeHop",value:function(e){return{from:this.app.crypto.stringToHex(e.slice(0,33)),to:this.app.crypto.stringToHex(e.slice(33,66)),sig:this.app.crypto.stringToHex(e.slice(66,130))}}},{key:"wsConnectToRustPeer",value:(f=a(regeneratorRuntime.mark((function e(){var n,i,s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r(1067),(i=new n("http://127.0.0.1:3000/wsopen")).on("open",function(){var e=a(regeneratorRuntime.mark((function e(r){var n,a,o,d,h,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.concat([new Uint8Array([127,0,0,1]),c.decode(s.app.wallet.returnPublicKey())]),e.next=3,s.sendAPICall(i,"SHAKINIT",n);case 3:return a=e.sent,o=s.deserializeHandshakeChallenge(a),console.log("".concat(o.their_ip_octets[0],".").concat(o.their_ip_octets[1],".").concat(o.their_ip_octets[2],".").concat(o.their_ip_octets[3])),console.log("".concat(o.my_ip_octets[0],".").concat(o.my_ip_octets[1],".").concat(o.my_ip_octets[2],".").concat(o.my_ip_octets[3])),console.log(s.app.crypto.compressPublicKey(o.their_address)),console.log(s.app.crypto.compressPublicKey(o.my_address)),console.log(s.app.crypto.toBase58(o.their_sig)),d=u.verify(t.from(l.hash(t.from(a.slice(0,82),"hex")),"hex"),o.their_sig,o.their_address),console.log(d),h=u.sign(t.from(l.hash(a),"hex"),t.from(s.app.wallet.returnPrivateKey(),"hex")),p=h.signature,h.recovery,f=t.concat([a,p]),e.next=16,s.sendAPICall(i,"SHAKCOMP",f);case 16:e.sent;case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.on("message",(function(e){var t=s.deserializeAPIMessage(e);"RESULT__"===t.command?s.receiveAPIResponse(t):"ERROR___"===t.command&&s.receiveAPIError(t)})),i.on("error",(function(e){console.log("[error] ".concat(e.message))})),i.on("close",(function(e){console.log("[close] Connection closed cleanly, code=".concat(e.code," reason=").concat(e.reason))}));case 6:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})},{key:"getDemoBlockFromRust",value:(p=a(regeneratorRuntime.mark((function e(){var t,n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r(157),e.prev=1,e.next=5,t("http://127.0.0.1:3000/block/403fa38a30aa0028f3d7020c4856474eaaf4e6e9b8346142ee83624352ae069d");case 5:if(!(n=e.sent).ok){e.next=14;break}return e.next=9,n.buffer();case 9:a=e.sent,i=this.deserializeBlock(a),console.log("GOT BLOCK ".concat(i.id," ").concat(i.timestamp)),e.next=15;break;case 14:console.log("Error fetching block: Status ".concat(n.status," -- ").concat(n.statusText));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("Error fetching block: ".concat(e.t0));case 20:case"end":return e.stop()}}),e,this,[[1,17]])}))),function(){return p.apply(this,arguments)})}])&&o(n.prototype,s),h&&o(n,h),e}();e.exports=h}).call(this,r(11).Buffer)},function(e,t,r){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},function(e,t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r(this,e),this.from=t,this.to=n,this.sig=a}},function(e,t,r){(function(t){function n(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,c,"next",e)}function c(e){n(s,a,i,o,c,"throw",e)}o(void 0)}))}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(1070),c=(r(489).fixHammerjsDeltaIssue,r(12)),u=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(i(this,e),this.app=t||{},this.peer={},this.peer.host="localhost",this.peer.port="12101",this.peer.publickey="",this.peer.version="",this.peer.protocol="http",this.peer.synctype="full",this.peer.initiator=0,this.peer.modules=[],this.peer.sockets={},this.peer.receiveblks=1,this.peer.receivetxs=1,this.peer.receivegts=1,this.handle_peer_requests=1,this.peer.sendblks=1,this.peer.sendtxs=1,this.peer.sendgts=1,this.peer.minfee=.001,this.peer.endpoint={},this.peer.endpoint.host="localhost",this.peer.endpoint.port="12101",this.peer.endpoint.publickey="",this.peer.endpoint.protocol="http",this.peer.name="",this.peer.keylist=[],this.message_queue=[],this.message_queue_speed=1e3,this.message_queue_timer=null,this.events_active=0,""!=r){var n=JSON.parse(r);null==n.peer.endpoint&&(n.peer.endpoint={},n.peer.endpoint.host=n.peer.host,n.peer.endpoint.port=n.peer.port,n.peer.endpoint.protocol=n.peer.protocol),this.peer=n.peer,this.peer.handshake}this.handshake=this.returnHandshake(),this.handshake_completed=0,1!=this.app.SPVMODE&&1!=this.app.BROWSER||(this.peer.synctype="lite",this.handshake.peer.synctype="lite",this.handshake.peer.receiveblks=1,this.handshake.peer.receivetxs=0,this.handshake.peer.receivegts=0)}var r,n,u,l;return r=e,(n=[{key:"initialize",value:function(){var e=this;this.message_queue_timer=setInterval((function(){e.message_queue.length>0&&(e.message_queue.length>10&&(e.message_queue=e.message_queue.splice(10)),null!=e.socket&&1==e.socket.connected&&(e.socket.emit("request",e.message_queue[0]),e.message_queue.splice(0,1)))}),this.message_queue_speed)}},{key:"isConnected",value:function(){return null!=this.socket&&1==this.socket.connected}},{key:"isMainPeer",value:function(){if(this.app.options&&this.app.options.peers&&this.app.options.peers.length>0){var e=this.app.options.peers[0];if(e.host==this.peer.endpoint.host)return!0;if(e.host==this.peer.host)return!0}return!1}},{key:"returnHandshake",value:function(){var e={step:0};e.ts=(new Date).getTime(),e.attempts=0,e.complete=0,e.challenge_mine=Math.random(),e.challenge_peer="",e.challenge_proof="",e.challenge_verified=0,e.peer={},e.peer.host="",e.peer.port="",e.peer.protocol="",e.peer.endpoint={},e.peer.publickey=this.app.wallet.returnPublicKey(),e.peer.version=this.app.wallet.wallet.version,e.peer.synctype="full",e.peer.sendblks=this.app.network.sendblks,e.peer.sendtxs=this.app.network.sendtxs,e.peer.sendgts=this.app.network.sendgts,e.peer.receiveblks=this.app.network.receiveblks,e.peer.receivetxs=this.app.network.receivetxs,e.peer.receivegts=this.app.network.receivegts,e.modules=[];for(var t=0;t<this.app.modules.mods.length;t++)e.modules.push(this.app.modules.mods[t].name);e.services=[];for(var r=0;r<this.app.modules.mods.length;r++){var n=this.app.modules.mods[r].returnServices();if(n.length>0)for(var a=0;a<n.length;a++)e.services.push(n[a])}if(e.peer.keylist=[],e.blockchain={},e.blockchain.last_bid=this.app.blockchain.last_bid,e.blockchain.last_ts=this.app.blockchain.last_ts,e.blockchain.last_bsh=this.app.blockchain.last_bsh,e.blockchain.last_bf=this.app.blockchain.last_bf,e.blockchain.fork_id=this.app.blockchain.fork_id,e.blockchain.genesis_bid=this.app.blockchain.genesis_bid,this.app.server&&(e.peer.endpoint=this.app.server.server.endpoint),e.peer.keylist=this.app.keys.returnWatchedPublicKeys(),e.peer.keylist.push(this.app.wallet.returnPublicKey()),0==this.app.BROWSER&&this.app.options&&this.app.options.server){var i=this.app.options.server,s=i.name,o=i.host,c=i.port,u=i.protocol;e.peer.name=s,e.peer.host=o,e.peer.port=c,e.peer.protocol=u}return e}},{key:"returnPublicKey",value:function(){return this.peer.publickey}},{key:"deletePeer",value:function(){try{var e=this.socket.id;try{this.socket.disconnect(!0)}catch(t){console.log("error with socket.disconnect on "+e)}delete this.socket,this.socket||this.app.network.sockets.indexOf(e)>0&&this.app.network.sockets.splice(this.app.network.sockets.indexOf(e),1)}catch(e){console.log("error deleting peer socket"),console.log(e)}clearInterval(this.message_queue_timer)}},{key:"connect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0==e){if(this.peer.initiator=1,this.socket){try{this.socket.destroy()}catch(e){console.log(e)}delete this.socket,this.socket=null}var t={};t=1==this.app.BROWSER?{reconnection:!1,reconnectionDelay:500,reconnectionDelayMax:1e4,reconnectionAttempts:20,transports:["websocket"],pingTimeout:6e4,pingInterval:18e4,autoConnect:!1}:{reconnection:!0,reconnectionDelay:500,reconnectionDelayMax:1e4,reconnectionAttempts:20,pingTimeout:6e4,pingInterval:18e4,transports:["websocket"]},this.socket=o("".concat(this.peer.protocol,"://").concat(this.peer.host,":").concat(this.peer.port),t),this.socket.io.opts=t,this.addSocketEvents()}1==e&&this.addSocketEvents()}},{key:"sendRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!(0==this.peer.receiveblks&&"block"==e||0==this.peer.receiveblks&&"blockchain"==e||0==this.peer.receivetxs&&"transaction"==e||0==this.peer.receivegts&&"golden ticket"==e)){var r={};r.request=e,r.data=t,null!=this.socket&&(1==this.socket.connected&&this.socket.readyState===this.socket.OPEN?this.socket.emit("request",JSON.stringify(r)):this.message_queue.push(JSON.stringify(r)))}}},{key:"sendRequestWithCallbackAndRetry",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1.3,s=function s(o){o.err?"Socket Not Connected"===o.err?setTimeout((function(){a*=i,t.sendRequestWithCallback2(e,r,s)}),a):"Peer not found"===o.err?n(o):console.log("ERROR 12511: Unknown Error from socket..."):n(o)};this.sendRequestWithCallback2(e,r,s)}},{key:"sendRequestWithCallback2",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n={};n.request=e,n.data=t,null!=this.socket&&this.socket.connected&&this.socket.readyState===this.socket.OPEN?this.socket.emit("request",JSON.stringify(n),(function(e){r(e)})):r({err:"Socket Not Connected"})}},{key:"sendRequestWithCallback",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;if(!(0==this.peer.receiveblks&&"block"==e||0==this.peer.receiveblks&&"blockchain"==e||0==this.peer.receivetxs&&"transaction"==e||0==this.peer.receivegts&&"golden ticket"==e)){var n={};if(n.request=e,n.data=t,null!=this.socket)if(1==this.socket.connected&&this.socket.readyState===this.socket.OPEN)this.socket.emit("request",JSON.stringify(n),(function(e){r(e)}));else{this.message_queue.push(JSON.stringify(n));var a={err:"message queued for broadcast"};r(a)}}}},{key:"addSocketEvents",value:function(){var e=this;this.events_active=1;var t=this;try{this.socket.on("connect",(function(){try{t.app.network.sockets.push(e.id)}catch(e){console.log(e)}e.handshake.step<1&&(e.handshake.step=1),e.handshake.ts=(new Date).getTime(),e.handshake.attempts++,e.handshake.blockchain={},e.handshake.blockchain.last_bid=e.app.blockchain.last_bid,e.handshake.blockchain.last_ts=e.app.blockchain.last_ts,e.handshake.blockchain.last_bsh=e.app.blockchain.last_bsh,e.handshake.blockchain.last_bf=e.app.blockchain.last_bf,e.handshake.blockchain.fork_id=e.app.blockchain.fork_id,e.handshake.blockchain.genesis_bid=e.app.blockchain.genesis_bid,e.sendRequest("handshake",e.handshake),e.app.connection.emit("connection_up",e),e.app.wallet.rebroadcastPendingTransactions()})),this.socket.on("disconnect",(function(){e.app.connection.emit("connection_down",e)})),this.socket.on("reconnect",(function(){e.handshake.step=1,e.handshake.ts=(new Date).getTime(),e.handshake.attempts++,e.handshake.blockchain={},e.handshake.blockchain.last_bid=e.app.blockchain.last_bid,e.handshake.blockchain.last_ts=e.app.blockchain.last_ts,e.handshake.blockchain.last_bsh=e.app.blockchain.last_bsh,e.handshake.blockchain.last_bf=e.app.blockchain.last_bf,e.handshake.blockchain.fork_id=e.app.blockchain.fork_id,e.handshake.blockchain.genesis_bid=e.app.blockchain.genesis_bid,e.sendRequest("handshake",e.handshake),e.app.connection.emit("connection_up",e),e.app.wallet.rebroadcastPendingTransactions()})),this.socket.on("request",function(){var t=a(regeneratorRuntime.mark((function t(r){var n,a,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:null,a=JSON.parse(r.toString()),1!=e.app.BROWSER){t.next=9;break}if(0!=e.handle_peer_requests){t.next=9;break}if("keylist"==a.request||"handshake"==a.request){t.next=9;break}return console.log("---------------------------------------------"),console.log("-- inactive tab, bailing in peer.js -- "),console.log("---------------------------------------------"),t.abrupt("return");case 9:if(void 0!==r){t.next=12;break}return console.log("ERROR 012482: received undefined data from peer."),t.abrupt("return");case 12:t.t0=a.request,t.next="alertreset"===t.t0?15:"handshake"===t.t0?16:"block"===t.t0?18:"missing block"===t.t0?20:"blockchain"===t.t0?22:"transaction"===t.t0?24:"keylist"===t.t0?26:28;break;case 15:return t.abrupt("break",31);case 16:return e.handleHandshakeRequest(a),t.abrupt("break",31);case 18:return e.handleBlockRequest(a),t.abrupt("break",31);case 20:return e.handleMissingBlockRequest(a,n),t.abrupt("break",31);case 22:return e.handleBlockchainRequest(a),t.abrupt("break",31);case 24:return e.handleTransactionRequest(a,n),t.abrupt("break",31);case 26:return e.handleKeylistRequest(a),t.abrupt("break",31);case 28:return a.data&&a.data.transaction&&a.data.transaction.m&&(a.data.transaction.msg=JSON.parse(e.app.crypto.base64ToString(a.data.transaction.m)),a.data.msg=a.data.transaction.msg),e.app.modules.handlePeerRequest(a,e,n),t.abrupt("break",31);case 31:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),1==this.app.BROWSER&&this.socket&&this.socket.open&&this.socket.open()}catch(e){console.error("ERROR 581023: error handling peer request - "+e)}}},{key:"handleKeylistRequest",value:function(e){0!=this.handshake_completed&&(this.peer.keylist=e.data,console.log("UPDATED KEYLIST: "+JSON.stringify(this.peer.keylist)))}},{key:"configPeerFromHandshake",value:function(e){null!=this.peer.modules&&"undefined"!=this.peer.modules&&null!=this.peer.modules||(this.peer.modules=[]);for(var t=0;t<e.modules.length;t++)this.peer.modules.includes(e.modules[t])||this.peer.modules.push(e.modules[t]);this.peer.services=[],e.services&&e.services.length>0&&(this.peer.services=e.services),this.peer.receiveblks=e.peer.receiveblks,this.peer.receivetxs=e.peer.receivetxs,this.peer.receivegts=e.peer.receivegts,this.peer.sendblks=e.peer.sendblks,this.peer.sendtxs=e.peer.sendtxs,this.peer.sendgts=e.peer.sendgts,""==this.peer.publickey&&(this.peer.publickey=e.peer.publickey),this.peer.synctype=e.peer.synctype,this.peer.endpoint=e.peer.endpoint,this.peer.keylist=e.peer.keylist,this.peer.name=e.peer.name}},{key:"handleAlertResetRequest",value:function(e){e&&e.data&&(e.data.original_genesis_hash&&e.data.original_genesis_hash,e.data.original_genesis_sig&&e.data.original_genesis_sig,e.data.original_genesis_ts&&e.data.original_genesis_ts)}},{key:"handleHandshakeRequest",value:function(e){var r=this,n=e.data;if(this.configPeerFromHandshake(n),this.handshake.attempts,1==this.app.BROWSER&&(this.peer.synctype="lite",this.app.options.peers.forEach((function(e){e.host==n.peer.endpoint.host&&"none"==e.synctype&&(r.peer.synctype="none",r.handshake.peer.synctype="none")})),this.app.wallet.wallet.version<n.peer.version&&(window.location=window.location)),""==this.handshake.challenge_proof&&""!=n.challenge_mine&&(this.handshake.challenge_peer=n.challenge_mine,this.handshake.challenge_proof=this.app.crypto.signMessage("_"+this.handshake.challenge_peer,this.app.wallet.returnPrivateKey())),""!=this.handshake.challenge_mine&&""!=n.challenge_proof&&0==this.handshake.challenge_verified&&(0==this.app.crypto.verifyMessage("_"+this.handshake.challenge_mine,n.challenge_proof,n.peer.publickey)||(this.peer.publickey=n.peer.publickey,this.handshake.challenge_verified=1),this.app.connection.emit("handshake_complete",this),this.handshake_completed=1,this.app.wallet.rebroadcastPendingTransactions(this)),"none"!=this.peer.synctype&&"none"!=this.handshake.peer.synctype){var a=n.blockchain.last_bsh,i=n.blockchain.last_bid,s=n.blockchain.fork_id,o=(n.blockchain_genesis_bid,this.app.blockchain.last_bid),c=this.app.blockchain.returnLastSharedBlockId(s,i);0===c&&((c=this.app.blockchain.bsh_bid_hmap[a])>0||(c=0)),o>c&&(i-o>this.app.blockchain.genesis_period&&0!=i&&"full"==this.peer.synctype?(console.log("ERROR 184023: peer reports us as fully off-chain with same gp"),t.exit()):0==this.app.BROWSER&&i<o&&(0==c&&i>0&&i-c>9?(i=i<10?0:i-10,n.step>=3&&this.sendBlockchain(i,e.data.peer.synctype)):n.step>=3&&this.sendBlockchain(c,e.data.peer.synctype)))}this.handshake.step>=n.step&&this.handshake.attempts++,this.handshake.step<=3&&(this.handshake.step=n.step+1,this.handshake.blockchain={},this.handshake.blockchain.last_bid=this.app.blockchain.last_bid,this.handshake.blockchain.last_ts=this.app.blockchain.last_ts,this.handshake.blockchain.last_bsh=this.app.blockchain.last_bsh,this.handshake.blockchain.last_bf=this.app.blockchain.last_bf,this.handshake.blockchain.fork_id=this.app.blockchain.fork_id,this.handshake.blockchain.genesis_bid=this.app.blockchain.genesis_bid,this.sendRequest("handshake",this.handshake),this.app.wallet.rebroadcastPendingTransactions())}},{key:"handleBlockRequest",value:function(e){"none"!=this.peer.synctype&&"none"!=this.handshake.peer.synctype&&null!=e.data&&null!=e.data.bhash&&(console.log("\n________________________________"),console.log("BLOCK AVAILABLE: "+e.data.bhash),console.log("________________________________\n"),1!=this.app.blockchain.isHashIndexed(e.data.bhash)&&(this.app.network.addBlockHashToQueue(this,e.data.bhash,e.data.bid),this.app.network.fetchBlocks()))}},{key:"handleMissingBlockRequest",value:function(e,t){var r=JSON.parse(e.data),n=r.hash,a=r.last_hash,i=this.app.blockchain.bsh_bid_hmap[n],s=this.app.blockchain.bsh_bid_hmap[a];if(""==a){if(i>0){var o={bhash:n,bid:i};this.sendRequest("block",o)}}else s>0&&(i>s+1?(console.log("HANDLE MISSING BLOCK REQUEST"),this.sendBlockchain(s+1)):(o={bhash:n,bid:i},this.sendRequest("block",o)),null!=t&&t())}},{key:"handleBlockchainRequest",value:(l=a(regeneratorRuntime.mark((function e(t){var r,n,a,i,s,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=this.handshake.challenge_verified){e.next=3;break}return console.log("\n\n\nERROR 820342: handshake not verified when blockchain data sent."),e.abrupt("return");case 3:console.log("BLOCKCHAIN REQUEST: "+JSON.stringify(t)),r=t.data,n=r.start,a=0;case 7:if(!(a<r.prehash.length)){e.next=26;break}if(i=r.bid[a],s=this.app.crypto.hash(r.prehash[a]+n),o=r.ts[a],c=r.txs[a],1==this.app.blockchain.isHashIndexed(s)){e.next=22;break}if(0!=c||1!=this.app.BROWSER){e.next=19;break}return e.next=17,this.app.blockchain.addHashToBlockchain(s,o,i,n);case 17:e.next=20;break;case 19:this.app.network.addBlockHashToQueue(this,s,i,o);case 20:e.next=22;break;case 22:n=s;case 23:a++,e.next=7;break;case 26:this.app.network.fetchBlocks(),this.app.blockchain.saveBlockchain();case 28:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"sendAlertReset",value:function(){if(1!=this.app.BROWSER&&this.app.options&&this.app.options.blockchain&&""!=this.app.options.blockchain.original_genesis_sig){var e={request:"alertreset",data:{}};e.data.original_genesis_ts=this.app.options.blockchain.original_genesis_ts,e.data.original_genesis_hash=this.app.options.blockchain.original_genesis_hash,e.data.original_genesis_sig=this.app.options.blockchain.original_genesis_sig,this.socket.emit("request",JSON.stringify(e))}}},{key:"sendBlockchain",value:function(e,t){try{if(0==this.handshake.challenge_verified)return void console.log("ERROR 018413: skipping send blockchain as opposite party not verified...");if(0==e){var r="full"==t?this.app.blockchain.genesis_period:10;(e=this.app.blockchain.last_bid-r)<0&&(e=0)}console.log("Sending the Blockchain from start_bid: "+e);var n={request:"blockchain",data:{}};n.data.start=null,n.data.prehash=[],n.data.bid=[],n.data.ts=[],n.data.txs=[];for(var a=0,i=this.app.blockchain.index.blocks.length-1;i>=0;i--)this.app.blockchain.index.blocks[i].block.id<e?i=-1:a=i;for(var s=a;s<this.app.blockchain.index.blocks.length;s++)if(1==this.app.blockchain.bsh_lc_hmap[this.app.blockchain.index.blocks[s].returnHash()]){var o=this.app.blockchain.index.blocks[s],c=o.block,u=o.prehash;null==n.data.start&&(n.data.start=c.prevbsh),n.data.prehash.push(u),n.data.bid.push(c.id),n.data.ts.push(c.ts),this.app.blockchain.index.blocks[s].hasKeylistTransactions(this.peer.keylist)?n.data.txs.push(1):n.data.txs.push(0)}this.socket.emit("request",JSON.stringify(n))}catch(e){console.log("ERROR 471283: sending blockchain in SBTB: "+e)}}},{key:"handleTransactionRequest",value:function(e,t){var r=new c.transaction(JSON.parse(e.data));if(null!=r)if(r.is_valid){try{this.app.mempool.addTransaction(r)}catch(e){console.log(e)}null!=t&&t()}else console.log("NOT VALID TX");else console.log("NULL TX")}},{key:"returnBlockURL",value:function(e){var t=this.peer,r=t.protocol,n=t.host,a=t.port;return"localhost"==n&&"localhost"!=this.peer.endpoint.host&&(r=this.peer.endpoint.protocol,n=this.peer.endpoint.host,a=this.peer.endpoint.port),"lite"==this.peer.synctype?"".concat(r,"://").concat(n,":").concat(a,"/lite-blocks"):"".concat(r,"://").concat(n,":").concat(a,"/blocks")}},{key:"returnURL",value:function(){var e=this.peer.endpoint,t=e.protocol,r=e.host,n=e.port;return"".concat(t,"://").concat(r,":").concat(n)}},{key:"inTransactionPath",value:function(e){if(null==e)return 0;if(e.isFrom(this.peer.publickey))return 1;for(var t=0;t<e.transaction.path.length;t++)if(e.transaction.path[t].from==this.peer.publickey)return 1;return 0}},{key:"addPathToTransaction",value:function(e){var t=new c.transaction;t.transaction=JSON.parse(JSON.stringify(e.transaction));var r=new c.path;return r.from=this.app.wallet.returnPublicKey(),r.to=this.returnPublicKey(),r.sig=this.app.crypto.signMessage(r.to,this.app.wallet.returnPrivateKey()),t.transaction.path.push(r),t}}])&&s(r.prototype,n),u&&s(r,u),e}();e.exports=u}).call(this,r(19))},function(e,t,r){var n=r(1071),a=r(246),i=r(480),s=r(125)("socket.io-client");e.exports=t=c;var o=t.managers={};function c(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,a=n(e),c=a.source,u=a.id,l=a.path,d=o[u]&&l in o[u].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||d?(s("ignoring socket cache for %s",c),r=i(c,t)):(o[u]||(s("new io instance for %s",c),o[u]=i(c,t)),r=o[u]),a.query&&!t.query&&(t.query=a.query),r.socket(a.path,t)}t.protocol=a.protocol,t.connect=c,t.Manager=r(480),t.Socket=r(486)},function(e,t,r){var n=r(476),a=r(125)("socket.io-client:url");e.exports=function(e,t){var r=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host);"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(a("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),a("parse %s",e),r=n(e));r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443"));r.path=r.path||"/";var i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port,r.href=r.protocol+"://"+i+(t&&t.port===r.port?"":":"+r.port),r}},function(e,t,r){function n(e){var r;function n(){if(n.enabled){var e=n,a=+new Date,i=a-(r||a);e.diff=i,e.prev=r,e.curr=a,r=a;for(var s=new Array(arguments.length),o=0;o<s.length;o++)s[o]=arguments[o];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;c++;var a=t.formatters[n];if("function"==typeof a){var i=s[c];r=a.call(e,i),s.splice(c,1),c--}return r})),t.formatArgs.call(e,s);var u=n.log||t.log||console.log.bind(console);u.apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),n.destroy=a,"function"==typeof t.init&&t.init(n),t.instances.push(n),n}function a(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),a=n.length;for(r=0;r<a;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(r=0;r<t.instances.length;r++){var i=t.instances[r];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(477),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,r){var n=r(478),a=r(479),i=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),o="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);t.deconstructPacket=function(e){var t=[],r=e.data,i=e;return i.data=function e(t,r){if(!t)return t;if(a(t)){var i={_placeholder:!0,num:r.length};return r.push(t),i}if(n(t)){for(var s=new Array(t.length),o=0;o<t.length;o++)s[o]=e(t[o],r);return s}if("object"==typeof t&&!(t instanceof Date)){s={};for(var c in t)s[c]=e(t[c],r);return s}return t}(r,t),i.attachments=t.length,{packet:i,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,r){if(!t)return t;if(t&&t._placeholder)return r[t.num];if(n(t))for(var a=0;a<t.length;a++)t[a]=e(t[a],r);else if("object"==typeof t)for(var i in t)t[i]=e(t[i],r);return t}(e.data,t),e.attachments=void 0,e},t.removeBlobs=function(e,t){var r=0,i=e;!function e(c,u,l){if(!c)return c;if(s&&c instanceof Blob||o&&c instanceof File){r++;var d=new FileReader;d.onload=function(){l?l[u]=this.result:i=this.result,--r||t(i)},d.readAsArrayBuffer(c)}else if(n(c))for(var h=0;h<c.length;h++)e(c[h],h,c);else if("object"==typeof c&&!a(c))for(var p in c)e(c[p],p,c)}(i),r||t(i)}},function(e,t,r){e.exports=r(1075),e.exports.parser=r(108)},function(e,t,r){var n=r(481),a=r(94),i=r(160)("engine.io-client:socket"),s=r(485),o=r(108),c=r(476),u=r(158);function l(e,t){if(!(this instanceof l))return new l(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=!1!==t.withCredentials,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||void 0,this.key=t.key||void 0,this.passphrase=t.passphrase||void 0,this.cert=t.cert||void 0,this.ca=t.ca||void 0,this.ciphers=t.ciphers||void 0,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=l,l.priorWebsocketSuccess=!1,a(l.prototype),l.protocol=o.protocol,l.Socket=l,l.Transport=r(249),l.transports=r(481),l.parser=r(108),l.prototype.createTransport=function(e){i('creating transport "%s"',e);var t=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}(this.query);t.EIO=o.protocol,t.transport=e;var r=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new n[e]({query:t,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,withCredentials:r.withCredentials||this.withCredentials,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0,isReactNative:this.isReactNative})},l.prototype.open=function(){var e;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},l.prototype.setTransport=function(e){i("setting transport %s",e.name);var t=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},l.prototype.probe=function(e){i('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),r=!1,n=this;function a(){if(n.onlyBinaryUpgrades){var a=!this.supportsBinary&&n.transport.supportsBinary;r=r||a}r||(i('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(a){if(!r)if("pong"===a.type&&"probe"===a.data){if(i('probe transport "%s" pong',e),n.upgrading=!0,n.emit("upgrading",t),!t)return;l.priorWebsocketSuccess="websocket"===t.name,i('pausing current transport "%s"',n.transport.name),n.transport.pause((function(){r||"closed"!==n.readyState&&(i("changing transport and sending upgrade packet"),h(),n.setTransport(t),t.send([{type:"upgrade"}]),n.emit("upgrade",t),t=null,n.upgrading=!1,n.flush())}))}else{i('probe transport "%s" failed',e);var s=new Error("probe error");s.transport=t.name,n.emit("upgradeError",s)}})))}function s(){r||(r=!0,h(),t.close(),t=null)}function o(r){var a=new Error("probe error: "+r);a.transport=t.name,s(),i('probe transport "%s" failed because of error: %s',e,r),n.emit("upgradeError",a)}function c(){o("transport closed")}function u(){o("socket closed")}function d(e){t&&e.name!==t.name&&(i('"%s" works - aborting "%s"',e.name,t.name),s())}function h(){t.removeListener("open",a),t.removeListener("error",o),t.removeListener("close",c),n.removeListener("close",u),n.removeListener("upgrading",d)}l.priorWebsocketSuccess=!1,t.once("open",a),t.once("error",o),t.once("close",c),this.once("close",u),this.once("upgrading",d),t.open()},l.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},l.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(i('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else i('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},l.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){i("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},l.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(e,t,r){return this.sendPacket("message",e,t,r),this},l.prototype.sendPacket=function(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){(r=r||{}).compress=!1!==r.compress;var a={type:e,data:t,options:r};this.emit("packetCreate",a),this.writeBuffer.push(a),n&&this.once("flush",n),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?n():t()})):this.upgrading?n():t()}function t(){e.onClose("forced close"),i("socket closing - telling transport to close"),e.transport.close()}function r(){e.removeListener("upgrade",r),e.removeListener("upgradeError",r),t()}function n(){e.once("upgrade",r),e.once("upgradeError",r)}return this},l.prototype.onError=function(e){i("socket error %j",e),l.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},l.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){i('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},l.prototype.filterUpgrades=function(e){for(var t=[],r=0,n=e.length;r<n;r++)~s(this.transports,e[r])&&t.push(e[r]);return t}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,r){var n=r(247),a=r(482),i=r(94),s=r(159),o=r(160)("engine.io-client:polling-xhr"),c=r(248);function u(){}function l(e){if(a.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,r=location.port;r||(r=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}}function d(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.withCredentials=e.withCredentials,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(e.exports=l,e.exports.Request=d,s(l,a),l.prototype.supportsBinary=!0,l.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.withCredentials=this.withCredentials,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new d(e)},l.prototype.doWrite=function(e,t){var r="string"!=typeof e&&void 0!==e,n=this.request({method:"POST",data:e,isBinary:r}),a=this;n.on("success",t),n.on("error",(function(e){a.onError("xhr post error",e)})),this.sendXhr=n},l.prototype.doPoll=function(){o("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},i(d.prototype),d.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new n(e),r=this;try{o("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var a in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(a)&&t.setRequestHeader(a,this.extraHeaders[a])}catch(e){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");(r.supportsBinary&&"application/octet-stream"===e||"application/octet-stream; charset=UTF-8"===e)&&(t.responseType="arraybuffer")}catch(e){}4===t.readyState&&(200===t.status||1223===t.status?r.onLoad():setTimeout((function(){r.onError("number"==typeof t.status?t.status:0)}),0))},o("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((function(){r.onError(e)}),0)}"undefined"!=typeof document&&(this.index=d.requestsCount++,d.requests[this.index]=this)},d.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},d.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},d.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},d.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete d.requests[this.index],this.xhr=null}},d.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(e){}e=("application/octet-stream"===t||"application/octet-stream; charset=UTF-8"===t)&&this.xhr.response||this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},d.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},d.prototype.abort=function(){this.cleanup()},d.requestsCount=0,d.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",h);else if("function"==typeof addEventListener){addEventListener("onpagehide"in c?"pagehide":"unload",h,!1)}function h(){for(var e in d.requests)d.requests.hasOwnProperty(e)&&d.requests[e].abort()}},function(e,t){e.exports=Object.keys||function(e){var t=[],r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&t.push(n);return t}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t){e.exports=function(e,t,r){var n=e.byteLength;if(t=t||0,r=r||n,e.slice)return e.slice(t,r);if(t<0&&(t+=n),r<0&&(r+=n),r>n&&(r=n),t>=n||t>=r||0===n)return new ArrayBuffer(0);for(var a=new Uint8Array(e),i=new Uint8Array(r-t),s=t,o=0;s<r;s++,o++)i[o]=a[s];return i.buffer}},function(e,t){function r(){}e.exports=function(e,t,n){var a=!1;return n=n||r,i.count=e,0===e?t():i;function i(e,r){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(a=!0,t(e),t=n):0!==i.count||a||t(null,r)}}},function(e,t){
/*! https://mths.be/utf8js v2.1.2 by @mathias */
var r,n,a,i=String.fromCharCode;function s(e){for(var t,r,n=[],a=0,i=e.length;a<i;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(r=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--):n.push(t);return n}function o(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function c(e,t){return i(e>>t&63|128)}function u(e,t){if(0==(4294967168&e))return i(e);var r="";return 0==(4294965248&e)?r=i(e>>6&31|192):0==(4294901760&e)?(o(e,t)||(e=65533),r=i(e>>12&15|224),r+=c(e,6)):0==(4292870144&e)&&(r=i(e>>18&7|240),r+=c(e,12),r+=c(e,6)),r+=i(63&e|128)}function l(){if(a>=n)throw Error("Invalid byte index");var e=255&r[a];if(a++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function d(e){var t,i;if(a>n)throw Error("Invalid byte index");if(a==n)return!1;if(t=255&r[a],a++,0==(128&t))return t;if(192==(224&t)){if((i=(31&t)<<6|l())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if((i=(15&t)<<12|l()<<6|l())>=2048)return o(i,e)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(i=(7&t)<<18|l()<<12|l()<<6|l())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var r=!1!==(t=t||{}).strict,n=s(e),a=n.length,i=-1,o="";++i<a;)o+=u(n[i],r);return o},decode:function(e,t){var o=!1!==(t=t||{}).strict;r=s(e),n=r.length,a=0;for(var c,u=[];!1!==(c=d(o));)u.push(c);return function(e){for(var t,r=e.length,n=-1,a="";++n<r;)(t=e[n])>65535&&(a+=i((t-=65536)>>>10&1023|55296),t=56320|1023&t),a+=i(t);return a}(u)}}},function(e,t){!function(e){"use strict";t.encode=function(t){var r,n=new Uint8Array(t),a=n.length,i="";for(r=0;r<a;r+=3)i+=e[n[r]>>2],i+=e[(3&n[r])<<4|n[r+1]>>4],i+=e[(15&n[r+1])<<2|n[r+2]>>6],i+=e[63&n[r+2]];return a%3==2?i=i.substring(0,i.length-1)+"=":a%3==1&&(i=i.substring(0,i.length-2)+"=="),i},t.decode=function(t){var r,n,a,i,s,o=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var l=new ArrayBuffer(o),d=new Uint8Array(l);for(r=0;r<c;r+=4)n=e.indexOf(t[r]),a=e.indexOf(t[r+1]),i=e.indexOf(t[r+2]),s=e.indexOf(t[r+3]),d[u++]=n<<2|a>>4,d[u++]=(15&a)<<4|i>>2,d[u++]=(3&i)<<6|63&s;return l}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(e,t){var r=void 0!==r?r:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,n=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),a=n&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),i=r&&r.prototype.append&&r.prototype.getBlob;function s(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var r=new Uint8Array(e.byteLength);r.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=r.buffer}return t}return e}))}function o(e,t){t=t||{};var n=new r;return s(e).forEach((function(e){n.append(e)})),t.type?n.getBlob(t.type):n.getBlob()}function c(e,t){return new Blob(s(e),t||{})}"undefined"!=typeof Blob&&(o.prototype=Blob.prototype,c.prototype=Blob.prototype),e.exports=n?a?Blob:c:i?o:void 0},function(e,t,r){function n(e){var r;function n(){if(n.enabled){var e=n,a=+new Date,i=a-(r||a);e.diff=i,e.prev=r,e.curr=a,r=a;for(var s=new Array(arguments.length),o=0;o<s.length;o++)s[o]=arguments[o];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;c++;var a=t.formatters[n];if("function"==typeof a){var i=s[c];r=a.call(e,i),s.splice(c,1),c--}return r})),t.formatArgs.call(e,s);var u=n.log||t.log||console.log.bind(console);u.apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),n.destroy=a,"function"==typeof t.init&&t.init(n),t.instances.push(n),n}function a(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=n.debug=n.default=n).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),a=n.length;for(r=0;r<a;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(r=0;r<t.instances.length;r++){var i=t.instances[r];i.enabled=t.enabled(i.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(477),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t,r){var n=r(482),a=r(159),i=r(248);e.exports=l;var s,o=/\n/g,c=/\\n/g;function u(){}function l(e){n.call(this,e),this.query=this.query||{},s||(s=i.___eio=i.___eio||[]),this.index=s.length;var t=this;s.push((function(e){t.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=u)}),!1)}a(l,n),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),n.prototype.doClose.call(this)},l.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(t,r):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},l.prototype.doWrite=function(e,t){var r=this;if(!this.form){var n,a=document.createElement("form"),i=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=s,a.method="POST",a.setAttribute("accept-charset","utf-8"),i.name="d",a.appendChild(i),document.body.appendChild(a),this.form=a,this.area=i}function u(){l(),t()}function l(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(e)}catch(e){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),l(),e=e.replace(c,"\\\n"),this.area.value=e.replace(o,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&u()}:this.iframe.onload=u}},function(e,t,r){(function(t){var n,a,i=r(249),s=r(108),o=r(158),c=r(159),u=r(484),l=r(160)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof self&&(n=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{a=r(1088)}catch(e){}var d=n||a;function h(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=n&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(d=a),i.call(this,e)}e.exports=h,c(h,i),h.prototype.name="websocket",h.prototype.supportsBinary=!0,h.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,r={};this.isReactNative||(r.agent=this.agent,r.perMessageDeflate=this.perMessageDeflate,r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new d(e,t):new d(e):new d(e,t,r)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},h.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},h.prototype.write=function(e){var r=this;this.writable=!1;for(var n=e.length,a=0,i=n;a<i;a++)!function(e){s.encodePacket(e,r.supportsBinary,(function(a){if(!r.usingBrowserWebSocket){var i={};if(e.options&&(i.compress=e.options.compress),r.perMessageDeflate)("string"==typeof a?t.byteLength(a):a.length)<r.perMessageDeflate.threshold&&(i.compress=!1)}try{r.usingBrowserWebSocket?r.ws.send(a):r.ws.send(a,i)}catch(e){l("websocket closed before onclose event")}--n||o()}))}(e[a]);function o(){r.emit("flush"),setTimeout((function(){r.writable=!0,r.emit("drain")}),0)}},h.prototype.onClose=function(){i.prototype.onClose.call(this)},h.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},h.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",r="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),(e=o.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+e},h.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===h.prototype.name)}}).call(this,r(11).Buffer)},function(e,t){},function(e,t){e.exports=function(e,t){for(var r=[],n=(t=t||0)||0;n<e.length;n++)r[n-t]=e[n];return r}},function(e,t){function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},function(e,t){e.exports=GameHammerMobile=function(){return""}},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(12),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.slips=[]}var t,r,i;return t=e,(r=[{key:"unspend_transaction",value:function(e){for(var t=0;t<e.transaction.from.length;t++)this.insert_slip(e.transaction.from[t].returnSignatureSource(),-1)}},{key:"spend_transaction",value:function(e,t){for(var r=0;r<e.transaction.from.length;r++)this.insert_slip(e.transaction.from[r].returnSignatureSource(),t)}},{key:"spend_slipidx",value:function(e,t){this.insert_slip(e,t)}},{key:"insert_new_transaction",value:function(e,t){for(var r=0;r<t.transaction.to.length;r++){var n=new a.slip;n.add=t.transaction.to[r].add,n.bid=e.block.id,n.tid=t.transaction.id,n.sid=r,n.type=t.transaction.to[r].type,n.bsh=e.returnHash(),n.amt=t.transaction.to[r].amt,this.insert_slip(n.returnSignatureSource())}}},{key:"insert_slip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this.slips[e]=t}},{key:"delete_slip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";delete this.slips[e]}},{key:"validate_slip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=this.slips[e];return r==t||r<t?1:0}},{key:"validate_mempool_slip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return 0==this.slips[e]?0:-1==this.slips[e]?1:0}},{key:"slip_value",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.slips[e]}}])&&n(t.prototype,r),i&&n(t,i),e}();e.exports=i},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(12),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;n(this,e),this.add=t,this.bid=i,this.tid=s,this.sid=o,this.bsh=c,this.amt=r.toString(),this.type=a,this.ts=0,this.type=a,this.lc=u,this.from=[]}var t,r,s;return t=e,(r=[{key:"cloneSlip",value:function(){return new i.slip(this.add,this.amt,this.type,this.bid,this.tid,this.sid,this.bsh,this.lc)}},{key:"returnShashmapKey",value:function(){return this.type.toString()+this.add+this.bid.toString()+this.tid.toString()+this.sid.toString()+this.amt.toString()}},{key:"returnSignatureSource",value:function(){return this.type.toString()+this.bid.toString()+this.tid.toString()+this.sid.toString()+this.amt.toString()}},{key:"returnOriginalSignatureSource",value:function(){return this.type.toString()+"000"+this.amt.toString()}},{key:"isNonZeroAmount",value:function(){return"0"===this.amt||"0.0"===this.amt?0:1}}])&&a(t.prototype,r),s&&a(t,s),e}();e.exports=s},function(e,t,r){(function(t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(47),s=r(12),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(n(this,e),this.transaction={},this.transaction.id=1,this.transaction.from=[],this.transaction.to=[],this.transaction.ts=(new Date).getTime(),this.transaction.sig="",this.transaction.ver=1,this.transaction.path=[],this.transaction.r=1,this.transaction.type=0,this.transaction.m="",this.transaction.ps=0,this.fees_total="",this.work_available_to_me="",this.work_available_to_creator="",this.work_cumulative="0.0",this.msg={},this.dmsg="",this.size=0,this.is_valid=1,this.atr_trapdoor="00000000000000000000000000000000000000000000",this.atr_rebroadcasting_limit=10,null!=t)try{this.transaction=t,t.transaction&&(this.transaction=t.transaction),this.transaction.from=this.transaction.from.map((function(e){var t=e.add,r=e.amt,n=e.type,a=e.bid,i=e.tid,o=e.sid,c=e.bsh;return new s.slip(t,r,n,a,i,o,c)})),this.transaction.to=this.transaction.to.map((function(e){var t=e.add,r=e.amt,n=e.type,a=e.bid,i=e.tid,o=e.sid,c=e.bsh;return new s.slip(t,r,n,a,i,o,c)})),this.msg=JSON.parse(this.base64ToString(this.transaction.m))}catch(e){this.is_valid=0}this.size=JSON.stringify(this.transaction).length}var r,o,c;return r=e,(o=[{key:"clone",value:function(){return Object.assign(Object.create(Object.getPrototypeOf(this)),this)}},{key:"generateRebroadcastTransaction",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;if(0==this.transaction.to.length)return null;var a=new s.transaction;a.transaction.sig=this.transaction.sig,a.transaction.ts=this.transaction.ts,a.msg={};var o=i(n);if(0==n&&(o=i(2)),3==this.transaction.type&&(o=i(0)),0==this.transaction.type||1==this.transaction.type||2==this.transaction.type||3==this.transaction.type||4==this.transaction.type||5==this.transaction.type||6==this.transaction.type||7==this.transaction.type){var c;a.transaction.type=5,3==this.transaction.type&&(a.transaction.type=3),4==this.transaction.type&&(a.transaction.type=6),8==this.transaction.type&&(a.transaction.type=8,(o=i(i(n).times(10).toFixed(8))).lt(20)&&(o=i(20)),(c=i(this.transaction.to[r].amt).minus(o)).lt(0)&&(o=i(this.transaction.to[r].amt),c=i(0))),null==this.msg.loop?a.msg.loop=1:a.msg.loop=this.msg.loop+1,(c=i(this.transaction.to[r].amt).minus(o)).lt(0)&&(o=i(this.transaction.to[r].amt),c=i(0)),null!=this.msg.tx?a.msg.tx=this.msg.tx:a.msg.tx=JSON.stringify(this.transaction);var u=new s.slip(e,this.transaction.to[r].amt,5);u.tid=t,u.sid=r;var l=new s.slip(this.transaction.to[r].add,c.toFixed(8),5),d=new s.slip(this.atr_trapdoor,o.toFixed(8));d.sid=1,a.transaction.from.push(u),a.transaction.to.push(l),o.gt(0)&&a.transaction.to.push(d)}return a}},{key:"isFrom",value:function(e){return 0!=this.returnSlipsFrom(e).length}},{key:"isTo",value:function(e){return this.returnSlipsTo(e).length>0}},{key:"isGoldenTicket",value:function(){return 1==this.transaction.type?1:0}},{key:"isRebroadcast",value:function(e,t,r){return 0!=this.transaction.to.length&&null!=this.transaction.to[r]&&this.transaction.to[r].add!=this.atr_trapdoor&&(3==this.transaction.type||8==this.transaction.type||!!i(this.transaction.to[r].amt).gt(this.atr_rebroadcasting_limit))}},{key:"involvesPublicKey",value:function(e){var t=this.returnSlipsToAndFrom(e);return t.to.length>0||t.from.length>0?1:0}},{key:"returnPaymentTo",value:function(e){for(var t=this.returnSlipsToAndFrom(e),r=i(0),n=0;n<t.to.length;n++)t.to[n].add===e&&(r=r.plus(i(t.to[n].amt)));return r.toFixed(8).replace(/0+$/,"").replace(/\.$/,".0")}},{key:"returnSlipsFrom",value:function(e){var t=[];if(null!=this.transaction.from)for(var r=0;r<this.transaction.from.length;r++)this.transaction.from[r].add===e&&t.push(this.transaction.from[r]);return t}},{key:"returnSlipsToAndFrom",value:function(e){var t={from:[],to:[]};if(null!=this.transaction.from)for(var r=0;r<this.transaction.from.length;r++)this.transaction.from[r].add===e&&t.from.push(this.transaction.from[r]);if(null!=this.transaction.to)for(var n=0;n<this.transaction.to.length;n++)this.transaction.to[n].add===e&&t.to.push(this.transaction.to[n]);return t}},{key:"returnSlipsTo",value:function(e){var t=[];if(null!=this.transaction.to)for(var r=0;r<this.transaction.to.length;r++)this.transaction.to[r].add===e&&t.push(this.transaction.to[r]);return t}},{key:"stringToBase64",value:function(e){return t.from(e,"utf-8").toString("base64")}},{key:"base64ToString",value:function(e){return t.from(e,"base64").toString("utf-8")}},{key:"decryptMessage",value:function(e){if(this.transaction.from[0].add==e.wallet.returnPublicKey())try{this.dmsg=e.keys.decryptMessage(this.transaction.to[0].add,this.msg)}catch(e){}else try{var t=this.msg;this.dmsg=e.keys.decryptMessage(this.transaction.from[0].add,t)}catch(e){console.log("ERROR: "+e)}}},{key:"returnMessage",value:function(){return""!=this.dmsg?this.dmsg:(this.msg,this.msg)}},{key:"returnSignature",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return""!=this.transaction.sig&&1!=t||(this.transaction.sig=e.wallet.signMessage(this.returnSignatureSource(e))),this.transaction.sig}},{key:"returnSignatureSource",value:function(e){for(var t="",r=0;r<this.transaction.from.length;r++)t+=this.transaction.from[r].returnSignatureSource();for(var n=0;n<this.transaction.to.length;n++)t+=this.transaction.to[n].returnOriginalSignatureSource();return t+="".concat(this.transaction.ts).concat(this.transaction.type).concat(this.transaction.r).concat(this.transaction.m).concat(this.transaction.ps)}},{key:"returnPayment",value:function(e){var t=i(0);if(null!=this.transaction.from)for(var r=0;r<this.transaction.from.length;r++)t=t.plus(i(this.transaction.from[r].amt));for(var n=i(0),a=0;a<this.transaction.to.length;a++)this.transaction.to[a].type===e.wallet.returnPublicKey()&&(n=n.plus(i(this.transaction.to[a].amt)));return t.minus(n).toFixed(8)}},{key:"returnFees",value:function(e){if(""==this.fees_total){var t=i(0);if(null!=this.transaction.from)for(var r=0;r<this.transaction.from.length;r++)t=t.plus(i(this.transaction.from[r].amt));for(var n=i(0),a=0;a<this.transaction.to.length;a++)1!=this.transaction.to[a].type&&2!=this.transaction.to[a].type&&(n=n.plus(i(this.transaction.to[a].amt)));var s=t.minus(n);this.fees_total=s.toFixed(8)}return this.fees_total}},{key:"returnRoutingWorkAvailable",value:function(e){for(var t=i(this.returnFees(e)),r=0;r<this.transaction.path.length;r++){for(var n=1,a=r;a>0;a--)n*=2;t=t.div(n)}return t.toFixed(8)}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(1==e.BROWSER||1==e.SPVMODE)return!0;if(0==this.is_valid)return console.log("ERROR 329615: transaction is already marked invalid"),!1;if(4==this.transaction.type)return!0;if(9==this.transaction.type)return!(this.transaction.from.length>0||this.transaction.to.length>0);if(this.transaction.from.length<1)return console.log("ERROR 329380: no from address in transaction"),!1;if(this.transaction.to.length<1)return console.log("ERROR 183092: no to address in transaction"),!1;var r=i(0),n=i(0);if(2!=this.transaction.type){for(var a=0;a<this.transaction.from.length;a++)if((r=r.plus(i(this.transaction.from[a].amt))).lt(0))return console.log("ERROR 240812: negative payment in transaction from slip"),0;for(var o=0;o<this.transaction.to.length;o++)if((n=n.plus(i(this.transaction.to[o].amt))).lt(0))return console.log("ERROR 672939: negative payment in transaction to slip"),0;if(n.gt(r))return console.log("ERROR 672939: negative payment to slips > from slips"),0}if(2!=this.transaction.type&&3!=this.transaction.type&&5!=this.transaction.type)for(var c=0;c<this.transaction.from.length;c++)if(i(this.transaction.from[c].amt).gt(0)){if(this.transaction.from[c].bid<t-e.blockchain.genesis_period)return console.log("ERROR 570030: transaction tries to spend outdated input..."),this.is_valid=0,!1;if(""!=this.transaction.from[c].bsh&&1!=e.blockchain.bsh_lc_hmap[this.transaction.from[c].bsh])return console.log("ERROR 185013: transaction tries to spend input off longest chain..."),this.is_valid=0,!1;if(!e.shashmap.validate_slip(this.transaction.from[c].returnSignatureSource(),t))return console.log("ERROR 570130: cannot validate inputs with shashmap..."),this.is_valid=0,!1}if((0==this.transaction.type||1==this.transaction.type||4==this.transaction.type)&&!e.crypto.verifyMessage(this.returnSignatureSource(e),this.transaction.sig,this.transaction.from[0].add))return console.log("ERROR 141502: signature on normal transaction does not verify"),0;if(2==this.transaction.type&&!e.crypto.verifyMessage(this.returnSignatureSource(e),this.transaction.sig,this.transaction.from[0].add))return console.log("ERROR 374302: signature on 2/3/5/6/7 transaction does not validate"),0;if(this.transaction.type,this.transaction.type,5==this.transaction.type||6==this.transaction.type||7==this.transaction.type)try{var u=this.msg.tx,l=new s.transaction(JSON.parse(u)),d=l.returnSignatureSource(e),h=this.transaction.sig;if(this.transaction.from[0].add!=l.transaction.from[0].add)return console.log("ERROR 582230: sending address changed in rebroadcast transaction"),0;if(this.transaction.from[0].add!=l.transaction.from[0].add)return console.log("ERROR 137104: sending address changed in rebroadcast transaction"),0;if(!e.crypto.verifyMessage(d,h,l.transaction.from[0].add))return console.log("ERROR 137109: signature on original tx in rebroadcast transaction is invalid"),0}catch(e){return console.log("ERROR 578203: malformed rebroadcast transaction (original tx missing?)"),0}return!0}}])&&a(r.prototype,o),c&&a(r,c),e}();e.exports=o}).call(this,r(11).Buffer)},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,c,"next",e)}function c(e){a(s,n,i,o,c,"throw",e)}o(void 0)}))}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var a=u(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}var p=r(12),f=r(47),m=r(492),g=r(1096),y=function(){function e(t){if(l(this,e),!(this instanceof e))return new e(t);this.app=t||{},this.wallet={},this.wallet.balance="0",this.wallet.publickey="",this.wallet.privatekey="",this.wallet.inputs=[],this.wallet.outputs=[],this.wallet.spends=[],this.wallet.default_fee=2,this.wallet.version=3.465,this.wallet.preferred_crypto="SAITO",this.wallet.preferred_txs=[],this.inputs_hmap=[],this.inputs_hmap_counter=0,this.inputs_hmap_counter_limit=1e4,this.outputs_hmap=[],this.outputs_hmap_counter=0,this.outputs_hmap_counter_limit=1e4,this.outputs_prune_limit=100,this.recreate_pending_transactions=0;var r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,r,n,a=o(c);function c(e){var t;return l(this,c),(t=a.call(this,e,"SAITO")).name="Saito",t.description="Saito",t}return h(c,[{key:"returnBalance",value:(n=i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",parseFloat(this.app.wallet.returnBalance()));case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"returnAddress",value:function(){return this.app.wallet.returnPublicKey()}},{key:"returnPrivateKey",value:function(){return this.app.wallet.returnPrivateKey()}},{key:"transfer",value:(r=i(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.app.wallet.transferTo(t,r);case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"hasPayment",value:(t=i(regeneratorRuntime.mark((function e(t,r,n,a){var i,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!=this.app.wallet.returnPublicKey()){e.next=24;break}i=0;case 4:if(!(i<this.app.wallet.wallet.inputs.length)){e.next=12;break}if(this.app.wallet.wallet.inputs[i].amt!==t){e.next=9;break}if(!(parseInt(this.app.wallet.wallet.inputs[i].ts)>=parseInt(a))){e.next=9;break}if(this.app.wallet.wallet.inputs[i].add!=n){e.next=9;break}return e.abrupt("return",!0);case 9:i++,e.next=4;break;case 12:s=0;case 13:if(!(s<this.app.wallet.wallet.outputs.length)){e.next=21;break}if(this.app.wallet.wallet.outputs[s].amt!==t){e.next=18;break}if(!(parseInt(this.app.wallet.wallet.outputs[s].ts)>=parseInt(a))){e.next=18;break}if(this.app.wallet.wallet.outputs[s].add!=n){e.next=18;break}return e.abrupt("return",!0);case 18:s++,e.next=13;break;case 21:return e.abrupt("return",!1);case 24:if(r!=this.app.wallet.returnPublicKey()){e.next=34;break}o=0;case 26:if(!(o<this.app.wallet.wallet.outputs.length)){e.next=34;break}if(this.app.wallet.wallet.outputs[o].amt!==t){e.next=31;break}if(!(parseInt(this.app.wallet.wallet.outputs[o].ts)>=parseInt(a))){e.next=31;break}if(this.app.wallet.wallet.outputs[o].add!=n){e.next=31;break}return e.abrupt("return",!0);case 31:o++,e.next=26;break;case 34:return e.abrupt("return",!1);case 35:case"end":return e.stop()}}),e,this)}))),function(e,r,n,a){return t.apply(this,arguments)})},{key:"returnIsActivated",value:function(){return!0}},{key:"onIsActivated",value:function(){return new Promise((function(e,t){e()}))}}]),c}(m);this.saitoCrypo=new r(t)}var t,r,n,a,c,u,d,y;return h(e,[{key:"addInput",value:function(e){for(var t=this.wallet.inputs.length;t>0&&this.wallet.inputs[t-1].bid>e.bid;)t--;-1==t&&(t=0),this.wallet.inputs.splice(t,0,e),this.wallet.spends.splice(t,0,0);var r=e.returnSignatureSource(e);if(this.inputs_hmap[r]=1,this.inputs_hmap_counter++,this.inputs_hmap_counter>this.inputs_hmap_counter_limit){this.inputs_hmap=[],this.outputs_hmap=[],this.inputs_hmap_counter=0,this.outputs_hmap_counter=0;for(var n=0;n<this.wallet.inputs.length;n++){var a=this.wallet.inputs[n].returnSignatureSource();this.inputs_hmap[a]=1}for(var i=0;i<this.wallet.outputs.length;i++){var s=this.wallet.outputs[i].returnSignatureSource();this.outputs_hmap[s]=1}}}},{key:"addOutput",value:function(e){this.wallet.outputs.push(e);var t=e.returnSignatureSource();if(this.outputs_hmap[t]=1,this.outputs_hmap_counter++,this.wallet.outputs.length>this.outputs_prune_limit){console.log("Deleting Excessive outputs from heavy-spend wallet...");var r=this.wallet.outputs.length-this.outputs_prune_limit;r+=10,this.wallet.outputs.splice(0,r),this.outputs_hmap_counter=0}}},{key:"containsInput",value:function(e){var t=e.returnSignatureSource();return 1==this.inputs_hmap[t]}},{key:"containsOutput",value:function(e){var t=e.returnSignatureSource();return 1==this.outputs_hmap[t]}},{key:"transferTo",value:function(e,t){var r=this.app.wallet.returnBalance()>0?this.app.wallet.createUnsignedTransactionWithDefaultFee(t,e):this.app.wallet.createUnsignedTransaction(t,e,0);r=this.app.wallet.signAndEncryptTransaction(r),this.app.network.propagateTransaction(r),console.log("wallet transfer to"),console.log(r)}},{key:"addTransactionToPending",value:function(e){var t=JSON.stringify(e.transaction);t.length>1e5||this.wallet.pending.includes(t)||(this.wallet.pending.push(t),this.saveWallet())}},{key:"doesSlipInPendingTransactionsSpendBlockHash",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0;t<this.wallet.pending.length;t++)for(var r=new p.transaction(JSON.parse(this.wallet.pending[t])),n=0;n<r.transaction.from.length;n++)if(r.transaction.from[n].bsh==e)return!0;return!1}},{key:"initialize",value:function(e){var t=this;if(""==this.wallet.privatekey){if(null!=this.app.options.wallet){if(this.app.options.wallet.version<this.wallet.version)if(1==this.app.BROWSER){var r=this.app.options.wallet.privatekey,n=this.app.options.wallet.publickey;this.wallet.publickey=n,this.wallet.privatekey=r,this.app.modules.onWalletReset(),this.app.storage.resetOptions(),this.app.storage.saveOptions(),this.wallet.publickey=n,this.wallet.privatekey=r,this.app.options.wallet=this.wallet,this.app.options.blockchain.last_bid="",this.app.options.blockchain.last_hash="",this.app.options.blockchain.last_ts="",this.app.options.wallet.inputs=[],this.app.options.wallet.outputs=[],this.app.options.wallet.pending=[],this.app.options.wallet.spends=[],this.app.options.wallet.balance="0.0",this.app.options.wallet.version=this.wallet.version,this.saveWallet(),salert("Saito Upgrade: Wallet Reset")}else this.app.options.wallet.version=this.wallet.version,this.app.options.wallet.inputs=[],this.app.options.wallet.outputs=[],this.app.options.wallet.spends=[],this.app.options.wallet.pending=[],this.app.options.wallet.balance="0.0",this.app.storage.saveOptions();this.wallet=Object.assign(this.wallet,this.app.options.wallet)}""==this.wallet.privatekey&&this.resetWallet()}if(this.wallet.spends=[],null!=this.app.options.wallet){if(null!=this.app.options.wallet.inputs)for(var a=0;a<this.app.options.wallet.inputs.length;a++){var i=this.app.options.wallet.inputs[a],s=i.add,o=i.amt,c=i.type,u=i.bid,l=i.tid,d=i.sid,h=i.bsh,f=i.lc,m=i.rn;this.wallet.inputs[a]=new p.slip(s,o,c,u,l,d,h,f,m),this.app.options.wallet.inputs[a].ts&&(this.wallet.inputs[a].ts=this.app.options.wallet.inputs[a].ts),this.wallet.spends.push(0);var g=this.wallet.inputs[a].returnSignatureSource();this.inputs_hmap[g]=1,this.inputs_hmap_counter++}if(null!=this.app.options.wallet.outputs)for(var y=0;y<this.app.options.wallet.outputs.length;y++){var b=this.app.options.wallet.outputs[y],v=b.add,_=b.amt,w=b.type,x=b.bid,k=b.tid,S=b.sid,O=b.bsh,P=b.lc,E=b.rn;this.wallet.outputs[y]=new p.slip(v,_,w,x,k,S,O,P,E);var A=this.wallet.outputs[y].returnSignatureSource();this.outputs_hmap[A]=1,this.outputs_hmap_counter++}}for(var C=0;C<this.wallet.pending.length;C++)for(var T=new p.transaction(JSON.parse(this.wallet.pending[C])),D=0;D<T.transaction.from.length;D++)for(var j=T.transaction.from[D],M=j.bsh,I=j.bid,R=j.tid,B=j.sid,N=0;N<this.wallet.inputs.length;N++)this.wallet.inputs[N].bid==I&&this.wallet.inputs[N].tid==R&&this.wallet.inputs[N].sid==B&&this.wallet.inputs[N].bsh==M&&(this.wallet.spends[N]=1,N=this.wallet.inputs.length);this.app.connection.on("connection_up",(function(e){t.rebroadcastPendingTransactions(e)})),this.purgeExpiredSlips(),this.updateBalance(),this.saveWallet()}},{key:"isSlipInPendingTransactions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null==e)return!1;for(var t=e.returnSignatureSource(),r=0;r<this.wallet.pending.length;r++)for(var n=new p.transaction(JSON.parse(this.wallet.pending[r])),a=0;a<n.transaction.from.length;a++){var i=n.transaction.from[a];if(i.returnSignatureSource()===t)return!0}return!1}},{key:"rebroadcastPendingTransactions",value:function(){for(var e=this.wallet.pending.length,t=0;t<e;t++){var r=new p.transaction(JSON.parse(this.wallet.pending[t]));r.isFrom(this.returnPublicKey())?0==r.transaction.type?this.app.network.propagateTransaction(r):(this.app.wallet.wallet.pending.splice(t,1),this.app.wallet.unspendInputSlips(r),this.app.wallet.saveWallet(),t--,e--):(this.wallet.pending.splice(t,1),t--,e--)}}},{key:"unspendInputSlips",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!=e)for(var t=0;t<e.transaction.from.length;t++)for(var r=e.transaction.from[t].returnSignatureSource(),n=0;n<this.wallet.inputs.length;n++)r==this.wallet.inputs[n].returnSignatureSource()&&(this.wallet.spends[n]=0)}},{key:"onChainReorganization",value:function(e,t,r,n){if(1==r){this.purgeExpiredSlips(),this.resetSpentInputs();var a=[];if(1==this.recreate_pending_transactions){for(var i=0;i<this.wallet.pending.length;i++){var s=new p.transaction(JSON.parse(this.wallet.pending[i])),o=this.createReplacementTransaction(s);null!=o?null!=(o=this.signTransaction(o))&&(this.wallet.pending[i]=JSON.stringify(o)):(a.push(i),console.log("pending transaction could not be recreated, purging"))}for(var c=0;c<a.length;c++)this.wallet.pending.splice(c,1);this.recreate_pending_transactions=0}}else this.doesSlipInPendingTransactionsSpendBlockHash(t)?(console.log("doesSlipInPendingTransactionsSpendBlockHash true, recreate_pending_transactions"),this.recreate_pending_transactions=1):console.log("doesn't doesSlipInPendingTransactionsSpendBlockHash, recreate_pending_transactions not set");this.resetExistingSlips(e,t,r)}},{key:"processPayments",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<e.transactions.length;r++){for(var n=e.transactions[r],a=n.returnSlipsToAndFrom(this.returnPublicKey()),i=[],s=[],o=0;o<a.to.length;o++)i.push(a.to[o].cloneSlip());for(var c=0;c<a.from.length;c++)s.push(a.from[c].cloneSlip());for(var u=0;u<i.length;u++)i[u].bid=e.block.id,i[u].bsh=e.returnHash(),i[u].tid=n.transaction.id,i[u].lc=t,i[u].ts=e.block.ts,i[u].from=n.transaction.from;for(var l=0;l<s.length;l++)s[l].ts=e.block.ts;var d=0;if(this.wallet.pending.length>0)for(var h=0;h<this.wallet.pending.length;h++){var f=new p.transaction(JSON.parse(this.wallet.pending[h]));if(this.wallet.pending[h].indexOf(n.transaction.sig)>0)this.wallet.pending.splice(h,1),h--,d=1;else if(1==f.transaction.type)this.wallet.pending.splice(h,1),this.unspendInputSlips(f),h--,d=1;else if(Math.random()<=.1){var m=f.transaction.ts,g=e.block.ts;m+12e6<g&&(this.wallet.pending.splice(h,1),this.unspendInputSlips(f),d=1,h--)}}if(1==d&&this.saveWallet(),i.length>0)for(var y=0;y<i.length;y++)if(i[y].amt>0)if(0==this.containsInput(i[y]))0==this.containsOutput(i[y])&&4!=i[y].type&&this.addInput(i[y]);else if(1==t)for(var b=i[y].returnSignatureSource(),v=this.wallet.inputs.length-1;v>=0;v--)this.wallet.inputs[v].returnSignatureSource()===b&&(this.wallet.inputs[v].lc=t);if(s.length>0)for(var _=0;_<s.length;_++)for(var w=s[_],x=0;x<this.wallet.inputs.length;x++){var k=this.wallet.inputs[x];w.bid==k.bid&&w.tid==k.tid&&w.sid==k.sid&&w.bsh==k.bsh&&w.amt==k.amt&&w.add==k.add&&(0==this.containsOutput(w)&&this.addOutput(w),this.wallet.inputs.splice(x,1),this.wallet.spends.splice(x,1),x=this.wallet.inputs.length+2)}}this.updateBalance(),this.app.options.wallet=this.wallet,this.app.storage.saveOptions()}},{key:"purgeExpiredSlips",value:function(){for(var e=this.app.blockchain.genesis_bid,t=this.wallet.inputs.length-1;t>=0;t--)this.wallet.inputs[t].bid<e&&(this.wallet.inputs.splice(t,1),this.wallet.spends.splice(t,1));for(var r=this.wallet.outputs.length-1;r>=0;r--)this.wallet.outputs[r].bid<e&&this.wallet.outputs.splice(r,1)}},{key:"resetExistingSlips",value:function(e,t,r){for(var n=this.wallet.inputs.length-1;n>=0;n--)if(this.wallet.inputs[n].bid==e&&this.wallet.inputs[n].bsh===t)this.wallet.inputs[n].lc=r;else if(this.wallet.inputs[n].bid<e)return}},{key:"resetSpentInputs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(0==e)for(var t=0;t<this.wallet.inputs.length;t++)0==this.isSlipInPendingTransactions(this.wallet.inputs[t])&&(this.wallet.spends[t]=0);else for(var r=this.app.blockchain.returnLatestBlockId()-e,n=0;n<this.wallet.inputs.length;n++)this.wallet.inputs[n].bid<=r&&0==this.isSlipInPendingTransactions(this.wallet.inputs[n])&&(this.wallet.spends[n]=0)}},{key:"returnAdequateInputs",value:function(e){var t=[],r=f(0),n=f(e);this.purgeExpiredSlips();var a=this.app.blockchain.last_bid-this.app.blockchain.genesis_period+2;if(this.wallet.pending.length>0)for(var i=0;i<this.wallet.pending.length;i++)for(var s=new p.transaction(JSON.parse(this.wallet.pending[i])),o=0;o<s.transaction.from.length;o++)for(var c=s.transaction.from[o].returnSignatureSource(),u=0;u<this.wallet.inputs;u++){if(this.wallet.inputs[u].returnSignatureSource()===c){for(;this.wallet.spends.length<u;)this.wallet.spends.push(0);this.wallet.spends[u]=1}}for(var l=!1,d=[],h=0;h<this.wallet.inputs.length;h++)if(0==this.wallet.spends[h]||h>=this.wallet.spends.length){var m=this.wallet.inputs[h];if(1==m.lc&&m.bid>=a&&1!=this.app.mempool.transactions_inputs_hmap[m.returnSignatureSource()]&&(d.push(h),t.push(m),(r=r.plus(f(m.amt))).gt(n)||r.eq(n))){l=!0;break}}if(l){for(var g=0;g<d.length;g++)this.wallet.spends[d[g]]=1;return t}return null}},{key:"calculateBalance",value:function(){var e=this,t=f(0);return this.wallet.inputs.forEach((function(r,n){e.isSlipValid(r,n)&&(t=t.plus(r.amt))})),t}},{key:"calculateDisplayBalance",value:function(){var e=this.calculateBalance();this.wallet.pending.forEach((function(t){t.to.forEach((function(t){f(e).plus(f(t.amt))}))}))}},{key:"isSlipValid",value:function(e,t){var r=this.wallet.spends[t],n=1==e.lc,a=e.bid>=this.app.blockchain.returnLowestValidBlock(),i=1!=this.app.mempool.transactions_inputs_hmap[e.returnSignatureSource()];return!r&&n&&a&&i}},{key:"returnBalance",value:function(){return this.wallet.balance.replace(/0+$/,"").replace(/\.$/,".0")}},{key:"returnPrivateKey",value:function(){return this.wallet.privatekey}},{key:"returnPublicKey",value:function(){return this.wallet.publickey}},{key:"backupWallet",value:(y=i(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{1==this.app.BROWSER&&(t=JSON.stringify(this.app.options),(r=document.createElement("a")).setAttribute("type","hidden"),r.setAttribute("href","data:application/json;utf-8,"+encodeURIComponent(t)),r.setAttribute("download","saito.wallet.json"),document.body.appendChild(r),r.click(),r.remove())}catch(e){console.log("Error backing-up wallet: "+e)}case 1:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"restoreWallet",value:(d=i(regeneratorRuntime.mark((function e(t){var r,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new FileReader).readAsBinaryString(t),r.onloadend=function(){var e;e=r.result;try{var t=JSON.parse(e);t.wallet.version=n.wallet.version,t.wallet.inputs=[],t.wallet.outputs=[],t.wallet.spends=[],t.games=[],t.gameprefs={},n.app.options=t,n.app.blockchain.resetBlockchain(),n.app.modules.returnModule("Arcade").onResetWallet(),n.app.storage.saveOptions(),salert("Restoration Complete ... click to reload Saito"),window.location.reload()}catch(e){"SyntaxError"==e.name?salert("Error reading wallet file. Did you upload the correct file?"):salert("Unknown error<br/>"+e)}};case 3:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"resetWallet",value:(u=i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.wallet.privatekey=this.app.crypto.generateKeys(),this.wallet.publickey=this.app.crypto.returnPublicKey(this.wallet.privatekey),null!=this.app.options.blockchain&&this.app.blockchain.resetBlockchainOptions(),null!=this.app.options.keys&&(this.app.options.keys=[]),this.wallet.inputs=[],this.wallet.outputs=[],this.wallet.spends=[],this.wallet.pending=[],this.saveWallet(),1==this.app.browser.browser_active&&window.location.reload();case 10:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"saveWallet",value:function(){this.app.options.wallet=this.wallet,this.app.storage.saveOptions()}},{key:"signMessage",value:function(e){return this.app.crypto.signMessage(e,this.returnPrivateKey())}},{key:"signAndEncryptTransaction",value:function(e){if(null==e)return null;for(var t=0;t<e.transaction.to.length;t++)e.transaction.to[t].sid=t;try{this.app.keys.hasSharedSecret(e.transaction.to[0].add)&&(e.msg=this.app.keys.encryptMessage(e.transaction.to[0].add,e.msg)),e.transaction.m=this.app.crypto.stringToBase64(JSON.stringify(e.msg)),e.transaction.sig=e.returnSignature(this.app,1)}catch(t){return console.log("####################"),console.log("### OVERSIZED TX ###"),console.log("###   -revert-   ###"),console.log("####################"),console.log(t),e.msg={},e}return e}},{key:"signTransaction",value:function(e){if(null==e)return null;for(var t=0;t<e.transaction.to.length;t++)e.transaction.to[t].sid=t;try{e.transaction.m=this.app.crypto.stringToBase64(JSON.stringify(e.msg)),e.transaction.sig=e.returnSignature(this.app)}catch(t){return console.error("####################"),console.error("### OVERSIZED TX ###"),console.error("###   -revert-   ###"),console.error("####################"),console.error(t),e.msg={},e}return e}},{key:"updateBalance",value:function(){var e=this.wallet.balance;this.wallet.balance=this.calculateBalance().toFixed(8),this.wallet.balance!=e&&this.app.connection.emit("update_balance",this)}},{key:"returnDisplayBalance",value:function(){return this.calculateDisplayBalance()}},{key:"createSlip",value:function(e){return new p.slip(e)}},{key:"createRawTransaction",value:function(e){return new p.transaction(e)}},{key:"createUnsignedTransactionWithDefaultFee",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return""===e&&(e=this.app.wallet.returnPublicKey()),this.createUnsignedTransaction(e,t,this.wallet.default_fee)}},{key:"createUnsignedTransaction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;""==e&&(e=this.returnPublicKey());var a=this.calculateBalance();f(r).gt(a)&&(r=0);var i=new p.transaction,s=f(t).plus(f(r));a=this.calculateBalance();if(!this.app.crypto.isPublicKey(e))throw"Invalid address "+e;if(s.gt(a))return t=0,r=0,null;s.eq(0)?(i.transaction.from=[],i.transaction.from.push(new p.slip(this.returnPublicKey()))):i.transaction.from=this.returnAdequateInputs(s),i.transaction.ts=(new Date).getTime(),i.transaction.to.push(new p.slip(e,t)),i.transaction.to[i.transaction.to.length-1].type=0,null==i.transaction.from&&(i.transaction.from=[],i.transaction.from.push(new p.slip(this.returnPublicKey(),0))),null==i.transaction.to&&(i.transaction.to=[],i.transaction.to.push(new p.slip(e,0)));for(var o=f(0),c=0;c<i.transaction.from.length;c++)o=o.plus(f(i.transaction.from[c].amt));var u=o.minus(s);if(f(u).gt(0))if(this.wallet.inputs.length<8){var l=u.div(2).toFixed(8),d=u.minus(f(l)).toFixed(8);i.transaction.to.push(new p.slip(this.returnPublicKey(),l)),i.transaction.to[i.transaction.to.length-1].type=0,i.transaction.to.push(new p.slip(this.returnPublicKey(),d)),i.transaction.to[i.transaction.to.length-1].type=0}else i.transaction.to.push(new p.slip(this.returnPublicKey(),u.toFixed(8))),i.transaction.to[i.transaction.to.length-1].type=0;if(this.wallet.inputs.length>30||n>0){console.log("---------------------"),console.log("Merging Wallet Slips!"),console.log("---------------------");var h=7;n>7&&(h=n);var m=0,g=f(0),y=this.app.blockchain.last_bid-this.app.blockchain.genesis_period+2;if(this.wallet.pending.length>0)for(var b=0;b<this.wallet.pending.length;b++)for(var v=new p.transaction(JSON.parse(this.wallet.pending[b])),_=0;_<v.transaction.from.length;_++)for(var w=v.transaction.from[_].returnSignatureSource(),x=0;x<this.wallet.inputs;x++){var k=this.wallet.inputs[x].returnSignatureSource();if(k===w){for(;this.wallet.spends.length<x;)this.wallet.spends.push(0);this.wallet.spends[x]=1}}for(var S=0;m<h&&S<this.wallet.inputs.length;S++)if(0==this.wallet.spends[S]||S>=this.wallet.spends.length){var O=this.wallet.inputs[S];1==O.lc&&O.bid>=y&&1!=this.app.mempool.transactions_inputs_hmap[O.returnSignatureSource()]&&(this.wallet.spends[S]=1,m++,g=g.plus(f(O.amt)),i.transaction.from.push(O))}i.transaction.to.push(new p.slip(this.returnPublicKey(),g.toFixed(8))),i.transaction.to[i.transaction.to.length-1].type=0}return this.saveWallet(),i}},{key:"createToSlips",value:function(e,t,r,n){var a=1;e>r?(a=1,e=Math.floor(r)):a=Math.floor(r/e);for(var i=r%a,s=[],o=0;o<e;o++)s.push(new p.slip(t,f(a))),s[s.length-1].type=0;return f(i).gt(0)&&(s.push(new p.slip(t,f(i))),s[s.length-1].type=0),f(n).gt(0)&&(s.push(new p.slip(this.app.wallet.returnPublicKey(),n.toFixed(8))),s[s.length-1].type=0),s}},{key:"createReplacementTransaction",value:function(e){for(var t=f(0),r=0;r<e.transaction.from.length;r++)t=t.plus(f(e.transaction.from[r].amt));var n=new p.transaction(e.transaction);return this.returnAdequateInputs(t)?(n.transaction.from=this.returnAdequateInputs(t),this.saveWallet(),n):null}},{key:"returnInstalledCryptos",value:function(){var e=this.app.modules.returnModulesBySubType(m);return e.push(this.saitoCrypo),e}},{key:"returnActivatedCryptos",value:function(){for(var e=this.returnInstalledCryptos(),t=[],r=0;r<e.length;r++)e[r].returnIsActivated()&&t.push(e[r]);return t}},{key:"returnCryptoModuleByTicker",value:function(e){for(var t=this.returnInstalledCryptos(),r=0;r<t.length;r++)if(t[r].ticker===e)return t[r];throw"Module Not Found: "+e}},{key:"setPreferredCrypto",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0,n=this.returnInstalledCryptos(),a=null,i=0;i<n.length;i++)n[i].ticker===e&&(a=n[i],r=1);if("SAITO"==e&&(r=1),1==r&&(this.wallet.preferred_crypto=e,this.saveWallet(),this.app.connection.emit("set_preferred_crypto",e)),null!=a&&1==t&&null!=a.renderModalSelectCrypto()){var s=new g(this.app,a);s.render(this.app,a),s.attachEvents(this.app,a)}}},{key:"returnPreferredCrypto",value:function(){try{return this.returnCryptoModuleByTicker(this.wallet.preferred_crypto)}catch(e){if(e.startsWith("Module Not Found:"))return this.setPreferredCrypto("SAITO"),this.returnCryptoModuleByTicker(this.wallet.preferred_crypto);throw e}}},{key:"returnPreferredCryptoTicker",value:function(){try{var e=this.returnPreferredCrypto();if(null!=e&&null!=e)return e.ticker}catch(e){return""}}},{key:"returnCryptoAddressByTicker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SAITO";try{if("SAITO"===e)return this.returnPublicKey();var t=this.returnCryptoModuleByTicker(e);return t.returnAddress()}catch(e){}return""}},{key:"isOurPreferredCryptoAddress",value:function(e,t){return e==this.returnPublicKey()?1:0}},{key:"returnPreferredCryptoBalances",value:(c=i(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s,o,c,u,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=l.length>0&&void 0!==l[0]?l[0]:[],r=l.length>1&&void 0!==l[1]?l[1]:null,""==(n=l.length>2&&void 0!==l[2]?l[2]:"")&&(n=this.wallet.preferred_crypto),a=this.returnCryptoModuleByTicker(n),i=[],s=[],o=0;o<t.length;o++)s.push(a.returnBalance(t[o]));return e.next=10,Promise.all(s);case 10:for(c=e.sent,u=0;u<t.length;u++)i.push({address:t[u],balance:c[u]});return null!=r&&r(i),e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"checkBalance",value:(a=i(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.returnPreferredCryptoBalances([t],null,r);case 2:if(!((n=e.sent).length<1)){e.next=5;break}return e.abrupt("return",0);case 5:if(!n[0].balance){e.next=7;break}return e.abrupt("return",n[0].balance);case 7:return e.abrupt("return",0);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"returnPreferredCryptoBalance",value:(n=i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.returnPreferredCrypto(),e.next=3,this.checkBalance(t.returnAddress(),t.ticker);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"sendPayment",value:(r=i(regeneratorRuntime.mark((function e(){var t,r,n,a,i,s,o,c,u,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:[],r=l.length>1&&void 0!==l[1]?l[1]:[],n=l.length>2&&void 0!==l[2]?l[2]:[],a=l.length>3?l[3]:void 0,i=l.length>4?l[4]:void 0,s=l.length>5?l[5]:void 0,t.length==r.length&&t.length==n.length||console.log("Lengths of senders, receivers, and amounts must be the same"),1!==t.length&&console.log("sendPayment ERROR: Only supports one transaction"),this.doesPreferredCryptoTransactionExist(t,r,n,a,s)){e.next=32;break}o=this.returnCryptoModuleByTicker(s),c=0;case 11:if(!(c<t.length)){e.next=30;break}if(t[c]!==o.returnAddress()){e.next=27;break}return this.savePreferredCryptoTransaction(t,r,n,a,s),e.prev=14,e.next=17,o.transfer(n[c],r[c]);case 17:return u=e.sent,i({hash:u}),e.abrupt("break",30);case 22:return e.prev=22,e.t0=e.catch(14),console.log("sendPayment ERROR: payment failed....\n"+e.t0),this.deletePreferredCryptoTransaction(t,r,n,a,s),e.abrupt("break",30);case 27:c++,e.next=11;break;case 30:e.next=33;break;case 32:console.log("sendPayment ERROR: already sent");case 33:case"end":return e.stop()}}),e,this,[[14,22]])}))),function(){return r.apply(this,arguments)})},{key:"receivePayment",value:(t=i(regeneratorRuntime.mark((function e(){var t,r,n,a,s,o,c,u,l,d,h,p,f=this,m=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.length>0&&void 0!==m[0]?m[0]:[],r=m.length>1&&void 0!==m[1]?m[1]:[],n=m.length>2&&void 0!==m[2]?m[2]:[],a=m.length>3?m[3]:void 0,s=m.length>4?m[4]:void 0,o=m.length>5?m[5]:void 0,c=m.length>6&&void 0!==m[6]?m[6]:36,u=m.length>7&&void 0!==m[7]?m[7]:5e3,t.length==r.length&&t.length==n.length){e.next=11;break}return console.log("receivePayment ERROR. Lengths of senders, receivers, and amounts must be the same"),e.abrupt("return");case 11:if(1===t.length){e.next=14;break}return console.log("receivePayment ERROR. Only supports one transaction"),e.abrupt("return");case 14:if(!this.doesPreferredCryptoTransactionExist(t,r,n,a,o)){e.next=17;break}return s(),e.abrupt("return");case 17:return l=this.returnCryptoModuleByTicker(o),e.next=20,l.onIsActivated();case 20:d=function(){var e=i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.hasPayment(n[0],t[0],r[0],a-3);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("poll_check_payment_function remaining tries: "+c),t=null,e.prev=2,e.next=5,d();case 5:t=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),console.log("receivePayment ERROR."+e.t0),e.abrupt("return");case 12:p(t);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),p=function(e){if(e)console.log("TRANSACTION FOUND"),f.savePreferredCryptoTransaction(t,r,n,a,o),s(e);else{if(0==--c)return void console.log("Did not receive payment after "+u*c/1e3+" seconds");setTimeout((function(){h()}),u)}},h();case 24:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"savePreferredCryptoTransaction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=this.app.crypto.hash(JSON.stringify(e)+JSON.stringify(t)+JSON.stringify(r)+n+a);this.wallet.preferred_txs.push({sig:i,ts:(new Date).getTime()});for(var s=this.wallet.preferred_txs.length-1;s>=0;s--)this.wallet.ts<(new Date).getTime()-1e8&&this.wallet.preferred_txs.splice(s,1);return this.saveWallet(),1}},{key:"doesPreferredCryptoTransactionExist",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=this.app.crypto.hash(JSON.stringify(e)+JSON.stringify(t)+JSON.stringify(r)+n+a),s=0;s<this.wallet.preferred_txs.length;s++)if(this.wallet.preferred_txs[s].sig===i)return 1;return 0}},{key:"deletePreferredCryptoTransaction",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=this.app.crypto.hash(JSON.stringify(e)+JSON.stringify(t)+JSON.stringify(r)+n+a),s=0;s<this.wallet.preferred_txs.length;s++)this.wallet.preferred_txs[s].sig===i&&this.wallet.preferred_txs.splice(s,1)}}]),e}();e.exports=y},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(1097),i=r(54),s=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.cryptomod=r}var t,r,s;return t=e,(r=[{key:"render",value:function(e,t){null!=this.cryptomod?(t.modal_overlay=new i(e),t.modal_overlay.render(e,t),t.modal_overlay.attachEvents(e,t),t.modal_overlay.showOverlay(e,t,a(e,t)),document.getElementById("saito-overlay-closebox").style.display="none",document.getElementById("saito-overlay-backdrop").onclick=function(e){}):console.log("ERROR: crypto module not supported")}},{key:"attachEvents",value:function(e,t){this.cryptomod.attachEventsModalSelectCrypto(e,this.cryptomod)}}])&&n(t.prototype,r),s&&n(t,s),e}();e.exports=s},function(e,t){e.exports=ModalSelectCryptoTemplate=function(e,t){return'  \n    <div class="modal-select-crypto">\n      '.concat(t.renderModalSelectCrypto(e,t),"\n    </div>\n  ")}},function(e,t){e.exports=SaitoOverlayTemplate=function(e){return e?'  \n      <div id="saito-overlay" class="saito-overlay">\n        <div id="saito-overlay-closebox" class="saito-overlay-closebox"><i class="fas fa-times-circle saito-overlay-closebox-btn"></i></div>\n      </div>\n      <div id="saito-overlay-backdrop" class="saito-overlay-backdrop"></div>\n    ':'  \n      <div id="saito-overlay" class="saito-overlay"></div>\n      <div id="saito-overlay-backdrop" class="saito-overlay-backdrop"></div>\n    '}},function(e,t,r){var n={"./arcade/arcade":493,"./arcade/arcade.js":493,"./arcade/lib/arcade-game/advanced-overlay":260,"./arcade/lib/arcade-game/advanced-overlay.js":260,"./arcade/lib/arcade-game/advanced-overlay.template":261,"./arcade/lib/arcade-game/advanced-overlay.template.js":261,"./arcade/lib/arcade-game/arcade-game-details":162,"./arcade/lib/arcade-game/arcade-game-details.js":162,"./arcade/lib/arcade-game/arcade-game-details.template":259,"./arcade/lib/arcade-game/arcade-game-details.template.js":259,"./arcade/lib/arcade-game/game-loaded.template":258,"./arcade/lib/arcade-game/game-loaded.template.js":258,"./arcade/lib/arcade-game/game-loader":256,"./arcade/lib/arcade-game/game-loader.js":256,"./arcade/lib/arcade-game/game-loader.template":257,"./arcade/lib/arcade-game/game-loader.template.js":257,"./arcade/lib/arcade-main/arcade-infobox":254,"./arcade/lib/arcade-main/arcade-infobox.js":254,"./arcade/lib/arcade-main/arcade-main":250,"./arcade/lib/arcade-main/arcade-main.js":250,"./arcade/lib/arcade-main/arcade-posts":252,"./arcade/lib/arcade-main/arcade-posts.js":252,"./arcade/lib/arcade-main/templates/arcade-container.template":126,"./arcade/lib/arcade-main/templates/arcade-container.template.js":126,"./arcade/lib/arcade-main/templates/arcade-infobox.template":255,"./arcade/lib/arcade-main/templates/arcade-infobox.template.js":255,"./arcade/lib/arcade-main/templates/arcade-invite.template":161,"./arcade/lib/arcade-main/templates/arcade-invite.template.js":161,"./arcade/lib/arcade-main/templates/arcade-main.template":251,"./arcade/lib/arcade-main/templates/arcade-main.template.js":251,"./arcade/lib/arcade-main/templates/arcade-observe.template":262,"./arcade/lib/arcade-main/templates/arcade-observe.template.js":262,"./arcade/lib/arcade-main/templates/arcade-posts.template":253,"./arcade/lib/arcade-main/templates/arcade-posts.template.js":253,"./arcade/lib/arcade-main/templates/arcposts.old":1114,"./arcade/lib/arcade-main/templates/saito-sarousel-leaf.template":496,"./arcade/lib/arcade-main/templates/saito-sarousel-leaf.template.js":496,"./arcade/lib/arcade-sidebar/arcade-games-full-list-overlay.template":265,"./arcade/lib/arcade-sidebar/arcade-games-full-list-overlay.template.js":265,"./arcade/lib/arcade-sidebar/arcade-sidebar":263,"./arcade/lib/arcade-sidebar/arcade-sidebar.js":263,"./arcade/lib/arcade-sidebar/arcade-sidebar.template":264,"./arcade/lib/arcade-sidebar/arcade-sidebar.template.js":264,"./arcade/mockinvites":266,"./arcade/mockinvites.js":266,"./archive/archive":497,"./archive/archive.js":497,"./blackjack/blackjack":498,"./blackjack/blackjack.js":498,"./chat/chat":499,"./chat/chat.js":499,"./chat/lib/chat-main/chat-list":292,"./chat/lib/chat-main/chat-list.js":292,"./chat/lib/chat-main/chat-main":291,"./chat/lib/chat-main/chat-main.js":291,"./chat/lib/chat-main/chat-room":132,"./chat/lib/chat-main/chat-room.js":132,"./chat/lib/email-chat/chat-box":273,"./chat/lib/email-chat/chat-box.js":273,"./chat/lib/email-chat/chat-sidebar":270,"./chat/lib/email-chat/chat-sidebar.js":270,"./chat/lib/email-chat/email-chat":269,"./chat/lib/email-chat/email-chat.js":269,"./chat/lib/templates/chat-box-message-block.template":164,"./chat/lib/templates/chat-box-message-block.template.js":164,"./chat/lib/templates/chat-box-message.template":275,"./chat/lib/templates/chat-box-message.template.js":275,"./chat/lib/templates/chat-box.template":274,"./chat/lib/templates/chat-box.template.js":274,"./chat/lib/templates/chat-list-header.template":294,"./chat/lib/templates/chat-list-header.template.js":294,"./chat/lib/templates/chat-list.template":293,"./chat/lib/templates/chat-list.template.js":293,"./chat/lib/templates/chat-main.template":296,"./chat/lib/templates/chat-main.template.js":296,"./chat/lib/templates/chat-room.template":295,"./chat/lib/templates/chat-room.template.js":295,"./chat/lib/templates/chat-sidebar-contact.template":272,"./chat/lib/templates/chat-sidebar-contact.template.js":272,"./chat/lib/templates/chat-sidebar.template":271,"./chat/lib/templates/chat-sidebar.template.js":271,"./chess/chess":529,"./chess/chess.js":529,"./chess/lib/chess":297,"./chess/lib/chess.js":297,"./chess/lib/chess.min":530,"./chess/lib/chess.min.js":530,"./chess/lib/chessboard":298,"./chess/lib/chessboard.js":298,"./debug/debug":531,"./debug/debug.js":531,"./debug/lib/email-appspace/debug-appspace":299,"./debug/lib/email-appspace/debug-appspace.js":299,"./debug/lib/email-appspace/debug-appspace.template":300,"./debug/lib/email-appspace/debug-appspace.template.js":300,"./dotarcade/dotarcade":532,"./dotarcade/dotarcade.js":532,"./dotarcade/lib/polkadot-overlay":169,"./dotarcade/lib/polkadot-overlay.js":169,"./dotarcade/lib/templates/polkadot-address.template":301,"./dotarcade/lib/templates/polkadot-address.template.js":301,"./dotarcade/lib/templates/polkadot-network.template":302,"./dotarcade/lib/templates/polkadot-network.template.js":302,"./email/email":533,"./email/email.js":533,"./email/lib/email-main/email-body/email-appspace/email-appspace":323,"./email/lib/email-main/email-body/email-appspace/email-appspace.js":323,"./email/lib/email-main/email-body/email-appspace/email-appspace.template":324,"./email/lib/email-main/email-body/email-appspace/email-appspace.template.js":324,"./email/lib/email-main/email-body/email-body":318,"./email/lib/email-main/email-body/email-body.js":318,"./email/lib/email-main/email-body/email-body.template":534,"./email/lib/email-main/email-body/email-body.template.js":534,"./email/lib/email-main/email-body/email-cryptoappspace/email-cryptoappspace":325,"./email/lib/email-main/email-body/email-cryptoappspace/email-cryptoappspace.js":325,"./email/lib/email-main/email-body/email-cryptoappspace/email-cryptoappspace.template":326,"./email/lib/email-main/email-body/email-cryptoappspace/email-cryptoappspace.template.js":326,"./email/lib/email-main/email-body/email-detail/email-detail":321,"./email/lib/email-main/email-body/email-detail/email-detail.js":321,"./email/lib/email-main/email-body/email-detail/email-detail.template":322,"./email/lib/email-main/email-body/email-detail/email-detail.template.js":322,"./email/lib/email-main/email-body/email-form/email-form":319,"./email/lib/email-main/email-body/email-form/email-form.js":319,"./email/lib/email-main/email-body/email-form/email-form.template":320,"./email/lib/email-main/email-body/email-form/email-form.template.js":320,"./email/lib/email-main/email-body/email-list/email-list":308,"./email/lib/email-main/email-body/email-list/email-list-row.template":309,"./email/lib/email-main/email-body/email-list/email-list-row.template.js":309,"./email/lib/email-main/email-body/email-list/email-list.js":308,"./email/lib/email-main/email-body/email-list/email-list.template":171,"./email/lib/email-main/email-body/email-list/email-list.template.js":171,"./email/lib/email-main/email-header/email-appspace-header/email-appspace-header":314,"./email/lib/email-main/email-header/email-appspace-header/email-appspace-header.js":314,"./email/lib/email-main/email-header/email-appspace-header/email-appspace-header.template":315,"./email/lib/email-main/email-header/email-appspace-header/email-appspace-header.template.js":315,"./email/lib/email-main/email-header/email-cryptoappspace-header/email-cryptoappspace-header":316,"./email/lib/email-main/email-header/email-cryptoappspace-header/email-cryptoappspace-header.js":316,"./email/lib/email-main/email-header/email-cryptoappspace-header/email-cryptoappspace-header.template":317,"./email/lib/email-main/email-header/email-cryptoappspace-header/email-cryptoappspace-header.template.js":317,"./email/lib/email-main/email-header/email-detail-header/email-detail-header":307,"./email/lib/email-main/email-header/email-detail-header/email-detail-header.js":307,"./email/lib/email-main/email-header/email-detail-header/email-detail-header.template":311,"./email/lib/email-main/email-header/email-detail-header/email-detail-header.template.js":311,"./email/lib/email-main/email-header/email-form-header/email-form-header":312,"./email/lib/email-main/email-header/email-form-header/email-form-header.js":312,"./email/lib/email-main/email-header/email-form-header/email-form-header.template":313,"./email/lib/email-main/email-header/email-form-header/email-form-header.template.js":313,"./email/lib/email-main/email-header/email-header":170,"./email/lib/email-main/email-header/email-header.js":170,"./email/lib/email-main/email-header/email-inbox-header/email-inbox-header":305,"./email/lib/email-main/email-header/email-inbox-header/email-inbox-header.js":305,"./email/lib/email-main/email-header/email-inbox-header/email-inbox-header.template":306,"./email/lib/email-main/email-header/email-inbox-header/email-inbox-header.template.js":306,"./email/lib/email-main/email-main":303,"./email/lib/email-main/email-main.js":303,"./email/lib/email-main/email-main.template":304,"./email/lib/email-main/email-main.template.js":304,"./email/lib/email-sidebar/email-bars-menu":331,"./email/lib/email-sidebar/email-bars-menu.js":331,"./email/lib/email-sidebar/email-bars-menu.template":332,"./email/lib/email-sidebar/email-bars-menu.template.js":332,"./email/lib/email-sidebar/email-chat":333,"./email/lib/email-sidebar/email-chat.js":333,"./email/lib/email-sidebar/email-chat.template":535,"./email/lib/email-sidebar/email-chat.template.js":535,"./email/lib/email-sidebar/email-controls":329,"./email/lib/email-sidebar/email-controls.js":329,"./email/lib/email-sidebar/email-controls.template":330,"./email/lib/email-sidebar/email-controls.template.js":330,"./email/lib/email-sidebar/email-sidebar":327,"./email/lib/email-sidebar/email-sidebar.js":327,"./email/lib/email-sidebar/email-sidebar.template":328,"./email/lib/email-sidebar/email-sidebar.template.js":328,"./encrypt/encrypt":536,"./encrypt/encrypt.js":536,"./encrypt/lib/email-appspace/encrypt-appspace":537,"./encrypt/lib/email-appspace/encrypt-appspace.js":537,"./encrypt/lib/email-appspace/encrypt-appspace.template":334,"./encrypt/lib/email-appspace/encrypt-appspace.template.js":334,"./forge/forge":538,"./forge/forge.js":538,"./imperium/compile":1221,"./imperium/imperium":539,"./imperium/imperium.js":539,"./imperium/src/actions/action":540,"./imperium/src/actions/action.js":540,"./imperium/src/actions/activate":541,"./imperium/src/actions/activate.js":541,"./imperium/src/actions/bombardment":542,"./imperium/src/actions/bombardment.js":542,"./imperium/src/actions/counter":543,"./imperium/src/actions/counter.js":543,"./imperium/src/actions/ground_combat":544,"./imperium/src/actions/ground_combat.js":544,"./imperium/src/actions/post_agenda":545,"./imperium/src/actions/post_agenda.js":545,"./imperium/src/actions/pre_agenda":546,"./imperium/src/actions/pre_agenda.js":546,"./imperium/src/actions/riders":547,"./imperium/src/actions/riders.js":547,"./imperium/src/actions/space_combat":548,"./imperium/src/actions/space_combat.js":548,"./imperium/src/actions/strategy":549,"./imperium/src/actions/strategy.js":549,"./imperium/src/agendas/agendas":550,"./imperium/src/agendas/agendas.js":550,"./imperium/src/factions/jolnar":551,"./imperium/src/factions/jolnar.js":551,"./imperium/src/factions/muaat":552,"./imperium/src/factions/muaat.js":552,"./imperium/src/factions/sardakk":553,"./imperium/src/factions/sardakk.js":553,"./imperium/src/factions/sol":554,"./imperium/src/factions/sol.js":554,"./imperium/src/factions/xxcha":555,"./imperium/src/factions/xxcha.js":555,"./imperium/src/factions/yin":556,"./imperium/src/factions/yin.js":556,"./imperium/src/factions/yssaril":557,"./imperium/src/factions/yssaril.js":557,"./imperium/src/imperium-action-cards":558,"./imperium/src/imperium-action-cards.js":558,"./imperium/src/imperium-agenda-cards":559,"./imperium/src/imperium-agenda-cards.js":559,"./imperium/src/imperium-display":560,"./imperium/src/imperium-display.js":560,"./imperium/src/imperium-end":561,"./imperium/src/imperium-end.js":561,"./imperium/src/imperium-events":562,"./imperium/src/imperium-events.js":562,"./imperium/src/imperium-factions":563,"./imperium/src/imperium-factions.js":563,"./imperium/src/imperium-gameloop":564,"./imperium/src/imperium-gameloop.js":564,"./imperium/src/imperium-helpers":565,"./imperium/src/imperium-helpers.js":565,"./imperium/src/imperium-initialize":566,"./imperium/src/imperium-initialize.js":566,"./imperium/src/imperium-objectives":567,"./imperium/src/imperium-objectives.js":567,"./imperium/src/imperium-player":568,"./imperium/src/imperium-player.js":568,"./imperium/src/imperium-promissary":569,"./imperium/src/imperium-promissary.js":569,"./imperium/src/imperium-start":570,"./imperium/src/imperium-start.js":570,"./imperium/src/imperium-state":571,"./imperium/src/imperium-state-checks":572,"./imperium/src/imperium-state-checks.js":572,"./imperium/src/imperium-state-updates":573,"./imperium/src/imperium-state-updates.js":573,"./imperium/src/imperium-state.js":571,"./imperium/src/imperium-strategy-cards":574,"./imperium/src/imperium-strategy-cards.js":574,"./imperium/src/imperium-tech":575,"./imperium/src/imperium-tech.js":575,"./imperium/src/imperium-ui":576,"./imperium/src/imperium-ui.js":576,"./imperium/src/imperium-unit":577,"./imperium/src/imperium-unit.js":577,"./imperium/src/imperium-universe":578,"./imperium/src/imperium-universe.js":578,"./imperium/src/objectives/secret":579,"./imperium/src/objectives/secret.js":579,"./imperium/src/objectives/stage1":580,"./imperium/src/objectives/stage1.js":580,"./imperium/src/objectives/stage2":581,"./imperium/src/objectives/stage2.js":581,"./imperium/src/promissary/promissary":582,"./imperium/src/promissary/promissary.js":582,"./imperium/src/strategy/1_leadership":583,"./imperium/src/strategy/1_leadership.js":583,"./imperium/src/strategy/2_diplomacy":584,"./imperium/src/strategy/2_diplomacy.js":584,"./imperium/src/strategy/3_politics":585,"./imperium/src/strategy/3_politics.js":585,"./imperium/src/strategy/4_construction":586,"./imperium/src/strategy/4_construction.js":586,"./imperium/src/strategy/5_trade":587,"./imperium/src/strategy/5_trade.js":587,"./imperium/src/strategy/6_warfare":588,"./imperium/src/strategy/6_warfare.js":588,"./imperium/src/strategy/7_tech":589,"./imperium/src/strategy/7_tech.js":589,"./imperium/src/strategy/8_imperial":590,"./imperium/src/strategy/8_imperial.js":590,"./imperium/src/tech/blue":591,"./imperium/src/tech/blue.js":591,"./imperium/src/tech/green":592,"./imperium/src/tech/green.js":592,"./imperium/src/tech/red":593,"./imperium/src/tech/red.js":593,"./imperium/src/tech/units":594,"./imperium/src/tech/units.js":594,"./imperium/src/tech/yellow":595,"./imperium/src/tech/yellow.js":595,"./imperium/src/units/universal":596,"./imperium/src/units/universal.js":596,"./myqrcode/lib/email-appspace/myqrcode-appspace":335,"./myqrcode/lib/email-appspace/myqrcode-appspace.js":335,"./myqrcode/lib/email-appspace/myqrcode-appspace.template":336,"./myqrcode/lib/email-appspace/myqrcode-appspace.template.js":336,"./myqrcode/myqrcode":597,"./myqrcode/myqrcode.js":597,"./poker/poker":598,"./poker/poker.js":598,"./polkadot/polkadot":599,"./polkadot/polkadot.js":599,"./post/lib/arcade-posts/arcade-posts":337,"./post/lib/arcade-posts/arcade-posts.js":337,"./post/lib/arcade-posts/arcade-posts.template":338,"./post/lib/arcade-posts/arcade-posts.template.js":338,"./post/lib/arcade-posts/post-teaser.template":339,"./post/lib/arcade-posts/post-teaser.template.js":339,"./post/lib/post-main/post-main":343,"./post/lib/post-main/post-main.js":343,"./post/lib/post-main/post-main.template":344,"./post/lib/post-main/post-main.template.js":344,"./post/lib/post-main/post-teaser.template":345,"./post/lib/post-main/post-teaser.template.js":345,"./post/lib/post-main/post-thread.template":603,"./post/lib/post-main/post-thread.template.js":603,"./post/lib/post-overlay/post-create":174,"./post/lib/post-overlay/post-create.js":174,"./post/lib/post-overlay/post-create.template":342,"./post/lib/post-overlay/post-create.template.js":342,"./post/lib/post-overlay/post-view":173,"./post/lib/post-overlay/post-view-comment.template":341,"./post/lib/post-overlay/post-view-comment.template.js":341,"./post/lib/post-overlay/post-view.js":173,"./post/lib/post-overlay/post-view.template":340,"./post/lib/post-overlay/post-view.template.js":340,"./post/lib/post-sidebar/post-sidebar":346,"./post/lib/post-sidebar/post-sidebar.js":346,"./post/lib/post-sidebar/post-sidebar.template":347,"./post/lib/post-sidebar/post-sidebar.template.js":347,"./post/lib/post/new-post":604,"./post/lib/post/new-post.js":604,"./post/lib/post/new-post.template":348,"./post/lib/post/new-post.template.js":348,"./post/lib/post/show-post":605,"./post/lib/post/show-post.js":605,"./post/lib/post/show-post.template":349,"./post/lib/post/show-post.template.js":349,"./post/lib/style.template":175,"./post/lib/style.template.js":175,"./post/post":606,"./post/post.js":606,"./qrscanner/lib/add-contact":350,"./qrscanner/lib/add-contact-complete":352,"./qrscanner/lib/add-contact-complete.js":352,"./qrscanner/lib/add-contact-complete.template":353,"./qrscanner/lib/add-contact-complete.template.js":353,"./qrscanner/lib/add-contact.js":350,"./qrscanner/lib/add-contact.template":351,"./qrscanner/lib/add-contact.template.js":351,"./qrscanner/lib/scanner/scanner":618,"./qrscanner/lib/scanner/scanner.js":618,"./qrscanner/qrscanner":619,"./qrscanner/qrscanner.js":619,"./registry/lib/email-appspace/registry-appspace":620,"./registry/lib/email-appspace/registry-appspace.js":620,"./registry/lib/email-appspace/registry-appspace.template":354,"./registry/lib/email-appspace/registry-appspace.template.js":354,"./registry/lib/modal/registry-modal":355,"./registry/lib/modal/registry-modal-success.template":357,"./registry/lib/modal/registry-modal-success.template.js":357,"./registry/lib/modal/registry-modal.js":355,"./registry/lib/modal/registry-modal.template":356,"./registry/lib/modal/registry-modal.template.js":356,"./registry/registry":621,"./registry/registry.js":621,"./relay/relay":622,"./relay/relay.js":622,"./settings/lib/email-appspace/settings-appspace":358,"./settings/lib/email-appspace/settings-appspace.js":358,"./settings/lib/email-appspace/settings-appspace.template":359,"./settings/lib/email-appspace/settings-appspace.template.js":359,"./settings/settings":623,"./settings/settings.js":623,"./settlers/settlers":624,"./settlers/settlers.js":624,"./settlers/settlers.skin":360,"./settlers/settlers.skin.js":360,"./solitrio/solitrio":625,"./solitrio/solitrio.js":625,"./website/lib/data":626,"./website/lib/data.js":626,"./website/lib/data.template":361,"./website/lib/data.template.js":361,"./website/lib/subpage/faq.template":362,"./website/lib/subpage/faq.template.js":362,"./website/lib/subpage/howSaitoWorks.template":363,"./website/lib/subpage/howSaitoWorks.template.js":363,"./website/lib/subpage/team.template":364,"./website/lib/subpage/team.template.js":364,"./website/lib/subpage/token/pools.template":365,"./website/lib/subpage/token/pools.template.js":365,"./website/lib/subpage/token/token.template":366,"./website/lib/subpage/token/token.template.js":366,"./website/lib/subpage/token/tokenburn.template":367,"./website/lib/subpage/token/tokenburn.template.js":367,"./website/lib/subpage/web3.template":368,"./website/lib/subpage/web3.template.js":368,"./website/website":627,"./website/website.js":627,"./wordblocks/wordblocks":628,"./wordblocks/wordblocks.js":628};function a(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id=1099},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(1101),i=r(1102),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t}var t,r,s;return t=e,(r=[{key:"render",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"arcade",n=arguments.length>3?arguments[3]:void 0;document.getElementById("saito-carousel")||e.browser.prependElementToDom(a(),document.getElementById(n)),this.addLeaves(e,r),document.querySelector("#saito-carousel").onclick=function(){e.browser.logMatomoEvent("UXError","ArcadeUXError","CarouselClickAttempt")}}},{key:"attachEvents",value:function(e,t){}},{key:"addLeaves",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"arcade";carouselElem=document.querySelector(".carousel-wrapper"),carouselElem.innerHTML+="",e.modules.respondTo(t+"-carousel").forEach((function(e,r){var n=e.respondTo(t+"-carousel");n&&(carouselElem.innerHTML+=i(e,n))}))}}])&&n(t.prototype,r),s&&n(t,s),e}();e.exports=s},function(e,t){e.exports=SaitoGameCarouselTemplate=function(){return'\n  <div id="saito-carousel" class="saito-carousel">\n    <div id="saito-carousel-wrapper" class="carousel-wrapper">\n      <img src="/saito/img/16by5.png" class="carousel-spacer" />\n    </div>\n  </div>\n  '}},function(e,t){e.exports=AracadeGameCarouselLeafTemplate=function(e,t){return'\n         <div class="leaf" style="background: url('.concat(t.background,');background-size:cover">\n           <div class="big">').concat(t.title,"</div>\n         </div>\n  ")}},function(e,t){e.exports=ModalAddUserTemplate=function(){return'  \n  <div class="game-crypto-transfer-manager-container">\n    \n    <h2 class="auth_title">Authorize Crypto Transfer</h2>\n\n    <p></p>\n\n    <div class="button crypto_transfer_btn" id="crypto_transfer_btn">authorize</div>\n\n  </div>\n  '}},function(e,t){e.exports=GameCryptoTransferManagerSendTemplate=function(e,t){return'  \n  <div class="game-crypto-transfer-manager-container">\n    \n    <h2 class="auth_title">Authorize Crypto Transfer</h2>\n\n    <div class="amount">'.concat(t.amount," ").concat(t.ticker,'</div>\n\n    <div class="send_to">to</div>\n\n    <div class="to_address">').concat(t.to,'</div>\n\n    <div class="button crypto_transfer_btn" id="crypto_transfer_btn">authorize</div>\n\n  </div>\n  ')}},function(e,t){e.exports=GameCryptoTransferManagerReceive=function(e,t){return'  \n  <div class="game-crypto-transfer-manager-container">\n    \n    <h2 class="auth_title">Waiting for Transfer</h2>\n\n    <div class="amount">'.concat(t.amount," ").concat(t.ticker,'</div>\n\n    <img class="spinner" src="/website/img/spinner.svg" />\n\n    <div class="transfer-details">\n      <div class="send_to">from</div>\n      <div class="from_address">').concat(t.from,'</div>\n      <div class="send_to">to</div>\n      <div class="to_address">').concat(t.to,"</div>\n    </div>\n\n  </div>\n  ")}},function(e,t){e.exports=GameCryptoTransferManagerSendTemplate=function(e,t){return'  \n  <div class="game-crypto-transfer-manager-container">\n    \n    <h2 class="auth_title">Checking '.concat(t.ticker,' Balance</h2>\n\n    <div class="to_address">').concat(t.address,'</div>\n\n    <img style="margin-top: 20px" class="spinner" src="/website/img/spinner.svg" />\n\n  </div>\n  ')}},function(e,t){e.exports=GameOverlayTemplate=function(){return'  \n    <div id="game-overlay" class="game-overlay"></div>\n    <div id="game-overlay-backdrop" class="game-overlay-backdrop"></div>\n  '}},function(e,t){e.exports=ModalRegisterUsernameTemplate=function(){return'  \n  <div class="welcome-modal-wrapper">\n    <div class="welcome-modal-action">\n      <div class="welcome-modal-left">\n        <div class="welcome-modal-header">Register a Username</h1></div>\n        <div class="welcome-modal-main">\n          <div style="margin:1em 0">Please register a Saito username:</div>\n          <div style="display:flex;">\n      <input style="width:60%; color:black; background:#efefef;" class="username-registry-input" id="registry-input" type="text" placeholder="username"><b style="margin: 1em 1em 1em 10px;">@saito</b>\n      <input style="display: var(--saito-wu);" id="name" name="name" type="text"></input>\n      <button id="registry-modal-button" style="clear:both; margin:unset; margin-left:0px; min-width:6em; font-size:0.7em;background:#efefef;border:1px solid var(--saito-red);color: var(--saito-cyber-black);">REGISTER USERNAME</button>\n          </div>\n        </div>\n        <div class="welcome-modal-info">\n            <div class="tip"><b>What is a Saito username? <i class="fas fa-info-circle"></i></b>\n            <div class="tiptext">Saito usernames can be used to send and receive messages. Some applications require Saito usernames to help prevent robots/spam. It takes a minute to register an address. You should get one!</div>\n            </div>\n         </div>\n      </div>\n    </div>\n    <div class="welcome-modal-exit tutorial-skip">\n      <p>\n          Thanks, but...\n      </p>\n      <p>\n          Maybe later.\n      </p>\n      <i class="fas fa-arrow-right"></i>\n    </div>\n  </div>\n  '}},function(e,t){e.exports=SaitoHeaderTemplate=function(e,t){return'\n\n  <div id="saito-header" class="header header-home">\n    <div class="header-wrapper">\n      <a id="header-logo-link" href="/"><img class="logo" src="/saito/img/logo.svg"></a>\n      <div id="header-icon-links" class="header-icon-links">\n        <div id="header-mini-wallet" class="header-mini-wallet">\n          <span id="header-username" class="header-username"></span>\n        </div>\n        <i id="navigator" class="header-icon icon-med fas fa-bars"></i>\n      </div>\n\n      <div id="settings-dropdown" class="header-dropdown">\n        <div class="personal-info">\n          <img id="header-profile-photo" class="header-profile-photo" />\n          <div class="account-info">\n            <div id="profile-public-key" class="profile-public-key"></div>\n            <div class="saito-select">\n              <select id="header-token-select" class="saito-slct"></select>\n            </div>\n            </div>\n        </div>\n\n        <center><hr width="98%" style="color:#888"/></center>\n\n        <div class="wallet-actions">\n          \x3c!-- faucet disabled \n          div class="wallet-action-row" id="header-dropdown-faucet">\n            <span class="scan-qr-info"><i class="settings-fas-icon fas fa-tint"></i>SAITO testnet faucet</span>\n          </div\n          --\x3e\n          <div class="wallet-action-row" id="header-dropdown-backup-wallet">\n            <span class="scan-qr-info"><i class="settings-fas-icon fas fa-copy"></i> Backup Access Keys</span>\n          </div>\n          <div class="wallet-action-row" id="header-dropdown-restore-wallet">\n            <span class="scan-qr-info"><i class="settings-fas-icon fas fa-redo"></i> Restore Access Keys</span>\n\t    <div style="display:none"><input id="saito-header-file-input" class="saito-header-file-input" type="file" name="name" style="display:none;" /></div>\n          </div>\n          <div class="wallet-action-row" id="header-dropdown-settings">\n            <span class="scan-qr-info"><i class="settings-fas-icon fas fa-wrench"></i> Settings </span>\n          </div>\n          <div class="wallet-action-row" id="header-dropdown-scan-qr">\n            <span class="scan-qr-info"><i class="settings-fas-icon fas fa-qrcode"></i> Scan </span>\n          </div>\n        </div>\n       </div>\n     </div>\n  '}},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var a=u(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return c(this,r)}}function c(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,r,n,c=o(l);function l(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),0==(r=c.call(this,e)).browser_active&&(r.browser_active=1),""==r.name&&(r.name="UI Component"),r}return t=l,(r=[{key:"initialize",value:function(e){e.modules.uimods.includes(this)||e.modules.uimods.push(this),i(u(l.prototype),"initialize",this).call(this,e)}}])&&a(t.prototype,r),n&&a(t,n),l}(r(27));e.exports=l},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.shown=!1}var t,n,a;return t=e,(n=[{key:"render",value:function(e,t){if(!document.getElementById("modules-dropdown")){var r='\n      <hr/>\n      <div id="modules-dropdown" class="header-dropdown-links">\n      ';e.modules.getRespondTos("header-dropdown").forEach((function(e,t){r+='<div class="wallet-action-row"><a id="nav-'.concat(e.name,'" href="/').concat(e.slug,'" class="wallet-action-nav-link"><i class="settings-fas-icon ').concat(e.icon_fa,'"></i> ').concat(e.name,"</a></div>")})),r+="</div><hr>",e.browser.addElementToDom(r,"settings-dropdown"),this.attachEvents(e,t)}this.shown?document.querySelector("#settings-dropdown").classList.add("show-right-sidebar"):document.querySelector("#settings-dropdown").classList.remove("show-right-sidebar")}},{key:"attachEvents",value:function(e,t){var r=this,n=function(n){document.querySelectorAll(".wallet-action-row, #modules-dropdown a").forEach((function(e,t){n.currentTarget})),r.shown=!1,r.render(e,t)};window.removeEventListener("click",n),window.addEventListener("click",n),document.querySelectorAll(".wallet-action-row .wallet-action-nav-link").forEach((function(t,r){t.onclick=function(t){var r=t.currentTarget.id.replace("nav-","");e.browser.logMatomoEvent("Navigation","HeaderDropdownNavigationClick",r)}})),document.querySelector("#settings-dropdown").addEventListener("click",(function(e){e.cancelBubble=!0})),document.querySelectorAll("#header-mini-wallet, #navigator").forEach((function(n,a){n.onclick=function(n){if(r.shown=!r.shown,r.shown){var a=document.querySelector(".chat-box-close");a&&a.click()}r.render(e,t),n.cancelBubble=!0}}))}}])&&r(t.prototype,n),a&&r(t,a),e}();e.exports=n},function(e,t){e.exports=TextSizer={render:function(e,t){if(!document.getElementById("text-sizer")){e.browser.addElementToDom('\n      <div class="wallet-action-row">\n      <div id="text-sizer">\n        <table class="text-sizer-table">\n          <thead>\n            <tr>\n              <td><div class="fas fa-text-height"></div></td>\n              <td><div id="text-sizer-small" class="text-sizer-small">A /</div></td>\n              <td>\n                <div id="text-sizer-medium" class="text-sizer-medium">A /</div>\n              </td>\n              <td><div id="text-sizer-large" class="text-sizer-large">A</div></td>\n            </tr>\n          </thead>\n        </table>\n      </div>\n    </div>\n    <hr />',"settings-dropdown"),this.attachEvents(e,t)}},attachEvents:function(e,t){document.querySelector(".text-sizer-small").addEventListener("click",(function(){document.body.style.fontSize="1em"})),document.querySelector(".text-sizer-medium").addEventListener("click",(function(){document.body.style.fontSize="1.2em"})),document.querySelector(".text-sizer-large").addEventListener("click",(function(){document.body.style.fontSize="1.5em"}))}}},function(e,t){e.exports=ModalRegisterEmailTemplate=function(e,t){var r={header:"Connect an Email Address:",description:"Email yourself an encrypted backup of your wallet:",button:"EMAIL BACKUP",opt_out:"I've already got a backup",has_newsletter_option:!0,has_tip_text:!0,tip_text:"Your browser will encrypt your wallet and email you a copy. No-one but you will ever have access to your private keys. If you opt-in for email your browser will separately request periodic updates from the Saito project."};return e===t.NEWSLETTER?r={header:"Sign up for the Newsletter:",description:"Keep up to date on the latest Saito news",button:"SIGN UP",opt_out:"Nevermind, I'm not interested in novel consensus mechanisms",has_newsletter_option:!1,has_tip_text:!1,tip_text:""}:e===t.PRIVATESALE?r={header:"Register interest in private sale:",description:"Provide your email to register interest in participating in a private sale of Saito Tokens.",button:"SIGN UP",opt_out:"Nevermind, I'm not interested in novel consensus mechanisms",has_newsletter_option:!0,has_tip_text:!1,tip_text:""}:e===t.REGISTEREMAIL&&(r={header:"Register an email address:",description:"Your email address will be stored in your local database only, this might be useful in the future for peer-to-peer applications",button:"Register",opt_out:"Nevermind",has_newsletter_option:!0,has_tip_text:!1,tip_text:""}),'  \n  <div class="welcome-modal-wrapper">\n    <div class="welcome-modal-action">\n      <div class="welcome-modal-left">\n        <div class="welcome-modal-header">'.concat(r.header,'</h1></div>\n        <div class="welcome-modal-main">\n          <div style="margin:1em 0">').concat(r.description,'</div>\n          <div style="display:flex;">\n            <input style="width:100%; color:black; font-size:1em; background:white;margin:0 1em 0 0;" id="registry-input" type="text" placeholder="email@domain.com">\n            <input style="display: var(--saito-wu);" id="name" name="name" type="text"></input>\n            <button id="backup-email-button" style="clear:both; margin:unset; margin-left:0px; min-width:6em; font-size:0.7em;">').concat(r.button,"</button>\n          </div>\n          ").concat(r.has_newsletter_option?'<div style="font-size:0.9em;height:30px;margin-top:10px; display:"><input type="checkbox" id="signup" style="float:left;width:2em;height:2em;margin-right:10px" checked /><span style="padding-top:8px">Send periodic updates on important Saito news (max monthly)</span></div>':"",'\n        </div>\n        <div class="welcome-modal-info">\n            ').concat(r.has_tip_text?'<div class="tip"><b>How does this work? <i class="fas fa-info-circle"></i></b><div class="tiptext">'.concat(r.tip_text,"</div></div>"):"",'\n          </div>\n      </div>\n    </div>\n    <div class="welcome-modal-exit tutorial-skip">\n      <p>\n\t').concat(r.opt_out,'\n      </p>\n      <i class="fas fa-arrow-right"></i>\n    </div>\n  </div>\n  ')}},function(e,t){e.exports=ArcadePostsTemplate=()=>'\n    <div id="arcade-posts" class="arcade-posts">\n\n      <div data-id="" id="arcade-post-" class="arcade-post">\n        <div id="arcade-post-title" class="arcade-post-title">Saito selected for Web3 Foundation gaming standard</div>\n        <div id="arcade-post-sublinks" class="arcade-post-sublinks">\n\t  <div id="" class="arcade-post-posted-by">posted by </div>\n\t  <div id="" class="arcade-post-user">david@saito</div>\n\t  <div id="" class="arcade-post-comments">2 comments</div>\n\t  <div id="" class="arcade-post-report">report</div>\n        </div>\n      </div> \n\n      <div data-id="" id="arcade-post-" class="arcade-post">\n        <div id="arcade-post-title" class="arcade-post-title">Saito selected for Web3 Foundation gaming standard</div>\n        <div id="arcade-post-sublinks" class="arcade-post-sublinks">\n\t  <div id="" class="arcade-post-posted-by">posted by </div>\n\t  <div id="" class="arcade-post-user">david@saito</div>\n\t  <div id="" class="arcade-post-comments">2 comments</div>\n\t  <div id="" class="arcade-post-report">report</div>\n        </div>\n      </div> \n\n      <div data-id="" id="arcade-post-" class="arcade-post">\n        <div id="arcade-post-title" class="arcade-post-title">Saito selected for Web3 Foundation gaming standard</div>\n        <div id="arcade-post-sublinks" class="arcade-post-sublinks">\n\t  <div id="" class="arcade-post-posted-by">posted by </div>\n\t  <div id="" class="arcade-post-user">david@saito</div>\n\t  <div id="" class="arcade-post-comments">2 comments</div>\n\t  <div id="" class="arcade-post-report">report</div>\n        </div>\n      </div> \n\n      <div data-id="" id="arcade-post-" class="arcade-post">\n        <div id="arcade-post-title" class="arcade-post-title">Saito selected for Web3 Foundation gaming standard</div>\n        <div id="arcade-post-sublinks" class="arcade-post-sublinks">\n\t  <div id="" class="arcade-post-posted-by">posted by </div>\n\t  <div id="" class="arcade-post-user">david@saito</div>\n\t  <div id="" class="arcade-post-comments">2 comments</div>\n\t  <div id="" class="arcade-post-report">report</div>\n        </div>\n      </div> \n\n      <div data-id="" id="arcade-post-" class="arcade-post">\n        <div id="arcade-post-title" class="arcade-post-title">Saito selected for Web3 Foundation gaming standard</div>\n        <div id="arcade-post-sublinks" class="arcade-post-sublinks">\n\t  <div id="" class="arcade-post-posted-by">posted by </div>\n\t  <div id="" class="arcade-post-user">david@saito</div>\n\t  <div id="" class="arcade-post-comments">2 comments</div>\n\t  <div id="" class="arcade-post-report">report</div>\n        </div>\n      </div> \n\n      <div data-id="" id="arcade-post-" class="arcade-post">\n        <div id="arcade-post-title" class="arcade-post-title">Saito selected for Web3 Foundation gaming standard</div>\n        <div id="arcade-post-sublinks" class="arcade-post-sublinks">\n\t  <div id="" class="arcade-post-posted-by">posted by </div>\n\t  <div id="" class="arcade-post-user">david@saito</div>\n\t  <div id="" class="arcade-post-comments">2 comments</div>\n\t  <div id="" class="arcade-post-report">report</div>\n        </div>\n      </div> \n\n      <div data-id="" id="arcade-post-" class="arcade-post">\n        <div id="arcade-post-title" class="arcade-post-title">Saito selected for Web3 Foundation gaming standard</div>\n        <div id="arcade-post-sublinks" class="arcade-post-sublinks">\n\t  <div id="" class="arcade-post-posted-by">posted by </div>\n\t  <div id="" class="arcade-post-user">david@saito</div>\n\t  <div id="" class="arcade-post-comments">2 comments</div>\n\t  <div id="" class="arcade-post-report">report</div>\n        </div>\n      </div> \n\n    </div>\n\n<style type="text/css">\n</style>\n\n  '},function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(1116),s=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150;n(this,e),this.app=t,this.height=r,this.width=a}var t,r,s;return t=e,(r=[{key:"render",value:function(e,t){var r=36e5;t&&parseInt(t.clock_limit)>0&&(r=parseInt(t.clock_limit)-parseInt(t.clock_spent));try{document.getElementById("game-clock")||document.body.append(elParser(i()))}catch(e){}this.displayTime(r)}},{key:"attachEvents",value:function(e,t){var r=this;try{document.querySelector(".game-clock").addEventListener("click",(function(e){r.moveClock()}))}catch(e){}}},{key:"returnHours",value:function(e){return Math.floor(this.returnMinutes(e)/60)}},{key:"returnMinutes",value:function(e){return Math.floor(this.returnSeconds(e)/60)}},{key:"returnSeconds",value:function(e){return Math.floor(e/1e3)}},{key:"displayTime",value:function(e){var t=this.returnHours(e),r=this.returnMinutes(e),n=this.returnSeconds(e);n-=60*r,r-=60*t,t<0&&(t=0),r<0&&(r=0),n<0&&(n=0),t<10&&(t="0"+t),r<10&&(r="0"+r),n<10&&(n="0"+n);try{document.getElementById("game-clock-hours").innerHTML=t,document.getElementById("game-clock-minutes").innerHTML=r,document.getElementById("game-clock-seconds").innerHTML=n}catch(e){}}},{key:"moveClock",value:function(){var e=document.querySelector(".game-clock");"0px"===e.style.top||null==e.style.top||" "===e.style.top||""==e.style.top?(e.style.top="unset",e.style.bottom="0px"):(e.style.bottom="unset",e.style.top="0px")}}])&&a(t.prototype,r),s&&a(t,s),e}();e.exports=s},function(e,t){e.exports=GameClockTemplate=function(){return'\n    <div id="game-clock" class="game-clock"><span id="game-clock-hours">00</span>:<span id="game-clock-minutes">00</span>:<span id="game-clock-seconds">00</span></div>\n  '}},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(1118),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.logs=[],this.logs_length=150,this.logs_last_msg="",this.mod=null}var t,r,i;return t=e,(r=[{key:"render",value:function(e,t){null==this.mod&&(this.mod=t),document.querySelector("#log")||e.browser.addElementToDom(a());var r=document.getElementById("log");r&&(r.innerHTML=this.logs.slice(0,this.logs_length).map((function(e){return"> <span> ".concat(e," </span>")})).join("<br>"))}},{key:"attachEvents",value:function(e,t){var r=this,n=0,a=0;document.querySelector("#log").onmousedown=function(e){n=e.clientX,a=e.clientY},document.querySelector("#log").onmouseup=function(e){Math.abs(n-e.clientX)>4||Math.abs(a-e.clientY)>4||r.toggleLog()}}},{key:"toggleLog",value:function(){document.querySelector("#log").toggleClass("log-lock")}},{key:"updateLog",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=1;e===this.logs_last_msg&&(n=0,e.indexOf("removes")>-1&&(n=1),e.indexOf("places")>-1&&(n=1)),1!=n&&1!=r||(this.logs_last_msg=e,this.logs.unshift(e),this.render(this.app,this.mod),t())}}])&&n(t.prototype,r),i&&n(t,i),e}();e.exports=i},function(e,t){e.exports=GameLogTemplate=function(){return'  \n    <div id="log" class="log"></div>\n  '}},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(1120),s=(r(268),r(1121)),o=s.DESKTOP,c=s.MOBILE_PORTRAIT,u=s.MOBILE_LANDSCAPE,l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.game_mod=null,this.status="",this.initial_render=0,this.mode=0,this.use_cardbox=1,this.use_cardfan=1,this.use_board_sizer=1,this.card_types=[]}var t,r,s;return t=e,(r=[{key:"render",value:function(e,t){if(this.game_mod=t,1==t.browser_active){if(0==this.initial_render){document.querySelector(".hud")||e.browser.addElementToDom(a());var r=document.querySelector(".hud"),n=document.querySelector(".hud-body"),i=document.querySelector(".hud-header");0==this.mode&&(r.classList.add("hud-long"),r.appendChild(i),r.appendChild(n)),1==this.mode&&(r.classList.add("hud-square"),r.appendChild(i),r.appendChild(n)),2==this.mode&&(r.classList.add("hud-vertical"),r.appendChild(i),r.appendChild(n)),1==this.use_cardbox&&t.cardbox.render(e,t),this.initial_render=1,this.resizeHudHeight(),this.resizeHudWidth()}document.querySelector(".hud").style.display="block"}}},{key:"hide",value:function(){try{document.getElementById("hud").style.display="none"}catch(e){}}},{key:"attachEvents",value:function(e,t){var r=this;try{var n=this;this.addCardType("card","select",t.cardbox_callback),e.browser.makeDraggable("hud","hud-header",(function(){n.resizeHudHeight()}))}catch(e){}try{var a=document.getElementById("hud-toggle-button");a.onclick=function(e){switch(e.stopPropagation(),r.checkSizeAndOrientation()){case o:hud.classList.toggle("hud-hidden-vertical"),a.classList.toggle("fa-caret-up"),a.classList.toggle("fa-caret-down")}}}catch(e){}}},{key:"attachCardEvents",value:function(e,t){var r=this;if(0!=t.browser_active){if(1==this.use_cardbox)t.cardbox.hideCardbox(),t.cardbox.cardbox_lock=0,t.cardbox.attachCardEvents(e,t);else for(var n=function(e){var t=r.card_types[e].css,n=(r.card_types[e].action,r.card_types[e].mycallback);Array.from(document.getElementsByClassName(t)).forEach((function(e){e.onmouseover=function(e){},e.onmouseout=function(e){},e.onclick=function(e){n(e.currentTarget.id)}}))},a=0;a<this.card_types.length;a++)n(a);0==this.mode&&this.resizeHudWidth()}}},{key:"renderStatus",value:function(e,t){try{var r=document.getElementById("status");if(r){document.getElementById("status");var n=document.getElementById("status-overlay");n&&"none"!=n.style.display&&(document.getElementById("status-overlay").style.display="none",r.style.display="block"),r.innerHTML!==this.status&&(r.innerHTML=this.status),null!=this.status_callback&&this.status_callback()}}catch(e){}}},{key:"resizeHudCards",value:function(){try{var e=document.querySelector(".cardimg-hud").width,t=this.game_mod.returnCardHeight(e);document.querySelector(".status-cardbox").height="unset",Array.from(document.querySelectorAll(".status-cardbox .card")).forEach((function(r){r.style.height=t+"px",r.style.width=e+"px"}))}catch(e){console.log("ERR: "+e)}}},{key:"updateStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.status=e,this.status_callback=t,this.renderStatus(),null!=this.game_mod&&1==this.use_cardbox&&(this.game_mod.cardbox.hideCardbox(),this.game_mod.cardbox_lock=0,this.game_mod.cardbox.attachCardEvents(this.app,this.game_mod))}},{key:"updateStatusMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.updateStatus('<div id="status-message" class="status-message">'+e+"</div>",t)}},{key:"updateStatusMessageAndShowCards",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null!=this.game_mod&&1==this.use_cardbox&&(this.game_mod.cardbox.hideCardbox(),this.game_mod.cardbox_lock=0,this.game_mod.cardbox.attachCardEvents(this.app,this.game_mod));var a='\n        <div id="status-message" class="status-message">'.concat(e,"</div>\n        ").concat(this.returnCardList(t,r),"\n      ");this.updateStatus(a,n),this.attachCardEvents(this.app,this.game_mod),this.resizeHudWidth(),this.resizeHudCards(),this.resizeHudHeight()}},{key:"onCardClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.game_mod.changeable_callback=e,this.attachCardEvents(this.app,this.game_mod)}},{key:"returnCardList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r="";if(0==this.mode){for(i=0;i<e.length;i++)r+=this.returnCardItem(e[i],t);r='\n          <div class="status-cardbox" id="status-cardbox">\n            '.concat(r,"\n          </div>")}else{for(r='<ul class="status-cardbox">',i=0;i<e.length;i++)r+=this.returnCardItem(e[i],t);r+="</ul>"}return r}},{key:"returnCardItem",value:function(e,t){return 0==this.mode?'<div id="'.concat(e.replace(/ /g,""),'" class="card showcard cardbox-hud cardbox-hud-status">').concat(this.returnCardImage(e,t,1),"</div>"):'<li class="card showcard" id="'+e+'">'+t[e].name+"</li>"}},{key:"returnCardImage",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n="cardimg";return 1==r&&(n="cardimg-hud"),'<img class="'.concat(n,'" src="').concat(t[e].img,'" />')}},{key:"toggleHud",value:function(e,t){switch(this.checkSizeAndOrientation()){case o:e.style.top=null,e.style.left=null}}},{key:"checkSizeAndOrientation",value:function(){return window.matchMedia("(orientation: landscape)").matches&&window.innerHeight<=700?u:window.matchMedia("(orientation: portrait)").matches&&window.innerWidth<=600?c:o}},{key:"addCardType",value:function(e,t,r){for(var n=0;n<this.card_types.length;n++)if(this.card_types[n].css===e)return;this.card_types.push({css:e,action:t,mycallback:r}),this.game_mod.cardbox.addCardType(e,t,r)}},{key:"resizeHudHeight",value:function(){try{var e=document.getElementById("hud"),t=document.getElementById("hud-header"),r=document.getElementById("hud-body"),n=(window.innerHeight,e.getBoundingClientRect()),a=t.getBoundingClientRect(),i=r.getBoundingClientRect(),s=a.bottom-a.top,o=(i.bottom,i.top,n.bottom-n.top);try{if(document.querySelector(".hud-body .status")&&document.querySelector(".status-cardbox")){var c=document.querySelector(".hud-body .status").getBoundingClientRect(),u=c.bottom-c.top;r.style.height=u+"px",r.style.minHeight=u+"px",r.style.maxHeight=u+"px",e=document.getElementById("hud"),t=document.getElementById("hud-header"),r=document.getElementById("hud-body"),n=e.getBoundingClientRect(),(i=r.getBoundingClientRect()).bottom,i.top,o=u+s}}catch(e){}i.top,n.bottom,n.top,r.style.height=o+"px",r.style.minHeight=o+"px",r.style.maxHeight=o+"px";var l=parseInt(this.calculateElementHeight(document.getElementById("hud-body"))),d=parseInt(this.calculateElementHeight(document.getElementById("hud-header"))),h=parseInt(this.calculateElementHeight(document.getElementById("hud")));if(l+d>h){var p=h-d;r.style.height=p+"px",r.style.minHeight=p+"px",r.style.maxHeight=p+"px"}}catch(e){}}},{key:"resizeHudWidth",value:function(){var e=this,t=document.getElementById("hud"),r=document.querySelector(".status-cardbox"),n=document.querySelectorAll(".cardbox-hud");if(n&&n[0]){var a=window.innerWidth,i=(a*=.8)/n.length;i>220&&(i=220,1==this.use_cardbox&&(i=150)),Array.from(document.querySelectorAll(".status-cardbox .card")).forEach((function(t){t.style.width=i+"px",t.style.height=e.game_mod.returnCardHeight(i)+"px"}));var s=Math.floor(1.1*n[0].getBoundingClientRect().width);if(r){var o=s*r.childElementCount;o<510&&(o=510),t.style.width=o+"px"}}}},{key:"calculateElementHeight",value:function(e){return document.all?(elmHeight=e.currentStyle.height,elmMargin=parseInt(e.currentStyle.marginTop,10)+parseInt(e.currentStyle.marginBottom,10)):(elmHeight=document.defaultView.getComputedStyle(e,"").getPropertyValue("height"),elmMargin=parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("margin-top"))+parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("margin-bottom"))),parseInt(elmHeight)+parseInt(elmMargin)+"px"}}])&&n(t.prototype,r),s&&n(t,s),e}();e.exports=l},function(e,t){e.exports=GameHudTemplate=function(){return'\n    <div id="hud" class="hud"></div>\n    <div id="hud-header" class="hud-header"></div>\n    <div id="hud-body" class="hud-body">\n      <div id="status" class="status"></div>\n      <div id="status-overlay" class="status-overlay"></div>\n    </div>\n  '}},function(e,t){e.exports={DESKTOP:"desktop",MOBILE_PORTRAIT:"mobile_portrait",MOBILE_LANDSCAPE:"mobile_desktop"}},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(1123),i=r(1124),s=r(1125),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.icons=[],this.options=[],this.sub_options=[],this.sub_menu_open=""}var t,r,o;return t=e,(r=[{key:"render",value:function(e,t){document.querySelector(".game-menu")||e.browser.addElementToDom(a());for(var r="<ul>",n=0;n<this.icons.length;n++)r+=i(this.icons[n]);for(var o=0;o<this.options.length;o++)r+=s(this.options[o],this.sub_options[o]);r+="</ul>";var c=document.querySelector(".game-menu");c.innerHTML=r,c.style.display="block"}},{key:"hide",value:function(){try{document.querySelector(".game-menu").style.display="none"}catch(e){}}},{key:"attachEvents",value:function(e,t){for(var r=this,n=0;n<this.options.length;n++){var a="#"+this.options[n].id,i=document.querySelector(a);i.ontouch=function(n){for(var a=n.currentTarget.id,i=0;i<r.options.length;i++)if(r.options[i].id===a){if(r.sub_menu_open===a)return r.hideSubMenus(),void n.stopPropagation();null!=r.options[i].callback&&(r.options[i].callback(e,t),n.stopPropagation())}},i.onclick=function(n){for(var a=n.currentTarget.id,i=0;i<r.options.length;i++)if(r.options[i].id===a){if(r.sub_menu_open===a)return r.hideSubMenus(),void n.stopPropagation();null!=r.options[i].callback&&(r.options[i].callback(e,t),n.stopPropagation())}}}for(var s=0;s<this.sub_options.length;s++)for(var o=0;o<this.sub_options[s].length;o++){var c="#"+this.sub_options[s][o].id,u=document.querySelector(c);u.ontouch=function(n){for(var a=n.currentTarget.id,i=0;i<r.sub_options.length;i++)for(var s=0;s<r.sub_options[i].length;s++)r.sub_options[i][s].id===a&&null!=r.sub_options[i][s].callback&&(r.sub_options[i][s].callback(e,t),n.stopPropagation())},u.onclick=function(n){for(var a=n.currentTarget.id,i=0;i<r.sub_options.length;i++)for(var s=0;s<r.sub_options[i].length;s++)r.sub_options[i][s].id===a&&null!=r.sub_options[i][s].callback&&(r.sub_options[i][s].callback(e,t),n.stopPropagation())}}for(var l=0;l<this.icons.length;l++){var d="#"+this.icons[l].id,h=document.querySelector(d);h.onclick=function(n){for(var a=n.currentTarget.id,i=0;i<r.icons.length;i++)r.icons[i].id===a&&null!=r.icons[i].callback&&(r.icons[i].callback(e,t),n.stopPropagation())},h.ontouch=function(n){for(var a=n.currentTarget.id,i=0;i<r.icons.length;i++)r.icons[i].id===a&&null!=r.icons[i].callback&&(r.icons[i].callback(e,t),n.stopPropagation())}}}},{key:"addMenuOption",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0;t<this.options.length;t++)if(this.options[t].id==e.id)return;this.options.push(e),this.sub_options.push([])}},{key:"addSubMenuOption",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=0;r<this.options.length;r++)if(this.options[r].id==e&&this.sub_options[r]){for(var n=0;n<this.sub_options[r].length;n++)if(this.sub_options[r][n].id===t.id)return;this.sub_options[r].push(t)}}},{key:"addMenuIcon",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0;t<this.icons.length;t++)if(this.icons[t].id==e.id)return;this.icons.push(e)}},{key:"showSubMenu",value:function(e){""!=this.sub_menu_open&&this.hideSubMenus(),this.sub_menu_open=e,document.querySelector("#"+e+" > ul").style.display="block"}},{key:"hideSubMenus",value:function(){this.sub_menu_open="";for(var e=0;e<this.options.length;e++){var t="#"+this.options[e].id+" > ul",r=document.querySelector(t);r&&(r.style.display="none")}}}])&&n(t.prototype,r),o&&n(t,o),e}();e.exports=o},function(e,t){e.exports=GameMenuTemplate=function(){return'  \n    <div id="game-menu" class="game-menu">\n      <div id="game-menu-icons" class="game-menu-icons"></div>\n      <div id="game-menu-options" class="game-menu-options"></div>\n    </div>\n  '}},function(e,t){e.exports=GameMenuIconTemplate=function(e){var t="";return null!=e.class&&(t=e.class),'<li id="'.concat(e.id,'" class="game-menu-icon ').concat(t,'">').concat(e.text,"</li>")}},function(e,t){e.exports=GameMenuOptionTemplate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r="";e.class&&(r=e.class);var n='<li id="'.concat(e.id,'" class="game-menu-option ').concat(r,'">').concat(e.text);if(t.length>0){n+='<ul class="game-menu-sub-options">';for(var a=0;a<t.length;a++)r="",t[a].class&&(r=t[a].class),n+='<li id="'.concat(t[a].id,'" class="game-menu-sub-option ').concat(r,'">').concat(t[a].text,"</li>");n+="</ul>"}return n+="</li>"}},function(e,t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=r(1127),s=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:640;n(this,e),this.app=t,this.height=r,this.width=a,this.cards=[],this.cardfan=0,this.cardbox_lock=0,this.skip_card_prompt=0,this.card_types=[],this.game_mod=null}var t,r,s;return t=e,(r=[{key:"render",value:function(e,t){this.game_mod=t,document.getElementById("game-cardbox")||(e.browser.addElementToDom(i()),document.getElementById("game-cardbox").style.zindex=-10)}},{key:"attachEvents",value:function(e,t){}},{key:"attachCardEvents",value:function(e,t){var r=this;try{console.log("attach card events");for(var n=function(e){var t=r.card_types[e].css,n=r.card_types[e].action,a=r.card_types[e].mycallback;console.log("mouseover for: "+t+" -- "+r.cardbox_lock),Array.from(document.getElementsByClassName(t)).forEach((function(e){e.onmouseover=function(e){try{if(1==r.cardbox_lock)return;r.showCardbox(e.currentTarget.id)}catch(e){}},e.onmouseout=function(e){try{r.hideCardbox()}catch(e){}},e.onclick=function(e){r.cardbox_lock=1,""!=n&&null!=a?r.showCardbox(e.currentTarget.id,n,a):r.showCardbox(e.currentTarget.id)}}))},a=0;a<this.card_types.length;a++)n(a);document.getElementById("cardbox-exit").onclick=function(e){r.hideCardbox(1)}}catch(e){}}},{key:"showCardboxHTML",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(""==t||null==t||t.indexOf("noncard")>-1||t.indexOf("nocard")>-1)null!=a&&(a(e),this.hideCardbox(1));else{if(0==this.cardfan)document.getElementById("cardbox-card").innerHTML=t;else{t="";for(var i=0;i<this.cards.length;i++)t+=this.game_mod.returnCardImage(this.cards[i],n,a);document.getElementById("cardbox-card").innerHTML=t}if(1==this.skip_card_prompt&&null!=a)return a(e),void this.hideCardbox(1);""!=n&&(this.cardbox_lock=1,document.getElementById("cardbox-menu").style.display="block",document.getElementById("cardbox-menu").innerHTML=n,document.getElementById("cardbox-menu").onclick=function(t){null!=a&&a(e),r.hideCardbox(1)},document.getElementById("cardbox-exit").style.display="block"),1==this.cardbox_lock&&(document.getElementById("cardbox-exit").style.display="block",document.getElementById("cardbox-exit-background").style.display="block"),document.getElementById("game-cardbox").style.zIndex=250,document.getElementById("game-cardbox").style.display="block",document.getElementById("cardbox-card").style.display="block"}}},{key:"showCardbox",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;"undefined"!=e&&""!=e&&(this.cards.includes(e)||this.cards.push(e),this.showCardboxHTML(e,this.game_mod.returnCardImage(e),t,r))}},{key:"hideCardbox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{if(1==this.cardbox_lock&&0==e)return;this.cards=[],document.getElementById("game-cardbox").style.zindex=-10,document.getElementById("game-cardbox").style.display="none",document.getElementById("cardbox-card").style.display="none",document.getElementById("cardbox-menu").style.display="none",document.getElementById("cardbox-exit").style.display="none",document.getElementById("cardbox-exit-background").style.display="none",this.cardbox_lock=0,document.getElementById("game-cardbox").style.zIndex=-1}catch(e){}}},{key:"addCardType",value:function(e,t,r){for(var n=0;n<this.card_types.length;n++)if(this.card_types[n].css===e)return;this.card_types.push({css:e,action:t,mycallback:r})}}])&&a(t.prototype,r),s&&a(t,s),e}();e.exports=s},function(e,t){e.exports=GameCardboxTemplate=function(){return'\n    <div id="game-cardbox" class="game-cardbox">\n      <div class="cardbox-exit-background" id="cardbox-exit-background" style="display:none"><div class="cardbox-exit" id="cardbox-exit" style="display:none"></div></div>\n      <div class="cardbox-card cardfan" id="cardbox-card" style="display:none"></div>\n      <div class="cardbox-menu" id="cardbox-menu" style="display:none">PLAY</div>\n    </div>\n  '}},function(e,t,r){function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw s}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=r(1129),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.game_mod=null}var t,r,a;return t=e,(r=[{key:"render",value:function(e,t){this.game_mod=t;try{for(var r=1;r<=t.game.players.length;r++){var n=this._playerBox(r);if(!document.getElementById("player-box-".concat(n))){var a=e.browser.htmlToElement(s(n));document.querySelector(".main")?document.querySelector(".main").append(a):document.body.append(a),this.refreshName(r)}document.getElementById("player-box-".concat(n))&&(document.getElementById("player-box-".concat(n)).style.display="block")}}catch(e){console.log("Render error: ",e)}}},{key:"attachEvents",value:function(e){for(var t=this,r=null,n=this,a=0;a<this.app.modules.mods.length;a++)"chat"===this.app.modules.mods[a].slug&&(r=this.app.modules.mods[a]);for(var i=function(e){var a=t._playerBox(e);$("#player-box-head-".concat(a)).off(),$("#player-box-head-".concat(a)).on("dblclick",(function(){var t=[n.game_mod.game.players[e-1],n.app.wallet.returnPublicKey()].sort(),a=n.app.crypto.hash(t.join("_")),i=r.createChatGroup(t,"Player ".concat(e));i?(r.addNewGroup(i),r.sendEvent("chat-render-request",{}),r.saveChat(),r.openChatBox(i.id)):(r.sendEvent("chat-render-request",{}),r.openChatBox(a))}))},s=1;s<=this.game_mod.game.players.length;s++)i(s)}},{key:"makeDraggable",value:function(){try{for(var e=1;e<=this.game_mod.game.players.length;e++){var t=this._playerBox(e);if(!document.getElementById("player-box-".concat(t))||!document.getElementById("player-box-head-".concat(t)))return console.log("Null DOM elements for Playerbox"),-1;this.app.browser.makeDraggable("player-box-".concat(t),"player-box-head-".concat(t)),document.querySelector("#player-box-head-".concat(t)).style.cursor="grab"}}catch(e){console.log("Events error:",e)}}},{key:"hide",value:function(){try{for(var e=1;e<=this.game_mod.game.players.length;e++){var t=this._playerBox(e);document.getElementById("player-box-".concat(t))&&(document.getElementById("player-box-".concat(t)).style.display="none")}}catch(e){}}},{key:"show",value:function(){try{for(var e=1;e<=this.game_mod.game.players.length;e++){var t=this._playerBox(e);document.getElementById("player-box-".concat(t))&&(document.getElementById("player-box-".concat(t)).style.display="block")}}catch(e){}}},{key:"groupOpponents",value:function(){var e=this.app.browser.htmlToElement('<div class="opponents" id="opponentbox"></div>');document.querySelector("#player-box-1").after(e);var t=this.returnPlayersBoxArray();t.shift();var r,a=n(t);try{for(a.s();!(r=a.n()).done;){var i=r.value,s=document.querySelector("#player-box-".concat(i)),o=document.querySelector("#player-box-head-".concat(i));if(!s||!o)return void console.log("DOM failure");s.removeAttribute("style"),o.removeAttribute("style"),e.append(s)}}catch(e){a.e(e)}finally{a.f()}this.app.browser.makeDraggable("opponentbox")}},{key:"_playerBox",value:function(e){var t=this.returnPlayersBoxArray();if(e<=0)return t[0];var r=e-(1+this.game_mod.game.players.indexOf(this.app.wallet.returnPublicKey()));return r<0&&(r+=this.game_mod.game.players.length),t[r]}},{key:"returnPlayersBoxArray",value:function(){var e=[];return this.game_mod.seats?e=this.game_mod.seats:(2==this.game_mod.game.players.length&&(e=[1,4]),3==this.game_mod.game.players.length&&(e=[1,3,5]),4==this.game_mod.game.players.length&&(e=[1,3,4,5]),5==this.game_mod.game.players.length&&(e=[1,2,3,5,6]),6==this.game_mod.game.players.length&&(e=[1,2,3,4,5,6])),e}},{key:"returnViewBoxArray",value:function(){var e=[];return 2==this.game_mod.game.players.length&&(e=[3,5]),3==this.game_mod.game.players.length&&(e=[3,4,5]),4==this.game_mod.game.players.length&&(e=[2,3,5,6]),5==this.game_mod.game.players.length&&(e=[2,3,4,5,6]),e}},{key:"addClassAll",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t)for(var r=1;r<=6;r++){var a=document.querySelector("#player-box-".concat(r));a&&a.classList.add("".concat(e).concat(r))}else{var i,s=document.querySelectorAll(".player_box"),o=n(s);try{for(o.s();!(i=o.n()).done;){var c=i.value;c.classList.add(e)}}catch(e){o.e(e)}finally{o.f()}}}},{key:"addClass",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r="#player-box-"+this._playerBox(t),n=document.querySelector(r);n&&n.classList.add(e)}},{key:"addGraphicClass",value:function(e){var t,r=n(document.querySelectorAll(".player-box-graphic"));try{for(r.s();!(t=r.n()).done;){var a=t.value;a.classList.remove(e),a.classList.add(e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"addStatus",value:function(){var e=document.querySelector("#player-box-log-".concat(this._playerBox(-1)));e&&e.classList.add("status")}},{key:"_updateDiv",value:function(e,t){var r=document.querySelector(e);r?r.innerHTML=t:console.log(e+" not found")}},{key:"refreshName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="#player-box-head-"+this._playerBox(e),n="";""==t&&(t=this.game_mod.game.players[e-1],t=this.app.keys.returnUsername(t),n=this.app.keys.returnIdenticon(t),""!=t&&t.indexOf("@")>0&&(t=t.substring(0,t.indexOf("@"))));var a=n?'<img class="player-identicon" src="'.concat(n,'">'):"";a+='<div class="player-info-name">'.concat(t,"</div>"),this._updateDiv(r,a)}},{key:"refreshGraphic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this._updateDiv("#player-box-graphic-".concat(this._playerBox(t)),e)}},{key:"refreshLog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this._updateDiv("#player-box-log-".concat(this._playerBox(t)),e)}},{key:"refreshInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this._updateDiv("#player-box-info-".concat(this._playerBox(t)),e)}},{key:"hideInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t="#player-box-info-"+this._playerBox(e);try{document.querySelector(t).classList.add("hidden")}catch(e){}}},{key:"showInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t="#player-box-info-"+this._playerBox(e);try{document.querySelector(t).classList.remove("hidden")}catch(e){}}}])&&i(t.prototype,r),a&&i(t,a),e}();e.exports=o},function(e,t){e.exports=GamePlayerBoxTemplate=function(e){return'\n    <div class="player-box" id="player-box-'.concat(e,'">\n      <div class="player-box-graphic" id="player-box-graphic-').concat(e,'"></div> \n      <div class="player-box-head" id="player-box-head-').concat(e,'"></div>\n      <div class="player-box-info" id="player-box-info-').concat(e,'"></div>\n      <div class="plog" id="player-box-log-').concat(e,'"></div>\n      </div>\n    </div>\n  ')}},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(1131),i=r(268),s=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.dimensions=r}var t,r,s;return t=e,(r=[{key:"render",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{if(document.getElementById("cardfan")||document.body.append(e.browser.htmlToElement(a())),""==r){var n=t.game.deck[0],i=n.cards,s=n.hand,o=s.map((function(e){return i[e]}));r=o.map((function(e){return'<img class="card" src="'.concat(t.card_img_dir,"/").concat(e.name,'">')})).join("")}document.getElementById("cardfan").innerHTML=r,document.getElementById("cardfan").style.display="block"}catch(e){}}},{key:"hide",value:function(){try{document.getElementById("cardfan").style.display="none"}catch(e){}}},{key:"prependCard",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";document.getElementById("cardfan").innerHTML=r+document.getElementById("cardfan").innerHTML}},{key:"addCard",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";document.getElementById("cardfan").innerHTML+=r}},{key:"attachEvents",value:function(e,t){try{var r=document.getElementById("cardfan");i(r)}catch(e){}}}])&&n(t.prototype,r),s&&n(t,s),e}();e.exports=s},function(e,t){e.exports=GameCardfanTemplate=function(){return'\n    <div id="cardfan" class="cardfan">\n    </div>\n  '}},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(1133),i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t}var t,r,i;return t=e,(r=[{key:"render",value:function(e,t){this.game_mod=t,document.getElementById("game-observer-next")||e.browser.addElementToDom(a())}},{key:"attachEvents",value:function(e,t){var r=this;document.getElementById("game-observer-next-btn").onclick=function(n){r.next(e,t)},document.getElementById("game-observer-last-btn").onclick=function(n){r.last(e,t)}}},{key:"next",value:function(e,t){var r=this,n=e.crypto.hash(JSON.stringify(t.game.queue));t.game.halted=0,t.game.gaming_active=0,t.saveGame(t.game.id);var a=e.modules.returnModule("Arcade");null!=a?a.observerDownloadNextMoves(t,(function(a){return 0==(t=a).game.future.length?(salert("No Moves Yet Available Beyond this Point"),void r.hideNextMoveButton()):(t.game.queue.length>0&&"OBSERVER_CHECKPOINT"===t.game.queue[t.game.queue.length-1]&&t.game.queue.splice(t.game.queue.length-1,1),t.runQueue(),t.processFutureMoves(),0==t.game.future.length&&e.crypto.hash(JSON.stringify(t.game.queue))===n?(salert("No Moves Yet Available Beyond this Point"),void r.hideNextMoveButton()):void 0)})):alert("ERROR 413231: Arcade Module not Installed")}},{key:"last",value:function(e,t){var r=e.modules.returnModule("Arcade");null!=r?(salert("Please wait while we move back one step..."),r.initializeObserverModePreviousStep(t.game.id,t.game.step.ts)):alert("ERROR 413252: Arcade Module not Installed")}},{key:"hideNextMoveButton",value:function(){document.getElementById("game-observer-next").style.display="none"}},{key:"showNextMoveButton",value:function(){document.getElementById("game-observer-next").style.display="block"}},{key:"hideLastMoveButton",value:function(){document.getElementById("game-observer-last").style.display="none"}},{key:"showLastMoveButton",value:function(){document.getElementById("game-observer-last").style.display="block"}}])&&n(t.prototype,r),i&&n(t,i),e}();e.exports=i},function(e,t){e.exports=GameObserverTemplate=function(){return'\n    <div id="game-observer-last" class="game-observer-last">\n      <div id="game-observer-last-btn" class="game-observer-last-btn"><i class="fas fa-backward"></i></div>\n      <div id="game-observer-next-btn" class="game-observer-next-btn"><i class="fas fa-forward"></i></div>\n    </div>\n  '}},function(e,t,r){var n=r(1135);e.exports=GameBoardSizer={render:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body";if(!document.getElementById("game_board_sizer")){var a=document.querySelector(r);a.append(e.browser.htmlToElement(n()))}},attachEvents:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".gameboard",a=document.querySelector(n);if(document.querySelector("#game_board_sizer").addEventListener("change",(function(){r.scaleBoard(t,a)})),t.loadGamePreference(t.returnSlug()+"-board-scale"))try{document.querySelector("#game_board_sizer").value=t.loadGamePreference(t.returnSlug()+"-board-scale"),this.scaleBoard(t,a)}catch(e){}var i=t.loadGamePreference(t.returnSlug()+"-board-offset");i&&$(n).offset(i),$(n).draggable({stop:function(e,r){t.saveGamePreference(t.returnSlug()+"-board-offset",r.offset)}})},scaleBoard:function(e,t){try{e.hammertime.get("pinch").set({enable:!1}),e.hammertime.get("pan").set({enable:!1})}catch(e){}t.style.transform="scale(".concat(document.querySelector("#game_board_sizer").value/100,")"),e.saveGamePreference(e.returnSlug()+"-board-scale",document.querySelector("#game_board_sizer").value);try{e.hammertime.get("pinch").set({enable:!0}),e.hammertime.get("pan").set({enable:!0})}catch(e){}}}},function(e,t){e.exports=GameBoardSizerTemplate=function(){return'\n    <input class="game_board_sizer" id="game_board_sizer" type="range" min="33" max="200" value="100" />\n    '}},function(e,t,r){r(1137),r(1138);e.exports=GameHammerMobile={fixHammerjsDeltaIssue:null,lastEvent:null,pinchZoomOrigin:null,element:null,pinchStart:{x:void 0,y:void 0},originalSize:{width:2550,height:1650},current:{x:0,y:0,z:1,zooming:!1,width:2550,height:1650},last:{x:0,y:0,z:1},render:function(e,t){},attachEvents:function(e,t){try{var r=this;r.element=document.getElementById("gameboard");var n=new Hammer(r.element,{});n.get("pinch").set({enable:!0}),n.get("pan").set({threshold:0}),n.on("pan",(function(e){"pan"!==r.lastEvent&&(r.fixHammerjsDeltaIssue={x:e.deltaX,y:e.deltaY}),r.current.x=r.last.x+e.deltaX-r.fixHammerjsDeltaIssue.x,r.current.y=r.last.y+e.deltaY-r.fixHammerjsDeltaIssue.y,r.lastEvent="pan",r.update()})),n.on("pinch",(function(e){var t=r.scaleFrom(r.pinchZoomOrigin,r.last.z,r.last.z*e.scale);r.current.x=t.x+r.last.x+e.deltaX,r.current.y=t.y+r.last.y+e.deltaY,r.current.z=t.z+r.last.z,r.lastEvent="pinch",r.update()})),n.on("pinchstart",(function(e){r.pinchStart.x=e.center.x,r.pinchStart.y=e.center.y,r.pinchZoomOrigin=r.getRelativePosition(r.element,{x:r.pinchStart.x,y:r.pinchStart.y},r.originalSize,r.current.z),r.lastEvent="pinchstart"})),n.on("panend",(function(e){r.last.x=r.current.x,r.last.y=r.current.y,r.lastEvent="panend"})),n.on("pinchend",(function(e){r.last.x=r.current.x,r.last.y=r.current.y,r.last.z=r.current.z,r.lastEvent="pinchend"})),t.hammertime=n}catch(e){alert("Error: "+e)}},update:function(){this.current.height=this.originalSize.height*this.current.z,this.current.width=this.originalSize.width*this.current.z,this.element.style.transform="translate3d("+this.current.x+"px, "+this.current.y+"px, 0) scale("+this.current.z+")"},getRelativePosition:function(e,t,r,n){var a=this.getCoords(e),i=t.x-a.x,s=t.y-a.y;return{x:i/(r.width*n/2)-1,y:s/(r.height*n/2)-1}},getCoords:function(e){var t=e.getBoundingClientRect(),r=document.body,n=document.documentElement,a=window.pageYOffset||n.scrollTop||r.scrollTop,i=window.pageXOffset||n.scrollLeft||r.scrollLeft,s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,c=t.top+a-s,u=t.left+i-o;return{x:Math.round(u),y:Math.round(c)}},scaleFrom:function(e,t,r){var n=this.getCoordinateShiftDueToScale(this.originalSize,t),a=this.getCoordinateShiftDueToScale(this.originalSize,r),i=r-t,s=n.x-a.x,o=n.y-a.y;return{x:e.x*s,y:e.y*o,z:i}},getCoordinateShiftDueToScale:function(e,t){var r=t*e.width,n=t*e.height;return{x:(r-e.width)/2,y:(n-e.height)/2}}}},function(e,t){e.exports=GameHammerMobile=function(){return""}},function(e,t){e.exports=function(e,t){var r=new Hammer(t,{});e.hammertime=r,r.get("pinch").set({enable:!0}),r.get("pan").set({threshold:0});var n=void 0,a={x:void 0,y:void 0},i=void 0,s={width:2550,height:1650},o={x:0,y:0,z:1,zooming:!1,width:1*s.width,height:1*s.height},c={x:o.x,y:o.y,z:o.z};function u(e,t,r,n){var a,i,s,o,c,u,l,d,h,p=(a=e.getBoundingClientRect(),i=document.body,s=document.documentElement,o=window.pageYOffset||s.scrollTop||i.scrollTop,c=window.pageXOffset||s.scrollLeft||i.scrollLeft,u=s.clientTop||i.clientTop||0,l=s.clientLeft||i.clientLeft||0,d=a.top+o-u,h=a.left+c-l,{x:Math.round(h),y:Math.round(d)}),f=t.x-p.x,m=t.y-p.y;return{x:f/(r.width*n/2)-1,y:m/(r.height*n/2)-1}}function l(e,t){var r=t*e.width,n=t*e.height;return{x:(r-e.width)/2,y:(n-e.height)/2}}r.on("pan",(function(e){"pan"!==i&&(n={x:e.deltaX,y:e.deltaY}),o.x=c.x+e.deltaX-n.x,o.y=c.y+e.deltaY-n.y,i="pan",h()})),r.on("pinch",(function(e){var t,r,n,a,u,p,f,m,g=(t=d,r=c.z,n=c.z*e.scale,a=l(s,r),u=l(s,n),p=n-r,f=a.x-u.x,m=a.y-u.y,{x:t.x*f,y:t.y*m,z:p});o.x=g.x+c.x+e.deltaX,o.y=g.y+c.y+e.deltaY,o.z=g.z+c.z,i="pinch",h()}));var d=void 0;function h(){o.height=s.height*o.z,o.width=s.width*o.z,t.style.transform="translate3d("+o.x+"px, "+o.y+"px, 0) scale("+o.z+")"}r.on("pinchstart",(function(e){a.x=e.center.x,a.y=e.center.y,d=u(t,{x:a.x,y:a.y},s,o.z),i="pinchstart"})),r.on("panend",(function(e){c.x=o.x,c.y=o.y,i="panend"})),r.on("pinchend",(function(e){c.x=o.x,c.y=o.y,c.z=o.z,i="pinchend"}))}},function(e,t){e.exports=ModalAddUserTemplate=function(){return'  \n  <div class="welcome-modal-wrapper">\n    <div class="welcome-modal-action">\n      <div class="welcome-modal-left">\n        <div class="welcome-modal-header">Invite Friends</h1></div>\n        <div class="welcome-modal-main">\n          <div style="margin:1em 0">How would you like to add a contact to Saito:</div>\n          <div style="">\n            <div class="welcome-invite-box address-link-box"><i class="fas fa-key"></i><div>Add by Saito address</div></div>\n            <div class="welcome-invite-box scanqr-link-box"><i class="fas fa-qrcode"></i><div>Scan QR Code</div></div>\n            <div class="welcome-invite-box generate-link-box"><i class="fas fa-link"></i><div>Share Bundle</div></div>\n          </div>\n          <div class="welcome-modal-info">\n            <div style="margin-top:20px" class="welcome-modal-explanation">\n              <div class="tip">\n                <div><b>What happens when I invite someone to Saito? <i class="fas fa-info-circle"></i></b></div>\n                <div class="tiptext">Your browser will create an encrypted communication channel with the users you invite, and they will show up on your contact list in the future.</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="welcome-modal-exit tutorial-skip">\n      <p>\n          Thanks, but...\n      </p>\n      <p>\n          Maybe later.\n      </p>\n      <i class="fas fa-arrow-right"></i>\n    </div>\n  </div>\n  '}},function(e,t){e.exports=ModalAddUserTemplate=function(){return'  \n  <div class="welcome-modal-wrapper confirm-modal-wrapper">\n    You and your friend are now negotiating a shared secret via Saito\'s blockchain. This requires two blocks to be mined. Once the process is complete your friend will be added to your chat list and you will be able to chat through the encrypted channel.\n    <div id="confirm-box" class="welcome-invite-box"><div>OK</div></div>\n  </div>\n  <style>\n    .confirm-modal-wrapper {\n      font-size: 1.5em;\n      padding: 1.5em;\n      color: white;\n      font-weight: bold;\n    }\n  </style>\n  '}},function(e,t,r){var n=r(1142);e.exports=InviteFriendsQR={render:function(e,t){var r=this;t.helpers.el_parser;document.querySelector(".add-contact-modal-qr")||(document.querySelector(".welcome-modal-left").innerHTML=n());var a=e.modules.returnModule("QRScanner");a.handleDecodedMessage=function(n){return r.handleDecodedMessage(n,e,t)},a.start(document.querySelector("video"),document.getElementById("qr-canvas"))},attachEvents:function(e,t){},handleDecodedMessage:function(e,t,r){if(t.crypto.isPublicKey(e)){var n=e;t.modules.returnModule("QRScanner").decoder.terminate(),r.startKeyExchange(n),r.stopVideo()}}}},function(e,t){e.exports=InviteFriendsQRTemplate=function(){return'\n    <div class="add-contact-modal-qr">\n      <div id="qr-hud-target" style="\n        position: absolute;\n        width: 10em;\n        height: 10em;\n        border: 2px solid red;\n        background-color: transparent;\n        margin: 2em 8.5em;"></div>\n      <div class="video-container">\n        <video playsinline autoplay style="width: 100%; max-width: 26em"></video>\n      </div>\n      <canvas style="display: none" id="qr-canvas"></canvas>\n    </div>\n  '}},function(e,t){e.exports=InviteFriendsTemplate=function(){return'\n  <div class="welcome-modal-wrapper">\n    <div class="welcome-modal-action">\n      <div class="welcome-modal-left">\n        <div class="welcome-modal-header">Invite Friends</h1></div>\n        <div class="welcome-modal-main">\n          <div style="margin:1em 0">How would you like to add a contact to Saito:</div>\n          <div style="">\n            <div class="welcome-invite-box generate-link-box"><i class="fas fa-link"></i><div>Generate Link</div></div>\n            <div class="welcome-invite-box scanqr-link-box"><i class="fas fa-qrcode"></i><div>Scan QR Code</div></div>\n            <div class="welcome-invite-box address-link-box"><i class="fas fa-key"></i><div>Add by Saito address</div></div>\n          </div>\n          <div class="welcome-modal-info">\n            <div style="margin-top:20px" class="welcome-modal-explanation">\n            <div class="tip">\n              <div><b>What happens when I invite someone to Saito? <i class="fas fa-info-circle"></i></b></div>\n              <div class="tiptext">Users you invite will be given a copy of your javascript bundle (so they are running the same applications). The Saito rewards module will give both you and your friends a bonus in Saito tokens for helping spread work.</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="welcome-modal-exit tutorial-skip">\n      <p>\n          Hmmm...\n      </p>\n      <p>\n          Maybe later.\n      </p>\n      <i class="fas fa-arrow-right"></i>\n    </div>\n  </div>\n\n<style>\n\n.welcome-modal-info {\n  clear: both;\n  font-size: 1.2em;\n}\n\n.welcome-invite-box {\n  float: left;\n  width: 250px;\n  border: none;\n  cursor: pointer;\n}\n\n.welcome-invite-box div {\n  text-align: center;\n  font-weight: bold;\n}\n\n.welcome-invite-box i {\n  display: block;\n  text-align: center;\n  margin: 0 0 15px 0;\n  font-size: 2em;\n}\n\n.welcome-invite-box:hover {\n  text-shadow: 2px 2px 2px #333;\n}\n\n</style>\n\n  '}},function(e,t){e.exports=InviteFriendsLinkTemplate=function(e){return'\n    <div class="welcome-modal-header">\n      <h1>Your Invitation Link:</h1>\n    </div>\n    <div class="welcome-modal-main">\n      <div class="welcome-modal-text">Share this link with your friends. Users you invite will be given a copy of your javascript bundle (Any games or applications you\'ve installed via the appstore will be included). The Saito rewards module will give both you and your friends a bonus in Saito tokens for helping spread work.</div>\n      <div class="link-space">\n        <input class="share-link" type="text" value="'.concat(e.browser.returnInviteLink(),'"></input>\n        <i class="fas fa-copy"></i>\n      </div>\n    </div>\n    \n<style>\n.welcome-modal-info {\n  clear: both;\n  font-size: 1.2em;\n}\n.welcome-modal-text {\n  margin:1em 0;\n  font-size: 1.5em;\n  font-weight: bold;\n}\n.link-space {\n    display: flex;\n}\n.link-space i {\n    font-size: 1.5em;\n    line-height: 1.5em;\n    margin: 0 10px;\n    cursor:pointer;\n}\n.link-space i:hover {\n    text-shadow: 2px 2px 2px #333;\n}\n</style>\n')}},function(e,t){e.exports=InviteFriendsPublickeyTemplate=function(e){return'\n    <div class="welcome-modal-header">\n      <h1>Add Contact using Network Address:</h1>\n    </div>\n    <div class="welcome-modal-main">\n      <div style="margin:1em 0">You can add contacts by providing their Saito username or publickey (address):</div>\n      <div style="display:flex">\n        <input style="width:100%; color:black; font-size:1em; background:white;margin:0 1em 0 0;" id="add-contact-input" type="text" placeholder="david@saito">\n        <button id="add-contact-btn" style="clear:both; margin:unset; margin-left:0px; min-width:6em; font-size:0.7em;">ADD CONTACT</button>\n      </div>\n      <div class="welcome-modal-info">\n        <div style="margin-top:20px" class="welcome-modal-explanation tip">\n          <div><b>What happens when I do this?</b></div>\n          <div class="tiptext">Your computer will send a request to connect over the blockchain. This will result in your two computers creating a secure encryption key and both of your accounts showing up in the account list (chat-box, etc.) of the other user.</div>\n        </div>\n      </div>\n    </div>\n  '}},function(e,t,r){e.exports=r(1147)},function(e,t,r){var n=r(1148),a=r(1189),i=/:([a-zA-Z0-9_\-\+]+):/g,s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function o(e){var t=e.indexOf(":");return t>-1?t===e.length-1?o(e=e.substring(0,t)):o(e=e.substr(t+1)):e}function c(e){return"string"==typeof e&&e.length>0?":"+e+":":e}var u=String.fromCharCode(65039),l=new RegExp(u,"g");function d(e){return e.replace(l,"")}var h=Object.keys(a).reduce((function(e,t){return e[d(a[t])]=t,e}),{}),p={emoji:a};p._get=function(e){return h[d(e)]?e:a.hasOwnProperty(e)?a[e]:"string"==typeof(t=e)&&":"!==t[0]?c(t):t;var t},p.get=function(e){return e=o(e),p._get(e)},p.find=function(e){return p.findByName(e)||p.findByCode(e)},p.findByName=function(e){var t=o(e),r=a[t];return r?{emoji:r,key:t}:void 0},p.findByCode=function(e){var t=d(e),r=h[t];return r?{emoji:a[r],key:r}:void 0},p.hasEmoji=function(e){return p.hasEmojiByName(e)||p.hasEmojiByCode(e)},p.hasEmojiByName=function(e){var t=p.findByName(e);return!!t&&t.key===o(e)},p.hasEmojiByCode=function(e){var t=p.findByCode(e);return!!t&&d(t.emoji)===d(e)},p.which=function(e,t){var r=d(e),n=h[r];return t?c(n):n},p.emojify=function(e,t,r){return e?e.split(i).map((function(e,n){if(n%2==0)return e;var a=p._get(e),i=a.indexOf(":")>-1;return i&&"function"==typeof t?t(e):i||"function"!=typeof r?a:r(a,e)})).join(""):""},p.random=function(){var e=Object.keys(a),t=e[Math.floor(Math.random()*e.length)];return{key:t,emoji:p._get(t)}},p.search=function(e){var t=Object.keys(a),r=o(e);return t.filter((function(e){return 0===e.toString().indexOf(r)})).map((function(e){return{key:e,emoji:p._get(e)}}))},p.unemojify=function(e){return e?n(e).map((function(e){return p.which(e,!0)||e})).join(""):""},p.replace=function(e,t,r){if(!e)return"";var a="function"==typeof t?t:function(){return t},i=n(e),o=i.map((function(e,t){var n=p.findByCode(e);return n&&r&&" "===i[t+1]&&(i[t+1]=""),n?a(n):e})).join("");return r?o.replace(s,""):o},p.strip=function(e){return p.replace(e,"",!0)},e.exports=p},function(e,t,r){var n=r(276),a=r(1149),i=r(1150),s=r(505),o=r(1162),c=r(1163),u=r(1164),l=r(1165),d=r(1166),h=r(1170),p=n?n.iterator:void 0;e.exports=function(e){if(!e)return[];if(s(e))return o(e)?d(e):a(e);if(p&&e[p])return c(e[p]());var t=i(e);return("[object Map]"==t?u:"[object Set]"==t?l:h)(e)}},function(e,t){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},function(e,t,r){var n=r(1151),a=r(1158),i=r(1159),s=r(1160),o=r(1161),c=r(129),u=r(504),l=u(n),d=u(a),h=u(i),p=u(s),f=u(o),m=c;(n&&"[object DataView]"!=m(new n(new ArrayBuffer(1)))||a&&"[object Map]"!=m(new a)||i&&"[object Promise]"!=m(i.resolve())||s&&"[object Set]"!=m(new s)||o&&"[object WeakMap]"!=m(new o))&&(m=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case l:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,r){var n=r(128)(r(71),"DataView");e.exports=n},function(e,t,r){var n=r(502),a=r(1155),i=r(503),s=r(504),o=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,h=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(n(e)?h:o).test(s(e))}},function(e,t,r){var n=r(276),a=Object.prototype,i=a.hasOwnProperty,s=a.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,o),r=e[o];try{e[o]=void 0;var n=!0}catch(e){}var a=s.call(e);return n&&(t?e[o]=r:delete e[o]),a}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){var n,a=r(1156),i=(n=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},function(e,t,r){var n=r(71)["__core-js_shared__"];e.exports=n},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,r){var n=r(128)(r(71),"Map");e.exports=n},function(e,t,r){var n=r(128)(r(71),"Promise");e.exports=n},function(e,t,r){var n=r(128)(r(71),"Set");e.exports=n},function(e,t,r){var n=r(128)(r(71),"WeakMap");e.exports=n},function(e,t,r){var n=r(129),a=r(507),i=r(165);e.exports=function(e){return"string"==typeof e||!a(e)&&i(e)&&"[object String]"==n(e)}},function(e,t){e.exports=function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}},function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},function(e,t){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},function(e,t,r){var n=r(1167),a=r(1168),i=r(1169);e.exports=function(e){return a(e)?i(e):n(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return r.test(e)}},function(e,t){var r="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+n+"|"+a+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[i,s,o].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),l="(?:"+[i+n+"?",n,s,o,r].join("|")+")",d=RegExp(a+"(?="+a+")|"+l+u,"g");e.exports=function(e){return e.match(d)||[]}},function(e,t,r){var n=r(1171),a=r(1173);e.exports=function(e){return null==e?[]:n(e,a(e))}},function(e,t,r){var n=r(1172);e.exports=function(e,t){return n(t,(function(t){return e[t]}))}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},function(e,t,r){var n=r(1174),a=r(1185),i=r(505);e.exports=function(e){return i(e)?n(e):a(e)}},function(e,t,r){var n=r(1175),a=r(1176),i=r(507),s=r(1178),o=r(1180),c=r(1181),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),l=!r&&a(e),d=!r&&!l&&s(e),h=!r&&!l&&!d&&c(e),p=r||l||d||h,f=p?n(e.length,String):[],m=f.length;for(var g in e)!t&&!u.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,m))||f.push(g);return f}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(1177),a=r(165),i=Object.prototype,s=i.hasOwnProperty,o=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return a(e)&&s.call(e,"callee")&&!o.call(e,"callee")};e.exports=c},function(e,t,r){var n=r(129),a=r(165);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},function(e,t,r){(function(e){var n=r(71),a=r(1179),i=t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=s&&s.exports===i?n.Buffer:void 0,c=(o?o.isBuffer:void 0)||a;e.exports=c}).call(this,r(92)(e))},function(e,t){e.exports=function(){return!1}},function(e,t){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){var n=r(1182),a=r(1183),i=r(1184),s=i&&i.isTypedArray,o=s?a(s):n;e.exports=o},function(e,t,r){var n=r(129),a=r(506),i=r(165),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!s[n(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){(function(e){var n=r(501),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===a&&n.process,o=function(){try{var e=i&&i.require&&i.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=o}).call(this,r(92)(e))},function(e,t,r){var n=r(1186),a=r(1187),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(1188)(Object.keys,Object);e.exports=n},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e){e.exports=JSON.parse('{"100":"","1234":"","umbrella_with_rain_drops":"","coffee":"","aries":"","taurus":"","sagittarius":"","capricorn":"","aquarius":"","pisces":"","anchor":"","white_check_mark":"","sparkles":"","question":"","grey_question":"","grey_exclamation":"","exclamation":"","heavy_exclamation_mark":"","heavy_plus_sign":"","heavy_minus_sign":"","heavy_division_sign":"","hash":"#","keycap_star":"*","zero":"0","one":"1","two":"2","three":"3","four":"4","five":"5","six":"6","seven":"7","eight":"8","nine":"9","copyright":"","registered":"","mahjong":"","black_joker":"","a":"","b":"","o2":"","parking":"","ab":"","cl":"","cool":"","free":"","id":"","new":"","ng":"","ok":"","sos":"","up":"","vs":"","flag-ac":"","flag-ad":"","flag-ae":"","flag-af":"","flag-ag":"","flag-ai":"","flag-al":"","flag-am":"","flag-ao":"","flag-aq":"","flag-ar":"","flag-as":"","flag-at":"","flag-au":"","flag-aw":"","flag-ax":"","flag-az":"","flag-ba":"","flag-bb":"","flag-bd":"","flag-be":"","flag-bf":"","flag-bg":"","flag-bh":"","flag-bi":"","flag-bj":"","flag-bl":"","flag-bm":"","flag-bn":"","flag-bo":"","flag-bq":"","flag-br":"","flag-bs":"","flag-bt":"","flag-bv":"","flag-bw":"","flag-by":"","flag-bz":"","flag-ca":"","flag-cc":"","flag-cd":"","flag-cf":"","flag-cg":"","flag-ch":"","flag-ci":"","flag-ck":"","flag-cl":"","flag-cm":"","cn":"","flag-cn":"","flag-co":"","flag-cp":"","flag-cr":"","flag-cu":"","flag-cv":"","flag-cw":"","flag-cx":"","flag-cy":"","flag-cz":"","de":"","flag-de":"","flag-dg":"","flag-dj":"","flag-dk":"","flag-dm":"","flag-do":"","flag-dz":"","flag-ea":"","flag-ec":"","flag-ee":"","flag-eg":"","flag-eh":"","flag-er":"","es":"","flag-es":"","flag-et":"","flag-eu":"","flag-fi":"","flag-fj":"","flag-fk":"","flag-fm":"","flag-fo":"","fr":"","flag-fr":"","flag-ga":"","gb":"","uk":"","flag-gb":"","flag-gd":"","flag-ge":"","flag-gf":"","flag-gg":"","flag-gh":"","flag-gi":"","flag-gl":"","flag-gm":"","flag-gn":"","flag-gp":"","flag-gq":"","flag-gr":"","flag-gs":"","flag-gt":"","flag-gu":"","flag-gw":"","flag-gy":"","flag-hk":"","flag-hm":"","flag-hn":"","flag-hr":"","flag-ht":"","flag-hu":"","flag-ic":"","flag-id":"","flag-ie":"","flag-il":"","flag-im":"","flag-in":"","flag-io":"","flag-iq":"","flag-ir":"","flag-is":"","it":"","flag-it":"","flag-je":"","flag-jm":"","flag-jo":"","jp":"","flag-jp":"","flag-ke":"","flag-kg":"","flag-kh":"","flag-ki":"","flag-km":"","flag-kn":"","flag-kp":"","kr":"","flag-kr":"","flag-kw":"","flag-ky":"","flag-kz":"","flag-la":"","flag-lb":"","flag-lc":"","flag-li":"","flag-lk":"","flag-lr":"","flag-ls":"","flag-lt":"","flag-lu":"","flag-lv":"","flag-ly":"","flag-ma":"","flag-mc":"","flag-md":"","flag-me":"","flag-mf":"","flag-mg":"","flag-mh":"","flag-mk":"","flag-ml":"","flag-mm":"","flag-mn":"","flag-mo":"","flag-mp":"","flag-mq":"","flag-mr":"","flag-ms":"","flag-mt":"","flag-mu":"","flag-mv":"","flag-mw":"","flag-mx":"","flag-my":"","flag-mz":"","flag-na":"","flag-nc":"","flag-ne":"","flag-nf":"","flag-ng":"","flag-ni":"","flag-nl":"","flag-no":"","flag-np":"","flag-nr":"","flag-nu":"","flag-nz":"","flag-om":"","flag-pa":"","flag-pe":"","flag-pf":"","flag-pg":"","flag-ph":"","flag-pk":"","flag-pl":"","flag-pm":"","flag-pn":"","flag-pr":"","flag-ps":"","flag-pt":"","flag-pw":"","flag-py":"","flag-qa":"","flag-re":"","flag-ro":"","flag-rs":"","ru":"","flag-ru":"","flag-rw":"","flag-sa":"","flag-sb":"","flag-sc":"","flag-sd":"","flag-se":"","flag-sg":"","flag-sh":"","flag-si":"","flag-sj":"","flag-sk":"","flag-sl":"","flag-sm":"","flag-sn":"","flag-so":"","flag-sr":"","flag-ss":"","flag-st":"","flag-sv":"","flag-sx":"","flag-sy":"","flag-sz":"","flag-ta":"","flag-tc":"","flag-td":"","flag-tf":"","flag-tg":"","flag-th":"","flag-tj":"","flag-tk":"","flag-tl":"","flag-tm":"","flag-tn":"","flag-to":"","flag-tr":"","flag-tt":"","flag-tv":"","flag-tw":"","flag-tz":"","flag-ua":"","flag-ug":"","flag-um":"","flag-un":"","us":"","flag-us":"","flag-uy":"","flag-uz":"","flag-va":"","flag-vc":"","flag-ve":"","flag-vg":"","flag-vi":"","flag-vn":"","flag-vu":"","flag-wf":"","flag-ws":"","flag-xk":"","flag-ye":"","flag-yt":"","flag-za":"","flag-zm":"","flag-zw":"","koko":"","sa":"","u7121":"","u6307":"","u7981":"","u7a7a":"","u5408":"","u6e80":"","u6709":"","u6708":"","u7533":"","u5272":"","u55b6":"","ideograph_advantage":"","accept":"","cyclone":"","foggy":"","closed_umbrella":"","night_with_stars":"","sunrise_over_mountains":"","sunrise":"","city_sunset":"","city_sunrise":"","rainbow":"","bridge_at_night":"","ocean":"","volcano":"","milky_way":"","earth_africa":"","earth_americas":"","earth_asia":"","globe_with_meridians":"","new_moon":"","waxing_crescent_moon":"","first_quarter_moon":"","moon":"","waxing_gibbous_moon":"","full_moon":"","waning_gibbous_moon":"","last_quarter_moon":"","waning_crescent_moon":"","crescent_moon":"","new_moon_with_face":"","first_quarter_moon_with_face":"","last_quarter_moon_with_face":"","full_moon_with_face":"","sun_with_face":"","star2":"","stars":"","thermometer":"","mostly_sunny":"","sun_small_cloud":"","barely_sunny":"","sun_behind_cloud":"","partly_sunny_rain":"","sun_behind_rain_cloud":"","rain_cloud":"","snow_cloud":"","lightning":"","lightning_cloud":"","tornado":"","tornado_cloud":"","fog":"","wind_blowing_face":"","hotdog":"","taco":"","burrito":"","chestnut":"","seedling":"","evergreen_tree":"","deciduous_tree":"","palm_tree":"","cactus":"","hot_pepper":"","tulip":"","cherry_blossom":"","rose":"","hibiscus":"","sunflower":"","blossom":"","corn":"","ear_of_rice":"","herb":"","four_leaf_clover":"","maple_leaf":"","fallen_leaf":"","leaves":"","mushroom":"","tomato":"","eggplant":"","grapes":"","melon":"","watermelon":"","tangerine":"","lemon":"","banana":"","pineapple":"","apple":"","green_apple":"","pear":"","peach":"","cherries":"","strawberry":"","hamburger":"","pizza":"","meat_on_bone":"","poultry_leg":"","rice_cracker":"","rice_ball":"","rice":"","curry":"","ramen":"","spaghetti":"","bread":"","fries":"","sweet_potato":"","dango":"","oden":"","sushi":"","fried_shrimp":"","fish_cake":"","icecream":"","shaved_ice":"","ice_cream":"","doughnut":"","cookie":"","chocolate_bar":"","candy":"","lollipop":"","custard":"","honey_pot":"","cake":"","bento":"","stew":"","fried_egg":"","cooking":"","fork_and_knife":"","tea":"","sake":"","wine_glass":"","cocktail":"","tropical_drink":"","beer":"","beers":"","baby_bottle":"","knife_fork_plate":"","champagne":"","popcorn":"","ribbon":"","gift":"","birthday":"","jack_o_lantern":"","christmas_tree":"","santa":"","fireworks":"","sparkler":"","balloon":"","tada":"","confetti_ball":"","tanabata_tree":"","crossed_flags":"","bamboo":"","dolls":"","flags":"","wind_chime":"","rice_scene":"","school_satchel":"","mortar_board":"","medal":"","reminder_ribbon":"","studio_microphone":"","level_slider":"","control_knobs":"","film_frames":"","admission_tickets":"","carousel_horse":"","ferris_wheel":"","roller_coaster":"","fishing_pole_and_fish":"","microphone":"","movie_camera":"","cinema":"","headphones":"","art":"","tophat":"","circus_tent":"","ticket":"","clapper":"","performing_arts":"","video_game":"","dart":"","slot_machine":"","8ball":"","game_die":"","bowling":"","flower_playing_cards":"","musical_note":"","notes":"","saxophone":"","guitar":"","musical_keyboard":"","trumpet":"","violin":"","musical_score":"","running_shirt_with_sash":"","tennis":"","ski":"","basketball":"","checkered_flag":"","snowboarder":"","woman-running":"","man-running":"","runner":"","running":"","woman-surfing":"","man-surfing":"","surfer":"","sports_medal":"","trophy":"","horse_racing":"","football":"","rugby_football":"","woman-swimming":"","man-swimming":"","swimmer":"","woman-lifting-weights":"","man-lifting-weights":"","weight_lifter":"","woman-golfing":"","man-golfing":"","golfer":"","racing_motorcycle":"","racing_car":"","cricket_bat_and_ball":"","volleyball":"","field_hockey_stick_and_ball":"","ice_hockey_stick_and_puck":"","table_tennis_paddle_and_ball":"","snow_capped_mountain":"","camping":"","beach_with_umbrella":"","building_construction":"","house_buildings":"","cityscape":"","derelict_house_building":"","classical_building":"","desert":"","desert_island":"","national_park":"","stadium":"","house":"","house_with_garden":"","office":"","post_office":"","european_post_office":"","hospital":"","bank":"","atm":"","hotel":"","love_hotel":"","convenience_store":"","school":"","department_store":"","factory":"","izakaya_lantern":"","lantern":"","japanese_castle":"","european_castle":"","rainbow-flag":"","transgender_flag":"","waving_white_flag":"","pirate_flag":"","flag-england":"","flag-scotland":"","flag-wales":"","waving_black_flag":"","rosette":"","label":"","badminton_racquet_and_shuttlecock":"","bow_and_arrow":"","amphora":"","skin-tone-2":"","skin-tone-3":"","skin-tone-4":"","skin-tone-5":"","skin-tone-6":"","rat":"","mouse2":"","ox":"","water_buffalo":"","cow2":"","tiger2":"","leopard":"","rabbit2":"","black_cat":"","cat2":"","dragon":"","crocodile":"","whale2":"","snail":"","snake":"","racehorse":"","ram":"","goat":"","sheep":"","monkey":"","rooster":"","chicken":"","service_dog":"","dog2":"","pig2":"","boar":"","elephant":"","octopus":"","shell":"","bug":"","ant":"","bee":"","honeybee":"","ladybug":"","lady_beetle":"","fish":"","tropical_fish":"","blowfish":"","turtle":"","hatching_chick":"","baby_chick":"","hatched_chick":"","bird":"","penguin":"","koala":"","poodle":"","dromedary_camel":"","camel":"","dolphin":"","flipper":"","mouse":"","cow":"","tiger":"","rabbit":"","cat":"","dragon_face":"","whale":"","horse":"","monkey_face":"","dog":"","pig":"","frog":"","hamster":"","wolf":"","polar_bear":"","bear":"","panda_face":"","pig_nose":"","feet":"","paw_prints":"","chipmunk":"","eyes":"","eye-in-speech-bubble":"","eye":"","ear":"","nose":"","lips":"","tongue":"","point_up_2":"","point_down":"","point_left":"","point_right":"","facepunch":"","punch":"","wave":"","ok_hand":"","+1":"","thumbsup":"","-1":"","thumbsdown":"","clap":"","open_hands":"","crown":"","womans_hat":"","eyeglasses":"","necktie":"","shirt":"","tshirt":"","jeans":"","dress":"","kimono":"","bikini":"","womans_clothes":"","purse":"","handbag":"","pouch":"","mans_shoe":"","shoe":"","athletic_shoe":"","high_heel":"","sandal":"","boot":"","footprints":"","bust_in_silhouette":"","busts_in_silhouette":"","boy":"","girl":"","male-farmer":"","male-cook":"","man_feeding_baby":"","male-student":"","male-singer":"","male-artist":"","male-teacher":"","male-factory-worker":"","man-boy-boy":"","man-boy":"","man-girl-boy":"","man-girl-girl":"","man-girl":"","man-man-boy":"","man-man-boy-boy":"","man-man-girl":"","man-man-girl-boy":"","man-man-girl-girl":"","man-woman-boy":"","family":"","man-woman-boy-boy":"","man-woman-girl":"","man-woman-girl-boy":"","man-woman-girl-girl":"","male-technologist":"","male-office-worker":"","male-mechanic":"","male-scientist":"","male-astronaut":"","male-firefighter":"","man_with_probing_cane":"","red_haired_man":"","curly_haired_man":"","bald_man":"","white_haired_man":"","man_in_motorized_wheelchair":"","man_in_manual_wheelchair":"","male-doctor":"","male-judge":"","male-pilot":"","man-heart-man":"","man-kiss-man":"","man":"","female-farmer":"","female-cook":"","woman_feeding_baby":"","female-student":"","female-singer":"","female-artist":"","female-teacher":"","female-factory-worker":"","woman-boy-boy":"","woman-boy":"","woman-girl-boy":"","woman-girl-girl":"","woman-girl":"","woman-woman-boy":"","woman-woman-boy-boy":"","woman-woman-girl":"","woman-woman-girl-boy":"","woman-woman-girl-girl":"","female-technologist":"","female-office-worker":"","female-mechanic":"","female-scientist":"","female-astronaut":"","female-firefighter":"","woman_with_probing_cane":"","red_haired_woman":"","curly_haired_woman":"","bald_woman":"","white_haired_woman":"","woman_in_motorized_wheelchair":"","woman_in_manual_wheelchair":"","female-doctor":"","female-judge":"","female-pilot":"","woman-heart-man":"","woman-heart-woman":"","woman-kiss-man":"","woman-kiss-woman":"","woman":"","man_and_woman_holding_hands":"","woman_and_man_holding_hands":"","couple":"","two_men_holding_hands":"","men_holding_hands":"","two_women_holding_hands":"","women_holding_hands":"","female-police-officer":"","male-police-officer":"","cop":"","women-with-bunny-ears-partying":"","woman-with-bunny-ears-partying":"","dancers":"","men-with-bunny-ears-partying":"","man-with-bunny-ears-partying":"","woman_with_veil":"","man_with_veil":"","bride_with_veil":"","blond-haired-woman":"","blond-haired-man":"","person_with_blond_hair":"","man_with_gua_pi_mao":"","woman-wearing-turban":"","man-wearing-turban":"","man_with_turban":"","older_man":"","older_woman":"","baby":"","female-construction-worker":"","male-construction-worker":"","construction_worker":"","princess":"","japanese_ogre":"","japanese_goblin":"","ghost":"","angel":"","alien":"","space_invader":"","imp":"","skull":"","woman-tipping-hand":"","information_desk_person":"","man-tipping-hand":"","female-guard":"","male-guard":"","guardsman":"","dancer":"","lipstick":"","nail_care":"","woman-getting-massage":"","massage":"","man-getting-massage":"","woman-getting-haircut":"","haircut":"","man-getting-haircut":"","barber":"","syringe":"","pill":"","kiss":"","love_letter":"","ring":"","gem":"","couplekiss":"","bouquet":"","couple_with_heart":"","wedding":"","heartbeat":"","broken_heart":"","two_hearts":"","sparkling_heart":"","heartpulse":"","cupid":"","blue_heart":"","green_heart":"","yellow_heart":"","purple_heart":"","gift_heart":"","revolving_hearts":"","heart_decoration":"","diamond_shape_with_a_dot_inside":"","bulb":"","anger":"","bomb":"","zzz":"","boom":"","collision":"","sweat_drops":"","droplet":"","dash":"","hankey":"","poop":"","shit":"","muscle":"","dizzy":"","speech_balloon":"","thought_balloon":"","white_flower":"","moneybag":"","currency_exchange":"","heavy_dollar_sign":"","credit_card":"","yen":"","dollar":"","euro":"","pound":"","money_with_wings":"","chart":"","seat":"","computer":"","briefcase":"","minidisc":"","floppy_disk":"","cd":"","dvd":"","file_folder":"","open_file_folder":"","page_with_curl":"","page_facing_up":"","date":"","calendar":"","card_index":"","chart_with_upwards_trend":"","chart_with_downwards_trend":"","bar_chart":"","clipboard":"","pushpin":"","round_pushpin":"","paperclip":"","straight_ruler":"","triangular_ruler":"","bookmark_tabs":"","ledger":"","notebook":"","notebook_with_decorative_cover":"","closed_book":"","book":"","open_book":"","green_book":"","blue_book":"","orange_book":"","books":"","name_badge":"","scroll":"","memo":"","pencil":"","telephone_receiver":"","pager":"","fax":"","satellite_antenna":"","loudspeaker":"","mega":"","outbox_tray":"","inbox_tray":"","package":"","e-mail":"","incoming_envelope":"","envelope_with_arrow":"","mailbox_closed":"","mailbox":"","mailbox_with_mail":"","mailbox_with_no_mail":"","postbox":"","postal_horn":"","newspaper":"","iphone":"","calling":"","vibration_mode":"","mobile_phone_off":"","no_mobile_phones":"","signal_strength":"","camera":"","camera_with_flash":"","video_camera":"","tv":"","radio":"","vhs":"","film_projector":"","prayer_beads":"","twisted_rightwards_arrows":"","repeat":"","repeat_one":"","arrows_clockwise":"","arrows_counterclockwise":"","low_brightness":"","high_brightness":"","mute":"","speaker":"","sound":"","loud_sound":"","battery":"","electric_plug":"","mag":"","mag_right":"","lock_with_ink_pen":"","closed_lock_with_key":"","key":"","lock":"","unlock":"","bell":"","no_bell":"","bookmark":"","link":"","radio_button":"","back":"","end":"","on":"","soon":"","top":"","underage":"","keycap_ten":"","capital_abcd":"","abcd":"","symbols":"","abc":"","fire":"","flashlight":"","wrench":"","hammer":"","nut_and_bolt":"","hocho":"","knife":"","gun":"","microscope":"","telescope":"","crystal_ball":"","six_pointed_star":"","beginner":"","trident":"","black_square_button":"","white_square_button":"","red_circle":"","large_blue_circle":"","large_orange_diamond":"","large_blue_diamond":"","small_orange_diamond":"","small_blue_diamond":"","small_red_triangle":"","small_red_triangle_down":"","arrow_up_small":"","arrow_down_small":"","om_symbol":"","dove_of_peace":"","kaaba":"","mosque":"","synagogue":"","menorah_with_nine_branches":"","clock1":"","clock2":"","clock3":"","clock4":"","clock5":"","clock6":"","clock7":"","clock8":"","clock9":"","clock10":"","clock11":"","clock12":"","clock130":"","clock230":"","clock330":"","clock430":"","clock530":"","clock630":"","clock730":"","clock830":"","clock930":"","clock1030":"","clock1130":"","clock1230":"","candle":"","mantelpiece_clock":"","hole":"","man_in_business_suit_levitating":"","female-detective":"","male-detective":"","sleuth_or_spy":"","dark_sunglasses":"","spider":"","spider_web":"","joystick":"","man_dancing":"","linked_paperclips":"","lower_left_ballpoint_pen":"","lower_left_fountain_pen":"","lower_left_paintbrush":"","lower_left_crayon":"","raised_hand_with_fingers_splayed":"","middle_finger":"","reversed_hand_with_middle_finger_extended":"","spock-hand":"","black_heart":"","desktop_computer":"","printer":"","three_button_mouse":"","trackball":"","frame_with_picture":"","card_index_dividers":"","card_file_box":"","file_cabinet":"","wastebasket":"","spiral_note_pad":"","spiral_calendar_pad":"","compression":"","old_key":"","rolled_up_newspaper":"","dagger_knife":"","speaking_head_in_silhouette":"","left_speech_bubble":"","right_anger_bubble":"","ballot_box_with_ballot":"","world_map":"","mount_fuji":"","tokyo_tower":"","statue_of_liberty":"","japan":"","moyai":"","grinning":"","grin":"","joy":"","smiley":"","smile":"","sweat_smile":"","laughing":"","satisfied":"","innocent":"","smiling_imp":"","wink":"","blush":"","yum":"","relieved":"","heart_eyes":"","sunglasses":"","smirk":"","neutral_face":"","expressionless":"","unamused":"","sweat":"","pensive":"","confused":"","confounded":"","kissing":"","kissing_heart":"","kissing_smiling_eyes":"","kissing_closed_eyes":"","stuck_out_tongue":"","stuck_out_tongue_winking_eye":"","stuck_out_tongue_closed_eyes":"","disappointed":"","worried":"","angry":"","rage":"","cry":"","persevere":"","triumph":"","disappointed_relieved":"","frowning":"","anguished":"","fearful":"","weary":"","sleepy":"","tired_face":"","grimacing":"","sob":"","face_exhaling":"","open_mouth":"","hushed":"","cold_sweat":"","scream":"","astonished":"","flushed":"","sleeping":"","face_with_spiral_eyes":"","dizzy_face":"","face_in_clouds":"","no_mouth":"","mask":"","smile_cat":"","joy_cat":"","smiley_cat":"","heart_eyes_cat":"","smirk_cat":"","kissing_cat":"","pouting_cat":"","crying_cat_face":"","scream_cat":"","slightly_frowning_face":"","slightly_smiling_face":"","upside_down_face":"","face_with_rolling_eyes":"","woman-gesturing-no":"","no_good":"","man-gesturing-no":"","woman-gesturing-ok":"","ok_woman":"","man-gesturing-ok":"","woman-bowing":"","man-bowing":"","bow":"","see_no_evil":"","hear_no_evil":"","speak_no_evil":"","woman-raising-hand":"","raising_hand":"","man-raising-hand":"","raised_hands":"","woman-frowning":"","person_frowning":"","man-frowning":"","woman-pouting":"","person_with_pouting_face":"","man-pouting":"","pray":"","rocket":"","helicopter":"","steam_locomotive":"","railway_car":"","bullettrain_side":"","bullettrain_front":"","train2":"","metro":"","light_rail":"","station":"","tram":"","train":"","bus":"","oncoming_bus":"","trolleybus":"","busstop":"","minibus":"","ambulance":"","fire_engine":"","police_car":"","oncoming_police_car":"","taxi":"","oncoming_taxi":"","car":"","red_car":"","oncoming_automobile":"","blue_car":"","truck":"","articulated_lorry":"","tractor":"","monorail":"","mountain_railway":"","suspension_railway":"","mountain_cableway":"","aerial_tramway":"","ship":"","woman-rowing-boat":"","man-rowing-boat":"","rowboat":"","speedboat":"","traffic_light":"","vertical_traffic_light":"","construction":"","rotating_light":"","triangular_flag_on_post":"","door":"","no_entry_sign":"","smoking":"","no_smoking":"","put_litter_in_its_place":"","do_not_litter":"","potable_water":"","non-potable_water":"","bike":"","no_bicycles":"","woman-biking":"","man-biking":"","bicyclist":"","woman-mountain-biking":"","man-mountain-biking":"","mountain_bicyclist":"","woman-walking":"","man-walking":"","walking":"","no_pedestrians":"","children_crossing":"","mens":"","womens":"","restroom":"","baby_symbol":"","toilet":"","wc":"","shower":"","bath":"","bathtub":"","passport_control":"","customs":"","baggage_claim":"","left_luggage":"","couch_and_lamp":"","sleeping_accommodation":"","shopping_bags":"","bellhop_bell":"","bed":"","place_of_worship":"","octagonal_sign":"","shopping_trolley":"","hindu_temple":"","hut":"","elevator":"","hammer_and_wrench":"","shield":"","oil_drum":"","motorway":"","railway_track":"","motor_boat":"","small_airplane":"","airplane_departure":"","airplane_arriving":"","satellite":"","passenger_ship":"","scooter":"","motor_scooter":"","canoe":"","sled":"","flying_saucer":"","skateboard":"","auto_rickshaw":"","pickup_truck":"","roller_skate":"","large_orange_circle":"","large_yellow_circle":"","large_green_circle":"","large_purple_circle":"","large_brown_circle":"","large_red_square":"","large_blue_square":"","large_orange_square":"","large_yellow_square":"","large_green_square":"","large_purple_square":"","large_brown_square":"","pinched_fingers":"","white_heart":"","brown_heart":"","pinching_hand":"","zipper_mouth_face":"","money_mouth_face":"","face_with_thermometer":"","nerd_face":"","thinking_face":"","face_with_head_bandage":"","robot_face":"","hugging_face":"","the_horns":"","sign_of_the_horns":"","call_me_hand":"","raised_back_of_hand":"","left-facing_fist":"","right-facing_fist":"","handshake":"","crossed_fingers":"","hand_with_index_and_middle_fingers_crossed":"","i_love_you_hand_sign":"","face_with_cowboy_hat":"","clown_face":"","nauseated_face":"","rolling_on_the_floor_laughing":"","drooling_face":"","lying_face":"","woman-facepalming":"","man-facepalming":"","face_palm":"","sneezing_face":"","face_with_raised_eyebrow":"","face_with_one_eyebrow_raised":"","star-struck":"","grinning_face_with_star_eyes":"","zany_face":"","grinning_face_with_one_large_and_one_small_eye":"","shushing_face":"","face_with_finger_covering_closed_lips":"","face_with_symbols_on_mouth":"","serious_face_with_symbols_covering_mouth":"","face_with_hand_over_mouth":"","smiling_face_with_smiling_eyes_and_hand_covering_mouth":"","face_vomiting":"","face_with_open_mouth_vomiting":"","exploding_head":"","shocked_face_with_exploding_head":"","pregnant_woman":"","breast-feeding":"","palms_up_together":"","selfie":"","prince":"","woman_in_tuxedo":"","man_in_tuxedo":"","person_in_tuxedo":"","mrs_claus":"","mother_christmas":"","woman-shrugging":"","man-shrugging":"","shrug":"","woman-cartwheeling":"","man-cartwheeling":"","person_doing_cartwheel":"","woman-juggling":"","man-juggling":"","juggling":"","fencer":"","woman-wrestling":"","man-wrestling":"","wrestlers":"","woman-playing-water-polo":"","man-playing-water-polo":"","water_polo":"","woman-playing-handball":"","man-playing-handball":"","handball":"","diving_mask":"","wilted_flower":"","drum_with_drumsticks":"","clinking_glasses":"","tumbler_glass":"","spoon":"","goal_net":"","first_place_medal":"","second_place_medal":"","third_place_medal":"","boxing_glove":"","martial_arts_uniform":"","curling_stone":"","lacrosse":"","softball":"","flying_disc":"","croissant":"","avocado":"","cucumber":"","bacon":"","potato":"","carrot":"","baguette_bread":"","green_salad":"","shallow_pan_of_food":"","stuffed_flatbread":"","egg":"","glass_of_milk":"","peanuts":"","kiwifruit":"","pancakes":"","dumpling":"","fortune_cookie":"","takeout_box":"","chopsticks":"","bowl_with_spoon":"","cup_with_straw":"","coconut":"","broccoli":"","pie":"","pretzel":"","cut_of_meat":"","sandwich":"","canned_food":"","leafy_green":"","mango":"","moon_cake":"","bagel":"","smiling_face_with_3_hearts":"","yawning_face":"","smiling_face_with_tear":"","partying_face":"","woozy_face":"","hot_face":"","cold_face":"","ninja":"","disguised_face":"","pleading_face":"","sari":"","lab_coat":"","goggles":"","hiking_boot":"","womans_flat_shoe":"","crab":"","lion_face":"","scorpion":"","turkey":"","unicorn_face":"","eagle":"","duck":"","bat":"","shark":"","owl":"","fox_face":"","butterfly":"","deer":"","gorilla":"","lizard":"","rhinoceros":"","shrimp":"","squid":"","giraffe_face":"","zebra_face":"","hedgehog":"","sauropod":"","t-rex":"","cricket":"","kangaroo":"","llama":"","peacock":"","hippopotamus":"","parrot":"","raccoon":"","lobster":"","mosquito":"","microbe":"","badger":"","swan":"","mammoth":"","dodo":"","sloth":"","otter":"","orangutan":"","skunk":"","flamingo":"","oyster":"","beaver":"","bison":"","seal":"","guide_dog":"","probing_cane":"","bone":"","leg":"","foot":"","tooth":"","female_superhero":"","male_superhero":"","superhero":"","female_supervillain":"","male_supervillain":"","supervillain":"","safety_vest":"","ear_with_hearing_aid":"","motorized_wheelchair":"","manual_wheelchair":"","mechanical_arm":"","mechanical_leg":"","cheese_wedge":"","cupcake":"","salt":"","beverage_box":"","garlic":"","onion":"","falafel":"","waffle":"","butter":"","mate_drink":"","ice_cube":"","bubble_tea":"","woman_standing":"","man_standing":"","standing_person":"","woman_kneeling":"","man_kneeling":"","kneeling_person":"","deaf_woman":"","deaf_man":"","deaf_person":"","face_with_monocle":"","farmer":"","cook":"","person_feeding_baby":"","mx_claus":"","student":"","singer":"","artist":"","teacher":"","factory_worker":"","technologist":"","office_worker":"","mechanic":"","scientist":"","astronaut":"","firefighter":"","people_holding_hands":"","person_with_probing_cane":"","red_haired_person":"","curly_haired_person":"","bald_person":"","white_haired_person":"","person_in_motorized_wheelchair":"","person_in_manual_wheelchair":"","health_worker":"","judge":"","pilot":"","adult":"","child":"","older_adult":"","woman_with_beard":"","man_with_beard":"","bearded_person":"","person_with_headscarf":"","woman_in_steamy_room":"","man_in_steamy_room":"","person_in_steamy_room":"","woman_climbing":"","person_climbing":"","man_climbing":"","woman_in_lotus_position":"","person_in_lotus_position":"","man_in_lotus_position":"","female_mage":"","mage":"","male_mage":"","female_fairy":"","fairy":"","male_fairy":"","female_vampire":"","vampire":"","male_vampire":"","mermaid":"","merman":"","merperson":"","female_elf":"","male_elf":"","elf":"","female_genie":"","male_genie":"","genie":"","female_zombie":"","male_zombie":"","zombie":"","brain":"","orange_heart":"","billed_cap":"","scarf":"","gloves":"","coat":"","socks":"","red_envelope":"","firecracker":"","jigsaw":"","test_tube":"","petri_dish":"","dna":"","compass":"","abacus":"","fire_extinguisher":"","toolbox":"","bricks":"","magnet":"","luggage":"","lotion_bottle":"","thread":"","yarn":"","safety_pin":"","teddy_bear":"","broom":"","basket":"","roll_of_paper":"","soap":"","sponge":"","receipt":"","nazar_amulet":"","ballet_shoes":"","one-piece_swimsuit":"","briefs":"","shorts":"","thong_sandal":"","drop_of_blood":"","adhesive_bandage":"","stethoscope":"","yo-yo":"","kite":"","parachute":"","boomerang":"","magic_wand":"","pinata":"","nesting_dolls":"","ringed_planet":"","chair":"","razor":"","axe":"","diya_lamp":"","banjo":"","military_helmet":"","accordion":"","long_drum":"","coin":"","carpentry_saw":"","screwdriver":"","ladder":"","hook":"","mirror":"","window":"","plunger":"","sewing_needle":"","knot":"","bucket":"","mouse_trap":"","toothbrush":"","headstone":"","placard":"","rock":"","fly":"","worm":"","beetle":"","cockroach":"","potted_plant":"","wood":"","feather":"","anatomical_heart":"","lungs":"","people_hugging":"","blueberries":"","bell_pepper":"","olive":"","flatbread":"","tamale":"","fondue":"","teapot":"","bangbang":"","interrobang":"","tm":"","information_source":"","left_right_arrow":"","arrow_up_down":"","arrow_upper_left":"","arrow_upper_right":"","arrow_lower_right":"","arrow_lower_left":"","leftwards_arrow_with_hook":"","arrow_right_hook":"","watch":"","hourglass":"","keyboard":"","eject":"","fast_forward":"","rewind":"","arrow_double_up":"","arrow_double_down":"","black_right_pointing_double_triangle_with_vertical_bar":"","black_left_pointing_double_triangle_with_vertical_bar":"","black_right_pointing_triangle_with_double_vertical_bar":"","alarm_clock":"","stopwatch":"","timer_clock":"","hourglass_flowing_sand":"","double_vertical_bar":"","black_square_for_stop":"","black_circle_for_record":"","m":"","black_small_square":"","white_small_square":"","arrow_forward":"","arrow_backward":"","white_medium_square":"","black_medium_square":"","white_medium_small_square":"","black_medium_small_square":"","sunny":"","cloud":"","umbrella":"","snowman":"","comet":"","phone":"","telephone":"","ballot_box_with_check":"","shamrock":"","point_up":"","skull_and_crossbones":"","radioactive_sign":"","biohazard_sign":"","orthodox_cross":"","star_and_crescent":"","peace_symbol":"","yin_yang":"","wheel_of_dharma":"","white_frowning_face":"","relaxed":"","female_sign":"","male_sign":"","gemini":"","cancer":"","leo":"","virgo":"","libra":"","scorpius":"","chess_pawn":"","spades":"","clubs":"","hearts":"","diamonds":"","hotsprings":"","recycle":"","infinity":"","wheelchair":"","hammer_and_pick":"","crossed_swords":"","medical_symbol":"","staff_of_aesculapius":"","scales":"","alembic":"","gear":"","atom_symbol":"","fleur_de_lis":"","warning":"","zap":"","transgender_symbol":"","white_circle":"","black_circle":"","coffin":"","funeral_urn":"","soccer":"","baseball":"","snowman_without_snow":"","partly_sunny":"","thunder_cloud_and_rain":"","ophiuchus":"","pick":"","helmet_with_white_cross":"","chains":"","no_entry":"","shinto_shrine":"","church":"","mountain":"","umbrella_on_ground":"","fountain":"","golf":"","ferry":"","boat":"","sailboat":"","skier":"","ice_skate":"","woman-bouncing-ball":"","man-bouncing-ball":"","person_with_ball":"","tent":"","fuelpump":"","scissors":"","airplane":"","email":"","envelope":"","fist":"","hand":"","raised_hand":"","v":"","writing_hand":"","pencil2":"","black_nib":"","heavy_check_mark":"","heavy_multiplication_x":"","latin_cross":"","star_of_david":"","eight_spoked_asterisk":"","eight_pointed_black_star":"","snowflake":"","sparkle":"","x":"","negative_squared_cross_mark":"","heavy_heart_exclamation_mark_ornament":"","heart_on_fire":"","mending_heart":"","heart":"","arrow_right":"","curly_loop":"","loop":"","arrow_heading_up":"","arrow_heading_down":"","arrow_left":"","arrow_up":"","arrow_down":"","black_large_square":"","white_large_square":"","star":"","o":"","wavy_dash":"","part_alternation_mark":"","congratulations":"","secret":""}')},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RssHandler=t.DefaultHandler=t.DomUtils=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DomHandler=t.Parser=void 0;var c=r(508);Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return c.Parser}});var u=r(72);function l(e,t){var r=new u.DomHandler(void 0,t);return new c.Parser(r,t).end(e),r.root}Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return u.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return u.DomHandler}}),t.parseDocument=l,t.parseDOM=function(e,t){return l(e,t).children},t.createDomStream=function(e,t,r){var n=new u.DomHandler(e,t,r);return new c.Parser(n,t)};var d=r(509);Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return o(d).default}});var h=i(r(130));t.ElementType=h,s(r(513),t),t.DomUtils=i(r(514));var p=r(513);Object.defineProperty(t,"RssHandler",{enumerable:!0,get:function(){return p.FeedHandler}})},function(e){e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&a(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var o=s(r(130)),c=r(1193),u=r(1194),l=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function h(e,t){void 0===t&&(t={});for(var r=("length"in e?e:[e]),n="",a=0;a<r.length;a++)n+=p(r[a],t);return n}function p(e,t){switch(e.type){case o.Root:return h(e.children,t);case o.Directive:case o.Doctype:return"<"+e.data+">";case o.Comment:return function(e){return"\x3c!--"+e.data+"--\x3e"}(e);case o.CDATA:return function(e){return"<![CDATA["+e.children[0].data+"]]>"}(e);case o.Script:case o.Style:case o.Tag:return function(e,t){var r;"foreign"===t.xmlMode&&(e.name=null!==(r=u.elementNames.get(e.name))&&void 0!==r?r:e.name,e.parent&&f.has(e.parent.name)&&(t=n(n({},t),{xmlMode:!1})));!t.xmlMode&&m.has(e.name)&&(t=n(n({},t),{xmlMode:"foreign"}));var a="<"+e.name,i=function(e,t){if(e)return Object.keys(e).map((function(r){var n,a,i=null!==(n=e[r])&&void 0!==n?n:"";return"foreign"===t.xmlMode&&(r=null!==(a=u.attributeNames.get(r))&&void 0!==a?a:r),t.emptyAttrs||t.xmlMode||""!==i?r+'="'+(!1!==t.decodeEntities?c.encodeXML(i):i.replace(/"/g,"&quot;"))+'"':r})).join(" ")}(e.attribs,t);i&&(a+=" "+i);0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&d.has(e.name))?(t.xmlMode||(a+=" "),a+="/>"):(a+=">",e.children.length>0&&(a+=h(e.children,t)),!t.xmlMode&&d.has(e.name)||(a+="</"+e.name+">"));return a}(e,t);case o.Text:return function(e,t){var r=e.data||"";!1===t.decodeEntities||!t.xmlMode&&e.parent&&l.has(e.parent.name)||(r=c.encodeXML(r));return r}(e,t)}}t.default=h;var f=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),m=new Set(["svg","math"])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var n=r(516),a=r(517);t.decode=function(e,t){return(!t||t<=0?n.decodeXML:n.decodeHTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?n.decodeXML:n.decodeHTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?a.encodeXML:a.encodeHTML)(e)};var i=r(517);Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return i.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return i.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return i.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return i.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return i.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return i.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return i.encodeHTML}});var s=r(516);Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attributeNames=t.elementNames=void 0,t.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),t.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prevElementSibling=t.nextElementSibling=t.getName=t.hasAttrib=t.getAttributeValue=t.getSiblings=t.getParent=t.getChildren=void 0;var n=r(72),a=[];function i(e){var t;return null!==(t=e.children)&&void 0!==t?t:a}function s(e){return e.parent||null}t.getChildren=i,t.getParent=s,t.getSiblings=function(e){var t=s(e);if(null!=t)return i(t);for(var r=[e],n=e.prev,a=e.next;null!=n;)r.unshift(n),n=n.prev;for(;null!=a;)r.push(a),a=a.next;return r},t.getAttributeValue=function(e,t){var r;return null===(r=e.attribs)||void 0===r?void 0:r[t]},t.hasAttrib=function(e,t){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]},t.getName=function(e){return e.name},t.nextElementSibling=function(e){for(var t=e.next;null!==t&&!(0,n.isTag)(t);)t=t.next;return t},t.prevElementSibling=function(e){for(var t=e.prev;null!==t&&!(0,n.isTag)(t);)t=t.prev;return t}},function(e,t,r){"use strict";function n(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}}Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.prependChild=t.append=t.appendChild=t.replaceElement=t.removeElement=void 0,t.removeElement=n,t.replaceElement=function(e,t){var r=t.prev=e.prev;r&&(r.next=t);var n=t.next=e.next;n&&(n.prev=t);var a=t.parent=e.parent;if(a){var i=a.children;i[i.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(n(t),t.next=null,t.parent=e,e.children.push(t)>1){var r=e.children[e.children.length-2];r.next=t,t.prev=r}else t.prev=null},t.append=function(e,t){n(t);var r=e.parent,a=e.next;if(t.next=a,t.prev=e,e.next=t,t.parent=r,a){if(a.prev=t,r){var i=r.children;i.splice(i.lastIndexOf(a),0,t)}}else r&&r.children.push(t)},t.prependChild=function(e,t){if(n(t),t.parent=e,t.prev=null,1!==e.children.unshift(t)){var r=e.children[1];r.prev=t,t.next=r}else t.next=null},t.prepend=function(e,t){n(t);var r=e.parent;if(r){var a=r.children;a.splice(a.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,t.next=e,e.prev=t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueSort=t.compareDocumentPosition=t.removeSubsets=void 0;var n=r(72);function a(e,t){var r=[],a=[];if(e===t)return 0;for(var i=(0,n.hasChildren)(e)?e:e.parent;i;)r.unshift(i),i=i.parent;for(i=(0,n.hasChildren)(t)?t:t.parent;i;)a.unshift(i),i=i.parent;for(var s=Math.min(r.length,a.length),o=0;o<s&&r[o]===a[o];)o++;if(0===o)return 1;var c=r[o-1],u=c.children,l=r[o],d=a[o];return u.indexOf(l)>u.indexOf(d)?c===t?20:4:c===e?10:2}t.removeSubsets=function(e){for(var t=e.length;--t>=0;){var r=e[t];if(t>0&&e.lastIndexOf(r,t-1)>=0)e.splice(t,1);else for(var n=r.parent;n;n=n.parent)if(e.includes(n)){e.splice(t,1);break}}return e},t.compareDocumentPosition=a,t.uniqueSort=function(e){return(e=e.filter((function(e,t,r){return!r.includes(e,t+1)}))).sort((function(e,t){var r=a(e,t);return 2&r?-1:4&r?1:0})),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeed=void 0;var n=r(515),a=r(519);t.getFeed=function(e){var t=c(d,e);return t?"feed"===t.name?function(e){var t,r=e.children,n={type:"atom",items:(0,a.getElementsByTagName)("entry",r).map((function(e){var t,r=e.children,n={media:o(r)};l(n,"id","id",r),l(n,"title","title",r);var a=null===(t=c("link",r))||void 0===t?void 0:t.attribs.href;a&&(n.link=a);var i=u("summary",r)||u("content",r);i&&(n.description=i);var s=u("updated",r);return s&&(n.pubDate=new Date(s)),n}))};l(n,"id","id",r),l(n,"title","title",r);var i=null===(t=c("link",r))||void 0===t?void 0:t.attribs.href;i&&(n.link=i);l(n,"description","subtitle",r);var s=u("updated",r);s&&(n.updated=new Date(s));return l(n,"author","email",r,!0),n}(t):function(e){var t,r,n=null!==(r=null===(t=c("channel",e.children))||void 0===t?void 0:t.children)&&void 0!==r?r:[],i={type:e.name.substr(0,3),id:"",items:(0,a.getElementsByTagName)("item",e.children).map((function(e){var t=e.children,r={media:o(t)};l(r,"id","guid",t),l(r,"title","title",t),l(r,"link","link",t),l(r,"description","description",t);var n=u("pubDate",t);return n&&(r.pubDate=new Date(n)),r}))};l(i,"title","title",n),l(i,"link","link",n),l(i,"description","description",n);var s=u("lastBuildDate",n);s&&(i.updated=new Date(s));return l(i,"author","managingEditor",n,!0),i}(t):null};var i=["url","type","lang"],s=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function o(e){return(0,a.getElementsByTagName)("media:content",e).map((function(e){for(var t=e.attribs,r={medium:t.medium,isDefault:!!t.isDefault},n=0,a=i;n<a.length;n++){t[u=a[n]]&&(r[u]=t[u])}for(var o=0,c=s;o<c.length;o++){var u;t[u=c[o]]&&(r[u]=parseInt(t[u],10))}return t.expression&&(r.expression=t.expression),r}))}function c(e,t){return(0,a.getElementsByTagName)(e,t,!0,1)[0]}function u(e,t,r){return void 0===r&&(r=!1),(0,n.textContent)((0,a.getElementsByTagName)(e,t,r,1)).trim()}function l(e,t,r,n,a){void 0===a&&(a=!1);var i=u(r,n,a);i&&(e[t]=i)}function d(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}},function(e,t,r){"use strict";e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},function(e,t,r){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function n(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e){var t,r;return!1!==n(e)&&(void 0===(t=e.constructor)||!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}r.r(t),r.d(t,"isPlainObject",(function(){return a}))},function(e,t,r){"use strict";var n=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===a}(e)}(e)};var a="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function s(e,t,r){return e.concat(t).map((function(e){return i(e,r)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function c(e,t){try{return t in e}catch(e){return!1}}function u(e,t,r){var n={};return r.isMergeableObject(e)&&o(e).forEach((function(t){n[t]=i(e[t],r)})),o(t).forEach((function(a){(function(e,t){return c(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(c(e,a)&&r.isMergeableObject(t[a])?n[a]=function(e,t){if(!t.customMerge)return l;var r=t.customMerge(e);return"function"==typeof r?r:l}(a,r)(e[a],t[a],r):n[a]=i(t[a],r))})),n}function l(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||s,r.isMergeableObject=r.isMergeableObject||n,r.cloneUnlessOtherwiseSpecified=i;var a=Array.isArray(t);return a===Array.isArray(e)?a?r.arrayMerge(e,t,r):u(e,t,r):i(t,r)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return l(e,r,t)}),{})};var d=l;e.exports=d},function(e,t,r){var n,a,i;a=[],void 0===(i="function"==typeof(n=function(){return function(e){function t(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function r(t){var r,n=t.exec(e.substring(m));if(n)return r=n[0],m+=r.length,r}for(var n,a,i,s,o,c=e.length,u=/^[ \t\n\r\u000c]+/,l=/^[, \t\n\r\u000c]+/,d=/^[^ \t\n\r\u000c]+/,h=/[,]+$/,p=/^\d+$/,f=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,m=0,g=[];;){if(r(l),m>=c)return g;n=r(d),a=[],","===n.slice(-1)?(n=n.replace(h,""),b()):y()}function y(){for(r(u),i="",s="in descriptor";;){if(o=e.charAt(m),"in descriptor"===s)if(t(o))i&&(a.push(i),i="",s="after descriptor");else{if(","===o)return m+=1,i&&a.push(i),void b();if("("===o)i+=o,s="in parens";else{if(""===o)return i&&a.push(i),void b();i+=o}}else if("in parens"===s)if(")"===o)i+=o,s="in descriptor";else{if(""===o)return a.push(i),void b();i+=o}else if("after descriptor"===s)if(t(o));else{if(""===o)return void b();s="in descriptor",m-=1}m+=1}}function b(){var t,r,i,s,o,c,u,l,d,h=!1,m={};for(s=0;s<a.length;s++)c=(o=a[s])[o.length-1],u=o.substring(0,o.length-1),l=parseInt(u,10),d=parseFloat(u),p.test(u)&&"w"===c?((t||r)&&(h=!0),0===l?h=!0:t=l):f.test(u)&&"x"===c?((t||r||i)&&(h=!0),d<0?h=!0:r=d):p.test(u)&&"h"===c?((i||r)&&(h=!0),0===l?h=!0:i=l):h=!0;h?console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+o+"'."):(m.url=n,t&&(m.w=t),r&&(m.d=r),i&&(m.h=i),g.push(m))}}})?n.apply(t,a):n)||(e.exports=i)},function(e,t,r){"use strict";(function(t){let n=r(281),a=r(166),i=r(522),s=r(95),o=r(1211),c=r(283),u=r(1212),l=r(286),d=r(525),h=r(168),p=r(287),f=r(524),m=r(289),g=r(526),y=r(527),b=r(288),v=r(131),_=r(167);function w(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new o(e)}w.plugin=function(e,r){function n(...t){let n=r(...t);return n.postcssPlugin=e,n.postcssVersion=(new o).version,n}let a;return console&&console.warn&&(console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),t.env.LANG&&t.env.LANG.startsWith("cn")&&console.warn(e+":  postcss.plugin . :\nhttps://www.w3ctech.com/topic/2226")),Object.defineProperty(n,"postcss",{get:()=>(a||(a=n()),a)}),n.process=function(e,t,r){return w([n(r)]).process(e,t)},n},w.stringify=c,w.parse=g,w.fromJSON=u,w.list=y,w.comment=e=>new h(e),w.atRule=e=>new p(e),w.decl=e=>new a(e),w.rule=e=>new b(e),w.root=e=>new v(e),w.document=e=>new l(e),w.CssSyntaxError=n,w.Declaration=a,w.Container=s,w.Document=l,w.Comment=h,w.Warning=d,w.AtRule=p,w.Result=f,w.Input=m,w.Rule=b,w.Root=v,w.Node=_,i.registerPostcss(w),e.exports=w,w.default=w}).call(this,r(19))},function(e,t){var r=String,n=function(){return{isColorSupported:!1,reset:r,bold:r,dim:r,italic:r,underline:r,inverse:r,hidden:r,strikethrough:r,black:r,red:r,green:r,yellow:r,blue:r,magenta:r,cyan:r,white:r,gray:r,bgBlack:r,bgRed:r,bgGreen:r,bgYellow:r,bgBlue:r,bgMagenta:r,bgCyan:r,bgWhite:r}};e.exports=n(),e.exports.createColors=n},function(e,t,r){"use strict";(function(t){let{SourceMapConsumer:n,SourceMapGenerator:a}=r(284),{dirname:i,resolve:s,relative:o,sep:c}=r(285),{pathToFileURL:u}=r(523),l=Boolean(n&&a),d=Boolean(i&&s&&o&&c);e.exports=class{constructor(e,t,r){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r}isMap(){return void 0!==this.opts.map?!!this.opts.map:this.previous().length>0}previous(){return this.previousMaps||(this.previousMaps=[],this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}})),this.previousMaps}isInline(){if(void 0!==this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return(void 0===e||!0===e)&&(!this.previous().length||this.previous().some(e=>e.inline))}isSourcesContent(){return void 0!==this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some(e=>e.withContent())}clearAnnotation(){if(!1===this.mapOpts.annotation)return;let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}setSourcesContent(){let e={};this.root.walk(t=>{if(t.source){let r=t.source.input.from;r&&!e[r]&&(e[r]=!0,this.map.setSourceContent(this.toUrl(this.path(r)),t.source.input.css))}})}applyPrevMaps(){for(let e of this.previous()){let t,r=this.toUrl(this.path(e.file)),a=e.root||i(e.file);!1===this.mapOpts.sourcesContent?(t=new n(e.text),t.sourcesContent&&(t.sourcesContent=t.sourcesContent.map(()=>null))):t=e.consumer(),this.map.applySourceMap(t,r,this.toUrl(this.path(a)))}}isAnnotation(){return!!this.isInline()||(void 0!==this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some(e=>e.annotation))}toBase64(e){return t?t.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"==typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"==typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){return this.generateString(),this.isSourcesContent()&&this.setSourcesContent(),this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(e){if(0===e.indexOf("<"))return e;if(/^\w+:\/\//.test(e))return e;if(this.mapOpts.absolute)return e;let t=this.opts.to?i(this.opts.to):".";return"string"==typeof this.mapOpts.annotation&&(t=i(s(t,this.mapOpts.annotation))),e=o(t,e)}toUrl(e){return"\\"===c&&(e=e.replace(/\\/g,"/")),encodeURI(e).replace(/[#?]/g,encodeURIComponent)}sourcePath(e){if(this.mapOpts.from)return this.toUrl(this.mapOpts.from);if(this.mapOpts.absolute){if(u)return u(e.source.input.from).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}return this.toUrl(this.path(e.source.input.from))}generateString(){this.css="",this.map=new a({file:this.outputFile()});let e,t,r=1,n=1,i={source:"",generated:{line:0,column:0},original:{line:0,column:0}};this.stringify(this.root,(a,s,o)=>{if(this.css+=a,s&&"end"!==o&&(i.generated.line=r,i.generated.column=n-1,s.source&&s.source.start?(i.source=this.sourcePath(s),i.original.line=s.source.start.line,i.original.column=s.source.start.column-1,this.map.addMapping(i)):(i.source="<no source>",i.original.line=1,i.original.column=0,this.map.addMapping(i))),e=a.match(/\n/g),e?(r+=e.length,t=a.lastIndexOf("\n"),n=a.length-t):n+=a.length,s&&"start"!==o){let e=s.parent||{raws:{}};("decl"!==s.type||s!==e.last||e.raws.semicolon)&&(s.source&&s.source.end?(i.source=this.sourcePath(s),i.original.line=s.source.end.line,i.original.column=s.source.end.column-1,i.generated.line=r,i.generated.column=n-2,this.map.addMapping(i)):(i.source="<no source>",i.original.line=1,i.original.column=0,i.generated.line=r,i.generated.column=n-1,this.map.addMapping(i)))}})}generate(){if(this.clearAnnotation(),d&&l&&this.isMap())return this.generateMap();let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}}).call(this,r(11).Buffer)},function(e,t,r){"use strict";let n={};e.exports=function(e){n[e]||(n[e]=!0,"undefined"!=typeof console&&console.warn&&console.warn(e))}},function(e,t,r){"use strict";let n=r(166),a=r(1208),i=r(168),s=r(287),o=r(131),c=r(288);e.exports=class{constructor(e){this.input=e,this.root=new o,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:e,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=a(this.input)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}comment(e){let t=new i;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]);let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let e=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}emptyRule(e){let t=new c;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}other(e){let t=!1,r=null,n=!1,a=null,i=[],s=e[1].startsWith("--"),o=[],c=e;for(;c;){if(r=c[0],o.push(c),"("===r||"["===r)a||(a=c),i.push("("===r?")":"]");else if(s&&n&&"{"===r)a||(a=c),i.push("}");else if(0===i.length){if(";"===r){if(n)return void this.decl(o,s);break}if("{"===r)return void this.rule(o);if("}"===r){this.tokenizer.back(o.pop()),t=!0;break}":"===r&&(n=!0)}else r===i[i.length-1]&&(i.pop(),0===i.length&&(a=null));c=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),i.length>0&&this.unclosedBracket(a),t&&n){for(;o.length&&(c=o[o.length-1][0],"space"===c||"comment"===c);)this.tokenizer.back(o.pop());this.decl(o,s)}else this.unknownWord(o)}rule(e){e.pop();let t=new c;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}decl(e,t){let r=new n;this.init(r,e[0][2]);let a,i=e[e.length-1];for(";"===i[0]&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]);"word"!==e[0][0];)1===e.length&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;r.prop+=e.shift()[1]}for(r.raws.between="";e.length;){if(a=e.shift(),":"===a[0]){r.raws.between+=a[1];break}"word"===a[0]&&/\w/.test(a[1])&&this.unknownWord([a]),r.raws.between+=a[1]}"_"!==r.prop[0]&&"*"!==r.prop[0]||(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let s=this.spacesAndCommentsFromStart(e);this.precheckMissedSemicolon(e);for(let t=e.length-1;t>=0;t--){if(a=e[t],"!important"===a[1].toLowerCase()){r.important=!0;let n=this.stringFrom(e,t);n=this.spacesFromEnd(e)+n," !important"!==n&&(r.raws.important=n);break}if("important"===a[1].toLowerCase()){let n=e.slice(0),a="";for(let e=t;e>0;e--){let t=n[e][0];if(0===a.trim().indexOf("!")&&"space"!==t)break;a=n.pop()[1]+a}0===a.trim().indexOf("!")&&(r.important=!0,r.raws.important=a,e=n)}if("space"!==a[0]&&"comment"!==a[0])break}let o=e.some(e=>"space"!==e[0]&&"comment"!==e[0]);this.raw(r,"value",e),o?r.raws.between+=s:r.value=s+r.value,r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}atrule(e){let t,r,n,a=new s;a.name=e[1].slice(1),""===a.name&&this.unnamedAtrule(a,e),this.init(a,e[2]);let i=!1,o=!1,c=[],u=[];for(;!this.tokenizer.endOfFile();){if(t=(e=this.tokenizer.nextToken())[0],"("===t||"["===t?u.push("("===t?")":"]"):"{"===t&&u.length>0?u.push("}"):t===u[u.length-1]&&u.pop(),0===u.length){if(";"===t){a.source.end=this.getPosition(e[2]),this.semicolon=!0;break}if("{"===t){o=!0;break}if("}"===t){if(c.length>0){for(n=c.length-1,r=c[n];r&&"space"===r[0];)r=c[--n];r&&(a.source.end=this.getPosition(r[3]||r[2]))}this.end(e);break}c.push(e)}else c.push(e);if(this.tokenizer.endOfFile()){i=!0;break}}a.raws.between=this.spacesAndCommentsFromEnd(c),c.length?(a.raws.afterName=this.spacesAndCommentsFromStart(c),this.raw(a,"params",c),i&&(e=c[c.length-1],a.source.end=this.getPosition(e[3]||e[2]),this.spaces=a.raws.between,a.raws.between="")):(a.raws.afterName="",a.params=""),o&&(a.nodes=[],this.current=a)}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{offset:e,line:t.line,column:t.col}}init(e,t){this.current.push(e),e.source={start:this.getPosition(t),input:this.input},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}raw(e,t,r){let n,a,i,s,o=r.length,c="",u=!0,l=/^([#.|])?(\w)+/i;for(let t=0;t<o;t+=1)n=r[t],a=n[0],"comment"!==a||"rule"!==e.type?"comment"===a||"space"===a&&t===o-1?u=!1:c+=n[1]:(s=r[t-1],i=r[t+1],"space"!==s[0]&&"space"!==i[0]&&l.test(s[1])&&l.test(i[1])?c+=n[1]:u=!1);if(!u){let n=r.reduce((e,t)=>e+t[1],"");e.raws[t]={value:c,raw:n}}e[t]=c}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let n=t;n<e.length;n++)r+=e[n][1];return e.splice(t,e.length-t),r}colon(e){let t,r,n,a=0;for(let[i,s]of e.entries()){if(t=s,r=t[0],"("===r&&(a+=1),")"===r&&(a-=1),0===a&&":"===r){if(n){if("word"===n[0]&&"progid"===n[1])continue;return i}this.doubleColon(t)}n=t}return!1}unclosedBracket(e){throw this.input.error("Unclosed bracket",e[2])}unknownWord(e){throw this.input.error("Unknown word",e[0][2])}unexpectedClose(e){throw this.input.error("Unexpected }",e[2])}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}doubleColon(e){throw this.input.error("Double colon",e[2])}unnamedAtrule(e,t){throw this.input.error("At-rule without name",t[2])}precheckMissedSemicolon(){}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let r,n=0;for(let a=t-1;a>=0&&(r=e[a],"space"===r[0]||(n+=1,2!==n));a--);throw this.input.error("Missed semicolon","word"===r[0]?r[3]+1:r[2])}}},function(e,t,r){"use strict";const n="'".charCodeAt(0),a='"'.charCodeAt(0),i="\\".charCodeAt(0),s="/".charCodeAt(0),o="\n".charCodeAt(0),c=" ".charCodeAt(0),u="\f".charCodeAt(0),l="\t".charCodeAt(0),d="\r".charCodeAt(0),h="[".charCodeAt(0),p="]".charCodeAt(0),f="(".charCodeAt(0),m=")".charCodeAt(0),g="{".charCodeAt(0),y="}".charCodeAt(0),b=";".charCodeAt(0),v="*".charCodeAt(0),_=":".charCodeAt(0),w="@".charCodeAt(0),x=/[\t\n\f\r "#'()/;[\\\]{}]/g,k=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,S=/.[\n"'(/\\]/,O=/[\da-f]/i;e.exports=function(e,t={}){let r,P,E,A,C,T,D,j,M,I,R=e.css.valueOf(),B=t.ignoreErrors,N=R.length,F=0,q=[],L=[];function H(t){throw e.error("Unclosed "+t,F)}return{back:function(e){L.push(e)},nextToken:function(e){if(L.length)return L.pop();if(F>=N)return;let t=!!e&&e.ignoreUnclosed;switch(r=R.charCodeAt(F),r){case o:case c:case l:case d:case u:P=F;do{P+=1,r=R.charCodeAt(P)}while(r===c||r===o||r===l||r===d||r===u);I=["space",R.slice(F,P)],F=P-1;break;case h:case p:case g:case y:case _:case b:case m:{let e=String.fromCharCode(r);I=[e,e,F];break}case f:if(j=q.length?q.pop()[1]:"",M=R.charCodeAt(F+1),"url"===j&&M!==n&&M!==a&&M!==c&&M!==o&&M!==l&&M!==u&&M!==d){P=F;do{if(T=!1,P=R.indexOf(")",P+1),-1===P){if(B||t){P=F;break}H("bracket")}for(D=P;R.charCodeAt(D-1)===i;)D-=1,T=!T}while(T);I=["brackets",R.slice(F,P+1),F,P],F=P}else P=R.indexOf(")",F+1),A=R.slice(F,P+1),-1===P||S.test(A)?I=["(","(",F]:(I=["brackets",A,F,P],F=P);break;case n:case a:E=r===n?"'":'"',P=F;do{if(T=!1,P=R.indexOf(E,P+1),-1===P){if(B||t){P=F+1;break}H("string")}for(D=P;R.charCodeAt(D-1)===i;)D-=1,T=!T}while(T);I=["string",R.slice(F,P+1),F,P],F=P;break;case w:x.lastIndex=F+1,x.test(R),P=0===x.lastIndex?R.length-1:x.lastIndex-2,I=["at-word",R.slice(F,P+1),F,P],F=P;break;case i:for(P=F,C=!0;R.charCodeAt(P+1)===i;)P+=1,C=!C;if(r=R.charCodeAt(P+1),C&&r!==s&&r!==c&&r!==o&&r!==l&&r!==d&&r!==u&&(P+=1,O.test(R.charAt(P)))){for(;O.test(R.charAt(P+1));)P+=1;R.charCodeAt(P+1)===c&&(P+=1)}I=["word",R.slice(F,P+1),F,P],F=P;break;default:r===s&&R.charCodeAt(F+1)===v?(P=R.indexOf("*/",F+2)+1,0===P&&(B||t?P=R.length:H("comment")),I=["comment",R.slice(F,P+1),F,P],F=P):(k.lastIndex=F+1,k.test(R),P=0===k.lastIndex?R.length-1:k.lastIndex-2,I=["word",R.slice(F,P+1),F,P],q.push(I),F=P)}return F++,I},endOfFile:function(){return 0===L.length&&F>=N},position:function(){return F}}}},function(e,t,r){"use strict";r.r(t),r.d(t,"nanoid",(function(){return a})),r.d(t,"customAlphabet",(function(){return n}));let n=(e,t)=>()=>{let r="",n=t;for(;n--;)r+=e[Math.random()*e.length|0];return r},a=(e=21)=>{let t="",r=e;for(;r--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t}},function(e,t){},function(e,t,r){"use strict";let n=r(522),a=r(286),i=r(131);class s{constructor(e=[]){this.version="8.3.11",this.plugins=this.normalize(e)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}process(e,t={}){return 0!==this.plugins.length||void 0!==t.parser||void 0!==t.stringifier||void 0!==t.syntax||t.hideNothingWarning,new n(this,e,t)}normalize(e){let t=[];for(let r of e)if(!0===r.postcss?r=r():r.postcss&&(r=r.postcss),"object"==typeof r&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if("object"==typeof r&&r.postcssPlugin)t.push(r);else if("function"==typeof r)t.push(r);else{if("object"!=typeof r||!r.parse&&!r.stringify)throw new Error(r+" is not a PostCSS plugin")}return t}}e.exports=s,s.default=s,i.registerProcessor(s),a.registerProcessor(s)},function(e,t,r){"use strict";let n=r(166),a=r(528),i=r(168),s=r(287),o=r(289),c=r(131),u=r(288);function l(e,t){if(Array.isArray(e))return e.map(e=>l(e));let{inputs:r,...d}=e;if(r){t=[];for(let e of r){let r={...e,__proto__:o.prototype};r.map&&(r.map={...r.map,__proto__:a.prototype}),t.push(r)}}if(d.nodes&&(d.nodes=e.nodes.map(e=>l(e,t))),d.source){let{inputId:e,...r}=d.source;d.source=r,null!=e&&(d.source.input=t[e])}if("root"===d.type)return new c(d);if("decl"===d.type)return new n(d);if("rule"===d.type)return new u(d);if("comment"===d.type)return new i(d);if("atrule"===d.type)return new s(d);throw new Error("Unknown node type: "+e.type)}e.exports=l,l.default=l},function(e,t,r){"use strict";function n(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(r){e[r]=t[r]}))})),e}function a(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===a(e)}function s(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var o={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var c={"http:":{validate:function(e,t,r){var n=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){var n=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){var n=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function l(e){var t=e.re=r(1214)(e.__opts__),n=e.__tlds__.slice();function o(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(o(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(o(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(o(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(o(t.tpl_host_fuzzy_test),"i");var c=[];function u(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var r=e.__schemas__[t];if(null!==r){var n={validate:null,link:null};if(e.__compiled__[t]=n,"[object Object]"===a(r))return!function(e){return"[object RegExp]"===a(e)}(r.validate)?i(r.validate)?n.validate=r.validate:u(t,r):n.validate=function(e){return function(t,r){var n=t.slice(r);return e.test(n)?n.match(e)[0].length:0}}(r.validate),void(i(r.normalize)?n.normalize=r.normalize:r.normalize?u(t,r):n.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===a(e)}(r)?u(t,r):c.push(t)}})),c.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var l=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(s).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+l+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+l+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var r=e.__index__,n=e.__last_index__,a=e.__text_cache__.slice(r,n);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=n+t,this.raw=a,this.text=a,this.url=a}function h(e,t){var r=new d(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function p(e,t){if(!(this instanceof p))return new p(e,t);var r;t||(r=e,Object.keys(r||{}).reduce((function(e,t){return e||o.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=n({},o,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},c,e),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},l(this)}p.prototype.add=function(e,t){return this.__schemas__[e]=t,l(this),this},p.prototype.set=function(e){return this.__opts__=n(this.__opts__,e),this},p.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,r,n,a,i,s,o,c;if(this.re.schema_test.test(e))for((o=this.re.schema_search).lastIndex=0;null!==(t=o.exec(e));)if(a=this.testSchemaAt(e,t[2],o.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+a;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||c<this.__index__)&&null!==(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=r.index+r[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=r.index+r[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(n=e.match(this.re.email_fuzzy))&&(i=n.index+n[1].length,s=n.index+n[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=s)),this.__index__>=0},p.prototype.pretest=function(e){return this.re.pretest.test(e)},p.prototype.testSchemaAt=function(e,t,r){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,r,this):0},p.prototype.match=function(e){var t=0,r=[];this.__index__>=0&&this.__text_cache__===e&&(r.push(h(this,t)),t=this.__last_index__);for(var n=t?e.slice(t):e;this.test(n);)r.push(h(this,t)),n=n.slice(this.__last_index__),t+=this.__last_index__;return r.length?r:null},p.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,r){return e!==r[t-1]})).reverse(),l(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,l(this),this)},p.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},p.prototype.onCompile=function(){},e.exports=p},function(e,t,r){"use strict";e.exports=function(e){var t={};t.src_Any=r(1215).source,t.src_Cc=r(1216).source,t.src_Z=r(1217).source,t.src_P=r(1218).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t){var r=function(){var e,t={getClass:function(e){return Object.prototype.toString.call(e)},getType:function(e){if(null===e)return"null";switch(typeof e){case"number":return"number";case"string":return"string";case"boolean":return"boolean"}switch(t.getClass(e)){case"[object Array]":return"array";case"[object Object]":return"object"}throw new Error("Bad type: "+t.getClass(e))},forEachNode:function(e,r){var n;switch(t.getType(e)){case"array":n=e.length-1,e.forEach((function(e,t){r(t,e,t===n)}));break;case"object":var a=Object.keys(e).sort();n=a.length-1,a.forEach((function(t,a){r(t,e[t],a===n)}))}},inherits:(e=function(){},function(t,r){e.prototype=r.prototype,t.prototype=new e,t.prototype.constructor=t}),isValidRoot:function(e){switch(t.getType(e)){case"object":case"array":return!0;default:return!1}},extend:function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}};function r(e,n,a){var i=t.getType(n);if(i in r.CONSTRUCTORS)return new r.CONSTRUCTORS[i](e,n,a);throw new Error("Bad type: "+t.getClass(n))}function n(e,t,r){if(this.constructor===n)throw new Error("This is abstract class");var a=this,i=document.createElement("li");a.label=e,a.isComplex=!1,i.classList.add("jsontree_node"),i.innerHTML=function(e,t){return'                    <span class="jsontree_label-wrapper">                        <span class="jsontree_label">"'+e+'"</span> :                     </span>                    <span class="jsontree_value-wrapper">                        <span class="jsontree_value jsontree_value_'+a.type+'">'+t+"</span>"+(r?"":",")+"</span>"}(e,t),a.el=i,i.querySelector(".jsontree_label").addEventListener("click",(function(e){if(!e.altKey)return e.shiftKey?(document.getSelection().removeAllRanges(),void alert(a.getJSONPath())):void 0;a.toggleMarked()}),!1)}function a(e,t,r){this.type="boolean",n.call(this,e,t,r)}function i(e,t,r){this.type="number",n.call(this,e,t,r)}function s(e,t,r){this.type="string",n.call(this,e,'"'+t+'"',r)}function o(e,t,r){this.type="null",n.call(this,e,t,r)}function c(e,n,a){if(this.constructor===c)throw new Error("This is abstract class");var i,s,o,u=this,l=document.createElement("li"),d=[];u.label=e,u.isComplex=!0,l.classList.add("jsontree_node"),l.classList.add("jsontree_node_complex"),l.innerHTML=function(e,t){var r=a?"":",",n='                        <div class="jsontree_value-wrapper">                            <div class="jsontree_value jsontree_value_'+u.type+'">                                <b>'+t[0]+'</b>                                <span class="jsontree_show-more">&hellip;</span>                                <ul class="jsontree_child-nodes"></ul>                                <b>'+t[1]+"</b></div>"+r+"</div>";return null!==e&&(n='                        <span class="jsontree_label-wrapper">                            <span class="jsontree_label"><span class="jsontree_expand-button"></span>"'+e+'"</span> :                         </span>'+n),n}(e,u.sym),i=l.querySelector(".jsontree_child-nodes"),null!==e?(s=l.querySelector(".jsontree_label"),o=l.querySelector(".jsontree_show-more"),s.addEventListener("click",(function(e){if(!e.altKey)return e.shiftKey?(document.getSelection().removeAllRanges(),void alert(u.getJSONPath())):void u.toggle(e.ctrlKey||e.metaKey);u.toggleMarked()}),!1),o.addEventListener("click",(function(e){u.toggle(e.ctrlKey||e.metaKey)}),!1),u.isRoot=!1):(u.isRoot=!0,u.parent=null,l.classList.add("jsontree_node_expanded")),u.el=l,u.childNodes=d,u.childNodesUl=i,t.forEachNode(n,(function(e,t,n){u.addChild(new r(e,t,n))})),u.isEmpty=!Boolean(d.length),u.isEmpty&&l.classList.add("jsontree_node_empty")}function u(e,t,r){this.sym=["{","}"],this.type="object",c.call(this,e,t,r)}function l(e,t,r){this.sym=["[","]"],this.type="array",c.call(this,e,t,r)}function d(e,t){this.wrapper=document.createElement("ul"),this.wrapper.className="jsontree_tree clearfix",this.rootNode=null,this.sourceJSONObj=e,this.loadData(e),this.appendTo(t)}return r.CONSTRUCTORS={boolean:a,number:i,string:s,null:o,object:u,array:l},n.prototype={constructor:n,mark:function(){this.el.classList.add("jsontree_node_marked")},unmark:function(){this.el.classList.remove("jsontree_node_marked")},toggleMarked:function(){this.el.classList.toggle("jsontree_node_marked")},expandParent:function(e){this.parent&&(this.parent.expand(),this.parent.expandParent(e))},getJSONPath:function(e){return this.isRoot?"$":(t="array"===this.parent.type?"["+this.label+"]":e?"."+this.label:"['"+this.label+"']",this.parent.getJSONPath(e)+t);var t}},t.inherits(a,n),t.inherits(i,n),t.inherits(s,n),t.inherits(o,n),t.inherits(c,n),t.extend(c.prototype,{constructor:c,addChild:function(e){this.childNodes.push(e),this.childNodesUl.appendChild(e.el),e.parent=this},expand:function(e){this.isEmpty||(this.isRoot||this.el.classList.add("jsontree_node_expanded"),e&&this.childNodes.forEach((function(t,r){t.isComplex&&t.expand(e)})))},collapse:function(e){this.isEmpty||(this.isRoot||this.el.classList.remove("jsontree_node_expanded"),e&&this.childNodes.forEach((function(t,r){t.isComplex&&t.collapse(e)})))},toggle:function(e){if(!this.isEmpty&&(this.el.classList.toggle("jsontree_node_expanded"),e)){var t=this.el.classList.contains("jsontree_node_expanded");this.childNodes.forEach((function(r,n){r.isComplex&&r[t?"expand":"collapse"](e)}))}},findChildren:function(e,t,r){this.isEmpty||this.childNodes.forEach((function(n,a){e(n)&&t(n),n.isComplex&&r&&n.findChildren(e,t,r)}))}}),t.inherits(u,c),t.inherits(l,c),d.prototype={constructor:d,loadData:function(e){t.isValidRoot(e)?(this.sourceJSONObj=e,this.rootNode=new r(null,e,"last"),this.wrapper.innerHTML="",this.wrapper.appendChild(this.rootNode.el)):alert("The root should be an object or an array")},appendTo:function(e){e.appendChild(this.wrapper)},expand:function(e){this.rootNode.isComplex&&("function"==typeof e?this.rootNode.childNodes.forEach((function(t,r){t.isComplex&&e(t)&&t.expand()})):this.rootNode.expand("recursive"))},collapse:function(){"function"==typeof this.rootNode.collapse&&this.rootNode.collapse("recursive")},toSourceJSON:function(e){if(!e)return JSON.stringify(this.sourceJSONObj);var t=JSON.stringify(this.sourceJSONObj,null,"[%^$#$%^%]");return t=(t=t.split("\n").join("<br />")).split("[%^$#$%^%]").join("&nbsp;&nbsp;&nbsp;&nbsp;")},findAndHandle:function(e,t){this.rootNode.findChildren(e,t,"isRecursive")},unmarkAll:function(){this.rootNode.findChildren((function(e){return!0}),(function(e){e.unmark()}),"isRecursive")}},{create:function(e,t){return new d(e,t)}}}();e.exports=r},function(e,t){e.exports=datetimeFormatter=function(e){var t=new Date(e),r=t.getFullYear(),n=t.getMonth();n++;var a=t.getDate(),i=t.getHours(),s=t.getMinutes();return{years:r,months:n,days:a,hours:i,minutes:s=1==s.toString().length?"0".concat(s):"".concat(s)}},e.exports=datetimeRelative=function(e){var t=new Date,r=(t.getTime()-e)/1e3;return r<60?"".concat(parseInt(r),"s ago"):r<3600?"".concat(parseInt(r/60),"m ago"):r<=86400?"".concat(parseInt(r/3600),"h ago"):r>86400?(mydate=new Date(e),day=mydate.getDate(),month=mydate.toDateString().match(/ [a-zA-Z]*/)[0].replace(" ",""),year=mydate.getFullYear()==t.getFullYear()?"":" "+mydate.getFullYear(),day+" "+month+year):void 0}},function(e,t){throw new Error("Module parse failed: Unexpected token (2:4)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\n| \n> rm ../../web/saito/saito.js\n| \n| ")},function(e,t){var r;!function(){function e(e){this.mode=n.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var a=[],i=this.data.charCodeAt(t);i>65536?(a[0]=240|(1835008&i)>>>18,a[1]=128|(258048&i)>>>12,a[2]=128|(4032&i)>>>6,a[3]=128|63&i):i>2048?(a[0]=224|(61440&i)>>>12,a[1]=128|(4032&i)>>>6,a[2]=128|63&i):i>128?(a[0]=192|(1984&i)>>>6,a[1]=128|63&i):a[0]=i,this.parsedData.push(a)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var r=new e(t);this.dataList.push(r),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,r){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[n][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,r),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+r][t+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=p.getLostPoint(this);(0==r||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r);this.make();for(var a=0;a<this.modules.length;a++)for(var i=1*a,s=0;s<this.modules[a].length;s++){var o=1*s;this.modules[a][s]&&(n.beginFill(0,100),n.moveTo(o,i),n.lineTo(o+1,i),n.lineTo(o+1,i+1),n.lineTo(o,i+1),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=p.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],a=e[r];if(null==this.modules[n][a])for(var i=-2;i<=2;i++)for(var s=-2;s<=2;s++)this.modules[n+i][a+s]=-2==i||2==i||-2==s||2==s||0==i&&0==s}},setupTypeNumber:function(e){for(var t=p.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&1==(t>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++){n=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=p.getBCHTypeInfo(r),a=0;a<15;a++){var i=!e&&1==(n>>a&1);a<6?this.modules[a][8]=i:a<8?this.modules[a+1][8]=i:this.modules[this.moduleCount-15+a][8]=i}for(a=0;a<15;a++){i=!e&&1==(n>>a&1);a<8?this.modules[8][this.moduleCount-a-1]=i:a<9?this.modules[8][15-a-1+1]=i:this.modules[8][15-a-1]=i}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,a=7,i=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var o=0;o<2;o++)if(null==this.modules[n][s-o]){var c=!1;i<e.length&&(c=1==(e[i]>>>a&1)),p.getMask(t,n,s-o)&&(c=!c),this.modules[n][s-o]=c,-1==--a&&(i++,a=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,r,n){for(var a=y.getRSBlocks(e,r),i=new b,s=0;s<n.length;s++){var o=n[s];i.put(o.mode,4),i.put(o.getLength(),p.getLengthInBits(o.mode,e)),o.write(i)}var c=0;for(s=0;s<a.length;s++)c+=a[s].dataCount;if(i.getLengthInBits()>8*c)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*c+")");for(i.getLengthInBits()+4<=8*c&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*c||(i.put(t.PAD0,8),i.getLengthInBits()>=8*c));)i.put(t.PAD1,8);return t.createBytes(i,a)},t.createBytes=function(e,t){for(var r=0,n=0,a=0,i=new Array(t.length),s=new Array(t.length),o=0;o<t.length;o++){var c=t[o].dataCount,u=t[o].totalCount-c;n=Math.max(n,c),a=Math.max(a,u),i[o]=new Array(c);for(var l=0;l<i[o].length;l++)i[o][l]=255&e.buffer[l+r];r+=c;var d=p.getErrorCorrectPolynomial(u),h=new g(i[o],d.getLength()-1).mod(d);s[o]=new Array(d.getLength()-1);for(l=0;l<s[o].length;l++){var f=l+h.getLength()-s[o].length;s[o][l]=f>=0?h.get(f):0}}var m=0;for(l=0;l<t.length;l++)m+=t[l].totalCount;var y=new Array(m),b=0;for(l=0;l<n;l++)for(o=0;o<t.length;o++)l<i[o].length&&(y[b++]=i[o][l]);for(l=0;l<a;l++)for(o=0;o<t.length;o++)l<s[o].length&&(y[b++]=s[o][l]);return y};for(var n={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},a={L:1,M:0,Q:3,H:2},i=0,s=1,o=2,c=3,u=4,l=5,d=6,h=7,p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;p.getBCHDigit(t)-p.getBCHDigit(p.G15)>=0;)t^=p.G15<<p.getBCHDigit(t)-p.getBCHDigit(p.G15);return(e<<10|t)^p.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;p.getBCHDigit(t)-p.getBCHDigit(p.G18)>=0;)t^=p.G18<<p.getBCHDigit(t)-p.getBCHDigit(p.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return p.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case i:return(t+r)%2==0;case s:return t%2==0;case o:return r%3==0;case c:return(t+r)%3==0;case u:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case l:return t*r%2+t*r%3==0;case d:return(t*r%2+t*r%3)%2==0;case h:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new g([1],0),r=0;r<e;r++)t=t.multiply(new g([1,f.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:case n.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var a=0;a<t;a++){for(var i=0,s=e.isDark(n,a),o=-1;o<=1;o++)if(!(n+o<0||t<=n+o))for(var c=-1;c<=1;c++)a+c<0||t<=a+c||0==o&&0==c||s==e.isDark(n+o,a+c)&&i++;i>5&&(r+=3+i-5)}for(n=0;n<t-1;n++)for(a=0;a<t-1;a++){var u=0;e.isDark(n,a)&&u++,e.isDark(n+1,a)&&u++,e.isDark(n,a+1)&&u++,e.isDark(n+1,a+1)&&u++,0!=u&&4!=u||(r+=3)}for(n=0;n<t;n++)for(a=0;a<t-6;a++)e.isDark(n,a)&&!e.isDark(n,a+1)&&e.isDark(n,a+2)&&e.isDark(n,a+3)&&e.isDark(n,a+4)&&!e.isDark(n,a+5)&&e.isDark(n,a+6)&&(r+=40);for(a=0;a<t;a++)for(n=0;n<t-6;n++)e.isDark(n,a)&&!e.isDark(n+1,a)&&e.isDark(n+2,a)&&e.isDark(n+3,a)&&e.isDark(n+4,a)&&!e.isDark(n+5,a)&&e.isDark(n+6,a)&&(r+=40);var l=0;for(a=0;a<t;a++)for(n=0;n<t;n++)e.isDark(n,a)&&l++;return r+=10*(Math.abs(100*l/t/t-50)/5)}},f={glog:function(e){if(e<1)throw new Error("glog("+e+")");return f.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return f.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},m=0;m<8;m++)f.EXP_TABLE[m]=1<<m;for(m=8;m<256;m++)f.EXP_TABLE[m]=f.EXP_TABLE[m-4]^f.EXP_TABLE[m-5]^f.EXP_TABLE[m-6]^f.EXP_TABLE[m-8];for(m=0;m<255;m++)f.LOG_TABLE[f.EXP_TABLE[m]]=m;function g(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}function y(e,t){this.totalCount=e,this.dataCount=t}function b(){this.buffer=[],this.length=0}g.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=f.gexp(f.glog(this.get(r))+f.glog(e.get(n)));return new g(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=f.glog(this.get(0))-f.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(n=0;n<e.getLength();n++)r[n]^=f.gexp(f.glog(e.get(n))+t);return new g(r,0).mod(e)}},y.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],y.getRSBlocks=function(e,t){var r=y.getRsBlockTable(e,t);if(null==r)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,a=[],i=0;i<n;i++)for(var s=r[3*i+0],o=r[3*i+1],c=r[3*i+2],u=0;u<s;u++)a.push(new y(o,c));return a},y.getRsBlockTable=function(e,t){switch(t){case a.L:return y.RS_BLOCK_TABLE[4*(e-1)+0];case a.M:return y.RS_BLOCK_TABLE[4*(e-1)+1];case a.Q:return y.RS_BLOCK_TABLE[4*(e-1)+2];case a.H:return y.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},b.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var v=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function _(){var e=!1,t=navigator.userAgent;if(/android/i.test(t)){e=!0;var r=t.toString().match(/android ([0-9]\.[0-9])/i);r&&r[1]&&(e=parseFloat(r[1]))}return e}var w=function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){var t=this._htOption,r=this._el,n=e.getModuleCount();Math.floor(t.width/n),Math.floor(t.height/n);function a(e,t){var r=document.createElementNS("http://www.w3.org/2000/svg",e);for(var n in t)t.hasOwnProperty(n)&&r.setAttribute(n,t[n]);return r}this.clear();var i=a("svg",{viewBox:"0 0 "+String(n)+" "+String(n),width:"100%",height:"100%",fill:t.colorLight});i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),r.appendChild(i),i.appendChild(a("rect",{fill:t.colorLight,width:"100%",height:"100%"})),i.appendChild(a("rect",{fill:t.colorDark,width:"1",height:"1",id:"template"}));for(var s=0;s<n;s++)for(var o=0;o<n;o++)if(e.isDark(s,o)){var c=a("use",{x:String(o),y:String(s)});c.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),i.appendChild(c)}},e.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},e}(),x="svg"===document.documentElement.tagName.toLowerCase()?w:"undefined"==typeof CanvasRenderingContext2D?function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){for(var t=this._htOption,r=this._el,n=e.getModuleCount(),a=Math.floor(t.width/n),i=Math.floor(t.height/n),s=['<table style="border:0;border-collapse:collapse;">'],o=0;o<n;o++){s.push("<tr>");for(var c=0;c<n;c++)s.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+a+"px;height:"+i+"px;background-color:"+(e.isDark(o,c)?t.colorDark:t.colorLight)+';"></td>');s.push("</tr>")}s.push("</table>"),r.innerHTML=s.join("");var u=r.childNodes[0],l=(t.width-u.offsetWidth)/2,d=(t.height-u.offsetHeight)/2;l>0&&d>0&&(u.style.margin=d+"px "+l+"px")},e.prototype.clear=function(){this._el.innerHTML=""},e}():function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this&&this._android<=2.1){var t=1/window.devicePixelRatio,r=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(e,n,a,i,s,o,c,u,l){if("nodeName"in e&&/img/i.test(e.nodeName))for(var d=arguments.length-1;d>=1;d--)arguments[d]=arguments[d]*t;else void 0===u&&(arguments[1]*=t,arguments[2]*=t,arguments[3]*=t,arguments[4]*=t);r.apply(this,arguments)}}function n(e,t){var r=this;if(r._fFail=t,r._fSuccess=e,null===r._bSupportDataURI){var n=document.createElement("img"),a=function(){r._bSupportDataURI=!1,r._fFail&&r._fFail.call(r)};return n.onabort=a,n.onerror=a,n.onload=function(){r._bSupportDataURI=!0,r._fSuccess&&r._fSuccess.call(r)},void(n.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===r._bSupportDataURI&&r._fSuccess?r._fSuccess.call(r):!1===r._bSupportDataURI&&r._fFail&&r._fFail.call(r)}var a=function(e,t){this._bIsPainted=!1,this._android=_(),this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return a.prototype.draw=function(e){var t=this._elImage,r=this._oContext,n=this._htOption,a=e.getModuleCount(),i=n.width/a,s=n.height/a,o=Math.round(i),c=Math.round(s);t.style.display="none",this.clear();for(var u=0;u<a;u++)for(var l=0;l<a;l++){var d=e.isDark(u,l),h=l*i,p=u*s;r.strokeStyle=d?n.colorDark:n.colorLight,r.lineWidth=1,r.fillStyle=d?n.colorDark:n.colorLight,r.fillRect(h,p,i,s),r.strokeRect(Math.floor(h)+.5,Math.floor(p)+.5,o,c),r.strokeRect(Math.ceil(h)-.5,Math.ceil(p)-.5,o,c)}this._bIsPainted=!0},a.prototype.makeImage=function(){this._bIsPainted&&n.call(this,e)},a.prototype.isPainted=function(){return this._bIsPainted},a.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},a.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},a}();function k(e,t){for(var r=1,n=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),i=0,s=v.length;i<=s;i++){var o=0;switch(t){case a.L:o=v[i][0];break;case a.M:o=v[i][1];break;case a.Q:o=v[i][2];break;case a.H:o=v[i][3]}if(n<=o)break;r++}if(r>v.length)throw new Error("Too long data");return r}(r=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:a.H},"string"==typeof t&&(t={text:t}),t)for(var r in t)this._htOption[r]=t[r];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(x=w),this._android=_(),this._el=e,this._oQRCode=null,this._oDrawing=new x(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(e){this._oQRCode=new t(k(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},r.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},r.prototype.clear=function(){this._oDrawing.clear()},r.CorrectLevel=a}(),e.exports=r},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,r,n,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void r(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function o(e){a(s,n,i,o,c,"next",e)}function c(e){a(s,n,i,o,c,"throw",e)}o(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var a=h(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=r(492),f=r(629),m=f.Keyring,g=f.decodeAddress,y=f.encodeAddress,b=(f.createPair,r(1285)),v=b.ApiPromise,_=b.WsProvider,w=r(68).randomBytes,x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(b,e);var t,r,n,a,d,p,f=l(b);function b(e,t,r){var n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return s(this,b),(n=f.call(this,e,t)).endpoint=r,n.subscanEndpoint="https://parity.saito.io:9931/subscanapi",n.info=a,n._api=null,n.mods=[],n.keypair=null,n.keyring=null,n}return t=b,(r=[{key:"installModule",value:function(e){}},{key:"initialize",value:function(e){var t=this;if(e.BROWSER){this.load(),this._api=null;var r=this;if(this.eventEmitter.on("activated",(function(){var e=new _(t.endpoint);r._api=new v({provider:e}),r._api.on("connected",(function(e){})),r._api.on("disconnected",(function(e){})),r._api.on("ready",(function(e){})),r._api.on("error",(function(e){}))})),this.keyring=new m({type:"ed25519"}),this.keyring.setSS58Format(0),!this.optionsStorage.keypair){var n=this.keyring.addFromSeed(w(32),{name:"polkadot pair"},"ed25519");this.optionsStorage.keypair=n.toJson()}this.save(),this.keypair=this.keyring.addFromJson(this.optionsStorage.keypair),this.keypair.decodePkcs8(),c(h(b.prototype),"initialize",this).call(this,e)}}},{key:"getApi",value:(p=i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._api){e.next=6;break}return e.next=3,this._api.isReady;case 3:return e.abrupt("return",this._api);case 6:throw"Cannot get API from inactive module, no API connection was initialized";case 7:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"getFormattedAddress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"polkadot",r={polkadot:0,kusama:2,substrateRaw:42};return y(g(e),r[t])}},{key:"returnAddress",value:function(){return"KSM"==this.ticker?this.getFormattedAddress(this.keypair.address,"kusama"):"WND"==this.ticker?this.getFormattedAddress(this.keypair.address,"substrateRaw"):this.getFormattedAddress(this.keypair.address)}},{key:"returnPrivateKey",value:function(){return"Please remind your module developer to implement this"}},{key:"returnBalance",value:(d=i(regeneratorRuntime.mark((function e(){var t,r,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,e.next=3,this.getApi();case 3:if(!(r=e.sent).query.system.account){e.next=13;break}return e.next=7,r.query.system.account(this.keypair.publicKey);case 7:(n=e.sent).nonce,a=n.data,t=a.free,e.next=14;break;case 13:r.query.balances.freeBalance&&(t=r.query.balances.freeBalance(this.keypair.publicKey));case 14:if("WND"!=this.ticker){e.next=18;break}return e.abrupt("return",t/1e12);case 18:return e.abrupt("return",t/1);case 19:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"transfer",value:(a=i(regeneratorRuntime.mark((function e(t,r){var n,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"WND"==this.ticker&&(t*=1e12),e.next=3,this.getApi();case 3:return n=e.sent,e.next=6,n.tx.balances.transfer(r,t);case 6:return a=e.sent,e.next=9,a.signAndSend(this.keypair);case 9:return i=e.sent,e.abrupt("return",i);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"hasPayment",value:function(e,t,r,n){var a=this;return new Promise((function(i,s){var o={row:100,page:0,address:t};fetch(a.subscanEndpoint+"/api/scan/transfers",{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":"014bc513cb936da437a7710d67f27cc7"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(a){for(var s=0;s<a.data.transfers.length;s++){var o=a.data.transfers[s];if(o.from==t&&o.to==r&&Number.parseFloat(o.amount)>=.99*e&&1e3*parseInt(o.block_timestamp)>parseInt(n)){i(!0);break}}i(!1)})).catch((function(e){console.log("Error fetching payments from subscan"),s(e)}))}))}}])&&o(t.prototype,r),n&&o(t,n),b}(p);e.exports=x},function(e,t,r){"use strict";(function(e){var t=r(650),n=r(1287),a=r(631),i=r(177);Object(t.a)(i.a,e,[n.a,a.a])}).call(this,"/")},function(e,t,r){const n=r(600);function a(e,t,r){const n=e[t]+e[r];let a=e[t+1]+e[r+1];n>=4294967296&&a++,e[t]=n,e[t+1]=a}function i(e,t,r,n){let a=e[t]+r;r<0&&(a+=4294967296);let i=e[t+1]+n;a>=4294967296&&i++,e[t]=a,e[t+1]=i}function s(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function o(e,t,r,n,s,o){const c=d[s],u=d[s+1],h=d[o],p=d[o+1];a(l,e,t),i(l,e,c,u);let f=l[n]^l[e],m=l[n+1]^l[e+1];l[n]=m,l[n+1]=f,a(l,r,n),f=l[t]^l[r],m=l[t+1]^l[r+1],l[t]=f>>>24^m<<8,l[t+1]=m>>>24^f<<8,a(l,e,t),i(l,e,h,p),f=l[n]^l[e],m=l[n+1]^l[e+1],l[n]=f>>>16^m<<16,l[n+1]=m>>>16^f<<16,a(l,r,n),f=l[t]^l[r],m=l[t+1]^l[r+1],l[t]=m>>>31^f<<1,l[t+1]=f>>>31^m<<1}const c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),u=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),l=new Uint32Array(32),d=new Uint32Array(32);function h(e,t){let r=0;for(r=0;r<16;r++)l[r]=e.h[r],l[r+16]=c[r];for(l[24]=l[24]^e.t,l[25]=l[25]^e.t/4294967296,t&&(l[28]=~l[28],l[29]=~l[29]),r=0;r<32;r++)d[r]=s(e.b,4*r);for(r=0;r<12;r++)o(0,8,16,24,u[16*r+0],u[16*r+1]),o(2,10,18,26,u[16*r+2],u[16*r+3]),o(4,12,20,28,u[16*r+4],u[16*r+5]),o(6,14,22,30,u[16*r+6],u[16*r+7]),o(0,10,20,30,u[16*r+8],u[16*r+9]),o(2,12,22,24,u[16*r+10],u[16*r+11]),o(4,14,16,26,u[16*r+12],u[16*r+13]),o(6,8,18,28,u[16*r+14],u[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^l[r]^l[r+16]}function p(e,t){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");const r={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};for(let e=0;e<16;e++)r.h[e]=c[e];const n=t?t.length:0;return r.h[0]^=16842752^n<<8^e,t&&(f(r,t),r.c=128),r}function f(e,t){for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[r]}function m(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;h(e,!0);const t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}function g(e,t,r){r=r||64,e=n.normalizeInput(e);const a=p(r,t);return f(a,e),m(a)}e.exports={blake2b:g,blake2bHex:function(e,t,r){const a=g(e,t,r);return n.toHex(a)},blake2bInit:p,blake2bUpdate:f,blake2bFinal:m}},function(e,t,r){const n=r(600);function a(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function i(e,t,r,n,a,i){u[e]=u[e]+u[t]+a,u[n]=s(u[n]^u[e],16),u[r]=u[r]+u[n],u[t]=s(u[t]^u[r],12),u[e]=u[e]+u[t]+i,u[n]=s(u[n]^u[e],8),u[r]=u[r]+u[n],u[t]=s(u[t]^u[r],7)}function s(e,t){return e>>>t^e<<32-t}const o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),u=new Uint32Array(16),l=new Uint32Array(16);function d(e,t){let r=0;for(r=0;r<8;r++)u[r]=e.h[r],u[r+8]=o[r];for(u[12]^=e.t,u[13]^=e.t/4294967296,t&&(u[14]=~u[14]),r=0;r<16;r++)l[r]=a(e.b,4*r);for(r=0;r<10;r++)i(0,4,8,12,l[c[16*r+0]],l[c[16*r+1]]),i(1,5,9,13,l[c[16*r+2]],l[c[16*r+3]]),i(2,6,10,14,l[c[16*r+4]],l[c[16*r+5]]),i(3,7,11,15,l[c[16*r+6]],l[c[16*r+7]]),i(0,5,10,15,l[c[16*r+8]],l[c[16*r+9]]),i(1,6,11,12,l[c[16*r+10]],l[c[16*r+11]]),i(2,7,8,13,l[c[16*r+12]],l[c[16*r+13]]),i(3,4,9,14,l[c[16*r+14]],l[c[16*r+15]]);for(r=0;r<8;r++)e.h[r]^=u[r]^u[r+8]}function h(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=t?t.length:0;if(t&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(o),b:new Uint8Array(64),c:0,t:0,outlen:e};return n.h[0]^=16842752^r<<8^e,r>0&&(p(n,t),n.c=64),n}function p(e,t){for(let r=0;r<t.length;r++)64===e.c&&(e.t+=e.c,d(e,!1),e.c=0),e.b[e.c++]=t[r]}function f(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;d(e,!0);const t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)&255;return t}function m(e,t,r){r=r||32,e=n.normalizeInput(e);const a=h(r,t);return p(a,e),f(a)}e.exports={blake2s:m,blake2sHex:function(e,t,r){const a=m(e,t,r);return n.toHex(a)},blake2sInit:h,blake2sUpdate:p,blake2sFinal:f}},function(e,t){},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,r){const n=r(68),{checkAndInit:a,smixSync:i}=r(601);e.exports=function(e,t,r,s,o,c,u){const{XY:l,V:d,B32:h,x:p,_X:f,B:m,tickCallback:g}=a(e,t,r,s,o,c,u);for(var y=0;y<o;y++)i(m,128*y*s,s,r,d,l,f,h,p,g);return n.pbkdf2Sync(e,m,1,c,"sha256")}},function(e,t,r){const n=r(68),{checkAndInit:a,smix:i}=r(601);e.exports=async function(e,t,r,s,o,c,u,l){const{XY:d,V:h,B32:p,x:f,_X:m,B:g,tickCallback:y}=a(e,t,r,s,o,c,u);for(var b=0;b<o;b++)await i(g,128*b*s,s,r,h,d,m,p,f,y,l);return n.pbkdf2Sync(e,g,1,c,"sha256")}},function(e,t,r){"use strict";(function(e){var t=r(179),n=r(180),a=r(642),i=r(643),s=r(181),o=r(650),c=r(96);Object(o.a)(c.a,e,[t.a,n.a,a.a,i.a,s.a])}).call(this,"/")},function(e,t,r){(function(t){var n=r(602).UINT32;n.prototype.xxh_update=function(e,t){var r,n,s=i._low,o=i._high;r=(n=e*s)>>>16,r+=t*s,r&=65535,r+=e*o;var c=this._low+(65535&n),u=c>>>16,l=(u+=this._high+(65535&r))<<16|65535&c;u=(l=l<<13|l>>>19)>>>16,r=(n=(c=65535&l)*(s=a._low))>>>16,r+=u*s,r&=65535,r+=c*(o=a._high),this._low=65535&n,this._high=65535&r};var a=n("2654435761"),i=n("2246822519"),s=n("3266489917"),o=n("668265263"),c=n("374761393");function u(){return 2==arguments.length?new u(arguments[1]).update(arguments[0]).digest():this instanceof u?void l.call(this,arguments[0]):new u(arguments[0])}function l(e){return this.seed=e instanceof n?e.clone():n(e),this.v1=this.seed.clone().add(a).add(i),this.v2=this.seed.clone().add(i),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(a),this.total_len=0,this.memsize=0,this.memory=null,this}u.prototype.init=l,u.prototype.update=function(e){var r,n="string"==typeof e;n&&(e=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var a=e.charCodeAt(r);a<128?t.push(a):a<2048?t.push(192|a>>6,128|63&a):a<55296||a>=57344?t.push(224|a>>12,128|a>>6&63,128|63&a):(r++,a=65536+((1023&a)<<10|1023&e.charCodeAt(r)),t.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|63&a))}return new Uint8Array(t)}(e),n=!1,r=!0),"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&(r=!0,e=new Uint8Array(e));var a=0,i=e.length,s=a+i;if(0==i)return this;if(this.total_len+=i,0==this.memsize&&(this.memory=n?"":r?new Uint8Array(16):new t(16)),this.memsize+i<16)return n?this.memory+=e:r?this.memory.set(e.subarray(0,i),this.memsize):e.copy(this.memory,this.memsize,0,i),this.memsize+=i,this;if(this.memsize>0){n?this.memory+=e.slice(0,16-this.memsize):r?this.memory.set(e.subarray(0,16-this.memsize),this.memsize):e.copy(this.memory,this.memsize,0,16-this.memsize);var o=0;n?(this.v1.xxh_update(this.memory.charCodeAt(o+1)<<8|this.memory.charCodeAt(o),this.memory.charCodeAt(o+3)<<8|this.memory.charCodeAt(o+2)),o+=4,this.v2.xxh_update(this.memory.charCodeAt(o+1)<<8|this.memory.charCodeAt(o),this.memory.charCodeAt(o+3)<<8|this.memory.charCodeAt(o+2)),o+=4,this.v3.xxh_update(this.memory.charCodeAt(o+1)<<8|this.memory.charCodeAt(o),this.memory.charCodeAt(o+3)<<8|this.memory.charCodeAt(o+2)),o+=4,this.v4.xxh_update(this.memory.charCodeAt(o+1)<<8|this.memory.charCodeAt(o),this.memory.charCodeAt(o+3)<<8|this.memory.charCodeAt(o+2))):(this.v1.xxh_update(this.memory[o+1]<<8|this.memory[o],this.memory[o+3]<<8|this.memory[o+2]),o+=4,this.v2.xxh_update(this.memory[o+1]<<8|this.memory[o],this.memory[o+3]<<8|this.memory[o+2]),o+=4,this.v3.xxh_update(this.memory[o+1]<<8|this.memory[o],this.memory[o+3]<<8|this.memory[o+2]),o+=4,this.v4.xxh_update(this.memory[o+1]<<8|this.memory[o],this.memory[o+3]<<8|this.memory[o+2])),a+=16-this.memsize,this.memsize=0,n&&(this.memory="")}if(a<=s-16){var c=s-16;do{n?(this.v1.xxh_update(e.charCodeAt(a+1)<<8|e.charCodeAt(a),e.charCodeAt(a+3)<<8|e.charCodeAt(a+2)),a+=4,this.v2.xxh_update(e.charCodeAt(a+1)<<8|e.charCodeAt(a),e.charCodeAt(a+3)<<8|e.charCodeAt(a+2)),a+=4,this.v3.xxh_update(e.charCodeAt(a+1)<<8|e.charCodeAt(a),e.charCodeAt(a+3)<<8|e.charCodeAt(a+2)),a+=4,this.v4.xxh_update(e.charCodeAt(a+1)<<8|e.charCodeAt(a),e.charCodeAt(a+3)<<8|e.charCodeAt(a+2))):(this.v1.xxh_update(e[a+1]<<8|e[a],e[a+3]<<8|e[a+2]),a+=4,this.v2.xxh_update(e[a+1]<<8|e[a],e[a+3]<<8|e[a+2]),a+=4,this.v3.xxh_update(e[a+1]<<8|e[a],e[a+3]<<8|e[a+2]),a+=4,this.v4.xxh_update(e[a+1]<<8|e[a],e[a+3]<<8|e[a+2])),a+=4}while(a<=c)}return a<s&&(n?this.memory+=e.slice(a):r?this.memory.set(e.subarray(a,s),this.memsize):e.copy(this.memory,this.memsize,a,s),this.memsize=s-a),this},u.prototype.digest=function(){var e,t,r=this.memory,u="string"==typeof r,l=0,d=this.memsize,h=new n;for((e=this.total_len>=16?this.v1.rotl(1).add(this.v2.rotl(7).add(this.v3.rotl(12).add(this.v4.rotl(18)))):this.seed.clone().add(c)).add(h.fromNumber(this.total_len));l<=d-4;)u?h.fromBits(r.charCodeAt(l+1)<<8|r.charCodeAt(l),r.charCodeAt(l+3)<<8|r.charCodeAt(l+2)):h.fromBits(r[l+1]<<8|r[l],r[l+3]<<8|r[l+2]),e.add(h.multiply(s)).rotl(17).multiply(o),l+=4;for(;l<d;)h.fromBits(u?r.charCodeAt(l++):r[l++],0),e.add(h.multiply(c)).rotl(11).multiply(a);return t=e.clone().shiftRight(15),e.xor(t).multiply(i),t=e.clone().shiftRight(13),e.xor(t).multiply(s),t=e.clone().shiftRight(16),e.xor(t),this.init(this.seed),e},e.exports=u}).call(this,r(11).Buffer)},function(e,t,r){var n;!function(r){a(Math.pow(36,5)),a(Math.pow(16,7)),a(Math.pow(10,9)),a(Math.pow(2,30)),a(36),a(16),a(10),a(2);function a(e,t){return this instanceof a?(this._low=0,this._high=0,this.remainder=null,void 0===t?s.call(this,e):"string"==typeof e?o.call(this,e,t):void i.call(this,e,t)):new a(e,t)}function i(e,t){return this._low=0|e,this._high=0|t,this}function s(e){return this._low=65535&e,this._high=e>>>16,this}function o(e,t){var r=parseInt(e,t||10);return this._low=65535&r,this._high=r>>>16,this}a.prototype.fromBits=i,a.prototype.fromNumber=s,a.prototype.fromString=o,a.prototype.toNumber=function(){return 65536*this._high+this._low},a.prototype.toString=function(e){return this.toNumber().toString(e||10)},a.prototype.add=function(e){var t=this._low+e._low,r=t>>>16;return r+=this._high+e._high,this._low=65535&t,this._high=65535&r,this},a.prototype.subtract=function(e){return this.add(e.clone().negate())},a.prototype.multiply=function(e){var t,r,n=this._high,a=this._low,i=e._high,s=e._low;return t=(r=a*s)>>>16,t+=n*s,t&=65535,t+=a*i,this._low=65535&r,this._high=65535&t,this},a.prototype.div=function(e){if(0==e._low&&0==e._high)throw Error("division by zero");if(0==e._high&&1==e._low)return this.remainder=new a(0),this;if(e.gt(this))return this.remainder=this.clone(),this._low=0,this._high=0,this;if(this.eq(e))return this.remainder=new a(0),this._low=1,this._high=0,this;for(var t=e.clone(),r=-1;!this.lt(t);)t.shiftLeft(1,!0),r++;for(this.remainder=this.clone(),this._low=0,this._high=0;r>=0;r--)t.shiftRight(1),this.remainder.lt(t)||(this.remainder.subtract(t),r>=16?this._high|=1<<r-16:this._low|=1<<r);return this},a.prototype.negate=function(){var e=1+(65535&~this._low);return this._low=65535&e,this._high=~this._high+(e>>>16)&65535,this},a.prototype.equals=a.prototype.eq=function(e){return this._low==e._low&&this._high==e._high},a.prototype.greaterThan=a.prototype.gt=function(e){return this._high>e._high||!(this._high<e._high)&&this._low>e._low},a.prototype.lessThan=a.prototype.lt=function(e){return this._high<e._high||!(this._high>e._high)&&this._low<e._low},a.prototype.or=function(e){return this._low|=e._low,this._high|=e._high,this},a.prototype.and=function(e){return this._low&=e._low,this._high&=e._high,this},a.prototype.not=function(){return this._low=65535&~this._low,this._high=65535&~this._high,this},a.prototype.xor=function(e){return this._low^=e._low,this._high^=e._high,this},a.prototype.shiftRight=a.prototype.shiftr=function(e){return e>16?(this._low=this._high>>e-16,this._high=0):16==e?(this._low=this._high,this._high=0):(this._low=this._low>>e|this._high<<16-e&65535,this._high>>=e),this},a.prototype.shiftLeft=a.prototype.shiftl=function(e,t){return e>16?(this._high=this._low<<e-16,this._low=0,t||(this._high&=65535)):16==e?(this._high=this._low,this._low=0):(this._high=this._high<<e|this._low>>16-e,this._low=this._low<<e&65535,t||(this._high&=65535)),this},a.prototype.rotateLeft=a.prototype.rotl=function(e){var t=this._high<<16|this._low;return t=t<<e|t>>>32-e,this._low=65535&t,this._high=t>>>16,this},a.prototype.rotateRight=a.prototype.rotr=function(e){var t=this._high<<16|this._low;return t=t>>>e|t<<32-e,this._low=65535&t,this._high=t>>>16,this},a.prototype.clone=function(){return new a(this._low,this._high)},void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){var n;!function(r){var a={16:s(Math.pow(16,5)),10:s(Math.pow(10,5)),2:s(Math.pow(2,5))},i={16:s(16),10:s(10),2:s(2)};function s(e,t,r,n){return this instanceof s?(this.remainder=null,"string"==typeof e?u.call(this,e,t):void 0===t?c.call(this,e):void o.apply(this,arguments)):new s(e,t,r,n)}function o(e,t,r,n){return void 0===r?(this._a00=65535&e,this._a16=e>>>16,this._a32=65535&t,this._a48=t>>>16,this):(this._a00=0|e,this._a16=0|t,this._a32=0|r,this._a48=0|n,this)}function c(e){return this._a00=65535&e,this._a16=e>>>16,this._a32=0,this._a48=0,this}function u(e,t){t=t||10,this._a00=0,this._a16=0,this._a32=0,this._a48=0;for(var r=a[t]||new s(Math.pow(t,5)),n=0,i=e.length;n<i;n+=5){var o=Math.min(5,i-n),c=parseInt(e.slice(n,n+o),t);this.multiply(o<5?new s(Math.pow(t,o)):r).add(new s(c))}return this}s.prototype.fromBits=o,s.prototype.fromNumber=c,s.prototype.fromString=u,s.prototype.toNumber=function(){return 65536*this._a16+this._a00},s.prototype.toString=function(e){var t=i[e=e||10]||new s(e);if(!this.gt(t))return this.toNumber().toString(e);for(var r=this.clone(),n=new Array(64),a=63;a>=0&&(r.div(t),n[a]=r.remainder.toNumber().toString(e),r.gt(t));a--);return n[a-1]=r.toNumber().toString(e),n.join("")},s.prototype.add=function(e){var t=this._a00+e._a00,r=t>>>16,n=(r+=this._a16+e._a16)>>>16,a=(n+=this._a32+e._a32)>>>16;return a+=this._a48+e._a48,this._a00=65535&t,this._a16=65535&r,this._a32=65535&n,this._a48=65535&a,this},s.prototype.subtract=function(e){return this.add(e.clone().negate())},s.prototype.multiply=function(e){var t=this._a00,r=this._a16,n=this._a32,a=this._a48,i=e._a00,s=e._a16,o=e._a32,c=t*i,u=c>>>16,l=(u+=t*s)>>>16;u&=65535,l+=(u+=r*i)>>>16;var d=(l+=t*o)>>>16;return l&=65535,d+=(l+=r*s)>>>16,l&=65535,d+=(l+=n*i)>>>16,d+=t*e._a48,d&=65535,d+=r*o,d&=65535,d+=n*s,d&=65535,d+=a*i,this._a00=65535&c,this._a16=65535&u,this._a32=65535&l,this._a48=65535&d,this},s.prototype.div=function(e){if(0==e._a16&&0==e._a32&&0==e._a48){if(0==e._a00)throw Error("division by zero");if(1==e._a00)return this.remainder=new s(0),this}if(e.gt(this))return this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0,this;if(this.eq(e))return this.remainder=new s(0),this._a00=1,this._a16=0,this._a32=0,this._a48=0,this;for(var t=e.clone(),r=-1;!this.lt(t);)t.shiftLeft(1,!0),r++;for(this.remainder=this.clone(),this._a00=0,this._a16=0,this._a32=0,this._a48=0;r>=0;r--)t.shiftRight(1),this.remainder.lt(t)||(this.remainder.subtract(t),r>=48?this._a48|=1<<r-48:r>=32?this._a32|=1<<r-32:r>=16?this._a16|=1<<r-16:this._a00|=1<<r);return this},s.prototype.negate=function(){var e=1+(65535&~this._a00);return this._a00=65535&e,e=(65535&~this._a16)+(e>>>16),this._a16=65535&e,e=(65535&~this._a32)+(e>>>16),this._a32=65535&e,this._a48=~this._a48+(e>>>16)&65535,this},s.prototype.equals=s.prototype.eq=function(e){return this._a48==e._a48&&this._a00==e._a00&&this._a32==e._a32&&this._a16==e._a16},s.prototype.greaterThan=s.prototype.gt=function(e){return this._a48>e._a48||!(this._a48<e._a48)&&(this._a32>e._a32||!(this._a32<e._a32)&&(this._a16>e._a16||!(this._a16<e._a16)&&this._a00>e._a00))},s.prototype.lessThan=s.prototype.lt=function(e){return this._a48<e._a48||!(this._a48>e._a48)&&(this._a32<e._a32||!(this._a32>e._a32)&&(this._a16<e._a16||!(this._a16>e._a16)&&this._a00<e._a00))},s.prototype.or=function(e){return this._a00|=e._a00,this._a16|=e._a16,this._a32|=e._a32,this._a48|=e._a48,this},s.prototype.and=function(e){return this._a00&=e._a00,this._a16&=e._a16,this._a32&=e._a32,this._a48&=e._a48,this},s.prototype.xor=function(e){return this._a00^=e._a00,this._a16^=e._a16,this._a32^=e._a32,this._a48^=e._a48,this},s.prototype.not=function(){return this._a00=65535&~this._a00,this._a16=65535&~this._a16,this._a32=65535&~this._a32,this._a48=65535&~this._a48,this},s.prototype.shiftRight=s.prototype.shiftr=function(e){return(e%=64)>=48?(this._a00=this._a48>>e-48,this._a16=0,this._a32=0,this._a48=0):e>=32?(e-=32,this._a00=65535&(this._a32>>e|this._a48<<16-e),this._a16=this._a48>>e&65535,this._a32=0,this._a48=0):e>=16?(e-=16,this._a00=65535&(this._a16>>e|this._a32<<16-e),this._a16=65535&(this._a32>>e|this._a48<<16-e),this._a32=this._a48>>e&65535,this._a48=0):(this._a00=65535&(this._a00>>e|this._a16<<16-e),this._a16=65535&(this._a16>>e|this._a32<<16-e),this._a32=65535&(this._a32>>e|this._a48<<16-e),this._a48=this._a48>>e&65535),this},s.prototype.shiftLeft=s.prototype.shiftl=function(e,t){return(e%=64)>=48?(this._a48=this._a00<<e-48,this._a32=0,this._a16=0,this._a00=0):e>=32?(e-=32,this._a48=this._a16<<e|this._a00>>16-e,this._a32=this._a00<<e&65535,this._a16=0,this._a00=0):e>=16?(e-=16,this._a48=this._a32<<e|this._a16>>16-e,this._a32=65535&(this._a16<<e|this._a00>>16-e),this._a16=this._a00<<e&65535,this._a00=0):(this._a48=this._a48<<e|this._a32>>16-e,this._a32=65535&(this._a32<<e|this._a16>>16-e),this._a16=65535&(this._a16<<e|this._a00>>16-e),this._a00=this._a00<<e&65535),t||(this._a48&=65535),this},s.prototype.rotateLeft=s.prototype.rotl=function(e){if(0==(e%=64))return this;if(e>=32){var t=this._a00;if(this._a00=this._a32,this._a32=t,t=this._a48,this._a48=this._a16,this._a16=t,32==e)return this;e-=32}var r=this._a48<<16|this._a32,n=this._a16<<16|this._a00,a=r<<e|n>>>32-e,i=n<<e|r>>>32-e;return this._a00=65535&i,this._a16=i>>>16,this._a32=65535&a,this._a48=a>>>16,this},s.prototype.rotateRight=s.prototype.rotr=function(e){if(0==(e%=64))return this;if(e>=32){var t=this._a00;if(this._a00=this._a32,this._a32=t,t=this._a48,this._a48=this._a16,this._a16=t,32==e)return this;e-=32}var r=this._a48<<16|this._a32,n=this._a16<<16|this._a00,a=r>>>e|n<<32-e,i=n>>>e|r<<32-e;return this._a00=65535&i,this._a16=i>>>16,this._a32=65535&a,this._a48=a>>>16,this},s.prototype.clone=function(){return new s(this._a00,this._a16,this._a32,this._a48)},void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){(function(t){var n=r(602).UINT64,a=n("11400714785074694791"),i=n("14029467366897019727"),s=n("1609587929392839161"),o=n("9650029242287828579"),c=n("2870177450012600261");function u(){return 2==arguments.length?new u(arguments[1]).update(arguments[0]).digest():this instanceof u?void l.call(this,arguments[0]):new u(arguments[0])}function l(e){return this.seed=e instanceof n?e.clone():n(e),this.v1=this.seed.clone().add(a).add(i),this.v2=this.seed.clone().add(i),this.v3=this.seed.clone(),this.v4=this.seed.clone().subtract(a),this.total_len=0,this.memsize=0,this.memory=null,this}u.prototype.init=l,u.prototype.update=function(e){var r,s="string"==typeof e;s&&(e=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var a=e.charCodeAt(r);a<128?t.push(a):a<2048?t.push(192|a>>6,128|63&a):a<55296||a>=57344?t.push(224|a>>12,128|a>>6&63,128|63&a):(r++,a=65536+((1023&a)<<10|1023&e.charCodeAt(r)),t.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|63&a))}return new Uint8Array(t)}(e),s=!1,r=!0),"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&(r=!0,e=new Uint8Array(e));var o=0,c=e.length,u=o+c;if(0==c)return this;if(this.total_len+=c,0==this.memsize&&(this.memory=s?"":r?new Uint8Array(32):new t(32)),this.memsize+c<32)return s?this.memory+=e:r?this.memory.set(e.subarray(0,c),this.memsize):e.copy(this.memory,this.memsize,0,c),this.memsize+=c,this;if(this.memsize>0){s?this.memory+=e.slice(0,32-this.memsize):r?this.memory.set(e.subarray(0,32-this.memsize),this.memsize):e.copy(this.memory,this.memsize,0,32-this.memsize);var l=0;if(s)h=n(this.memory.charCodeAt(l+1)<<8|this.memory.charCodeAt(l),this.memory.charCodeAt(l+3)<<8|this.memory.charCodeAt(l+2),this.memory.charCodeAt(l+5)<<8|this.memory.charCodeAt(l+4),this.memory.charCodeAt(l+7)<<8|this.memory.charCodeAt(l+6)),this.v1.add(h.multiply(i)).rotl(31).multiply(a),l+=8,h=n(this.memory.charCodeAt(l+1)<<8|this.memory.charCodeAt(l),this.memory.charCodeAt(l+3)<<8|this.memory.charCodeAt(l+2),this.memory.charCodeAt(l+5)<<8|this.memory.charCodeAt(l+4),this.memory.charCodeAt(l+7)<<8|this.memory.charCodeAt(l+6)),this.v2.add(h.multiply(i)).rotl(31).multiply(a),l+=8,h=n(this.memory.charCodeAt(l+1)<<8|this.memory.charCodeAt(l),this.memory.charCodeAt(l+3)<<8|this.memory.charCodeAt(l+2),this.memory.charCodeAt(l+5)<<8|this.memory.charCodeAt(l+4),this.memory.charCodeAt(l+7)<<8|this.memory.charCodeAt(l+6)),this.v3.add(h.multiply(i)).rotl(31).multiply(a),l+=8,h=n(this.memory.charCodeAt(l+1)<<8|this.memory.charCodeAt(l),this.memory.charCodeAt(l+3)<<8|this.memory.charCodeAt(l+2),this.memory.charCodeAt(l+5)<<8|this.memory.charCodeAt(l+4),this.memory.charCodeAt(l+7)<<8|this.memory.charCodeAt(l+6)),this.v4.add(h.multiply(i)).rotl(31).multiply(a);else h=n(this.memory[l+1]<<8|this.memory[l],this.memory[l+3]<<8|this.memory[l+2],this.memory[l+5]<<8|this.memory[l+4],this.memory[l+7]<<8|this.memory[l+6]),this.v1.add(h.multiply(i)).rotl(31).multiply(a),l+=8,h=n(this.memory[l+1]<<8|this.memory[l],this.memory[l+3]<<8|this.memory[l+2],this.memory[l+5]<<8|this.memory[l+4],this.memory[l+7]<<8|this.memory[l+6]),this.v2.add(h.multiply(i)).rotl(31).multiply(a),l+=8,h=n(this.memory[l+1]<<8|this.memory[l],this.memory[l+3]<<8|this.memory[l+2],this.memory[l+5]<<8|this.memory[l+4],this.memory[l+7]<<8|this.memory[l+6]),this.v3.add(h.multiply(i)).rotl(31).multiply(a),l+=8,h=n(this.memory[l+1]<<8|this.memory[l],this.memory[l+3]<<8|this.memory[l+2],this.memory[l+5]<<8|this.memory[l+4],this.memory[l+7]<<8|this.memory[l+6]),this.v4.add(h.multiply(i)).rotl(31).multiply(a);o+=32-this.memsize,this.memsize=0,s&&(this.memory="")}if(o<=u-32){var d=u-32;do{var h;if(s)h=n(e.charCodeAt(o+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2),e.charCodeAt(o+5)<<8|e.charCodeAt(o+4),e.charCodeAt(o+7)<<8|e.charCodeAt(o+6)),this.v1.add(h.multiply(i)).rotl(31).multiply(a),o+=8,h=n(e.charCodeAt(o+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2),e.charCodeAt(o+5)<<8|e.charCodeAt(o+4),e.charCodeAt(o+7)<<8|e.charCodeAt(o+6)),this.v2.add(h.multiply(i)).rotl(31).multiply(a),o+=8,h=n(e.charCodeAt(o+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2),e.charCodeAt(o+5)<<8|e.charCodeAt(o+4),e.charCodeAt(o+7)<<8|e.charCodeAt(o+6)),this.v3.add(h.multiply(i)).rotl(31).multiply(a),o+=8,h=n(e.charCodeAt(o+1)<<8|e.charCodeAt(o),e.charCodeAt(o+3)<<8|e.charCodeAt(o+2),e.charCodeAt(o+5)<<8|e.charCodeAt(o+4),e.charCodeAt(o+7)<<8|e.charCodeAt(o+6)),this.v4.add(h.multiply(i)).rotl(31).multiply(a);else h=n(e[o+1]<<8|e[o],e[o+3]<<8|e[o+2],e[o+5]<<8|e[o+4],e[o+7]<<8|e[o+6]),this.v1.add(h.multiply(i)).rotl(31).multiply(a),h=n(e[(o+=8)+1]<<8|e[o],e[o+3]<<8|e[o+2],e[o+5]<<8|e[o+4],e[o+7]<<8|e[o+6]),this.v2.add(h.multiply(i)).rotl(31).multiply(a),h=n(e[(o+=8)+1]<<8|e[o],e[o+3]<<8|e[o+2],e[o+5]<<8|e[o+4],e[o+7]<<8|e[o+6]),this.v3.add(h.multiply(i)).rotl(31).multiply(a),h=n(e[(o+=8)+1]<<8|e[o],e[o+3]<<8|e[o+2],e[o+5]<<8|e[o+4],e[o+7]<<8|e[o+6]),this.v4.add(h.multiply(i)).rotl(31).multiply(a);o+=8}while(o<=d)}return o<u&&(s?this.memory+=e.slice(o):r?this.memory.set(e.subarray(o,u),this.memsize):e.copy(this.memory,this.memsize,o,u),this.memsize=u-o),this},u.prototype.digest=function(){var e,t,r=this.memory,u="string"==typeof r,l=0,d=this.memsize,h=new n;for(this.total_len>=32?((e=this.v1.clone().rotl(1)).add(this.v2.clone().rotl(7)),e.add(this.v3.clone().rotl(12)),e.add(this.v4.clone().rotl(18)),e.xor(this.v1.multiply(i).rotl(31).multiply(a)),e.multiply(a).add(o),e.xor(this.v2.multiply(i).rotl(31).multiply(a)),e.multiply(a).add(o),e.xor(this.v3.multiply(i).rotl(31).multiply(a)),e.multiply(a).add(o),e.xor(this.v4.multiply(i).rotl(31).multiply(a)),e.multiply(a).add(o)):e=this.seed.clone().add(c),e.add(h.fromNumber(this.total_len));l<=d-8;)u?h.fromBits(r.charCodeAt(l+1)<<8|r.charCodeAt(l),r.charCodeAt(l+3)<<8|r.charCodeAt(l+2),r.charCodeAt(l+5)<<8|r.charCodeAt(l+4),r.charCodeAt(l+7)<<8|r.charCodeAt(l+6)):h.fromBits(r[l+1]<<8|r[l],r[l+3]<<8|r[l+2],r[l+5]<<8|r[l+4],r[l+7]<<8|r[l+6]),h.multiply(i).rotl(31).multiply(a),e.xor(h).rotl(27).multiply(a).add(o),l+=8;for(l+4<=d&&(u?h.fromBits(r.charCodeAt(l+1)<<8|r.charCodeAt(l),r.charCodeAt(l+3)<<8|r.charCodeAt(l+2),0,0):h.fromBits(r[l+1]<<8|r[l],r[l+3]<<8|r[l+2],0,0),e.xor(h.multiply(a)).rotl(23).multiply(i).add(s),l+=4);l<d;)h.fromBits(u?r.charCodeAt(l++):r[l++],0,0,0),e.xor(h.multiply(c)).rotl(11).multiply(a);return t=e.clone().shiftRight(33),e.xor(t).multiply(i),t=e.clone().shiftRight(29),e.xor(t).multiply(s),t=e.clone().shiftRight(32),e.xor(t),this.init(this.seed),e},e.exports=u}).call(this,r(11).Buffer)},function(e,t,r){var n=r(1237),a=r(1243),i=r(1249),s=r(1250),o=r(1251),c=r(1252),u=r(1253),l=r(1254),d=r(1255),h=r(1280);function p(e){this.options=e,this.utils=new n(e),this.filters=[]}p.prototype.register=function(e){return this.filters.push(e),this},p.prototype.next=function(e,t,r){var n=this;e.length?e[0].resolve(t,(function(a){return null===a?void n.next(e.slice(1),t,r):void r(a)}),this.options,this.utils):r(null)},p.prototype.resolve=function(e,t){var r=this.filters;return this.next(r,e,(function(r){return r?void t({url:e,image:r}):void t(null)})),this},p.FileExtension=a,p.NineGag=i,p.Instagram=s,p.ImgurPage=o,p.MimeType=l,p.ImgurAlbum=c,p.Flickr=u,p.Opengraph=d,p.Webpage=h,e.exports=p},function(e,t,r){var n=r(1238),a=function(e){this.options=e||{},this.cache={}};a.prototype.fetch=function(e,t,r){var a=this,i=null;if(this.options.requestPlugin&&"function"==typeof this.options.requestPlugin&&(i=this.options.requestPlugin),e in this.cache)t(this.cache[e].data,this.cache[e].response);else{var s=n.get(e);i&&(s=s.use(i)),s.on("error",r),s.end((function(n,i){n?r(n):(a.cache[e]={data:i.text,response:i},t(i.text,i))}))}},a.prototype.request=n,e.exports=a},function(e,t,r){var n;"undefined"!=typeof window?n=window:"undefined"!=typeof self?n=self:(console.warn("Using browser-only version of superagent in non-browser environment"),n=this);var a=r(94),i=r(1239),s=r(607),o=r(1240),c=r(1242);function u(){}var l=t=e.exports=function(e,r){return"function"==typeof r?new t.Request("GET",e).end(r):1==arguments.length?new t.Request("GET",e):new t.Request(e,r)};t.Request=y,l.getXHR=function(){if(!(!n.XMLHttpRequest||n.location&&"file:"==n.location.protocol&&n.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var d="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function h(e){if(!s(e))return e;var t=[];for(var r in e)p(t,r,e[r]);return t.join("&")}function p(e,t,r){if(null!=r)if(Array.isArray(r))r.forEach((function(r){p(e,t,r)}));else if(s(r))for(var n in r)p(e,t+"["+n+"]",r[n]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));else null===r&&e.push(encodeURIComponent(t))}function f(e){for(var t,r,n={},a=e.split("&"),i=0,s=a.length;i<s;++i)-1==(r=(t=a[i]).indexOf("="))?n[decodeURIComponent(t)]="":n[decodeURIComponent(t.slice(0,r))]=decodeURIComponent(t.slice(r+1));return n}function m(e){return/[\/+]json($|[^-\w])/.test(e)}function g(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,r,n,a,i=e.split(/\r?\n/),s={},o=0,c=i.length;o<c;++o)-1!==(t=(r=i[o]).indexOf(":"))&&(n=r.slice(0,t).toLowerCase(),a=d(r.slice(t+1)),s[n]=a);return s}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function y(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(function(){var e,t=null,n=null;try{n=new g(r)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,r.xhr?(t.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,t.status=r.xhr.status?r.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),r.callback(t)}r.emit("response",n);try{r._isResponseOK(n)||(e=new Error(n.statusText||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=n,e.status=n.status,r.callback(e,n)):r.callback(null,n)}))}function b(e,t,r){var n=l("DELETE",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n}l.serializeObject=h,l.parseString=f,l.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},l.serialize={"application/x-www-form-urlencoded":h,"application/json":JSON.stringify},l.parse={"application/x-www-form-urlencoded":f,"application/json":JSON.parse},o(g.prototype),g.prototype._parseBody=function(e){var t=l.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&m(this.type)&&(t=l.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},g.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,n="cannot "+t+" "+r+" ("+this.status+")",a=new Error(n);return a.status=this.status,a.method=t,a.url=r,a},l.Response=g,a(y.prototype),i(y.prototype),y.prototype.type=function(e){return this.set("Content-Type",l.types[e]||e),this},y.prototype.accept=function(e){return this.set("Accept",l.types[e]||e),this},y.prototype.auth=function(e,t,r){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(r=t,t=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});var n=function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(e,t,r,n)},y.prototype.query=function(e){return"string"!=typeof e&&(e=h(e)),e&&this._query.push(e),this},y.prototype.attach=function(e,t,r){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,r||t.name)}return this},y.prototype._getFormData=function(){return this._formData||(this._formData=new n.FormData),this._formData},y.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var r=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),r(e,t)},y.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},y.prototype.buffer=y.prototype.ca=y.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},y.prototype.pipe=y.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},y.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},y.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||u,this._finalizeQueryString(),this._end()},y.prototype._end=function(){var e=this,t=this.xhr=l.getXHR(),r=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var r=t.readyState;if(r>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==r){var n;try{n=t.status}catch(e){n=0}if(!n){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var n=function(t,r){r.total>0&&(r.percent=r.loaded/r.total*100),r.direction=t,e.emit("progress",r)};if(this.hasListeners("progress"))try{t.onprogress=n.bind(null,"download"),t.upload&&(t.upload.onprogress=n.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof r&&!this._isHost(r)){var a=this._header["content-type"],i=this._serializer||l.serialize[a?a.split(";")[0]:""];!i&&m(a)&&(i=l.serialize["application/json"]),i&&(r=i(r))}for(var s in this.header)null!=this.header[s]&&this.header.hasOwnProperty(s)&&t.setRequestHeader(s,this.header[s]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==r?r:null),this},l.agent=function(){return new c},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(e){c.prototype[e.toLowerCase()]=function(t,r){var n=new l.Request(e,t);return this._setDefaults(n),r&&n.end(r),n}})),c.prototype.del=c.prototype.delete,l.get=function(e,t,r){var n=l("GET",e);return"function"==typeof t&&(r=t,t=null),t&&n.query(t),r&&n.end(r),n},l.head=function(e,t,r){var n=l("HEAD",e);return"function"==typeof t&&(r=t,t=null),t&&n.query(t),r&&n.end(r),n},l.options=function(e,t,r){var n=l("OPTIONS",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},l.del=b,l.delete=b,l.patch=function(e,t,r){var n=l("PATCH",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},l.post=function(e,t,r){var n=l("POST",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},l.put=function(e,t,r){var n=l("PUT",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n}},function(e,t,r){"use strict";var n=r(607);function a(e){if(e)return function(e){for(var t in a.prototype)e[t]=a.prototype[t];return e}(e)}e.exports=a,a.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},a.prototype.parse=function(e){return this._parser=e,this},a.prototype.responseType=function(e){return this._responseType=e,this},a.prototype.serialize=function(e){return this._serializer=e,this},a.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},a.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var i=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];a.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(e,t);if(!0===r)return!0;if(!1===r)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~i.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},a.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},a.prototype.then=function(e,t){if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(e,t){r.end((function(r,n){r?t(r):e(n)}))}))}return this._fullfilledPromise.then(e,t)},a.prototype.catch=function(e){return this.then(void 0,e)},a.prototype.use=function(e){return e(this),this},a.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},a.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},a.prototype.get=function(e){return this._header[e.toLowerCase()]},a.prototype.getHeader=a.prototype.get,a.prototype.set=function(e,t){if(n(e)){for(var r in e)this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},a.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},a.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),n(e)){for(var r in e)this.field(r,e[r]);return this}if(Array.isArray(t)){for(var a in t)this.field(e,t[a]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},a.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},a.prototype._auth=function(e,t,r,n){switch(r.type){case"basic":this.set("Authorization","Basic "+n(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},a.prototype.withCredentials=function(e){return null==e&&(e=!0),this._withCredentials=e,this},a.prototype.redirects=function(e){return this._maxRedirects=e,this},a.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},a.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},a.prototype.send=function(e){var t=n(e),r=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&n(this._data))for(var a in e)this._data[a]=e[a];else"string"==typeof e?(r||this.type("form"),r=this._header["content-type"],this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||r||this.type("json"),this},a.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},a.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var r=this.url.substring(t+1).split("&");"function"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.substring(0,t)+"?"+r.join("&")}}},a.prototype._appendQueryString=function(){console.trace("Unsupported")},a.prototype._timeoutError=function(e,t,r){if(!this._aborted){var n=new Error(e+t+"ms exceeded");n.timeout=t,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.abort(),this.callback(n)}},a.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},function(e,t,r){"use strict";var n=r(1241);function a(e){if(e)return function(e){for(var t in a.prototype)e[t]=a.prototype[t];return e}(e)}e.exports=a,a.prototype.get=function(e){return this.header[e.toLowerCase()]},a.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=n.type(t);var r=n.params(t);for(var a in r)this[a]=r[a];this.links={};try{e.link&&(this.links=n.parseLinks(e.link))}catch(e){}},a.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e}},function(e,t,r){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce((function(e,t){var r=t.split(/ *= */),n=r.shift(),a=r.shift();return n&&a&&(e[n]=a),e}),{})},t.parseLinks=function(e){return e.split(/ *, */).reduce((function(e,t){var r=t.split(/ *; */),n=r[0].slice(1,-1);return e[r[1].split(/ *= */)[1].slice(1,-1)]=n,e}),{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t){function r(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach((function(e){r.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}})),r.prototype._setDefaults=function(e){this._defaults.forEach((function(t){e[t.fn].apply(e,t.arguments)}))},e.exports=r},function(e,t,r){var n=r(176);function a(){}a.prototype.resolve=function(e,t){n.parse(e).pathname.match(/\.(png|jpg|jpeg|gif|bmp|svg)$/i)?t(e):t(null)},e.exports=a},function(e,t,r){(function(e,n){var a;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){t&&t.nodeType,e&&e.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var o,c=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function m(e){throw new RangeError(h[e])}function g(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function y(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+g((e=e.replace(d,".")).split("."),t).join(".")}function b(e){for(var t,r,n=[],a=0,i=e.length;a<i;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(r=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--):n.push(t);return n}function v(e){return g(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=f(e)})).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,r){var n=0;for(e=r?p(e/700):e>>1,e+=p(e/t);e>455;n+=36)e=p(e/35);return p(n+36*e/(e+38))}function x(e){var t,r,n,a,i,s,o,u,l,d,h,f=[],g=e.length,y=0,b=128,_=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&m("not-basic"),f.push(e.charCodeAt(n));for(a=r>0?r+1:0;a<g;){for(i=y,s=1,o=36;a>=g&&m("invalid-input"),((u=(h=e.charCodeAt(a++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||u>p((c-y)/s))&&m("overflow"),y+=u*s,!(u<(l=o<=_?1:o>=_+26?26:o-_));o+=36)s>p(c/(d=36-l))&&m("overflow"),s*=d;_=w(y-i,t=f.length+1,0==i),p(y/t)>c-b&&m("overflow"),b+=p(y/t),y%=t,f.splice(y++,0,b)}return v(f)}function k(e){var t,r,n,a,i,s,o,u,l,d,h,g,y,v,x,k=[];for(g=(e=b(e)).length,t=128,r=0,i=72,s=0;s<g;++s)(h=e[s])<128&&k.push(f(h));for(n=a=k.length,a&&k.push("-");n<g;){for(o=c,s=0;s<g;++s)(h=e[s])>=t&&h<o&&(o=h);for(o-t>p((c-r)/(y=n+1))&&m("overflow"),r+=(o-t)*y,t=o,s=0;s<g;++s)if((h=e[s])<t&&++r>c&&m("overflow"),h==t){for(u=r,l=36;!(u<(d=l<=i?1:l>=i+26?26:l-i));l+=36)x=u-d,v=36-d,k.push(f(_(d+x%v,0))),u=p(x/v);k.push(f(_(u,0))),i=w(r,y,n==a),r=0,++n}++r,++t}return k.join("")}o={version:"1.4.1",ucs2:{decode:b,encode:v},decode:x,encode:k,toASCII:function(e){return y(e,(function(e){return l.test(e)?"xn--"+k(e):e}))},toUnicode:function(e){return y(e,(function(e){return u.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(a=function(){return o}.call(t,r,t,e))||(e.exports=a)}()}).call(this,r(92)(e),r(26))},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";t.decode=t.parse=r(1247),t.encode=t.stringify=r(1248)},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&",r=r||"=";var s={};if("string"!=typeof e||0===e.length)return s;var o=/\+/g;e=e.split(t);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var d,h,p,f,m=e[l].replace(o,"%20"),g=m.indexOf(r);g>=0?(d=m.substr(0,g),h=m.substr(g+1)):(d=m,h=""),p=decodeURIComponent(d),f=decodeURIComponent(h),n(s,p)?a(s[p])?s[p].push(f):s[p]=[s[p],f]:s[p]=f}return s};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,o){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?i(s(e),(function(s){var o=encodeURIComponent(n(s))+r;return a(e[s])?i(e[s],(function(e){return o+encodeURIComponent(n(e))})).join(t):o+encodeURIComponent(n(e[s]))})).join(t):o?encodeURIComponent(n(o))+r+encodeURIComponent(n(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){var n=r(176),a=/^\/gag\/(.*)$/;function i(){}i.prototype.resolve=function(e,t){var r,i=(e=n.parse(e)).pathname.match(a)||[];if("9gag.com"===e.hostname&&i.length)return r=i[1],void t("http://d24w6bsrhbeh9d.cloudfront.net/photo/{{id}}_700b.jpg".replace("{{id}}",r));t(null)},e.exports=i},function(e,t){var r=/http(s*):\/\/instagr(\.am|am\.com)\/p\/([^\/]+)/;function n(){}n.prototype.resolve=function(e,t){var n=e.match(r);n&&n.length>1?t(e="http://instagram.com/p/{{id}}/media/?size=l".replace("{{id}}",n[3])):t(null)},e.exports=n},function(e,t){var r=/http(s*):\/\/(i\.|m\.)*imgur.com\/(gallery\/){0,1}(.*)/;function n(){}n.prototype.resolve=function(e,t){var n,a=e.match(r);if(a&&a.length&&-1===a[a.length-1].indexOf("/"))return n=a[a.length-1],void t("http://i.imgur.com/{{id}}.jpg".replace("{{id}}",n));t(null)},e.exports=n},function(e,t){var r=/http(s*):\/\/(i\.|m\.)*imgur.com\/a\/([^\/]*)/;function n(e){if(!e.client_id)throw new Error("ImgurAlbum plugin: client_id is missing");this.config=e}n.prototype.resolve=function(e,t,n,a){var i,s,o=a.request,c=e.match(r);c&&c.length?(i=c[c.length-1],s="https://api.imgur.com/3/album/{{albumHash}}".replace("{{albumHash}}",i),o.get(s).set("Authorization","Client-ID "+this.config.client_id).end((function(e){var r=(e.body.data.images||[]).shift();return r?void t(r.link):void t(null)}))):t(null)},e.exports=n},function(e,t){function r(e){this.apikey=e}r.prototype.resolve=function(e,t,r,n){var a,i,s=n.request,o=e.match(/http(s?):\/\/www.flickr.com\/photos\/([^\/]*)\/(\d+)\b/)||[];o.length?(a=o[3],i="https://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key={{APIKEY}}&photo_id={{ID}}&format=json&nojsoncallback=1".replace("{{APIKEY}}",this.apikey).replace("{{ID}}",a),s.get(i).end((function(e){if(data=JSON.parse(e.text),data&&data.sizes&&data.sizes.size)for(var r=data.sizes.size,n=0,a=r.length;n<a;n++)if("Large"===r[n].label||"Original"===r[n].label)return void t(r[n].source);t(null)}))):t(null)},e.exports=r},function(e,t){function r(){}r.prototype.resolve=function(e,t,r,n){n.fetch(e,(function(r,n){switch(n.type){case"image/jpeg":case"image/png":case"image/gif":case"image/svg+xml":case"image/bmp":case"image/tiff":t(e);break;default:t(null)}}),(function(){t(null)}))},e.exports=r},function(e,t,r){var n=r(133),a=r(176),i=[{type:"facebook",attribute:"property",name:"og:image",value:"content"},{type:"facebook",attribute:"rel",name:"image_src",value:"href"},{type:"twitter",attribute:"name",name:"twitter:image",value:"value"},{type:"twitter",attribute:"name",name:"twitter:image",value:"content"}];function s(){}s.prototype.resolve=function(e,t,r,n){var a=this;n.fetch(e,(function(i,s){a.parseHTML(i,e,t,r,n)}),(function(){t(null)}))},s.prototype.parseHTML=function(e,t,r,s,o){var c=n.DomUtils,u=new n.DomHandler((function(e,n){if(e)r(null);else{for(var s,o,u=[].concat(c.getElementsByTagName("meta",n,!0),c.getElementsByTagName("link",n,!0)),l=[],d=0,h=u.length;d<h;d++){o=u[d];for(var p=0,f=i.length;p<f;p++)o.attribs[i[p].attribute]&&o.attribs[i[p].attribute]===i[p].name&&o.attribs[i[p].value]&&l.push({url:o.attribs[i[p].value],type:i[p].type,score:0})}if(1===l.length)s=l[0].url;else if(l.length>1){for(d=0,h=l.length;d<h;d++)l[d].url.match(/(large|big)/i)&&l[d].score++,"twitter"===l[d].type&&l[d].score++;l.sort((function(e,t){return t.score-e.score})),s=l[0].url}s?(s.match(/^http/)||(s=a.resolve(t,s)),r(s)):r(null)}})),l=new n.Parser(u);l.write(e),l.done()},e.exports=s},function(e,t,r){var n=r(1257);e.exports=function(e){if(e>=55296&&e<=57343||e>1114111)return"";e in n&&(e=n[e]);var t="";e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e);return t+=String.fromCharCode(e)}},function(e){e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(e){e.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},function(e){e.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},function(e){e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(e,t,r){var n=r(611),a=e.exports=Object.create(n),i={tagName:"name"};Object.keys(i).forEach((function(e){var t=i[e];Object.defineProperty(a,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})}))},function(e,t,r){var n=r(610),a=r(612);function i(e,t){this.init(e,t)}function s(e,t){return a.getElementsByTagName(e,t,!0)}function o(e,t){return a.getElementsByTagName(e,t,!0,1)[0]}function c(e,t,r){return a.getText(a.getElementsByTagName(e,t,r,1)).trim()}function u(e,t,r,n,a){var i=c(r,n,a);i&&(e[t]=i)}r(7)(i,n),i.prototype.init=n;var l=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};i.prototype.onend=function(){var e,t,r={},a=o(l,this.dom);a&&("feed"===a.name?(t=a.children,r.type="atom",u(r,"id","id",t),u(r,"title","title",t),(e=o("link",t))&&(e=e.attribs)&&(e=e.href)&&(r.link=e),u(r,"description","subtitle",t),(e=c("updated",t))&&(r.updated=new Date(e)),u(r,"author","email",t,!0),r.items=s("entry",t).map((function(e){var t,r={};return u(r,"id","id",e=e.children),u(r,"title","title",e),(t=o("link",e))&&(t=t.attribs)&&(t=t.href)&&(r.link=t),(t=c("summary",e)||c("content",e))&&(r.description=t),(t=c("updated",e))&&(r.pubDate=new Date(t)),r}))):(t=o("channel",a.children).children,r.type=a.name.substr(0,3),r.id="",u(r,"title","title",t),u(r,"link","link",t),u(r,"description","description",t),(e=c("lastBuildDate",t))&&(r.updated=new Date(e)),u(r,"author","managingEditor",t,!0),r.items=s("item",a.children).map((function(e){var t,r={};return u(r,"id","guid",e=e.children),u(r,"title","title",e),u(r,"link","link",e),u(r,"description","description",e),(t=c("pubDate",e))&&(r.pubDate=new Date(t)),r})))),this.dom=r,n.prototype._handleCallback.call(this,a?null:Error("couldn't find root of feed"))},e.exports=i},function(e,t,r){var n=r(134),a=r(1264),i=n.isTag;e.exports={getInnerHTML:function(e,t){return e.children?e.children.map((function(e){return a(e,t)})).join(""):""},getOuterHTML:a,getText:function e(t){return Array.isArray(t)?t.map(e).join(""):i(t)?"br"===t.name?"\n":e(t.children):t.type===n.CDATA?e(t.children):t.type===n.Text?t.data:""}}},function(e,t,r){var n=r(1265),a=r(1266),i=r(1270);i.elementNames.__proto__=null,i.attributeNames.__proto__=null;var s={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var o={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},c=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var r="",a=0;a<e.length;a++){var i=e[a];"root"===i.type?r+=c(i.children,t):n.isTag(i)?r+=l(i,t):i.type===n.Directive?r+=d(i):i.type===n.Comment?r+=f(i):i.type===n.CDATA?r+=p(i):r+=h(i,t)}return r},u=["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"];function l(e,t){"foreign"===t.xmlMode&&(e.name=i.elementNames[e.name]||e.name,e.parent&&u.indexOf(e.parent.name)>=0&&(t=Object.assign({},t,{xmlMode:!1}))),!t.xmlMode&&["svg","math"].indexOf(e.name)>=0&&(t=Object.assign({},t,{xmlMode:"foreign"}));var r="<"+e.name,n=function(e,t){if(e){var r,n="";for(var s in e)r=e[s],n&&(n+=" "),"foreign"===t.xmlMode&&(s=i.attributeNames[s]||s),n+=s,(null!==r&&""!==r||t.xmlMode)&&(n+='="'+(t.decodeEntities?a.encodeXML(r):r.replace(/\"/g,"&quot;"))+'"');return n}}(e.attribs,t);return n&&(r+=" "+n),!t.xmlMode||e.children&&0!==e.children.length?(r+=">",e.children&&(r+=c(e.children,t)),o[e.name]&&!t.xmlMode||(r+="</"+e.name+">")):r+="/>",r}function d(e){return"<"+e.data+">"}function h(e,t){var r=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in s||(r=a.encodeXML(r)),r}function p(e){return"<![CDATA["+e.children[0].data+"]]>"}function f(e){return"\x3c!--"+e.data+"--\x3e"}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var n=r(613),a=r(616);t.decode=function(e,t){return(!t||t<=0?n.decodeXML:n.decodeHTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?n.decodeXML:n.decodeHTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?a.encodeXML:a.encodeHTML)(e)};var i=r(616);Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return i.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return i.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return i.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return i.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return i.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return i.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return i.encodeHTML}});var s=r(613);Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})},function(e){e.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r(1269)),i=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)};t.default=function(e){return e>=55296&&e<=57343||e>1114111?"":(e in a.default&&(e=a.default[e]),i(e))}},function(e){e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(e){e.exports=JSON.parse('{"elementNames":{"altglyph":"altGlyph","altglyphdef":"altGlyphDef","altglyphitem":"altGlyphItem","animatecolor":"animateColor","animatemotion":"animateMotion","animatetransform":"animateTransform","clippath":"clipPath","feblend":"feBlend","fecolormatrix":"feColorMatrix","fecomponenttransfer":"feComponentTransfer","fecomposite":"feComposite","feconvolvematrix":"feConvolveMatrix","fediffuselighting":"feDiffuseLighting","fedisplacementmap":"feDisplacementMap","fedistantlight":"feDistantLight","fedropshadow":"feDropShadow","feflood":"feFlood","fefunca":"feFuncA","fefuncb":"feFuncB","fefuncg":"feFuncG","fefuncr":"feFuncR","fegaussianblur":"feGaussianBlur","feimage":"feImage","femerge":"feMerge","femergenode":"feMergeNode","femorphology":"feMorphology","feoffset":"feOffset","fepointlight":"fePointLight","fespecularlighting":"feSpecularLighting","fespotlight":"feSpotLight","fetile":"feTile","feturbulence":"feTurbulence","foreignobject":"foreignObject","glyphref":"glyphRef","lineargradient":"linearGradient","radialgradient":"radialGradient","textpath":"textPath"},"attributeNames":{"definitionurl":"definitionURL","attributename":"attributeName","attributetype":"attributeType","basefrequency":"baseFrequency","baseprofile":"baseProfile","calcmode":"calcMode","clippathunits":"clipPathUnits","diffuseconstant":"diffuseConstant","edgemode":"edgeMode","filterunits":"filterUnits","glyphref":"glyphRef","gradienttransform":"gradientTransform","gradientunits":"gradientUnits","kernelmatrix":"kernelMatrix","kernelunitlength":"kernelUnitLength","keypoints":"keyPoints","keysplines":"keySplines","keytimes":"keyTimes","lengthadjust":"lengthAdjust","limitingconeangle":"limitingConeAngle","markerheight":"markerHeight","markerunits":"markerUnits","markerwidth":"markerWidth","maskcontentunits":"maskContentUnits","maskunits":"maskUnits","numoctaves":"numOctaves","pathlength":"pathLength","patterncontentunits":"patternContentUnits","patterntransform":"patternTransform","patternunits":"patternUnits","pointsatx":"pointsAtX","pointsaty":"pointsAtY","pointsatz":"pointsAtZ","preservealpha":"preserveAlpha","preserveaspectratio":"preserveAspectRatio","primitiveunits":"primitiveUnits","refx":"refX","refy":"refY","repeatcount":"repeatCount","repeatdur":"repeatDur","requiredextensions":"requiredExtensions","requiredfeatures":"requiredFeatures","specularconstant":"specularConstant","specularexponent":"specularExponent","spreadmethod":"spreadMethod","startoffset":"startOffset","stddeviation":"stdDeviation","stitchtiles":"stitchTiles","surfacescale":"surfaceScale","systemlanguage":"systemLanguage","tablevalues":"tableValues","targetx":"targetX","targety":"targetY","textlength":"textLength","viewbox":"viewBox","viewtarget":"viewTarget","xchannelselector":"xChannelSelector","ychannelselector":"yChannelSelector","zoomandpan":"zoomAndPan"}}')},function(e,t){var r=t.getChildren=function(e){return e.children},n=t.getParent=function(e){return e.parent};t.getSiblings=function(e){var t=n(e);return t?r(t):[e]},t.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},t.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},t.getName=function(e){return e.name}},function(e,t){t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var r=t.prev=e.prev;r&&(r.next=t);var n=t.next=e.next;n&&(n.prev=t);var a=t.parent=e.parent;if(a){var i=a.children;i[i.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var r=e.children[e.children.length-2];r.next=t,t.prev=r,t.next=null}},t.append=function(e,t){var r=e.parent,n=e.next;if(t.next=n,t.prev=e,e.next=t,t.parent=r,n){if(n.prev=t,r){var a=r.children;a.splice(a.lastIndexOf(n),0,t)}}else r&&r.children.push(t)},t.prepend=function(e,t){var r=e.parent;if(r){var n=r.children;n.splice(n.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,t.next=e,e.prev=t}},function(e,t,r){var n=r(134).isTag;function a(e,t,r,n){for(var i,s=[],o=0,c=t.length;o<c&&!(e(t[o])&&(s.push(t[o]),--n<=0))&&(i=t[o].children,!(r&&i&&i.length>0&&(i=a(e,i,r,n),s=s.concat(i),(n-=i.length)<=0)));o++);return s}e.exports={filter:function(e,t,r,n){Array.isArray(t)||(t=[t]);"number"==typeof n&&isFinite(n)||(n=1/0);return a(e,t,!1!==r,n)},find:a,findOneChild:function(e,t){for(var r=0,n=t.length;r<n;r++)if(e(t[r]))return t[r];return null},findOne:function e(t,r){for(var a=null,i=0,s=r.length;i<s&&!a;i++)n(r[i])&&(t(r[i])?a=r[i]:r[i].children.length>0&&(a=e(t,r[i].children)));return a},existsOne:function e(t,r){for(var a=0,i=r.length;a<i;a++)if(n(r[a])&&(t(r[a])||r[a].children.length>0&&e(t,r[a].children)))return!0;return!1},findAll:function(e,t){var r=[],a=t.slice();for(;a.length;){var i=a.shift();n(i)&&(i.children&&i.children.length>0&&a.unshift.apply(a,i.children),e(i)&&r.push(i))}return r}}},function(e,t,r){var n=r(134),a=t.isTag=n.isTag;t.testElement=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){if("tag_name"===r){if(!a(t)||!e.tag_name(t.name))return!1}else if("tag_type"===r){if(!e.tag_type(t.type))return!1}else if("tag_contains"===r){if(a(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[r](t.attribs[r]))return!1}else;return!0};var i={tag_name:function(e){return"function"==typeof e?function(t){return a(t)&&e(t.name)}:"*"===e?a:function(t){return a(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return!a(t)&&e(t.data)}:function(t){return!a(t)&&t.data===e}}};function s(e,t){return"function"==typeof t?function(r){return r.attribs&&t(r.attribs[e])}:function(r){return r.attribs&&r.attribs[e]===t}}function o(e,t){return function(r){return e(r)||t(r)}}t.getElements=function(e,t,r,n){var a=Object.keys(e).map((function(t){var r=e[t];return t in i?i[t](r):s(t,r)}));return 0===a.length?[]:this.filter(a.reduce(o),t,r,n)},t.getElementById=function(e,t,r){return Array.isArray(t)||(t=[t]),this.findOne(s("id",e),t,!1!==r)},t.getElementsByTagName=function(e,t,r,n){return this.filter(i.tag_name(e),t,r,n)},t.getElementsByTagType=function(e,t,r,n){return this.filter(i.tag_type(e),t,r,n)}},function(e,t){t.removeSubsets=function(e){for(var t,r,n,a=e.length;--a>-1;){for(t=r=e[a],e[a]=null,n=!0;r;){if(e.indexOf(r)>-1){n=!1,e.splice(a,1);break}r=r.parent}n&&(e[a]=t)}return e};var r=1,n=2,a=4,i=8,s=16,o=t.compareDocumentPosition=function(e,t){var o,c,u,l,d,h,p=[],f=[];if(e===t)return 0;for(o=e;o;)p.unshift(o),o=o.parent;for(o=t;o;)f.unshift(o),o=o.parent;for(h=0;p[h]===f[h];)h++;return 0===h?r:(u=(c=p[h-1]).children,l=p[h],d=f[h],u.indexOf(l)>u.indexOf(d)?c===t?a|s:a:c===e?n|i:n)};t.uniqueSort=function(e){var t,r,i=e.length;for(e=e.slice();--i>-1;)t=e[i],(r=e.indexOf(t))>-1&&r<i&&e.splice(i,1);return e.sort((function(e,t){var r=o(e,t);return r&n?-1:r&a?1:0})),e}},function(e,t,r){e.exports=a;var n=r(617);function a(e){n.call(this,new i(this),e)}function i(e){this.scope=e}r(7)(a,n),a.prototype.readable=!0;var s=r(133).EVENTS;Object.keys(s).forEach((function(e){if(0===s[e])i.prototype["on"+e]=function(){this.scope.emit(e)};else if(1===s[e])i.prototype["on"+e]=function(t){this.scope.emit(e,t)};else{if(2!==s[e])throw Error("wrong number of arguments!");i.prototype["on"+e]=function(t,r){this.scope.emit(e,t,r)}}}))},function(e,t){},function(e,t,r){function n(e){this._cbs=e||{}}e.exports=n;var a=r(133).EVENTS;Object.keys(a).forEach((function(e){if(0===a[e])e="on"+e,n.prototype[e]=function(){this._cbs[e]&&this._cbs[e]()};else if(1===a[e])e="on"+e,n.prototype[e]=function(t){this._cbs[e]&&this._cbs[e](t)};else{if(2!==a[e])throw Error("wrong number of arguments");e="on"+e,n.prototype[e]=function(t,r){this._cbs[e]&&this._cbs[e](t,r)}}}))},function(e,t,r){function n(e){this._cbs=e||{},this.events=[]}e.exports=n;var a=r(133).EVENTS;Object.keys(a).forEach((function(e){if(0===a[e])e="on"+e,n.prototype[e]=function(){this.events.push([e]),this._cbs[e]&&this._cbs[e]()};else if(1===a[e])e="on"+e,n.prototype[e]=function(t){this.events.push([e,t]),this._cbs[e]&&this._cbs[e](t)};else{if(2!==a[e])throw Error("wrong number of arguments");e="on"+e,n.prototype[e]=function(t,r){this.events.push([e,t,r]),this._cbs[e]&&this._cbs[e](t,r)}}})),n.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},n.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var r=this.events[e].length;1===r?this._cbs[this.events[e][0]]():2===r?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}},function(e,t,r){var n=r(133),a=r(176);function i(){}i.prototype._score=function(e){var t,r=0;if(e.attribs.src&&(t=e.attribs.src),e.attribs["data-src"]&&(t=e.attribs["data-src"]),e.attribs["data-lazy-src"]&&(t=e.attribs["data-lazy-src"]),!t)return-10;for(var n=[{pattern:/(large|big)/,score:1},{pattern:"upload",score:1},{pattern:"media",score:1},{pattern:"gravatar.com",score:-1},{pattern:"feeds.feedburner.com",score:-1},{pattern:/icon/i,score:-1},{pattern:/logo/i,score:-1},{pattern:/spinner/i,score:-1},{pattern:/loading/i,score:-1},{pattern:"badge",score:-1},{pattern:"1x1",score:-1},{pattern:"pixel",score:-1},{pattern:/ads/i,score:-1},{pattern:/doubleclick/i,score:-1}],a=0,i=n.length;a<i;a++)t.match(n[a].pattern)&&(r+=n[a].score);return r},i.prototype.resolve=function(e,t,r,n){var a=this;n.fetch(e,(function(i,s){a.parseHTML(i,e,t,r,n)}),(function(){t(null)}))},i.prototype.parseHTML=function(e,t,r,i,s){var o=n.DomUtils,c=this,u=new n.DomHandler((function(e,n){if(e)r(null);else{var i,s=o.getElementsByTagName("img",n,!0),u=[];if(s.length){for(var l=0,d=s.length;l<d;l++)if(s[l].attribs["data-src"]&&(s[l].attribs.src=s[l].attribs["data-src"]),s[l].attribs["data-lazy-src"]&&(s[l].attribs.src=s[l].attribs["data-lazy-src"]),s[l].attribs.src){var h=s[l].attribs.width||1,p=s[l].attribs.height||1;s[l].surface=h*p,s[l].score=c._score(s[l]),s[l].surface>256&&u.push(s[l])}if(u.length>0)return u.sort((function(e,t){return e.surface==t.surface?t.score-e.score:t.surface-e.surface})),(i=u[0].attribs.src).match(/^http/)||(i=a.resolve(t,i)),void r(i);r(null)}else r(null)}})),l=new n.Parser(u);l.write(e),l.done()},e.exports=i},function(e,t,r){function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw s}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(1282),c=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(this,e),this.app=t,r?(this.height=r.height,this.width=r.width,this.hexmode=r.hexmode):(this.height=5,this.width=5,this.hexmode=[0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0],this.hexes=["1_1","1_2","1_3","2_1","2_2","2_3","2_4","3_1","3_2","3_3","3_4","3_5","4_2","4_3","4_4","4_5","5_3","5_4","5_5"])}var t,r,a;return t=e,(r=[{key:"render",value:function(e,t){document.querySelector(".game-hexgrid-container")||e.browser.addElementToDom(o(this.height,this.width,this.hexmode))}},{key:"attachEvents",value:function(e,t){}},{key:"addToEdge",value:function(e,t){}},{key:"addToCorner",value:function(e,t){}},{key:"edgesFromVertex",value:function(e){var t=e.split("_"),r=parseInt(t[0]),n=parseInt(t[1]),a=parseInt(t[2]),i=[];switch(r){case 1:i.push(this.verifyEdge(1,n,a),this.verifyEdge(6,n,a),this.verifyEdge(2,n-1,a-1));break;case 2:i.push(this.verifyEdge(1,n,a),this.verifyEdge(2,n,a),this.verifyEdge(3,n-1,a));break;case 3:i.push(this.verifyEdge(2,n,a),this.verifyEdge(3,n,a),this.verifyEdge(4,n,a+1));break;case 4:i.push(this.verifyEdge(3,n,a),this.verifyEdge(4,n,a),this.verifyEdge(2,n+1,a));break;case 5:i.push(this.verifyEdge(4,n,a),this.verifyEdge(5,n,a),this.verifyEdge(3,n,a-1));break;case 6:i.push(this.verifyEdge(5,n,a),this.verifyEdge(6,n,a),this.verifyEdge(4,n-1,a-1))}return i.filter((function(e){return e}))}},{key:"verifyEdge",value:function(e,t,r){switch(e){case 2:if(this.exists(t,r+1))return"5_".concat(t,"_").concat(r+1);break;case 3:if(this.exists(t+1,r+1))return"6_".concat(t+1,"_").concat(r+1);break;case 4:if(this.exists(t+1,r))return"1_".concat(t+1,"_").concat(r)}return!!this.exists(t,r)&&e+"_"+t+"_"+r}},{key:"verticesFromEdge",value:function(e){var t=e.split("_"),r=parseInt(t[0]),n=parseInt(t[1]),a=parseInt(t[2]),i=[];return i.push(this.verifyVertex(r,n,a)),i.push(this.verifyVertex(r+1,n,a)),i.filter((function(e){return e}))}},{key:"directedEdge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.split("_"),a=parseInt(r[0]),i=parseInt(r[1]),s=parseInt(r[2]);if(null==t)return this.verifyVertex(a,i,s);var o,c=this.verticesFromEdge(e),u=this.verticesFromEdge(t),l=n(u);try{for(l.s();!(o=l.n()).done;){var d=o.value;if(!c.includes(d))return d}}catch(e){l.e(e)}finally{l.f()}}},{key:"verifyVertex",value:function(e,t,r){switch(e>6&&(e-=6),e){case 2:if(this.exists(t,r+1))return"6_".concat(t,"_").concat(r+1);break;case 4:if(this.exists(t+1,r+1))return"6_".concat(t+1,"_").concat(r+1);if(this.exists(t+1,r))return"2_".concat(t,"_").concat(r+1);break;case 5:if(this.exists(t+1,r))return"1_".concat(t+1,"_").concat(r);break;case 3:if(this.exists(t+1,r+1))return"1_".concat(t+1,"_").concat(r+1);if(this.exists(t,r+1))return"5_".concat(t,"_").concat(r+1)}return e+"_"+t+"_"+r}},{key:"adjacentEdges",value:function(e){var t,r=[],a=n(this.verticesFromEdge(e));try{for(a.s();!(t=a.n()).done;){var i,s=t.value,o=n(this.edgesFromVertex(s));try{for(o.s();!(i=o.n()).done;){var c=i.value;c!=e&&r.push(c)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){a.e(e)}finally{a.f()}return r}},{key:"adjacentVertices",value:function(e){var t,r=[],a=n(this.edgesFromVertex(e));try{for(a.s();!(t=a.n()).done;){var i,s=t.value,o=n(this.verticesFromEdge(s));try{for(o.s();!(i=o.n()).done;){var c=i.value;c!=e&&r.push(c)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){a.e(e)}finally{a.f()}return r}},{key:"exists",value:function(e,t){return this.hexes.includes(e+"_"+t)}},{key:"hexesFromVertex",value:function(e){var t=e.split("_"),r=parseInt(t[0]),n=parseInt(t[1]),a=parseInt(t[2]),i=[n+"_"+a];switch(r){case 1:this.exists(n-1,a-1)&&i.push("".concat(n-1,"_").concat(a-1)),this.exists(n-1,a)&&i.push("".concat(n-1,"_").concat(a));break;case 2:this.exists(n-1,a)&&i.push("".concat(n-1,"_").concat(a)),this.exists(n,a+1)&&i.push("".concat(n,"_").concat(a+1));break;case 3:this.exists(n,a+1)&&i.push("".concat(n,"_").concat(a+1)),this.exists(n+1,a+1)&&i.push("".concat(n+1,"_").concat(a+1));break;case 4:this.exists(n+1,a+1)&&i.push("".concat(n+1,"_").concat(a+1)),this.exists(n+1,a)&&i.push("".concat(n+1,"_").concat(a));break;case 5:this.exists(n+1,a)&&i.push("".concat(n+1,"_").concat(a)),this.exists(n,a-1)&&i.push("".concat(n,"_").concat(a-1));break;case 6:this.exists(n,a-1)&&i.push("".concat(n,"_").concat(a-1)),this.exists(n-1,a-1)&&i.push("".concat(n-1,"_").concat(a-1))}return i}}])&&s(t.prototype,r),a&&s(t,a),e}();e.exports=c},function(e,t){e.exports=GameHexGridTemplate=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n='\n    <style type="text/css">\n      .hex {\n        width: '.concat(100/t,"%\n      }\n      .hex:first-child{\n        margin-left: ").concat(100/t/2,"%\n      }\n      .hex:nth-child(9n+10) {\n        margin-left: ").concat(100/t/2,"%\n      }\n    </style>\n  ");if(n+='<div id="game-hexgrid-container" class="game-hexgrid-container"><ul id="game-hexgrid" class="game-hexgrid">',n+="\n",(e+1)%2==0)for(var a=0;a<t-1;a++)n+='<li id="" class="hex"></li>';else for(var i=0;i<t;i++)n+='<li id="" class="hex"></li>';for(var s=0,o=0,c=1,u=1;c<=e;c++,u++){var l=c%2==0?t-1:t;c>(e+1)/2&&o++;for(var d=1,h=1;d<=l;d++)if(r.length>0){if(1==r[s]){var p=u+"_"+(h+o);n+='<li id="'.concat(p,'" class="hex">\n\t                 <div class="hexIn" id="hexIn_').concat(p,'">\n                  <div class="hexLink" id="hexLink_').concat(p,'">\n            \t \t  <div class="hex_bg" id="hex_bg_').concat(p,'">\n            \t\t  </div></div></div>\n            \t    </li>'),h++}else n+='<li id="" class="hex"></li>';s++}else{var f=u+"_"+h;n+='<li id="'.concat(f,'" class="hex">\n\t               <div class="hexIn" id="hexIn_').concat(f,'">\n              \t <div class="hexLink" id="hexLink_').concat(f,'">\n              \t <div class="hex_bg" id="hex_bg_').concat(f,'">\n              \t </div></div></div>\n                 </li>'),h++}}if((e+1)%2==0)for(var m=0;m<t-1;m++)n+='<li id="" class="hex"></li>';else for(var g=0;g<t;g++)n+='<li id="" class="hex"></li>';return n+="\n",n+="</ul></div>"}},function(e,t,r){var n=r(1284),a=r(172);e.exports=GameBoardSizer={render:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"body";if(!document.getElementById("game_board_sizer")){var i=document.querySelector(r);i.append(a(n()))}},attachEvents:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".gameboard",a=document.querySelector(n);if(document.querySelector("#game_board_sizer").addEventListener("change",(function(){r.scaleBoard(t,a)})),t.loadGamePreference(t.returnSlug()+"-board-scale"))try{document.querySelector("#game_board_sizer").value=t.loadGamePreference(t.returnSlug()+"-board-scale"),this.scaleBoard(t,a)}catch(e){}var i=t.loadGamePreference(t.returnSlug()+"-board-offset");i&&$(n).offset(i),$(n).draggable({stop:function(e,r){t.saveGamePreference(t.returnSlug()+"-board-offset",r.offset)}})},scaleBoard:function(e,t){try{e.hammertime.get("pinch").set({enable:!1}),e.hammertime.get("pan").set({enable:!1})}catch(e){}t.style.transform="scale(".concat(document.querySelector("#game_board_sizer").value/100,")"),e.saveGamePreference(e.returnSlug()+"-board-scale",document.querySelector("#game_board_sizer").value);try{e.hammertime.get("pinch").set({enable:!0}),e.hammertime.get("pan").set({enable:!0})}catch(e){}}}},function(e,t){e.exports=GameBoardSizerTemplate=function(){return'\n    <input class="game_board_sizer" id="game_board_sizer" type="range" min="33" max="200" value="100" />\n    '}},function(e,t,r){"use strict";r.r(t),r.d(t,"Keyring",(function(){return k.a})),r.d(t,"WsProvider",(function(){return ge})),r.d(t,"HttpProvider",(function(){return Oe})),r.d(t,"packageInfo",(function(){return Pe.a})),r.d(t,"ApiPromise",(function(){return Yv})),r.d(t,"decorateMethodPromise",(function(){return Gv})),r.d(t,"SubmittableResult",(function(){return Yb})),r.d(t,"ApiRx",(function(){return $v})),r.d(t,"decorateMethodRx",(function(){return Qv}));var n={};r.r(n),r.d(n,"GenericExtrinsic",(function(){return _n})),r.d(n,"GenericExtrinsicEra",(function(){return Jn})),r.d(n,"GenericMortalEra",(function(){return Xn})),r.d(n,"GenericImmortalEra",(function(){return Yn})),r.d(n,"GenericExtrinsicPayload",(function(){return Zn})),r.d(n,"GenericExtrinsicPayloadUnknown",(function(){return $n})),r.d(n,"GenericExtrinsicUnknown",(function(){return ea})),r.d(n,"GenericSignerPayload",(function(){return ua})),r.d(n,"GenericExtrinsicV4",(function(){return la})),r.d(n,"GenericExtrinsicPayloadV4",(function(){return fa})),r.d(n,"GenericExtrinsicSignatureV4",(function(){return _a})),r.d(n,"GenericEthereumAccountId",(function(){return Pa})),r.d(n,"GenericEthereumLookupSource",(function(){return Ba})),r.d(n,"GenericAccountId",(function(){return Fa})),r.d(n,"GenericAccountIndex",(function(){return Ia})),r.d(n,"GenericBlock",(function(){return qa})),r.d(n,"GenericCall",(function(){return Ga})),r.d(n,"GenericChainProperties",(function(){return Ya})),r.d(n,"GenericConsensusEngineId",(function(){return ei})),r.d(n,"GenericEvent",(function(){return on})),r.d(n,"GenericEventData",(function(){return sn})),r.d(n,"GenericLookupSource",(function(){return ri})),r.d(n,"GenericMultiAddress",(function(){return ai})),r.d(n,"GenericAddress",(function(){return ai})),r.d(n,"GenericPortableRegistry",(function(){return ys})),r.d(n,"GenericVote",(function(){return Fs})),r.d(n,"BitVec",(function(){return Ls})),r.d(n,"bool",(function(){return Rs})),r.d(n,"Bool",(function(){return Rs})),r.d(n,"Bytes",(function(){return Us})),r.d(n,"Data",(function(){return Vs})),r.d(n,"i8",(function(){return Ws})),r.d(n,"I8",(function(){return Ws})),r.d(n,"i16",(function(){return Ks})),r.d(n,"I16",(function(){return Ks})),r.d(n,"i32",(function(){return Ys})),r.d(n,"I32",(function(){return Ys})),r.d(n,"i64",(function(){return Xs})),r.d(n,"I64",(function(){return Xs})),r.d(n,"i128",(function(){return Js})),r.d(n,"I128",(function(){return Js})),r.d(n,"i256",(function(){return Qs})),r.d(n,"I256",(function(){return Qs})),r.d(n,"Null",(function(){return Zr})),r.d(n,"StorageKey",(function(){return ro})),r.d(n,"Text",(function(){return io})),r.d(n,"Type",(function(){return so})),r.d(n,"u8",(function(){return oo})),r.d(n,"U8",(function(){return oo})),r.d(n,"u16",(function(){return co})),r.d(n,"U16",(function(){return co})),r.d(n,"u32",(function(){return Ta})),r.d(n,"U32",(function(){return Ta})),r.d(n,"u64",(function(){return Kn})),r.d(n,"U64",(function(){return Kn})),r.d(n,"u128",(function(){return uo})),r.d(n,"U128",(function(){return uo})),r.d(n,"u256",(function(){return lo})),r.d(n,"U256",(function(){return lo})),r.d(n,"usize",(function(){return ho})),r.d(n,"USize",(function(){return ho}));var a={};r.r(a),r.d(a,"runtime",(function(){return mo})),r.d(a,"assets",(function(){return go})),r.d(a,"authorship",(function(){return yo})),r.d(a,"aura",(function(){return bo})),r.d(a,"babe",(function(){return vo})),r.d(a,"balances",(function(){return _o})),r.d(a,"beefy",(function(){return wo})),r.d(a,"collective",(function(){return xo})),r.d(a,"consensus",(function(){return ko})),r.d(a,"contracts",(function(){return So})),r.d(a,"democracy",(function(){return Oo})),r.d(a,"elections",(function(){return Po})),r.d(a,"engine",(function(){return Eo})),r.d(a,"evm",(function(){return Ao})),r.d(a,"extrinsics",(function(){return Co})),r.d(a,"genericAsset",(function(){return To})),r.d(a,"gilt",(function(){return Do})),r.d(a,"grandpa",(function(){return jo})),r.d(a,"identity",(function(){return Mo})),r.d(a,"imOnline",(function(){return Io})),r.d(a,"lottery",(function(){return Ro})),r.d(a,"mmr",(function(){return Bo})),r.d(a,"offences",(function(){return No})),r.d(a,"proxy",(function(){return Fo})),r.d(a,"recovery",(function(){return qo})),r.d(a,"scheduler",(function(){return Lo})),r.d(a,"session",(function(){return zo})),r.d(a,"society",(function(){return Vo})),r.d(a,"staking",(function(){return Ko})),r.d(a,"support",(function(){return Yo})),r.d(a,"syncstate",(function(){return Xo})),r.d(a,"system",(function(){return Jo})),r.d(a,"treasury",(function(){return Qo})),r.d(a,"txpayment",(function(){return Zo})),r.d(a,"uniques",(function(){return $o})),r.d(a,"utility",(function(){return ec})),r.d(a,"vesting",(function(){return tc})),r.d(a,"attestations",(function(){return rc})),r.d(a,"bridges",(function(){return nc})),r.d(a,"claims",(function(){return ac})),r.d(a,"crowdloan",(function(){return ic})),r.d(a,"cumulus",(function(){return oc})),r.d(a,"parachains",(function(){return pc})),r.d(a,"poll",(function(){return fc})),r.d(a,"purchase",(function(){return mc})),r.d(a,"xcm",(function(){return xc})),r.d(a,"contractsAbi",(function(){return Ec})),r.d(a,"scaleInfo",(function(){return jc})),r.d(a,"eth",(function(){return Nc})),r.d(a,"metadata",(function(){return Vc})),r.d(a,"rpc",(function(){return Gc})),r.d(a,"author",(function(){return Wc})),r.d(a,"chain",(function(){return Kc})),r.d(a,"childstate",(function(){return Yc})),r.d(a,"offchain",(function(){return Xc})),r.d(a,"payment",(function(){return Qc})),r.d(a,"state",(function(){return Zc}));var i={};r.r(i),r.d(i,"accountId",(function(){return fp})),r.d(i,"flags",(function(){return mp})),r.d(i,"idAndIndex",(function(){return gp})),r.d(i,"idToIndex",(function(){return yp})),r.d(i,"identity",(function(){return _p})),r.d(i,"hasIdentity",(function(){return wp})),r.d(i,"hasIdentityMulti",(function(){return xp})),r.d(i,"indexToId",(function(){return kp})),r.d(i,"indexes",(function(){return Cp})),r.d(i,"info",(function(){return Dp}));var s={};r.r(s),r.d(s,"account",(function(){return Jp})),r.d(s,"fees",(function(){return Qp})),r.d(s,"votingBalances",(function(){return Zp})),r.d(s,"all",(function(){return Hp})),r.d(s,"votingBalance",(function(){return $p}));var o={};r.r(o),r.d(o,"bounties",(function(){return rf}));var c={};r.r(c),r.d(c,"bestNumber",(function(){return nf})),r.d(c,"bestNumberFinalized",(function(){return af})),r.d(c,"bestNumberLag",(function(){return sf})),r.d(c,"getHeader",(function(){return uf})),r.d(c,"getBlock",(function(){return df})),r.d(c,"subscribeNewBlocks",(function(){return hf})),r.d(c,"subscribeNewHeads",(function(){return pf}));var u={};r.r(u),r.d(u,"fees",(function(){return ff}));var l={};r.r(l),r.d(l,"members",(function(){return yf})),r.d(l,"prime",(function(){return vf})),r.d(l,"hasProposals",(function(){return Pf})),r.d(l,"proposal",(function(){return Ef})),r.d(l,"proposalCount",(function(){return Af})),r.d(l,"proposalHashes",(function(){return Cf})),r.d(l,"proposals",(function(){return Tf})),r.d(l,"votes",(function(){return If})),r.d(l,"votesOf",(function(){return Rf}));var d={};r.r(d),r.d(d,"childKey",(function(){return Bf})),r.d(d,"contributions",(function(){return Hf})),r.d(d,"ownContributions",(function(){return Wf}));var h={};r.r(h),r.d(h,"dispatchQueue",(function(){return Zf})),r.d(h,"locks",(function(){return tm})),r.d(h,"nextExternal",(function(){return rm})),r.d(h,"preimage",(function(){return hm})),r.d(h,"preimages",(function(){return pm})),r.d(h,"proposals",(function(){return ym})),r.d(h,"referendumIds",(function(){return bm})),r.d(h,"referendums",(function(){return wm})),r.d(h,"referendumsActive",(function(){return xm})),r.d(h,"referendumsFinished",(function(){return km})),r.d(h,"_referendumVotes",(function(){return Am})),r.d(h,"_referendumsVotes",(function(){return Cm})),r.d(h,"_referendumInfo",(function(){return Tm})),r.d(h,"referendumsInfo",(function(){return Dm})),r.d(h,"sqrtElectorate",(function(){return jm}));var p={};r.r(p),r.d(p,"info",(function(){return Fm}));var f={};r.r(f),r.d(f,"receivedHeartbeats",(function(){return Lm}));var m={};r.r(m),r.d(m,"members",(function(){return Hm})),r.d(m,"prime",(function(){return Um})),r.d(m,"hasProposals",(function(){return zm})),r.d(m,"proposal",(function(){return Vm})),r.d(m,"proposalCount",(function(){return Gm})),r.d(m,"proposalHashes",(function(){return Wm})),r.d(m,"proposals",(function(){return Km}));var g={};r.r(g),r.d(g,"info",(function(){return $m})),r.d(g,"overview",(function(){return ng}));var y={};r.r(y),r.d(y,"eraLength",(function(){return ag})),r.d(y,"eraProgress",(function(){return ig})),r.d(y,"indexes",(function(){return og})),r.d(y,"info",(function(){return lg})),r.d(y,"progress",(function(){return pg})),r.d(y,"sessionProgress",(function(){return fg}));var b={};r.r(b),r.d(b,"candidates",(function(){return mg})),r.d(b,"info",(function(){return gg})),r.d(b,"member",(function(){return yg})),r.d(b,"_members",(function(){return bg})),r.d(b,"members",(function(){return vg}));var v={};r.r(v),r.d(v,"accounts",(function(){return Og})),r.d(v,"account",(function(){return Pg})),r.d(v,"currentPoints",(function(){return Eg})),r.d(v,"_eraExposure",(function(){return Tg})),r.d(v,"eraExposure",(function(){return Dg})),r.d(v,"_erasExposure",(function(){return jg})),r.d(v,"erasExposure",(function(){return Mg})),r.d(v,"erasHistoric",(function(){return Ig})),r.d(v,"_erasPoints",(function(){return Ng})),r.d(v,"erasPoints",(function(){return Fg})),r.d(v,"_eraPrefs",(function(){return qg})),r.d(v,"eraPrefs",(function(){return Lg})),r.d(v,"_erasPrefs",(function(){return Hg})),r.d(v,"erasPrefs",(function(){return Ug})),r.d(v,"_erasRewards",(function(){return zg})),r.d(v,"erasRewards",(function(){return Vg})),r.d(v,"_eraSlashes",(function(){return Gg})),r.d(v,"eraSlashes",(function(){return Wg})),r.d(v,"_erasSlashes",(function(){return Kg})),r.d(v,"erasSlashes",(function(){return Yg})),r.d(v,"electedInfo",(function(){return Jg})),r.d(v,"keys",(function(){return Qg})),r.d(v,"keysMulti",(function(){return Zg})),r.d(v,"overview",(function(){return ty})),r.d(v,"_ownExposures",(function(){return ry})),r.d(v,"ownExposure",(function(){return ny})),r.d(v,"ownExposures",(function(){return ay})),r.d(v,"_ownSlashes",(function(){return iy})),r.d(v,"ownSlash",(function(){return sy})),r.d(v,"ownSlashes",(function(){return oy})),r.d(v,"query",(function(){return uy})),r.d(v,"queryMulti",(function(){return ly})),r.d(v,"_stakerExposures",(function(){return dy})),r.d(v,"stakerExposures",(function(){return hy})),r.d(v,"stakerExposure",(function(){return py})),r.d(v,"_stakerPoints",(function(){return fy})),r.d(v,"stakerPoints",(function(){return my})),r.d(v,"_stakerPrefs",(function(){return gy})),r.d(v,"stakerPrefs",(function(){return yy})),r.d(v,"_stakerRewardsEras",(function(){return wy})),r.d(v,"_stakerRewards",(function(){return xy})),r.d(v,"stakerRewards",(function(){return ky})),r.d(v,"stakerRewardsMultiEras",(function(){return Sy})),r.d(v,"stakerRewardsMulti",(function(){return Oy})),r.d(v,"_stakerSlashes",(function(){return Py})),r.d(v,"stakerSlashes",(function(){return Ey})),r.d(v,"stashes",(function(){return Ay})),r.d(v,"nextElected",(function(){return Cy})),r.d(v,"validators",(function(){return Ty})),r.d(v,"waitingInfo",(function(){return jy}));var _={};r.r(_),r.d(_,"members",(function(){return My})),r.d(_,"prime",(function(){return Iy})),r.d(_,"hasProposals",(function(){return Ry})),r.d(_,"proposal",(function(){return By})),r.d(_,"proposalCount",(function(){return Ny})),r.d(_,"proposalHashes",(function(){return Fy})),r.d(_,"proposals",(function(){return qy}));var w={};r.r(w),r.d(w,"proposals",(function(){return Ly}));var x={};r.r(x),r.d(x,"events",(function(){return Hy})),r.d(x,"signingInfo",(function(){return Yy}));r(1231);var k=r(182),S=r(3),O=r(0),P=r(1),E=r(190),A=r.n(E),C=r(1303),T=r(76),D=r(25),j=r(1309);var M=r(31);const I=M.a.WebSocket;var R=r(73),B=r(188);function N(e,t){return Object(B.a)(t)?t.toString():t}function F(e,t){return JSON.stringify(e,N,t)}var q=r(186);var L=Object(P.a)("id");class H{constructor(){Object.defineProperty(this,L,{writable:!0,value:0})}decodeResponse(e){Object(D.a)(e,"Empty response object received"),Object(D.a)("2.0"===e.jsonrpc,"Invalid jsonrpc field in decoded object");const t=!Object(T.a)(e.params)&&!Object(T.a)(e.method);return Object(D.a)(Object(q.a)(e.id)||t&&(Object(q.a)(e.params.subscription)||Object(R.a)(e.params.subscription)),"Invalid id field in decoded object"),this._checkError(e.error),Object(D.a)(!Object(T.a)(e.result)||t,"No result found in JsonRpc response"),t?(this._checkError(e.params.error),e.params.result):e.result}encodeJson(e,t){return F(this.encodeObject(e,t))}encodeObject(e,t){return{id:++Object(O.a)(this,L)[L],jsonrpc:"2.0",method:e,params:t}}getId(){return Object(O.a)(this,L)[L]}_checkError(e){if(e){const{code:t,data:r,message:n}=e;throw new Error(`${t}: ${n}${function(e){if(Object(T.a)(e))return"";const t=": "+(Object(R.a)(e)?e.replace(/Error\("/g,"").replace(/\("/g,"(").replace(/"\)/g,")").replace(/\(/g,", ").replace(/\)/g,""):F(e));return t.length<=256?t:t.substr(0,255)+""}(r)}`)}}}var U="http://127.0.0.1:9933",z="ws://127.0.0.1:9944";const V={1e3:"Normal Closure",1001:"Going Away",1002:"Protocol Error",1003:"Unsupported Data",1004:"(For future)",1005:"No Status Received",1006:"Abnormal Closure",1007:"Invalid frame payload data",1008:"Policy Violation",1009:"Message too big",1010:"Missing Extension",1011:"Internal Error",1012:"Service Restart",1013:"Try Again Later",1014:"Bad Gateway",1015:"TLS Handshake"};function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const K={chain_finalisedHead:"chain_finalizedHead",chain_subscribeFinalisedHeads:"chain_subscribeFinalizedHeads",chain_unsubscribeFinalisedHeads:"chain_unsubscribeFinalizedHeads"},Y=Object(C.a)("api-ws");function X(e,t){Object.keys(e).forEach(r=>{t&&t(e[r]),delete e[r]})}var J=Object(P.a)("coder"),Q=Object(P.a)("endpoints"),Z=Object(P.a)("headers"),$=Object(P.a)("eventemitter"),ee=Object(P.a)("handlers"),te=Object(P.a)("isReadyPromise"),re=Object(P.a)("waitingForId"),ne=Object(P.a)("autoConnectMs"),ae=Object(P.a)("endpointIndex"),ie=Object(P.a)("isConnected"),se=Object(P.a)("subscriptions"),oe=Object(P.a)("websocket"),ce=Object(P.a)("emit"),ue=Object(P.a)("onSocketClose"),le=Object(P.a)("onSocketError"),de=Object(P.a)("onSocketMessage"),he=Object(P.a)("onSocketMessageResult"),pe=Object(P.a)("onSocketMessageSubscribe"),fe=Object(P.a)("onSocketOpen"),me=Object(P.a)("resubscribe");class ge{constructor(e=z,t=2500,r={}){Object.defineProperty(this,J,{writable:!0,value:void 0}),Object.defineProperty(this,Q,{writable:!0,value:void 0}),Object.defineProperty(this,Z,{writable:!0,value:void 0}),Object.defineProperty(this,$,{writable:!0,value:void 0}),Object.defineProperty(this,ee,{writable:!0,value:{}}),Object.defineProperty(this,te,{writable:!0,value:void 0}),Object.defineProperty(this,re,{writable:!0,value:{}}),Object.defineProperty(this,ne,{writable:!0,value:void 0}),Object.defineProperty(this,ae,{writable:!0,value:void 0}),Object.defineProperty(this,ie,{writable:!0,value:!1}),Object.defineProperty(this,se,{writable:!0,value:{}}),Object.defineProperty(this,oe,{writable:!0,value:void 0}),Object.defineProperty(this,ce,{writable:!0,value:(e,...t)=>{Object(O.a)(this,$)[$].emit(e,...t)}}),Object.defineProperty(this,ue,{writable:!0,value:e=>{const t=new Error(`disconnected from ${Object(O.a)(this,Q)[Q][Object(O.a)(this,ae)[ae]]}: ${e.code}:: ${e.reason||(r=e.code,r>=0&&r<=999?"(Unused)":V[r]||function(e){return e<=1999?"(For WebSocket standard)":e<=2999?"(For WebSocket extensions)":e<=3999?"(For libraries and frameworks)":e<=4999?"(For applications)":void 0}(r)||"(Unknown)")}`);var r;Object(O.a)(this,ne)[ne]>0&&Y.error(t.message),Object(O.a)(this,ie)[ie]=!1,Object(O.a)(this,oe)[oe]&&(Object(O.a)(this,oe)[oe].onclose=null,Object(O.a)(this,oe)[oe].onerror=null,Object(O.a)(this,oe)[oe].onmessage=null,Object(O.a)(this,oe)[oe].onopen=null,Object(O.a)(this,oe)[oe]=null),Object(O.a)(this,ce)[ce]("disconnected"),X(Object(O.a)(this,ee)[ee],e=>e.callback(t,void 0)),X(Object(O.a)(this,re)[re]),Object(O.a)(this,ne)[ne]>0&&setTimeout(()=>{this.connectWithRetry().catch(()=>{})},Object(O.a)(this,ne)[ne])}}),Object.defineProperty(this,le,{writable:!0,value:e=>{Y.debug(()=>["socket error",e]),Object(O.a)(this,ce)[ce]("error",e)}}),Object.defineProperty(this,de,{writable:!0,value:e=>{Y.debug(()=>["received",e.data]);const t=JSON.parse(e.data);return Object(T.a)(t.method)?Object(O.a)(this,he)[he](t):Object(O.a)(this,pe)[pe](t)}}),Object.defineProperty(this,he,{writable:!0,value:e=>{const t=Object(O.a)(this,ee)[ee][e.id];if(t){try{const{method:r,params:n,subscription:a}=t,i=Object(O.a)(this,J)[J].decodeResponse(e);if(t.callback(null,i),a){const e=`${a.type}::${i}`;Object(O.a)(this,se)[se][e]=W(W({},a),{},{method:r,params:n}),Object(O.a)(this,re)[re][e]&&Object(O.a)(this,pe)[pe](Object(O.a)(this,re)[re][e])}}catch(e){t.callback(e,void 0)}delete Object(O.a)(this,ee)[ee][e.id]}else Y.debug(()=>"Unable to find handler for id="+e.id)}}),Object.defineProperty(this,pe,{writable:!0,value:e=>{const t=`${K[e.method]||e.method||"invalid"}::${e.params.subscription}`,r=Object(O.a)(this,se)[se][t];if(!r)return Object(O.a)(this,re)[re][t]=e,void Y.debug(()=>"Unable to find handler for subscription="+t);delete Object(O.a)(this,re)[re][t];try{const t=Object(O.a)(this,J)[J].decodeResponse(e);r.callback(null,t)}catch(e){r.callback(e,void 0)}}}),Object.defineProperty(this,fe,{writable:!0,value:()=>(Object(D.a)(!Object(j.a)(Object(O.a)(this,oe)[oe]),"WebSocket cannot be null in onOpen"),Y.debug(()=>["connected to",Object(O.a)(this,Q)[Q][Object(O.a)(this,ae)[ae]]]),Object(O.a)(this,ie)[ie]=!0,Object(O.a)(this,ce)[ce]("connected"),Object(O.a)(this,me)[me](),!0)}),Object.defineProperty(this,me,{writable:!0,value:()=>{const e=Object(O.a)(this,se)[se];Object(O.a)(this,se)[se]={},Promise.all(Object.keys(e).map(async t=>{const{callback:r,method:n,params:a,type:i}=e[t];if(!i.startsWith("author_"))try{await this.subscribe(i,n,a,r)}catch(e){Y.error(e)}})).catch(Y.error)}});const n=Array.isArray(e)?e:[e];Object(D.a)(0!==n.length,"WsProvider requires at least one Endpoint"),n.forEach(e=>{Object(D.a)(/^(wss|ws):\/\//.test(e),()=>`Endpoint should start with 'ws://', received '${e}'`)}),Object(O.a)(this,$)[$]=new A.a,Object(O.a)(this,ne)[ne]=t||0,Object(O.a)(this,J)[J]=new H,Object(O.a)(this,ae)[ae]=-1,Object(O.a)(this,Q)[Q]=n,Object(O.a)(this,Z)[Z]=r,Object(O.a)(this,oe)[oe]=null,t>0&&this.connectWithRetry().catch(()=>{}),Object(O.a)(this,te)[te]=new Promise(e=>{Object(O.a)(this,$)[$].once("connected",()=>{e(this)})})}get hasSubscriptions(){return!0}get isConnected(){return Object(O.a)(this,ie)[ie]}get isReady(){return Object(O.a)(this,te)[te]}clone(){return new ge(Object(O.a)(this,Q)[Q])}async connect(){try{Object(O.a)(this,ae)[ae]=(Object(O.a)(this,ae)[ae]+1)%Object(O.a)(this,Q)[Q].length,Object(O.a)(this,oe)[oe]=void 0!==M.a.WebSocket&&(e=M.a.WebSocket,(t=I)&&(e===t||e.isPrototypeOf(t)))?new I(Object(O.a)(this,Q)[Q][Object(O.a)(this,ae)[ae]]):new I(Object(O.a)(this,Q)[Q][Object(O.a)(this,ae)[ae]],void 0,void 0,Object(O.a)(this,Z)[Z],void 0,{fragmentOutgoingMessages:!0,fragmentationThreshold:1048576,maxReceivedFrameSize:25165824,maxReceivedMessageSize:25165824}),Object(O.a)(this,oe)[oe].onclose=Object(O.a)(this,ue)[ue],Object(O.a)(this,oe)[oe].onerror=Object(O.a)(this,le)[le],Object(O.a)(this,oe)[oe].onmessage=Object(O.a)(this,de)[de],Object(O.a)(this,oe)[oe].onopen=Object(O.a)(this,fe)[fe]}catch(e){throw Y.error(e),Object(O.a)(this,ce)[ce]("error",e),e}var e,t}async connectWithRetry(){if(Object(O.a)(this,ne)[ne]>0)try{await this.connect()}catch(e){setTimeout(()=>{this.connectWithRetry().catch(()=>{})},Object(O.a)(this,ne)[ne])}}async disconnect(){Object(O.a)(this,ne)[ne]=0;try{Object(O.a)(this,oe)[oe]&&Object(O.a)(this,oe)[oe].close(1e3)}catch(e){throw Y.error(e),Object(O.a)(this,ce)[ce]("error",e),e}}on(e,t){return Object(O.a)(this,$)[$].on(e,t),()=>{Object(O.a)(this,$)[$].removeListener(e,t)}}send(e,t,r){return new Promise((n,a)=>{try{Object(D.a)(this.isConnected&&!Object(j.a)(Object(O.a)(this,oe)[oe]),"WebSocket is not connected");const i=Object(O.a)(this,J)[J].encodeJson(e,t),s=Object(O.a)(this,J)[J].getId(),o=(e,t)=>{e?a(e):n(t)};Y.debug(()=>["calling",e,i]),Object(O.a)(this,ee)[ee][s]={callback:o,method:e,params:t,subscription:r},Object(O.a)(this,oe)[oe].send(i)}catch(e){a(e)}})}subscribe(e,t,r,n){return this.send(t,r,{callback:n,type:e})}async unsubscribe(e,t,r){const n=`${e}::${r}`;if(Object(T.a)(Object(O.a)(this,se)[se][n]))return Y.debug(()=>"Unable to find active subscription="+n),!1;delete Object(O.a)(this,se)[se][n];try{return!(this.isConnected&&!Object(j.a)(Object(O.a)(this,oe)[oe]))||this.send(t,[r])}catch(e){return!1}}}const ye=M.a.fetch;function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const _e="HTTP Provider does not have subscriptions, use WebSockets instead",we=Object(C.a)("api-http");var xe=Object(P.a)("coder"),ke=Object(P.a)("endpoint"),Se=Object(P.a)("headers");class Oe{constructor(e=U,t={}){Object.defineProperty(this,xe,{writable:!0,value:void 0}),Object.defineProperty(this,ke,{writable:!0,value:void 0}),Object.defineProperty(this,Se,{writable:!0,value:void 0}),Object(D.a)(/^(https|http):\/\//.test(e),()=>`Endpoint should start with 'http://', received '${e}'`),Object(O.a)(this,xe)[xe]=new H,Object(O.a)(this,ke)[ke]=e,Object(O.a)(this,Se)[Se]=t}get hasSubscriptions(){return!1}clone(){return new Oe(Object(O.a)(this,ke)[ke],Object(O.a)(this,Se)[Se])}async connect(){}async disconnect(){}get isConnected(){return!0}on(e,t){return we.error("HTTP Provider does not have 'on' emitters, use WebSockets instead"),()=>{}}async send(e,t){const r=Object(O.a)(this,xe)[xe].encodeJson(e,t),n=await ye(Object(O.a)(this,ke)[ke],{body:r,headers:ve({Accept:"application/json","Content-Length":""+r.length,"Content-Type":"application/json"},Object(O.a)(this,Se)[Se]),method:"POST"});Object(D.a)(n.ok,()=>`[${n.status}]: ${n.statusText}`);const a=await n.json();return Object(O.a)(this,xe)[xe].decodeResponse(a)}async subscribe(e,t,r,n){throw we.error(_e),new Error(_e)}async unsubscribe(e,t,r){throw we.error(_e),new Error(_e)}}var Pe=r(96),Ee=function(e,t){return(Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Ee(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function Ce(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function o(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))}function Te(e,t){var r,n,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}Object.create;function De(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function je(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return s}function Me(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e}function Ie(e){return this instanceof Ie?(this.v=e,this):new Ie(e)}function Re(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){a[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||o(e,t)}))})}function o(e,t){try{(r=a[e](t)).value instanceof Ie?Promise.resolve(r.value.v).then(c,u):l(i[0][2],r)}catch(e){l(i[0][3],e)}var r}function c(e){o("next",e)}function u(e){o("throw",e)}function l(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}}function Be(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=De(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,a){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,a,(t=e[r](t)).done,t.value)}))}}}Object.create;function Ne(e){return"function"==typeof e}function Fe(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var qe=Fe((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Le(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var He=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}var t;return e.prototype.unsubscribe=function(){var e,t,r,n,a;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var s=De(i),o=s.next();!o.done;o=s.next()){o.value.remove(this)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else i.remove(this);var c=this.initialTeardown;if(Ne(c))try{c()}catch(e){a=e instanceof qe?e.errors:[e]}var u=this._teardowns;if(u){this._teardowns=null;try{for(var l=De(u),d=l.next();!d.done;d=l.next()){var h=d.value;try{Ve(h)}catch(e){a=null!=a?a:[],e instanceof qe?a=Me(Me([],je(a)),je(e.errors)):a.push(e)}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}if(a)throw new qe(a)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)Ve(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(r=this._teardowns)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Le(t,e)},e.prototype.remove=function(t){var r=this._teardowns;r&&Le(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),Ue=He.EMPTY;function ze(e){return e instanceof He||e&&"closed"in e&&Ne(e.remove)&&Ne(e.add)&&Ne(e.unsubscribe)}function Ve(e){Ne(e)?e():e.unsubscribe()}var Ge={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},We={setTimeout:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=We.delegate;return((null==r?void 0:r.setTimeout)||setTimeout).apply(void 0,Me([],je(e)))},clearTimeout:function(e){var t=We.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Ke(e){We.setTimeout((function(){var t=Ge.onUnhandledError;if(!t)throw e;t(e)}))}function Ye(){}var Xe=Je("C",void 0,void 0);function Je(e,t,r){return{kind:e,value:t,error:r}}var Qe=null;function Ze(e){if(Ge.useDeprecatedSynchronousErrorHandling){var t=!Qe;if(t&&(Qe={errorThrown:!1,error:null}),e(),t){var r=Qe,n=r.errorThrown,a=r.error;if(Qe=null,n)throw a}}else e()}function $e(e){Ge.useDeprecatedSynchronousErrorHandling&&Qe&&(Qe.errorThrown=!0,Qe.error=e)}var et=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,ze(t)&&t.add(r)):r.destination=it,r}return Ae(t,e),t.create=function(e,t,r){return new tt(e,t,r)},t.prototype.next=function(e){this.isStopped?at(function(e){return Je("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?at(Je("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?at(Xe,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(He),tt=function(e){function t(t,r,n){var a,i=e.call(this)||this;if(Ne(t))a=t;else if(t){var s;a=t.next,r=t.error,n=t.complete,i&&Ge.useDeprecatedNextContext?(s=Object.create(t)).unsubscribe=function(){return i.unsubscribe()}:s=t,a=null==a?void 0:a.bind(s),r=null==r?void 0:r.bind(s),n=null==n?void 0:n.bind(s)}return i.destination={next:a?rt(a,i):Ye,error:rt(null!=r?r:nt,i),complete:n?rt(n,i):Ye},i}return Ae(t,e),t}(et);function rt(e,t){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{e.apply(void 0,Me([],je(t)))}catch(e){Ge.useDeprecatedSynchronousErrorHandling?$e(e):Ke(e)}}}function nt(e){throw e}function at(e,t){var r=Ge.onStoppedNotification;r&&We.setTimeout((function(){return r(e,t)}))}var it={closed:!0,next:Ye,error:nt,complete:Ye},st="function"==typeof Symbol&&Symbol.observable||"@@observable";function ot(e){return e}function ct(e){return 0===e.length?ot:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var ut=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,a=this,i=(n=e)&&n instanceof et||function(e){return e&&Ne(e.next)&&Ne(e.error)&&Ne(e.complete)}(n)&&ze(n)?e:new tt(e,t,r);return Ze((function(){var e=a,t=e.operator,r=e.source;i.add(t?t.call(i,r):r?a._subscribe(i):a._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=lt(t))((function(t,n){var a;a=r.subscribe((function(t){try{e(t)}catch(e){n(e),null==a||a.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[st]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ct(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=lt(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function lt(e){var t;return null!==(t=null!=e?e:Ge.Promise)&&void 0!==t?t:Promise}var dt=new ut((function(e){return e.complete()}));var ht=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function pt(e){return Ne(null==e?void 0:e.then)}function ft(e){return Ne(e[st])}function mt(e){return Symbol.asyncIterator&&Ne(null==e?void 0:e[Symbol.asyncIterator])}function gt(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var yt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function bt(e){return Ne(null==e?void 0:e[yt])}function vt(e){return Re(this,arguments,(function(){var t,r,n;return Te(this,(function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Ie(t.read())];case 3:return r=a.sent(),n=r.value,r.done?[4,Ie(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Ie(n)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function _t(e){return Ne(null==e?void 0:e.getReader)}function wt(e){if(e instanceof ut)return e;if(null!=e){if(ft(e))return a=e,new ut((function(e){var t=a[st]();if(Ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(ht(e))return n=e,new ut((function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()}));if(pt(e))return r=e,new ut((function(e){r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Ke)}));if(mt(e))return xt(e);if(bt(e))return t=e,new ut((function(e){var r,n;try{for(var a=De(t),i=a.next();!i.done;i=a.next()){var s=i.value;if(e.next(s),e.closed)return}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}e.complete()}));if(_t(e))return xt(vt(e))}var t,r,n,a;throw gt(e)}function xt(e){return new ut((function(t){(function(e,t){var r,n,a,i;return Ce(this,void 0,void 0,(function(){var s,o;return Te(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=Be(e),c.label=1;case 1:return[4,r.next()];case 2:if((n=c.sent()).done)return[3,4];if(s=n.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=c.sent(),a={error:o},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}var kt=function(e){function t(t,r,n,a,i){var s=e.call(this,t)||this;return s.onFinalize=i,s._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return Ae(t,e),t.prototype.unsubscribe=function(){var t,r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))},t}(et);function St(e){return Ne(null==e?void 0:e.lift)}function Ot(e){return function(t){if(St(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Pt(e){return Ot((function(t,r){var n,a=null,i=!1;a=t.subscribe(new kt(r,void 0,void 0,(function(s){n=wt(e(s,Pt(e)(t))),a?(a.unsubscribe(),a=null,n.subscribe(r)):i=!0}))),i&&(a.unsubscribe(),a=null,n.subscribe(r))}))}function Et(e,t,r){var n=Ne(e)||t||r?{next:e,error:t,complete:r}:e;return n?Ot((function(e,t){var r;null===(r=n.subscribe)||void 0===r||r.call(n);var a=!0;e.subscribe(new kt(t,(function(e){var r;null===(r=n.next)||void 0===r||r.call(n,e),t.next(e)}),(function(){var e;a=!1,null===(e=n.complete)||void 0===e||e.call(n),t.complete()}),(function(e){var r;a=!1,null===(r=n.error)||void 0===r||r.call(n,e),t.error(e)}),(function(){var e,t;a&&(null===(e=n.unsubscribe)||void 0===e||e.call(n)),null===(t=n.finalize)||void 0===t||t.call(n)})))})):ot}var At=r(74),Ct=r(78),Tt=r(16);function Dt(e,t){return e.findMetaCall(Object(Tt.a)(t))}function jt(e,t){return e.findMetaError(Object(Tt.a)(t))}var Mt=Fe((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function It(e,t){var r="object"==typeof t;return new Promise((function(n,a){var i=new tt({next:function(e){n(e),i.unsubscribe()},error:a,complete:function(){r?n(t.defaultValue):a(new Mt)}});e.subscribe(i)}))}function Rt(e,t){return Ot((function(r,n){var a=null,i=0,s=!1,o=function(){return s&&!a&&n.complete()};r.subscribe(new kt(n,(function(r){null==a||a.unsubscribe();var s=0,c=i++;wt(e(r,c)).subscribe(a=new kt(n,(function(e){return n.next(t?t(r,e,c,s++):e)}),(function(){a=null,o()})))}),(function(){s=!0,o()})))}))}function Bt(e){return e[e.length-1]}function Nt(e){return Ne(Bt(e))?e.pop():void 0}function Ft(e){return(t=Bt(e))&&Ne(t.schedule)?e.pop():void 0;var t}function qt(e,t,r,n,a){void 0===n&&(n=0),void 0===a&&(a=!1);var i=t.schedule((function(){r(),a?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(i),!a)return i}function Lt(e,t){return void 0===t&&(t=0),Ot((function(r,n){r.subscribe(new kt(n,(function(r){return qt(n,e,(function(){return n.next(r)}),t)}),(function(){return qt(n,e,(function(){return n.complete()}),t)}),(function(r){return qt(n,e,(function(){return n.error(r)}),t)})))}))}function Ht(e,t){return void 0===t&&(t=0),Ot((function(r,n){n.add(e.schedule((function(){return r.subscribe(n)}),t))}))}function Ut(e,t){if(!e)throw new Error("Iterable cannot be null");return new ut((function(r){qt(r,t,(function(){var n=e[Symbol.asyncIterator]();qt(r,t,(function(){n.next().then((function(e){e.done?r.complete():r.next(e.value)}))}),0,!0)}))}))}function zt(e,t){if(null!=e){if(ft(e))return function(e,t){return wt(e).pipe(Ht(t),Lt(t))}(e,t);if(ht(e))return function(e,t){return new ut((function(r){var n=0;return t.schedule((function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())}))}))}(e,t);if(pt(e))return function(e,t){return wt(e).pipe(Ht(t),Lt(t))}(e,t);if(mt(e))return Ut(e,t);if(bt(e))return function(e,t){return new ut((function(r){var n;return qt(r,t,(function(){n=e[yt](),qt(r,t,(function(){var e,t,a;try{t=(e=n.next()).value,a=e.done}catch(e){return void r.error(e)}a?r.complete():r.next(t)}),0,!0)})),function(){return Ne(null==n?void 0:n.return)&&n.return()}}))}(e,t);if(_t(e))return function(e,t){return Ut(vt(e),t)}(e,t)}throw gt(e)}function Vt(e,t){return t?zt(e,t):wt(e)}function Gt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ft(e);return Vt(e,r)}function Wt(e,t){return Ot((function(r,n){var a=0;r.subscribe(new kt(n,(function(r){n.next(e.call(t,r,a++))})))}))}var Kt=r(644),Yt=r.n(Kt);function Xt(e){return Yt()(e.toString())}var Jt=r(61),Qt=r(111);const Zt=new RegExp("(\\d+?)(?=(\\d{3})+(?!\\d)|$)","g");function $t(e){const t=e[0].startsWith("-"),r=t?e.substr(1).match(Zt):e.match(Zt);return r?`${t?"-":""}${r.join(",")}`:e}const er=[{power:-24,text:"yocto",value:"y"},{power:-21,text:"zepto",value:"z"},{power:-18,text:"atto",value:"a"},{power:-15,text:"femto",value:"f"},{power:-12,text:"pico",value:"p"},{power:-9,text:"nano",value:"n"},{power:-6,text:"micro",value:""},{power:-3,text:"milli",value:"m"},{power:0,text:"Unit",value:"-"},{power:3,text:"Kilo",value:"k"},{power:6,text:"Mill",value:"M"},{power:9,text:"Bill",value:"B"},{power:12,text:"Tril",value:"T"},{power:15,text:"Peta",value:"P"},{power:18,text:"Exa",value:"E"},{power:21,text:"Zeta",value:"Z"},{power:24,text:"Yotta",value:"Y"}];function tr(e){for(let t=0;t<er.length;t++)if(er[t].value===e)return er[t];return er[8]}function rr(e,t,r){if(r)return tr(r);const n=7+Math.ceil((e.length-t)/3);return er[n]||er[n<0?0:er.length-1]}const nr=er[8].text;let ar=0,ir=nr;const sr=function(e,t=!0,r=ar){let n=Object(Jt.a)(e).toString();if(0===n.length||"0"===n)return"0";const a=n[0].startsWith("-");a&&(n=n.substr(1));const{decimals:i=r,forceUnit:s,withSi:o=!0,withSiFull:c=!1,withUnit:u=!0}=Object(Qt.a)(t)?{withSi:t}:t,l=rr(n,i,s),d=n.length-(i+l.power),h=n.substr(0,d),p=(`${new Array((d<0?0-d:0)+1).join("0")}${n}`.substr(d<0?0:d)+"0000").substr(0,4),f=o||c?"-"===l.value?u?" "+(Object(Qt.a)(u)?l.text:u):"":` ${c?l.text:l.value}${u?`${c?" ":""}${Object(Qt.a)(u)?er[8].text:u}`:""}`:"";return`${a?"-":""}${$t(h||"0")}.${p}${f}`};sr.calcSi=(e,t=ar)=>rr(e,t),sr.findSi=tr,sr.getDefaults=()=>({decimals:ar,unit:ir}),sr.getOptions=(e=ar)=>er.filter(({power:t})=>!(t<0)||e+t>=0),sr.setDefaults=({decimals:e,unit:t})=>{ar=Object(T.a)(e)?ar:Array.isArray(e)?e[0]:e,ir=Object(T.a)(t)?ir:Array.isArray(t)?t[0]:t,er[8].text=ir};var or=r(192),cr=r(113),ur=r(75),lr=Object(P.a)("neverError");class dr{constructor(e,t="DoNotConstruct"){throw this.registry=void 0,this.createdAtHash=void 0,Object.defineProperty(this,lr,{writable:!0,value:void 0}),this.registry=e,Object(O.a)(this,lr)[lr]=new Error("DoNotConstruct: Cannot construct unknown type "+t),Object(O.a)(this,lr)[lr]}static with(e){return class extends dr{constructor(t){super(t,e)}}}get encodedLength(){throw Object(O.a)(this,lr)[lr]}get hash(){throw Object(O.a)(this,lr)[lr]}get isEmpty(){throw Object(O.a)(this,lr)[lr]}eq(){throw Object(O.a)(this,lr)[lr]}toHex(){throw Object(O.a)(this,lr)[lr]}toHuman(){throw Object(O.a)(this,lr)[lr]}toJSON(){throw Object(O.a)(this,lr)[lr]}toRawType(){throw Object(O.a)(this,lr)[lr]}toString(){throw Object(O.a)(this,lr)[lr]}toU8a(){throw Object(O.a)(this,lr)[lr]}}var hr=r(635);function pr(e){return Object(At.a)(e.eq)}function fr(e,t){return e.size===t.length&&!t.some(t=>{return r=t,!Array.isArray(r)||2!==r.length||function(e,t){return Object(T.a)(e)||(pr(e)?!e.eq(t):e!==t)}(e.get(t[0]),t[1]);var r})}function mr(e,t){return Array.isArray(t)?fr(e,t):t instanceof Map?fr(e,[...t.entries()]):!!Object(hr.a)(t)&&fr(e,Object.entries(t))}class gr extends Map{constructor(e,t){const r=function(e){return Object.entries(e||{})}(t);super(r),this.registry=void 0,this.createdAtHash=void 0,this.registry=e,r.forEach(([e])=>{Object(T.a)(this[e])&&Object.defineProperty(this,e,{enumerable:!0,get:()=>this.get(e)})})}get encodedLength(){return 0}get hash(){return this.registry.hash(this.toU8a())}get isEmpty(){return 0===[...this.keys()].length}eq(e){return mr(this,e)}toHex(){throw new Error("Unimplemented")}toHuman(){return[...this.entries()].reduce((e,[t,r])=>(e[t]=Object(At.a)(r.toHuman)?r.toHuman():r,e),{})}toJSON(){return[...this.entries()].reduce((e,[t,r])=>(e[t]=r,e),{})}toRawType(){return"Json"}toString(){return F(this.toJSON())}toU8a(e){throw new Error("Unimplemented")}}var yr=r(55);const br=[9,10,13];function vr(e){return e.charCodeAt(0)}function _r(e){return e<127&&(e>=32||br.includes(e))}function wr(e){const t=Object(R.a)(e);return e?(t&&!Object(yr.a)(e)?e.toString().split("").map(vr):Object(Tt.a)(e)).every(_r):t}var xr=r(1302),kr=Object(P.a)("initialU8aLength");class Sr extends Uint8Array{constructor(e,t,r){super(Object(Tt.a)(t)),this.registry=void 0,this.createdAtHash=void 0,Object.defineProperty(this,kr,{writable:!0,value:void 0}),this.registry=e,Object(O.a)(this,kr)[kr]=r}get encodedLength(){return this.length}get initialU8aLength(){return Object(O.a)(this,kr)[kr]}get hash(){return this.registry.hash(this.toU8a())}get isAscii(){return wr(this)}get isEmpty(){return!this.length||Object(T.a)(this.find(e=>!!e))}get isUtf8(){return function(e){if(!e)return Object(R.a)(e);const t=Object(Tt.a)(e),r=t.length;let n=0;for(;n<r;)if(t[n]<=127)n+=1;else if(t[n]>=194&&t[n]<=223){if(!(n+1<r))return!1;if(t[n+1]<128||t[n+1]>191)return!1;n+=2}else if(224===t[n]){if(!(n+2<r))return!1;if(t[n+1]<160||t[n+1]>191)return!1;if(t[n+2]<128||t[n+2]>191)return!1;n+=3}else if(t[n]>=225&&t[n]<=236){if(!(n+2<r))return!1;if(t[n+1]<128||t[n+1]>191)return!1;if(t[n+2]<128||t[n+2]>191)return!1;n+=3}else if(237===t[n]){if(!(n+2<r))return!1;if(t[n+1]<128||t[n+1]>159)return!1;if(t[n+2]<128||t[n+2]>191)return!1;n+=3}else if(t[n]>=238&&t[n]<=239){if(!(n+2<r))return!1;if(t[n+1]<128||t[n+1]>191)return!1;if(t[n+2]<128||t[n+2]>191)return!1;n+=3}else if(240===t[n]){if(!(n+3<r))return!1;if(t[n+1]<144||t[n+1]>191)return!1;if(t[n+2]<128||t[n+2]>191)return!1;if(t[n+3]<128||t[n+3]>191)return!1;n+=4}else if(t[n]>=241&&t[n]<=243){if(!(n+3<r))return!1;if(t[n+1]<128||t[n+1]>191)return!1;if(t[n+2]<128||t[n+2]>191)return!1;if(t[n+3]<128||t[n+3]>191)return!1;n+=4}else{if(244!==t[n])return!1;if(!(n+3<r))return!1;if(t[n+1]<128||t[n+1]>143)return!1;if(t[n+2]<128||t[n+2]>191)return!1;if(t[n+3]<128||t[n+3]>191)return!1;n+=4}return!0}(this)}get length(){return super.length}bitLength(){return 8*this.length}eq(e){return e instanceof Uint8Array?this.length===e.length&&!this.some((t,r)=>t!==e[r]):this.eq(Object(Tt.a)(e))}slice(e,t){return Uint8Array.from(this).slice(e,t)}subarray(e,t){return Uint8Array.from(this).subarray(e,t)}toHex(){return Object(Ct.a)(this)}toHuman(){if(this.isAscii){const e=this.toUtf8();if(wr(e))return e}return this.toJSON()}toJSON(){return this.toHex()}toRawType(){return"Raw"}toString(){return this.toHex()}toU8a(e){return Uint8Array.from(this)}toUtf8(){return Object(D.a)(this.isUtf8,"The character sequence is not a valid Utf8 string"),Object(xr.a)(this)}}const Or={extrinsic:{},payload:{}},Pr={LimitParathreadCommits:Or,OnlyStakingAndClaims:Or,PrevalidateAttests:Or,RestrictFunctionality:Or,TransactionCallFilter:Or,ValidateDoubleVoteReports:Or},Er={DisallowSigned:Or},Ar={extrinsic:{era:"ExtrinsicEra"},payload:{blockHash:"Hash"}};function Cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Dr=Tr(Tr(Tr(Tr({},{ChargeTransactionPayment:{extrinsic:{tip:"Compact<Balance>"},payload:{}},CheckBlockGasLimit:Or,CheckEra:Ar,CheckGenesis:{extrinsic:{},payload:{genesisHash:"Hash"}},CheckMortality:Ar,CheckNonce:{extrinsic:{nonce:"Compact<Index>"},payload:{}},CheckSpecVersion:{extrinsic:{},payload:{specVersion:"u32"}},CheckTxVersion:{extrinsic:{},payload:{transactionVersion:"u32"}},CheckVersion:{extrinsic:{},payload:{specVersion:"u32"}},CheckWeight:Or,LockStakingStatus:Or,ValidateEquivocationReport:Or}),Pr),Er),{ChargeAssetTxPayment:{extrinsic:{tip:"Compact<Balance>",assetId:"Option<AssetId>"},payload:{}}}),jr=["CheckVersion","CheckGenesis","CheckEra","CheckNonce","CheckWeight","ChargeTransactionPayment","CheckBlockGasLimit"];function Mr(e,t,r={}){return e.map(e=>r[e]||Dr[e]).filter(e=>!!e).reduce((e,r)=>Tr(Tr({},e),r[t]),{})}var Ir=r(632),Rr=r(112);function Br(e,t,r,n){return`decodeU8a: failed at ${Object(Ct.a)(n)}${t?" on "+t:""}${r?": "+r:""}:: ${e.message}`}function Nr(e,t){try{return new t(e).toRawType()}catch{return""}}function Fr(e,t,r,n,a){const[i,s,o]=Object(At.a)(r)?[r,[],[]]:Array.isArray(r)?[null,r,[]]:[null,Object.values(r),Object.keys(r)];n=n||s.length;const c=new Array(n);let u=0;for(let r=0;r<n;r++)try{const n=new(i||s[r])(e,t.subarray(u));u+=n.initialU8aLength||n.encodedLength,c[r]=a?a(o[r],n):n}catch(n){throw new Error(Br(n,o[r],Nr(e,i||s[r]),t.subarray(u,u+8)))}return[c,u]}function qr(e,t){return Object(R.a)(t)?e.createClass(t):t}function Lr(e,t){const r=Object.entries(t),n={};for(let t=0;t<r.length;t++)n[r[t][0]]=qr(e,r[t][1]);return n}function Hr(e,t,r,n){let a;const i=Object.keys(t),s=Array.isArray(r),o=r instanceof Map;Object(D.a)(s||o||Object(hr.a)(r),()=>`Struct: Cannot decode value ${F(r)} (typeof ${typeof r}), expected an input object, map or array`),Object(D.a)(!s||r.length===i.length,()=>`Struct: Unable to map ${F(r)} array to object with known keys ${i.join(", ")}`);const c=new Array(i.length);for(let u=0;u<i.length;u++){const l=i[u],d=n.get(l)||l,h=t[l];let p;try{if(s)p=r[u];else if(o)p=d&&r.get(d);else if(p=d&&r[d],Object(T.a)(p)){if(Object(T.a)(a)){const e=Object.entries(r);a={};for(let t=0;t<e.length;t++)a[Xt(e[t][0])]=e[t][1]}p=d&&a[d]}c[u]=[l,p instanceof h?p:new h(e,p)]}catch(t){let r=h.name;try{r=new h(e).toRawType()}catch(e){}throw new Error(`Struct: failed on ${d}: ${r}:: ${t.message}`)}}return c}var Ur=Object(P.a)("initialU8aLength"),zr=Object(P.a)("jsonMap"),Vr=Object(P.a)("Types");class Gr extends Map{constructor(e,t,r,n=new Map){const[a,i]=function e(t,r,n,a){return Object(yr.a)(n)?e(t,r,Object(Ir.a)(n),a):Object(or.a)(n)?Fr(t,n,r,0,(e,t)=>[e,t]):n instanceof Gr?[n,0]:[Hr(t,r,n||{},a),0]}(e,Lr(e,t),r,n);super(a),this.registry=void 0,this.createdAtHash=void 0,Object.defineProperty(this,Ur,{writable:!0,value:void 0}),Object.defineProperty(this,zr,{writable:!0,value:void 0}),Object.defineProperty(this,Vr,{writable:!0,value:void 0}),this.registry=e,Object(O.a)(this,Ur)[Ur]=i,Object(O.a)(this,zr)[zr]=n,Object(O.a)(this,Vr)[Vr]=Lr(e,t)}static with(e,t){return class extends Gr{constructor(r,n){super(r,e,n,t),Object.keys(e).forEach(e=>{Object(T.a)(this[e])&&Object.defineProperty(this,e,{enumerable:!0,get:()=>this.get(e)})})}}}static typesToMap(e,t){const r=Object.entries(t),n={};for(let t=0;t<r.length;t++){const[a,i]=r[t];n[a]=e.getClassName(i)||new i(e).toRawType()}return n}get defKeys(){return Object.keys(Object(O.a)(this,Vr)[Vr])}get isEmpty(){const e=this.toArray();for(let t=0;t<e.length;t++)if(!e[t].isEmpty)return!1;return!0}get Type(){return Object.entries(Object(O.a)(this,Vr)[Vr]).reduce((e,[t,r])=>(e[t]=new r(this.registry).toRawType(),e),{})}get encodedLength(){const e=this.toArray();let t=0;for(let r=0;r<e.length;r++)t+=e[r].encodedLength;return t}get initialU8aLength(){return Object(O.a)(this,Ur)[Ur]}get hash(){return this.registry.hash(this.toU8a())}eq(e){return mr(this,e)}get(e){return super.get(e)}getAtIndex(e){return this.toArray()[e]}toArray(){return[...this.values()]}toHex(){return Object(Ct.a)(this.toU8a())}toHuman(e){const t={},r=[...this.keys()];for(let n=0;n<r.length;n++){const a=r[n],i=this.get(a);t[a]=i&&i.toHuman(e)}return t}toJSON(){const e={},t=[...this.keys()];for(let r=0;r<t.length;r++){const n=t[r],a=Object(O.a)(this,zr)[zr].get(n)||n,i=this.get(n);e[a]=i&&i.toJSON()}return e}toRawType(){return F(Gr.typesToMap(this.registry,Object(O.a)(this,Vr)[Vr]))}toString(){return F(this.toJSON())}toU8a(e){const t=[...this.entries()],r=[];for(let n=0;n<t.length;n++){const[a,i]=t[n];i&&Object(At.a)(i.toU8a)&&r.push(i.toU8a(!e||Object(Qt.a)(e)?e:e[a]))}return Object(Rr.a)(...r)}}var Wr=r(641);function Kr(e,t){return!!Array.isArray(t)&&(e.length===t.length&&Object(T.a)(e.find((e,r)=>pr(e)?!e.eq(t[r]):e!==t[r])))}var Yr=Object(P.a)("initialU8aLength");class Xr extends Array{constructor(e,t,r){super(t.length),this.registry=void 0,this.createdAtHash=void 0,Object.defineProperty(this,Yr,{writable:!0,value:void 0});for(let e=0;e<t.length;e++)this[e]=t[e];this.registry=e,Object(O.a)(this,Yr)[Yr]=r}get encodedLength(){let e=Object(Wr.a)(this.length).length;for(let t=0;t<this.length;t++)e+=this[t].encodedLength;return e}get initialU8aLength(){return Object(O.a)(this,Yr)[Yr]}get hash(){return this.registry.hash(this.toU8a())}get isEmpty(){return 0===this.length}get length(){return super.length}eq(e){return Kr(this,e)}toArray(){return Array.from(this)}toHex(){return Object(Ct.a)(this.toU8a())}toHuman(e){const t=new Array(this.length);for(let r=0;r<this.length;r++)t[r]=this[r].toHuman(e);return t}toJSON(){const e=new Array(this.length);for(let t=0;t<this.length;t++)e[t]=this[t].toJSON();return e}toString(){const e=new Array(this.length);for(let t=0;t<this.length;t++)e[t]=this[t].toString();return`[${e.join(", ")}]`}toU8a(e){const t=new Array(this.length);for(let r=0;r<this.length;r++)t[r]=this[r].toU8a(e);return e?Object(Rr.a)(...t):Object(Rr.a)(Object(Wr.a)(this.length),...t)}concat(e){return this.toArray().concat(e instanceof Xr?e.toArray():e)}filter(e,t){return this.toArray().filter(e,t)}map(e,t){return this.toArray().map(e,t)}includes(e){return this.some(t=>t.eq(e))}slice(e,t){return this.toArray().slice(e,t)}}var Jr=Object(P.a)("Types");class Qr extends Xr{constructor(e,t,r){const n=Array.isArray(t)?t.map(t=>qr(e,t)):Object(At.a)(t)||Object(R.a)(t)?[qr(e,t)]:Lr(e,t),[a,i]=function(e,t,r){return Object(or.a)(r)||Object(yr.a)(r)?Fr(e,Object(Tt.a)(r),t):[(Array.isArray(t)?t:Object.values(t)).map((t,n)=>{try{const a=null==r?void 0:r[n];return a instanceof t?a:new t(e,a)}catch(e){throw new Error(`Tuple: failed on ${n}:: ${e.message}`)}}),0]}(e,n,r);super(e,a,i),Object.defineProperty(this,Jr,{writable:!0,value:void 0}),Object(O.a)(this,Jr)[Jr]=n}static with(e){return class extends Qr{constructor(t,r){super(t,e,r)}}}get encodedLength(){let e=0;for(let t=0;t<this.length;t++)e+=this[t].encodedLength;return e}get Types(){return Array.isArray(Object(O.a)(this,Jr)[Jr])?Object(O.a)(this,Jr)[Jr].map(e=>new e(this.registry).toRawType()):Object.keys(Object(O.a)(this,Jr)[Jr])}toRawType(){return`(${(Array.isArray(Object(O.a)(this,Jr)[Jr])?Object(O.a)(this,Jr)[Jr]:Object.values(Object(O.a)(this,Jr)[Jr])).map(e=>this.registry.getClassName(e)||new e(this.registry).toRawType()).join(",")})`}toString(){return F(this.toJSON())}toU8a(e){const t=new Array(this.length);for(let r=0;r<this.length;r++)t[r]=this[r].toU8a(e);return Object(Rr.a)(...t)}}class Zr{constructor(e){this.registry=void 0,this.createdAtHash=void 0,this.registry=e}get encodedLength(){return 0}get hash(){throw new Error(".hash is not implemented on Null")}get isEmpty(){return!0}eq(e){return e instanceof Zr||Object(j.a)(e)}toHex(){return"0x"}toHuman(){return this.toJSON()}toJSON(){return null}toRawType(){return"Null"}toString(){return""}toU8a(e){return new Uint8Array}}function $r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tn=Object(P.a)("meta"),rn=Object(P.a)("method"),nn=Object(P.a)("section"),an=Object(P.a)("typeDef");class sn extends Qr{constructor(e,t,r,n="<unknown>",a="<unknown>"){const i=(null==r?void 0:r.fields)||[];super(e,i.map(({type:t})=>e.createLookupType(t)),t),Object.defineProperty(this,tn,{writable:!0,value:void 0}),Object.defineProperty(this,rn,{writable:!0,value:void 0}),Object.defineProperty(this,nn,{writable:!0,value:void 0}),Object.defineProperty(this,an,{writable:!0,value:void 0}),Object(O.a)(this,tn)[tn]=r,Object(O.a)(this,rn)[rn]=a,Object(O.a)(this,nn)[nn]=n,Object(O.a)(this,an)[an]=i.map(({type:t})=>e.lookup.getTypeDef(t))}get meta(){return Object(O.a)(this,tn)[tn]}get method(){return Object(O.a)(this,rn)[rn]}get section(){return Object(O.a)(this,nn)[nn]}get typeDef(){return Object(O.a)(this,an)[an]}}class on extends Gr{constructor(e,t){const{DataType:r,value:n}=function(e,t){if(!t||!t.length)return{DataType:Zr};const r=t.subarray(0,2);return{DataType:e.findMetaEvent(r),value:{data:t.subarray(2),index:r}}}(e,t);super(e,{index:"EventId",data:r},n)}get data(){return this.get("data")}get index(){return this.get("index")}get meta(){return this.data.meta}get method(){return this.data.method}get section(){return this.data.section}get typeDef(){return this.data.typeDef}toHuman(e){return en(en({method:this.method,section:this.section},e?{docs:this.meta.docs.map(e=>e.toString())}:{}),super.toHuman(e))}}var cn=r(8),un=r.n(cn),ln=r(1305);function dn(e){const t=Object(Tt.a)(e),r=3&t[0];if(0===r)return[1,new un.a(t[0]).ishrn(2)];if(1===r)return[2,Object(ln.a)(t.slice(0,2),!0).ishrn(2)];if(2===r)return[4,Object(ln.a)(t.slice(0,4),!0).ishrn(2)];const n=1+new un.a(t[0]).ishrn(2).iadd(cr.b).toNumber();return[n,Object(ln.a)(t.subarray(1,n),!0)]}var hn=r(1308),pn=Object(P.a)("initialU8aLength");class fn{constructor(e,t,r){this.registry=void 0,this.createdAtHash=void 0,Object.defineProperty(this,pn,{writable:!0,value:void 0}),this._raw=void 0,this.registry=e,this._raw=t,Object(O.a)(this,pn)[pn]=r}get encodedLength(){return this.toU8a().length}get initialU8aLength(){return Object(O.a)(this,pn)[pn]}get hash(){return this.registry.hash(this.toU8a())}get isEmpty(){return this._raw.isEmpty}eq(e){return this._raw.eq(e)}toHex(e){return this._raw.toHex(e)}toHuman(e){return this._raw.toHuman(e)}toJSON(){return this._raw.toJSON()}toString(){return this._raw.toString()}toU8a(e){return this._raw.toU8a(e)}toRawType(){return"Base"}}const mn=new Uint8Array,gn=new Uint8Array([0]);function yn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const bn=["ExtrinsicUnknown","ExtrinsicUnknown","ExtrinsicUnknown","ExtrinsicUnknown","ExtrinsicV4"];class vn extends fn{get args(){return this.method.args}get argsDef(){return this.method.argsDef}get callIndex(){return this.method.callIndex}get data(){return this.method.data}get era(){return this._raw.signature.era}get encodedLength(){return this.toU8a().length}get isSigned(){return this._raw.signature.isSigned}get length(){return this.toU8a(!0).length}get meta(){return this.method.meta}get method(){return this._raw.method}get nonce(){return this._raw.signature.nonce}get signature(){return this._raw.signature.signature}get signer(){return this._raw.signature.signer}get tip(){return this._raw.signature.tip}get type(){return this._raw.version}get version(){return this.type|(this.isSigned?128:0)}is(e){return this.method.is(e)}}class _n extends vn{constructor(e,t,{version:r}={}){super(e,_n._decodeExtrinsic(e,t,r))}static _newFromValue(e,t,r){if(t instanceof _n)return t._raw;const n=128==(128&r),a=bn[127&r]||bn[0];return e.createType(a,t,{isSigned:n,version:r})}static _decodeExtrinsic(e,t,r=4){return Object(or.a)(t)||Array.isArray(t)||Object(yr.a)(t)?_n._decodeU8a(e,Object(Tt.a)(t),r):t instanceof e.createClass("Call")?_n._newFromValue(e,{method:t},r):_n._newFromValue(e,t,r)}static _decodeU8a(e,t,r){if(!t.length)return _n._newFromValue(e,new Uint8Array,r);const[n,a]=dn(t),i=n+a.toNumber();Object(D.a)(i<=t.length,()=>`Extrinsic: length less than remainder, expected at least ${i}, found ${t.length}`);const s=t.subarray(n,i);return _n._newFromValue(e,s.subarray(1),s[0])}addSignature(e,t,r){return this._raw.addSignature(e,t,r),this}sign(e,t){return this._raw.sign(e,t),this}signFake(e,t){return this._raw.signFake(e,t),this}toHex(e){return Object(Ct.a)(this.toU8a(e))}toHuman(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isSigned:this.isSigned,method:this.method.toHuman(e)},this.isSigned?{era:this.era.toHuman(e),nonce:this.nonce.toHuman(e),signature:this.signature.toHex(),signer:this.signer.toHuman(e),tip:this.tip.toHuman(e)}:{})}toJSON(){return this.toHex()}toRawType(){return"Extrinsic"}toU8a(e){const t=Object(Rr.a)(new Uint8Array([this.version]),this._raw.toU8a());return e?t:Object(hn.a)(t)}}function wn(e){return $t(Object(Jt.a)(e).toString())}function xn(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function kn(e,t){if(Array.isArray(t))return{def:t.reduce((e,t,r)=>(e[t]={Type:Zr,index:r},e),{}),isBasic:!0,isIndexed:!1};let r,n,a;return!function(e){const t=Object.values(e);return!t.some(e=>Object(q.a)(e))||(Object(D.a)(t.every(e=>Object(q.a)(e)&&e>=0&&e<=255),"Invalid number-indexed enum definition"),!1)}(t)?(a=Object.entries(t).reduce((e,[t,r])=>(e[t]={Type:Zr,index:r},e),{}),r=!0,n=!0):(a=Object.entries(Lr(e,t)).reduce((e,[t,r],n)=>(e[t]={Type:r,index:n},e),{}),r=!Object.values(a).some(({Type:e})=>e!==Zr),n=!1),{def:a,isBasic:r,isIndexed:n}}function Sn(e,t,r=0,n){const a=Object.values(t).find(e=>e.index===r);return Object(D.a)(!Object(T.a)(a),()=>`Unable to create Enum via index ${r}, in ${Object.keys(t).join(", ")}`),{index:r,value:n instanceof a.Type?n:new a.Type(e,n)}}function On(e,t,r,n){const a=Object.keys(t).map(e=>e.toLowerCase()),i=r.toLowerCase(),s=a.indexOf(i);Object(D.a)(-1!==s,()=>`Cannot map Enum JSON, unable to find '${r}' in ${a.join(", ")}`);try{return Sn(e,t,Object.values(t)[s].index,n)}catch(e){throw new Error(`Enum(${r}):: ${e.message}`)}}function Pn(e,t,r){if(Object(or.a)(r)){if(r.length)return Sn(e,t,r[0],r.subarray(1))}else{if(Object(q.a)(r))return Sn(e,t,r);if(Object(R.a)(r))return function(e,t,r){return Object(yr.a)(r)?Pn(e,t,Object(Ir.a)(r)):On(e,t,r)}(e,t,r.toString());if(Object(hr.a)(r)){const n=Object.keys(r)[0];return On(e,t,n,r[n])}}return Sn(e,t,Object.values(t)[0].index)}var En=Object(P.a)("def"),An=Object(P.a)("entryIndex"),Cn=Object(P.a)("initialU8aLength"),Tn=Object(P.a)("indexes"),Dn=Object(P.a)("isBasic"),jn=Object(P.a)("isIndexed"),Mn=Object(P.a)("raw");class In{constructor(e,t,r,n){this.registry=void 0,this.createdAtHash=void 0,Object.defineProperty(this,En,{writable:!0,value:void 0}),Object.defineProperty(this,An,{writable:!0,value:void 0}),Object.defineProperty(this,Cn,{writable:!0,value:void 0}),Object.defineProperty(this,Tn,{writable:!0,value:void 0}),Object.defineProperty(this,Dn,{writable:!0,value:void 0}),Object.defineProperty(this,jn,{writable:!0,value:void 0}),Object.defineProperty(this,Mn,{writable:!0,value:void 0});const a=kn(e,t),i=function(e,t,r,n){return Object(q.a)(n)?Sn(e,t,n,r):r instanceof In?Sn(e,t,r.index,r.value):Pn(e,t,r)}(e,a.def,r,n);this.registry=e,Object(O.a)(this,En)[En]=a.def,Object(O.a)(this,Dn)[Dn]=a.isBasic,Object(O.a)(this,jn)[jn]=a.isIndexed,Object(O.a)(this,Tn)[Tn]=Object.values(a.def).map(({index:e})=>e),Object(O.a)(this,An)[An]=Object(O.a)(this,Tn)[Tn].indexOf(i.index)||0,Object(O.a)(this,Mn)[Mn]=i.value,Object(O.a)(this,Mn)[Mn].initialU8aLength&&(Object(O.a)(this,Cn)[Cn]=1+Object(O.a)(this,Mn)[Mn].initialU8aLength)}static with(e){return class extends In{constructor(t,r,n){super(t,e,r,n),Object.keys(Object(O.a)(this,En)[En]).forEach(e=>{const t=xn(Xt(e.replace(" ","_"))),r="as"+t,n="is"+t;Object(T.a)(this[n])&&Object.defineProperty(this,n,{enumerable:!0,get:()=>this.type===e}),Object(T.a)(this[r])&&Object.defineProperty(this,r,{enumerable:!0,get:()=>(Object(D.a)(this[n],()=>`Cannot convert '${this.type}' via ${r}`),this.value)})})}}}get encodedLength(){return 1+Object(O.a)(this,Mn)[Mn].encodedLength}get initialU8aLength(){return Object(O.a)(this,Cn)[Cn]}get hash(){return this.registry.hash(this.toU8a())}get index(){return Object(O.a)(this,Tn)[Tn][Object(O.a)(this,An)[An]]}get isBasic(){return Object(O.a)(this,Dn)[Dn]}get isEmpty(){return Object(O.a)(this,Mn)[Mn].isEmpty}get isNone(){return Object(O.a)(this,Mn)[Mn]instanceof Zr}get isNull(){return this.isNone}get defIndexes(){return Object(O.a)(this,Tn)[Tn]}get defKeys(){return Object.keys(Object(O.a)(this,En)[En])}get type(){return this.defKeys[Object(O.a)(this,An)[An]]}get value(){return Object(O.a)(this,Mn)[Mn]}eq(e){return Object(q.a)(e)?this.toNumber()===e:Object(O.a)(this,Dn)[Dn]&&Object(R.a)(e)?this.type===e:Object(or.a)(e)?!this.toU8a().some((t,r)=>t!==e[r]):Object(yr.a)(e)?this.toHex()===e:e instanceof In?this.index===e.index&&this.value.eq(e.value):Object(hr.a)(e)?this.value.eq(e[this.type]):this.value.eq(e)}toHex(){return Object(Ct.a)(this.toU8a())}toHuman(e){return Object(O.a)(this,Dn)[Dn]||this.isNone?this.type:{[this.type]:Object(O.a)(this,Mn)[Mn].toHuman(e)}}toJSON(){return Object(O.a)(this,Dn)[Dn]?this.type:{[Xt(this.type)]:Object(O.a)(this,Mn)[Mn].toJSON()}}toNumber(){return this.index}_toRawStruct(){if(Object(O.a)(this,Dn)[Dn])return Object(O.a)(this,jn)[jn]?this.defKeys.reduce((e,t,r)=>(e[t]=Object(O.a)(this,Tn)[Tn][r],e),{}):this.defKeys;const e=Object.entries(Object(O.a)(this,En)[En]).reduce((e,[t,{Type:r}])=>(e[t]=r,e),{});return Gr.typesToMap(this.registry,e)}toRawType(){return F({_enum:this._toRawStruct()})}toString(){return this.isNull?this.type:F(this.toJSON())}toU8a(e){return Object(Rr.a)(new Uint8Array(e?[]:[this.index]),Object(O.a)(this,Mn)[Mn].toU8a(e))}}var Rn=r(187),Bn=r(79);function Nn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fn(e,t={bitLength:-1,isLe:!1,isNegative:!1},r){if(!e)return"0x00";const n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nn(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isLe:!1,isNegative:!1},Object(q.a)(t)?{bitLength:t,isLe:r}:t);return Object(Ct.a)(Object(Bn.a)(e,n))}const qn=new un.a(1e4),Ln=[["Perquintill",cr.g],["Perbill",cr.a],["Permill",cr.e],["Percent",cr.c]];function Hn(e,t,r){return Object(yr.a)(e,-1,!0)?Object(Rn.a)(e,{isLe:!1,isNegative:r}).toString():Object(or.a)(e)?function(e,t,r){if(!e.length)return"0";try{return Object(ln.a)(e.subarray(0,t/8),{isLe:!0,isNegative:r}).toString()}catch(t){throw new Error(`AbstractInt: failed on ${F(e)}:: ${t.message}`)}}(e,t,r):Object(R.a)(e)?new un.a(e.toString(),10).toString():Object(Jt.a)(e).toString()}var Un=Object(P.a)("bitLength"),zn=Object(P.a)("byteLength"),Vn=Object(P.a)("isSigned");class Gn extends un.a{constructor(e,t=0,r=64,n=!1){super(Hn(t,r,n)),this.registry=void 0,this.createdAtHash=void 0,Object.defineProperty(this,Un,{writable:!0,value:void 0}),Object.defineProperty(this,zn,{writable:!0,value:void 0}),Object.defineProperty(this,Vn,{writable:!0,value:void 0}),this.registry=e,Object(O.a)(this,Un)[Un]=r,Object(O.a)(this,zn)[zn]=Object(O.a)(this,Un)[Un]/8,Object(O.a)(this,Vn)[Vn]=n;const a=this.gte(cr.i),i=r-(n&&a?1:0);Object(D.a)(n||a,()=>this.toRawType()+": Negative number passed to unsigned type"),Object(D.a)(super.bitLength()<=i,()=>`${this.toRawType()}: Input too large. Found input with ${super.bitLength()} bits, expected ${i}`)}get encodedLength(){return Object(O.a)(this,zn)[zn]}get hash(){return this.registry.hash(this.toU8a())}get isEmpty(){return this.isZero()}get isUnsigned(){return!Object(O.a)(this,Vn)[Vn]}bitLength(){return Object(O.a)(this,Un)[Un]}eq(e){return super.eq(Object(yr.a)(e)?Object(Rn.a)(e.toString(),{isLe:!1,isNegative:Object(O.a)(this,Vn)[Vn]}):Object(Jt.a)(e))}isMax(){return this.toU8a().filter(e=>255===e).length===Object(O.a)(this,Un)[Un]/8}toBigInt(){return BigInt(this.toString())}toBn(){return this}toHex(e=!1){return Fn(this,{bitLength:this.bitLength(),isLe:e,isNegative:!this.isUnsigned})}toHuman(e){const t=this.toRawType();if("Balance"===t)return this.isMax()?"everything":sr(this,{decimals:this.registry.chainDecimals[0],withSi:!0,withUnit:this.registry.chainTokens[0]});const[,r]=Ln.find(([e])=>e===t)||[];return r?function(e,t){return(e.mul(qn).div(t).toNumber()/100).toFixed(2)+"%"}(this,r):wn(this)}toJSON(e=!1){return e||super.bitLength()>52?this.toHex():this.toNumber()}toRawType(){return this instanceof this.registry.createClass("Balance")?"Balance":`${this.isUnsigned?"u":"i"}${this.bitLength()}`}toString(e){return super.toString(e)}toU8a(e){return Object(Bn.a)(this,{bitLength:this.bitLength(),isLe:!0,isNegative:!this.isUnsigned})}}class Wn extends Gn{static with(e,t){return class extends Wn{constructor(t,r){super(t,r,e)}toRawType(){return t||super.toRawType()}}}}class Kn extends(Wn.with(64)){constructor(...e){super(...e),this.__UIntType="u64"}}class Yn extends Sr{constructor(e,t){super(e,gn)}}class Xn extends Qr{constructor(e,t){super(e,{period:Kn,phase:Kn},Xn._decodeMortalEra(e,t))}static _decodeMortalEra(e,t){if(!t)return[new Kn(e),new Kn(e)];if(Object(or.a)(t)||Object(yr.a)(t)||Array.isArray(t))return Xn._decodeMortalU8a(e,Object(Tt.a)(t));if(Object(hr.a)(t))return Xn._decodeMortalObject(e,t);throw new Error("Invalid data passed to Mortal era")}static _decodeMortalObject(e,t){const{current:r,period:n}=t;let a=Math.pow(2,Math.ceil(Math.log2(n)));a=Math.min(Math.max(a,4),65536);const i=r%a,s=Math.max(a>>12,1),o=i/s*s;return[new Kn(e,a),new Kn(e,o)]}static _decodeMortalU8a(e,t){if(0===t.length)return[new Kn(e),new Kn(e)];const r=Object(ln.a)(t.subarray(0,1)).toNumber()+(Object(ln.a)(t.subarray(1,2)).toNumber()<<8),n=2<<r%16,a=(r>>4)*Math.max(n>>12,1);return Object(D.a)(n>=4&&a<n,"Invalid data passed to Mortal era"),[new Kn(e,n),new Kn(e,a)]}get encodedLength(){return 2}get period(){return this[0]}get phase(){return this[1]}toHuman(){return{period:wn(this.period),phase:wn(this.phase)}}toJSON(){return this.toHex()}toU8a(e){const t=this.period.toNumber(),r=this.phase.toNumber(),n=Math.max(t>>12,1),a=function(e){const t=e.toString(2);let r=0;for(;"0"===t[t.length-1-r];)r++;return r}(t),i=Math.min(15,Math.max(1,a-1))+(r/n<<4);return new Uint8Array([255&i,i>>8])}birth(e){return Math.floor((Math.max(Object(Jt.a)(e).toNumber(),this.phase.toNumber())-this.phase.toNumber())/this.period.toNumber())*this.period.toNumber()+this.phase.toNumber()}death(e){return this.birth(e)+this.period.toNumber()}}class Jn extends In{constructor(e,t){super(e,{ImmortalEra:Yn,MortalEra:Xn},Jn._decodeExtrinsicEra(t))}static _decodeExtrinsicEra(e=new Uint8Array){if(!e)return new Uint8Array([0]);if(e instanceof Jn)return Jn._decodeExtrinsicEra(e.toU8a());if(Object(yr.a)(e))return Jn._decodeExtrinsicEra(Object(Ir.a)(e));if(Object(or.a)(e))return e.length&&0!==e[0]?new Uint8Array([1,e[0],e[1]]):new Uint8Array([0]);if(Object(hr.a)(e)){const t=Object.entries(e).map(([e,t])=>[e.toLowerCase(),t]),r=t.find(([e])=>"mortalera"===e.toLowerCase()),n=t.find(([e])=>"immortalera"===e.toLowerCase());return r?{MortalEra:r[1]}:n?{ImmortalEra:n[1]}:{MortalEra:e}}throw new Error("Invalid data passed to Era")}get encodedLength(){return this.isImmortalEra?this.asImmortalEra.encodedLength:this.asMortalEra.encodedLength}get asImmortalEra(){return Object(D.a)(this.isImmortalEra,()=>`Cannot convert '${this.type}' via asImmortalEra`),this.value}get asMortalEra(){return Object(D.a)(this.isMortalEra,()=>`Cannot convert '${this.type}' via asMortalEra`),this.value}get isImmortalEra(){return 0===this.index}get isMortalEra(){return this.index>0}toU8a(e){return this.isMortalEra?this.asMortalEra.toU8a(e):this.asImmortalEra.toU8a(e)}}const Qn=["ExtrinsicPayloadUnknown","ExtrinsicPayloadUnknown","ExtrinsicPayloadUnknown","ExtrinsicPayloadUnknown","ExtrinsicPayloadV4"];class Zn extends fn{constructor(e,t,{version:r}={}){super(e,Zn.decodeExtrinsicPayload(e,t,r))}static decodeExtrinsicPayload(e,t,r=4){return t instanceof Zn?t._raw:e.createType(Qn[r]||Qn[0],t,{version:r})}get blockHash(){return this._raw.blockHash}get era(){return this._raw.era}get genesisHash(){return this._raw.genesisHash||this.registry.createType("Hash")}get method(){return this._raw.method}get nonce(){return this._raw.nonce}get specVersion(){return this._raw.specVersion||this.registry.createType("u32")}get tip(){return this._raw.tip||this.registry.createType("Compact<Balance>")}get transactionVersion(){return this._raw.transactionVersion||this.registry.createType("u32")}eq(e){return this._raw.eq(e)}sign(e){const t=this._raw.sign(e);return{signature:Object(Ct.a)(t)}}toHuman(e){return this._raw.toHuman(e)}toJSON(){return this.toHex()}toString(){return this.toHex()}toU8a(e){return super.toU8a(!!e&&{method:!0})}}class $n extends Gr{constructor(e,t,{version:r=0}={}){throw super(e,{}),new Error("Unsupported extrinsic payload version "+r)}}class ea extends Gr{constructor(e,t,{isSigned:r=!1,version:n=0}={}){throw super(e,{}),new Error(`Unsupported ${r?"":"un"}signed extrinsic version ${127&n}`)}}function ta(e,t,r){if(Object(j.a)(r)||Object(T.a)(r)||r instanceof Zr||"0x"===r)return new Zr(e);const n=qr(e,t);return r instanceof ia?ta(e,n,r.value):r instanceof n?r:Object(or.a)(r)?function(e,t,r){return r.length&&0!==r[0]?new t(e,r.subarray(1)):new Zr(e)}(e,n,r):new n(e,r)}var ra=Object(P.a)("Type"),na=Object(P.a)("initialU8aLength"),aa=Object(P.a)("raw");class ia{constructor(e,t,r){this.registry=void 0,this.createdAtHash=void 0,Object.defineProperty(this,ra,{writable:!0,value:void 0}),Object.defineProperty(this,na,{writable:!0,value:void 0}),Object.defineProperty(this,aa,{writable:!0,value:void 0}),this.registry=e,Object(O.a)(this,ra)[ra]=qr(e,t),Object(O.a)(this,aa)[aa]=ta(e,t,r),Object(O.a)(this,aa)[aa].initialU8aLength&&(Object(O.a)(this,na)[na]=1+Object(O.a)(this,aa)[aa].initialU8aLength)}static with(e){return class extends ia{constructor(t,r){super(t,e,r)}}}get encodedLength(){return 1+Object(O.a)(this,aa)[aa].encodedLength}get initialU8aLength(){return Object(O.a)(this,na)[na]}get hash(){return this.registry.hash(this.toU8a())}get isEmpty(){return this.isNone}get isNone(){return Object(O.a)(this,aa)[aa]instanceof Zr}get isSome(){return!this.isNone}get value(){return Object(O.a)(this,aa)[aa]}eq(e){return e instanceof ia?this.isSome===e.isSome&&this.value.eq(e.value):this.value.eq(e)}toHex(){return this.isNone?"0x":Object(Ct.a)(this.toU8a().subarray(1))}toHuman(e){return Object(O.a)(this,aa)[aa].toHuman(e)}toJSON(){return Object(O.a)(this,aa)[aa].toJSON()}toRawType(e){const t=this.registry.getClassName(Object(O.a)(this,ra)[ra])||new(Object(O.a)(this,ra)[ra])(this.registry).toRawType();return e?t:`Option<${t}>`}toString(){return Object(O.a)(this,aa)[aa].toString()}toU8a(e){if(e)return Object(O.a)(this,aa)[aa].toU8a(!0);const t=new Uint8Array(this.encodedLength);return this.isSome&&(t.set([1]),t.set(Object(O.a)(this,aa)[aa].toU8a(),1)),t}unwrap(){return Object(D.a)(this.isSome,"Option: unwrapping a None value"),Object(O.a)(this,aa)[aa]}unwrapOr(e){return this.isSome?this.unwrap():e}unwrapOrDefault(){return this.isSome?this.unwrap():new(Object(O.a)(this,ra)[ra])(this.registry)}}function sa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sa(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ca={address:"Address",blockHash:"Hash",blockNumber:"BlockNumber",era:"ExtrinsicEra",genesisHash:"Hash",method:"Call",nonce:"Compact<Index>",runtimeVersion:"RuntimeVersion",signedExtensions:"Vec<Text>",tip:"Compact<Balance>",version:"u8"};class ua extends Gr{constructor(e,t){const r=oa(oa({},e.getSignedExtensionTypes()),e.getSignedExtensionExtra());super(e,oa(oa({},r),ca),t),this._extraTypes=void 0,this._extraTypes=Object.entries(r).reduce((e,[t,r])=>(ca[t]||(e[t]=r),e),{})}get address(){return this.get("address")}get blockHash(){return this.get("blockHash")}get blockNumber(){return this.get("blockNumber")}get era(){return this.get("era")}get genesisHash(){return this.get("genesisHash")}get method(){return this.get("method")}get nonce(){return this.get("nonce")}get runtimeVersion(){return this.get("runtimeVersion")}get signedExtensions(){return this.get("signedExtensions")}get tip(){return this.get("tip")}get version(){return this.get("version")}toPayload(){return oa(oa({},Object.keys(this._extraTypes).reduce((e,t)=>{const r=this.get(t);return r instanceof ia&&!r.isSome||(e[t]=r.toHex()),e},{})),{},{address:this.address.toString(),blockHash:this.blockHash.toHex(),blockNumber:this.blockNumber.toHex(),era:this.era.toHex(),genesisHash:this.genesisHash.toHex(),method:this.method.toHex(),nonce:this.nonce.toHex(),signedExtensions:this.signedExtensions.map(e=>e.toString()),specVersion:this.runtimeVersion.specVersion.toHex(),tip:this.tip.toHex(),transactionVersion:this.runtimeVersion.transactionVersion.toHex(),version:this.version.toNumber()})}toRaw(){const e=this.toPayload(),t=Object(Ct.a)(this.registry.createType("ExtrinsicPayload",e,{version:e.version}).toU8a({method:!0}));return{address:e.address,data:t,type:"payload"}}}class la extends Gr{constructor(e,t,{isSigned:r}={}){super(e,{signature:"ExtrinsicSignatureV4",method:"Call"},la.decodeExtrinsic(e,t,r))}static decodeExtrinsic(e,t,r=!1){if(t instanceof la)return t;if(t instanceof e.createClass("Call"))return{method:t};if(Object(or.a)(t)){const n=e.createType("ExtrinsicSignatureV4",t,{isSigned:r});return{method:e.createType("Call",t.subarray(n.encodedLength)),signature:n}}return t||{}}get encodedLength(){return this.toU8a().length}get method(){return this.get("method")}get signature(){return this.get("signature")}get version(){return 4}addSignature(e,t,r){return this.signature.addSignature(e,t,r),this}sign(e,t){return this.signature.sign(this.method,e,t),this}signFake(e,t){return this.signature.signFake(this.method,e,t),this}}function da(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?da(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):da(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pa=Object(P.a)("signOptions");class fa extends Gr{constructor(e,t){super(e,ha(ha({method:"Bytes"},e.getSignedExtensionTypes()),e.getSignedExtensionExtra()),t),Object.defineProperty(this,pa,{writable:!0,value:void 0}),Object(O.a)(this,pa)[pa]={withType:e.createType("ExtrinsicSignature")instanceof In}}get blockHash(){return this.get("blockHash")}get era(){return this.get("era")}get genesisHash(){return this.get("genesisHash")}get method(){return this.get("method")}get nonce(){return this.get("nonce")}get specVersion(){return this.get("specVersion")}get tip(){return this.get("tip")}get transactionVersion(){return this.get("transactionVersion")}get assetId(){return this.get("assetId")}sign(e){return function(e,t,r,n){const a=r.length>256?e.hash(r):r;return t.sign(a,n)}(this.registry,e,this.toU8a({method:!0}),Object(O.a)(this,pa)[pa])}}function ma(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const ga=new Uint8Array,ya=new Uint8Array([1]);function ba(e,t){return e.createType("Address",Object(or.a)(t)?Object(Ct.a)(t):t)}var va=Object(P.a)("fakePrefix");class _a extends Gr{constructor(e,t,{isSigned:r}={}){super(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ma(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({signer:"Address",signature:"ExtrinsicSignature"},e.getSignedExtensionTypes()),_a.decodeExtrinsicSignature(t,r)),Object.defineProperty(this,va,{writable:!0,value:void 0}),Object(O.a)(this,va)[va]=e.createType("ExtrinsicSignature")instanceof In?ya:ga}static decodeExtrinsicSignature(e,t=!1){return e&&(e instanceof _a||t)?e:mn}get encodedLength(){return this.isSigned?super.encodedLength:0}get isSigned(){return!this.signature.isEmpty}get era(){return this.get("era")}get nonce(){return this.get("nonce")}get signature(){return this.multiSignature.value||this.multiSignature}get multiSignature(){return this.get("signature")}get signer(){return this.get("signer")}get tip(){return this.get("tip")}get assetId(){return this.get("assetId")}_injectSignature(e,t,{assetId:r,era:n,nonce:a,tip:i}){return this.set("era",n),this.set("nonce",a),this.set("signer",e),this.set("signature",t),this.set("tip",i),this.set("assetId",r),this}addSignature(e,t,r){return this._injectSignature(ba(this.registry,e),this.registry.createType("ExtrinsicSignature",t),new fa(this.registry,r))}createPayload(e,{assetId:t,blockHash:r,era:n,genesisHash:a,nonce:i,runtimeVersion:{specVersion:s,transactionVersion:o},tip:c}){return new fa(this.registry,{assetId:t,blockHash:r,era:n||gn,genesisHash:a,method:e.toHex(),nonce:i,specVersion:s,tip:c||0,transactionVersion:o||0})}sign(e,t,r){Object(D.a)(t&&t.addressRaw,()=>"Expected a valid keypair for signing, found "+F(t));const n=ba(this.registry,t.addressRaw),a=this.createPayload(e,r),i=this.registry.createType("ExtrinsicSignature",a.sign(t));return this._injectSignature(n,i,a)}signFake(e,t,r){Object(D.a)(t,()=>"Expected a valid address for signing, found "+F(t));const n=ba(this.registry,t),a=this.createPayload(e,r),i=this.registry.createType("ExtrinsicSignature",Object(Rr.a)(Object(O.a)(this,va)[va],new Uint8Array(64).fill(66)));return this._injectSignature(n,i,a)}toU8a(e){return this.isSigned?super.toU8a(e):mn}}var wa=r(651);function xa(e){return!(!e||42!==e.length||!Object(yr.a)(e))&&(!(!/^(0x)?[0-9a-f]{40}$/.test(e)&&!/^(0x)?[0-9A-F]{40}$/.test(e))||function(e){const t=e.replace("0x",""),r=Object(Ct.a)(Object(wa.a)(t.toLowerCase()),-1,!1);for(let e=0;e<40;e++)if(n=t[e],a=parseInt(r[e],16),n!==(a>7?n.toUpperCase():n.toLowerCase()))return!1;var n,a;return!0}(e))}var ka=r(1307);class Sa extends Sr{constructor(e,t=new Uint8Array,r=256){const[n,a]=function e(t,r){if(Array.isArray(t)||Object(R.a)(t))return e(Object(Tt.a)(t),r);const n=r/8,a=new Uint8Array(n);return t&&t.length?(Object(D.a)(t.length>=n,()=>`Expected at least ${n} bytes (${r} bits), found ${t.length} bytes`),[t.subarray(0,n),n]):[a,0]}(t,r);super(e,n,a)}static with(e,t){return class extends Sa{constructor(t,r){super(t,r,e)}toRawType(){return t||super.toRawType()}}}toRawType(){return`[u8;${this.length}]`}}function Oa(e){return Object(or.a)(e)||Array.isArray(e)?Object(Tt.a)(e):Object(yr.a)(e)||xa(e)?Object(Ir.a)(e):Object(R.a)(e)?Object(Tt.a)(e):e}class Pa extends Sa{constructor(e,t=new Uint8Array){super(e,Oa(t),160)}static encode(e){return Object(ka.a)(e)}eq(e){return super.eq(Oa(e))}toHuman(){return this.toJSON()}toJSON(){return this.toString()}toString(){return Pa.encode(this)}toRawType(){return"AccountId"}}var Ea=r(636),Aa=r(191),Ca=r(1312);class Ta extends(Wn.with(32)){constructor(...e){super(...e),this.__UIntType="u32"}}const Da=new un.a(239),ja=new un.a(1).shln(16),Ma=new un.a(1).shln(32);class Ia extends Ta{constructor(e,t=new un.a(0)){super(e,function e(t){return t instanceof Ia?t.toBn():Object(Ea.a)(t)||Object(q.a)(t)||Object(yr.a)(t)||Object(or.a)(t)||Object(B.a)(t)?t:e(Object(Aa.a)(t))}(t))}static calcLength(e){const t=Object(Jt.a)(e);return t.lte(Da)?1:t.lt(ja)?2:t.lt(Ma)?4:8}static readLength(e){const t=e[0];return 252===t?[1,2]:253===t?[1,4]:254===t?[1,8]:[0,1]}static writeLength(e){switch(e.length){case 2:return new Uint8Array([252]);case 4:return new Uint8Array([253]);case 8:return new Uint8Array([254]);default:return new Uint8Array([])}}eq(e){return Object(Ea.a)(e)||Object(q.a)(e)?super.eq(e):super.eq(this.registry.createType("AccountIndex",e))}toHuman(){return this.toJSON()}toJSON(){return this.toString()}toString(){const e=Ia.calcLength(this);return Object(Ca.a)(this.toU8a().subarray(0,e),this.registry.chainSS58)}toRawType(){return"AccountIndex"}}const Ra=new Uint8Array([255]);class Ba extends fn{constructor(e,t=new Uint8Array){super(e,Ba._decodeAddress(e,t))}static _decodeAddress(e,t){return t instanceof Ba?t._raw:t instanceof Pa||t instanceof Ia?t:Object(Ea.a)(t)||Object(q.a)(t)||Object(B.a)(t)?e.createType("AccountIndex",t):Array.isArray(t)||Object(yr.a)(t)||Object(or.a)(t)?function(e,t){if(20===t.length)return e.createType("EthereumAccountId",t);if(255===t[0])return e.createType("EthereumAccountId",t.subarray(1));const[r,n]=Ia.readLength(t);return e.createType("AccountIndex",Object(ln.a)(t.subarray(r,r+n),!0))}(e,Object(Tt.a)(t)):function(e,t){const r=Object(Aa.a)(t);return 20===r.length?e.createType("EthereumAccountId",r):e.createType("AccountIndex",Object(ln.a)(r,!0))}(e,t)}get encodedLength(){const e=this._rawLength;return e+(e>1?1:0)}get _rawLength(){return this._raw instanceof Ia?Ia.calcLength(this._raw):this._raw.encodedLength}toHex(){return Object(Ct.a)(this.toU8a())}toRawType(){return"Address"}toU8a(e){const t=this._raw.toU8a().subarray(0,this._rawLength);return e?t:Object(Rr.a)(this._raw instanceof Ia?Ia.writeLength(t):Ra,t)}}function Na(e){if(!e)return new Uint8Array;if(Object(or.a)(e)||Array.isArray(e))return Object(Tt.a)(e);if(Object(yr.a)(e))return Object(Ir.a)(e);if(Object(R.a)(e))return Object(Aa.a)(e);throw new Error("Unknown type passed to AccountId constructor, found typeof "+typeof e)}class Fa extends Sa{constructor(e,t){const r=Na(t);Object(D.a)(r.length>=32||!r.some(e=>e),()=>"Invalid AccountId provided, expected 32 bytes, found "+r.length),super(e,r,256)}eq(e){return super.eq(Na(e))}toHuman(){return this.toJSON()}toJSON(){return this.toString()}toString(){return Object(Ca.a)(this,this.registry.chainSS58)}toRawType(){return"AccountId"}}class qa extends Gr{constructor(e,t){super(e,{header:"Header",extrinsics:"Vec<Extrinsic>"},t)}get contentHash(){return this.registry.hash(this.toU8a())}get extrinsics(){return this.get("extrinsics")}get hash(){return this.header.hash}get header(){return this.get("header")}}function La(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?La(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):La(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ua(e,t){return t.fields.reduce((t,{name:r,type:n},a)=>(t[r.unwrapOr("param"+a).toString()]=e.createLookupType(n),t),{})}function za(e,t=new Uint8Array,r){if(Object(yr.a)(t)||Object(or.a)(t))return function(e,t,r){const n=new Uint8Array(2);n.set(t.subarray(0,2),0);const a=r||e.findMetaCall(n).meta;return{args:t.subarray(2),argsDef:Ua(e,a),callIndex:n,meta:a}}(e,Object(Tt.a)(t),r);if(Object(hr.a)(t)&&t.callIndex&&t.args)return function(e,t,r){const{args:n,callIndex:a}=t,i=a instanceof Va?a.toU8a():a,s=r||e.findMetaCall(i).meta;return{args:n,argsDef:Ua(e,s),callIndex:a,meta:s}}(e,t,r);throw new Error(`Call: Cannot decode value '${t}' of type ${typeof t}`)}class Va extends Sa{constructor(e,t){super(e,t,16)}}class Ga extends Gr{constructor(e,t,r){const n=za(e,t,r);try{super(e,{callIndex:Va,args:Gr.with(n.argsDef)},n),this._meta=void 0}catch(t){let r="unknown.unknown";try{const t=e.findMetaCall(n.callIndex);r=`${t.section}.${t.method}`}catch(e){}throw new Error(`Call: failed decoding ${r}:: ${t.message}`)}this._meta=n.meta}get args(){return[...this.get("args").values()]}get argsDef(){return Ua(this.registry,this.meta)}get argsEntries(){return[...this.get("args").entries()]}get callIndex(){return this.get("callIndex").toU8a()}get data(){return this.get("args").toU8a()}get meta(){return this._meta}get method(){return this.registry.findMetaCall(this.callIndex).method}get section(){return this.registry.findMetaCall(this.callIndex).section}is(e){return e.callIndex[0]===this.callIndex[0]&&e.callIndex[1]===this.callIndex[1]}toHuman(e){var t,r;let n;try{n=this.registry.findMetaCall(this.callIndex)}catch(e){}return Ha({args:this.argsEntries.reduce((t,[r,n])=>Ha(Ha({},t),{},{[r]:n.toHuman(e)}),{}),method:null===(t=n)||void 0===t?void 0:t.method,section:null===(r=n)||void 0===r?void 0:r.section},e&&n?{docs:n.meta.docs.map(e=>e.toString())}:{})}toRawType(){return"Call"}}function Wa(e,t,r,n=!0){return r&&Object(At.a)(r.unwrapOrDefault)?r:e.createType(t,n?Object(j.a)(r)||Object(T.a)(r)?null:Array.isArray(r)?r:[r]:r)}function Ka(e,t){return(t&&Object(At.a)(t.entries)?[...t.entries()]:Object.entries(t||{})).reduce((t,[r,n])=>(t[r]=function(e,t,r){return"ss58Format"===t?Wa(e,"Option<u32>",r,!1):"tokenDecimals"===t?Wa(e,"Option<Vec<u32>>",r):"tokenSymbol"===t?Wa(e,"Option<Vec<Text>>",r):r}(e,r,n),t),{ss58Format:e.createType("Option<u32>"),tokenDecimals:e.createType("Option<Vec<u32>>"),tokenSymbol:e.createType("Option<Vec<Text>>")})}class Ya extends gr{constructor(e,t){super(e,Ka(e,t))}get ss58Format(){return this.get("ss58Format")}get tokenDecimals(){return this.get("tokenDecimals")}get tokenSymbol(){return this.get("tokenSymbol")}}var Xa=r(136);const Ja=Object(Xa.a)("aura"),Qa=Object(Xa.a)("BABE"),Za=Object(Xa.a)("FRNK"),$a=Object(Xa.a)("pow_");class ei extends Sa{constructor(e,t){super(e,Object(q.a)(t)?Object(Bn.a)(t,{isLe:!1}):t,32)}get isAura(){return this.eq(Ja)}get isBabe(){return this.eq(Qa)}get isGrandpa(){return this.eq(Za)}get isPow(){return this.eq($a)}_getAuraAuthor(e,t){return t[this.registry.createType("RawAuraPreDigest",e.toU8a(!0)).slotNumber.mod(new un.a(t.length)).toNumber()]}_getBabeAuthor(e,t){return t[this.registry.createType("RawBabePreDigestCompat",e.toU8a(!0)).value.toNumber()]}_getBytesAsAuthor(e){return this.registry.createType("AccountId",e)}extractAuthor(e,t){if(null!=t&&t.length){if(this.isAura)return this._getAuraAuthor(e,t);if(this.isBabe)return this._getBabeAuthor(e,t)}if(this.isPow||20===e.length)return this._getBytesAsAuthor(e)}toHuman(){return this.toString()}toRawType(){return"ConsensusEngineId"}toString(){return this.isAscii?Object(xr.a)(this):Object(Ct.a)(this)}}const ti=new Uint8Array([255]);class ri extends fn{constructor(e,t=new Uint8Array){super(e,ri._decodeAddress(e,t))}static _decodeAddress(e,t){return t instanceof ri?t._raw:t instanceof Fa||t instanceof Ia?t:Object(Ea.a)(t)||Object(q.a)(t)||Object(B.a)(t)?e.createType("AccountIndex",t):Array.isArray(t)||Object(yr.a)(t)||Object(or.a)(t)?function(e,t){if(32===t.length)return e.createType("AccountId",t);if(255===t[0])return e.createType("AccountId",t.subarray(1));const[r,n]=Ia.readLength(t);return e.createType("AccountIndex",Object(ln.a)(t.subarray(r,r+n),!0))}(e,Object(Tt.a)(t)):function(e,t){const r=Object(Aa.a)(t);return 32===r.length?e.createType("AccountId",r):e.createType("AccountIndex",Object(ln.a)(r,!0))}(e,t)}get encodedLength(){const e=this._rawLength;return e+(e>1?1:0)}get _rawLength(){return this._raw instanceof Ia?Ia.calcLength(this._raw):this._raw.encodedLength}toHex(){return Object(Ct.a)(this.toU8a())}toRawType(){return"Address"}toU8a(e){const t=this._raw.toU8a().subarray(0,this._rawLength);return e?t:Object(Rr.a)(this._raw instanceof Ia?Ia.writeLength(t):ti,t)}}function ni(e,t){return[0,32].includes(t.length)?{Id:t}:20===t.length?{Address20:t}:t.length<=8?{Index:e.createType("AccountIndex",t).toNumber()}:t}class ai extends In{constructor(e,t){super(e,{Id:"AccountId",Index:"Compact<AccountIndex>",Raw:"Bytes",Address32:"H256",Address20:"H160"},function(e,t){return t instanceof ai?t:t instanceof Fa?{Id:t}:t instanceof Ia||Object(Ea.a)(t)||Object(q.a)(t)?{Index:Object(q.a)(t)?t:t.toNumber()}:Object(R.a)(t)?ni(e,Object(Aa.a)(t.toString())):Object(or.a)(t)?ni(e,t):t}(e,t))}toString(){return this.value.toString()}}let ii;function si(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?si(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):si(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e[e.BTreeMap=0]="BTreeMap",e[e.BTreeSet=1]="BTreeSet",e[e.Compact=2]="Compact",e[e.DoNotConstruct=3]="DoNotConstruct",e[e.Enum=4]="Enum",e[e.HashMap=5]="HashMap",e[e.Int=6]="Int",e[e.Linkage=7]="Linkage",e[e.Null=8]="Null",e[e.Option=9]="Option",e[e.Plain=10]="Plain",e[e.Range=11]="Range",e[e.Result=12]="Result",e[e.Set=13]="Set",e[e.Si=14]="Si",e[e.Struct=15]="Struct",e[e.Tuple=16]="Tuple",e[e.UInt=17]="UInt",e[e.Vec=18]="Vec",e[e.VecFixed=19]="VecFixed",e[e.WrapperOpaque=20]="WrapperOpaque"}(ii||(ii={}));const ci=e=>e.toString(),ui=["BTreeMap","BTreeSet","Compact","HashMap","Option","Result","Vec"];function li(e,t,r){const{info:n,sub:a}=t;switch(n){case ii.BTreeMap:case ii.BTreeSet:case ii.Compact:case ii.HashMap:case ii.Linkage:case ii.Option:case ii.Result:case ii.Vec:case ii.WrapperOpaque:return function(e,t,r=ci){return`${e}${t?`<${(Array.isArray(t)?t:[t]).map(r).join(", ")}>`:""}`}(r,a,t=>fi(e,t))}throw new Error(`Unable to encode ${F(t)} with params`)}function di(e,t,r,n){const a=t.map(({name:e})=>e);Object(D.a)(a.every(e=>!!e),()=>"Subtypes does not have consistent names, "+a.join(", "));const i=oi({},n);for(let r=0;r<t.length;r++){const n=t[r];i[n.name]=fi(e,n)}return F(r?{_enum:i}:i)}const hi={[ii.BTreeMap]:(e,t)=>li(e,t,"BTreeMap"),[ii.BTreeSet]:(e,t)=>li(e,t,"BTreeSet"),[ii.Compact]:(e,t)=>li(e,t,"Compact"),[ii.DoNotConstruct]:(e,{displayName:t,lookupIndex:r,lookupName:n})=>`DoNotConstruct<${n||t||(Object(T.a)(r)?"Unknown":e.createLookupType(r))}>`,[ii.Enum]:(e,{sub:t})=>(Object(D.a)(t&&Array.isArray(t),"Unable to encode Enum type"),t.every(({type:e})=>"Null"===e)?F({_enum:t.map(({name:e},t)=>""+(e||"Empty"+t))}):di(e,t,!0)),[ii.HashMap]:(e,t)=>li(e,t,"HashMap"),[ii.Int]:(e,{length:t=32})=>`Int<${t}>`,[ii.Linkage]:(e,t)=>li(e,t,"Linkage"),[ii.Null]:(e,t)=>"Null",[ii.Option]:(e,t)=>li(e,t,"Option"),[ii.Plain]:(e,{displayName:t,type:r})=>t||r,[ii.Range]:(e,t)=>li(e,t,t.type.includes("RangeInclusive")?"RangeInclusive":"Range"),[ii.Result]:(e,t)=>li(e,t,"Result"),[ii.Set]:(e,{length:t=8,sub:r})=>(Object(D.a)(r&&Array.isArray(r),"Unable to encode Set type"),F({_set:r.reduce((e,{index:t,name:r},n)=>oi(oi({},e),{},{[""+(r||"Unknown"+(t||n))]:t||n}),{_bitLength:t||8})})),[ii.Si]:(e,{lookupName:t,type:r})=>t||r,[ii.Struct]:(e,{alias:t,sub:r})=>(Object(D.a)(r&&Array.isArray(r),"Unable to encode Struct type"),di(e,r,!1,oi({},t?{_alias:[...t.entries()].reduce((e,[t,r])=>oi(oi({},e),{},{[t]:r}),{})}:{}))),[ii.Tuple]:(e,{sub:t})=>(Object(D.a)(t&&Array.isArray(t),"Unable to encode Tuple type"),`(${t.map(t=>fi(e,t)).join(",")})`),[ii.UInt]:(e,{length:t=32})=>`UInt<${t}>`,[ii.Vec]:(e,t)=>li(e,t,"Vec"),[ii.VecFixed]:(e,{length:t,sub:r})=>(Object(D.a)(Object(q.a)(t)&&!Object(T.a)(r)&&!Array.isArray(r),"Unable to encode VecFixed type"),`[${r.type};${t}]`),[ii.WrapperOpaque]:(e,t)=>li(e,t,"WrapperOpaque")};function pi(e,t,r=!0){return r&&t.lookupName?t.lookupName:hi[t.info](e,t)}function fi(e,t){return t.displayName&&!ui.some(e=>t.displayName===e)?t.displayName:pi(e,t)}function mi(e,t){return oi(oi({},t),{},{type:pi(e,t,!1)})}const gi=["BTreeMap","BTreeSet","HashMap","Vec"],yi=gi.concat(["Compact","DoNotConstruct","Int","Linkage","Range","RangeInclusive","Result","Option","UInt","WrapperOpaque"]),bi=["<","(","[",'"',","," "],vi=[wi("<T::InherentOfflineReport as InherentOfflineReport>::Inherent","InherentOfflineReport",!1),wi("VecDeque<","Vec<",!1),e=>{for(let t=0;t<e.length;t++)if("<"===e[t]){const r=_i(e,t+1)-14;" as HasCompact"===e.substr(r,14)&&(e=`Compact<${e.substr(t+1,r-t-1)}>`)}return e},ki("Bounded",!0),ki("Weak",!1),e=>e.replace(/\s/g,"").replace(/(T|Self)::/g,"").replace(/<(T|Self)asTrait>::/g,"").replace(/<Tas[a-z]+::Trait>::/g,"").replace(/<LookupasStaticLookup>/g,"Lookup").replace(/::Type/g,""),function(){const e=e=>`(${e},${e})`;return t=>xi(t,"PairOf<",e)}(),function(e){const t=e=>e;return r=>xi(r,e,t)}("Box<"),e=>{for(let t=0;t<e.length;t++)if("<"===e[t]&&!yi.find(r=>{const n=t-r.length;return n>=0&&e.substr(n,r.length)===r&&(0===n||bi.includes(e[n-1]))})){const r=_i(e,t+1);e=`${e.substr(0,t)}${e.substr(r+1)}`}return e},wi("String","Text"),wi("Vec<u8>","Bytes"),wi("&\\[u8\\]","Bytes"),wi("&'static\\[u8\\]","Bytes"),wi("RawAddress","Address"),wi("Lookup::Source","LookupSource"),wi("Lookup::Target","LookupTarget"),wi("exec::StorageKey","ContractStorageKey"),e=>e.replace(/,\)/g,")").replace(/\(([^,]+)\)/,"$1"),(e,{allowNamespaces:t}={})=>{let r=0;for(;-1!==r;)if(r=e.indexOf("::"),0===r)e=e.substr(2);else if(-1!==r){if(t)return e;let n=r;for(;-1!==n&&!bi.includes(e[n]);)n--;e=`${e.substr(0,n+1)}${e.substr(r+2)}`}return e}];function _i(e,t){let r=0;for(let n=t;n<e.length;n++)if(">"===e[n]){if(!r)return n;r--}else"<"===e[n]&&r++;throw new Error(`Unable to find closing matching <> on '${e}' (start ${t})`)}function wi(e,t,r=!0){return n=>n.replace(new RegExp(`(^${e}|${bi.map(t=>`\\${t}${e}`).join("|")})`,"g"),e=>r&&bi.includes(e[0])?`${e[0]}${t}`:t)}function xi(e,t,r){let n=-1;for(;;){if(n=e.indexOf(t,n+1),-1===n)return e;const a=n+t.length,i=_i(e,a);e=`${e.substr(0,n)}${r(e.substr(a,i-a))}${e.substr(i+1)}`}}function ki(e,t){return r=>gi.reduce((r,n)=>xi(r,`${e}${n}<`,e=>{const r=e.split(",").map(e=>e.trim()).filter(e=>e);return t&&r.pop(),`${n}<${r.join(",")}>`}),r)}function Si(e,t){let r=e.toString();for(let e=0;e<vi.length;e++)r=vi[e](r,t);return r.trim()}function Oi(...e){return!e.some(e=>0!==e)}function Pi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ei(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ai=["_alias","_fallback"];function Ci(e){return Object(R.a)(e)?e.toString():JSON.stringify(e)}function Ti(e,t,r){return e.info=ii.Enum,Array.isArray(t)?e.sub=t.map((e,t)=>({index:t,info:ii.Plain,name:e,type:"Null"})):!function(e){const t=Object.values(e);return!t.some(e=>Object(q.a)(e))||(Object(D.a)(t.every(e=>Object(q.a)(e)&&e>=0&&e<=255),"Invalid number-indexed enum definition"),!1)}(t)?e.sub=Object.entries(t).map(([e,t])=>({index:t,info:ii.Plain,name:e,type:"Null"})):e.sub=Object.entries(t).map(([e,t],n)=>Ei(Ei({},Fi(Ci(t||"Null"),{name:e},r)),{},{index:n})),e}function Di(e,t,r){const n=Fi(r);return e.sub=[n,n],e}function ji(e,t,r,n){return e.sub=0===r.length?[]:function(e){let[t,r,n,a,i]=[0,0,0,0,0];const s=[],o=o=>{Oi(t,r,n,a)&&(s.push(e.substr(i,o-i).trim()),i=o+1)};for(let i=0;i<e.length;i++)switch(e[i]){case",":o(i);break;case"<":t++;break;case">":t--;break;case"[":r++;break;case"]":r--;break;case"{":n++;break;case"}":n--;break;case"(":a++;break;case")":a--}return Object(D.a)(Oi(t,r,n,a),()=>"Invalid definition (missing terminators) found in "+e),s.push(e.substr(i,e.length-i).trim()),s}(r).map(e=>Fi(e,{},n)),e}function Mi(e,t,r,n){const[a,i]=t.substr(n.length+1,t.length-n.length-1-1).split(","),s=parseInt(a.trim(),10);return Object(D.a)(s<=8192&&s%8==0,()=>`${t}: Only support for ${n}<bitLength>, where length <= 8192 and a power of 8, found ${s}`),e.displayName=i,e.length=s,e}function Ii(e,[t,r]){return e.substr(0,t.length)===t&&e.substr(-1*r.length)===r}const Ri=[["[","]",ii.VecFixed,function(e,t,r,n){const a=t.length-1;let i=-1,s=0;for(let e=1;e<a&&-1===i;e++)";"===t[e]&&0===s?i=e:["[","(","<"].includes(t[e])?s++:["]",")",">"].includes(t[e])&&s--;Object(D.a)(-1!==i,()=>t+": Unable to extract location of ';'");const o=t.substr(1,i-1),[c,u]=t.substr(i+1,a-i-1).split(";"),l=parseInt(c.trim(),10);return Object(D.a)(l<=256,()=>t+": Only support for [Type; <length>], where length <= 256"),e.displayName=u,e.length=l,e.sub=Fi(o,{},n),e}],["{","}",ii.Struct,function(e,t,r,n){const a=JSON.parse(t),i=Object.keys(a);return 1===i.length&&"_enum"===i[0]?Ti(e,a[i[0]],n):1===i.length&&"_set"===i[0]?function(e,t){return e.info=ii.Set,e.length=t._bitLength,e.sub=Object.entries(t).filter(([e])=>!e.startsWith("_")).map(([e,t])=>({index:t,info:ii.Plain,name:e,type:"Null"})),e}(e,a[i[0]]):(e.alias=a._alias?new Map(Object.entries(a._alias)):void 0,e.fallbackType=a._fallback,e.sub=i.filter(e=>!Ai.includes(e)).map(e=>Fi(Ci(a[e]),{name:e},n)),e)}],["(",")",ii.Tuple,ji],["BTreeMap<",">",ii.BTreeMap,ji],["HashMap<",">",ii.HashMap,ji],["Int<",">",ii.Int,function(e,t,r){return Mi(e,t,0,"Int")}],["Range<",">",ii.Tuple,Di],["RangeInclusive<",">",ii.Tuple,Di],["Result<",">",ii.Result,ji],["UInt<",">",ii.UInt,function(e,t,r){return Mi(e,t,0,"UInt")}],["DoNotConstruct<",">",ii.DoNotConstruct,function(e,t,r){const n="DoNotConstruct".length;return e.displayName=t.substr(n+1,t.length-n-1-1),e}]],Bi=[["BTreeSet<",">",ii.BTreeSet],["Compact<",">",ii.Compact],["Linkage<",">",ii.Linkage],["Option<",">",ii.Option],["Vec<",">",ii.Vec],["WrapperOpaque<",">",ii.WrapperOpaque]];function Ni(e,[t,r]){return e.substr(t.length,e.length-t.length-r.length)}function Fi(e,{displayName:t,name:r}={},n=0){const a=Si(e),i={displayName:t,info:ii.Plain,name:r,type:a};Object(D.a)(64!=++n,"getTypeDef: Maximum nested limit reached");const s=Ri.find(e=>Ii(a,e));if(s)return i.info=s[2],s[3](i,a,Ni(a,s),n);const o=Bi.find(e=>Ii(a,e));return o&&(i.info=o[2],i.sub=Fi(Ni(a,o),{},n)),i}function qi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Li(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qi(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Hi={toNumber:()=>-1},Ui={Char:"u32",Str:"Text"},zi=Ki(["*_runtime::Call","*_runtime::Event","pallet_democracy::vote::Vote","pallet_identity::types::Data","sp_core::crypto::AccountId32","sp_runtime::generic::era::Era","sp_runtime::multiaddress::MultiAddress","polkadot_runtime_common::claims::EthereumAddress","primitive_types::*","sp_arithmetic::per_things::*","ink_env::types::*"]),Vi=Ki(["pallet_identity::types::BitFlags"]),Gi=["BoundedBTreeMap","BoundedVec","Box","BTreeMap","Cow","Result","Option","WeakBoundedVec","WrapperOpaque"],Wi=["entries","hash","keys","new","size"];function Ki(e){return e.map(e=>e.split("::"))}function Yi(e){return e.map(e=>e.toString())}function Xi(e,t){return e.length===t.length&&e.every((e,r)=>{const n=t[r].toString();if("*"===e||e===n)return!0;if(e.includes("*")&&e.includes("_")&&n.includes("_")){const t=e.split("_"),r=n.split("_");if("*"===t[0])for(;t.length<r.length;)r.shift();return Xi(t,r)}return!1})}function Ji(e,t){const r=function(e,t){const r={};return t.map(([n,a,i])=>{if(!a)return[n,null];const s=t.filter(([,e])=>a===e);if(!s.some(([e,,t])=>n!==e&&(i.length!==t.length||i.some((e,r)=>!e.name.eq(t[r].name)||e.type.unwrapOr(Hi).toNumber()!==t[r].type.unwrapOr(Hi).toNumber())))||!s[0][2].length)return[n,a];const o=s[0][2].findIndex(({type:e},t)=>s.every(([,,e])=>e[t].type.isSome)&&s.every(([,,r],n)=>0===n||!r[t].type.eq(e)));if(-1===o)return[n,a];const c=s.map(([t,r,n])=>{const{def:a,path:i}=e.getSiType(n[o].type.unwrap());return a.isPrimitive||i.length?[t,a.isPrimitive?`${r}${a.asPrimitive.toString()}`:`${r}${i[i.length-1].toString()}`]:[t,null]}),u=c.every(([e,t])=>!!t&&!c.some(([r,n])=>e!==r&&t===n));return u&&c.forEach(([e,t])=>{r[e]=t}),u?[n,a]:[n,null]}).filter(e=>!!e[1]).map(([e,t])=>[e,r[e]||t])}(e,t.map(e=>function(e,{id:t,type:{params:r,path:n}}){const a=t.toNumber();if(!n.length||Gi.includes(n[n.length-1].toString()))return[a,null,[]];const i=n.map(e=>xn(Xt(e))).filter((e,t)=>!(1===t&&["Misc","Pallet","Traits","Types"].includes(e.toString())||t!==n.length-1&&e.toLowerCase()===n[t+1].toLowerCase()));let s=i.join("");if(2===i.length&&"RawOrigin"===i[i.length-1]&&2===r.length&&r[1].type.isSome){const t=e[r[1].type.unwrap().toNumber()];2===t.type.path.length&&(s=`${s}${t.type.path[1].toString()}`)}return[a,s,r]}(t,e))),n={},a={};for(let t=0;t<r.length;t++){const[i,s]=r[t];n[i]=s,a[s]=e.registry.createLookupType(i)}return e.registry.register(a),n}var Qi=Object(P.a)("names"),Zi=Object(P.a)("typeDefs"),$i=Object(P.a)("types"),es=Object(P.a)("createSiDef"),ts=Object(P.a)("getLookupId"),rs=Object(P.a)("extract"),ns=Object(P.a)("extractArray"),as=Object(P.a)("extractBitSequence"),is=Object(P.a)("extractCompact"),ss=Object(P.a)("extractComposite"),os=Object(P.a)("extractCompositeSet"),cs=Object(P.a)("extractFields"),us=Object(P.a)("extractFieldsAlias"),ls=Object(P.a)("extractHistoric"),ds=Object(P.a)("extractPrimitive"),hs=Object(P.a)("extractPrimitivePath"),ps=Object(P.a)("extractSequence"),fs=Object(P.a)("extractTuple"),ms=Object(P.a)("extractVariant"),gs=Object(P.a)("extractVariantEnum");class ys extends Gr{constructor(e,t){super(e,{types:"Vec<PortableType>"},t),Object.defineProperty(this,gs,{value:Is}),Object.defineProperty(this,ms,{value:Ms}),Object.defineProperty(this,fs,{value:js}),Object.defineProperty(this,ps,{value:Ds}),Object.defineProperty(this,hs,{value:Ts}),Object.defineProperty(this,ds,{value:Cs}),Object.defineProperty(this,ls,{value:As}),Object.defineProperty(this,us,{value:Es}),Object.defineProperty(this,cs,{value:Ps}),Object.defineProperty(this,os,{value:Os}),Object.defineProperty(this,ss,{value:Ss}),Object.defineProperty(this,is,{value:ks}),Object.defineProperty(this,as,{value:xs}),Object.defineProperty(this,ns,{value:ws}),Object.defineProperty(this,rs,{value:_s}),Object.defineProperty(this,ts,{value:vs}),Object.defineProperty(this,es,{value:bs}),Object.defineProperty(this,Qi,{writable:!0,value:void 0}),Object.defineProperty(this,Zi,{writable:!0,value:{}}),Object.defineProperty(this,$i,{writable:!0,value:void 0}),Object(O.a)(this,Qi)[Qi]=Ji(this,this.types),Object(O.a)(this,$i)[$i]=function(e){const t={};for(let r=0;r<e.length;r++){const n=e[r];t[n.id.toNumber()]=n}return t}(this.types)}get names(){return Object.values(Object(O.a)(this,Qi)[Qi])}get types(){return this.get("types")}getName(e){return Object(O.a)(this,Qi)[Qi][Object(O.a)(this,ts)[ts](e)]}getSiType(e){const t=(Object(O.a)(this,$i)[$i]||this.types)[Object(O.a)(this,ts)[ts](e)];return Object(D.a)(t,()=>"PortableRegistry: Unable to find type with lookupId "+e.toString()),t.type}getTypeDef(e){const t=Object(O.a)(this,ts)[ts](e);if(!Object(O.a)(this,Zi)[Zi][t]){const r=Object(O.a)(this,Qi)[Qi][t],n={info:ii.DoNotConstruct,lookupIndex:t,lookupName:r,type:this.registry.createLookupType(t)};r&&(Object(O.a)(this,Zi)[Zi][t]=n);const a=Object(O.a)(this,rs)[rs](this.getSiType(e),t);r||(Object(O.a)(this,Zi)[Zi][t]=n),Object.keys(a).forEach(e=>{("lookupName"!==e||a[e])&&(Object(O.a)(this,Zi)[Zi][t][e]=a[e])}),a.info===ii.Plain&&(Object(O.a)(this,Zi)[Zi][t].lookupNameRoot=Object(O.a)(this,Zi)[Zi][t].lookupName,delete Object(O.a)(this,Zi)[Zi][t].lookupName)}return Object(O.a)(this,Zi)[Zi][t]}}function bs(e){const t=this.getTypeDef(e),r=e.toNumber();return[ii.DoNotConstruct,ii.Enum,ii.Struct].includes(t.info)&&t.lookupName?{docs:t.docs,info:ii.Si,lookupIndex:r,lookupName:Object(O.a)(this,Qi)[Qi][r],type:this.registry.createLookupType(e)}:t}function vs(e){return Object(R.a)(e)?(Object(D.a)(this.registry.isLookupType(e),()=>"PortableRegistry: Expected a lookup string type, found "+e),parseInt(e.replace("Lookup",""),10)):Object(q.a)(e)?e:e.toNumber()}function _s(e,t){const r=[...e.path].join("::");let n;const a=(i=e.path).length&&zi.some(e=>Xi(e,i))?i[i.length-1].toString():null;var i;try{if(a)n=Object(O.a)(this,hs)[hs](t,a);else if(e.def.isArray)n=Object(O.a)(this,ns)[ns](t,e.def.asArray);else if(e.def.isBitSequence)n=Object(O.a)(this,as)[as](t,e.def.asBitSequence);else if(e.def.isCompact)n=Object(O.a)(this,is)[is](t,e.def.asCompact);else if(e.def.isComposite)n=Object(O.a)(this,ss)[ss](t,e,e.def.asComposite);else if(e.def.isHistoricMetaCompat)n=Object(O.a)(this,ls)[ls](t,e.def.asHistoricMetaCompat);else if(e.def.isPrimitive)n=Object(O.a)(this,ds)[ds](t,e);else if(e.def.isSequence)n=Object(O.a)(this,ps)[ps](t,e.def.asSequence);else if(e.def.isTuple)n=Object(O.a)(this,fs)[fs](t,e.def.asTuple);else{if(!e.def.isVariant)throw new Error("No SiTypeDef handler for "+e.def.toString());n=Object(O.a)(this,ms)[ms](t,e,e.def.asVariant)}}catch(n){throw new Error(`PortableRegistry: ${t}${r?` (${r})`:""}: Error extracting ${F(e)}: ${n.message}`)}return Li({docs:Yi(e.docs),namespace:r},n)}function ws(e,{len:t,type:r}){return Object(D.a)(!t||t.toNumber()<=256,"Only support for [Type; <length>], where length <= 256"),mi(this.registry,{info:ii.VecFixed,length:t.toNumber(),sub:Object(O.a)(this,es)[es](r)})}function xs(e,{bitOrderType:t,bitStoreType:r}){const n=Object(O.a)(this,es)[es](t),a=Object(O.a)(this,es)[es](r);return Object(D.a)(["bitvec::order::Lsb0","bitvec::order::Msb0"].includes(n.namespace||""),()=>"Unexpected bitOrder found as "+(n.namespace||"<unknown>")),Object(D.a)(a.info===ii.Plain&&"u8"===a.type,()=>"Only u8 bitStore is currently supported, found "+a.type),{info:ii.Plain,type:"BitVec"}}function ks(e,{type:t}){return mi(this.registry,{info:ii.Compact,sub:Object(O.a)(this,es)[es](t)})}function Ss(e,{params:t,path:r},{fields:n}){const a=r[0].toString();if(1===r.length&&"BTreeMap"===a)return mi(this.registry,{info:ii.BTreeMap,sub:t.map(({type:e})=>Object(O.a)(this,es)[es](e.unwrap()))});if(["Range","RangeInclusive"].includes(a))return mi(this.registry,{info:ii.Range,sub:n.map(({name:e,type:t,typeName:r},n)=>Li(Li({name:e.isSome?e.unwrap().toString():["start","end"][n]},Object(O.a)(this,es)[es](t)),r.isSome?{typeName:Si(r.unwrap())}:{}))});if(r.length){if("WrapperOpaque"===r[r.length-1].toString())return mi(this.registry,{info:ii.WrapperOpaque,sub:Object(O.a)(this,es)[es](t[0].type.unwrap())});if("WrapperKeepOpaque"===r[r.length-1].toString())return{info:ii.Plain,type:"Bytes"}}return Vi.some(e=>Xi(e,r))?Object(O.a)(this,os)[os](e,t,n):Object(O.a)(this,cs)[cs](e,n)}function Os(e,t,r){return Object(D.a)(1===t.length&&1===r.length,"Set handling expects param/field as single entries"),mi(this.registry,{info:ii.Set,length:this.registry.createType(this.registry.createLookupType(r[0].type)).bitLength(),sub:this.getSiType(t[0].type.unwrap()).def.asVariant.variants.map(({index:e,name:t})=>({index:e.toNumber(),info:ii.Plain,name:t.toString(),type:"Null"}))})}function Ps(e,t){let r=!0,n=!0;for(let e=0;e<t.length;e++){const{name:a}=t[e];r=r&&a.isSome,n=n&&a.isNone}if(Object(D.a)(n||r,"Invalid fields type detected, expected either Tuple (all unnamed) or Struct (all named)"),0===t.length)return{info:ii.Null,type:"Null"};if(n&&1===t.length){const r=Object(O.a)(this,es)[es](t[0].type);return Li(Li(Li({},r),-1===e?{}:{lookupIndex:e,lookupName:Object(O.a)(this,Qi)[Qi][e],lookupNameRoot:r.lookupName}),t[0].typeName.isSome?{typeName:Si(t[0].typeName.unwrap())}:{})}const[a,i]=Object(O.a)(this,us)[us](t);return mi(this.registry,Li(Li(Li({info:n?ii.Tuple:ii.Struct},i.size?{alias:i}:{}),-1===e?{}:{lookupIndex:e,lookupName:Object(O.a)(this,Qi)[Qi][e]}),{},{sub:a}))}function Es(e){const t=new Map,r=new Array(e.length);for(let n=0;n<e.length;n++){const{docs:a,name:i,type:s,typeName:o}=e[n],c=Object(O.a)(this,es)[es](s);if(i.isNone)r[n]=c;else{let e=Xt(i.unwrap()),s=null;e.includes("#")?(s=e,e=s.replace(/#/g,"_")):Wi.includes(e)&&(s=e,e+="_"),s&&t.set(e,s),r[n]=Li(Li({},c),{},{docs:Yi(a),name:e},o.isSome?{typeName:Si(o.unwrap())}:{})}}return[r,t]}function As(e,t){return Li(Li({},Fi(t)),{},{displayName:t.toString(),isFromSi:!0})}function Cs(e,t){const r=t.def.asPrimitive.type.toString();return{info:ii.Plain,type:Ui[r]||r.toLowerCase()}}function Ts(e,t){return{info:ii.Plain,type:t}}function Ds(e,{type:t}){const r=Object(O.a)(this,es)[es](t);return"u8"===r.type?{info:ii.Plain,type:"Bytes"}:mi(this.registry,{info:ii.Vec,lookupIndex:e,lookupName:Object(O.a)(this,Qi)[Qi][e],sub:r})}function js(e,t){if(0===t.length)return{info:ii.Null,type:"Null"};if(1===t.length)return this.getTypeDef(t[0]);const r=t.map(e=>Object(O.a)(this,es)[es](e));return mi(this.registry,{info:ii.Tuple,lookupIndex:e,lookupName:Object(O.a)(this,Qi)[Qi][e],sub:r})}function Ms(e,{params:t,path:r},{variants:n}){const a=r[0].toString();return"Option"===a?mi(this.registry,{info:ii.Option,sub:Object(O.a)(this,es)[es](t[0].type.unwrap())}):"Result"===a?mi(this.registry,{info:ii.Result,sub:t.map(({type:e},t)=>Li({name:["Ok","Error"][t]},Object(O.a)(this,es)[es](e.unwrap())))}):0===n.length?{info:ii.Null,type:"Null"}:Object(O.a)(this,gs)[gs](e,n)}function Is(e,t){const r=[];return[...t].sort((e,t)=>e.index.cmp(t.index)).forEach(({fields:e,index:t,name:n})=>{const a=t.toNumber();for(;r.length!==a;)r.push({index:r.length,info:ii.Null,name:"__Unused"+r.length,type:"Null"});r.push(Li(Li({},Object(O.a)(this,cs)[cs](-1,e)),{},{index:t.toNumber(),name:n.toString()}))}),mi(this.registry,{info:ii.Enum,lookupIndex:e,lookupName:Object(O.a)(this,Qi)[Qi][e],sub:r})}class Rs extends Boolean{constructor(e,t=!1){super(function(e){return e instanceof Boolean?e.valueOf():Object(or.a)(e)?1===e[0]:!!e}(t)),this.registry=void 0,this.createdAtHash=void 0,this.registry=e}get encodedLength(){return 1}get hash(){return this.registry.hash(this.toU8a())}get isEmpty(){return this.isFalse}get isFalse(){return!this.isTrue}get isTrue(){return this.valueOf()}eq(e){return this.valueOf()===(e instanceof Boolean?e.valueOf():e)}toHex(){return Object(Ct.a)(this.toU8a())}toHuman(){return this.toJSON()}toJSON(){return this.valueOf()}toRawType(){return"bool"}toString(){return this.toJSON().toString()}toU8a(e){return new Uint8Array([this.valueOf()?1:0])}}function Bs(e){return e?new Uint8Array([128]):new Uint8Array([0])}function Ns(e,t){return Object(T.a)(t)||t instanceof Boolean||Object(Qt.a)(t)?Bs(new Rs(e,t).isTrue):Object(q.a)(t)?Bs(t<0):Object(or.a)(t)?function(e){return e.length?e.subarray(0,1):new Uint8Array([0])}(t):function(e,t){const r=new Rs(e,t.aye).isTrue?128:0,n=e.createType("Conviction",t.conviction||0);return new Uint8Array([r|n.index])}(e,t)}class Fs extends Sa{constructor(e,t){const r=Ns(e,t);super(e,r,8),this._aye=void 0,this._conviction=void 0,this._aye=128==(128&r[0]),this._conviction=this.registry.createType("Conviction",127&r[0])}get conviction(){return this._conviction}get isAye(){return this._aye}get isNay(){return!this.isAye}toHuman(e){return{conviction:this.conviction.toHuman(e),vote:this.isAye?"Aye":"Nay"}}toRawType(){return"Vote"}}function qs(e){if(Array.isArray(e)||Object(R.a)(e)){const t=Object(Tt.a)(e);return[t.length/8,t]}return function(e){if(!e||!e.length)return[0,new Uint8Array];const[t,r]=dn(e),n=t+Math.ceil(r.toNumber()/8);return Object(D.a)(n<=e.length,()=>`BitVec: required length less than remainder, expected at least ${n}, found ${e.length}`),[r.toNumber(),e.subarray(t,n)]}(e)}class Ls extends Sr{constructor(e,t){const[r,n]=qs(t);super(e,n),this._decodedLength=void 0,this._decodedLength=r}get encodedLength(){return this.length+Object(Wr.a)(this._decodedLength).length}toHuman(){return"0b"+[...this.toU8a(!0)].map(e=>("00000000"+e.toString(2)).slice(-8)).join("_")}toRawType(){return"BitVec"}toU8a(e){const t=super.toU8a();return e?t:Object(Rr.a)(Object(Wr.a)(this._decodedLength),t)}}function Hs(e){return Array.isArray(e)||Object(R.a)(e)?[Object(Tt.a)(e),0]:e instanceof Sr||!Object(or.a)(e)?[e,0]:function(e){if(!e.length)return[new Uint8Array,0];const[t,r]=dn(e),n=t+r.toNumber();return Object(D.a)(r.lten(10485760),()=>`Bytes length ${r.toString()} exceeds 10485760`),Object(D.a)(n<=e.length,()=>`Bytes: required length less than remainder, expected at least ${n}, found ${e.length}`),[e.subarray(t,n),n]}(e)}class Us extends Sr{constructor(e,t){const[r,n]=Hs(t);super(e,r,n)}get encodedLength(){return this.length+Object(Wr.a)(this.length).length}toRawType(){return"Bytes"}toU8a(e){return e?super.toU8a(e):Object(hn.a)(this)}}function zs(e,t){return t?Object(or.a)(t)||Object(R.a)(t)?function(e,t){const r=t[0];if(!r)return[void 0,void 0];if(r>=1&&r<=33){const n=r-1,a=t.subarray(1,n+1);return[e.createType("Raw",a),1]}if(r>=34&&r<=37)return[t.subarray(1,33),r-32];throw new Error("Unable to decode Data, invalid indicator byte "+r)}(e,Object(Tt.a)(t)):[t,void 0]:[void 0,void 0]}class Vs extends In{constructor(e,t){super(e,{None:"Null",Raw:"Bytes",BlakeTwo256:"H256",Sha256:"H256",Keccak256:"H256",ShaThree256:"H256"},...zs(e,t)),Object(D.a)(!this.isRaw||this.asRaw.length<=32,"Data.Raw values are limited to a maximum length of 32 bytes")}get asBlakeTwo256(){return this.value}get asKeccak256(){return this.value}get asRaw(){return this.value}get asSha256(){return this.value}get asShaThree256(){return this.value}get isBlakeTwo256(){return 2===this.index}get isKeccak256(){return 4===this.index}get isNone(){return 0===this.index}get isRaw(){return 1===this.index}get isSha256(){return 3===this.index}get isShaThree256(){return 5===this.index}get encodedLength(){return this.toU8a().length}toU8a(){if(0===this.index)return new Uint8Array(1);if(1===this.index){const e=this.value.toU8a(!0),t=Math.min(e.length,32),r=new Uint8Array(t+1);return r.set([t+1],0),r.set(e.subarray(0,t),1),r}const e=new Uint8Array(33);return e.set([this.index+32],0),e.set(this.value.toU8a(),1),e}}class Gs extends Gn{constructor(e,t=0,r){super(e,t,r,!0)}static with(e,t){return class extends Gs{constructor(t,r){super(t,r,e)}toRawType(){return t||super.toRawType()}}}}class Ws extends(Gs.with(8)){constructor(...e){super(...e),this.__IntType="i8"}}class Ks extends(Gs.with(16)){constructor(...e){super(...e),this.__IntType="i16"}}class Ys extends(Gs.with(32)){constructor(...e){super(...e),this.__IntType="i32"}}class Xs extends(Gs.with(64)){constructor(...e){super(...e),this.__IntType="i64"}}class Js extends(Gs.with(128)){constructor(...e){super(...e),this.__IntType="i128"}}class Qs extends(Gs.with(256)){constructor(...e){super(...e),this.__IntType="i256"}}function Zs(e,t){const r=e.getTypeDef(t);return r.lookupName||r.type}const $s={Blake2_128:[16,!1],Blake2_128Concat:[16,!0],Blake2_256:[32,!1],Identity:[0,!0],Twox128:[16,!1],Twox256:[32,!1],Twox64Concat:[8,!0]};function eo(e,t,r){const n=Zs(e.lookup,function(e){return e.isPlain?e.asPlain:e.asMap.value}(t));return r?`Option<${n}>`:n}function to(e,t,r){if(!r||!r.type.isMap)return[];const{hashers:n,key:a}=r.type.asMap,i=1===n.length?[a]:e.lookup.getSiType(a).def.asTuple;return function(e,t,r){let n=32;return r.reduce((r,[a,i])=>{const[s,o]=$s[a.type],c=o?e.createType(e.createLookupType(i),t.subarray(n+s)):e.createType("Raw",t.subarray(n,n+s));return n+=s+(o?c.encodedLength:0),r.push(c),r},[])}(e,t,n.map((e,t)=>[e,i[t]]))}class ro extends Us{constructor(e,t,r={}){const{key:n,method:a,section:i}=function(e){if(e instanceof ro)return{key:e,method:e.method,section:e.section};if(!e||Object(R.a)(e)||Object(or.a)(e))return{key:e};if(Object(At.a)(e))return{key:e(),method:e.method,section:e.section};if(Array.isArray(e)){const[t,r=[]]=e;if(Object(D.a)(Object(At.a)(t),"Expected function input for key construction"),t.meta&&t.meta.type.isMap){const e=t.meta.type.asMap;Object(D.a)(Array.isArray(r)&&r.length===e.hashers.length,()=>`Expected an array of ${e.hashers.length} values as params to a Map query`)}return{key:t(...r),method:t.method,section:t.section}}throw new Error(`Unable to convert input ${e} to StorageKey`)}(t);super(e,n),this._args=void 0,this._meta=void 0,this._outputType=void 0,this._method=void 0,this._section=void 0,this._outputType=function(e,t){if(t instanceof ro)return t.outputType;if(Object(At.a)(t))return eo(e,t.meta.type);if(Array.isArray(t)){const[r]=t;if(r.meta)return eo(e,r.meta.type)}return"Raw"}(e,t),this.setMeta(function(e){if(e instanceof ro)return e.meta;if(Object(At.a)(e))return e.meta;if(Array.isArray(e)){const[t]=e;return t.meta}}(t),r.section||i,r.method||a)}get args(){return this._args}get meta(){return this._meta}get method(){return this._method}get outputType(){return this._outputType}get section(){return this._section}is(e){return e.section===this.section&&e.method===this.method}setMeta(e,t,r){this._meta=e,this._method=r||this._method,this._section=t||this._section,e&&(this._outputType=eo(this.registry,e.type));try{this._args=to(this.registry,this.toU8a(!0),this.meta)}catch(e){}return this}toHuman(){return this._args.length?this._args.map(e=>e.toHuman()):super.toHuman()}toRawType(){return"StorageKey"}}var no=Object(P.a)("initialU8aLength"),ao=Object(P.a)("override");class io extends String{constructor(e,t){const[r,n]=function(e){if(Object(yr.a)(e))return[Object(xr.a)(Object(Ir.a)(e)),0];if(e instanceof Uint8Array){if(!e.length)return["",0];if(e instanceof Sr)return[Object(xr.a)(e),0];const[t,r]=dn(e),n=t+r.toNumber();return Object(D.a)(r.lten(131072),()=>`Text: length ${r.toString()} exceeds 131072`),Object(D.a)(n<=e.length,()=>`Text: required length less than remainder, expected at least ${n}, found ${e.length}`),[Object(xr.a)(e.subarray(t,n)),n]}return[e?e.toString():"",0]}(t);super(r),this.registry=void 0,this.createdAtHash=void 0,Object.defineProperty(this,no,{writable:!0,value:void 0}),Object.defineProperty(this,ao,{writable:!0,value:null}),this.registry=e,Object(O.a)(this,no)[no]=n}get encodedLength(){return this.toU8a().length}get initialU8aLength(){return Object(O.a)(this,no)[no]}get hash(){return this.registry.hash(this.toU8a())}get isEmpty(){return 0===this.length}get length(){return super.length}eq(e){return!!Object(R.a)(e)&&this.toString()===e.toString()}setOverride(e){Object(O.a)(this,ao)[ao]=e}toHex(){return Object(Ct.a)(this.toU8a(!0))}toHuman(){return this.toJSON()}toJSON(){return this.toString()}toRawType(){return"Text"}toString(){return Object(O.a)(this,ao)[ao]||super.toString()}toU8a(e){const t=Object(Xa.a)(super.toString());return e?t:Object(hn.a)(t)}}class so extends io{constructor(e,t=""){super(e,t),this.setOverride(Si(this.toString()))}toRawType(){return"Type"}}class oo extends(Wn.with(8)){constructor(...e){super(...e),this.__UIntType="u8"}}class co extends(Wn.with(16)){constructor(...e){super(...e),this.__UIntType="u16"}}class uo extends(Wn.with(128)){constructor(...e){super(...e),this.__UIntType="u128"}}class lo extends(Wn.with(256)){constructor(...e){super(...e),this.__UIntType="u256"}}class ho extends Ta{constructor(e,t){throw super(e,t),new Error("The `usize` type should not be used. Since it is platform-specific, it creates incompatibilities between native (generally u64) and WASM (always u32) code. Use one of the `u32` or `u64` types explicitly.")}}function po(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?po(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):po(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mo={rpc:{},types:fo(fo({},{Fixed64:"Int<64, Fixed64>",FixedI64:"Int<64, FixedI64>",FixedU64:"UInt<64, FixedU64>",Fixed128:"Int<128, Fixed128>",FixedI128:"Int<128, FixedI128>",FixedU128:"UInt<128, FixedU128>",I32F32:"Int<64, I32F32>",U32F32:"UInt<64, U32F32>",PerU16:"UInt<16, PerU16>",Perbill:"UInt<32, Perbill>",Percent:"UInt<8, Percent>",Permill:"UInt<32, Permill>",Perquintill:"UInt<64, Perquintill>"}),{},{AccountId:"AccountId32",AccountId20:"GenericEthereumAccountId",AccountId32:"GenericAccountId",AccountIdOf:"AccountId",AccountIndex:"GenericAccountIndex",Address:"MultiAddress",AssetId:"u32",Balance:"UInt<128, Balance>",BalanceOf:"Balance",Block:"GenericBlock",BlockNumber:"u32",BlockNumberFor:"BlockNumber",BlockNumberOf:"BlockNumber",Call:"GenericCall",CallHash:"Hash",CallHashOf:"CallHash",ChangesTrieConfiguration:{digestInterval:"u32",digestLevels:"u32"},ChangesTrieSignal:{_enum:{NewConfiguration:"Option<ChangesTrieConfiguration>"}},ConsensusEngineId:"GenericConsensusEngineId",CodecHash:"Hash",CrateVersion:{major:"u16",minor:"u8",patch:"u8"},Digest:{logs:"Vec<DigestItem>"},DigestItem:{_enum:{Other:"Bytes",AuthoritiesChange:"Vec<AuthorityId>",ChangesTrieRoot:"Hash",SealV0:"SealV0",Consensus:"Consensus",Seal:"Seal",PreRuntime:"PreRuntime",ChangesTrieSignal:"ChangesTrieSignal",RuntimeEnvironmentUpdated:"Null"}},ExtrinsicsWeight:{normal:"Weight",operational:"Weight"},H32:"[u8; 4; H32]",H64:"[u8; 8; H64]",H128:"[u8; 16; H128]",H160:"[u8; 20; H160]",H256:"[u8; 32; H256]",H512:"[u8; 64; H512]",H1024:"[u8; 128; H1024]",H2048:"[u8; 256; H2048]",Hash:"H256",Header:{parentHash:"Hash",number:"Compact<BlockNumber>",stateRoot:"Hash",extrinsicsRoot:"Hash",digest:"Digest"},HeaderPartial:{parentHash:"Hash",number:"BlockNumber"},IndicesLookupSource:"GenericLookupSource",Index:"u32",Justification:"(ConsensusEngineId, EncodedJustification)",EncodedJustification:"Bytes",Justifications:"Vec<Justification>",KeyValue:"(StorageKey, StorageData)",KeyTypeId:"u32",LockIdentifier:"[u8; 8]",LookupSource:"MultiAddress",LookupTarget:"AccountId",ModuleId:"LockIdentifier",MultiAddress:"GenericMultiAddress",MultiSigner:{_enum:{Ed25519:"[u8; 32]",Sr25519:"[u8; 32]",Ecdsa:"[u8; 33]"}},Moment:"UInt<64, Moment>",OpaqueCall:"Bytes",Origin:"DoNotConstruct<Origin>",OriginCaller:{_enum:{System:"SystemOrigin"}},PalletId:"LockIdentifier",PalletsOrigin:"OriginCaller",PalletVersion:{major:"u16",minor:"u8",patch:"u8"},Pays:{_enum:["Yes","No"]},Phantom:"Null",PhantomData:"Null",Releases:{_enum:["V1","V2","V3","V4","V5","V6","V7","V8","V9","V10"]},RuntimeDbWeight:{read:"Weight",write:"Weight"},SignedBlock:"SignedBlockWithJustifications",SignedBlockWithJustification:{block:"Block",justification:"Option<EncodedJustification>"},SignedBlockWithJustifications:{block:"Block",justifications:"Option<Justifications>"},Slot:"u64",StorageData:"Bytes",StorageProof:{trieNodes:"Vec<Bytes>"},TransactionPriority:"u64",TransactionInfo:{_alias:{dataSize:"size"},chunkRoot:"H256",contentHash:"H256",dataSize:"u32",blockChunks:"u32"},TransactionStorageProof:{chunk:"Vec<u8>",proof:"Vec<Vec<u8>>"},ValidatorId:"AccountId",ValidatorIdOf:"ValidatorId",Weight:"u64",WeightMultiplier:"Fixed64",PreRuntime:"(ConsensusEngineId, Bytes)",SealV0:"(u64, Signature)",Seal:"(ConsensusEngineId, Bytes)",Consensus:"(ConsensusEngineId, Bytes)"})},go={rpc:{},types:{AssetApprovalKey:{owner:"AccountId",delegate:"AccountId"},AssetApproval:{amount:"TAssetBalance",deposit:"TAssetDepositBalance"},AssetBalance:{balance:"TAssetBalance",isFrozen:"bool",isSufficient:"bool"},AssetDestroyWitness:{accounts:"Compact<u32>",sufficients:"Compact<u32>",approvals:"Compact<u32>"},AssetDetails:{owner:"AccountId",issuer:"AccountId",admin:"AccountId",freezer:"AccountId",supply:"TAssetBalance",deposit:"TAssetDepositBalance",minBalance:"TAssetBalance",isSufficient:"bool",accounts:"u32",sufficients:"u32",approvals:"u32",isFrozen:"bool"},AssetMetadata:{deposit:"TAssetDepositBalance",name:"Vec<u8>",symbol:"Vec<u8>",decimals:"u8",isFrozen:"bool"},TAssetBalance:"u64",TAssetDepositBalance:"BalanceOf"}},yo={rpc:{},types:{UncleEntryItem:{_enum:{InclusionHeight:"BlockNumber",Uncle:"(Hash, Option<AccountId>)"}}}},bo={rpc:{},types:{RawAuraPreDigest:{slotNumber:"u64"}}},vo={rpc:{epochAuthorship:{description:"Returns data about which slots (primary or secondary) can be claimed in the current epoch with the keys in the keystore",params:[],type:"HashMap<AuthorityId, EpochAuthorship>"}},types:{AllowedSlots:{_enum:["PrimarySlots","PrimaryAndSecondaryPlainSlots","PrimaryAndSecondaryVRFSlots"]},BabeAuthorityWeight:"u64",BabeEpochConfiguration:{c:"(u64, u64)",allowedSlots:"AllowedSlots"},BabeBlockWeight:"u32",BabeEquivocationProof:{offender:"AuthorityId",slotNumber:"SlotNumber",firstHeader:"Header",secondHeader:"Header"},BabeWeight:"u64",MaybeRandomness:"Option<Randomness>",MaybeVrf:"Option<VrfData>",EpochAuthorship:{primary:"Vec<u64>",secondary:"Vec<u64>",secondary_vrf:"Vec<u64>"},NextConfigDescriptor:{_enum:{V0:"Null",V1:"NextConfigDescriptorV1"}},NextConfigDescriptorV1:{c:"(u64, u64)",allowedSlots:"AllowedSlots"},Randomness:"Hash",RawBabePreDigest:{_enum:{Phantom:"Null",Primary:"RawBabePreDigestPrimary",SecondaryPlain:"RawBabePreDigestSecondaryPlain",SecondaryVRF:"RawBabePreDigestSecondaryVRF"}},RawBabePreDigestPrimary:{authorityIndex:"u32",slotNumber:"SlotNumber",vrfOutput:"VrfOutput",vrfProof:"VrfProof"},RawBabePreDigestSecondaryPlain:{authorityIndex:"u32",slotNumber:"SlotNumber"},RawBabePreDigestSecondaryVRF:{authorityIndex:"u32",slotNumber:"SlotNumber",vrfOutput:"VrfOutput",vrfProof:"VrfProof"},RawBabePreDigestTo159:{_enum:{Primary:"RawBabePreDigestPrimaryTo159",Secondary:"RawBabePreDigestSecondaryTo159"}},RawBabePreDigestPrimaryTo159:{authorityIndex:"u32",slotNumber:"SlotNumber",weight:"BabeBlockWeight",vrfOutput:"VrfOutput",vrfProof:"VrfProof"},RawBabePreDigestSecondaryTo159:{authorityIndex:"u32",slotNumber:"SlotNumber",weight:"BabeBlockWeight"},RawBabePreDigestCompat:{_enum:{Zero:"u32",One:"u32",Two:"u32",Three:"u32"}},SlotNumber:"u64",VrfData:"[u8; 32]",VrfOutput:"[u8; 32]",VrfProof:"[u8; 64]"}},_o={rpc:{},types:{AccountData:{free:"Balance",reserved:"Balance",miscFrozen:"Balance",feeFrozen:"Balance"},BalanceLockTo212:{id:"LockIdentifier",amount:"Balance",until:"BlockNumber",reasons:"WithdrawReasons"},BalanceLock:{id:"LockIdentifier",amount:"Balance",reasons:"Reasons"},BalanceStatus:{_enum:["Free","Reserved"]},Reasons:{_enum:["Fee","Misc","All"]},ReserveData:{id:"ReserveIdentifier",amount:"Balance"},ReserveIdentifier:"[u8; 8]",VestingSchedule:{offset:"Balance",perBlock:"Balance",startingBlock:"BlockNumber"},WithdrawReasons:{_set:{TransactionPayment:1,Transfer:2,Reserve:4,Fee:8,Tip:16}}}},wo={rpc:{subscribeJustifications:{description:"Returns the block most recently finalized by BEEFY, alongside side its justification.",params:[],pubsub:["justifications","subscribeJustifications","unsubscribeJustifications"],type:"BeefySignedCommitment"}},types:{BeefyCommitment:{payload:"BeefyPayload",blockNumber:"BlockNumber",validatorSetId:"ValidatorSetId"},BeefyId:"[u8; 33]",BeefySignedCommitment:{commitment:"BeefyCommitment",signatures:"Vec<Option<Signature>>"},BeefyNextAuthoritySet:{id:"u64",len:"u32",root:"H256"},BeefyPayload:"MmrRootHash",MmrRootHash:"H256",ValidatorSetId:"u64"}},xo={rpc:{},types:{CollectiveOrigin:{_enum:{Members:"(MemberCount, MemberCount)",Member:"AccountId"}},MemberCount:"u32",ProposalIndex:"u32",VotesTo230:{index:"ProposalIndex",threshold:"MemberCount",ayes:"Vec<AccountId>",nays:"Vec<AccountId>"},Votes:{index:"ProposalIndex",threshold:"MemberCount",ayes:"Vec<AccountId>",nays:"Vec<AccountId>",end:"BlockNumber"}}},ko={rpc:{},types:{AuthorityId:"AccountId",RawVRFOutput:"[u8; 32]"}},So={rpc:{call:{description:"Executes a call to a contract",params:[{name:"callRequest",type:"ContractCallRequest"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"ContractExecResult"},instantiate:{description:"Instantiate a new contract",params:[{name:"request",type:"InstantiateRequest"},{name:"at",type:"BlockHash",isHstoric:!0,isOptional:!0}],type:"ContractInstantiateResult"},getStorage:{description:"Returns the value under a specified storage key in a contract",params:[{name:"address",type:"AccountId"},{name:"key",type:"H256"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"Option<Bytes>"},rentProjection:{description:"Returns the projected time a given contract will be able to sustain paying its rent",params:[{name:"address",type:"AccountId"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"Option<BlockNumber>"}},types:{AliveContractInfo:{trieId:"TrieId",storageSize:"u32",pairCount:"u32",codeHash:"CodeHash",rentAllowance:"Balance",rentPaid:"Balance",deductBlock:"BlockNumber",lastWrite:"Option<BlockNumber>",_reserved:"Option<Null>"},CodeHash:"Hash",ContractCallRequest:{origin:"AccountId",dest:"AccountId",value:"Balance",gasLimit:"u64",inputData:"Bytes"},ContractExecResultSuccessTo255:{status:"u8",data:"Raw"},ContractExecResultTo255:{_enum:{Success:"ContractExecResultSuccessTo255",Error:"Null"}},ContractExecResultSuccessTo260:{flags:"u32",data:"Bytes",gasConsumed:"u64"},ContractExecResultTo260:{_enum:{Success:"ContractExecResultSuccessTo260",Error:"Null"}},ContractExecResultErrModule:{index:"u8",error:"u8",message:"Option<Text>"},ContractExecResultErr:{_enum:{Other:"Text",CannotLookup:"Null",BadOrigin:"Null",Module:"ContractExecResultErrModule"}},ContractExecResultOk:{flags:"u32",data:"Bytes"},ContractExecResultResult:{_enum:{Ok:"ContractExecResultOk",Err:"ContractExecResultErr"}},ContractExecResultTo267:{gasConsumed:"u64",debugMessage:"Text",result:"ContractExecResultResult"},ContractExecResult:{gasConsumed:"u64",gasRequired:"u64",debugMessage:"Text",result:"ContractExecResultResult"},ContractInfo:{_enum:{Alive:"AliveContractInfo",Tombstone:"TombstoneContractInfo"}},ContractStorageKey:"[u8; 32]",DeletedContract:{pairCount:"u32",trieId:"TrieId"},ExecReturnValue:{flags:"u32",data:"Bytes"},Gas:"u64",HostFnWeightsTo264:{caller:"Weight",address:"Weight",gasLeft:"Weight",balance:"Weight",valueTransferred:"Weight",minimumBalance:"Weight",tombstoneDeposit:"Weight",rentAllowance:"Weight",blockNumber:"Weight",now:"Weight",weightToFee:"Weight",gas:"Weight",input:"Weight",inputPerByte:"Weight",return:"Weight",returnPerByte:"Weight",terminate:"Weight",restoreTo:"Weight",restoreToPerDelta:"Weight",random:"Weight",depositEvent:"Weight",depositEventPerTopic:"Weight",depositEventPerByte:"Weight",setRentAllowance:"Weight",setStorage:"Weight",setStoragePerByte:"Weight",clearStorage:"Weight",getStorage:"Weight",getStoragePerByte:"Weight",transfer:"Weight",call:"Weight",callTransferSurcharge:"Weight",callPerInputByte:"Weight",callPerOutputByte:"Weight",instantiate:"Weight",instantiatePerInputByte:"Weight",instantiatePerOutputByte:"Weight",hashSha2256:"Weight",hashSha2256PerByte:"Weight",hashKeccak256:"Weight",hashKeccak256PerByte:"Weight",hashBlake2256:"Weight",hashBlake2256PerByte:"Weight",hashBlake2128:"Weight",hashBlake2128PerByte:"Weight"},HostFnWeights:{caller:"Weight",address:"Weight",gasLeft:"Weight",balance:"Weight",valueTransferred:"Weight",minimumBalance:"Weight",tombstoneDeposit:"Weight",rentAllowance:"Weight",blockNumber:"Weight",now:"Weight",weightToFee:"Weight",gas:"Weight",input:"Weight",inputPerByte:"Weight",return:"Weight",returnPerByte:"Weight",terminate:"Weight",terminatePerCodeByte:"Weight",restoreTo:"Weight",restoreToPerCallerCodeByte:"Weight",restoreToPerTombstoneCodeByte:"Weight",restoreToPerDelta:"Weight",random:"Weight",depositEvent:"Weight",depositEventPerTopic:"Weight",depositEventPerByte:"Weight",setRentAllowance:"Weight",setStorage:"Weight",setStoragePerByte:"Weight",clearStorage:"Weight",getStorage:"Weight",getStoragePerByte:"Weight",transfer:"Weight",call:"Weight",callPerCodeByte:"Weight",callTransferSurcharge:"Weight",callPerInputByte:"Weight",callPerOutputByte:"Weight",instantiate:"Weight",instantiatePerCodeByte:"Weight",instantiatePerInputByte:"Weight",instantiatePerOutputByte:"Weight",instantiatePerSaltByte:"Weight",hashSha2256:"Weight",hashSha2256PerByte:"Weight",hashKeccak256:"Weight",hashKeccak256PerByte:"Weight",hashBlake2256:"Weight",hashBlake2256PerByte:"Weight",hashBlake2128:"Weight",hashBlake2128PerByte:"Weight",rentParams:"Weight"},InstantiateRequest:{origin:"AccountId",endowment:"Balance",gasLimit:"Gas",code:"Bytes",data:"Bytes",salt:"Bytes"},ContractInstantiateResultTo267:{_enum:{Ok:"InstantiateReturnValueTo267",Err:"Null"}},ContractInstantiateResult:{_enum:{Ok:"InstantiateReturnValue",Err:"Null"}},InstantiateReturnValueTo267:{result:"ExecReturnValue",accountId:"AccountId",rentProjection:"Option<RentProjection>"},InstantiateReturnValue:{_fallback:"InstantiateReturnValueTo267",result:"ExecReturnValue",accountId:"AccountId"},InstructionWeights:{i64const:"u32",i64load:"u32",i64store:"u32",select:"u32",rIf:"u32",br:"u32",brIf:"u32",brIable:"u32",brIablePerEntry:"u32",call:"u32",callIndirect:"u32",callIndirectPerParam:"u32",localGet:"u32",localSet:"u32",local_tee:"u32",globalGet:"u32",globalSet:"u32",memoryCurrent:"u32",memoryGrow:"u32",i64clz:"u32",i64ctz:"u32",i64popcnt:"u32",i64eqz:"u32",i64extendsi32:"u32",i64extendui32:"u32",i32wrapi64:"u32",i64eq:"u32",i64ne:"u32",i64lts:"u32",i64ltu:"u32",i64gts:"u32",i64gtu:"u32",i64les:"u32",i64leu:"u32",i64ges:"u32",i64geu:"u32",i64add:"u32",i64sub:"u32",i64mul:"u32",i64divs:"u32",i64divu:"u32",i64rems:"u32",i64remu:"u32",i64and:"u32",i64or:"u32",i64xor:"u32",i64shl:"u32",i64shrs:"u32",i64shru:"u32",i64rotl:"u32",i64rotr:"u32"},LimitsTo264:{eventTopics:"u32",stackHeight:"u32",globals:"u32",parameters:"u32",memoryPages:"u32",tableSize:"u32",brTableSize:"u32",subjectLen:"u32",codeSize:"u32"},Limits:{eventTopics:"u32",stackHeight:"u32",globals:"u32",parameters:"u32",memoryPages:"u32",tableSize:"u32",brTableSize:"u32",subjectLen:"u32"},PrefabWasmModule:{scheduleVersion:"Compact<u32>",initial:"Compact<u32>",maximum:"Compact<u32>",refcount:"Compact<u64>",_reserved:"Option<Null>",code:"Bytes",originalCodeLen:"u32"},RentProjection:{_enum:{EvictionAt:"BlockNumber",NoEviction:"Null"}},ScheduleTo212:{version:"u32",putCodePerByteCost:"Gas",growMemCost:"Gas",regularOpCost:"Gas",returnDataPerByteCost:"Gas",eventDataPerByteCost:"Gas",eventPerTopicCost:"Gas",eventBaseCost:"Gas",sandboxDataReadCost:"Gas",sandboxDataWriteCost:"Gas",maxEventTopics:"u32",maxStackHeight:"u32",maxMemoryPages:"u32",enablePrintln:"bool",maxSubjectLen:"u32"},ScheduleTo258:{version:"u32",putCodePerByteCost:"Gas",growMemCost:"Gas",regularOpCost:"Gas",returnDataPerByteCost:"Gas",eventDataPerByteCost:"Gas",eventPerTopicCost:"Gas",eventBaseCost:"Gas",sandboxDataReadCost:"Gas",sandboxDataWriteCost:"Gas",transferCost:"Gas",maxEventTopics:"u32",maxStackHeight:"u32",maxMemoryPages:"u32",enablePrintln:"bool",maxSubjectLen:"u32"},ScheduleTo264:{version:"u32",enablePrintln:"bool",limits:"LimitsTo264",instructionWeights:"InstructionWeights",hostFnWeights:"HostFnWeightsTo264"},Schedule:{version:"u32",enablePrintln:"bool",limits:"Limits",instructionWeights:"InstructionWeights",hostFnWeights:"HostFnWeights"},SeedOf:"Hash",TombstoneContractInfo:"Hash",TrieId:"Bytes"}};var Oo={rpc:{},types:{AccountVote:{_enum:{Standard:"AccountVoteStandard",Split:"AccountVoteSplit"}},AccountVoteSplit:{aye:"Balance",nay:"Balance"},AccountVoteStandard:{vote:"Vote",balance:"Balance"},Conviction:{_enum:["None","Locked1x","Locked2x","Locked3x","Locked4x","Locked5x","Locked6x"]},Delegations:{votes:"Balance",capital:"Balance"},PreimageStatus:{_enum:{Missing:"BlockNumber",Available:"PreimageStatusAvailable"}},PreimageStatusAvailable:{data:"Bytes",provider:"AccountId",deposit:"Balance",since:"BlockNumber",expiry:"Option<BlockNumber>"},PriorLock:"(BlockNumber, Balance)",PropIndex:"u32",Proposal:"Call",ProxyState:{_enum:{Open:"AccountId",Active:"AccountId"}},ReferendumIndex:"u32",ReferendumInfoTo239:{end:"BlockNumber",proposalHash:"Hash",threshold:"VoteThreshold",delay:"BlockNumber"},ReferendumInfo:{_enum:{Ongoing:"ReferendumStatus",Finished:"ReferendumInfoFinished"}},ReferendumInfoFinished:{approved:"bool",end:"BlockNumber"},ReferendumStatus:{end:"BlockNumber",proposalHash:"Hash",threshold:"VoteThreshold",delay:"BlockNumber",tally:"Tally"},Tally:{ayes:"Balance",nays:"Balance",turnout:"Balance"},Voting:{_enum:{Direct:"VotingDirect",Delegating:"VotingDelegating"}},VotingDirect:{votes:"Vec<VotingDirectVote>",delegations:"Delegations",prior:"PriorLock"},VotingDirectVote:"(ReferendumIndex, AccountVote)",VotingDelegating:{balance:"Balance",target:"AccountId",conviction:"Conviction",delegations:"Delegations",prior:"PriorLock"}}},Po={rpc:{},types:{ApprovalFlag:"u32",DefunctVoter:{who:"AccountId",voteCount:"Compact<u32>",candidateCount:"Compact<u32>"},Renouncing:{_enum:{Member:"Null",RunnerUp:"Null",Candidate:"Compact<u32>"}},SetIndex:"u32",Vote:"GenericVote",VoteIndex:"u32",VoterInfo:{lastActive:"VoteIndex",lastWin:"VoteIndex",pot:"Balance",stake:"Balance"},VoteThreshold:{_enum:["Super Majority Approve","Super Majority Against","Simple Majority"]}}},Eo={rpc:{createBlock:{description:"Instructs the manual-seal authorship task to create a new block",params:[{name:"createEmpty",type:"bool"},{name:"finalize",type:"bool"},{name:"parentHash",type:"BlockHash",isOptional:!0}],type:"CreatedBlock"},finalizeBlock:{description:"Instructs the manual-seal authorship task to finalize a block",params:[{name:"hash",type:"BlockHash"},{name:"justification",type:"Justification",isOptional:!0}],type:"bool"}},types:{CreatedBlock:{hash:"BlockHash",aux:"ImportedAux"},ImportedAux:{headerOnly:"bool",clearJustificationRequests:"bool",needsJustification:"bool",badJustification:"bool",needsFinalityProof:"bool",isNewBest:"bool"}}},Ao={rpc:{},types:{EvmAccount:{nonce:"u256",balance:"u256"},EvmLog:{address:"H160",topics:"Vec<H256>",data:"Bytes"},EvmVicinity:{gasPrice:"u256",origin:"H160"},ExitError:{_enum:{StackUnderflow:"Null",StackOverflow:"Null",InvalidJump:"Null",InvalidRange:"Null",DesignatedInvalid:"Null",CallTooDeep:"Null",CreateCollision:"Null",CreateContractLimit:"Null",OutOfOffset:"Null",OutOfGas:"Null",OutOfFund:"Null",PCUnderflow:"Null",CreateEmpty:"Null",Other:"Text"}},ExitFatal:{_enum:{NotSupported:"Null",UnhandledInterrupt:"Null",CallErrorAsFatal:"ExitError",Other:"Text"}},ExitReason:{_enum:{Succeed:"ExitSucceed",Error:"ExitError",Revert:"ExitRevert",Fatal:"ExitFatal"}},ExitRevert:{_enum:["Reverted"]},ExitSucceed:{_enum:["Stopped","Returned","Suicided"]}}},Co={rpc:{},types:{Extrinsic:"GenericExtrinsic",ExtrinsicEra:"GenericExtrinsicEra",ExtrinsicPayload:"GenericExtrinsicPayload",ExtrinsicSignature:"MultiSignature",ExtrinsicV4:"GenericExtrinsicV4",ExtrinsicPayloadV4:"GenericExtrinsicPayloadV4",ExtrinsicSignatureV4:"GenericExtrinsicSignatureV4",ExtrinsicUnknown:"GenericExtrinsicUnknown",ExtrinsicPayloadUnknown:"GenericExtrinsicPayloadUnknown",Era:"ExtrinsicEra",ImmortalEra:"GenericImmortalEra",MortalEra:"GenericMortalEra",AnySignature:"H512",MultiSignature:{_enum:{Ed25519:"Ed25519Signature",Sr25519:"Sr25519Signature",Ecdsa:"EcdsaSignature"}},Signature:"H512",SignerPayload:"GenericSignerPayload",EcdsaSignature:"[u8; 65]",Ed25519Signature:"H512",Sr25519Signature:"H512"}},To={rpc:{},types:{AssetOptions:{initalIssuance:"Compact<Balance>",permissions:"PermissionLatest"},Owner:{_enum:{None:"Null",Address:"AccountId"}},PermissionsV1:{update:"Owner",mint:"Owner",burn:"Owner"},PermissionVersions:{_enum:{V1:"PermissionsV1"}},PermissionLatest:"PermissionsV1"}},Do={rpc:{},types:{ActiveGilt:{proportion:"Perquintill",amount:"Balance",who:"AccountId",expiry:"BlockNumber"},ActiveGiltsTotal:{frozen:"Balance",proportion:"Perquintill",index:"ActiveIndex",target:"Perquintill"},ActiveIndex:"u32",GiltBid:{amount:"Balance",who:"AccountId"}}},jo={rpc:{proveFinality:{description:"Prove finality for the range (begin; end] hash.",params:[{name:"begin",type:"BlockHash"},{name:"end",type:"BlockHash"},{name:"authoritiesSetId",type:"u64",isOptional:!0}],type:"Option<EncodedFinalityProofs>"},roundState:{description:"Returns the state of the current best round state as well as the ongoing background rounds",params:[],type:"ReportedRoundStates"},subscribeJustifications:{description:"Subscribes to grandpa justifications",params:[],pubsub:["justifications","subscribeJustifications","unsubscribeJustifications"],type:"JustificationNotification"}},types:{AuthorityIndex:"u64",AuthorityList:"Vec<NextAuthority>",AuthoritySet:{currentAuthorities:"AuthorityList",setId:"u64",pendingStandardChanges:"ForkTreePendingChange",pendingForcedChanges:"Vec<PendingChange>",authoritySetChanges:"AuthoritySetChanges"},ForkTreePendingChange:{roots:"Vec<ForkTreePendingChangeNode>",bestFinalizedNumber:"Option<BlockNumber>"},ForkTreePendingChangeNode:{hash:"BlockHash",number:"BlockNumber",data:"PendingChange",children:"Vec<ForkTreePendingChangeNode>"},AuthoritySetChange:"(U64, BlockNumber)",AuthoritySetChanges:"Vec<AuthoritySetChange>",AuthorityWeight:"u64",DelayKind:{_enum:{Finalized:"Null",Best:"DelayKindBest"}},DelayKindBest:{medianLastFinalized:"BlockNumber"},EncodedFinalityProofs:"Bytes",GrandpaEquivocation:{_enum:{Prevote:"GrandpaEquivocationValue",Precommit:"GrandpaEquivocationValue"}},GrandpaEquivocationProof:{setId:"SetId",equivocation:"GrandpaEquivocation"},GrandpaEquivocationValue:{roundNumber:"u64",identity:"AuthorityId",first:"(GrandpaPrevote, AuthoritySignature)",second:"(GrandpaPrevote, AuthoritySignature)"},GrandpaPrevote:{targetHash:"Hash",targetNumber:"BlockNumber"},GrandpaCommit:{targetHash:"BlockHash",targetNumber:"BlockNumber",precommits:"Vec<GrandpaSignedPrecommit>"},GrandpaPrecommit:{targetHash:"BlockHash",targetNumber:"BlockNumber"},GrandpaSignedPrecommit:{precommit:"GrandpaPrecommit",signature:"AuthoritySignature",id:"AuthorityId"},GrandpaJustification:{round:"u64",commit:"GrandpaCommit",votesAncestries:"Vec<Header>"},JustificationNotification:"Bytes",KeyOwnerProof:"MembershipProof",NextAuthority:"(AuthorityId, AuthorityWeight)",PendingChange:{nextAuthorities:"AuthorityList",delay:"BlockNumber",canonHeight:"BlockNumber",canonHash:"BlockHash",delayKind:"DelayKind"},PendingPause:{scheduledAt:"BlockNumber",delay:"BlockNumber"},PendingResume:{scheduledAt:"BlockNumber",delay:"BlockNumber"},Precommits:{currentWeight:"u32",missing:"BTreeSet<AuthorityId>"},Prevotes:{currentWeight:"u32",missing:"BTreeSet<AuthorityId>"},ReportedRoundStates:{setId:"u32",best:"RoundState",background:"Vec<RoundState>"},RoundState:{round:"u32",totalWeight:"u32",thresholdWeight:"u32",prevotes:"Prevotes",precommits:"Precommits"},SetId:"u64",StoredPendingChange:{scheduledAt:"BlockNumber",delay:"BlockNumber",nextAuthorities:"AuthorityList"},StoredState:{_enum:{Live:"Null",PendingPause:"PendingPause",Paused:"Null",PendingResume:"PendingResume"}}}},Mo={rpc:{},types:{IdentityFields:{_set:{_bitLength:64,Display:1,Legal:2,Web:4,Riot:8,Email:16,PgpFingerprint:32,Image:64,Twitter:128}},IdentityInfoAdditional:"(Data, Data)",IdentityInfoTo198:{additional:"Vec<IdentityInfoAdditional>",display:"Data",legal:"Data",web:"Data",riot:"Data",email:"Data",pgpFingerprint:"Option<H160>",image:"Data"},IdentityInfo:{_fallback:"IdentityInfoTo198",additional:"Vec<IdentityInfoAdditional>",display:"Data",legal:"Data",web:"Data",riot:"Data",email:"Data",pgpFingerprint:"Option<H160>",image:"Data",twitter:"Data"},IdentityJudgement:{_enum:{Unknown:"Null",FeePaid:"Balance",Reasonable:"Null",KnownGood:"Null",OutOfDate:"Null",LowQuality:"Null",Erroneous:"Null"}},RegistrationJudgement:"(RegistrarIndex, IdentityJudgement)",RegistrationTo198:{judgements:"Vec<RegistrationJudgement>",deposit:"Balance",info:"IdentityInfoTo198"},Registration:{_fallback:"RegistrationTo198",judgements:"Vec<RegistrationJudgement>",deposit:"Balance",info:"IdentityInfo"},RegistrarIndex:"u32",RegistrarInfo:{account:"AccountId",fee:"Balance",fields:"IdentityFields"}}},Io={rpc:{},types:{AuthIndex:"u32",AuthoritySignature:"Signature",Heartbeat:{blockNumber:"BlockNumber",networkState:"OpaqueNetworkState",sessionIndex:"SessionIndex",authorityIndex:"AuthIndex",validatorsLen:"u32"},HeartbeatTo244:{blockNumber:"BlockNumber",networkState:"OpaqueNetworkState",sessionIndex:"SessionIndex",authorityIndex:"AuthIndex"},OpaqueMultiaddr:"Bytes",OpaquePeerId:"Bytes",OpaqueNetworkState:{peerId:"OpaquePeerId",externalAddresses:"Vec<OpaqueMultiaddr>"}}},Ro={rpc:{},types:{CallIndex:"(u8, u8)",LotteryConfig:{price:"Balance",start:"BlockNumber",length:"BlockNumber",delay:"BlockNumber",repeat:"bool"}}},Bo={rpc:{generateProof:{description:"Generate MMR proof for given leaf index.",params:[{name:"leafIndex",type:"u64"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"MmrLeafProof"}},types:{MmrLeafProof:{blockHash:"BlockHash",leaf:"Bytes",proof:"Bytes"}}},No={rpc:{},types:{DeferredOffenceOf:"(Vec<OffenceDetails>, Vec<Perbill>, SessionIndex)",Kind:"[u8; 16]",OffenceDetails:{offender:"Offender",reporters:"Vec<Reporter>"},Offender:"IdentificationTuple",OpaqueTimeSlot:"Bytes",ReportIdOf:"Hash",Reporter:"AccountId"}},Fo={rpc:{},types:{ProxyDefinition:{delegate:"AccountId",proxyType:"ProxyType",delay:"BlockNumber"},ProxyType:{_enum:["Any","NonTransfer","Governance","Staking"]},ProxyAnnouncement:{real:"AccountId",callHash:"Hash",height:"BlockNumber"}}},qo={rpc:{},types:{ActiveRecovery:{created:"BlockNumber",deposit:"Balance",friends:"Vec<AccountId>"},RecoveryConfig:{delayPeriod:"BlockNumber",deposit:"Balance",friends:"Vec<AccountId>",threshold:"u16"}}},Lo={rpc:{},types:{Period:"(BlockNumber, u32)",Priority:"u8",SchedulePeriod:"Period",SchedulePriority:"Priority",Scheduled:{maybeId:"Option<Bytes>",priority:"SchedulePriority",call:"Call",maybePeriodic:"Option<SchedulePeriod>",origin:"PalletsOrigin"},ScheduledTo254:{maybeId:"Option<Bytes>",priority:"SchedulePriority",call:"Call",maybePeriodic:"Option<SchedulePeriod>"},TaskAddress:"(BlockNumber, u32)"}};function Ho(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ho(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ho(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var zo={rpc:{},types:Uo(Uo({},{BeefyKey:"[u8; 33]",Keys:"SessionKeys4",SessionKeys1:"(AccountId)",SessionKeys2:"(AccountId, AccountId)",SessionKeys3:"(AccountId, AccountId, AccountId)",SessionKeys4:"(AccountId, AccountId, AccountId, AccountId)",SessionKeys5:"(AccountId, AccountId, AccountId, AccountId, AccountId)",SessionKeys6:"(AccountId, AccountId, AccountId, AccountId, AccountId, AccountId)",SessionKeys6B:"(AccountId, AccountId, AccountId, AccountId, AccountId, BeefyKey)",SessionKeys7:"(AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, AccountId)",SessionKeys7B:"(AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, BeefyKey)",SessionKeys8:"(AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, AccountId)",SessionKeys8B:"(AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, BeefyKey)",SessionKeys9:"(AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, AccountId)",SessionKeys9B:"(AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, BeefyKey)",SessionKeys10:"(AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, AccountId)",SessionKeys10B:"(AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, AccountId, BeefyKey)"}),{},{FullIdentification:"Exposure",IdentificationTuple:"(ValidatorId, FullIdentification)",MembershipProof:{session:"SessionIndex",trieNodes:"Vec<Vec<u8>>",validatorCount:"ValidatorCount"},SessionIndex:"u32",ValidatorCount:"u32"})},Vo={rpc:{},types:{Bid:{who:"AccountId",kind:"BidKind",value:"Balance"},BidKind:{_enum:{Deposit:"Balance",Vouch:"(AccountId, Balance)"}},SocietyJudgement:{_enum:["Rebid","Reject","Approve"]},SocietyVote:{_enum:["Skeptic","Reject","Approve"]},StrikeCount:"u32",VouchingStatus:{_enum:["Vouching","Banned"]}}};function Go(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Go(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Go(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ko={rpc:{},types:Wo(Wo(Wo({},{Points:"u32",EraPoints:{total:"Points",individual:"Vec<Points>"}}),{CompactAssignments:"CompactAssignmentsWith16",CompactAssignmentsWith16:{votes1:"Vec<(NominatorIndexCompact, ValidatorIndexCompact)>",votes2:"Vec<(NominatorIndexCompact, CompactScoreCompact, ValidatorIndexCompact)>",votes3:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 2], ValidatorIndexCompact)>",votes4:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 3], ValidatorIndexCompact)>",votes5:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 4], ValidatorIndexCompact)>",votes6:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 5], ValidatorIndexCompact)>",votes7:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 6], ValidatorIndexCompact)>",votes8:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 7], ValidatorIndexCompact)>",votes9:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 8], ValidatorIndexCompact)>",votes10:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 9], ValidatorIndexCompact)>",votes11:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 10], ValidatorIndexCompact)>",votes12:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 11], ValidatorIndexCompact)>",votes13:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 12], ValidatorIndexCompact)>",votes14:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 13], ValidatorIndexCompact)>",votes15:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 14], ValidatorIndexCompact)>",votes16:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 15], ValidatorIndexCompact)>"},CompactAssignmentsWith24:{votes1:"Vec<(NominatorIndexCompact, ValidatorIndexCompact)>",votes2:"Vec<(NominatorIndexCompact, CompactScoreCompact, ValidatorIndexCompact)>",votes3:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 2], ValidatorIndexCompact)>",votes4:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 3], ValidatorIndexCompact)>",votes5:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 4], ValidatorIndexCompact)>",votes6:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 5], ValidatorIndexCompact)>",votes7:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 6], ValidatorIndexCompact)>",votes8:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 7], ValidatorIndexCompact)>",votes9:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 8], ValidatorIndexCompact)>",votes10:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 9], ValidatorIndexCompact)>",votes11:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 10], ValidatorIndexCompact)>",votes12:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 11], ValidatorIndexCompact)>",votes13:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 12], ValidatorIndexCompact)>",votes14:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 13], ValidatorIndexCompact)>",votes15:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 14], ValidatorIndexCompact)>",votes16:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 15], ValidatorIndexCompact)>",votes17:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 16], ValidatorIndexCompact)>",votes18:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 17], ValidatorIndexCompact)>",votes19:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 18], ValidatorIndexCompact)>",votes20:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 19], ValidatorIndexCompact)>",votes21:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 20], ValidatorIndexCompact)>",votes22:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 21], ValidatorIndexCompact)>",votes23:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 22], ValidatorIndexCompact)>",votes24:"Vec<(NominatorIndexCompact, [CompactScoreCompact; 23], ValidatorIndexCompact)>"},CompactAssignmentsTo265:"CompactAssignmentsWith16",CompactAssignmentsTo257:{votes1:"Vec<(NominatorIndex, [CompactScore; 0], ValidatorIndex)>",votes2:"Vec<(NominatorIndex, [CompactScore; 1], ValidatorIndex)>",votes3:"Vec<(NominatorIndex, [CompactScore; 2], ValidatorIndex)>",votes4:"Vec<(NominatorIndex, [CompactScore; 3], ValidatorIndex)>",votes5:"Vec<(NominatorIndex, [CompactScore; 4], ValidatorIndex)>",votes6:"Vec<(NominatorIndex, [CompactScore; 5], ValidatorIndex)>",votes7:"Vec<(NominatorIndex, [CompactScore; 6], ValidatorIndex)>",votes8:"Vec<(NominatorIndex, [CompactScore; 7], ValidatorIndex)>",votes9:"Vec<(NominatorIndex, [CompactScore; 8], ValidatorIndex)>",votes10:"Vec<(NominatorIndex, [CompactScore; 9], ValidatorIndex)>",votes11:"Vec<(NominatorIndex, [CompactScore; 10], ValidatorIndex)>",votes12:"Vec<(NominatorIndex, [CompactScore; 11], ValidatorIndex)>",votes13:"Vec<(NominatorIndex, [CompactScore; 12], ValidatorIndex)>",votes14:"Vec<(NominatorIndex, [CompactScore; 13], ValidatorIndex)>",votes15:"Vec<(NominatorIndex, [CompactScore; 14], ValidatorIndex)>",votes16:"Vec<(NominatorIndex, [CompactScore; 15], ValidatorIndex)>"},CompactScore:"(ValidatorIndex, OffchainAccuracy)",CompactScoreCompact:"(ValidatorIndexCompact, OffchainAccuracyCompact)",ElectionCompute:{_enum:["OnChain","Signed","Unsigned"]},ElectionPhase:{_enum:{Off:null,Signed:null,Unsigned:"(bool, BlockNumber)",Emergency:null}},ElectionResult:{compute:"ElectionCompute",slotStake:"Balance",electedStashes:"Vec<AccountId>",exposures:"Vec<(AccountId, Exposure)>"},ElectionScore:"[u128; 3]",ElectionSize:{validators:"Compact<ValidatorIndex>",nominators:"Compact<NominatorIndex>"},ElectionStatus:{_enum:{Close:"Null",Open:"BlockNumber"}},ExtendedBalance:"u128",RawSolution:"RawSolutionWith16",RawSolutionWith16:{compact:"CompactAssignmentsWith16",score:"ElectionScore",round:"u32"},RawSolutionWith24:{compact:"CompactAssignmentsWith24",score:"ElectionScore",round:"u32"},RawSolutionTo265:"RawSolutionWith16",ReadySolution:{supports:"SolutionSupports",score:"ElectionScore",compute:"ElectionCompute"},RoundSnapshot:{voters:"Vec<(AccountId, VoteWeight, Vec<AccountId>)>",targets:"Vec<AccountId>"},SeatHolder:{who:"AccountId",stake:"Balance",deposit:"Balance"},SignedSubmission:{_fallback:"SignedSubmissionTo276",who:"AccountId",deposit:"Balance",solution:"RawSolution",reward:"Balance"},SignedSubmissionTo276:{who:"AccountId",deposit:"Balance",solution:"RawSolution"},SignedSubmissionOf:"SignedSubmission",SolutionOrSnapshotSize:{voters:"Compact<u32>",targets:"Compact<u32>"},SolutionSupport:{total:"ExtendedBalance",voters:"Vec<(AccountId, ExtendedBalance)>"},SolutionSupports:"Vec<(AccountId, SolutionSupport)>",Supports:"SolutionSupports",SubmissionIndicesOf:"BTreeMap<ElectionScore, u32>",Voter:{votes:"Vec<AccountId>",stake:"Balance",deposit:"Balance"},VoteWeight:"u64"}),{},{ActiveEraInfo:{index:"EraIndex",start:"Option<Moment>"},EraIndex:"u32",EraRewardPoints:{total:"RewardPoint",individual:"BTreeMap<AccountId, RewardPoint>"},EraRewards:{total:"u32",rewards:"Vec<u32>"},Exposure:{total:"Compact<Balance>",own:"Compact<Balance>",others:"Vec<IndividualExposure>"},Forcing:{_enum:["NotForcing","ForceNew","ForceNone","ForceAlways"]},IndividualExposure:{who:"AccountId",value:"Compact<Balance>"},KeyType:"AccountId",MomentOf:"Moment",Nominations:{targets:"Vec<AccountId>",submittedIn:"EraIndex",suppressed:"bool"},NominatorIndex:"u32",NominatorIndexCompact:"Compact<NominatorIndex>",OffchainAccuracy:"PerU16",OffchainAccuracyCompact:"Compact<OffchainAccuracy>",PhragmenScore:"[u128; 3]",Points:"u32",RewardDestination:{_enum:{Staked:"Null",Stash:"Null",Controller:"Null",Account:"AccountId",None:"Null"}},RewardPoint:"u32",SlashJournalEntry:{who:"AccountId",amount:"Balance",ownSlash:"Balance"},SlashingSpansTo204:{spanIndex:"SpanIndex",lastStart:"EraIndex",prior:"Vec<EraIndex>"},SlashingSpans:{spanIndex:"SpanIndex",lastStart:"EraIndex",lastNonzeroSlash:"EraIndex",prior:"Vec<EraIndex>"},SpanIndex:"u32",SpanRecord:{slashed:"Balance",paidOut:"Balance"},StakingLedgerTo223:{stash:"AccountId",total:"Compact<Balance>",active:"Compact<Balance>",unlocking:"Vec<UnlockChunk>"},StakingLedgerTo240:{stash:"AccountId",total:"Compact<Balance>",active:"Compact<Balance>",unlocking:"Vec<UnlockChunk>",lastReward:"Option<EraIndex>"},StakingLedger:{stash:"AccountId",total:"Compact<Balance>",active:"Compact<Balance>",unlocking:"Vec<UnlockChunk>",claimedRewards:"Vec<EraIndex>"},UnappliedSlashOther:"(AccountId, Balance)",UnappliedSlash:{validator:"AccountId",own:"Balance",others:"Vec<UnappliedSlashOther>",reporters:"Vec<AccountId>",payout:"Balance"},UnlockChunk:{value:"Compact<Balance>",era:"Compact<BlockNumber>"},ValidatorIndex:"u16",ValidatorIndexCompact:"Compact<ValidatorIndex>",ValidatorPrefs:"ValidatorPrefsWithBlocked",ValidatorPrefsWithCommission:{commission:"Compact<Perbill>"},ValidatorPrefsWithBlocked:{commission:"Compact<Perbill>",blocked:"bool"},ValidatorPrefsTo196:{validatorPayment:"Compact<Balance>"},ValidatorPrefsTo145:{unstakeThreshold:"Compact<u32>",validatorPayment:"Compact<Balance>"}})},Yo={rpc:{},types:{WeightToFeeCoefficient:{coeffInteger:"Balance",coeffFrac:"Perbill",negative:"bool",degree:"u8"}}},Xo={rpc:{genSyncSpec:{endpoint:"sync_state_genSyncSpec",description:"Returns the json-serialized chainspec running the node, with a sync state.",params:[{name:"raw",type:"bool"}],type:"Json"}},types:{}},Jo={rpc:{accountNextIndex:{alias:["account_nextIndex"],description:"Retrieves the next accountIndex as available on the node",params:[{name:"accountId",type:"AccountId"}],type:"Index"},dryRun:{alias:["system_dryRunAt"],description:"Dry run an extrinsic at a given block",params:[{name:"extrinsic",type:"Bytes"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"ApplyExtrinsicResult"},name:{description:"Retrieves the node name",params:[],type:"Text"},version:{description:"Retrieves the version of the node",params:[],type:"Text"},chain:{description:"Retrieves the chain",params:[],type:"Text"},chainType:{description:"Retrieves the chain type",params:[],type:"ChainType"},properties:{description:"Get a custom set of properties as a JSON object, defined in the chain spec",params:[],type:"ChainProperties"},health:{description:"Return health status of the node",params:[],type:"Health"},localPeerId:{description:"Returns the base58-encoded PeerId of the node",params:[],type:"Text"},localListenAddresses:{description:"The addresses include a trailing /p2p/ with the local PeerId, and are thus suitable to be passed to addReservedPeer or as a bootnode address for example",params:[],type:"Vec<Text>"},peers:{description:"Returns the currently connected peers",params:[],type:"Vec<PeerInfo>"},networkState:{alias:["system_unstable_networkState"],description:"Returns current state of the network",params:[],type:"NetworkState"},addReservedPeer:{description:"Adds a reserved peer",params:[{name:"peer",type:"Text"}],type:"Text"},removeReservedPeer:{description:"Remove a reserved peer",params:[{name:"peerId",type:"Text"}],type:"Text"},reservedPeers:{description:"Returns the list of reserved peers",params:[],type:"Vec<Text>"},nodeRoles:{description:"Returns the roles the node is running as",params:[],type:"Vec<NodeRole>"},syncState:{description:"Returns the state of the syncing of the node",params:[],type:"SyncState"},addLogFilter:{description:"Adds the supplied directives to the current log filter",params:[{name:"directives",type:"Text"}],type:"Null"},resetLogFilter:{description:"Resets the log filter to Substrate defaults",params:[],type:"Null"}},types:{AccountInfo:"AccountInfoWithTripleRefCount",AccountInfoWithRefCountU8:{nonce:"Index",refcount:"u8",data:"AccountData"},AccountInfoWithRefCount:{_fallback:"AccountInfoWithRefCountU8",nonce:"Index",refcount:"RefCount",data:"AccountData"},AccountInfoWithDualRefCount:{_fallback:"AccountInfoWithRefCount",nonce:"Index",consumers:"RefCount",providers:"RefCount",data:"AccountData"},AccountInfoWithProviders:"AccountInfoWithDualRefCount",AccountInfoWithTripleRefCount:{_fallback:"AccountInfoWithDualRefCount",nonce:"Index",consumers:"RefCount",providers:"RefCount",sufficients:"RefCount",data:"AccountData"},ApplyExtrinsicResult:"Result<DispatchOutcome, TransactionValidityError>",ArithmeticError:{_enum:["Underflow","Overflow","DivisionByZero"]},BlockLength:{max:"PerDispatchClassU32"},BlockWeights:{baseBlock:"Weight",maxBlock:"Weight",perClass:"PerDispatchClassWeightsPerClass"},ChainProperties:"GenericChainProperties",ChainType:{_enum:{Development:"Null",Local:"Null",Live:"Null",Custom:"Text"}},ConsumedWeight:"PerDispatchClassWeight",DigestOf:"Digest",DispatchClass:{_enum:["Normal","Operational","Mandatory"]},DispatchError:{_enum:{Other:"Null",CannotLookup:"Null",BadOrigin:"Null",Module:"DispatchErrorModule",ConsumerRemaining:"Null",NoProviders:"Null",Token:"TokenError",Arithmetic:"ArithmeticError"}},DispatchErrorModule:{index:"u8",error:"u8"},DispatchErrorTo198:{module:"Option<u8>",error:"u8"},DispatchInfo:{weight:"Weight",class:"DispatchClass",paysFee:"Pays"},DispatchInfoTo190:{weight:"Weight",class:"DispatchClass"},DispatchInfoTo244:{weight:"Weight",class:"DispatchClass",paysFee:"bool"},DispatchOutcome:"Result<(), DispatchError>",DispatchResult:"Result<(), DispatchError>",DispatchResultOf:"DispatchResult",DispatchResultTo198:"Result<(), Text>",Event:"GenericEvent",EventId:"[u8; 2]",EventIndex:"u32",EventRecord:{phase:"Phase",event:"Event",topics:"Vec<Hash>"},Health:{peers:"u64",isSyncing:"bool",shouldHavePeers:"bool"},InvalidTransaction:{_enum:{Call:"Null",Payment:"Null",Future:"Null",Stale:"Null",BadProof:"Null",AncientBirthBlock:"Null",ExhaustsResources:"Null",Custom:"u8",BadMandatory:"Null",MandatoryDispatch:"Null"}},Key:"Bytes",LastRuntimeUpgradeInfo:{specVersion:"Compact<u32>",specName:"Text"},NetworkState:{peerId:"Text",listenedAddresses:"Vec<Text>",externalAddresses:"Vec<Text>",connectedPeers:"HashMap<Text, Peer>",notConnectedPeers:"HashMap<Text, NotConnectedPeer>",averageDownloadPerSec:"u64",averageUploadPerSec:"u64",peerset:"NetworkStatePeerset"},NetworkStatePeerset:{messageQueue:"u64",nodes:"HashMap<Text, NetworkStatePeersetInfo>"},NetworkStatePeersetInfo:{connected:"bool",reputation:"i32"},NodeRole:{_enum:{Full:"Null",LightClient:"Null",Authority:"Null",UnknownRole:"u8"}},NotConnectedPeer:{knownAddresses:"Vec<Text>",latestPingTime:"Option<PeerPing>",versionString:"Option<Text>"},Peer:{enabled:"bool",endpoint:"PeerEndpoint",knownAddresses:"Vec<Text>",latestPingTime:"PeerPing",open:"bool",versionString:"Text"},PeerEndpoint:{listening:"PeerEndpointAddr"},PeerEndpointAddr:{_alias:{localAddr:"local_addr",sendBackAddr:"send_back_addr"},localAddr:"Text",sendBackAddr:"Text"},PeerPing:{nanos:"u64",secs:"u64"},PeerInfo:{peerId:"Text",roles:"Text",protocolVersion:"u32",bestHash:"Hash",bestNumber:"BlockNumber"},PerDispatchClassU32:{normal:"u32",operational:"u32",mandatory:"u32"},PerDispatchClassWeight:{normal:"Weight",operational:"Weight",mandatory:"Weight"},PerDispatchClassWeightsPerClass:{normal:"WeightPerClass",operational:"WeightPerClass",mandatory:"WeightPerClass"},Phase:{_enum:{ApplyExtrinsic:"u32",Finalization:"Null",Initialization:"Null"}},RawOrigin:{_enum:{Root:"Null",Signed:"AccountId",None:"Null"}},RefCount:"u32",RefCountTo259:"u8",SyncState:{startingBlock:"BlockNumber",currentBlock:"BlockNumber",highestBlock:"Option<BlockNumber>"},SystemOrigin:"RawOrigin",TokenError:{_enum:["NoFunds","WouldDie","BelowMinimum","CannotCreate","UnknownAsset","Frozen","Underflow","Overflow"]},TransactionValidityError:{_enum:{Invalid:"InvalidTransaction",Unknown:"UnknownTransaction"}},UnknownTransaction:{_enum:{CannotLookup:"Null",NoUnsignedValidator:"Null",Custom:"u8"}},WeightPerClass:{baseExtrinsic:"Weight",maxExtrinsic:"Weight",maxTotal:"Option<Weight>",reserved:"Option<Weight>"}}},Qo={rpc:{},types:{Bounty:{proposer:"AccountId",value:"Balance",fee:"Balance",curatorDeposit:"Balance",bond:"Balance",status:"BountyStatus"},BountyIndex:"u32",BountyStatus:{_enum:{Proposed:"Null",Approved:"Null",Funded:"Null",CuratorProposed:"BountyStatusCuratorProposed",Active:"BountyStatusActive",PendingPayout:"BountyStatusPendingPayout"}},BountyStatusActive:{curator:"AccountId",updateDue:"BlockNumber"},BountyStatusCuratorProposed:{curator:"AccountId"},BountyStatusPendingPayout:{curator:"AccountId",beneficiary:"AccountId",unlockAt:"BlockNumber"},OpenTip:{reason:"Hash",who:"AccountId",finder:"AccountId",deposit:"Balance",closes:"Option<BlockNumber>",tips:"Vec<OpenTipTip>",findersFee:"bool"},OpenTipTo225:{reason:"Hash",who:"AccountId",finder:"Option<OpenTipFinderTo225>",closes:"Option<BlockNumber>",tips:"Vec<OpenTipTip>"},OpenTipFinderTo225:"(AccountId, Balance)",OpenTipTip:"(AccountId, Balance)",TreasuryProposal:{proposer:"AccountId",value:"Balance",beneficiary:"AccountId",bond:"Balance"}}},Zo={rpc:{},types:{Multiplier:"Fixed128"}},$o={rpc:{},types:{ClassId:"u32",InstanceId:"u32",DepositBalance:"Balance",DepositBalanceOf:"Balance",ClassDetails:{owner:"AccountId",issuer:"AccountId",admin:"AccountId",freezer:"AccountId",totalDeposit:"DepositBalance",freeHolding:"bool",instances:"u32",instanceMetadatas:"u32",attributes:"u32",isFrozen:"bool"},DestroyWitness:{instances:"Compact<u32>",instanceMetadatas:"Compact<u32>",attributes:"Compact<u32>"},InstanceDetails:{owner:"AccountId",approved:"Option<AccountId>",isFrozen:"bool",deposit:"DepositBalance"},ClassMetadata:{deposit:"DepositBalance",data:"Vec<u8>",isFrozen:"bool"},InstanceMetadata:{deposit:"DepositBalance",data:"Vec<u8>",isFrozen:"bool"}}},ec={rpc:{},types:{Multisig:{when:"Timepoint",deposit:"Balance",depositor:"AccountId",approvals:"Vec<AccountId>"},Timepoint:{height:"BlockNumber",index:"u32"}}},tc={rpc:{},types:{VestingInfo:{locked:"Balance",perBlock:"Balance",startingBlock:"BlockNumber"}}},rc={rpc:{},types:{BlockAttestations:{receipt:"CandidateReceipt",valid:"Vec<AccountId>",invalid:"Vec<AccountId>"},IncludedBlocks:{actualNumber:"BlockNumber",session:"SessionIndex",randomSeed:"H256",activeParachains:"Vec<ParaId>",paraBlocks:"Vec<Hash>"},MoreAttestations:{}}},nc={rpc:{},types:{BridgedBlockHash:"H256",BridgedBlockNumber:"BlockNumber",BridgedHeader:"Header",BridgeMessageId:"(LaneId, MessageNonce)",CallOrigin:{_enum:{SourceRoot:"Null",TargetAccount:"(AccountId, MultiSigner, MultiSignature)",SourceAccount:"AccountId"}},ChainId:"[u8; 4]",DeliveredMessages:{begin:"MessageNonce",end:"MessageNonce",dispatchResults:"BitVec"},DispatchFeePayment:{_enum:["AtSourceChain","AtTargetChain"]},InboundLaneData:{relayers:"Vec<UnrewardedRelayer>",lastConfirmedNonce:"MessageNonce"},InboundRelayer:"AccountId",InitializationData:{header:"Header",authorityList:"AuthorityList",setId:"SetId",isHalted:"bool"},LaneId:"[u8; 4]",MessageData:{payload:"Bytes",fee:"Balance"},MessagesDeliveryProofOf:{bridgedHeaderHash:"BlockHash",storageProof:"Vec<Bytes>",lane:"LaneId"},MessageKey:{laneId:"LaneId",nonce:"MessageNonce"},MessageNonce:"u64",MessagesProofOf:{bridgedHeaderHash:"BridgedBlockHash",storageProof:"Vec<Bytes>",lane:"LaneId",noncesStart:"MessageNonce",noncesEnd:"MessageNonce"},OperatingMode:{_enum:["Normal","RejectingOutboundMessages","Halted"]},OutboundLaneData:{oldestUnprunedNonce:"MessageNonce",latestReceivedNonce:"MessageNonce",latestGeneratedNonce:"MessageNonce"},OutboundMessageFee:"Balance",OutboundPayload:{specVersion:"u32",weight:"Weight",origin:"CallOrigin",dispatchFeePayment:"DispatchFeePayment",call:"Bytes"},Parameter:"Null",RelayerId:"AccountId",UnrewardedRelayer:{relayer:"RelayerId",messages:"DeliveredMessages"},UnrewardedRelayersState:{unrewardedRelayer_Entries:"MessageNonce",messagesInOldestEntry:"MessageNonce",totalMessages:"MessageNonce"}}},ac={rpc:{},types:{StatementKind:{_enum:["Regular","Saft"]}}},ic={rpc:{},types:{FundIndex:"u32",LastContribution:{_enum:{Never:"Null",PreEnding:"u32",Ending:"BlockNumber"}},FundInfo:{depositor:"AccountId",verifier:"Option<MultiSigner>",deposit:"Balance",raised:"Balance",end:"BlockNumber",cap:"Balance",lastContribution:"LastContribution",firstPeriod:"LeasePeriod",lastPeriod:"LeasePeriod",trieIndex:"TrieIndex"},TrieIndex:"u32"}};function sc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var oc={rpc:{},types:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sc(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{ConfigData:{maxIndividual:"Weight"},MessageId:"[u8; 32]",OverweightIndex:"u64",PageCounter:"u32",PageIndexData:{beginUsed:"PageCounter",endUsed:"PageCounter",overweightCount:"OverweightIndex"}})};function cc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var lc=uc(uc({},{Bidder:{_enum:{New:"NewBidder",Existing:"ParaId"}},IncomingParachain:{_enum:{Unset:"NewBidder",Fixed:"IncomingParachainFixed",Deploy:"IncomingParachainDeploy"}},IncomingParachainDeploy:{code:"ValidationCode",initialHeadData:"HeadData"},IncomingParachainFixed:{codeHash:"Hash",codeSize:"u32",initialHeadData:"HeadData"},NewBidder:{who:"AccountId",sub:"SubId"},SubId:"u32"}),{},{AuctionIndex:"u32",LeasePeriod:"BlockNumber",LeasePeriodOf:"BlockNumber",SlotRange:{_enum:["ZeroZero","ZeroOne","ZeroTwo","ZeroThree","OneOne","OneTwo","OneThree","TwoTwo","TwoThree","ThreeThree"]},WinningData:"[WinningDataEntry; 10]",WinningDataEntry:"Option<(AccountId, ParaId, BalanceOf)>",WinnersData:"Vec<WinnersDataTuple>",WinnersDataTuple:"(AccountId, ParaId, BalanceOf, SlotRange)"});function dc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dc(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pc={rpc:{},types:hc(hc(hc(hc(hc(hc({},{ServiceQuality:{_enum:["Ordered","Fast"]}}),{DisputeLocation:{_enum:["Local","Remote"]},DisputeResult:{_enum:["Valid","Invalid"]},DisputeState:{validatorsFor:"BitVec",validatorsAgainst:"BitVec",start:"BlockNumber",concludedAt:"Option<BlockNumber>"},DisputeStatement:{_enum:{Valid:"ValidDisputeStatementKind",Invalid:"InvalidDisputeStatementKind"}},DisputeStatementSet:{candidateHash:"CandidateHash",session:"SessionIndex",statements:"Vec<(DisputeStatement, ParaValidatorIndex, ValidatorSignature)>"},ExplicitDisputeStatement:{valid:"bool",candidateHash:"CandidateHash",session:"SessionIndex"},InvalidDisputeStatementKind:{_enum:["Explicit"]},MultiDisputeStatementSet:"Vec<DisputeStatementSet>",ValidDisputeStatementKind:{_enum:{Explicit:"Null",BackingSeconded:"Hash",BackingValid:"Hash",ApprovalChecking:"Null"}}}),{HrmpChannel:{maxCapacity:"u32",maxTotalSize:"u32",maxMessageSize:"u32",msgCount:"u32",totalSize:"u32",mqcHead:"Option<Hash>",senderDeposit:"Balance",recipientDeposit:"Balance"},HrmpChannelId:{sender:"u32",receiver:"u32"},HrmpOpenChannelRequest:{confirmed:"bool",age:"SessionIndex",senderDeposit:"Balance",maxMessageSize:"u32",maxCapacity:"u32",maxTotalSize:"u32"}}),{ParachainProposal:{proposer:"AccountId",genesisHead:"HeadData",validators:"Vec<ValidatorId>",name:"Bytes",balance:"Balance"},RegisteredParachainInfo:{validators:"Vec<ValidatorId>",proposer:"AccountId"}}),lc),{},{AbridgedCandidateReceipt:{parachainIndex:"ParaId",relayParent:"Hash",headData:"HeadData",collator:"CollatorId",signature:"CollatorSignature",povBlockHash:"Hash",commitments:"CandidateCommitments"},AbridgedHostConfiguration:{maxCodeSize:"u32",maxHeadDataSize:"u32",maxUpwardQueueCount:"u32",maxUpwardQueueSize:"u32",maxUpwardMessageSize:"u32",maxUpwardMessageNumPerCandidate:"u32",hrmpMaxMessageNumPerCandidate:"u32",validationUpgradeFrequency:"BlockNumber",validationUpgradeDelay:"BlockNumber"},AbridgedHrmpChannel:{maxCapacity:"u32",maxTotalSize:"u32",maxMessageSize:"u32",msgCount:"u32",totalSize:"u32",mqcHead:"Option<Hash>"},AssignmentId:"AccountId",AssignmentKind:{_enum:{Parachain:"Null",Parathread:"(CollatorId, u32)"}},AttestedCandidate:{candidate:"AbridgedCandidateReceipt",validityVotes:"Vec<ValidityAttestation>",validatorIndices:"BitVec"},AuthorityDiscoveryId:"AccountId",AvailabilityBitfield:"BitVec",AvailabilityBitfieldRecord:{bitfield:"AvailabilityBitfield",submittedTt:"BlockNumber"},BackedCandidate:{candidate:"CommittedCandidateReceipt",validityVotes:"Vec<ValidityAttestation>",validatorIndices:"BitVec"},BufferedSessionChange:{applyAt:"BlockNumber",validators:"Vec<ValidatorId>",queued:"Vec<ValidatorId>",sessionIndex:"SessionIndex"},CandidateCommitments:{upwardMessages:"Vec<UpwardMessage>",horizontalMessages:"Vec<OutboundHrmpMessage>",newValidationCode:"Option<ValidationCode>",headData:"HeadData",processedDownwardMessages:"u32",hrmpWatermark:"BlockNumber"},CandidateDescriptor:{paraId:"ParaId",relayParent:"RelayChainHash",collatorId:"CollatorId",persistedValidationDataHash:"Hash",povHash:"Hash",erasureRoot:"Hash",signature:"CollatorSignature",paraHead:"Hash",validationCodeHash:"ValidationCodeHash"},CandidateHash:"Hash",CandidateInfo:{who:"AccountId",deposit:"Balance"},CandidatePendingAvailability:{core:"CoreIndex",hash:"CandidateHash",descriptor:"CandidateDescriptor",availabilityVotes:"BitVec",backers:"BitVec",relayParentNumber:"BlockNumber",backedInNumber:"BlockNumber",backingGroup:"GroupIndex"},CandidateReceipt:{descriptor:"CandidateDescriptor",commitmentsHash:"Hash"},GlobalValidationData:{maxCodeSize:"u32",maxHeadDataSize:"u32",blockNumber:"BlockNumber"},CollatorId:"H256",CollatorSignature:"Signature",CommittedCandidateReceipt:{descriptor:"CandidateDescriptor",commitments:"CandidateCommitments"},CoreAssignment:{core:"CoreIndex",paraId:"ParaId",kind:"AssignmentKind",groupIdx:"GroupIndex"},CoreIndex:"u32",CoreOccupied:{_enum:{Parathread:"ParathreadEntry",Parachain:"Null"}},DoubleVoteReport:{identity:"ValidatorId",first:"(Statement, ValidatorSignature)",second:"(Statement, ValidatorSignature)",proof:"MembershipProof",signingContext:"SigningContext"},DownwardMessage:"Bytes",GroupIndex:"u32",GlobalValidationSchedule:{maxCodeSize:"u32",maxHeadDataSize:"u32",blockNumber:"BlockNumber"},HeadData:"Bytes",HostConfiguration:{maxCodeSize:"u32",maxHeadDataSize:"u32",maxUpwardQueueCount:"u32",maxUpwardQueueSize:"u32",maxUpwardMessageSize:"u32",maxUpwardMessageNumPerCandidate:"u32",hrmpMaxMessageNumPerCandidate:"u32",validationUpgradeFrequency:"BlockNumber",validationUpgradeDelay:"BlockNumber",maxPovSize:"u32",maxDownwardMessageSize:"u32",preferredDispatchableUpwardMessagesStepWeight:"Weight",hrmpMaxParachainOutboundChannels:"u32",hrmpMaxParathreadOutboundChannels:"u32",hrmpOpenRequestTtl:"u32",hrmpSenderDeposit:"Balance",hrmpRecipientDeposit:"Balance",hrmpChannelMaxCapacity:"u32",hrmpChannelMaxTotalSize:"u32",hrmpMaxParachainInboundChannels:"u32",hrmpMaxParathreadInboundChannels:"u32",hrmpChannelMaxMessageSize:"u32",codeRetentionPeriod:"BlockNumber",parathreadCores:"u32",parathreadRetries:"u32",groupRotationFrequency:"BlockNumber",chainAvailabilityPeriod:"BlockNumber",threadAvailabilityPeriod:"BlockNumber",schedulingLookahead:"u32",maxValidatorsPerCore:"Option<u32>",maxValidators:"Option<u32>",disputePeriod:"SessionIndex",disputePostConclusionAcceptancePeriod:"BlockNumber",disputeMaxSpamSlots:"u32",disputeConclusionByTimeOutPeriod:"BlockNumber",noShowSlots:"u32",nDelayTranches:"u32",zerothDelayTrancheWidth:"u32",neededApprovals:"u32",relayVrfModuloSamples:"u32"},InboundDownwardMessage:{pubSentAt:"BlockNumber",pubMsg:"DownwardMessage"},InboundHrmpMessage:{sentAt:"BlockNumber",data:"Bytes"},InboundHrmpMessages:"Vec<InboundHrmpMessage>",LocalValidationData:{parentHead:"HeadData",balance:"Balance",codeUpgradeAllowed:"Option<BlockNumber>"},MessageIngestionType:{downwardMessages:"Vec<InboundDownwardMessage>",horizontalMessages:"BTreeMap<ParaId, InboundHrmpMessages>"},MessageQueueChain:"RelayChainHash",OutboundHrmpMessage:{recipient:"u32",data:"Bytes"},ParachainDispatchOrigin:{_enum:["Signed","Parachain","Root"]},ParachainInherentData:{validationData:"PersistedValidationData",relayChainState:"StorageProof",downwardMessages:"Vec<InboundDownwardMessage>",horizontalMessages:"BTreeMap<ParaId, VecInboundHrmpMessage>"},ParachainsInherentData:{bitfields:"SignedAvailabilityBitfields",backedCandidates:"Vec<BackedCandidate>",disputes:"MultiDisputeStatementSet",parentHeader:"Header"},ParaGenesisArgs:{genesisHead:"Bytes",validationCode:"Bytes",parachain:"bool"},ParaId:"u32",ParaInfo:{manager:"AccountId",deposit:"Balance",locked:"bool"},ParaLifecycle:{_enum:["Onboarding","Parathread","Parachain","UpgradingToParachain","DowngradingToParathread","OutgoingParathread","OutgoingParachain"]},ParaPastCodeMeta:{upgradeTimes:"Vec<ReplacementTimes>",lastPruned:"Option<BlockNumber>"},ParaScheduling:{_enum:["Always","Dynamic"]},ParathreadClaim:"(ParaId, CollatorId)",ParathreadClaimQueue:{queue:"Vec<QueuedParathread>",nextCoreOffset:"u32"},ParathreadEntry:{claim:"ParathreadClaim",retries:"u32"},ParaValidatorIndex:"u32",PersistedValidationData:{parentHead:"HeadData",relayParentNumber:"RelayChainBlockNumber",relayParentStorageRoot:"Hash",maxPovSize:"u32"},QueuedParathread:{claim:"ParathreadEntry",coreOffset:"u32"},RelayBlockNumber:"u32",RelayChainBlockNumber:"RelayBlockNumber",RelayHash:"Hash",RelayChainHash:"RelayHash",Remark:"[u8; 32]",ReplacementTimes:{expectedAt:"BlockNumber",activatedAt:"BlockNumber"},Retriable:{_enum:{Never:"Null",WithRetries:"u32"}},Scheduling:{_enum:["Always","Dynamic"]},SessionInfo:{validators:"Vec<ValidatorId>",discoveryKeys:"Vec<AuthorityDiscoveryId>",assignmentKeys:"Vec<AssignmentId>",validatorGroups:"Vec<SessionInfoValidatorGroup>",nCores:"u32",zerothDelayTrancheWidth:"u32",relayVrfModuloSamples:"u32",nDelayTranches:"u32",noShowSlots:"u32",neededApprovals:"u32"},SessionInfoValidatorGroup:"Vec<ParaValidatorIndex>",SignedAvailabilityBitfield:{payload:"BitVec",validatorIndex:"ParaValidatorIndex",signature:"ValidatorSignature"},SignedAvailabilityBitfields:"Vec<SignedAvailabilityBitfield>",SigningContext:{sessionIndex:"SessionIndex",parentHash:"Hash"},Statement:{_enum:{Never:"Null",Candidate:"Hash",Valid:"Hash",Invalid:"Hash"}},TransientValidationData:{maxCodeSize:"u32",maxHeadDataSize:"u32",balance:"Balance",codeUpgradeAllowed:"Option<BlockNumber>",dmqLength:"u32"},UpgradeGoAhead:{_enum:["Abort","GoAhead"]},UpgradeRestriction:{_enum:["Present"]},UpwardMessage:"Bytes",ValidationFunctionParams:{maxCodeSize:"u32",relayChainHeight:"RelayChainBlockNumber",codeUpgradeAllowed:"Option<RelayChainBlockNumber>"},ValidationCode:"Bytes",ValidationCodeHash:"Hash",ValidationData:{persisted:"PersistedValidationData",transient:"TransientValidationData"},ValidationDataType:{validationData:"ValidationData",relayChainState:"Vec<Bytes>"},ValidatorSignature:"Signature",ValidityAttestation:{_enum:{Never:"Null",Implicit:"ValidatorSignature",Explicit:"ValidatorSignature"}},MessagingStateSnapshot:{relayDispatchQueueSize:"(u32, u32)",egressChannels:"Vec<MessagingStateSnapshotEgressEntry>"},MessagingStateSnapshotEgressEntry:"(ParaId, AbridgedHrmpChannel)",SystemInherentData:"ParachainInherentData",VecInboundHrmpMessage:"Vec<InboundHrmpMessage>"})},fc={rpc:{},types:{Approvals:"[bool; 4]"}},mc={rpc:{},types:{AccountStatus:{validity:"AccountValidity",freeBalance:"Balance",lockedBalance:"Balance",signature:"Vec<u8>",vat:"Permill"},AccountValidity:{_enum:["Invalid","Initiated","Pending","ValidLow","ValidHigh","Completed"]}}};function gc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gc(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const bc=["AssetInstance","Fungibility","Junction","Junctions","MultiAsset","MultiAssetFilter","MultiLocation","Response","WildFungibility","WildMultiAsset","Xcm","XcmError","XcmOrder"];function vc(e){return bc.reduce((t,r)=>yc(yc({},t),{},{[r]:`${r}${e}`}),{})}function _c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_c(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xc={rpc:{},types:wc(wc(wc(wc(wc(wc(wc({},{BodyId:{_enum:{Unit:"Null",Named:"Vec<u8>",Index:"Compact<u32>",Executive:"Null",Technical:"Null",Legislative:"Null",Judicial:"Null"}},BodyPart:{_enum:{Voice:"Null",Members:"Compact<u32>",Fraction:{nom:"Compact<u32>",denom:"Compact<u32>"},AtLeastProportion:{nom:"Compact<u32>",denom:"Compact<u32>"},MoreThanProportion:{nom:"Compact<u32>",denom:"Compact<u32>"}}},InteriorMultiLocation:"Junctions",NetworkId:{_enum:{Any:"Null",Named:"Vec<u8>",Polkadot:"Null",Kusama:"Null"}}}),{XcmOrigin:{_enum:{Xcm:"MultiLocation"}},XcmpMessageFormat:{_enum:["ConcatenatedVersionedXcm","ConcatenatedEncodedBlob","Signals"]},XcmAssetId:{_enum:{Concrete:"MultiLocation",Abstract:"Bytes"}},InboundStatus:{_enum:["Ok","Suspended"]},OutboundStatus:{_enum:["Ok","Suspended"]},MultiAssets:"Vec<MultiAsset>"}),{FungibilityV0:"FungibilityV1",WildFungibilityV0:"WildFungibilityV1",AssetInstanceV0:{_enum:{Undefined:"Null",Index8:"u8",Index16:"Compact<u16>",Index32:"Compact<u32>",Index64:"Compact<u64>",Index128:"Compact<u128>",Array4:"[u8; 4]",Array8:"[u8; 8]",Array16:"[u8; 16]",Array32:"[u8; 32]",Blob:"Vec<u8>"}},JunctionV0:{_enum:{Parent:"Null",Parachain:"Compact<u32>",AccountId32:{network:"NetworkId",id:"AccountId"},AccountIndex64:{network:"NetworkId",index:"Compact<u64>"},AccountKey20:{network:"NetworkId",key:"[u8; 20]"},PalletInstance:"u8",GeneralIndex:"Compact<u128>",GeneralKey:"Vec<u8>",OnlyChild:"Null",Plurality:{id:"BodyId",part:"BodyPart"}}},MultiAssetV0:{_enum:{None:"Null",All:"Null",AllFungible:"Null",AllNonFungible:"Null",AllAbstractFungible:"Vec<u8>",AllAbstractNonFungible:"Vec<u8>",AllConcreteFungible:"MultiLocationV0",AllConcreteNonFungible:"MultiLocationV0",AbstractFungible:{id:"Vec<u8>",instance:"Compact<u128>"},AbstractNonFungible:{class:"Vec<u8>",instance:"AssetInstanceV0"},ConcreteFungible:{id:"MultiLocationV0",amount:"Compact<u128>"},ConcreteNonFungible:{class:"MultiLocationV0",instance:"AssetInstanceV0"}}},MultiLocationV0:{_enum:{Here:"Null",X1:"JunctionV0",X2:"(JunctionV0, JunctionV0)",X3:"(JunctionV0, JunctionV0, JunctionV0)",X4:"(JunctionV0, JunctionV0, JunctionV0, JunctionV0)",X5:"(JunctionV0, JunctionV0, JunctionV0, JunctionV0, JunctionV0)",X6:"(JunctionV0, JunctionV0, JunctionV0, JunctionV0, JunctionV0, JunctionV0)",X7:"(JunctionV0, JunctionV0, JunctionV0, JunctionV0, JunctionV0, JunctionV0, JunctionV0)",X8:"(JunctionV0, JunctionV0, JunctionV0, JunctionV0, JunctionV0, JunctionV0, JunctionV0, JunctionV0)"}},OriginKindV0:{_enum:["Native","SovereignAccount","Superuser","Xcm"]},ResponseV0:{_enum:{Assets:"Vec<MultiAssetV0>"}},XcmV0:{_enum:{WithdrawAsset:{assets:"Vec<MultiAssetV0>",effects:"Vec<XcmOrderV0>"},ReserveAssetDeposit:{assets:"Vec<MultiAssetV0>",effects:"Vec<XcmOrderV0>"},ReceiveTeleportedAsset:{assets:"Vec<MultiAssetV0>",effects:"Vec<XcmOrderV0>"},QueryResponse:{queryId:"Compact<u64>",response:"ResponseV0"},TransferAsset:{assets:"Vec<MultiAssetV0>",dest:"MultiLocationV0"},TransferReserveAsset:{assets:"Vec<MultiAssetV0>",dest:"MultiLocationV0",effects:"Vec<XcmOrderV0>"},Transact:{originType:"XcmOriginKind",requireWeightAtMost:"u64",call:"DoubleEncodedCall"},HrmpNewChannelOpenRequest:{sender:"Compact<u32>",maxMessageSize:"Compact<u32>",maxCapacity:"Compact<u32>"},HrmpChannelAccepted:{recipient:"Compact<u32>"},HrmpChannelClosing:{initiator:"Compact<u32>",sender:"Compact<u32>",recipient:"Compact<u32>"},RelayedFrom:{who:"MultiLocationV0",message:"XcmV0"}}},XcmErrorV0:{_enum:{Undefined:"Null",Overflow:"Null",Unimplemented:"Null",UnhandledXcmVersion:"Null",UnhandledXcmMessage:"Null",UnhandledEffect:"Null",EscalationOfPrivilege:"Null",UntrustedReserveLocation:"Null",UntrustedTeleportLocation:"Null",DestinationBufferOverflow:"Null",SendFailed:"Null",CannotReachDestination:"(MultiLocation, Xcm)",MultiLocationFull:"Null",FailedToDecode:"Null",BadOrigin:"Null",ExceedsMaxMessageSize:"Null",FailedToTransactAsset:"Null",WeightLimitReached:"Weight",Wildcard:"Null",TooMuchWeightRequired:"Null",NotHoldingFees:"Null",WeightNotComputable:"Null",Barrier:"Null",NotWithdrawable:"Null",LocationCannotHold:"Null",TooExpensive:"Null",AssetNotFound:"Null",RecursionLimitReached:"Null"}},XcmOrderV0:{_enum:{Null:"Null",DepositAsset:{assets:"Vec<MultiAssetV0>",dest:"MultiLocationV0"},DepositReserveAsset:{assets:"Vec<MultiAssetV0>",dest:"MultiLocationV0",effects:"Vec<XcmOrderV0>"},ExchangeAsset:{give:"Vec<MultiAssetV0>",receive:"Vec<MultiAssetV0>"},InitiateReserveWithdraw:{assets:"Vec<MultiAssetV0>",reserve:"MultiLocationV0",effects:"Vec<XcmOrderV0>"},InitiateTeleport:{assets:"Vec<MultiAsset>",dest:"MultiLocationV0",effects:"Vec<XcmOrderV0>"},QueryHolding:{queryId:"Compact<u64>",dest:"MultiLocationV0",assets:"Vec<MultiAssetV0>"},BuyExecution:{fees:"MultiAsset",weight:"u64",debt:"u64",haltOnError:"bool",xcm:"Vec<XcmV0>"}}}}),{AssetInstanceV1:{_enum:{Undefined:"Null",Index:"Compact<u128>",Array4:"[u8; 4]",Array8:"[u8; 8]",Array16:"[u8; 16]",Array32:"[u8; 32]",Blob:"Bytes"}},FungibilityV1:{_enum:{Fungible:"Compact<u128>",NonFungible:"AssetInstanceV1"}},JunctionV1:{_enum:{Parachain:"Compact<u32>",AccountId32:{network:"NetworkId",id:"AccountId"},AccountIndex64:{network:"NetworkId",index:"Compact<u64>"},AccountKey20:{network:"NetworkId",key:"[u8; 20]"},PalletInstance:"u8",GeneralIndex:"Compact<u128>",GeneralKey:"Vec<u8>",OnlyChild:"Null",Plurality:{id:"BodyId",part:"BodyPart"}}},JunctionsV1:{_enum:{Here:"Null",X1:"JunctionV1",X2:"(JunctionV1, JunctionV1)",X3:"(JunctionV1, JunctionV1, JunctionV1)",X4:"(JunctionV1, JunctionV1, JunctionV1, JunctionV1)",X5:"(JunctionV1, JunctionV1, JunctionV1, JunctionV1, JunctionV1)",X6:"(JunctionV1, JunctionV1, JunctionV1, JunctionV1, JunctionV1, JunctionV1)",X7:"(JunctionV1, JunctionV1, JunctionV1, JunctionV1, JunctionV1, JunctionV1, JunctionV1)",X8:"(JunctionV1, JunctionV1, JunctionV1, JunctionV1, JunctionV1, JunctionV1, JunctionV1, JunctionV1)"}},MultiAssetsV1:"Vec<MultiAssetV1>",MultiAssetV1:{id:"XcmAssetId",fungibility:"FungibilityV1"},MultiAssetFilterV1:{_enum:{Definite:"MultiAssetsV1",Wild:"WildMultiAssetV1"}},MultiLocationV1:{parents:"u8",interior:"JunctionsV1"},OriginKindV1:"OriginKindV0",ResponseV1:{_enum:{Assets:"MultiAssetsV1"}},WildFungibilityV1:{_enum:["Fungible","NonFungible"]},WildMultiAssetV1:{_enum:{All:"Null",AllOf:{id:"XcmAssetId",fungibility:"WildFungibilityV1"}}},XcmV1:{_enum:{WithdrawAsset:{assets:"MultiAssetsV1",effects:"Vec<XcmOrderV1>"},ReserveAssetDeposit:{assets:"MultiAssetsV1",effects:"Vec<XcmOrderV1>"},ReceiveTeleportedAsset:{assets:"MultiAssetsV1",effects:"Vec<XcmOrderV1>"},QueryResponse:{queryId:"Compact<u64>",response:"ResponseV1"},TransferAsset:{assets:"MultiAssetsV1",dest:"MultiLocationV1"},TransferReserveAsset:{assets:"MultiAssetsV1",dest:"MultiLocationV1",effects:"Vec<XcmOrderV1>"},Transact:{originType:"XcmOriginKind",requireWeightAtMost:"u64",call:"DoubleEncodedCall"},HrmpNewChannelOpenRequest:{sender:"Compact<u32>",maxMessageSize:"Compact<u32>",maxCapacity:"Compact<u32>"},HrmpChannelAccepted:{recipient:"Compact<u32>"},HrmpChannelClosing:{initiator:"Compact<u32>",sender:"Compact<u32>",recipient:"Compact<u32>"},RelayedFrom:{who:"MultiLocationV1",message:"XcmV1"}}},XcmErrorV1:{_enum:{Undefined:"Null",Overflow:"Null",Unimplemented:"Null",UnhandledXcmVersion:"Null",UnhandledXcmMessage:"Null",UnhandledEffect:"Null",EscalationOfPrivilege:"Null",UntrustedReserveLocation:"Null",UntrustedTeleportLocation:"Null",DestinationBufferOverflow:"Null",SendFailed:"Null",CannotReachDestination:"(MultiLocationV1, XcmV1)",MultiLocationFull:"Null",FailedToDecode:"Null",BadOrigin:"Null",ExceedsMaxMessageSize:"Null",FailedToTransactAsset:"Null",WeightLimitReached:"Weight",Wildcard:"Null",TooMuchWeightRequired:"Null",NotHoldingFees:"Null",WeightNotComputable:"Null",Barrier:"Null",NotWithdrawable:"Null",LocationCannotHold:"Null",TooExpensive:"Null",AssetNotFound:"Null",DestinationUnsupported:"Null",RecursionLimitReached:"Null"}},XcmOrderV1:{_enum:{Noop:"Null",DepositAsset:{assets:"MultiAssetFilterV1",maxAssets:"u32",beneficiary:"MultiLocationV1"},DepositReserveAsset:{assets:"MultiAssetFilterV1",maxAssets:"u32",dest:"MultiLocationV1",effects:"Vec<XcmOrderV1>"},ExchangeAsset:{give:"MultiAssetFilterV1",receive:"MultiAssetsV1"},InitiateReserveWithdraw:{assets:"MultiAssetFilterV1",reserve:"MultiLocationV1",effects:"Vec<XcmOrderV1>"},InitiateTeleport:{assets:"MultiAssetFilterV1",dest:"MultiLocationV1",effects:"Vec<XcmOrderV1>"},QueryHolding:{queryId:"Compact<u64>",dest:"MultiLocationV1",assets:"MultiAssetFilterV1"},BuyExecution:{fees:"MultiAssetV1",weight:"u64",debt:"u64",haltOnError:"bool",instructions:"Vec<XcmV1>"}}}}),{AssetInstanceV2:"AssetInstanceV1",FungibilityV2:"FungibilityV1",JunctionV2:"JunctionV1",JunctionsV2:"JunctionsV1",MultiAssetsV2:"MultiAssetsV1",MultiAssetV2:"MultiAssetV1",MultiAssetFilterV2:"MultiAssetFilterV1",MultiLocationV2:"MultiLocationV1",OriginKindV2:"OriginKindV1",WildFungibilityV2:"WildFungibilityV1",ResponseV2:{_enum:{Null:"Null",Assets:"MultiAssetsV2",ExecutionResult:"ResponseV2Result"}},ResponseV2Error:"(u32, XcmErrorV2)",ResponseV2Result:"Result<Null, ResponseV2Error>",WeightLimitV2:{_enum:{Unlimited:"Null",Limited:"Compact<u64>"}},InstructionV2:{_enum:{WithdrawAsset:"MultiAssetsV2",ReserveAssetDeposited:"MultiAssetsV2",ReceiveTeleportedAsset:"MultiAssetsV2",QueryResponse:{queryId:"Compact<u64>",response:"ResponseV2",maxWeight:"Compact<u64>"},TransferAsset:{assets:"MultiAssetsV2",beneficiary:"MultiLocationV2"},TransferReserveAsset:{assets:"MultiAssetsV2",dest:"MultiLocationV2",xcm:"XcmV2"},Transact:{originType:"OriginKindV2",requireWeightAtMost:"u64",call:"DoubleEncodedCall"},HrmpNewChannelOpenRequest:{sender:"Compact<u32>",maxMessageSize:"Compact<u32>",maxCapacity:"Compact<u32>"},HrmpChannelAccepted:{recipient:"Compact<u32>"},HrmpChannelClosing:{initiator:"Compact<u32>",sender:"Compact<u32>",recipient:"Compact<u32>"},ClearOrigin:"Null",DescendOrigin:"InteriorMultiLocation",ReportError:{queryId:"Compact<u64>",dest:"MultiLocationV2",maxResponseWeight:"Compact<u64>"},DepositAsset:{assets:"MultiAssetFilterV2",maxAssets:"u32",beneficiary:"MultiLocationV2"},DepositReserveAsset:{assets:"MultiAssetFilterV2",maxAssets:"u32",dest:"MultiLocationV2",xcm:"XcmV2"},ExchangeAsset:{give:"MultiAssetFilterV2",receive:"MultiAssetsV2"},InitiateReserveWithdraw:{assets:"MultiAssetFilterV2",reserve:"MultiLocationV2",xcm:"XcmV2"},InitiateTeleport:{assets:"MultiAssetFilterV2",dest:"MultiLocationV2",xcm:"XcmV2"},QueryHolding:{query_id:"Compact<u64>",dest:"MultiLocationV2",assets:"MultiAssetFilterV2",maxResponse_Weight:"Compact<u64>"},BuyExecution:{fees:"MultiAssetV2",weightLimit:"WeightLimitV2"},RefundSurplus:"Null",SetErrorHandler:"XcmV2",SetAppendix:"XcmV2",ClearError:"Null",ClaimAsset:{assets:"MultiAssetsV2",ticket:"MultiLocationV2"},Trap:"u64"}},WildMultiAssetV2:"WildMultiAssetV1",XcmV2:"Vec<InstructionV2>",XcmErrorV2:{_enum:{Undefined:"Null",Overflow:"Null",Unimplemented:"Null",UnhandledXcmVersion:"Null",UnhandledXcmMessage:"Null",UnhandledEffect:"Null",EscalationOfPrivilege:"Null",UntrustedReserveLocation:"Null",UntrustedTeleportLocation:"Null",DestinationBufferOverflow:"Null",MultiLocationFull:"Null",MultiLocationNotInvertible:"Null",FailedToDecode:"Null",BadOrigin:"Null",ExceedsMaxMessageSize:"Null",FailedToTransactAsset:"Null",WeightLimitReached:"Weight",Wildcard:"Null",TooMuchWeightRequired:"Null",NotHoldingFees:"Null",WeightNotComputable:"Null",Barrier:"Null",NotWithdrawable:"Null",LocationCannotHold:"Null",TooExpensive:"Null",AssetNotFound:"Null",DestinationUnsupported:"Null",RecursionLimitReached:"Null",Transport:"Null",Unroutable:"Null",UnknownWeightRequired:"Null",Trap:"u64",UnknownClaim:"Null",InvalidLocation:"Null"}},XcmOrderV2:"XcmOrderV1"}),vc("V2")),{},{DoubleEncodedCall:{encoded:"Vec<u8>"},XcmOriginKind:{_enum:["Native","SovereignAccount","Superuser","Xcm"]},Outcome:{_enum:{Complete:"Weight",Incomplete:"(Weight, XcmErrorV0)",Error:"XcmErrorV0"}},QueryId:"u64",QueryStatus:{_enum:{Pending:{responder:"VersionedMultiLocation",maybeNotify:"Option<(u8, u8)>",timeout:"BlockNumber"},Ready:{response:"VersionedResponse",at:"BlockNumber"}}},QueueConfigData:{suspendThreshold:"u32",dropThreshold:"u32",resumeThreshold:"u32",thresholdWeight:"Weight",weightRestrictDecay:"Weight"},VersionMigrationStage:{_enum:{MigrateSupportedVersion:"Null",MigrateVersionNotifiers:"Null",NotifyCurrentTargets:"Option<Bytes>",MigrateAndNotifyOldTargets:"Null"}},VersionedMultiAsset:{_enum:{V0:"MultiAssetV0",V1:"MultiAssetV1",V2:"MultiAssetV2"}},VersionedMultiAssets:{_enum:{V0:"Vec<MultiAssetV0>",V1:"MultiAssetsV1",V2:"MultiAssetsV2"}},VersionedMultiLocation:{_enum:{V0:"MultiLocationV0",V1:"MultiLocationV1",V2:"MultiLocationV2"}},VersionedResponse:{V0:"ResponseV0",V1:"ResponseV1",V2:"ResponseV2"},VersionedXcm:{_enum:{V0:"XcmV0",V1:"XcmV1",V2:"XcmV2"}},XcmVersion:"u32"})};function kc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Oc={types:"Vec<Si0Type>",spec:"ContractContractSpec"},Pc={source:"ContractProjectSource",contract:"ContractProjectContract"};var Ec={rpc:{},types:Sc(Sc(Sc({},{ContractCryptoHasher:{_enum:["Blake2x256","Sha2x256","Keccak256"]},ContractDiscriminant:"u32",ContractLayoutArray:{offset:"ContractLayoutKey",len:"u32",cellsPerElem:"u64",layout:"ContractStorageLayout"},ContractLayoutCell:{key:"ContractLayoutKey",ty:"SiLookupTypeId"},ContractLayoutEnum:{dispatchKey:"ContractLayoutKey",variants:"BTreeMap<ContractDiscriminant, ContractLayoutStruct>"},ContractLayoutHash:{offset:"ContractLayoutKey",strategy:"ContractLayoutHashingStrategy",layout:"ContractStorageLayout"},ContractLayoutHashingStrategy:{hasher:"ContractCryptoHasher",postfix:"Vec<u8>",prefix:"Vec<u8>"},ContractLayoutKey:"[u8; 32]",ContractLayoutStruct:{fields:"Vec<ContractLayoutStructField>"},ContractLayoutStructField:{layout:"ContractStorageLayout",name:"Text"},ContractStorageLayout:{_enum:{Cell:"ContractLayoutCell",Hash:"ContractLayoutHash",Array:"ContractLayoutArray",Struct:"ContractLayoutStruct",Enum:"ContractLayoutEnum"}}}),{ContractConstructorSpec:{name:"Text",selector:"ContractSelector",args:"Vec<ContractMessageParamSpec>",docs:"Vec<Text>"},ContractContractSpec:{constructors:"Vec<ContractConstructorSpec>",messages:"Vec<ContractMessageSpec>",events:"Vec<ContractEventSpec>",docs:"Vec<Text>"},ContractDisplayName:"SiPath",ContractEventParamSpec:{name:"Text",indexed:"bool",type:"ContractTypeSpec",docs:"Vec<Text>"},ContractEventSpec:{name:"Text",args:"Vec<ContractEventParamSpec>",docs:"Vec<Text>"},ContractMessageParamSpec:{name:"Text",type:"ContractTypeSpec"},ContractMessageSpec:{name:"Text",selector:"ContractSelector",mutates:"bool",payable:"bool",args:"Vec<ContractMessageParamSpec>",returnType:"Option<ContractTypeSpec>",docs:"Vec<Text>"},ContractSelector:"[u8; 4]",ContractTypeSpec:{type:"SiLookupTypeId",displayName:"ContractDisplayName"}}),{},{ContractProjectInfo:Pc,ContractMetadataV0:Oc,ContractMetadataV1:{types:"Vec<PortableType>",spec:"ContractContractSpec"},ContractMetadata:{_enum:{V0:"ContractMetadataV0",V1:"ContractMetadataV1"}},ContractMetadataLatest:"ContractMetadataV1",ContractProjectV0:Sc(Sc({metadataVersion:"Text"},Pc),Oc),ContractProject:"(ContractProjectInfo, ContractMetadata)",ContractProjectContract:{_alias:{docs:"documentation"},name:"Text",version:"Text",authors:"Vec<Text>",description:"Option<Text>",docs:"Option<Text>",repository:"Option<Text>",homepage:"Option<Text>",license:"Option<Text>"},ContractProjectSource:{_alias:{wasmHash:"hash"},wasmHash:"[u8; 32]",language:"Text",compiler:"Text",wasm:"Raw"}})};const Ac={name:"Text",fields:"Vec<Si1Field>",index:"u8",docs:"Vec<Text>"},Cc={Si1Field:{name:"Option<Text>",type:"Si1LookupTypeId",typeName:"Option<Text>",docs:"Vec<Text>"},Si1LookupTypeId:"Compact<u32>",Si1Path:"Si0Path",Si1Type:{path:"Si1Path",params:"Vec<Si1TypeParameter>",def:"Si1TypeDef",docs:"Vec<Text>"},Si1TypeDef:{_enum:{Composite:"Si1TypeDefComposite",Variant:"Si1TypeDefVariant",Sequence:"Si1TypeDefSequence",Array:"Si1TypeDefArray",Tuple:"Si1TypeDefTuple",Primitive:"Si1TypeDefPrimitive",Compact:"Si1TypeDefCompact",BitSequence:"Si1TypeDefBitSequence",HistoricMetaCompat:"Type"}},Si1TypeDefArray:{len:"u32",type:"Si1LookupTypeId"},Si1TypeDefBitSequence:{bitStoreType:"Si1LookupTypeId",bitOrderType:"Si1LookupTypeId"},Si1TypeDefCompact:{type:"Si1LookupTypeId"},Si1TypeDefComposite:{fields:"Vec<Si1Field>"},Si1TypeDefPrimitive:"Si0TypeDefPrimitive",Si1TypeDefSequence:{type:"Si1LookupTypeId"},Si1TypeDefTuple:"Vec<Si1LookupTypeId>",Si1TypeParameter:{name:"Text",type:"Option<Si1LookupTypeId>"},Si1TypeDefVariant:{variants:"Vec<Si1Variant>"},Si1Variant:Ac};function Tc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tc(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var jc={rpc:{},types:Dc(Dc(Dc({},{Si0Field:{name:"Option<Text>",type:"Si0LookupTypeId",typeName:"Option<Text>",docs:"Vec<Text>"},Si0LookupTypeId:"u32",Si0Path:"Vec<Text>",Si0Type:{path:"Si0Path",params:"Vec<Si0LookupTypeId>",def:"Si0TypeDef"},Si0TypeDef:{_enum:{Composite:"Si0TypeDefComposite",Variant:"Si0TypeDefVariant",Sequence:"Si0TypeDefSequence",Array:"Si0TypeDefArray",Tuple:"Si0TypeDefTuple",Primitive:"Si0TypeDefPrimitive",Compact:"Si0TypeDefCompact",Phantom:"Si0TypeDefPhantom",BitSequence:"Si0TypeDefBitSequence"}},Si0TypeDefArray:{len:"u32",type:"Si0LookupTypeId"},Si0TypeDefBitSequence:{bitStoreType:"Si0LookupTypeId",bitOrderType:"Si0LookupTypeId"},Si0TypeDefCompact:{type:"Si0LookupTypeId"},Si0TypeDefComposite:{fields:"Vec<Si0Field>"},Si0TypeDefPhantom:"Null",Si0TypeDefVariant:{variants:"Vec<Si0Variant>"},Si0TypeDefPrimitive:{_enum:["Bool","Char","Str","U8","U16","U32","U64","U128","U256","I8","I16","I32","I64","I128","I256"]},Si0TypeDefSequence:{type:"Si0LookupTypeId"},Si0TypeDefTuple:"Vec<Si0LookupTypeId>",Si0TypeParameter:{name:"Text",type:"Option<Si0LookupTypeId>"},Si0Variant:{name:"Text",fields:"Vec<Si0Field>",index:"Option<u8>",discriminant:"Option<u64>",docs:"Vec<Text>"}}),Cc),{},{SiField:"Si1Field",SiLookupTypeId:"Si1LookupTypeId",SiPath:"Si1Path",SiType:"Si1Type",SiTypeDef:"Si1TypeDef",SiTypeDefArray:"Si1TypeDefArray",SiTypeDefBitSequence:"Si1TypeDefBitSequence",SiTypeDefCompact:"Si1TypeDefCompact",SiTypeDefComposite:"Si1TypeDefComposite",SiTypeDefPrimitive:"Si1TypeDefPrimitive",SiTypeDefSequence:"Si1TypeDefSequence",SiTypeDefTuple:"Si1TypeDefTuple",SiTypeParameter:"Si1TypeParameter",SiTypeDefVariant:"Si1TypeDefVariant",SiVariant:"Si1Variant"})};function Mc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mc(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rc(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nc={rpc:Ic(Ic(Ic({},{listening:{aliasSection:"net",description:"Returns true if client is actively listening for network connections. Otherwise false.",params:[],type:"bool"},peerCount:{aliasSection:"net",description:"Returns number of peers connected to node.",params:[],type:"String"},version:{aliasSection:"net",description:"Returns protocol version.",params:[],type:"String"}}),{clientVersion:{aliasSection:"web3",description:"Returns current client version.",params:[],type:"String"},sha3:{aliasSection:"web3",description:"Returns sha3 of the given data",params:[{name:"data",type:"Bytes"}],type:"H256"}}),{},{accounts:{description:"Returns accounts list.",params:[],type:"Vec<H160>"},blockNumber:{description:"Returns the blockNumber",params:[],type:"U256"},call:{description:"Call contract, returning the output data.",params:[{name:"request",type:"EthCallRequest"},{isOptional:!0,name:"number",type:"BlockNumber"}],type:"Bytes"},chainId:{description:"Returns the chain ID used for transaction signing at the current best block. None is returned if not available.",params:[],type:"U64"},coinbase:{description:"Returns block author.",params:[],type:"H160"},estimateGas:{description:"Estimate gas needed for execution of given contract.",params:[{name:"request",type:"EthCallRequest"},{isOptional:!0,name:"number",type:"BlockNumber"}],type:"U256"},gasPrice:{description:"Returns current gas price.",params:[],type:"U256"},getBalance:{description:"Returns balance of the given account.",params:[{name:"address",type:"H160"},{isOptional:!0,name:"number",type:"BlockNumber"}],type:"U256"},getBlockByHash:{description:"Returns block with given hash.",params:[{name:"hash",type:"H256"},{name:"full",type:"bool"}],type:"Option<EthRichBlock>"},getBlockByNumber:{description:"Returns block with given number.",params:[{name:"block",type:"BlockNumber"},{name:"full",type:"bool"}],type:"Option<EthRichBlock>"},getBlockTransactionCountByHash:{description:"Returns the number of transactions in a block with given hash.",params:[{name:"hash",type:"H256"}],type:"U256"},getBlockTransactionCountByNumber:{description:"Returns the number of transactions in a block with given block number.",params:[{name:"block",type:"BlockNumber"}],type:"U256"},getCode:{description:"Returns the code at given address at given time (block number).",params:[{name:"address",type:"H160"},{isOptional:!0,name:"number",type:"BlockNumber"}],type:"Bytes"},getFilterChanges:{description:"Returns filter changes since last poll.",params:[{name:"index",type:"U256"}],type:"EthFilterChanges"},getFilterLogs:{description:"Returns all logs matching given filter (in a range 'from' - 'to').",params:[{name:"index",type:"U256"}],type:"Vec<EthLog>"},getLogs:{description:"Returns logs matching given filter object.",params:[{name:"filter",type:"EthFilter"}],type:"Vec<EthLog>"},getProof:{description:"Returns proof for account and storage.",params:[{name:"address",type:"H160"},{name:"storageKeys",type:"Vec<H256>"},{name:"number",type:"BlockNumber"}],type:"EthAccount"},getStorageAt:{description:"Returns content of the storage at given address.",params:[{name:"address",type:"H160"},{name:"index",type:"U256"},{isOptional:!0,name:"number",type:"BlockNumber"}],type:"H256"},getTransactionByBlockHashAndIndex:{description:"Returns transaction at given block hash and index.",params:[{name:"hash",type:"H256"},{name:"index",type:"U256"}],type:"EthTransaction"},getTransactionByBlockNumberAndIndex:{description:"Returns transaction by given block number and index.",params:[{name:"number",type:"BlockNumber"},{name:"index",type:"U256"}],type:"EthTransaction"},getTransactionByHash:{description:"Get transaction by its hash.",params:[{name:"hash",type:"H256"}],type:"EthTransaction"},getTransactionCount:{description:"Returns the number of transactions sent from given address at given time (block number).",params:[{name:"hash",type:"H256"},{isOptional:!0,name:"number",type:"BlockNumber"}],type:"U256"},getTransactionReceipt:{description:"Returns transaction receipt by transaction hash.",params:[{name:"hash",type:"H256"}],type:"EthReceipt"},getUncleByBlockHashAndIndex:{description:"Returns an uncles at given block and index.",params:[{name:"hash",type:"H256"},{name:"index",type:"U256"}],type:"EthRichBlock"},getUncleByBlockNumberAndIndex:{description:"Returns an uncles at given block and index.",params:[{name:"number",type:"BlockNumber"},{name:"index",type:"U256"}],type:"EthRichBlock"},getUncleCountByBlockHash:{description:"Returns the number of uncles in a block with given hash.",params:[{name:"hash",type:"H256"}],type:"U256"},getUncleCountByBlockNumber:{description:"Returns the number of uncles in a block with given block number.",params:[{name:"number",type:"BlockNumber"}],type:"U256"},getWork:{description:"Returns the hash of the current block, the seedHash, and the boundary condition to be met.",params:[],type:"EthWork"},hashrate:{description:"Returns the number of hashes per second that the node is mining with.",params:[],type:"U256"},mining:{description:"Returns true if client is actively mining new blocks.",params:[],type:"bool"},newBlockFilter:{description:"Returns id of new block filter.",params:[],type:"U256"},newFilter:{description:"Returns id of new filter.",params:[{name:"filter",type:"EthFilter"}],type:"U256"},newPendingTransactionFilter:{description:"Returns id of new block filter.",params:[],type:"U256"},protocolVersion:{description:"Returns protocol version encoded as a string (quotes are necessary).",params:[],type:"u64"},sendRawTransaction:{description:"Sends signed transaction, returning its hash.",params:[{name:"bytes",type:"Bytes"}],type:"H256"},sendTransaction:{description:"Sends transaction; will block waiting for signer to return the transaction hash",params:[{name:"tx",type:"EthTransactionRequest"}],type:"H256"},submitHashrate:{description:"Used for submitting mining hashrate.",params:[{name:"index",type:"U256"},{name:"hash",type:"H256"}],type:"bool"},submitWork:{description:"Used for submitting a proof-of-work solution.",params:[{name:"nonce",type:"H64"},{name:"headerHash",type:"H256"},{name:"mixDigest",type:"H256"}],type:"bool"},subscribe:{description:"Subscribe to Eth subscription.",params:[{name:"kind",type:"EthSubKind"},{isOptional:!0,name:"params",type:"EthSubParams"}],pubsub:["subscription","subscribe","unsubscribe"],type:"Null"},syncing:{description:"Returns an object with data about the sync status or false.",params:[],type:"EthSyncStatus"},uninstallFilter:{description:"Uninstalls filter.",params:[{name:"index",type:"U256"}],type:"bool"}}),types:Bc(Bc(Bc(Bc({},{BlockV0:{header:"EthHeader",transactions:"Vec<TransactionV0>",ommers:"Vec<EthHeader>"},LegacyTransaction:{nonce:"U256",gasPrice:"U256",gasLimit:"U256",action:"EthTransactionAction",value:"U256",input:"Bytes",signature:"EthTransactionSignature"},TransactionV0:"LegacyTransaction"}),{BlockV1:{header:"EthHeader",transactions:"Vec<TransactionV1>",ommers:"Vec<EthHeader>"},EIP2930Transaction:{chainId:"u64",nonce:"U256",gasPrice:"U256",gasLimit:"U256",action:"EthTransactionAction",value:"U256",input:"Bytes",accessList:"EthAccessList",oddYParity:"bool",r:"H256",s:"H256"},TransactionV1:{_enum:{Legacy:"LegacyTransaction",EIP2930:"EIP2930Transaction"}}}),{BlockV2:{header:"EthHeader",transactions:"Vec<TransactionV2>",ommers:"Vec<EthHeader>"},EIP1559Transaction:{chainId:"u64",nonce:"U256",maxPriorityFeePerGas:"U256",maxFeePerGas:"U256",gasLimit:"U256",action:"EthTransactionAction",value:"U256",input:"Bytes",accessList:"EthAccessList",oddYParity:"bool",r:"H256",s:"H256"},TransactionV2:{_enum:{Legacy:"LegacyTransaction",EIP2930:"EIP2930Transaction",EIP1559:"EIP1559Transaction"}}}),{},{EthereumAccountId:"GenericEthereumAccountId",EthereumAddress:"GenericEthereumAccountId",EthereumLookupSource:"GenericEthereumLookupSource",EthereumSignature:"[u8; 65]",EthAccessListItem:{address:"EthAddress",slots:"Vec<H256>"},EthAccessList:"Vec<EthAccessListItem>",EthAccount:{address:"EthAddress",balance:"U256",nonce:"U256",codeHash:"H256",storageHash:"H256",accountProof:"Vec<Bytes>",storageProof:"Vec<EthStorageProof>"},EthAddress:"H160",EthBlock:{header:"EthHeader",transactions:"Vec<EthTransaction>",ommers:"Vec<EthHeader>"},EthHeader:{parentHash:"H256",ommersHash:"H256",beneficiary:"EthAddress",stateRoot:"H256",transactionsRoot:"H256",receiptsRoot:"H256",logsBloom:"EthBloom",difficulty:"U256",number:"U256",gasLimit:"U256",gasUsed:"U256",timestamp:"u64",extraData:"Bytes",mixMash:"H256",nonce:"H64"},EthRichBlock:{_alias:{blockHash:"hash",blockSize:"size"},blockHash:"Option<H256>",parentHash:"H256",sha3Uncles:"H256",author:"EthAddress",miner:"EthAddress",stateRoot:"H256",transactionsRoot:"H256",receiptsRoot:"H256",number:"Option<U256>",gasUsed:"U256",gasLimit:"U256",extraData:"Bytes",logsBloom:"EthBloom",timestamp:"U256",difficulty:"U256",totalDifficulty:"Option<U256>",sealFields:"Vec<Bytes>",uncles:"Vec<H256>",transactions:"Vec<EthTransaction>",blockSize:"Option<U256>"},EthBloom:"H2048",EthCallRequest:{from:"Option<EthAddress>",to:"Option<EthAddress>",gasPrice:"Option<U256>",gas:"Option<U256>",value:"Option<U256>",data:"Option<Bytes>",nonce:"Option<U256>"},EthFilter:{fromBlock:"Option<BlockNumber>",toBlock:"Option<BlockNumber>",blockHash:"Option<H256>",address:"Option<EthFilterAddress>",topics:"Option<EthFilterTopic>"},EthFilterAddress:{_enum:{Single:"EthAddress",Multiple:"Vec<EthAddress>",Null:"Null"}},EthFilterChanges:{_enum:{Logs:"Vec<EthLog>",Hashes:"Vec<H256>",Empty:"Null"}},EthFilterTopic:{_enum:{Single:"EthFilterTopicInner",Multiple:"Vec<EthFilterTopicInner>",Null:"Null"}},EthFilterTopicEntry:"Option<H256>",EthFilterTopicInner:{_enum:{Single:"EthFilterTopicEntry",Multiple:"Vec<EthFilterTopicEntry>",Null:"Null"}},EthRichHeader:{_alias:{blockHash:"hash",blockSize:"size"},blockHash:"Option<H256>",parentHash:"H256",sha3Uncles:"H256",author:"EthAddress",miner:"EthAddress",stateRoot:"H256",transactionsRoot:"H256",receiptsRoot:"H256",number:"Option<U256>",gasUsed:"U256",gasLimit:"U256",extraData:"Bytes",logsBloom:"EthBloom",timestamp:"U256",difficulty:"U256",sealFields:"Vec<Bytes>",blockSize:"Option<U256>"},EthLog:{address:"EthAddress",topics:"Vec<H256>",data:"Bytes",blockHash:"Option<H256>",blockNumber:"Option<U256>",transactionHash:"Option<H256>",transactionIndex:"Option<U256>",logIndex:"Option<U256>",transactionLogIndex:"Option<U256>",removed:"bool"},EthReceipt:{transactionHash:"Option<H256>",transactionIndex:"Option<U256>",blockHash:"Option<H256>",from:"Option<EthAddress>",to:"Option<EthAddress>",blockNumber:"Option<U256>",cumulativeGasUsed:"U256",gasUsed:"Option<U256>",contractAddress:"Option<EthAddress>",logs:"Vec<EthLog>",root:"Option<H256>",logsBloom:"EthBloom",statusCode:"Option<U64>"},EthStorageProof:{key:"U256",value:"U256",proof:"Vec<Bytes>"},EthSubKind:{_enum:["newHeads","logs","newPendingTransactions","syncing"]},EthSubParams:{_enum:{None:"Null",Logs:"EthFilter"}},EthSubResult:{_enum:{Header:"EthRichHeader",Log:"EthLog",TransactionHash:"H256",SyncState:"EthSyncStatus"}},EthSyncInfo:{startingBlock:"U256",currentBlock:"U256",highestBlock:"U256",warpChunksAmount:"Option<U256>",warpChunksProcessed:"Option<U256>"},EthSyncStatus:{_enum:{Info:"EthSyncInfo",None:"Null"}},EthTransaction:"LegacyTransaction",EthTransactionSignature:{v:"u64",r:"H256",s:"H256"},EthTransactionAction:{_enum:{Call:"H160",Create:"Null"}},EthTransactionCondition:{_enum:{block:"u64",time:"u64"}},EthTransactionRequest:{from:"Option<EthAddress>",to:"Option<EthAddress>",gasPrice:"Option<U256>",gas:"Option<U256>",value:"Option<U256>",data:"Option<Bytes>",nonce:"Option<U256>"},EthTransactionStatus:{transactionHash:"H256",transactionIndex:"u32",from:"EthAddress",to:"Option<EthAddress>",contractAddress:"Option<EthAddress>",logs:"Vec<EthLog>",logsBloom:"EthBloom"},EthWork:{powHash:"H256",seedHash:"H256",target:"H256",number:"Option<u64>"}})};const Fc={ErrorMetadataV11:"ErrorMetadataV10",EventMetadataV11:"EventMetadataV10",ExtrinsicMetadataV11:{version:"u8",signedExtensions:"Vec<Text>"},FunctionArgumentMetadataV11:"FunctionArgumentMetadataV10",FunctionMetadataV11:"FunctionMetadataV10",MetadataV11:{modules:"Vec<ModuleMetadataV11>",extrinsic:"ExtrinsicMetadataV11"},ModuleConstantMetadataV11:"ModuleConstantMetadataV10",ModuleMetadataV11:{name:"Text",storage:"Option<StorageMetadataV11>",calls:"Option<Vec<FunctionMetadataV11>>",events:"Option<Vec<EventMetadataV11>>",constants:"Vec<ModuleConstantMetadataV11>",errors:"Vec<ErrorMetadataV11>"},StorageEntryModifierV11:"StorageEntryModifierV10",StorageEntryMetadataV11:{name:"Text",modifier:"StorageEntryModifierV11",type:"StorageEntryTypeV11",fallback:"Bytes",docs:"Vec<Text>"},StorageEntryTypeV11:{_enum:{Plain:"Type",Map:{hasher:"StorageHasherV11",key:"Type",value:"Type",linked:"bool"},DoubleMap:{hasher:"StorageHasherV11",key1:"Type",key2:"Type",value:"Type",key2Hasher:"StorageHasherV11"}}},StorageMetadataV11:{prefix:"Text",items:"Vec<StorageEntryMetadataV11>"},StorageHasherV11:{_enum:{Blake2_128:null,Blake2_256:null,Blake2_128Concat:null,Twox128:null,Twox256:null,Twox64Concat:null,Identity:null}}};function qc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qc(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Hc={PortableRegistryV14:"GenericPortableRegistry",PortableTypeV14:{id:"Si1LookupTypeId",type:"Si1Type"},ErrorMetadataV14:Lc(Lc({},Ac),{},{args:"Vec<Type>"}),EventMetadataV14:Lc(Lc({},Ac),{},{args:"Vec<Type>"}),FunctionArgumentMetadataV14:{name:"Text",type:"Type",typeName:"Option<Type>"},FunctionMetadataV14:Lc(Lc({},Ac),{},{args:"Vec<FunctionArgumentMetadataV14>"}),ExtrinsicMetadataV14:{type:"SiLookupTypeId",version:"u8",signedExtensions:"Vec<SignedExtensionMetadataV14>"},MetadataV14:{lookup:"PortableRegistry",pallets:"Vec<PalletMetadataV14>",extrinsic:"ExtrinsicMetadataV14",type:"SiLookupTypeId"},PalletCallMetadataV14:{type:"SiLookupTypeId"},PalletConstantMetadataV14:{name:"Text",type:"SiLookupTypeId",value:"Bytes",docs:"Vec<Text>"},PalletErrorMetadataV14:{type:"SiLookupTypeId"},PalletEventMetadataV14:{type:"SiLookupTypeId"},PalletMetadataV14:{name:"Text",storage:"Option<PalletStorageMetadataV14>",calls:"Option<PalletCallMetadataV14>",events:"Option<PalletEventMetadataV14>",constants:"Vec<PalletConstantMetadataV14>",errors:"Option<PalletErrorMetadataV14>",index:"u8"},PalletStorageMetadataV14:{prefix:"Text",items:"Vec<StorageEntryMetadataV14>"},SignedExtensionMetadataV14:{identifier:"Text",type:"SiLookupTypeId",additionalSigned:"SiLookupTypeId"},StorageEntryMetadataV14:{name:"Text",modifier:"StorageEntryModifierV14",type:"StorageEntryTypeV14",fallback:"Bytes",docs:"Vec<Text>"},StorageEntryModifierV14:"StorageEntryModifierV13",StorageEntryTypeV14:{_enum:{Plain:"SiLookupTypeId",Map:{hashers:"Vec<StorageHasherV14>",key:"SiLookupTypeId",value:"SiLookupTypeId"}}},StorageHasherV14:"StorageHasherV13"};function Uc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uc(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Vc={rpc:{},types:zc(zc(zc(zc(zc(zc(zc({},{ErrorMetadataV9:{name:"Text",docs:"Vec<Text>"},EventMetadataV9:{name:"Text",args:"Vec<Type>",docs:"Vec<Text>"},FunctionArgumentMetadataV9:{name:"Text",type:"Type"},FunctionMetadataV9:{name:"Text",args:"Vec<FunctionArgumentMetadataV9>",docs:"Vec<Text>"},MetadataV9:{modules:"Vec<ModuleMetadataV9>"},ModuleConstantMetadataV9:{name:"Text",type:"Type",value:"Bytes",docs:"Vec<Text>"},ModuleMetadataV9:{name:"Text",storage:"Option<StorageMetadataV9>",calls:"Option<Vec<FunctionMetadataV9>>",events:"Option<Vec<EventMetadataV9>>",constants:"Vec<ModuleConstantMetadataV9>",errors:"Vec<ErrorMetadataV9>"},StorageEntryMetadataV9:{name:"Text",modifier:"StorageEntryModifierV9",type:"StorageEntryTypeV9",fallback:"Bytes",docs:"Vec<Text>"},StorageEntryModifierV9:{_enum:["Optional","Default","Required"]},StorageEntryTypeV9:{_enum:{Plain:"Type",Map:{hasher:"StorageHasherV9",key:"Type",value:"Type",linked:"bool"},DoubleMap:{hasher:"StorageHasherV9",key1:"Type",key2:"Type",value:"Type",key2Hasher:"StorageHasherV9"}}},StorageHasherV9:{_enum:{Blake2_128:null,Blake2_256:null,Twox128:null,Twox256:null,Twox64Concat:null}},StorageMetadataV9:{prefix:"Text",items:"Vec<StorageEntryMetadataV9>"}}),{ErrorMetadataV10:"ErrorMetadataV9",EventMetadataV10:"EventMetadataV9",FunctionArgumentMetadataV10:"FunctionArgumentMetadataV9",FunctionMetadataV10:"FunctionMetadataV9",MetadataV10:{modules:"Vec<ModuleMetadataV10>"},ModuleConstantMetadataV10:"ModuleConstantMetadataV9",ModuleMetadataV10:{name:"Text",storage:"Option<StorageMetadataV10>",calls:"Option<Vec<FunctionMetadataV10>>",events:"Option<Vec<EventMetadataV10>>",constants:"Vec<ModuleConstantMetadataV10>",errors:"Vec<ErrorMetadataV10>"},StorageEntryModifierV10:"StorageEntryModifierV9",StorageEntryMetadataV10:{name:"Text",modifier:"StorageEntryModifierV10",type:"StorageEntryTypeV10",fallback:"Bytes",docs:"Vec<Text>"},StorageEntryTypeV10:{_enum:{Plain:"Type",Map:{hasher:"StorageHasherV10",key:"Type",value:"Type",linked:"bool"},DoubleMap:{hasher:"StorageHasherV10",key1:"Type",key2:"Type",value:"Type",key2Hasher:"StorageHasherV10"}}},StorageMetadataV10:{prefix:"Text",items:"Vec<StorageEntryMetadataV10>"},StorageHasherV10:{_enum:{Blake2_128:null,Blake2_256:null,Blake2_128Concat:null,Twox128:null,Twox256:null,Twox64Concat:null}}}),Fc),{ErrorMetadataV12:"ErrorMetadataV11",EventMetadataV12:"EventMetadataV11",ExtrinsicMetadataV12:"ExtrinsicMetadataV11",FunctionArgumentMetadataV12:"FunctionArgumentMetadataV11",FunctionMetadataV12:"FunctionMetadataV11",MetadataV12:{modules:"Vec<ModuleMetadataV12>",extrinsic:"ExtrinsicMetadataV12"},ModuleConstantMetadataV12:"ModuleConstantMetadataV11",ModuleMetadataV12:{name:"Text",storage:"Option<StorageMetadataV12>",calls:"Option<Vec<FunctionMetadataV12>>",events:"Option<Vec<EventMetadataV12>>",constants:"Vec<ModuleConstantMetadataV12>",errors:"Vec<ErrorMetadataV12>",index:"u8"},StorageEntryModifierV12:"StorageEntryModifierV11",StorageEntryMetadataV12:"StorageEntryMetadataV11",StorageEntryTypeV12:"StorageEntryTypeV11",StorageMetadataV12:"StorageMetadataV11",StorageHasherV12:"StorageHasherV11"}),{ErrorMetadataV13:"ErrorMetadataV12",EventMetadataV13:"EventMetadataV12",ExtrinsicMetadataV13:"ExtrinsicMetadataV12",FunctionArgumentMetadataV13:"FunctionArgumentMetadataV12",FunctionMetadataV13:"FunctionMetadataV12",MetadataV13:{modules:"Vec<ModuleMetadataV13>",extrinsic:"ExtrinsicMetadataV13"},ModuleConstantMetadataV13:"ModuleConstantMetadataV12",ModuleMetadataV13:{name:"Text",storage:"Option<StorageMetadataV13>",calls:"Option<Vec<FunctionMetadataV13>>",events:"Option<Vec<EventMetadataV13>>",constants:"Vec<ModuleConstantMetadataV13>",errors:"Vec<ErrorMetadataV13>",index:"u8"},StorageEntryModifierV13:"StorageEntryModifierV12",StorageEntryMetadataV13:{name:"Text",modifier:"StorageEntryModifierV13",type:"StorageEntryTypeV13",fallback:"Bytes",docs:"Vec<Text>"},StorageEntryTypeV13:{_enum:{Plain:"Type",Map:{hasher:"StorageHasherV13",key:"Type",value:"Type",linked:"bool"},DoubleMap:{hasher:"StorageHasherV13",key1:"Type",key2:"Type",value:"Type",key2Hasher:"StorageHasherV13"},NMap:{keyVec:"Vec<Type>",hashers:"Vec<StorageHasherV13>",value:"Type"}}},StorageMetadataV13:{prefix:"Text",items:"Vec<StorageEntryMetadataV13>"},StorageHasherV13:"StorageHasherV12"}),Hc),{},{PortableRegistry:"PortableRegistryV14",PortableType:"PortableTypeV14",ErrorMetadataLatest:"ErrorMetadataV14",EventMetadataLatest:"EventMetadataV14",ExtrinsicMetadataLatest:"ExtrinsicMetadataV14",FunctionArgumentMetadataLatest:"FunctionArgumentMetadataV14",FunctionMetadataLatest:"FunctionMetadataV14",MetadataLatest:"MetadataV14",PalletCallMetadataLatest:"PalletCallMetadataV14",PalletConstantMetadataLatest:"PalletConstantMetadataV14",PalletErrorMetadataLatest:"PalletErrorMetadataV14",PalletEventMetadataLatest:"PalletEventMetadataV14",PalletMetadataLatest:"PalletMetadataV14",PalletStorageMetadataLatest:"PalletStorageMetadataV14",SignedExtensionMetadataLatest:"SignedExtensionMetadataV14",StorageEntryMetadataLatest:"StorageEntryMetadataV14",StorageEntryModifierLatest:"StorageEntryModifierV14",StorageEntryTypeLatest:"StorageEntryTypeV14",StorageHasher:"StorageHasherV14",MetadataAll:{_enum:{V0:"DoNotConstruct<MetadataV0>",V1:"DoNotConstruct<MetadataV1>",V2:"DoNotConstruct<MetadataV2>",V3:"DoNotConstruct<MetadataV3>",V4:"DoNotConstruct<MetadataV4>",V5:"DoNotConstruct<MetadataV5>",V6:"DoNotConstruct<MetadataV6>",V7:"DoNotConstruct<MetadataV7>",V8:"DoNotConstruct<MetadataV8>",V9:"MetadataV9",V10:"MetadataV10",V11:"MetadataV11",V12:"MetadataV12",V13:"MetadataV13",V14:"MetadataV14"}}})},Gc={rpc:{methods:{description:"Retrieves the list of RPC methods that are exposed by the node",params:[],type:"RpcMethods"}},types:{RpcMethods:{version:"u32",methods:"Vec<Text>"}}},Wc={rpc:{hasKey:{description:"Returns true if the keystore has private keys for the given public key and key type.",params:[{name:"publicKey",type:"Bytes"},{name:"keyType",type:"Text"}],type:"bool"},hasSessionKeys:{description:"Returns true if the keystore has private keys for the given session public keys.",params:[{name:"sessionKeys",type:"Bytes"}],type:"bool"},removeExtrinsic:{description:"Remove given extrinsic from the pool and temporarily ban it to prevent reimporting",params:[{name:"bytesOrHash",type:"Vec<ExtrinsicOrHash>"}],type:"Vec<Hash>"},insertKey:{description:"Insert a key into the keystore.",params:[{name:"keyType",type:"Text"},{name:"suri",type:"Text"},{name:"publicKey",type:"Bytes"}],type:"Bytes"},rotateKeys:{description:"Generate new session keys and returns the corresponding public keys",params:[],type:"Bytes"},pendingExtrinsics:{description:"Returns all pending extrinsics, potentially grouped by sender",params:[],type:"Vec<Extrinsic>"},submitExtrinsic:{isSigned:!0,description:"Submit a fully formatted extrinsic for block inclusion",params:[{name:"extrinsic",type:"Extrinsic"}],type:"Hash"},submitAndWatchExtrinsic:{description:"Submit and subscribe to watch an extrinsic until unsubscribed",isSigned:!0,params:[{name:"extrinsic",type:"Extrinsic"}],pubsub:["extrinsicUpdate","submitAndWatchExtrinsic","unwatchExtrinsic"],type:"ExtrinsicStatus"}},types:{ExtrinsicOrHash:{_enum:{Hash:"Hash",Extrinsic:"Bytes"}},ExtrinsicStatus:{_enum:{Future:"Null",Ready:"Null",Broadcast:"Vec<Text>",InBlock:"Hash",Retracted:"Hash",FinalityTimeout:"Hash",Finalized:"Hash",Usurped:"Hash",Dropped:"Null",Invalid:"Null"}}}},Kc={rpc:{getHeader:{alias:["chain_getHead"],description:"Retrieves the header for a specific block",params:[{name:"hash",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"Header"},getBlock:{description:"Get header and body of a relay chain block",params:[{name:"hash",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"SignedBlock"},getBlockHash:{description:"Get the block hash for a specific block",params:[{name:"blockNumber",type:"BlockNumber",isOptional:!0}],type:"BlockHash"},getFinalizedHead:{alias:["chain_getFinalisedHead"],description:"Get hash of the last finalized block in the canon chain",params:[],type:"BlockHash"},subscribeNewHeads:{alias:["chain_unsubscribeNewHeads","subscribe_newHead","unsubscribe_newHead"],description:"Retrieves the best header via subscription",params:[],pubsub:["newHead","subscribeNewHead","unsubscribeNewHead"],type:"Header"},subscribeFinalizedHeads:{alias:["chain_subscribeFinalisedHeads","chain_unsubscribeFinalisedHeads"],description:"Retrieves the best finalized header via subscription",params:[],pubsub:["finalizedHead","subscribeFinalizedHeads","unsubscribeFinalizedHeads"],type:"Header"},subscribeAllHeads:{description:"Retrieves the newest header via subscription",params:[],pubsub:["allHead","subscribeAllHeads","unsubscribeAllHeads"],type:"Header"}},types:{BlockHash:"Hash"}},Yc={rpc:{getKeys:{description:"Returns the keys with prefix from a child storage, leave empty to get all the keys",params:[{name:"childKey",type:"PrefixedStorageKey"},{name:"prefix",type:"StorageKey"},{name:"at",type:"Hash",isHistoric:!0,isOptional:!0}],type:"Vec<StorageKey>"},getKeysPaged:{alias:["childstate_getKeysPagedAt"],description:"Returns the keys with prefix from a child storage with pagination support",params:[{name:"childKey",type:"PrefixedStorageKey"},{name:"prefix",type:"StorageKey"},{name:"count",type:"u32"},{name:"startKey",type:"StorageKey",isOptional:!0},{name:"at",type:"Hash",isHistoric:!0,isOptional:!0}],type:"Vec<StorageKey>"},getStorage:{description:"Returns a child storage entry at a specific block state",params:[{name:"childKey",type:"PrefixedStorageKey"},{name:"key",type:"StorageKey"},{name:"at",type:"Hash",isHistoric:!0,isOptional:!0}],type:"Option<StorageData>"},getStorageEntries:{description:"Returns child storage entries for multiple keys at a specific block state",params:[{name:"childKey",type:"PrefixedStorageKey"},{name:"keys",type:"Vec<StorageKey>"},{name:"at",type:"Hash",isHistoric:!0,isOptional:!0}],type:"Vec<Option<StorageData>>"},getStorageHash:{description:"Returns the hash of a child storage entry at a block state",params:[{name:"childKey",type:"PrefixedStorageKey"},{name:"key",type:"StorageKey"},{name:"at",type:"Hash",isHistoric:!0,isOptional:!0}],type:"Option<Hash>"},getStorageSize:{description:"Returns the size of a child storage entry at a block state",params:[{name:"childKey",type:"PrefixedStorageKey"},{name:"key",type:"StorageKey"},{name:"at",type:"Hash",isHistoric:!0,isOptional:!0}],type:"Option<u64>"}},types:{PrefixedStorageKey:"StorageKey"}},Xc={rpc:{localStorageSet:{description:"Set offchain local storage under given key and prefix",params:[{name:"kind",type:"StorageKind"},{name:"key",type:"Bytes"},{name:"value",type:"Bytes"}],type:"Null"},localStorageGet:{description:"Get offchain local storage under given key and prefix",params:[{name:"kind",type:"StorageKind"},{name:"key",type:"Bytes"}],type:"Option<Bytes>"}},types:{StorageKind:{_enum:{PERSISTENT:1,LOCAL:2}}}};const Jc=[{name:"extrinsic",type:"Bytes"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}];var Qc={rpc:{queryInfo:{description:"Retrieves the fee information for an encoded extrinsic",params:Jc,type:"RuntimeDispatchInfo"},queryFeeDetails:{description:"Query the detailed fee of a given encoded extrinsic",params:Jc,type:"FeeDetails"}},types:{FeeDetails:{inclusionFee:"Option<InclusionFee>"},InclusionFee:{baseFee:"Balance",lenFee:"Balance",adjustedWeightFee:"Balance"},RuntimeDispatchInfo:{weight:"Weight",class:"DispatchClass",partialFee:"Balance"}}},Zc={rpc:{call:{alias:["state_callAt"],description:"Perform a call to a builtin on the chain",params:[{name:"method",type:"Text"},{name:"data",type:"Bytes"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"Bytes"},getKeys:{description:"Retrieves the keys with a certain prefix",params:[{name:"key",type:"StorageKey"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"Vec<StorageKey>"},getPairs:{description:"Returns the keys with prefix, leave empty to get all the keys (deprecated: Use getKeysPaged)",params:[{name:"prefix",type:"StorageKey"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"Vec<KeyValue>"},getKeysPaged:{alias:["state_getKeysPagedAt"],description:"Returns the keys with prefix with pagination support.",params:[{name:"key",type:"StorageKey"},{name:"count",type:"u32"},{name:"startKey",type:"StorageKey",isOptional:!0},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"Vec<StorageKey>"},getStorage:{alias:["state_getStorageAt"],description:"Retrieves the storage for a key",params:[{name:"key",type:"StorageKey"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"StorageData"},getStorageHash:{alias:["state_getStorageHashAt"],description:"Retrieves the storage hash",params:[{name:"key",type:"StorageKey"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"Hash"},getStorageSize:{alias:["state_getStorageSizeAt"],description:"Retrieves the storage size",params:[{name:"key",type:"StorageKey"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"u64"},getChildKeys:{description:"Retrieves the keys with prefix of a specific child storage",params:[{name:"childStorageKey",type:"StorageKey"},{name:"childDefinition",type:"StorageKey"},{name:"childType",type:"u32"},{name:"key",type:"StorageKey"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"Vec<StorageKey>"},getChildStorage:{description:"Retrieves the child storage for a key",params:[{name:"childStorageKey",type:"StorageKey"},{name:"childDefinition",type:"StorageKey"},{name:"childType",type:"u32"},{name:"key",type:"StorageKey"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"StorageData"},getChildStorageHash:{description:"Retrieves the child storage hash",params:[{name:"childStorageKey",type:"StorageKey"},{name:"childDefinition",type:"StorageKey"},{name:"childType",type:"u32"},{name:"key",type:"StorageKey"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"Hash"},getChildStorageSize:{description:"Retrieves the child storage size",params:[{name:"childStorageKey",type:"StorageKey"},{name:"childDefinition",type:"StorageKey"},{name:"childType",type:"u32"},{name:"key",type:"StorageKey"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"u64"},getMetadata:{description:"Returns the runtime metadata",params:[{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"Metadata"},getRuntimeVersion:{alias:["chain_getRuntimeVersion"],description:"Get the runtime version",params:[{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"RuntimeVersion"},queryStorage:{description:"Query historical storage entries (by key) starting from a start block",params:[{name:"keys",type:"Vec<StorageKey>"},{name:"fromBlock",type:"Hash"},{name:"toBlock",type:"BlockHash",isOptional:!0}],type:"Vec<StorageChangeSet>"},queryStorageAt:{description:"Query storage entries (by key) starting at block hash given as the second parameter",params:[{name:"keys",type:"Vec<StorageKey>"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"Vec<StorageChangeSet>"},getChildReadProof:{description:"Returns proof of storage for child key entries at a specific block state.",params:[{name:"childStorageKey",type:"PrefixedStorageKey"},{name:"keys",type:"Vec<StorageKey>"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"ReadProof"},getReadProof:{description:"Returns proof of storage entries at a specific block state",params:[{name:"keys",type:"Vec<StorageKey>"},{name:"at",type:"BlockHash",isHistoric:!0,isOptional:!0}],type:"ReadProof"},subscribeRuntimeVersion:{alias:["chain_subscribeRuntimeVersion","chain_unsubscribeRuntimeVersion"],description:"Retrieves the runtime version via subscription",params:[],pubsub:["runtimeVersion","subscribeRuntimeVersion","unsubscribeRuntimeVersion"],type:"RuntimeVersion"},subscribeStorage:{description:"Subscribes to storage changes for the provided keys",params:[{name:"keys",type:"Vec<StorageKey>",isOptional:!0}],pubsub:["storage","subscribeStorage","unsubscribeStorage"],type:"StorageChangeSet"},traceBlock:{description:"Provides a way to trace the re-execution of a single block",params:[{name:"block",type:"Hash"},{name:"targets",type:"Option<Text>"},{name:"storageKeys",type:"Option<Text>"}],type:"TraceBlockResponse"}},types:{ApiId:"[u8; 8]",BlockTrace:{blockHash:"Text",parentHash:"Text",tracingTargets:"Text",storageKeys:"Text",spans:"Vec<BlockTraceSpan>",events:"Vec<BlockTraceEvent>"},BlockTraceEvent:{target:"Text",data:"BlockTraceEventData",parentId:"Option<u64>"},BlockTraceEventData:{stringValues:"HashMap<Text, Text>"},BlockTraceSpan:{id:"u64",parentId:"Option<u64>",name:"Text",target:"Text",wasm:"bool"},KeyValueOption:"(StorageKey, Option<StorageData>)",ReadProof:{at:"Hash",proof:"Vec<Bytes>"},RuntimeVersionApi:"(ApiId, u32)",RuntimeVersion:{specName:"Text",implName:"Text",authoringVersion:"u32",specVersion:"u32",implVersion:"u32",apis:"Vec<RuntimeVersionApi>",transactionVersion:"u32"},RuntimeVersionPartial:{specName:"Text",specVersion:"u32"},SpecVersion:"u32",StorageChangeSet:{block:"Hash",changes:"Vec<KeyValueOption>"},TraceBlockResponse:{_enum:{TraceError:"TraceError",BlockTrace:"BlockTrace"}},TraceError:{error:"Text"}}};function $c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$c(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tu(e,t){return eu(eu({},t),{},{args:t.fields.map(({type:t})=>e.getTypeDef(t).type)})}function ru(e,{lookup:t,pallets:r},n){const a={};for(let i=0;i<r.length;i++){const{errors:s,index:o,name:c}=r[i];if(s.isSome){const r=n>=12?o.toNumber():i,u={},{variants:l}=t.getSiType(s.unwrap().type).def.asVariant;for(let n=0;n<l.length;n++){const a=l[n];u[a.name.toString()]={is:({error:e,index:t})=>t.eq(r)&&e.eq(a.index),meta:e.createType("ErrorMetadataLatest",tu(t,a))}}a[Xt(c)]=u}}return a}function nu({events:e}){return e.isSome}function au(e,{lookup:t,pallets:r},n){const a=r.filter(nu),i={};for(let r=0;r<a.length;r++){const{events:s,index:o,name:c}=a[r],u=n>=12?o.toNumber():r,l={},{variants:d}=t.getSiType(s.unwrap().type).def.asVariant;for(let r=0;r<d.length;r++){const n=d[r];l[n.name.toString()]={is:e=>e.index[0]===u&&n.index.eq(e.index[1]),meta:e.createType("EventMetadataLatest",tu(t,n))}}i[Xt(c)]=l}return i}function iu(e,t,r,n){const a=n.fields,i=Xt(n.name),s=(...s)=>(Object(D.a)(a.length===s.length,()=>`Extrinsic ${t}.${i} expects ${a.length} arguments, got ${s.length}.`),e.createType("Call",{args:s,callIndex:r},n));return s.is=e=>function(e,t){return e.callIndex[0]===t[0]&&e.callIndex[1]===t[1]}(e,r),s.callIndex=r,s.meta=n,s.method=i,s.section=t,s.toJSON=()=>n.toJSON(),s}function su(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ou(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?su(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):su(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cu({calls:e}){return e.isSome}function uu(e,{lookup:t,pallets:r},n){const a=r.filter(cu),i={};for(let r=0;r<a.length;r++){const{calls:s,index:o,name:c}=a[r],u=Xt(c),l=n>=12?o.toNumber():r,d={},{variants:h}=t.getSiType(s.unwrap().type).def.asVariant;for(let r=0;r<h.length;r++){const n=h[r],a=new Array(n.fields.length);for(let e=0;e<n.fields.length;e++){const{name:r,type:i,typeName:s}=n.fields[e];a[e]=ou({name:Xt(r.unwrapOr("param"+e)),type:Zs(t,i)},s.isSome?{typeName:s.unwrap()}:{})}const i=e.createType("FunctionMetadataLatest",ou(ou({},n),{},{args:a}));d[Xt(i.name)]=iu(e,u,new Uint8Array([l,i.index.toNumber()]),i)}i[u]=d}return i}function lu(e,{pallets:t},r){const n={};for(let r=0;r<t.length;r++){const{constants:a,name:i}=t[r];if(!a.isEmpty){const t={};for(let r=0;r<a.length;r++){const n=a[r],i=e.createTypeUnsafe(e.createLookupType(n.type),[Object(Ir.a)(n.value.toHex())]);i.meta=n,t[Xt(n.name)]=i}n[Xt(i)]=t}}return n}function du(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?du(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):du(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pu(e,t){return t.toNumber()>=2?e.createType("StorageHasherV10",t.toNumber()+1):e.createType("StorageHasherV10",t)}function fu(e,t){return t.isMap?[hu(hu({},t.asMap),{},{hasher:pu(e,t.asMap.hasher)}),1]:t.isDoubleMap?[hu(hu({},t.asDoubleMap),{},{hasher:pu(e,t.asDoubleMap.hasher),key2Hasher:pu(e,t.asDoubleMap.key2Hasher)}),2]:[t.asPlain,0]}function mu(e,{modules:t}){return e.createType("MetadataV10",{modules:t.map(t=>function(e,t){const r=t.storage.unwrapOr(null);return e.createType("ModuleMetadataV10",hu(hu({},t),{},{storage:r?hu(hu({},r),{},{items:r.items.map(t=>hu(hu({},t),{},{type:e.createType("StorageEntryTypeV10",...fu(e,t.type))}))}):null}))}(e,t))})}function gu(e,{modules:t}){return e.createType("MetadataV11",{extrinsic:{signedExtensions:[],version:0},modules:t})}function yu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yu(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vu(e,{extrinsic:t,modules:r}){return e.createType("MetadataV12",{extrinsic:t,modules:r.map(t=>e.createType("ModuleMetadataV12",bu(bu({},t),{},{index:255})))})}function _u(e,t){return e.createType("MetadataV13",t)}const wu={Council:"CollectiveOrigin",System:"SystemOrigin",TechnicalCommittee:"CollectiveOrigin",Xcm:"XcmOrigin",XcmPallet:"XcmOrigin",Authority:"AuthorityOrigin",GeneralCouncil:"CollectiveOrigin"};var xu={};var ku={assets:{Approval:"AssetApproval",ApprovalKey:"AssetApprovalKey",Balance:"TAssetBalance",DestroyWitness:"AssetDestroyWitness"},babe:{EquivocationProof:"BabeEquivocationProof"},balances:{Status:"BalanceStatus"},beefy:{AuthorityId:"BeefyId"},contracts:{StorageKey:"ContractStorageKey"},electionProviderMultiPhase:{Phase:"ElectionPhase"},ethereum:{Block:"EthBlock",Header:"EthHeader",Receipt:"EthReceipt",Transaction:"EthTransaction",TransactionStatus:"EthTransactionStatus"},evm:{Account:"EvmAccount",Log:"EvmLog",Vicinity:"EvmVicinity"},grandpa:{Equivocation:"GrandpaEquivocation",EquivocationProof:"GrandpaEquivocationProof"},identity:{Judgement:"IdentityJudgement"},inclusion:{ValidatorIndex:"ParaValidatorIndex"},paraDisputes:{ValidatorIndex:"ParaValidatorIndex"},paraInclusion:{ValidatorIndex:"ParaValidatorIndex"},paraScheduler:{ValidatorIndex:"ParaValidatorIndex"},paraShared:{ValidatorIndex:"ParaValidatorIndex"},parachains:{Id:"ParaId"},parasDisputes:{ValidatorIndex:"ParaValidatorIndex"},parasInclusion:{ValidatorIndex:"ParaValidatorIndex"},parasScheduler:{ValidatorIndex:"ParaValidatorIndex"},parasShared:{ValidatorIndex:"ParaValidatorIndex"},proposeParachain:{Proposal:"ParachainProposal"},proxy:{Announcement:"ProxyAnnouncement"},scheduler:{ValidatorIndex:"ParaValidatorIndex"},shared:{ValidatorIndex:"ParaValidatorIndex"},society:{Judgement:"SocietyJudgement",Vote:"SocietyVote"},staking:{Compact:"CompactAssignments"},treasury:{Proposal:"TreasuryProposal"},xcm:{AssetId:"XcmAssetId"},xcmPallet:{AssetId:"XcmAssetId"}};function Su(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ou(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Su(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Su(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Pu={AnchorData:{anchoredBlock:"u64",docRoot:"H256",id:"H256"},PreCommitData:{expirationBlock:"u64",identity:"H256",signingRoot:"H256"},Fee:{key:"Hash",price:"Balance"},MultiAccountData:{deposit:"Balance",depositor:"AccountId",signatories:"Vec<AccountId>",threshold:"u16"},ChainId:"u8",DepositNonce:"u64",ResourceId:"[u8; 32]","chainbridge::ChainId":"u8",RegistryId:"H160",TokenId:"U256",AssetId:{registryId:"RegistryId",tokenId:"TokenId"},AssetInfo:{metadata:"Bytes"},MintInfo:{anchorId:"Hash",proofs:"Vec<ProofMint>",staticHashes:"[Hash; 3]"},Proof:{leafHash:"H256",sortedHashes:"H256"},ProofMint:{hashes:"Vec<Hash>",property:"Bytes",salt:"[u8; 32]",value:"Bytes"},RegistryInfo:{fields:"Vec<Bytes>",ownerCanBurn:"bool"},ProxyType:{_enum:["Any","NonTransfer","Governance","Staking","NonProxy"]}},Eu=Ou(Ou({},Pu),{},{AccountInfo:"AccountInfoWithRefCount",Address:"LookupSource",LookupSource:"IndicesLookupSource",Multiplier:"Fixed64",RefCount:"RefCountTo259"});var Au=[{minmax:[240,243],types:Ou(Ou({},Eu),{},{ProxyType:{_enum:["Any","NonTransfer","Governance","Staking","Vesting"]}})},{minmax:[244,999],types:Ou({},Eu)},{minmax:[1e3,void 0],types:Ou({},Pu)}];function Cu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cu(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Du={CompactAssignments:"CompactAssignmentsWith24",RawSolution:"RawSolutionWith24",Keys:"SessionKeys6",ProxyType:{_enum:["Any","NonTransfer","Governance","Staking","IdentityJudgement","CancelProxy","Auction"]}},ju={AccountInfo:"AccountInfoWithRefCount",Address:"LookupSource",CompactAssignments:"CompactAssignmentsWith16",RawSolution:"RawSolutionWith16",Keys:"SessionKeys5",LookupSource:"IndicesLookupSource",ValidatorPrefs:"ValidatorPrefsWithCommission"},Mu={AccountInfo:"AccountInfoWithRefCount",Address:"AccountId",CompactAssignments:"CompactAssignmentsWith16",RawSolution:"RawSolutionWith16",Keys:"SessionKeys5",LookupSource:"AccountId",ValidatorPrefs:"ValidatorPrefsWithCommission"};var Iu=[{minmax:[1019,1031],types:Tu(Tu({},ju),{},{BalanceLock:"BalanceLockTo212",CompactAssignments:"CompactAssignmentsTo257",DispatchError:"DispatchErrorTo198",DispatchInfo:"DispatchInfoTo244",Heartbeat:"HeartbeatTo244",IdentityInfo:"IdentityInfoTo198",Keys:"SessionKeys5",Multiplier:"Fixed64",OpenTip:"OpenTipTo225",RefCount:"RefCountTo259",ReferendumInfo:"ReferendumInfoTo239",SlashingSpans:"SlashingSpansTo204",StakingLedger:"StakingLedgerTo223",Votes:"VotesTo230",Weight:"u32"})},{minmax:[1032,1042],types:Tu(Tu({},ju),{},{BalanceLock:"BalanceLockTo212",CompactAssignments:"CompactAssignmentsTo257",DispatchInfo:"DispatchInfoTo244",Heartbeat:"HeartbeatTo244",Keys:"SessionKeys5",Multiplier:"Fixed64",OpenTip:"OpenTipTo225",RefCount:"RefCountTo259",ReferendumInfo:"ReferendumInfoTo239",SlashingSpans:"SlashingSpansTo204",StakingLedger:"StakingLedgerTo223",Votes:"VotesTo230",Weight:"u32"})},{minmax:[1043,1045],types:Tu(Tu({},ju),{},{BalanceLock:"BalanceLockTo212",CompactAssignments:"CompactAssignmentsTo257",DispatchInfo:"DispatchInfoTo244",Heartbeat:"HeartbeatTo244",Keys:"SessionKeys5",Multiplier:"Fixed64",OpenTip:"OpenTipTo225",RefCount:"RefCountTo259",ReferendumInfo:"ReferendumInfoTo239",StakingLedger:"StakingLedgerTo223",Votes:"VotesTo230",Weight:"u32"})},{minmax:[1046,1054],types:Tu(Tu(Tu({},Du),Mu),{},{CompactAssignments:"CompactAssignmentsTo257",DispatchInfo:"DispatchInfoTo244",Heartbeat:"HeartbeatTo244",Multiplier:"Fixed64",OpenTip:"OpenTipTo225",RefCount:"RefCountTo259",ReferendumInfo:"ReferendumInfoTo239",StakingLedger:"StakingLedgerTo240",Weight:"u32"})},{minmax:[1055,1056],types:Tu(Tu(Tu({},Du),Mu),{},{CompactAssignments:"CompactAssignmentsTo257",DispatchInfo:"DispatchInfoTo244",Heartbeat:"HeartbeatTo244",Multiplier:"Fixed64",OpenTip:"OpenTipTo225",RefCount:"RefCountTo259",StakingLedger:"StakingLedgerTo240",Weight:"u32"})},{minmax:[1057,1061],types:Tu(Tu(Tu({},Du),Mu),{},{CompactAssignments:"CompactAssignmentsTo257",DispatchInfo:"DispatchInfoTo244",Heartbeat:"HeartbeatTo244",OpenTip:"OpenTipTo225",RefCount:"RefCountTo259"})},{minmax:[1062,2012],types:Tu(Tu(Tu({},Du),Mu),{},{CompactAssignments:"CompactAssignmentsTo257",OpenTip:"OpenTipTo225",RefCount:"RefCountTo259"})},{minmax:[2013,2022],types:Tu(Tu(Tu({},Du),Mu),{},{CompactAssignments:"CompactAssignmentsTo257",RefCount:"RefCountTo259"})},{minmax:[2023,2024],types:Tu(Tu(Tu({},Du),Mu),{},{RefCount:"RefCountTo259"})},{minmax:[2025,2027],types:Tu(Tu({},Du),Mu)},{minmax:[2028,2029],types:Tu(Tu({},Du),{},{AccountInfo:"AccountInfoWithDualRefCount",CompactAssignments:"CompactAssignmentsWith16",RawSolution:"RawSolutionWith16"})},{minmax:[2030,9e3],types:Tu(Tu({},Du),{},{CompactAssignments:"CompactAssignmentsWith16",RawSolution:"RawSolutionWith16"})},{minmax:[9010,9099],types:Tu(Tu({},Du),vc("V0"))},{minmax:[9100,9105],types:Tu(Tu({},Du),vc("V1"))},{minmax:[9106,void 0],types:Tu({},Du)}];var Ru=[{minmax:[0,void 0],types:{}}];var Bu=[{minmax:[0,void 0],types:{}}];function Nu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nu(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const qu={CompactAssignments:"CompactAssignmentsWith16",RawSolution:"RawSolutionWith16",Keys:"SessionKeys6",ProxyType:{_enum:{Any:0,NonTransfer:1,Governance:2,Staking:3,UnusedSudoBalances:4,IdentityJudgement:5,CancelProxy:6,Auction:7}}},Lu={AccountInfo:"AccountInfoWithRefCount",Address:"AccountId",Keys:"SessionKeys5",LookupSource:"AccountId",ValidatorPrefs:"ValidatorPrefsWithCommission"};var Hu=[{minmax:[0,12],types:Fu(Fu(Fu({},qu),Lu),{},{CompactAssignments:"CompactAssignmentsTo257",OpenTip:"OpenTipTo225",RefCount:"RefCountTo259"})},{minmax:[13,22],types:Fu(Fu(Fu({},qu),Lu),{},{CompactAssignments:"CompactAssignmentsTo257",RefCount:"RefCountTo259"})},{minmax:[23,24],types:Fu(Fu(Fu({},qu),Lu),{},{RefCount:"RefCountTo259"})},{minmax:[25,27],types:Fu(Fu({},qu),Lu)},{minmax:[28,29],types:Fu(Fu({},qu),{},{AccountInfo:"AccountInfoWithDualRefCount"})},{minmax:[30,9109],types:Fu({},qu)},{minmax:[9110,void 0],types:Fu({},qu)}];function Uu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uu(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Vu={FullIdentification:"()",Keys:"SessionKeys7B"};var Gu=[{minmax:[0,200],types:zu(zu({},Vu),{},{AccountInfo:"AccountInfoWithDualRefCount",Address:"AccountId",LookupSource:"AccountId"})},{minmax:[201,214],types:zu(zu({},Vu),{},{AccountInfo:"AccountInfoWithDualRefCount"})},{minmax:[215,228],types:zu(zu({},Vu),{},{Keys:"SessionKeys6"})},{minmax:[229,9099],types:zu(zu({},Vu),vc("V0"))},{minmax:[9100,9105],types:zu(zu({},Vu),vc("V1"))},{minmax:[9106,void 0],types:zu({},Vu)}];var Wu=[{minmax:[0,void 0],types:{}}];function Ku(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ku(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ku(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Xu={TAssetBalance:"u128",ProxyType:{_enum:["Any","NonTransfer","CancelProxy","Assets","AssetOwner","AssetManager","Staking"]}};var Ju=[{minmax:[0,3],types:Yu(Yu({},Xu),vc("V0"))},{minmax:[4,5],types:Yu(Yu({},Xu),vc("V1"))},{minmax:[500,void 0],types:Yu({},Xu)}];function Qu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qu(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const $u={CompactAssignments:"CompactAssignmentsWith16",RawSolution:"RawSolutionWith16",Keys:"SessionKeys6",ProxyType:{_enum:["Any","NonTransfer","Staking","SudoBalances","IdentityJudgement","CancelProxy"]}},el={AccountInfo:"AccountInfoWithRefCount",Address:"AccountId",CompactAssignments:"CompactAssignmentsWith16",LookupSource:"AccountId",Keys:"SessionKeys5",RawSolution:"RawSolutionWith16",ValidatorPrefs:"ValidatorPrefsWithCommission"};var tl={"centrifuge-chain":Au,kusama:Iu,node:Ru,"node-template":Bu,polkadot:Hu,rococo:Gu,shell:Wu,statemine:Ju,statemint:Ju,westend:[{minmax:[1,2],types:Zu(Zu(Zu({},$u),el),{},{CompactAssignments:"CompactAssignmentsTo257",DispatchInfo:"DispatchInfoTo244",Heartbeat:"HeartbeatTo244",Multiplier:"Fixed64",OpenTip:"OpenTipTo225",RefCount:"RefCountTo259",Weight:"u32"})},{minmax:[3,22],types:Zu(Zu(Zu({},$u),el),{},{CompactAssignments:"CompactAssignmentsTo257",DispatchInfo:"DispatchInfoTo244",Heartbeat:"HeartbeatTo244",OpenTip:"OpenTipTo225",RefCount:"RefCountTo259"})},{minmax:[23,42],types:Zu(Zu(Zu({},$u),el),{},{CompactAssignments:"CompactAssignmentsTo257",DispatchInfo:"DispatchInfoTo244",Heartbeat:"HeartbeatTo244",RefCount:"RefCountTo259"})},{minmax:[43,44],types:Zu(Zu(Zu({},$u),el),{},{DispatchInfo:"DispatchInfoTo244",Heartbeat:"HeartbeatTo244",RefCount:"RefCountTo259"})},{minmax:[45,47],types:Zu(Zu({},$u),el)},{minmax:[48,49],types:Zu(Zu({},$u),{},{AccountInfo:"AccountInfoWithDualRefCount"})},{minmax:[50,9099],types:Zu(Zu({},$u),vc("V0"))},{minmax:[9100,9105],types:Zu(Zu({},$u),vc("V1"))},{minmax:[9106,void 0],types:Zu({},$u)}],westmint:Ju},rl=r(1288);const nl={kusama:[[0,1020],[26669,1021],[38245,1022],[54248,1023],[59659,1024],[67651,1025],[82191,1027],[83238,1028],[101503,1029],[203466,1030],[295787,1031],[461692,1032],[504329,1033],[569327,1038],[587687,1039],[653183,1040],[693488,1042],[901442,1045],[1375086,1050],[1445458,1051],[1472960,1052],[1475648,1053],[1491596,1054],[1574408,1055],[2064961,1058],[2201991,1062],[2671528,2005],[2704202,2007],[2728002,2008],[2832534,2011],[2962294,2012],[324e4,2013],[3274408,2015],[3323565,2019],[3534175,2022],[3860281,2023],[4143129,2024],[4401242,2025],[4841367,2026],[5961600,2027],[6137912,2028],[6561855,2029],[7100891,2030],[7468792,9010],[7668600,9030],[7812476,9040],[8010981,9050],[8073833,9070],[8555825,9080],[8945245,9090],[9611377,9100],[9625129,9111],[9866422,9122]],polkadot:[[0,0],[29231,1],[188836,5],[199405,6],[214264,7],[244358,8],[303079,9],[314201,10],[342400,11],[443963,12],[528470,13],[687751,14],[746085,15],[787923,16],[799302,17],[1205128,18],[1603423,23],[1733218,24],[2005673,25],[2436698,26],[3613564,27],[3899547,28],[4345767,29],[4876134,30],[5661442,9050],[6321619,9080],[6713249,9090],[7217907,9100],[7229126,9110]],westend:[[214356,4],[392764,7],[409740,8],[809976,20],[877581,24],[879238,25],[889472,26],[902937,27],[932751,28],[991142,29],[1030162,31],[1119657,32],[1199282,33],[1342534,34],[1392263,35],[1431703,36],[1433369,37],[1490972,41],[2087397,43],[2316688,44],[2549864,45],[3925782,46],[3925843,47],[4207800,48],[4627944,49],[5124076,50],[5478664,900],[5482450,9e3],[5584305,9010],[5784566,9030],[5879822,9031],[5896856,9032],[5897316,9033],[6117927,9050],[6210274,9070],[6379314,9080],[6979141,9090],[7568453,9100],[7766394,9111],[7911691,9120],[7968866,9121],[7982889,9122]]},al={westend:{genesisHash:["0xe143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e"]}};function il(e,t){const r=t.filter((e,r)=>{const n=t[r-1];return 0!==r&&(e[0]<=n[0]||e[1]<=n[1])});return Object(D.a)(!r.length,()=>`${e}: Mismatched upgrade ordering: ${F(r)}`),t}var sl=Object.entries(nl).map((function([e,t]){const r=rl.b.find(t=>t.network===e)||al[e];return Object(D.a)(r,()=>"Unable to find info for chain "+e),{genesisHash:Object(Ir.a)(r.genesisHash[0]),network:e,versions:il(e,t).map(([e,t])=>({blockNumber:new un.a(e),specVersion:new un.a(t)}))}}));function ol(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ol(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ol(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ul(e=[],t){return e.filter(({minmax:[e,r]})=>(Object(T.a)(e)||Object(j.a)(e)||t>=e)&&(Object(T.a)(r)||Object(j.a)(r)||t<=r)).reduce((e,{types:t})=>cl(cl({},e),t),{})}function ll({knownTypes:e},t,r){var n,a,i,s,o,c;const u=t.toString(),l=r.toString();return cl(cl({},(null===(n=e.typesBundle)||void 0===n||null===(a=n.spec)||void 0===a||null===(i=a[l])||void 0===i?void 0:i.rpc)||{}),(null===(s=e.typesBundle)||void 0===s||null===(o=s.chain)||void 0===o||null===(c=o[u])||void 0===c?void 0:c.rpc)||{})}const dl=[["<",">"],["<",","],[",",">"],["(",")"],["(",","],[",",","],[",",")"]];function hl(e,t){const r=t.toString(),n=e.findIndex(({def:e})=>e.HistoricMetaCompat===r);return-1!==n?n:e.push({def:{HistoricMetaCompat:r}})-1}function pl(e,t){return e.push({def:{Tuple:t}})-1}function fl(e,t,r,n){return r.push({def:{Variant:{variants:n}},path:["pallet_"+e.toString(),"pallet",t]})-1}function ml(e,t){t.forEach(t=>{const r=Object.keys(e).find(e=>t.eq(e));if(r)t.setOverride(e[r]);else{const r=t.toString(),n=Object.entries(e).reduce((e,[t,r])=>dl.reduce((e,[n,a])=>e.replace(`${n}${t}${a}`,`${n}${r}${a}`),e),r);r!==n&&t.setOverride(n)}})}function gl(e,t,r,n,a){const i=n.map(({args:r,docs:n,name:i},s)=>(ml(a,r.map(({type:e})=>e)),t.createType("SiVariant",{docs:n,fields:r.map(({name:r,type:n})=>t.createType("SiField",{name:r,type:hl(e,n)})),index:s,name:i})));return t.createType("PalletCallMetadataV14",{type:fl(r,"Call",e,i)})}function yl(e,t,r,n){return r.map(({docs:r,name:a,type:i,value:s})=>(ml(n,[i]),t.createType("PalletConstantMetadataV14",{docs:r,name:a,type:hl(e,i),value:s})))}function bl(e,t,r,n,a){const i=n.map(({docs:e,name:r},n)=>t.createType("SiVariant",{docs:e,fields:[],index:n,name:r}));return t.createType("PalletErrorMetadataV14",{type:fl(r,"Error",e,i)})}function vl(e,t,r,n,a){const i=n.map(({args:r,docs:n,name:i},s)=>(ml(a,r),t.createType("SiVariant",{docs:n,fields:r.map(r=>t.createType("SiField",{type:hl(e,r)})),index:s,name:i})));return t.createType("PalletEventMetadataV14",{type:fl(r,"Event",e,i)})}function _l(e,t,r,{hashers:n,keys:a,value:i}){return ml(r,[i,...Array.isArray(a)?a:[a]]),t.createType("StorageEntryTypeV14",{Map:{hashers:n,key:1===n.length?hl(e,a[0]):pl(e,a.map(t=>hl(e,t))),value:hl(e,i)}})}function wl(e,t,{items:r,prefix:n},a){return t.createType("PalletStorageMetadataV14",{items:r.map(({docs:r,fallback:n,modifier:i,name:s,type:o})=>{let c;if(o.isPlain){const r=o.asPlain;ml(a,[r]),c=t.createType("StorageEntryTypeV14",{Plain:hl(e,r)})}else if(o.isMap){const r=o.asMap;c=_l(e,t,a,{hashers:[r.hasher],keys:[r.key],value:r.value})}else if(o.isDoubleMap){const r=o.asDoubleMap;c=_l(e,t,a,{hashers:[r.hasher,r.key2Hasher],keys:[r.key1,r.key2],value:r.value})}else{const r=o.asNMap;c=_l(e,t,a,{hashers:r.hashers,keys:r.keyVec,value:r.value})}return t.createType("StorageEntryMetadataV14",{docs:r,fallback:n,modifier:i,name:s,type:c})}),prefix:n})}function xl(e,t,r,{calls:n,constants:a,errors:i,events:s,storage:o}){const c=function({knownTypes:e},t){var r;return cl(cl({},ku[t]||{}),(null===(r=e.typesAlias)||void 0===r?void 0:r[t])||{})}(t,Xt(r.name));return t.createType("PalletMetadataV14",{calls:n&&gl(e,t,r.name,n,c),constants:yl(e,t,a,c),errors:i&&bl(e,t,r.name,i),events:s&&vl(e,t,r.name,s,c),index:r.index,name:r.name,storage:o&&wl(e,t,o,c)})}function kl(e,t,r){const n=[];hl(n,"Null"),function(e,t,r){e.register({OriginCaller:{_enum:t.map((e,t)=>[e.name.toString(),r>=12?e.index.toNumber():t]).sort((e,t)=>e[1]-t[1]).reduce((e,[t,r])=>{for(let t=Object.keys(e).length;t<r;t++)e["Empty"+t]="Null";return e[t]=wu[t]||"Null",e},{})}})}(e,t.modules,r);const a=function(e,{signedExtensions:t,version:r}){return e.createType("ExtrinsicMetadataV14",{signedExtensions:t.map(e=>({identifier:e,type:0})),type:0,version:r})}(e,t.extrinsic),i=t.modules.map(t=>xl(n,e,t,{calls:t.calls.unwrapOr(null),constants:t.constants,errors:t.errors.length?t.errors:null,events:t.events.unwrapOr(null),storage:t.storage.unwrapOr(null)}));return e.createType("MetadataV14",{extrinsic:a,lookup:{types:n.map((t,r)=>e.createType("PortableType",{id:r,type:t}))},pallets:i})}function Sl(e,t,r){return t}class Ol extends Ta{constructor(e,t){super(e,t),this.isEmpty||Object(D.a)(this.eq(1635018093),()=>`MagicNumber mismatch: expected ${e.createType("u32",1635018093).toHex()}, found ${this.toHex()}`)}}function Pl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function El(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pl(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Al(e){const t=e.map(e=>e.toString().trim()),r=t.findIndex(e=>!e.length);return-1===r?t:t.slice(0,r)}function Cl(e,{extrinsic:t,lookup:r,pallets:n}){return e.createType("MetadataLatest",{extrinsic:t,lookup:{types:r.types.map(({id:t,type:r})=>e.createType("PortableType",{id:t,type:El(El({},r),{},{docs:Al(r.docs)})}))},pallets:n.map(({calls:t,index:r,name:n})=>({calls:e.createType("Option<PalletCallMetadataLatest>",t.unwrapOr(null)),index:r,name:n}))}).toJSON()}function Tl(e,t=[]){return[...new Set(e.reduce((e,t)=>Array.isArray(t)?Tl(t,e):(e.push(t),e),t))]}function Dl(e){return e.map(e=>{const t=Fi(e);switch(t.info){case ii.Plain:return t.lookupName||t.type;case ii.BTreeSet:case ii.Compact:case ii.Option:case ii.Vec:case ii.VecFixed:case ii.WrapperOpaque:return function({lookupName:e,type:t}){return Dl([e||t])}(t.sub);case ii.BTreeMap:case ii.Enum:case ii.HashMap:case ii.Result:case ii.Set:case ii.Struct:case ii.Tuple:return function(e){return Dl(e.map(({lookupName:e,type:t})=>e||t))}(t.sub);default:throw new Error(`Unhandled: Unable to create and validate type from ${e} (info=${ii[t.info]})`)}})}const jl=Object(C.a)("metadata");function Ml(e,t){return t.map(({type:t})=>e.getTypeDef(t).type)}function Il(e,t){return e.getSiType(t).def.asVariant.variants.map(({fields:t})=>Ml(e,t))}function Rl(e,t,r){return function(e,t,r){const n=Tl(Dl(r)).filter(t=>!e.hasType(t)).sort();if(0!==n.length){const e="Unknown types found, no types for "+n.join(", ");if(t)throw new Error(e);jl.warn(e)}return r}(e,r,Tl(function({lookup:e,pallets:t}){return t.reduce((t,{calls:r,constants:n,events:a,storage:i})=>(t.push([Ml(e,n)]),r.isSome&&t.push(Il(e,r.unwrap().type)),a.isSome&&t.push(Il(e,a.unwrap().type)),i.isSome&&t.push(i.unwrap().items.map(({type:t})=>{if(t.isPlain)return[e.getTypeDef(t.asPlain).type];const{hashers:r,key:n,value:a}=t.asMap;return 1===r.length?[e.getTypeDef(a).type,e.getTypeDef(n).type]:[e.getTypeDef(a).type,...e.getSiType(n).def.asTuple.map(t=>e.getTypeDef(t).type)]})),t),[])}(t)))}var Bl=Object(P.a)("converted"),Nl=Object(P.a)("assertVersion"),Fl=Object(P.a)("getVersion"),ql=Object(P.a)("metadata");class Ll extends Gr{constructor(e,t){super(e,{magicNumber:Ol,metadata:"MetadataAll"},t),Object.defineProperty(this,Bl,{writable:!0,value:new Map}),Object.defineProperty(this,Nl,{writable:!0,value:e=>(Object(D.a)(this.version<=e,()=>`Cannot convert metadata from version ${this.version} to ${e}`),this.version===e)}),Object.defineProperty(this,Fl,{writable:!0,value:(e,t)=>{const r="asV"+e,n="latest"===e?"asV14":"asV"+(e-1);return"latest"!==e&&Object(O.a)(this,Nl)[Nl](e)?Object(O.a)(this,ql)[ql]()[r]:(Object(O.a)(this,Bl)[Bl].has(e)||Object(O.a)(this,Bl)[Bl].set(e,t(this.registry,this[n],this.version)),Object(O.a)(this,Bl)[Bl].get(e))}}),Object.defineProperty(this,ql,{writable:!0,value:()=>this.get("metadata")})}get asCallsOnly(){return new Ll(this.registry,{magicNumber:this.magicNumber,metadata:this.registry.createType("MetadataAll",Cl(this.registry,this.asLatest),14)})}get asV9(){return Object(O.a)(this,Nl)[Nl](9),Object(O.a)(this,ql)[ql]().asV9}get asV10(){return Object(O.a)(this,Fl)[Fl](10,mu)}get asV11(){return Object(O.a)(this,Fl)[Fl](11,gu)}get asV12(){return Object(O.a)(this,Fl)[Fl](12,vu)}get asV13(){return Object(O.a)(this,Fl)[Fl](13,_u)}get asV14(){return Object(O.a)(this,Fl)[Fl](14,kl)}get asLatest(){return Object(O.a)(this,Fl)[Fl]("latest",Sl)}get magicNumber(){return this.get("magicNumber")}get version(){return Object(O.a)(this,ql)[ql]().index}getUniqTypes(e){return Rl(this.registry,this.asLatest,e)}toJSON(){return this.asLatest,super.toJSON()}}const Hl=new Uint8Array([109,101,116,97,9]),Ul=new Uint8Array;function zl(e,t){if(!t||Object(or.a)(t)||Object(yr.a)(t)){const r=function e(t=Ul){if(Object(yr.a)(t))return e(Object(Tt.a)(t));if(Object(or.a)(t))return 0===t.length?Hl:t;throw new Error("Invalid type passed to Metadata constructor")}(t),n=r[4];try{return new Ll(e,r)}catch(t){if(9===n)return r[4]=10,zl(e,r);throw t}}return new Ll(e,t)}class Vl extends Ll{constructor(e,t){super(e,zl(e,t))}}function Gl(e){return e instanceof Uint8Array||Array.isArray(e)}function Wl(e){return Object(At.a)(e&&e.toU8a)}function Kl(e){return Wl(e)&&Object(q.a)(e.index)&&Wl(e.value)}function Yl(e){return Object(q.a)(e)||Object(Ea.a)(e)||Object(B.a)(e)}function Xl(e,t){if(Yl(e)&&Yl(t))return Object(Jt.a)(e).cmp(Object(Jt.a)(t));if(e instanceof Map&&t instanceof Map)return Xl(Array.from(e.values()),Array.from(t.values()));if(Kl(e)&&Kl(t))return Xl(e.index,t.index)||Xl(e.value,t.value);if(Gl(e)&&Gl(t))return function(e,t){let r=0;const n=Math.min(e.length,t.length);for(let a=0;a<n;++a)if(r=Xl(e[a],t[a]),0!==r)return r;return e.length-t.length}(e,t);if(Wl(e)&&Wl(t))return Xl(e.toU8a(!0),t.toU8a(!0));throw new Error(`Attempting to sort unrecognized values: ${F(e)} (typeof ${typeof e}) <-> ${F(t)} (typeof ${typeof t})`)}const Jl=Object(C.a)("Map");function Ql(e,t,r,n){const a=new Map;return n.forEach((n,i)=>{const s=t.prototype instanceof Xr||t.prototype instanceof Gr||t.prototype instanceof In;try{a.set(i instanceof t?i:new t(e,s?JSON.parse(i):i),n instanceof r?n:new r(e,n))}catch(e){throw Jl.error("Failed to decode key or value:",e.message),e}}),[a,0]}function Zl(e,t,r,n){const a=qr(e,t),i=qr(e,r);if(!n)return[new Map,0];if(Object(or.a)(n)||Object(yr.a)(n))return function(e,t,r,n){const a=new Map,[i,s]=dn(n),o=s.toNumber(),c=[];for(let e=0;e<o;e++)c.push(t,r);const[u,l]=Fr(e,n.subarray(i),c);for(let e=0;e<u.length;e+=2)a.set(u[e],u[e+1]);return[a,i+l]}(e,a,i,Object(Tt.a)(n));if(n instanceof Map)return Ql(e,a,i,n);if(Object(hr.a)(n))return Ql(e,a,i,new Map(Object.entries(n)));throw new Error("Map: cannot decode type")}var $l=Object(P.a)("KeyClass"),ed=Object(P.a)("ValClass"),td=Object(P.a)("initialU8aLength"),rd=Object(P.a)("type");class nd extends Map{constructor(e,t,r,n,a="HashMap"){const[i,s]=Zl(e,t,r,n);var o;super("BTreeMap"===a?(o=i,new Map(Array.from(o.entries()).sort(([e],[t])=>Xl(e,t)))):i),this.registry=void 0,this.createdAtHash=void 0,Object.defineProperty(this,$l,{writable:!0,value:void 0}),Object.defineProperty(this,ed,{writable:!0,value:void 0}),Object.defineProperty(this,td,{writable:!0,value:void 0}),Object.defineProperty(this,rd,{writable:!0,value:void 0}),this.registry=e,Object(O.a)(this,$l)[$l]=qr(e,t),Object(O.a)(this,ed)[ed]=qr(e,r),Object(O.a)(this,td)[td]=s,Object(O.a)(this,rd)[rd]=a}get encodedLength(){let e=Object(Wr.a)(this.size).length;return this.forEach((t,r)=>{e+=t.encodedLength+r.encodedLength}),e}get initialU8aLength(){return Object(O.a)(this,td)[td]}get hash(){return this.registry.hash(this.toU8a())}get isEmpty(){return 0===this.size}eq(e){return mr(this,e)}toHex(){return Object(Ct.a)(this.toU8a())}toHuman(e){const t={};return this.forEach((r,n)=>{t[n.toString()]=r.toHuman(e)}),t}toJSON(){const e={};return this.forEach((t,r)=>{e[r.toString()]=t.toJSON()}),e}toRawType(){return`${Object(O.a)(this,rd)[rd]}<${this.registry.getClassName(Object(O.a)(this,$l)[$l])||new(Object(O.a)(this,$l)[$l])(this.registry).toRawType()},${this.registry.getClassName(Object(O.a)(this,ed)[ed])||new(Object(O.a)(this,ed)[ed])(this.registry).toRawType()}>`}toString(){return F(this.toJSON())}toU8a(e){const t=new Array;return e||t.push(Object(Wr.a)(this.size)),this.forEach((r,n)=>{t.push(n.toU8a(e),r.toU8a(e))}),Object(Rr.a)(...t)}}class ad extends nd{static with(e,t){return class extends ad{constructor(r,n){super(r,e,t,n,"BTreeMap")}}}}function id(e,t){return e.size===t.length&&!t.some(t=>!e.has(t))}const sd=Object(C.a)("BTreeSet");function od(e,t,r){if(!r)return[new Set,0];const n=qr(e,t);if(Object(yr.a)(r)||Object(or.a)(r))return function(e,t,r){const n=new Set,[a,i]=dn(r),[s,o]=Fr(e,r.subarray(a),new Array(i.toNumber()).fill(t));for(let e=0;e<s.length;e++)n.add(s[e]);return[n,o+a]}(e,n,Object(Tt.a)(r));if(Array.isArray(r)||r instanceof Set)return function(e,t,r){const n=new Set;return r.forEach(r=>{try{n.add(r instanceof t?r:new t(e,r))}catch(e){throw sd.error("Failed to decode key or value:",e.message),e}}),[n,0]}(e,n,r);throw new Error("BTreeSet: cannot decode type")}var cd=Object(P.a)("initialU8aLength"),ud=Object(P.a)("ValClass");class ld extends Set{constructor(e,t,r){const[n,a]=od(e,t,r);var i;super((i=n,new Set(Array.from(i).sort(Xl)))),this.registry=void 0,this.createdAtHash=void 0,Object.defineProperty(this,cd,{writable:!0,value:void 0}),Object.defineProperty(this,ud,{writable:!0,value:void 0}),this.registry=e,Object(O.a)(this,cd)[cd]=a,Object(O.a)(this,ud)[ud]=qr(e,t)}static with(e){return class extends ld{constructor(t,r){super(t,e,r)}}}get encodedLength(){let e=Object(Wr.a)(this.size).length;return this.forEach(t=>{e+=t.encodedLength}),e}get initialU8aLength(){return Object(O.a)(this,cd)[cd]}get hash(){return this.registry.hash(this.toU8a())}get isEmpty(){return 0===this.size}get strings(){return[...super.values()].map(e=>e.toString())}eq(e){return t=this,r=e,Array.isArray(r)?id(t,r):r instanceof Set?id(t,[...r.values()]):!!Object(hr.a)(r)&&id(t,Object.values(r));var t,r}toHex(){return Object(Ct.a)(this.toU8a())}toHuman(e){const t=[];return this.forEach(r=>{t.push(r.toHuman(e))}),t}toJSON(){const e=[];return this.forEach(t=>{e.push(t.toJSON())}),e}toRawType(){return`BTreeSet<${this.registry.getClassName(Object(O.a)(this,ud)[ud])||new(Object(O.a)(this,ud)[ud])(this.registry).toRawType()}>`}toString(){return F(this.toJSON())}toU8a(e){const t=new Array;return e||t.push(Object(Wr.a)(this.size)),this.forEach(r=>{t.push(r.toU8a(e))}),Object(Rr.a)(...t)}}var dd=Object(P.a)("Type"),hd=Object(P.a)("initialU8aLength"),pd=Object(P.a)("raw");class fd{constructor(e,t,r=0){this.registry=void 0,this.createdAtHash=void 0,Object.defineProperty(this,dd,{writable:!0,value:void 0}),Object.defineProperty(this,hd,{writable:!0,value:void 0}),Object.defineProperty(this,pd,{writable:!0,value:void 0}),this.registry=e,Object(O.a)(this,dd)[dd]=qr(e,t);const[n,a]=fd.decodeCompact(e,Object(O.a)(this,dd)[dd],r);Object(O.a)(this,hd)[hd]=a,Object(O.a)(this,pd)[pd]=n}static with(e){return class extends fd{constructor(t,r){super(t,e,r)}}}static decodeCompact(e,t,r){if(r instanceof fd)return[new t(e,Object(O.a)(r,pd)[pd]),0];if(Object(R.a)(r)||Object(q.a)(r)||Object(Ea.a)(r)||Object(B.a)(r))return[new t(e,r),0];const[n,a]=dn(r);return[new t(e,a),n]}get encodedLength(){return this.toU8a().length}get initialU8aLength(){return Object(O.a)(this,hd)[hd]}get hash(){return this.registry.hash(this.toU8a())}get isEmpty(){return Object(O.a)(this,pd)[pd].isEmpty}bitLength(){return Object(O.a)(this,pd)[pd].bitLength()}eq(e){return Object(O.a)(this,pd)[pd].eq(e instanceof fd?Object(O.a)(e,pd)[pd]:e)}toBigInt(){return Object(O.a)(this,pd)[pd].toBigInt()}toBn(){return Object(O.a)(this,pd)[pd].toBn()}toHex(e){return Object(O.a)(this,pd)[pd].toHex(e)}toHuman(e){return Object(O.a)(this,pd)[pd].toHuman(e)}toJSON(){return Object(O.a)(this,pd)[pd].toJSON()}toNumber(){return Object(O.a)(this,pd)[pd].toNumber()}toRawType(){return`Compact<${this.registry.getClassName(Object(O.a)(this,dd)[dd])||Object(O.a)(this,pd)[pd].toRawType()}>`}toString(){return Object(O.a)(this,pd)[pd].toString()}toU8a(e){return Object(Wr.a)(Object(O.a)(this,pd)[pd].toBn())}unwrap(){return Object(O.a)(this,pd)[pd]}}class md extends nd{static with(e,t){return class extends md{constructor(r,n){super(r,e,t,n)}}}}var gd=Object(P.a)("rangeName");class yd extends Qr{constructor(e,t,r,n="Range"){super(e,{end:t,start:t},r),Object.defineProperty(this,gd,{writable:!0,value:void 0}),Object(O.a)(this,gd)[gd]=n}static with(e){return class extends yd{constructor(t,r){super(t,e,r)}}}get start(){return this[0]}get end(){return this[1]}toRawType(){return`${Object(O.a)(this,gd)[gd]}<${this.start.toRawType()}>`}}class bd extends yd{constructor(e,t,r){super(e,t,r,"RangeInclusive")}static with(e){return class extends bd{constructor(t,r){super(t,e,r)}}}}class vd extends In{constructor(e,t,r,n){super(e,{Ok:t,Err:r},n)}static with(e){return class extends vd{constructor(t,r){super(t,e.Ok,e.Err,r)}}}get asErr(){return Object(D.a)(this.isErr,"Cannot extract Err value from Ok result, check isErr first"),this.value}get asError(){return this.asErr}get asOk(){return Object(D.a)(this.isOk,"Cannot extract Ok value from Err result, check isOk first"),this.value}get isEmpty(){return this.isOk&&this.value.isEmpty}get isErr(){return!this.isOk}get isError(){return this.isErr}get isOk(){return 0===this.index}toRawType(){const e=this._toRawStruct();return`Result<${e.Ok},${e.Err}>`}}function _d(e,t){const r=new un.a(0);for(let n=0;n<t.length;n++)r.ior(Object(Jt.a)(e[t[n]]||0));return r}function wd(e,t){const r=Object(Jt.a)(t),n=Object.keys(e),a=[];for(let t=0;t<n.length;t++){const i=n[t];r.and(Object(Jt.a)(e[i])).eq(Object(Jt.a)(e[i]))&&a.push(i)}const i=_d(e,a);return Object(D.a)(r.eq(i),()=>`Set: Mismatch decoding '${r.toString()}', computed as '${i.toString()}' with ${a.join(", ")}`),a}function xd(e,t=0,r){Object(D.a)(r%8==0,()=>"Expected valid bitLength, power of 8, found "+r);const n=r/8;if(Object(R.a)(t))return xd(e,Object(Tt.a)(t),n);if(Object(or.a)(t))return 0===t.length?[]:wd(e,Object(ln.a)(t.subarray(0,n),{isLe:!0}));if(t instanceof Set||Array.isArray(t)){return function(e,t){const r=new Array(t.length);for(let n=0;n<t.length;n++){const a=t[n];Object(D.a)(!Object(T.a)(e[a]),()=>`Set: Invalid key '${a}' passed to Set, allowed ${Object.keys(e).join(", ")}`),r[n]=a}return r}(e,Array.isArray(t)?t:[...t.values()])}return wd(e,t)}var kd=Object(P.a)("allowed"),Sd=Object(P.a)("byteLength");class Od extends Set{constructor(e,t,r,n=8){super(xd(t,r,n)),this.registry=void 0,this.createdAtHash=void 0,Object.defineProperty(this,kd,{writable:!0,value:void 0}),Object.defineProperty(this,Sd,{writable:!0,value:void 0}),this.add=e=>(Object(D.a)(Object(T.a)(Object(O.a)(this,kd)[kd])||!Object(T.a)(Object(O.a)(this,kd)[kd][e]),()=>`Set: Invalid key '${e}' on add`),super.add(e),this),this.registry=e,Object(O.a)(this,kd)[kd]=t,Object(O.a)(this,Sd)[Sd]=n/8}static with(e,t){return class extends Od{constructor(r,n){super(r,e,n,t),Object.keys(e).forEach(e=>{const t="is"+xn(Xt(e));Object(T.a)(this[t])&&Object.defineProperty(this,t,{enumerable:!0,get:()=>this.strings.includes(e)})})}}}get encodedLength(){return Object(O.a)(this,Sd)[Sd]}get hash(){return this.registry.hash(this.toU8a())}get isEmpty(){return 0===this.size}get strings(){return[...super.values()]}get valueEncoded(){return _d(Object(O.a)(this,kd)[kd],this.strings)}eq(e){return Array.isArray(e)?Kr(this.strings.sort(),e.sort()):e instanceof Set?this.eq([...e.values()]):!(!Object(q.a)(e)&&!Object(Ea.a)(e))&&this.valueEncoded.eq(Object(Jt.a)(e))}toHex(){return Object(Ct.a)(this.toU8a())}toHuman(){return this.toJSON()}toJSON(){return this.strings}toNumber(){return this.valueEncoded.toNumber()}toRawType(){return F({_set:Object(O.a)(this,kd)[kd]})}toString(){return`[${this.strings.join(", ")}]`}toU8a(e){return Object(Bn.a)(this.valueEncoded,{bitLength:8*Object(O.a)(this,Sd)[Sd],isLe:!0})}}const Pd=Object(C.a)("Vec");var Ed=Object(P.a)("Type");class Ad extends Xr{constructor(e,t,r=[]){const n=qr(e,t),[a,i]=Ad.decodeVec(e,n,r);super(e,a,i),Object.defineProperty(this,Ed,{writable:!0,value:void 0}),Object(O.a)(this,Ed)[Ed]=n}static decodeVec(e,t,r,n=-1){if(Array.isArray(r))return[r.map((r,n)=>{try{return r instanceof t?r:new t(e,r)}catch(e){throw Pd.error("Unable to decode on index "+n,e.message),e}}),0,0];const a=Object(Tt.a)(r);let i=0;if(-1===n){const[e,t]=dn(a);Object(D.a)(t.lten(65536),()=>`Vec length ${t.toString()} exceeds 65536`),n=t.toNumber(),i=e}const[s,o]=Fr(e,a.subarray(i),t,n);return[s,o+i,o]}static with(e){return class extends Ad{constructor(t,r){super(t,e,r)}}}get Type(){return Object(O.a)(this,Ed)[Ed].name}indexOf(e){const t=e instanceof Object(O.a)(this,Ed)[Ed]?e:new(Object(O.a)(this,Ed)[Ed])(this.registry,e);for(let e=0;e<this.length;e++)if(t.eq(this[e]))return e;return-1}toRawType(){return`Vec<${this.registry.getClassName(Object(O.a)(this,Ed)[Ed])||new(Object(O.a)(this,Ed)[Ed])(this.registry).toRawType()}>`}}var Cd=Object(P.a)("Type");class Td extends Xr{constructor(e,t,r,n=[]){const a=qr(e,t),[i,s]=function(e,t,r,n){const[a,,i]=Ad.decodeVec(e,t,n,r);for(;a.length<r;)a.push(new t(e));return Object(D.a)(a.length===r,()=>`Expected a length of exactly ${r} entries`),[a,i]}(e,a,r,n);super(e,i,s),Object.defineProperty(this,Cd,{writable:!0,value:void 0}),Object(O.a)(this,Cd)[Cd]=a}static with(e,t){return class extends Td{constructor(r,n){super(r,e,t,n)}}}get Type(){return new(Object(O.a)(this,Cd)[Cd])(this.registry).toRawType()}get encodedLength(){let e=0;for(let t=0;t<this.length;t++)e+=this[t].encodedLength;return e}toU8a(){const e=new Array(this.length);for(let t=0;t<this.length;t++)e[t]=this[t].toU8a();return e.length?Object(Rr.a)(...e):new Uint8Array([])}toRawType(){return`[${this.Type};${this.length}]`}}function Dd(e){const[t,r]=dn(e),n=t+r.toNumber();return[n,e.subarray(t,n)]}class jd extends fn{constructor(e,t,r){super(e,function(e,t,r){const n=qr(e,t);if(Object(or.a)(r)){const[,t]=Dd(r);return new n(e,t)}return new n(e,r)}(e,t,r))}static with(e){return class extends jd{constructor(t,r){super(t,e,r)}}}toRawType(){return`WrapperOpaque<${this._raw.toRawType()}>`}toU8a(e){const t=super.toU8a(e);return e?t:Object(hn.a)(t)}unwrap(){return this._raw}}function Md({lookupName:e,type:t}){return e||t}function Id(e){return Object(D.a)(e.sub&&Array.isArray(e.sub),()=>"Expected subtype as TypeDef[] in "+F(e)),e.sub}function Rd(e){return Md(function(e){return Object(D.a)(e.sub&&!Array.isArray(e.sub),()=>"Expected subtype as TypeDef in "+F(e)),e.sub}(e))}function Bd(e){const t=Id(e),r={};for(let e=0;e<t.length;e++)r[t[e].name]=Md(t[e]);return r}function Nd(e){return Id(e).map(Md)}function Fd({displayName:e,length:t},r){return Object(D.a)(Object(q.a)(t),()=>`Expected bitLength information for ${e||r.constructor.name}<bitLength>`),r.with(t,e)}function qd(e,t){const[r,n]=Nd(e);return t.with(r,n)}const Ld={[ii.BTreeMap]:(e,t)=>qd(t,ad),[ii.BTreeSet]:(e,t)=>ld.with(Rd(t)),[ii.Compact]:(e,t)=>fd.with(Rd(t)),[ii.DoNotConstruct]:(e,t)=>dr.with(t.displayName||t.type),[ii.Enum]:(e,t)=>{const r=Id(t);return In.with(r.every(({type:e})=>"Null"===e)?r.reduce((e,{index:t,name:r},n)=>(e[r]=t||n,e),{}):Bd(t))},[ii.HashMap]:(e,t)=>qd(t,md),[ii.Int]:(e,t)=>Fd(t,Gs),[ii.Linkage]:(e,t)=>{const r=`Option<${Rd(t)}>`,n=Gr.with({previous:r,next:r});return n.prototype.toRawType=function(){return`Linkage<${this.next.toRawType(!0)}>`},n},[ii.Null]:(e,t)=>Zr,[ii.Option]:(e,t)=>ia.with(Rd(t)),[ii.Plain]:(e,t)=>e.getOrUnknown(t.type),[ii.Range]:(e,t)=>(t.type.includes("RangeInclusive")?bd:yd).with(Rd(t)),[ii.Result]:(e,t)=>{const[r,n]=Nd(t);return vd.with({Err:n,Ok:r})},[ii.Set]:(e,t)=>Od.with(Id(t).reduce((e,{index:t,name:r})=>(e[r]=t,e),{}),t.length),[ii.Si]:(e,t)=>Hd(e,e.lookup.getTypeDef(t.type)),[ii.Struct]:(e,t)=>Gr.with(Bd(t),t.alias),[ii.Tuple]:(e,t)=>Qr.with(Nd(t)),[ii.UInt]:(e,t)=>Fd(t,Wn),[ii.Vec]:(e,{sub:t})=>(Object(D.a)(t&&!Array.isArray(t),"Expected type information for vector"),"u8"===t.type?Us:Ad.with(Md(t))),[ii.VecFixed]:(e,{displayName:t,length:r,sub:n})=>(Object(D.a)(n&&Object(q.a)(r)&&!Array.isArray(n),"Expected length & type information for fixed vector"),"u8"===n.type?Sa.with(8*r,t):Td.with(Md(n),r)),[ii.WrapperOpaque]:(e,t)=>jd.with(Rd(t))};function Hd(e,t){let r=e.get(t.type);if(r)return r;try{return r=Ld[t.info](e,t),Object(D.a)(r,"No class created"),!r.__fallbackType&&t.fallbackType&&(r.__fallbackType=t.fallbackType),r}catch(e){throw new Error(`Unable to construct class from ${F(t)}: ${e.message}`)}}function Ud(e,t){return Hd(e,e.isLookupType(t)?e.lookup.getTypeDef(t):Fi(t))}var zd=r(195);function Vd(e,t){const r=e.toU8a(),n=e.toRawType(),a=Object(zd.a)(r,t)||["Bytes","Text","Type"].includes(n)&&t.length===e.length||e.isEmpty&&t.every(e=>!e);Object(D.a)(a,()=>`${n}:: Decoded input doesn't match input, received ${Object(Ct.a)(t,512)} (${t.length} bytes), created ${Object(Ct.a)(r,512)} (${r.length} bytes)`)}function Gd(e,t,r=[],{blockHash:n,isOptional:a,isPedantic:i}={}){const s=new(a?ia.with(t):t)(e,...r);return function(e,[t],r=!1){r&&(Object(or.a)(t)?Vd(e,t):Object(yr.a)(t)&&Vd(e,Object(Tt.a)(t)))}(s,r,i),n&&(s.createdAtHash=function(e,t,...r){return Wd(e,t,r)}(e,"Hash",n)),s}function Wd(e,t,r=[],n={}){let a=null,i=null;try{return a=Ud(e,t),Gd(e,a,r,n)}catch(e){i=new Error(`createType(${t}):: ${e.message}`)}if(a&&a.__fallbackType)try{return a=Ud(e,a.__fallbackType),Gd(e,a,r,n)}catch{}throw i}function Kd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kd(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Xd=Object(C.a)("registry");function Jd(e,{fields:t}){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e.getTypeDef(t[n].type).type;return r}function Qd(e){return e.toString()}var Zd=Object(P.a)("classes"),$d=Object(P.a)("definitions"),eh=Object(P.a)("lookup"),th=Object(P.a)("metadata"),rh=Object(P.a)("metadataCalls"),nh=Object(P.a)("metadataErrors"),ah=Object(P.a)("metadataEvents"),ih=Object(P.a)("unknownTypes"),sh=Object(P.a)("chainProperties"),oh=Object(P.a)("hasher"),ch=Object(P.a)("knownDefaults"),uh=Object(P.a)("knownDefinitions"),lh=Object(P.a)("knownTypes"),dh=Object(P.a)("signedExtensions"),hh=Object(P.a)("userExtensions");class ph{constructor(e){Object.defineProperty(this,Zd,{writable:!0,value:new Map}),Object.defineProperty(this,$d,{writable:!0,value:new Map}),Object.defineProperty(this,eh,{writable:!0,value:void 0}),Object.defineProperty(this,th,{writable:!0,value:void 0}),Object.defineProperty(this,rh,{writable:!0,value:{}}),Object.defineProperty(this,nh,{writable:!0,value:{}}),Object.defineProperty(this,ah,{writable:!0,value:{}}),Object.defineProperty(this,ih,{writable:!0,value:new Map}),Object.defineProperty(this,sh,{writable:!0,value:void 0}),Object.defineProperty(this,oh,{writable:!0,value:ur.a}),Object.defineProperty(this,ch,{writable:!0,value:void 0}),Object.defineProperty(this,uh,{writable:!0,value:void 0}),Object.defineProperty(this,lh,{writable:!0,value:{}}),Object.defineProperty(this,dh,{writable:!0,value:jr}),Object.defineProperty(this,hh,{writable:!0,value:void 0}),this.createdAtHash=void 0,Object(O.a)(this,ch)[ch]=Yd({Json:gr,Metadata:Vl,Raw:Sr},n),Object(O.a)(this,uh)[uh]=a,this.init(),e&&(this.createdAtHash=this.createType("Hash",e))}init(){Object(O.a)(this,Zd)[Zd]=new Map,Object(O.a)(this,$d)[$d]=new Map,Object(O.a)(this,ih)[ih]=new Map,Object(O.a)(this,lh)[lh]={},this.register(Object(O.a)(this,ch)[ch]);const e=Object.values(Object(O.a)(this,uh)[uh]);for(let t=0;t<e.length;t++)this.register(e[t].types);return this}get chainDecimals(){var e;if(null!==(e=Object(O.a)(this,sh)[sh])&&void 0!==e&&e.tokenDecimals.isSome){const e=Object(O.a)(this,sh)[sh].tokenDecimals.unwrap();if(e.length)return e.map(e=>e.toNumber())}return[12]}get chainSS58(){var e;return null!==(e=Object(O.a)(this,sh)[sh])&&void 0!==e&&e.ss58Format.isSome?Object(O.a)(this,sh)[sh].ss58Format.unwrap().toNumber():void 0}get chainTokens(){var e;if(null!==(e=Object(O.a)(this,sh)[sh])&&void 0!==e&&e.tokenSymbol.isSome){const e=Object(O.a)(this,sh)[sh].tokenSymbol.unwrap();if(e.length)return e.map(Qd)}return[sr.getDefaults().unit]}isLookupType(e){return/Lookup\d+$/.test(e)}createLookupType(e){return"Lookup"+e.toString()}get knownTypes(){return Object(O.a)(this,lh)[lh]}get lookup(){return Object(O.a)(this,eh)[eh]||this.metadata.lookup}get metadata(){return Object(D.a)(Object(O.a)(this,th)[th],"Metadata has not been set on this registry"),Object(O.a)(this,th)[th]}get unknownTypes(){return[...Object(O.a)(this,ih)[ih].keys()]}get signedExtensions(){return Object(O.a)(this,dh)[dh]}createClass(e){return Ud(this,e)}createType(e,...t){return this.createTypeUnsafe(e,t)}createTypeUnsafe(e,t,r){return Wd(this,e,t,r)}findMetaCall(e){const t=Object(Ct.a)(e);return Object(D.b)(Object(O.a)(this,rh)[rh][t],`findMetaCall: Unable to find Call with index ${t}/[${e.toString()}]`)}findMetaError(e){const t=Object(Ct.a)(Object(or.a)(e)?e:new Uint8Array([e.index.toNumber(),e.error.toNumber()]));return Object(D.b)(Object(O.a)(this,nh)[nh][t],`findMetaError: Unable to find Error with index ${t}/[${e.toString()}]`)}findMetaEvent(e){const t=Object(Ct.a)(e);return Object(D.b)(Object(O.a)(this,ah)[ah][t],`findMetaEvent: Unable to find Event with index ${t}/[${e.toString()}]`)}get(e,t){let r=Object(O.a)(this,Zd)[Zd].get(e);if(!r){const n=Object(O.a)(this,$d)[$d].get(e);let a;n?(a=Ud(this,n),Object(O.a)(this,Zd)[Zd].set(e,a)):t&&(Xd.warn(`Unable to resolve type ${e}, it will fail on construction`),Object(O.a)(this,ih)[ih].set(e,!0),a=dr.with(e)),a&&(r=class extends a{},Object(O.a)(this,Zd)[Zd].set(e,r))}return r}getChainProperties(){return Object(O.a)(this,sh)[sh]}getClassName(e){const t=[];for(const[r,n]of Object(O.a)(this,Zd)[Zd].entries())e===n&&t.push(r);return t.sort().reverse(),t.length?t[0]:void 0}getDefinition(e){return Object(O.a)(this,$d)[$d].get(e)}getModuleInstances(e,t){var r,n,a,i,s;return null===(r=Object(O.a)(this,lh)[lh])||void 0===r||null===(n=r.typesBundle)||void 0===n||null===(a=n.spec)||void 0===a||null===(i=a[e])||void 0===i||null===(s=i.instances)||void 0===s?void 0:s[t]}getOrThrow(e,t){const r=this.get(e);return Object(D.a)(r,t||`type ${e} not found`),r}getOrUnknown(e){return this.get(e,!0)}getSignedExtensionExtra(){return Mr(Object(O.a)(this,dh)[dh],"payload",Object(O.a)(this,hh)[hh])}getSignedExtensionTypes(){return Mr(Object(O.a)(this,dh)[dh],"extrinsic",Object(O.a)(this,hh)[hh])}hasClass(e){return Object(O.a)(this,Zd)[Zd].has(e)}hasDef(e){return Object(O.a)(this,$d)[$d].has(e)}hasType(e){return!Object(O.a)(this,ih)[ih].get(e)&&(this.hasClass(e)||this.hasDef(e))}hash(e){return this.createType("CodecHash",Object(O.a)(this,oh)[oh](e))}register(e,t){Object(At.a)(e)?Object(O.a)(this,Zd)[Zd].set(e.name,e):Object(R.a)(e)?(Object(D.a)(Object(At.a)(t),()=>`Expected class definition passed to '${e}' registration`),Object(D.a)(e!==t.toString(),()=>`Unable to register circular ${e} === ${e}`),Object(O.a)(this,Zd)[Zd].set(e,t)):this._registerObject(e)}_registerObject(e){const t=Object.entries(e);for(let e=0;e<t.length;e++){const[r,n]=t[e];if(Object(At.a)(n))Object(O.a)(this,Zd)[Zd].set(r,n);else{const e=Object(R.a)(n)?n:F(n);Object(D.a)(r!==e,()=>`Unable to register circular ${r} === ${e}`),Object(O.a)(this,Zd)[Zd].has(r)&&Object(O.a)(this,Zd)[Zd].delete(r),Object(O.a)(this,$d)[$d].set(r,e)}}}setChainProperties(e){e&&(Object(O.a)(this,sh)[sh]=e)}setHasher(e){Object(O.a)(this,oh)[oh]=e||ur.a}setKnownTypes(e){Object(O.a)(this,lh)[lh]=e}setLookup(e){Object(O.a)(this,eh)[eh]=e}setMetadata(e,t,r){Object(O.a)(this,th)[th]=e.asLatest,function(e,t,r){const n=uu(e,t.asLatest,t.version),a=Object.values(n);for(let e=0;e<a.length;e++){const t=Object.values(a[e]);for(let e=0;e<t.length;e++){const n=t[e];r[Object(Ct.a)(n.callIndex)]=n}}}(this,e,Object(O.a)(this,rh)[rh]),function(e,t,r){const{lookup:n,pallets:a}=t.asLatest;for(let e=0;e<a.length;e++){const{errors:i,index:s,name:o}=a[e];if(i.isSome){const a=t.version>=12?s.toNumber():e,c=Xt(o),{variants:u}=n.getSiType(i.unwrap().type).def.asVariant;for(let e=0;e<u.length;e++){const{docs:t,fields:i,index:s,name:o}=u[e],l=s.toNumber();r[Object(Ct.a)(new Uint8Array([a,l]))]={args:Jd(n,u[e]),docs:t.map(Qd),fields:i,index:l,method:o.toString(),name:o.toString(),section:c}}}}}(0,e,Object(O.a)(this,nh)[nh]),function(e,t,r){const{lookup:n,pallets:a}=t.asLatest,i=a.filter(nu);for(let a=0;a<i.length;a++){const{events:s,index:o,name:c}=i[a],u=t.version>=12?o.toNumber():a,l=Xt(c),{variants:d}=n.getSiType(s.unwrap().type).def.asVariant;for(let t=0;t<d.length;t++){const{index:a,name:i}=d[t],s=e.createType("EventMetadataLatest",Yd(Yd({},d[t]),{},{args:Jd(n,d[t])}));r[Object(Ct.a)(new Uint8Array([u,a.toNumber()]))]=class extends sn{constructor(e,t){super(e,t,s,l,i.toString())}}}}}(this,e,Object(O.a)(this,ah)[ah]),this.setSignedExtensions(t||(Object(O.a)(this,th)[th].extrinsic.version.gt(cr.i)?Object(O.a)(this,th)[th].extrinsic.signedExtensions.map(({identifier:e})=>e.toString()):jr),r),this.setChainProperties(function(e,t){var r;const n=e.getChainProperties(),a=null===(r=lu(e,t.asLatest,t.version).system)||void 0===r?void 0:r.ss58Prefix;if(!a)return n;const{tokenDecimals:i,tokenSymbol:s}=n||{};return e.createType("ChainProperties",{ss58Format:a,tokenDecimals:i,tokenSymbol:s})}(this,e))}setSignedExtensions(e=jr,t){Object(O.a)(this,dh)[dh]=e,Object(O.a)(this,hh)[hh]=t;const r=function(e,t={}){const r=[...Object.keys(Dr),...Object.keys(t)];return e.filter(e=>!r.includes(e))}(Object(O.a)(this,dh)[dh],Object(O.a)(this,hh)[hh]);r.length&&Xd.warn(`Unknown signed extensions ${r.join(", ")} found, treating them as no-effect`)}}var fh=r(1310),mh=Array.isArray,gh=Object.getPrototypeOf,yh=Object.prototype,bh=Object.keys;function vh(e){if(1===e.length){var t=e[0];if(mh(t))return{args:t,keys:null};if((n=t)&&"object"==typeof n&&gh(n)===yh){var r=bh(t);return{args:r.map((function(e){return t[e]})),keys:r}}}var n;return{args:e,keys:null}}var _h=Array.isArray;function wh(e){return Wt((function(t){return function(e,t){return _h(t)?e.apply(void 0,Me([],je(t))):e(t)}(e,t)}))}function xh(e,t){return e.reduce((function(e,r,n){return e[r]=t[n],e}),{})}function kh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ft(e),n=Nt(e),a=vh(e),i=a.args,s=a.keys;if(0===i.length)return Vt([],r);var o=new ut(Sh(i,r,s?function(e){return xh(s,e)}:ot));return n?o.pipe(wh(n)):o}function Sh(e,t,r){return void 0===r&&(r=ot),function(n){Oh(t,(function(){for(var a=e.length,i=new Array(a),s=a,o=a,c=function(a){Oh(t,(function(){var c=Vt(e[a],t),u=!1;c.subscribe(new kt(n,(function(e){i[a]=e,u||(u=!0,o--),o||n.next(r(i.slice()))}),(function(){--s||n.complete()})))}),n)},u=0;u<a;u++)c(u)}),n)}}function Oh(e,t,r){e?qt(r,e,t):t()}function Ph(e){return e<=0?function(){return dt}:Ot((function(t,r){var n=0;t.subscribe(new kt(r,(function(t){++n<=e&&(r.next(t),e<=n&&r.complete())})))}))}const Eh=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten"];function Ah(e){const t=e.map(e=>!!e);return{filtered:e.filter((e,r)=>t[r]),included:t,original:e}}function Ch(e,t){let r=-1;return t.included.map(t=>t?e[++r]:null)}function Th(e,t){var r,n,a,i,s,o;const c=e.registry.createType("AccountId"),u=Ah([null===(r=e.consts.auctions)||void 0===r?void 0:r.leasePeriodsPerSlot,null===(n=e.consts.auctions)||void 0===n?void 0:n.slotRangeCount]),l=Ah([null===(a=e.query.staking)||void 0===a?void 0:a.storageVersion]),d=Ah([null===(i=e.query.session)||void 0===i?void 0:i.queuedKeys.key(),null===(s=e.query.system)||void 0===s||null===(o=s.account)||void 0===o?void 0:o.key(c)]);return kh([u.filtered.length?Gt(t?[]:u.filtered):Gt([]),l.filtered.length?t?kh(l.filtered.map(e=>e.at(t))):e.queryMulti(l.filtered):Gt([]),d.filtered.length?kh(t?d.filtered.map(r=>e.rpc.state.getStorage.raw(r,t)):d.filtered.map(t=>e.rpc.state.getStorage.raw(t))):Gt([])]).pipe(Wt(([t,r,n])=>function({accountIdLength:e,refcount1Length:t,refcount2Length:r,refcount3Length:n},[a,i],[s],[o,c]){const u={};if(c){const e=c.length;e===t?u.AccountInfo="AccountInfoWithRefCount":e===r?u.AccountInfo="AccountInfoWithDualRefCount":e===n&&(u.AccountInfo="AccountInfoWithTripleRefCount")}if(s&&(s.index>=4?u.ValidatorPrefs="ValidatorPrefsWithBlocked":u.ValidatorPrefs="ValidatorPrefsWithCommission"),o)try{const[t,r]=dn(o),n=(o.length-t)/r.toNumber(),a=n/e,i=Math.floor(a);Object(D.a)(a>=2&&a<=11,()=>`Detected ${a} in Keys, should be >= 2 and <= 11`),i!==a?(i-1)*e+33===n?u.Keys=`SessionKeys${i-1}B`:Object(D.a)(!1,()=>"Expected integer number of keys, found "+a.toFixed(2)):u.Keys="SessionKeys"+(a-1)}catch{}if(a&&i){const e=[];for(let t=0;a.gtn(t);t++)for(let r=t;a.gtn(r);r++)e.push(`${Eh[t]}${Eh[r]}`);u.SlotRange={_enum:e},u.WinningData=`[WinningDataEntry; ${i.toNumber()}]`}return u}({accountIdLength:c.encodedLength,refcount1Length:e.registry.createType("AccountInfoWithRefCount").encodedLength,refcount2Length:e.registry.createType("AccountInfoWithDualRefCount").encodedLength,refcount3Length:e.registry.createType("AccountInfoWithTripleRefCount").encodedLength},Ch(t,u),Ch(r,l),Ch(n.map(t=>e.registry.createType("Raw",t)),d))),Ph(1),Pt(()=>Gt({})))}var Dh=Fe((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),jh=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Ae(t,e),t.prototype.lift=function(e){var t=new Mh(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new Dh},t.prototype.next=function(e){var t=this;Ze((function(){var r,n;if(t._throwIfClosed(),!t.isStopped){var a=t.observers.slice();try{for(var i=De(a),s=i.next();!s.done;s=i.next()){s.value.next(e)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}}))},t.prototype.error=function(e){var t=this;Ze((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Ze((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this.hasError,r=this.isStopped,n=this.observers;return t||r?Ue:(n.push(e),new He((function(){return Le(n,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,r=this.thrownError,n=this.isStopped;t?e.error(r):n&&e.complete()},t.prototype.asObservable=function(){var e=new ut;return e.source=this,e},t.create=function(e,t){return new Mh(e,t)},t}(ut),Mh=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return Ae(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Ue},t}(jh),Ih=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return Ae(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,r=this._value;if(e)throw t;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(jh);function Rh(e,t,r,n,a){return function(i,s){var o=r,c=t,u=0;i.subscribe(new kt(s,(function(t){var r=u++;c=o?e(c,t,r):(o=!0,t),n&&s.next(c)}),a&&function(){o&&s.next(c),s.complete()}))}}var Bh=function(e,t){return e.push(t),e};function Nh(){return Ot((function(e,t){(function(e,t){return Ot(Rh(e,t,arguments.length>=2,!1,!0))})(Bh,[])(e).subscribe(t)}))}function Fh(){return"none"}function qh(e,{getInstanceId:t=Fh}={}){const r={},n=(...n)=>{const a=F(n),i=t();return r[i]||(r[i]={}),Object(T.a)(r[i][a])&&(r[i][a]=e(...n)),r[i][a]};return n.unmemoize=(...e)=>{const n=F(e),a=t();r[a]&&!Object(T.a)(r[a][n])&&delete r[a][n]},n}function Lh(e,t){return e===t}var Hh={now:function(){return(Hh.delegate||Date).now()},delegate:void 0},Uh=function(e){function t(t,r,n){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===n&&(n=Hh);var a=e.call(this)||this;return a._bufferSize=t,a._windowTime=r,a._timestampProvider=n,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=r===1/0,a._bufferSize=Math.max(1,t),a._windowTime=Math.max(1,r),a}return Ae(t,e),t.prototype.next=function(t){var r=this,n=r.isStopped,a=r._buffer,i=r._infiniteTimeWindow,s=r._timestampProvider,o=r._windowTime;n||(a.push(t),!i&&a.push(s.now()+o)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,n=this._buffer.slice(),a=0;a<n.length&&!e.closed;a+=r?1:2)e.next(n[a]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,r=this._buffer,n=this._infiniteTimeWindow,a=(n?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!n){for(var i=t.now(),s=0,o=1;o<r.length&&r[o]<=i;o+=2)s=o;s&&r.splice(0,s+1)}},t}(jh);function zh(){return Ot((function(e,t){var r=null;e._refCount++;var n=new kt(t,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)r=null;else{var n=e._connection,a=r;r=null,!n||a&&n!==a||n.unsubscribe(),t.unsubscribe()}}));e.subscribe(n),n.closed||(r=e.connect())}))}var Vh=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subjectFactory=r,n._subject=null,n._refCount=0,n._connection=null,St(t)&&(n.lift=t.lift),n}return Ae(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new He;var r=this.getSubject();t.add(this.source.subscribe(new kt(r,void 0,(function(){e._teardown(),r.complete()}),(function(t){e._teardown(),r.error(t)}),(function(){return e._teardown()})))),t.closed&&(this._connection=null,t=He.EMPTY)}return t},t.prototype.refCount=function(){return zh()(this)},t}(ut);var Gh={connector:function(){return new jh}};function Wh(e,t){void 0===t&&(t=Gh);var r=t.connector;return Ot((function(t,n){var a,i=r();Vt(e((a=i,new ut((function(e){return a.subscribe(e)}))))).subscribe(n),n.add(t.subscribe(i))}))}function Kh(e,t,r,n){r&&!Ne(r)&&(n=r);var a=Ne(r)?r:void 0;return function(r){return function(e,t){var r=Ne(e)?e:function(){return e};return Ne(t)?Wh(t,{connector:r}):function(e){return new Vh(e,r)}}(new Uh(e,t,n),a)(r)}}var Yh,Xh=function(e){function t(t,r){return e.call(this)||this}return Ae(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(He),Jh={setInterval:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Jh.delegate;return((null==r?void 0:r.setInterval)||setInterval).apply(void 0,Me([],je(e)))},clearInterval:function(e){var t=Jh.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Qh=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return Ae(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),Jh.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;Jh.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Le(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Xh),Zh=1,$h={};function ep(e){return e in $h&&(delete $h[e],!0)}var tp=function(e){var t=Zh++;return $h[t]=!0,Yh||(Yh=Promise.resolve()),Yh.then((function(){return ep(t)&&e()})),t},rp=function(e){ep(e)},np={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=np.delegate;return((null==r?void 0:r.setImmediate)||tp).apply(void 0,Me([],je(e)))},clearImmediate:function(e){var t=np.delegate;return((null==t?void 0:t.clearImmediate)||rp)(e)},delegate:void 0},ap=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return Ae(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t._scheduled||(t._scheduled=np.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);0===t.actions.length&&(np.clearImmediate(r),t._scheduled=void 0)},t}(Qh),ip=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=Hh.now,e}(),sp=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ae(t,e),t.prototype.flush=function(e){this._active=!0,this._scheduled=void 0;var t,r=this.actions,n=-1;e=e||r.shift();var a=r.length;do{if(t=e.execute(e.state,e.delay))break}while(++n<a&&(e=r.shift()));if(this._active=!1,t){for(;++n<a&&(e=r.shift());)e.unsubscribe();throw t}},t}(function(e){function t(t,r){void 0===r&&(r=ip.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n._scheduled=void 0,n}return Ae(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(ip)))(ap);function op(e=1750){return t=>{let[r,n,a,i]=[0,0,He.EMPTY,He.EMPTY];return new ut(s=>(t.subscribe(s),0==n++&&(1===r?i.unsubscribe():a=t.connect(),r=3),()=>{0==--n&&(2===r?(r=0,i.unsubscribe()):(r=1,i=sp.schedule(()=>{r=0,a.unsubscribe()},e)))}))}}const cp=Object(C.a)("drr"),up=(e,t)=>F({t:e})===F({t:t}),lp=e=>{throw cp.error(e.message),e},dp=()=>{},hp=({delay:e,skipChange:t=!1,skipTimeout:r=!1}={})=>n=>{return n.pipe(Pt(lp),t?Et(dp):(void 0===i&&(i=ot),a=null!=(a=up)?a:Lh,Ot((function(e,t){var r,n=!0;e.subscribe(new kt(t,(function(e){var s=i(e);!n&&a(r,s)||(n=!1,r=s,t.next(e))})))}))),Kh(1),r?zh():op(e));var a,i};function pp(e,t){const r=qh((...e)=>new ut(n=>{const a=t(...e).subscribe(n);return()=>{r.unmemoize(...e),a.unsubscribe()}}).pipe(hp()),{getInstanceId:()=>e});return r}function fp(e,t){return pp(e,e=>function(e,t){const r=Object(or.a)(t)?t:Object(Aa.a)((t||"").toString());if(r.length>8)return Gt(e.registry.createType("AccountId",r));const n=e.registry.createType("AccountIndex",r);return e.derive.accounts.indexToId(n.toString()).pipe(Wt(e=>Object(D.b)(e,"Unable to retrieve accountId")))}(t,e))}function mp(e,t){return pp(e,e=>{var r,n,a,i,s;const o=t.query.phragmenElection?"phragmenElection":t.query.electionsPhragmen?"electionsPhragmen":"elections";return kh([e&&null!==(r=t.query[o])&&void 0!==r&&r.members?t.query[o].members():Gt(void 0),e&&null!==(n=t.query.council)&&void 0!==n&&n.members?t.query.council.members():Gt([]),e&&null!==(a=t.query.technicalCommittee)&&void 0!==a&&a.members?t.query.technicalCommittee.members():Gt([]),e&&null!==(i=t.query.society)&&void 0!==i&&i.members?t.query.society.members():Gt([]),e&&null!==(s=t.query.sudo)&&void 0!==s&&s.key?t.query.sudo.key():Gt(void 0)]).pipe(Wt(t=>function(e,[t,r,n,a,i]){const s=t=>!!e&&t.toString()===e.toString();return{isCouncil:((null==t?void 0:t.map(([e])=>e))||r||[]).some(s),isSociety:(a||[]).some(s),isSudo:(null==i?void 0:i.toString())===(null==e?void 0:e.toString()),isTechCommittee:(n||[]).some(s)}}(e,t)))})}function gp(e,t){return pp(e,e=>function(e,t){try{const r=Object(or.a)(t)?t:Object(Aa.a)((t||"").toString());if(r.length>8){const t=e.registry.createType("AccountId",r);return e.derive.accounts.idToIndex(t).pipe(Wt(e=>[t,e]))}const n=e.registry.createType("AccountIndex",r);return e.derive.accounts.indexToId(n.toString()).pipe(Wt(e=>[e,n]))}catch(e){return Gt([void 0,void 0])}}(t,e))}function yp(e,t){return pp(e,e=>t.derive.accounts.indexes().pipe(Wt(t=>(t||{})[e.toString()])))}const bp={toHex:()=>{}};function vp(e){return e.isRaw?Object(xr.a)(e.asRaw.toU8a(!0)):e.isNone?void 0:e.toHex()}function _p(e,t){return pp(e,e=>function(e,t){var r;return t&&null!==(r=e.query.identity)&&void 0!==r&&r.identityOf?e.queryMulti([[e.query.identity.identityOf,t],[e.query.identity.superOf,t]]):Gt([void 0,void 0])}(t,e).pipe(Rt(([e,r])=>function(e,t,r){if(null!=t&&t.isSome)return Gt([t,void 0]);if(null!=r&&r.isSome){const t=r.unwrap();return kh([e.query.identity.identityOf(t[0]),Gt(t)])}return Gt([void 0,void 0])}(t,e,r)),Wt(([e,t])=>function(e,t){if(null==e||!e.isSome)return{judgements:[]};const{info:r,judgements:n}=e.unwrap(),a=vp(r.display);return{display:t&&vp(t[1])||a,displayParent:t&&a,email:vp(r.email),image:vp(r.image),judgements:n,legal:vp(r.legal),other:(i=r.additional,i.reduce((e,[t,r])=>{const n=vp(t),a=vp(r);return n&&a&&(e[n]=a),e},{})),parent:t&&t[0],pgp:r.pgpFingerprint.unwrapOr(bp).toHex(),riot:vp(r.riot),twitter:vp(r.twitter),web:vp(r.web)};var i}(e,t))))}function wp(e,t){return pp(e,e=>t.derive.accounts.hasIdentityMulti([e]).pipe(Wt(([e])=>e)))}function xp(e,t){return pp(e,e=>{var r;return null!==(r=t.query.identity)&&void 0!==r&&r.identityOf?kh([t.query.identity.identityOf.multi(e),t.query.identity.superOf.multi(e)]).pipe(Wt(([e,t])=>e.map((e,r)=>{const n=t[r],a=n&&n.isSome?n.unwrap()[0].toString():void 0;let i;if(e&&e.isSome){const t=vp(e.unwrap().info.display);t&&!Object(yr.a)(t)&&(i=t)}return{display:i,hasIdentity:!(!i&&!a),parentId:a}}))):Gt(e.map(()=>({hasIdentity:!1})))})}function kp(e,t){return pp(e,e=>t.query.indices?t.query.indices.accounts(e).pipe(Wt(e=>e.unwrapOr([])[0])):Gt(void 0))}function Sp(e,t,r){return void 0===r&&(r=1/0),Ne(t)?Sp((function(r,n){return Wt((function(e,a){return t(r,e,n,a)}))(wt(e(r,n)))}),r):("number"==typeof t&&(r=t),Ot((function(t,n){return function(e,t,r,n,a,i,s,o){var c=[],u=0,l=0,d=!1,h=function(){!d||c.length||u||t.complete()},p=function(e){return u<n?f(e):c.push(e)},f=function(e){i&&t.next(e),u++;var o=!1;wt(r(e,l++)).subscribe(new kt(t,(function(e){null==a||a(e),i?p(e):t.next(e)}),(function(){o=!0}),void 0,(function(){if(o)try{u--;for(var e=function(){var e=c.shift();s?qt(t,s,(function(){return f(e)})):f(e)};c.length&&u<n;)e();h()}catch(e){t.error(e)}})))};return e.subscribe(new kt(t,p,(function(){d=!0,h()}))),function(){null==o||o()}}(t,n,e,r)})))}function Op(){return void 0===(e=1)&&(e=1/0),Sp(ot,e);var e}function Pp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Op()(Vt(e,Ft(e)))}function Ep(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ft(e);return Ot((function(t,n){(r?Pp(e,t,r):Pp(e,t)).subscribe(n)}))}let Ap=null;function Cp(e,t){return pp(e,()=>Ap?Gt(Ap):(t.query.indices?function(e){return e.query.indices.accounts.entries().pipe(Wt(t=>t.reduce((t,[r,n])=>(n.isSome&&(t[n.unwrap()[0].toString()]=e.registry.createType("AccountIndex",r.args[0])),t),{})))}(t).pipe(Ep({})):Gt({})).pipe(Wt(e=>(Ap=e,e))))}function Tp(e,t){var r;return(t&&null!==(r=e.query.nicks)&&void 0!==r&&r.nameOf?e.query.nicks.nameOf(t):Gt(void 0)).pipe(Wt(t=>null!=t&&t.isSome?Object(xr.a)(t.unwrap()[0]).substr(0,e.consts.nicks.maxLength.toNumber()):void 0))}function Dp(e,t){return pp(e,e=>t.derive.accounts.idAndIndex(e).pipe(Rt(([e,r])=>kh([Gt({accountId:e,accountIndex:r}),t.derive.accounts.identity(e),Tp(t,e)])),Wt(([{accountId:e,accountIndex:t},r,n])=>({accountId:e,accountIndex:t,identity:r,nickname:n}))))}function jp(e,t){Object(D.a)(t.length>=1,"Must provide one or more BN arguments");let r=t[0];for(const n of t)r=un.a[e](r,n);return r}function Mp(...e){return jp("max",e)}function Ip(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ip(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ip(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bp(e,t,r,n){const{allLocked:a,lockedBalance:i,lockedBreakdown:s,vestingLocked:o}=function(e,t,r){let n=e.registry.createType("Balance"),a=[],i=e.registry.createType("Balance"),s=!1;if(Array.isArray(r)){a=r.filter(({until:e})=>!e||t&&e.gt(t)),s=a.some(({amount:e})=>e&&e.isMax()),i=e.registry.createType("Balance",a.filter(({id:e})=>e.eq("0x76657374696e6720")).reduce((e,{amount:t})=>e.iadd(t),new un.a(0)));const o=a.filter(({amount:e})=>e&&!e.isMax());o.length&&(n=e.registry.createType("Balance",Mp(...o.map(({amount:e})=>e))))}return{allLocked:s,lockedBalance:n,lockedBreakdown:a,vestingLocked:i}}(e,t,n);return Rp(Rp({},r),{},{availableBalance:e.registry.createType("Balance",a?0:Mp(new un.a(0),r.freeBalance.sub(i))),lockedBalance:i,lockedBreakdown:s,vestingLocked:o})}function Np(e,t,r){const n=r||[],a=!t.vestingLocked.isZero(),i=n.map(({locked:t,perBlock:r,startingBlock:n})=>e.gt(n)?function(...e){return jp("min",e)}(t,r.mul(e.sub(n))):cr.i),s=i.reduce((e,t)=>e.iadd(t),new un.a(0)),o=n.reduce((e,{locked:t})=>e.iadd(t),new un.a(0));return{isVesting:a,vestedBalance:s,vestedClaimable:a?t.vestingLocked.sub(o.sub(s)):cr.i,vesting:n.map(({locked:e,perBlock:t,startingBlock:r},n)=>({endBlock:e.div(t).iadd(r),locked:e,perBlock:t,startingBlock:r,vested:i[n]})).filter(({locked:e})=>!e.isZero()),vestingTotal:o}}function Fp(e,t){return e.queryMulti([[e.query.balances.locks,t],[e.query.balances.vesting,t]]).pipe(Wt(([t,r])=>{let n=null;if(r.isSome){const{offset:t,perBlock:a,startingBlock:i}=r.unwrap();n=e.registry.createType("VestingInfo",{locked:t,perBlock:a,startingBlock:i})}return[n?[n]:null,[t]]}))}const qp=e=>!!e;function Lp(e,t,r=["balances"]){var n;const a=r.map(t=>{var r,n;return(null===(r=e.derive[t])||void 0===r?void 0:r.customLocks)||(null===(n=e.query[t])||void 0===n?void 0:n.locks)}),i=a.map(e=>!e),s=a.filter(qp).map(e=>[e,t]);return(null!==(n=e.query.vesting)&&void 0!==n&&n.vesting?e.queryMulti([[e.query.vesting.vesting,t],...s]):s.length?e.queryMulti(s).pipe(Wt(t=>[e.registry.createType("Option<VestingInfo>"),...t])):Gt([e.registry.createType("Option<VestingInfo>")])).pipe(Wt(([t,...r])=>{let n=-1;const a=t.unwrapOr(null);return[a?Array.isArray(a)?a:[a]:null,i.map(t=>t?e.registry.createType("Vec<BalanceLock>"):r[++n])]}))}function Hp(e,t){const r=t.registry.getModuleInstances(t.runtimeVersion.specName.toString(),"balances");return pp(e,e=>t.derive.balances.account(e).pipe(Rt(e=>{var n,a;return e.accountId.isEmpty?Gt([e,t.registry.createType("BlockNumber"),[null,[]]]):kh([Gt(e),t.derive.chain.bestNumber(),Object(At.a)(null===(n=t.query.system)||void 0===n?void 0:n.account)||Object(At.a)(null===(a=t.query.balances)||void 0===a?void 0:a.account)?Lp(t,e.accountId,r):Fp(t,e.accountId)])}),Wt(e=>function(e,[t,r,[n,a]]){const i=Bp(e,r,t,a[0]);return Rp(Rp(Rp({},i),Np(r,i,n)),{},{accountId:t.accountId,accountNonce:t.accountNonce,additional:a.filter((e,t)=>0!==t).map((n,a)=>Bp(e,r,t.additional[a],n))})}(t,e))))}function Up(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zp(e){return e.registry.createType("Balance")}function Vp(e,[t,r,n,a]){const i=e.registry.createType("Balance",t.toBn());return{freeBalance:t,frozenFee:n,frozenMisc:a,reservedBalance:r,votingBalance:i}}function Gp(e,[t,[r,[n,...a]]]){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Up(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Up(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({accountId:t,accountNonce:r,additional:a.map(t=>Vp(e,t))},Vp(e,n))}function Wp(e,t){return e.queryMulti([[e.query.balances.freeBalance,t],[e.query.balances.reservedBalance,t],[e.query.system.accountNonce,t]]).pipe(Wt(([t,r,n])=>[n,[[t,r,zp(e),zp(e)]]]))}function Kp(e,t){const r=t=>[t,[[zp(e),zp(e),zp(e),zp(e)]]];return Object(At.a)(e.query.system.account)?e.query.system.account(t).pipe(Wt(({nonce:e})=>r(e))):Object(At.a)(e.query.system.accountNonce)?e.query.system.accountNonce(t).pipe(Wt(e=>r(e))):Gt(r(e.registry.createType("Index")))}function Yp(e,t,r=["balances"]){const n=r.map(t=>{var r,n;return(null===(r=e.derive[t])||void 0===r?void 0:r.customAccount)||(null===(n=e.query[t])||void 0===n?void 0:n.account)}).filter(e=>Object(At.a)(e)).map(e=>[e,t]),a=(e,t)=>[e,t.map(({feeFrozen:e,free:t,miscFrozen:r,reserved:n})=>[t,n,e,r])];return n.length?Object(At.a)(e.query.system.account)?e.queryMulti([[e.query.system.account,t],...n]).pipe(Wt(([{nonce:e},...t])=>a(e,t))):e.queryMulti([[e.query.system.accountNonce,t],...n]).pipe(Wt(([e,...t])=>a(e,t))):Kp(e,t)}function Xp(e,t){return e.query.system.account(t).pipe(Wt(t=>{const r=t.nonce?t.data:t[1],n=t.nonce||t[0];if(!r||r.isEmpty)return[n,[[zp(e),zp(e),zp(e),zp(e)]]];const{feeFrozen:a,free:i,miscFrozen:s,reserved:o}=r;return[n,[[i,o,a,s]]]}))}function Jp(e,t){const r=t.registry.getModuleInstances(t.runtimeVersion.specName.toString(),"balances");return pp(e,e=>t.derive.accounts.accountId(e).pipe(Rt(e=>{var n,a,i;return e?kh([Gt(e),r?Yp(t,e,r):Object(At.a)(null===(n=t.query.system)||void 0===n?void 0:n.account)?Xp(t,e):Object(At.a)(null===(a=t.query.balances)||void 0===a?void 0:a.account)?Yp(t,e):Object(At.a)(null===(i=t.query.balances)||void 0===i?void 0:i.freeBalance)?Wp(t,e):Kp(t,e)]):Gt([t.registry.createType("AccountId"),[t.registry.createType("Index"),[[zp(t),zp(t),zp(t),zp(t)]]]])}),Wt(e=>Gp(t,e))))}function Qp(e,t){return pp(e,()=>{var e,r,n,a,i;return Gt([(null===(e=t.consts.balances)||void 0===e?void 0:e.creationFee)||t.registry.createType("Balance"),(null===(r=t.consts.balances)||void 0===r?void 0:r.transferFee)||t.registry.createType("Balance"),(null===(n=t.consts.balances)||void 0===n?void 0:n.existentialDeposit)||t.registry.createType("Balance"),(null===(a=t.consts.transactionPayment)||void 0===a?void 0:a.transactionBaseFee)||t.registry.createType("Balance"),(null===(i=t.consts.transactionPayment)||void 0===i?void 0:i.transactionByteFee)||t.registry.createType("Balance")]).pipe(Wt(([e,t,r,n,a])=>({creationFee:e,existentialDeposit:r,transactionBaseFee:n,transactionByteFee:a,transferFee:t})))})}function Zp(e,t){return pp(e,e=>e&&e.length?kh(e.map(e=>t.derive.balances.account(e))):Gt([]))}const $p=Hp;function ef(e,t){const r=e.tx.bounties?e.tx.bounties:e.tx.treasury,n=[r.approveBounty,r.closeBounty,r.proposeCurator,r.unassignCurator];return t.filter(e=>n.find(t=>t.is(e.proposal)))}function tf([e,t,r,n]){const a=[];return e.forEach((e,i)=>{e.isSome&&a.push({bounty:e.unwrap(),description:t[i].unwrapOrDefault().toUtf8(),index:r[i],proposals:n.filter(e=>r[i].eq(e.proposal.args[0]))})}),a}function rf(e,t){const r=t.query.bounties||t.query.treasury;return pp(e,()=>kh([r.bountyCount(),t.query.council?t.query.council.proposalCount():Gt(0)]).pipe(Rt(()=>kh([r.bounties.keys(),t.derive.council?t.derive.council.proposals():Gt([])])),Rt(([e,n])=>{const a=e.map(({args:[e]})=>e);return kh([r.bounties.multi(a),r.bountyDescriptions.multi(a),Gt(a),Gt(ef(t,n))])}),Wt(tf)))}function nf(e,t){return pp(e,()=>t.derive.chain.subscribeNewHeads().pipe(Wt(e=>e.number.unwrap())))}function af(e,t){return pp(e,()=>t.rpc.chain.subscribeFinalizedHeads().pipe(Wt(e=>e.number.unwrap())))}function sf(e,t){return pp(e,()=>kh([t.derive.chain.bestNumber(),t.derive.chain.bestNumberFinalized()]).pipe(Wt(([e,r])=>t.registry.createType("BlockNumber",e.sub(r)))))}function of(e,t=[]){const[r]=e.logs.filter(({type:e})=>"Consensus"===e),[n]=e.logs.filter(({type:e})=>"PreRuntime"===e),[a]=e.logs.filter(({type:e})=>"Seal"===e);let i;if(n)try{const[e,r]=n.asPreRuntime;i=e.extractAuthor(r,t)}catch{}if(!i&&r)try{const[e,n]=r.asConsensus;i=e.extractAuthor(n,t)}catch{}if(!i&&a)try{const[e,r]=a.asSeal;i=e.extractAuthor(r,t)}catch{}return i}function cf(e,t,r){const n=e.createClass("Header");var a=Object(P.a)("author"),i=Object(P.a)("validators");return new class extends n{constructor(e,t,r){super(e,t),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,i,{writable:!0,value:void 0}),Object(O.a)(this,a)[a]=of(this.digest,r),Object(O.a)(this,i)[i]=r,this.createdAtHash=null==t?void 0:t.createdAtHash}get author(){return Object(O.a)(this,a)[a]}get validators(){return Object(O.a)(this,i)[i]}}(e,t,r)}function uf(e,t){return pp(e,e=>t.queryAt(e).pipe(Rt(r=>kh([t.rpc.chain.getHeader(e),r.session?r.session.validators():Gt([])])),Wt(([e,t])=>cf(e.registry,e,t)),Pt(()=>Gt())))}function lf(e,t,r,n){const a=e.createClass("SignedBlock");var i=Object(P.a)("author"),s=Object(P.a)("events"),o=Object(P.a)("extrinsics");return new class extends a{constructor(e,t,r,n){var a,c;super(e,t),Object.defineProperty(this,i,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,o,{writable:!0,value:void 0}),Object(O.a)(this,i)[i]=of(this.block.header.digest,n),Object(O.a)(this,s)[s]=r||[],Object(O.a)(this,o)[o]=(a=this.block.extrinsics,c=Object(O.a)(this,s)[s],a.map((e,t)=>{let r,n;const a=c.filter(({phase:e})=>e.isApplyExtrinsic&&e.asApplyExtrinsic.eq(t)).map(({event:e})=>("system"===e.section&&("ExtrinsicSuccess"===e.method?n=e.data[0]:"ExtrinsicFailed"===e.method&&(r=e.data[0],n=e.data[1])),e));return{dispatchError:r,dispatchInfo:n,events:a,extrinsic:e}})),this.createdAtHash=null==t?void 0:t.createdAtHash}get author(){return Object(O.a)(this,i)[i]}get events(){return Object(O.a)(this,s)[s]}get extrinsics(){return Object(O.a)(this,o)[o]}}(e,t,r,n)}function df(e,t){return pp(e,e=>t.queryAt(e).pipe(Rt(r=>kh([t.rpc.chain.getBlock(e),r.system.events(),r.session?r.session.validators():Gt([])])),Wt(([e,r,n])=>lf(t.registry,e,r,n)),Pt(()=>Gt())))}function hf(e,t){return pp(e,()=>t.derive.chain.subscribeNewHeads().pipe(Rt(e=>{const r=e.createdAtHash||e.hash;return t.queryAt(r).pipe(Rt(n=>kh([Gt(e),t.rpc.chain.getBlock(r),n.system.events()])))}),Wt(([e,t,r])=>lf(t.registry,t,r,e.validators))))}function pf(e,t){return pp(e,()=>kh([t.rpc.chain.subscribeNewHeads(),t.query.session?t.query.session.validators():Gt(void 0)]).pipe(Wt(([e,t])=>(e.createdAtHash=e.hash,cf(e.registry,e,t)))))}function ff(e,t){return pp(e,()=>function(e){return Gt([e.consts.contracts.callBaseFee||e.registry.createType("Balance"),e.consts.contracts.contractFee||e.registry.createType("Balance"),e.consts.contracts.creationFee||e.registry.createType("Balance"),e.consts.contracts.transactionBaseFee||e.registry.createType("Balance"),e.consts.contracts.transactionByteFee||e.registry.createType("Balance"),e.consts.contracts.transferFee||e.registry.createType("Balance"),e.consts.contracts.rentByteFee,e.consts.contracts.rentDepositOffset,e.consts.contracts.surchargeReward,e.consts.contracts.tombstoneDeposit])}(t).pipe(Wt(([e,t,r,n,a,i,s,o,c,u])=>({callBaseFee:e,contractFee:t,creationFee:r,rentByteFee:s,rentDepositOffset:o,surchargeReward:c,tombstoneDeposit:u,transactionBaseFee:n,transactionByteFee:a,transferFee:i}))))}function mf(e,t){const r=e.registry.getModuleInstances(e.runtimeVersion.specName.toString(),t);return r&&r.length?r[0]:t}function gf(e,t,r){const n=mf(t,r);return pp(e,()=>{var e;return Object(At.a)(null===(e=t.query[n])||void 0===e?void 0:e.members)?t.query[n].members():Gt([])})}function yf(e,t){return pp(e,gf(e,t,"council"))}function bf(e,t,r){const n=mf(t,r);return pp(e,()=>{var e;return Object(At.a)(null===(e=t.query[n])||void 0===e?void 0:e.prime)?t.query[n].prime().pipe(Wt(e=>e.unwrapOr(null))):Gt(null)})}function vf(e,t){return pp(e,bf(e,t,"council"))}function _f(e,t,r){return pp(e,e=>{var n;return(Object(At.a)(null===(n=t.query[r])||void 0===n?void 0:n.proposals)&&e.length?kh([Gt(e),kh(e.map(e=>t.query[r].proposalOf(e).pipe(Pt(()=>Gt(null))))),t.query[r].voting.multi(e)]):Gt([[],[],[]])).pipe(Wt(e=>function(e,[t,r,n]){return r.map((r,a)=>r&&r.isSome?{hash:e.registry.createType("Hash",t[a]),proposal:r.unwrap(),votes:n[a].unwrapOr(null)}:null).filter(e=>!!e)}(t,e)))})}function wf(e,t,r){const n=mf(t,r);return pp(e,()=>{var e;return Gt(Object(At.a)(null===(e=t.query[n])||void 0===e?void 0:e.proposals))})}function xf(e,t,r){const n=mf(t,r);return pp(e,()=>Object(At.a)(t.query[n].proposalCount)?t.query[n].proposalCount():Gt(null))}function kf(e,t,r){const n=mf(t,r);return pp(e,()=>{var e;return Object(At.a)(null===(e=t.query[n])||void 0===e?void 0:e.proposals)?t.query[n].proposals():Gt([])})}function Sf(e,t,r){const n=_f(e,t,mf(t,r)),a=kf(e,t,r);return pp(e,()=>a().pipe(Rt(n)))}function Of(e,t,r){const n=mf(t,r),a=_f(e,t,n);return pp(e,e=>{var r;return Object(At.a)(null===(r=t.query[n])||void 0===r?void 0:r.proposals)?a([e]).pipe(Wt(([e])=>e)):Gt(null)})}function Pf(e,t){return pp(e,wf(e,t,"council"))}function Ef(e,t){return pp(e,Of(e,t,"council"))}function Af(e,t){return pp(e,xf(e,t,"council"))}function Cf(e,t){return pp(e,kf(e,t,"council"))}function Tf(e,t){return pp(e,Sf(e,t,"council"))}function Df(e){return!Array.isArray(e)}function jf(e){return e.stakeOf.entries().pipe(Wt(e=>e.map(([{args:[e]},t])=>[e,t])))}function Mf(e){return e.votesOf.entries().pipe(Wt(e=>e.map(([{args:[e]},t])=>[e,t])))}function If(e,t){const r=t.query.phragmenElection||t.query.electionsPhragmen||t.query.elections;return pp(e,()=>r?r.stakeOf?function(e,t){return kh([jf(t),Mf(t)]).pipe(Wt(([t,r])=>{const n=[];return r.forEach(([t,r])=>{n.push([t,{stake:e.registry.createType("Balance"),votes:r}])}),t.forEach(([e,t])=>{const r=n.find(([t])=>t.eq(e));r?r[1].stake=t:n.push([e,{stake:t,votes:[]}])}),n}))}(t,r):function(e){return e.voting.entries().pipe(Wt(e=>e.map(([{args:[e]},t])=>[e,Df(t)?{stake:t.stake,votes:t.votes}:{stake:t[0],votes:t[1]}])))}(r):Gt([]))}function Rf(e,t){return pp(e,e=>t.derive.council.votes().pipe(Wt(r=>(r.find(([t])=>t.eq(e))||[null,{stake:t.registry.createType("Balance"),votes:[]}])[1])))}function Bf(e,t){return pp(e,e=>t.query.crowdloan.funds(e).pipe(Wt(e=>e.isSome?function({trieIndex:e}){return Object(Ct.a)(Object(Rr.a)(":child_storage:default:",Object(ur.a)(Object(Rr.a)("crowdloan",e.toU8a()))))}(e.unwrap()):null)))}function Nf(e){let t=0;for(const r of e)t+=r.length;const r=new Array(t);let n=-1;for(const t of e)for(let e=0;e<t.length;e++)r[++n]=t[e];return r}function Ff(e,t){var r;return t.filter(({event:{data:[,t],method:r,section:n}})=>"crowdloan"===n&&["Contributed","Withdrew"].includes(r)&&t.eq(e)).reduce((e,{event:{data:[t],method:r}})=>("Contributed"===r?e.added.push(t.toHex()):e.removed.push(t.toHex()),e),{added:[],blockHash:(null===(r=t.createdAtHash)||void 0===r?void 0:r.toHex())||"-",removed:[]})}function qf(e,t){let r=[],n=[];return e.query.system.events().pipe(Rt(e=>{const a=Ff(t,e);var i;return a.added.length||a.removed.length?(r=r.concat(...a.added),n=n.concat(...a.removed),Gt({added:r,addedDelta:a.added,blockHash:(null===(i=e.createdAtHash)||void 0===i?void 0:i.toHex())||"-",removed:n,removedDelta:a.removed})):dt}),Ep({added:r,addedDelta:[],blockHash:"-",removed:n,removedDelta:[]}))}function Lf(e,t,r){return function(e,t){return e.query.system.events().pipe(Rt(e=>{var r;return e.filter(({event:{data:[e],method:r,section:n}})=>"crowdloan"===n&&["AllRefunded","Dissolved","PartiallyRefunded"].includes(r)&&e.eq(t)).length?Gt((null===(r=e.createdAtHash)||void 0===r?void 0:r.toHex())||"-"):dt}),Ep("-"))}(e,t).pipe(Rt(()=>Object(At.a)(e.rpc.childstate.getKeysPaged)?function(e,t){const r=new Ih(void 0);return r.pipe(Rt(r=>e.rpc.childstate.getKeysPaged(t,"0x",1e3,r)),Et(e=>{setTimeout(()=>{1e3===e.length?r.next(e[999].toHex()):r.complete()},0)}),Nh(),Wt(e=>Nf(e)))}(e,r):e.rpc.childstate.getKeys(r,"0x")),Wt(e=>e.map(e=>e.toHex())))}function Hf(e,t){return pp(e,e=>t.derive.crowdloan.childKey(e).pipe(Rt(r=>r?function(e,t,r){return kh([Lf(e,t,r),qf(e,t)]).pipe(Wt(([e,{added:t,blockHash:r,removed:n}])=>{const a={};return e.forEach(e=>{a[e]=!0}),t.forEach(e=>{a[e]=!0}),n.forEach(e=>{delete a[e]}),{blockHash:r,contributorsHex:Object.keys(a)}}))}(t,e,r):Gt({blockHash:"-",contributorsHex:[]}))))}function Uf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uf(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vf(e,t,r){return kh(r.map(r=>e.rpc.childstate.getStorage(t,r))).pipe(Wt(t=>t.map(t=>e.registry.createType("Option<StorageData>",t)).map(t=>t.isSome?e.registry.createType("Balance",t.unwrap()):e.registry.createType("Balance")).reduce((e,t,n)=>zf(zf({},e),{},{[r[n]]:t}),{})))}function Gf(e,t,r,n){return e.query.system.events().pipe(Rt(a=>{const i=Ff(t,a),s=n.filter(e=>i.added.includes(e)||i.removed.includes(e));return s.length?Vf(e,r,s):dt}),Ep({}))}function Wf(e,t){return pp(e,(e,r)=>t.derive.crowdloan.childKey(e).pipe(Rt(n=>n&&r.length?function(e,t,r,n){return kh([Vf(e,r,n),Gf(e,t,r,n)]).pipe(Wt(([e,t])=>zf(zf({},e),t)))}(t,e,n,r):Gt({}))))}function Kf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kf(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Xf=(Jf="democrac",Object(Ct.a)(Object(Xa.a)(Jf)));var Jf;function Qf(e){return function(e){return e.derive.democracy.referendumsFinished().pipe(Rt(()=>e.query.scheduler.agenda.keys()),Rt(t=>{const r=t.map(({args:[e]})=>e);return r.length?kh([Gt(r),kh(r.map(t=>e.query.scheduler.agenda(t).pipe(Pt(()=>Gt(null)))))]):Gt([[],[]])}))}(e).pipe(Rt(([t,r])=>{const n=[];return t.forEach((t,a)=>{(r[a]||[]).filter(e=>e.isSome).forEach(r=>{const a=r.unwrap();if(a.maybeId.isSome){const r=a.maybeId.unwrap().toHex();if(r.startsWith(Xf)){const[,i]=e.registry.createType("(u64, ReferendumIndex)",r),s=a.call.args[0];n.push({at:t,imageHash:s,index:i})}}})}),n.length?kh([Gt(n),e.derive.democracy.preimages(n.map(({imageHash:e})=>e))]):Gt([[],[]])}),Wt(([e,t])=>e.map((e,r)=>Yf(Yf({},e),{},{image:t[r]}))))}function Zf(e,t){return pp(e,()=>{var e;return Object(At.a)(null===(e=t.query.scheduler)||void 0===e?void 0:e.agenda)?Qf(t):t.query.democracy.dispatchQueue?function(e){return e.query.democracy.dispatchQueue().pipe(Rt(t=>kh([Gt(t),e.derive.democracy.preimages(t.map(([,e])=>e))])),Wt(([e,t])=>e.map(([e,r,n],a)=>({at:e,image:t[a],imageHash:r,index:n}))))}(t):Gt([])})}const $f=[0,1,2,4,8,16,32];function em(e,[t,r],n){const{balance:a,vote:i}=r.asStandard,[s,o]=n.isFinished?function(e,t,{approved:r,end:n}){return[n,r.isTrue&&t.isAye||r.isFalse&&t.isNay?n.add(e.consts.democracy.enactmentPeriod.muln($f[t.conviction.index])):cr.i]}(e,i,n.asFinished):[cr.i,cr.i];return{balance:a,isDelegated:!1,isFinished:n.isFinished,referendumEnd:s,referendumId:t,unlockAt:o,vote:i}}function tm(e,t){return pp(e,e=>t.query.democracy.votingOf?t.query.democracy.votingOf(e).pipe(Rt(e=>e.isDirect?function(e,{votes:t}){return t.length?e.query.democracy.referendumInfoOf.multi(t.map(([e])=>e)).pipe(Wt(r=>t.map((e,t)=>[e,r[t].unwrapOr(null)]).filter(e=>!!e[1]&&Object(T.a)(e[1].end)&&e[0][1].isStandard).map(([t,r])=>em(e,t,r)))):Gt([])}(t,e.asDirect):e.isDelegating?function(e,{balance:t,conviction:r,target:n}){return e.derive.democracy.locks(n).pipe(Wt(n=>n.map(({isFinished:n,referendumEnd:a,referendumId:i,unlockAt:s,vote:o})=>({balance:t,isDelegated:!0,isFinished:n,referendumEnd:a,referendumId:i,unlockAt:s.isZero()?s:a.add(e.consts.democracy.enactmentPeriod.muln($f[r.index])),vote:e.registry.createType("Vote",{aye:o.isAye,conviction:r})}))))}(t,e.asDelegating):Gt([]))):Gt([]))}function rm(e,t){return pp(e,()=>{var e;return null!==(e=t.query.democracy)&&void 0!==e&&e.nextExternal?t.query.democracy.nextExternal().pipe(Rt(e=>function(e,t){if(t.isNone)return Gt(null);const[r,n]=t.unwrap();return e.derive.democracy.preimage(r).pipe(Wt(e=>({image:e,imageHash:r,threshold:n})))}(t,e))):Gt(null)})}const nm=new un.a(94906265);function am(e){const t=Object(Jt.a)(e);if(Object(D.a)(t.gte(cr.i),"square root of negative numbers is not supported"),t.lte(cr.d))return new un.a(Math.floor(Math.sqrt(t.toNumber())));let r=nm.clone();for(;;){const e=t.div(r).iadd(r).ishrn(1);if(r.eq(e)||r.eq(e.sub(cr.f)))return r;r=e}}function im(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?im(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):im(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function om(e,t,r,n){for(;;){const a=e.div(t),i=r.div(n);if(a.lt(i))return!0;if(i.lt(a))return!1;const s=e.mod(t),o=r.mod(n);if(o.isZero())return!1;if(s.isZero())return!0;e=n,r=t,t=o,n=s}}function cm(e,t,r){return e.isSimpleMajority?r.votedAye.gt(r.votedNay):function(e,t,{votedAye:r,votedNay:n,votedTotal:a}){const i=am(a);return!i.isZero()&&(e.isSuperMajorityApprove?om(n,i,r,t):om(n,t,r,i))}(e,t,r)}function um(e,t,r){const n=t.status.tally?function(e,t){const r=[],n=[];return t.forEach(e=>{e.vote.isAye?r.push(e):n.push(e)}),{allAye:r,allNay:n,voteCount:r.length+n.length,voteCountAye:r.length,voteCountNay:n.length,votedAye:e.ayes,votedNay:e.nays,votedTotal:e.turnout}}(t.status.tally,r):r.reduce((e,t)=>{const{balance:r,vote:n}=t,a=0===n.conviction.index,i=r.muln(a?1:n.conviction.index).divn(a?10:1);return n.isAye?(e.allAye.push(t),e.voteCountAye++,e.votedAye.iadd(i)):(e.allNay.push(t),e.voteCountNay++,e.votedNay.iadd(i)),e.voteCount++,e.votedTotal.iadd(i),e},{allAye:[],allNay:[],voteCount:0,voteCountAye:0,voteCountNay:0,votedAye:new un.a(0),votedNay:new un.a(0),votedTotal:new un.a(0)});return sm(sm({},n),{},{isPassing:cm(t.status.threshold,e,n),votes:r})}function lm(e,[t,r,n,a]){let i;try{i=e.registry.createType("Proposal",t.toU8a(!0))}catch(e){console.error(e)}return{at:a,balance:n,proposal:i,proposer:r}}function dm(e,t){if(!t.isNone){if(function(e,t){return!!t&&!e.query.democracy.dispatchQueue}(e,t)){const r=t.unwrap();if(r.isMissing)return;const{data:n,deposit:a,provider:i,since:s}=r.asAvailable;return lm(e,[n,i,a,s])}return lm(e,t.unwrap())}}function hm(e,t){return pp(e,e=>t.query.democracy.preimages(e).pipe(Wt(e=>dm(t,e))))}function pm(e,t){return pp(e,e=>e.length?t.query.democracy.preimages.multi(e).pipe(Wt(e=>e.map(e=>dm(t,e)))):Gt([]))}function fm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fm(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gm([e,t,r]){return e.filter(([,,e],t)=>{var n;return!(null===(n=r[t])||void 0===n||!n.isSome||e.isEmpty)}).map(([e,n,a],i)=>{const s=r[i].unwrap();return mm(mm({},function(e){return Object(At.a)(e[1].mul)}(s)?{balance:s[1],seconds:s[0]}:{balance:s[0],seconds:s[1]}),{},{image:t[i],imageHash:n,index:e,proposer:a})})}function ym(e,t){return pp(e,()=>{var e,r;return Object(At.a)(null===(e=t.query.democracy)||void 0===e?void 0:e.publicProps)&&Object(At.a)(null===(r=t.query.democracy)||void 0===r?void 0:r.preimages)?t.query.democracy.publicProps().pipe(Rt(e=>e.length?kh([Gt(e),t.derive.democracy.preimages(e.map(([,e])=>e)),t.query.democracy.depositOf.multi(e.map(([e])=>e))]):Gt([[],[],[]])),Wt(gm)):Gt([])})}function bm(e,t){return pp(e,()=>{var e;return null!==(e=t.query.democracy)&&void 0!==e&&e.lowestUnbaked?t.queryMulti([t.query.democracy.lowestUnbaked,t.query.democracy.referendumCount]).pipe(Wt(([e,t])=>t.gt(e)?[...Array(t.sub(e).toNumber())].map((t,r)=>e.addn(r)):[])):Gt([])})}function vm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vm(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wm(e,t){return pp(e,()=>t.derive.democracy.referendumsActive().pipe(Rt(e=>e.length?kh([Gt(e),t.derive.democracy._referendumsVotes(e)]):Gt([[],[]])),Wt(([e,t])=>e.map((e,r)=>_m(_m({},e),t[r])))))}function xm(e,t){return pp(e,()=>t.derive.democracy.referendumIds().pipe(Rt(e=>e.length?t.derive.democracy.referendumsInfo(e):Gt([]))))}function km(e,t){return pp(e,()=>t.derive.democracy.referendumIds().pipe(Rt(e=>t.query.democracy.referendumInfoOf.multi(e)),Wt(e=>e.map(e=>e.unwrapOr(null)).filter(e=>!!e&&e.isFinished).map(e=>e.asFinished))))}function Sm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Om(e,t){return e.query.democracy.votersFor(t).pipe(Rt(r=>kh([Gt(r),r.length?e.query.democracy.voteOf.multi(r.map(e=>[t,e])):Gt([]),e.derive.balances.votingBalances(r)])),Wt(([t,r,n])=>t.map((t,a)=>({accountId:t,balance:n[a].votingBalance||e.registry.createType("Balance"),isDelegating:!1,vote:r[a]||e.registry.createType("Vote")}))))}function Pm(e,t){return e.filter(([,e])=>e.isDirect).map(([e,r])=>[e,r.asDirect.votes.filter(([e])=>e.eq(t))]).filter(([,e])=>!!e.length).reduce((e,[t,r])=>r.reduce((e,[,r])=>(r.isStandard&&e.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sm(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({accountId:t,isDelegating:!1},r.asStandard)),e),e),[])}function Em(e,t){return e.query.democracy.votingOf.entries().pipe(Wt(r=>{const n=r.map(([{args:[e]},t])=>[e,t]),a=Pm(n,t),i=n.filter(([,e])=>e.isDelegating).map(([e,t])=>[e,t.asDelegating]);return i.forEach(([t,{balance:r,conviction:n,target:s}])=>{const o=i.find(([e])=>e.eq(s)),c=a.find(({accountId:e})=>e.eq(o?o[0]:s));c&&a.push({accountId:t,balance:r,isDelegating:!0,vote:e.registry.createType("Vote",{aye:c.vote.isAye,conviction:n})})}),a}))}function Am(e,t){return pp(e,e=>kh([t.derive.democracy.sqrtElectorate(),Object(At.a)(t.query.democracy.votingOf)?Em(t,e.index):Om(t,e.index)]).pipe(Wt(([t,r])=>um(t,e,r))))}function Cm(e,t){return pp(e,e=>e.length?kh(e.map(e=>t.derive.democracy._referendumVotes(e))):Gt([]))}function Tm(e,t){return pp(e,(e,r)=>{const n=function(e){if(e.isNone)return null;const t=e.unwrap();return function(e){return!!e.proposalHash}(t)?t:t.isOngoing?t.asOngoing:null}(r);return n?t.query.democracy.preimages(n.proposalHash).pipe(Wt(r=>({image:dm(t,r),imageHash:n.proposalHash,index:t.registry.createType("ReferendumIndex",e),status:n}))):Gt(null)})}function Dm(e,t){return pp(e,e=>e.length?t.query.democracy.referendumInfoOf.multi(e).pipe(Rt(r=>kh(e.map((e,n)=>t.derive.democracy._referendumInfo(e,r[n])))),Wt(e=>e.filter(e=>!!e))):Gt([]))}function jm(e,t){return pp(e,()=>t.query.balances.totalIssuance().pipe(Wt(e=>am(e))))}function Mm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Im(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mm(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rm(e){return function(e){return!Array.isArray(e)}(e)?[e.who,e.stake]:e}function Bm(e){return function(e){return Array.isArray(e)}(e)?e[0]:e}function Nm([,e],[,t]){return t.cmp(e)}function Fm(e,t){return pp(e,()=>function(e){const t=e.query.phragmenElection?"phragmenElection":e.query.electionsPhragmen?"electionsPhragmen":e.query.elections?"elections":null,[r]=e.registry.getModuleInstances(e.runtimeVersion.specName.toString(),"council")||["council"];return(t?e.queryMulti([e.query[r].members,e.query[t].candidates,e.query[t].members,e.query[t].runnersUp]):kh([e.query[r].members(),Gt([]),Gt([]),Gt([])])).pipe(Wt(([r,n,a,i])=>Im(Im({},t?{candidacyBond:e.consts[t].candidacyBond,desiredRunnersUp:e.consts[t].desiredRunnersUp,desiredSeats:e.consts[t].desiredMembers,termDuration:e.consts[t].termDuration,votingBond:e.consts[t].votingBond}:{}),{},{candidateCount:e.registry.createType("u32",n.length),candidates:n.map(Bm),members:a.length?a.map(Rm).sort(Nm):r.map(t=>[t,e.registry.createType("Balance")]),runnersUp:i.map(Rm).sort(Nm)})))}(t))}function qm([e,t,r,n]){return t.forEach((t,a)=>{const i=t.toString(),s=n[a],o=!r[a].isEmpty,c=e[i];c&&c.hasMessage===o&&c.blockCount.eq(s)||(e[i]={blockCount:s,hasMessage:o,isOnline:o||s.gt(cr.i)})}),e}function Lm(e,t){return pp(e,()=>{var e;return null!==(e=t.query.imOnline)&&void 0!==e&&e.receivedHeartbeats?t.derive.staking.overview().pipe(Rt(({currentIndex:e,validators:r})=>kh([Gt({}),Gt(r),t.query.imOnline.receivedHeartbeats.multi(r.map((t,r)=>[e,r])),t.query.imOnline.authoredBlocks.multi(r.map(t=>[e,t]))])),Wt(qm)):Gt({})})}function Hm(e,t){return pp(e,gf(e,t,"membership"))}function Um(e,t){return pp(e,bf(e,t,"membership"))}function zm(e,t){return pp(e,wf(e,t,"membership"))}function Vm(e,t){return pp(e,Of(e,t,"membership"))}function Gm(e,t){return pp(e,xf(e,t,"membership"))}function Wm(e,t){return pp(e,kf(e,t,"membership"))}function Km(e,t){return pp(e,Sf(e,t,"membership"))}function Ym(e,t){return!!e.isSome&&e.unwrap().some(e=>e.eq(t))}function Xm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xm(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qm(e,t){const r=t.find(([t])=>t===e);if(r&&r[1].isSome){const[e,t]=r[1].unwrap();return Jm({collatorId:e},t.isWithRetries?{isRetriable:!0,retries:t.asWithRetries.toNumber()}:{isRetriable:!1,retries:0})}return null}function Zm(e,t){return t.map(t=>{const r=t.find(([t])=>t===e);return r?r[1]:null})}function $m(e,t){return pp(e,e=>t.query.registrar&&t.query.parachains?t.queryMulti([t.query.registrar.active,t.query.registrar.retryQueue,t.query.registrar.selectedThreads,t.query.parachains.didUpdate,[t.query.registrar.paras,e],[t.query.registrar.pendingSwap,e],[t.query.parachains.heads,e],[t.query.parachains.relayDispatchQueue,e]]).pipe(Wt(r=>function(e,[t,r,n,a,i,s,o,c]){return i.isNone?null:{active:Qm(e,t),didUpdate:Ym(a,e),heads:o,id:e,info:Jm({id:e},i.unwrap()),pendingSwapId:s.unwrapOr(null),relayDispatchQueue:c,retryCollators:Zm(e,r),selectedCollators:Zm(e,n)}}(t.registry.createType("ParaId",e),r))):Gt(null))}function eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rg([e,t,r,n,a]){return e.map((e,i)=>({didUpdate:Ym(t,e),id:e,info:tg({id:e},r[i].unwrapOr(null)),pendingSwapId:n[i].unwrapOr(null),relayDispatchQueueSize:a[i][0].toNumber()}))}function ng(e,t){return pp(e,()=>{var e;return null!==(e=t.query.registrar)&&void 0!==e&&e.parachains&&t.query.parachains?t.query.registrar.parachains().pipe(Rt(e=>kh([Gt(e),t.query.parachains.didUpdate(),t.query.registrar.paras.multi(e),t.query.registrar.pendingSwap.multi(e),t.query.parachains.relayDispatchQueueSize.multi(e)])),Wt(rg)):Gt([])})}function ag(e,t){return pp(e,()=>t.derive.session.info().pipe(Wt(e=>e.eraLength)))}function ig(e,t){return pp(e,()=>t.derive.session.progress().pipe(Wt(e=>e.eraProgress)))}function sg([e,t,r,n,a]){return{activeEra:t,activeEraStart:r,currentEra:n,currentIndex:e,validatorCount:a}}function og(e,t){return pp(e,()=>t.query.session?t.query.staking?function(e){return e.queryMulti([e.query.session.currentIndex,e.query.staking.activeEra,e.query.staking.currentEra,e.query.staking.validatorCount]).pipe(Wt(([e,t,r,n])=>{const{index:a,start:i}=t.unwrapOrDefault();return sg([e,a,i,r.unwrapOrDefault(),n])}))}(t):function(e){return e.query.session.currentIndex().pipe(Wt(t=>sg([t,e.registry.createType("EraIndex"),e.registry.createType("Option<Moment>"),e.registry.createType("EraIndex"),e.registry.createType("u32")])))}(t):function(e){return Gt(sg([e.registry.createType("SessionIndex",1),e.registry.createType("EraIndex"),e.registry.createType("Option<Moment>"),e.registry.createType("EraIndex"),e.registry.createType("u32")]))}(t))}function cg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ug(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cg(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lg(e,t){return pp(e,()=>t.derive.session.indexes().pipe(Wt(e=>{var r,n,a,i;const s=(null===(r=t.consts)||void 0===r||null===(n=r.babe)||void 0===n?void 0:n.epochDuration)||t.registry.createType("u64",1),o=(null===(a=t.consts)||void 0===a||null===(i=a.staking)||void 0===i?void 0:i.sessionsPerEra)||t.registry.createType("SessionIndex",1);return ug(ug({},e),{},{eraLength:t.registry.createType("BlockNumber",o.mul(s)),isEpoch:!!t.query.babe,sessionLength:s,sessionsPerEra:o})})))}function dg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dg(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pg(e,t){return pp(e,()=>t.query.babe?function(e){return e.derive.session.info().pipe(Rt(t=>{var r;return kh([Gt(t),null!==(r=e.query.staking)&&void 0!==r&&r.erasStartSessionIndex?e.queryMulti([e.query.babe.currentSlot,e.query.babe.epochIndex,e.query.babe.genesisSlot,[e.query.staking.erasStartSessionIndex,t.activeEra]]):e.queryMulti([e.query.babe.currentSlot,e.query.babe.epochIndex,e.query.babe.genesisSlot])])}),Wt(([t,[r,n,a,i]])=>[t,[r,n,a,i&&i.isSome?i.unwrap():e.registry.createType("SessionIndex",1)]]))}(t).pipe(Wt(([e,r])=>function(e,t,[r,n,a,i]){const s=n.mul(t.sessionLength).iadd(a),o=r.sub(s),c=t.currentIndex.sub(i).imul(t.sessionLength).iadd(o);return hg(hg({},t),{},{eraProgress:e.registry.createType("BlockNumber",c),sessionProgress:e.registry.createType("BlockNumber",o)})}(t,e,r))):function(e){return e.derive.session.info().pipe(Wt(t=>hg(hg({},t),{},{eraProgress:e.registry.createType("BlockNumber"),sessionProgress:e.registry.createType("BlockNumber")})))}(t))}function fg(e,t){return pp(e,()=>t.derive.session.progress().pipe(Wt(e=>e.sessionProgress)))}function mg(e,t){return pp(e,()=>t.query.society.candidates().pipe(Rt(e=>kh([Gt(e),t.query.society.suspendedCandidates.multi(e.map(({who:e})=>e))])),Wt(([e,t])=>e.map(({kind:e,value:r,who:n},a)=>({accountId:n,isSuspended:t[a].isSome,kind:e,value:r})))))}function gg(e,t){return pp(e,()=>t.queryMulti([t.query.society.bids,t.query.society.defender,t.query.society.founder,t.query.society.head,t.query.society.maxMembers,t.query.society.pot]).pipe(Wt(([e,t,r,n,a,i])=>({bids:e,defender:t.unwrapOr(void 0),founder:r.unwrapOr(void 0),hasDefender:t.isSome&&n.isSome&&!n.eq(t)||!1,head:n.unwrapOr(void 0),maxMembers:a,pot:i}))))}function yg(e,t){return pp(e,e=>t.derive.society._members([e]).pipe(Wt(([e])=>e)))}function bg(e,t){return pp(e,e=>kh([Gt(e),t.query.society.payouts.multi(e),t.query.society.strikes.multi(e),t.query.society.defenderVotes.multi(e),t.query.society.suspendedMembers.multi(e),t.query.society.vouching.multi(e)]).pipe(Wt(([e,t,r,n,a,i])=>e.map((e,s)=>({accountId:e,isDefenderVoter:n[s].isSome,isSuspended:a[s].isTrue,payouts:t[s],strikes:r[s],vote:n[s].unwrapOr(void 0),vouching:i[s].unwrapOr(void 0)})))))}function vg(e,t){return pp(e,()=>t.query.society.members().pipe(Rt(e=>t.derive.society._members(e))))}function _g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_g(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const xg={withDestination:!0,withLedger:!0,withNominations:!0,withPrefs:!0};function kg(e,t,r){const n=Object.entries((a=((null==t?void 0:t.unlocking)||[]).filter(({era:e})=>e.unwrap().gt(r.activeEra)),a.reduce((e,{era:t,value:r})=>{const n=t.toString();return e[n]=(e[n]||cr.i).add(r.unwrap()),e},{}))).map(([t,n])=>({remainingEras:new un.a(t).isub(r.activeEra),value:e.registry.createType("Balance",n)}));var a;return n.length?n:void 0}function Sg(e,t,r){return e.registry.createType("Balance",((null==t?void 0:t.unlocking)||[]).reduce((e,{era:t,value:n})=>r.activeEra.gte(t.unwrap())?e.iadd(n.unwrap()):e,new un.a(0)))}function Og(e,t){return pp(e,e=>t.derive.session.info().pipe(Rt(r=>kh([t.derive.staking.keysMulti(e),t.derive.staking.queryMulti(e,xg)]).pipe(Wt(([e,n])=>n.map((n,a)=>function(e,t,r,n){return wg(wg(wg({},r),n),{},{redeemable:Sg(e,n.stakingLedger,t),unlocking:kg(e,n.stakingLedger,t)})}(t,r,e[a],n)))))))}function Pg(e,t){return pp(e,e=>t.derive.staking.accounts([e]).pipe(Wt(([e])=>e)))}function Eg(e,t){return pp(e,()=>t.derive.session.indexes().pipe(Rt(({activeEra:e})=>t.query.staking.erasRewardPoints(e))))}new Map;const Ag={del:()=>{},forEach:()=>{},get:()=>{},set:(e,t)=>t};let Cg;!function(e="",t){Cg=t?function(e,t){return{del:r=>t.del(`${e}${r}`),forEach:t.forEach,get:r=>{const n=`${e}${r}`,a=t.get(n);if(a)return a.x=Date.now(),t.set(n,a),a.v},set:(r,n)=>{t.set(`${e}${r}`,{v:n,x:Date.now()})}}}(`derive:${e}:`,t):Ag,t&&function(e){const t=Date.now(),r=[];e.forEach((e,{x:n})=>{t-n>6048e5&&r.push(e)}),r.forEach(t=>e.del(t))}(t)}();function Tg(e,t){return pp(e,(e,r)=>{const n="eraExposure-"+e.toString(),a=r?void 0:Cg.get(n);return a?Gt(a):t.query.staking.erasStakersClipped.entries(e).pipe(Wt(t=>{const a=function(e,t){const r={},n={};return t.forEach(([e,t])=>{const a=e.args[1].toString();n[a]=t,t.others.forEach(({who:e},t)=>{const n=e.toString();r[n]=r[n]||[],r[n].push({validatorId:a,validatorIndex:t})})}),{era:e,nominators:r,validators:n}}(e,t);return!r&&Cg.set(n,a),a}))})}function Dg(e,t){return pp(e,e=>t.derive.staking._eraExposure(e,!0))}function jg(e,t){return pp(e,(e,r)=>e.length?kh(e.map(e=>t.derive.staking._eraExposure(e,r))):Gt([]))}function Mg(e,t){return pp(e,(e=!1)=>t.derive.staking.erasHistoric(e).pipe(Rt(r=>t.derive.staking._erasExposure(r,e))))}function Ig(e,t){return pp(e,e=>t.queryMulti([t.query.staking.activeEra,t.query.staking.historyDepth]).pipe(Wt(([r,n])=>{const a=[],i=n.toNumber(),s=r.unwrapOrDefault().index;let o=s;for(;o.gte(cr.i)&&a.length<i;)o===s&&!0!==e||a.push(t.registry.createType("EraIndex",o)),o=o.sub(cr.f);return a.reverse()})))}function Rg(e,t){return e.filter(e=>!t.some(t=>e.eq(t.era)))}function Bg({individual:e}){return[...e.entries()].filter(([,e])=>e.gt(cr.i)).reduce((e,[t,r])=>(e[t.toString()]=r,e),{})}function Ng(e,t){return pp(e,(e,r)=>{if(!e.length)return Gt([]);const n=r?[]:e.map(e=>Cg.get("eraPoints-"+e.toString())).filter(e=>!!e),a=Rg(e,n);return a.length?t.query.staking.erasRewardPoints.multi(a).pipe(Wt(t=>{const i=function(e,t){return e.map((e,r)=>({era:e,eraPoints:t[r].total,validators:Bg(t[r])}))}(a,t);return!r&&i.forEach(e=>Cg.set("eraPoints-"+e.era.toString(),e)),e.map(e=>n.find(t=>e.eq(t.era))||i.find(t=>e.eq(t.era)))})):Gt(n)})}function Fg(e,t){return pp(e,(e=!1)=>t.derive.staking.erasHistoric(e).pipe(Rt(r=>t.derive.staking._erasPoints(r,e))))}function qg(e,t){return pp(e,(e,r)=>{const n="eraPrefs-"+e.toString(),a=r?void 0:Cg.get(n);return a?Gt(a):t.query.staking.erasValidatorPrefs.entries(e).pipe(Wt(t=>{const a=function(e,t){const r={};return t.forEach(([e,t])=>{r[e.args[1].toString()]=t}),{era:e,validators:r}}(e,t);return!r&&Cg.set(n,a),a}))})}function Lg(e,t){return pp(e,e=>t.derive.staking._eraPrefs(e,!0))}function Hg(e,t){return pp(e,(e,r)=>e.length?kh(e.map(e=>t.derive.staking._eraPrefs(e,r))):Gt([]))}function Ug(e,t){return pp(e,(e=!1)=>t.derive.staking.erasHistoric(e).pipe(Rt(r=>t.derive.staking._erasPrefs(r,e))))}function zg(e,t){return pp(e,(e,r)=>{if(!e.length)return Gt([]);const n=r?[]:e.map(e=>Cg.get("eraRewards-"+e.toString())).filter(e=>!!e),a=Rg(e,n);return a.length?t.query.staking.erasValidatorReward.multi(a).pipe(Wt(t=>{const i=function(e,t){return e.map((e,r)=>({era:e,eraReward:t[r].unwrapOrDefault()}))}(a,t);return!r&&i.forEach(e=>Cg.set("eraRewards-"+e.era.toString(),e)),e.map(e=>n.find(t=>e.eq(t.era))||i.find(t=>e.eq(t.era)))})):Gt(n)})}function Vg(e,t){return pp(e,(e=!1)=>t.derive.staking.erasHistoric(e).pipe(Rt(r=>t.derive.staking._erasRewards(r,e))))}function Gg(e,t){return pp(e,(e,r)=>{const n="eraSlashes-"+e.toString(),a=r?void 0:Cg.get(n);return a?Gt(a):kh([t.query.staking.nominatorSlashInEra.entries(e),t.query.staking.validatorSlashInEra.entries(e)]).pipe(Wt(([t,a])=>{const i=function(e,t,r){const n={},a={};return t.forEach(([e,t])=>{n[e.args[1].toString()]=t.unwrap()}),r.forEach(([e,t])=>{a[e.args[1].toString()]=t.unwrapOrDefault()[1]}),{era:e,nominators:n,validators:a}}(e,t,a);return!r&&Cg.set(n,i),i}))})}function Wg(e,t){return pp(e,e=>t.derive.staking._eraSlashes(e,!0))}function Kg(e,t){return pp(e,(e,r)=>e.length?kh(e.map(e=>t.derive.staking._eraSlashes(e,r))):Gt([]))}function Yg(e,t){return pp(e,(e=!1)=>t.derive.staking.erasHistoric(e).pipe(Rt(r=>t.derive.staking._erasSlashes(r,e))))}const Xg={withController:!0,withExposure:!0,withPrefs:!0};function Jg(e,t){return pp(e,(e=Xg)=>t.derive.staking.validators().pipe(Rt(({nextElected:r,validators:n})=>t.derive.staking.queryMulti(function(e,t){return Nf([e,t.filter(t=>!e.find(e=>e.eq(t)))])}(r,n),e).pipe(Wt(e=>({info:e,nextElected:r,validators:n}))))))}function Qg(e,t){return pp(e,e=>t.derive.staking.keysMulti([e]).pipe(Wt(([e])=>e)))}function Zg(e,t){return pp(e,e=>e.length?t.query.session.queuedKeys().pipe(Rt(r=>{var n;return kh([Gt(r),null!==(n=t.consts.session)&&void 0!==n&&n.dedupKeyPrefix?t.query.session.nextKeys.multi(e.map(e=>[t.consts.session.dedupKeyPrefix,e])):t.query.session.nextKeys.multi(e)])}),Wt(([t,r])=>e.map((e,n)=>function(e,t,r){const n=(t.find(([t])=>t.eq(e))||[void 0,[]])[1],a=r.unwrapOr([]);return{nextSessionIds:Array.isArray(a)?a:[...a.values()],sessionIds:Array.isArray(n)?n:[...n.values()]}}(e,t,r[n])))):Gt([]))}function $g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$g(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ty(e,t){return pp(e,()=>kh([t.derive.session.indexes(),t.derive.staking.validators()]).pipe(Wt(([e,{nextElected:t,validators:r}])=>ey(ey({},e),{},{nextElected:t,validators:r}))))}function ry(e,t){return pp(e,(e,r,n)=>r.length?t.queryMulti([...r.map(r=>[t.query.staking.erasStakersClipped,[r,e]]),...r.map(r=>[t.query.staking.erasStakers,[r,e]])]).pipe(Wt(e=>r.map((t,n)=>({clipped:e[n],era:t,exposure:e[r.length+n]})))):Gt([]))}function ny(e,t){return pp(e,(e,r)=>t.derive.staking._ownExposures(e,[r],!0).pipe(Wt(([e])=>e)))}function ay(e,t){return pp(e,(e,r=!1)=>t.derive.staking.erasHistoric(r).pipe(Rt(n=>t.derive.staking._ownExposures(e,n,r))))}function iy(e,t){return pp(e,(e,r,n)=>r.length?t.queryMulti([...r.map(r=>[t.query.staking.validatorSlashInEra,[r,e]]),...r.map(r=>[t.query.staking.nominatorSlashInEra,[r,e]])]).pipe(Wt(e=>r.map((t,n)=>({era:t,total:e[n].isSome?e[n].unwrap()[1]:e[n+r.length].unwrapOrDefault()})))):Gt([]))}function sy(e,t){return pp(e,(e,r)=>t.derive.staking._ownSlashes(e,[r],!0).pipe(Wt(([e])=>e)))}function oy(e,t){return pp(e,(e,r=!1)=>t.derive.staking.erasHistoric(r).pipe(Rt(n=>t.derive.staking._ownSlashes(e,n,r))))}function cy(e,t,r,n){return function(e,t,r,{withController:n,withDestination:a,withExposure:i,withLedger:s,withNominations:o,withPrefs:c}){const u=e.registry.createType("Option<Nominations>"),l=e.registry.createType("RewardDestination"),d=e.registry.createType("Exposure"),h=e.registry.createType("ValidatorPrefs");return kh([n||s?e.query.staking.bonded.multi(t):Gt(t.map(()=>null)),o?e.query.staking.nominators.multi(t):Gt(t.map(()=>u)),a?e.query.staking.payee.multi(t):Gt(t.map(()=>l)),c?e.query.staking.validators.multi(t):Gt(t.map(()=>h)),i?e.query.staking.erasStakers.multi(t.map(e=>[r,e])):Gt(t.map(()=>d))])}(e,r,t,n).pipe(Rt(([t,a,i,s,o])=>function(e,t,{withLedger:r=!1}){const n=t.filter(e=>r&&!!e&&e.isSome).map(e=>e.unwrap()),a=e.registry.createType("Option<StakingLedger>");return(n.length?e.query.staking.ledger.multi(n):Gt([])).pipe(Wt(e=>{let r=-1;return t.map(t=>t&&t.isSome&&e[++r]||a)}))}(e,t,n).pipe(Wt(e=>r.map((r,n)=>function(e,t,r,n,a,i,s){return{accountId:e,controllerId:t&&t.unwrapOr(null),exposure:i,nominators:r.isSome?r.unwrap().targets:[],rewardDestination:n,stakingLedger:s.unwrapOrDefault(),stashId:e,validatorPrefs:a}}(r,t[n],a[n],i[n],s[n],o[n],e[n]))))))}function uy(e,t){return pp(e,(e,r)=>t.derive.staking.queryMulti([e],r).pipe(Wt(([e])=>e)))}function ly(e,t){return pp(e,(e,r)=>e.length?t.derive.session.indexes().pipe(Rt(({activeEra:n})=>{const a=e.map(e=>t.registry.createType("AccountId",e));return cy(t,n,a,r)})):Gt([]))}function dy(e,t){return pp(e,(e,r,n)=>{const a=e.map(e=>t.registry.createType("AccountId",e).toString());return t.derive.staking._erasExposure(r,n).pipe(Wt(e=>a.map(t=>e.map(({era:e,nominators:r,validators:n})=>{const a=!!n[t],i={},s=r[t]||[];return a?i[t]=n[t]:s&&s.forEach(({validatorId:e})=>{i[e]=n[e]}),{era:e,isEmpty:!Object.keys(i).length,isValidator:a,nominating:s,validators:i}}))))})}function hy(e,t){return pp(e,(e,r=!1)=>t.derive.staking.erasHistoric(r).pipe(Rt(n=>t.derive.staking._stakerExposures(e,n,r))))}function py(e,t){return pp(e,(e,r=!1)=>t.derive.staking.stakerExposures([e],r).pipe(Wt(([e])=>e)))}function fy(e,t){return pp(e,(e,r,n)=>{const a=t.registry.createType("AccountId",e).toString();return t.derive.staking._erasPoints(r,n).pipe(Wt(e=>e.map(({era:e,eraPoints:r,validators:n})=>({era:e,eraPoints:r,points:n[a]||t.registry.createType("RewardPoint")}))))})}function my(e,t){return pp(e,(e,r=!1)=>t.derive.staking.erasHistoric(r).pipe(Rt(n=>t.derive.staking._stakerPoints(e,n,r))))}function gy(e,t){return pp(e,(e,r,n)=>t.query.staking.erasValidatorPrefs.multi(r.map(t=>[t,e])).pipe(Wt(e=>e.map((e,t)=>({era:r[t],validatorPrefs:e})))))}function yy(e,t){return pp(e,(e,r=!1)=>t.derive.staking.erasHistoric(r).pipe(Rt(n=>t.derive.staking._stakerPrefs(e,n,r))))}function by(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?by(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):by(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _y(e,t,{rewards:r,stakingLedger:n}){const a=e.filter(e=>!n.claimedRewards.some(t=>t.eq(e))),i=t.map(([e])=>e),s=t.map(([,e])=>e);return r.filter(({isEmpty:e})=>!e).filter(e=>!!a.some(t=>e.era.eq(t))&&(function(e,t,r){const n=[];Object.keys(r.validators).forEach(a=>{const i=e.indexOf(a);if(-1!==i){const e=t[i].stakingLedger;null!=e&&e.claimedRewards.some(e=>r.era.eq(e))&&n.push(a)}}),n.forEach(e=>{delete r.validators[e]})}(i,s,e),!0)).filter(({validators:e})=>0!==Object.keys(e).length).map(e=>vy(vy({},e),{},{nominators:e.nominating.filter(t=>e.validators[t.validatorId])}))}function wy(e,t){return pp(e,(e,r)=>kh([t.derive.staking._erasPoints(e,r),t.derive.staking._erasPrefs(e,r),t.derive.staking._erasRewards(e,r)]))}function xy(e,t){return pp(e,(e,r,n)=>kh([t.derive.staking.queryMulti(e,{withLedger:!0}),t.derive.staking._stakerExposures(e,r,n),t.derive.staking._stakerRewardsEras(r,n)]).pipe(Rt(([e,a,i])=>{const s=e.map(({stakingLedger:e,stashId:r},n)=>r&&e?function(e,t,[r,n,a],i){return i.map(({era:i,isEmpty:s,isValidator:o,nominating:c,validators:u})=>{const{eraPoints:l,validators:d}=r.find(e=>e.era.eq(i))||{eraPoints:cr.i,validators:{}},{eraReward:h}=a.find(e=>e.era.eq(i))||{eraReward:e.registry.createType("Balance")},{validators:p}=n.find(e=>e.era.eq(i))||{validators:{}},f={},m=t.toString();return Object.entries(u).forEach(([t,r])=>{var n,a;const i=d[t]||cr.i,s=(null===(n=p[t])||void 0===n?void 0:n.commission.unwrap())||cr.i,o=(null===(a=r.total)||void 0===a?void 0:a.unwrap())||cr.i;let c,u=cr.i;if(!(o.isZero()||i.isZero()||l.isZero())){u=h.mul(i).div(l);const e=s.mul(u).div(cr.a);let n;if(t===m)n=r.own.unwrap();else{const e=r.others.find(({who:e})=>e.eq(m));n=e?e.value.unwrap():cr.i}c=u.sub(e).imul(n).div(o).iadd(t===m?e:cr.i)}f[t]={total:e.registry.createType("Balance",u),value:e.registry.createType("Balance",c)}}),{era:i,eraReward:h,isEmpty:s,isValidator:o,nominating:c,validators:f}})}(t,r,i,a[n]):[]);if(n)return Gt(s);const[o,c]=s.reduce(([e,t],r)=>{const n=[];return t.push(n),r.forEach(({validators:t})=>Object.keys(t).forEach(t=>{n.includes(t)||(n.push(t),e.includes(t)||e.push(t))})),[e,t]},[[],[]]);return t.derive.staking.queryMulti(o,{withLedger:!0}).pipe(Wt(t=>e.map(({stakingLedger:e},n)=>_y(r,c[n].map(e=>[e,t.find(t=>t.accountId.eq(e))]),{rewards:s[n],stakingLedger:e}))))})))}function ky(e,t){return pp(e,(e,r=!1)=>t.derive.staking.erasHistoric(r).pipe(Rt(n=>t.derive.staking._stakerRewards([e],n,r)),Wt(([e])=>e)))}function Sy(e,t){return pp(e,(e,r)=>e.length&&r.length?t.derive.staking._stakerRewards(e,r,!1):Gt([]))}function Oy(e,t){return pp(e,(e,r=!1)=>t.derive.staking.erasHistoric(r).pipe(Rt(r=>t.derive.staking.stakerRewardsMultiEras(e,r))))}function Py(e,t){return pp(e,(e,r,n)=>{const a=t.registry.createType("AccountId",e).toString();return t.derive.staking._erasSlashes(r,n).pipe(Wt(e=>e.map(({era:e,nominators:r,validators:n})=>({era:e,total:r[a]||n[a]||t.registry.createType("Balance")}))))})}function Ey(e,t){return pp(e,(e,r=!1)=>t.derive.staking.erasHistoric(r).pipe(Rt(n=>t.derive.staking._stakerSlashes(e,n,r))))}function Ay(e,t){return pp(e,()=>function(e){let t=Date.now();return e.query.system.events().pipe(Wt(e=>(t=e.filter(({event:e,phase:t})=>{try{return t.isApplyExtrinsic&&"staking"===e.section&&"Bonded"===e.method}catch{return!1}})?Date.now():t,t)),Ep(t),hp({skipTimeout:!0}))}(t).pipe(Rt(()=>t.query.staking.validators.keys()),Wt(e=>e.map(({args:[e]})=>e).filter(e=>e))))}function Cy(e,t){return pp(e,()=>t.query.staking.erasStakers?t.derive.session.indexes().pipe(Rt(({currentEra:e})=>t.query.staking.erasStakers.keys(e)),Wt(e=>e.map(({args:[,e]})=>e))):t.query.staking.currentElected())}function Ty(e,t){return pp(e,()=>kh([t.query.session?t.query.session.validators():Gt([]),t.query.staking?t.derive.staking.nextElected():Gt([])]).pipe(Wt(([e,t])=>({nextElected:t.length?t:e,validators:e}))))}const Dy={withController:!0,withPrefs:!0};function jy(e,t){return pp(e,(e=Dy)=>kh([t.derive.staking.validators(),t.derive.staking.stashes()]).pipe(Rt(([{nextElected:r},n])=>{const a=r.map(e=>e.toString()),i=n.filter(e=>!a.includes(e.toString()));return t.derive.staking.queryMulti(i,e).pipe(Wt(e=>({info:e,waiting:i})))})))}function My(e,t){return pp(e,gf(e,t,"technicalCommittee"))}function Iy(e,t){return pp(e,bf(e,t,"technicalCommittee"))}function Ry(e,t){return pp(e,wf(e,t,"technicalCommittee"))}function By(e,t){return pp(e,Of(e,t,"technicalCommittee"))}function Ny(e,t){return pp(e,xf(e,t,"technicalCommittee"))}function Fy(e,t){return pp(e,kf(e,t,"technicalCommittee"))}function qy(e,t){return pp(e,Sf(e,t,"technicalCommittee"))}function Ly(e,t){return pp(e,()=>t.query.treasury?kh([t.query.treasury.proposalCount(),t.query.treasury.approvals()]).pipe(Rt(([e,r])=>function(e,t,r){const n=[],a=t.toNumber();for(let t=0;t<a;t++)r.some(e=>e.eqn(t))||n.push(e.registry.createType("ProposalIndex",t));const i=[...n,...r];return kh([e.query.treasury.proposals.multi(i),e.derive.council?e.derive.council.proposals():Gt([])]).pipe(Wt(([n,a])=>function(e,{allIds:t,allProposals:r,approvalIds:n,councilProposals:a,proposalCount:i}){const s=[],o=[],c=a.filter(({proposal:t})=>e.tx.treasury.approveProposal.is(t)||e.tx.treasury.rejectProposal.is(t));return t.forEach((e,t)=>{if(r[t].isSome){const a=c.filter(({proposal:t})=>e.eq(t.args[0])).sort((e,t)=>e.proposal.method.localeCompare(t.proposal.method)),i=n.some(t=>t.eq(e)),u={council:a,id:e,proposal:r[t].unwrap()};i?s.push(u):o.push(u)}}),{approvals:s,proposalCount:i,proposals:o}}(e,{allIds:i,allProposals:n,approvalIds:r,councilProposals:a,proposalCount:t})))}(t,e,r))):Gt({approvals:[],proposalCount:t.registry.createType("ProposalIndex"),proposals:[]}))}function Hy(e,t){return pp(e,e=>t.queryAt(e).pipe(Rt(r=>kh([t.rpc.chain.getBlock(e),r.system.events()])),Wt(([e,t])=>({block:e,events:t}))))}const Uy=new un.a(6e3),zy=new un.a(5),Vy=new un.a(3e5);function Gy(e,t){return e.derive.balances.account(t).pipe(Wt(({accountNonce:e})=>e))}function Wy(e,t){var r;return null!==(r=e.rpc.system)&&void 0!==r&&r.accountNextIndex?e.rpc.system.accountNextIndex(t):Gy(e,t)}function Ky(e){return kh([e.rpc.chain.getHeader(),e.rpc.chain.getFinalizedHead()]).pipe(Rt(([t,r])=>t.parentHash.isEmpty?Gt([t,t]):kh([e.rpc.chain.getHeader(t.parentHash),e.rpc.chain.getHeader(r)])),Wt(([e,t])=>e.number.unwrap().sub(t.number.unwrap()).gt(zy)?e:t))}function Yy(e,t){return(e,r,n)=>kh([Object(T.a)(r)?Gy(t,e):-1===r?Wy(t,e):Gt(t.registry.createType("Index",r)),Object(T.a)(n)||Object(q.a)(n)&&n>0?Ky(t):Gt(null)]).pipe(Wt(([e,r])=>{var n,a,i,s;return{header:r,mortalLength:Math.min((null===(n=t.consts.system)||void 0===n||null===(a=n.blockHashCount)||void 0===a?void 0:a.toNumber())||250,Vy.div((null===(i=t.consts.babe)||void 0===i?void 0:i.expectedBlockTime)||(null===(s=t.consts.timestamp)||void 0===s?void 0:s.minimumPeriod.muln(2))||Uy).iadd(zy).toNumber()),nonce:e}}))}function Xy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xy(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Qy={accounts:i,balances:s,bounties:o,chain:c,contracts:u,council:l,crowdloan:d,democracy:h,elections:p,imOnline:f,membership:m,parachains:g,session:y,society:b,staking:v,technicalCommittee:_,treasury:w,tx:x},Zy={contracts:{instances:["contracts"]},council:{instances:["council"],withDetect:!0},crowdloan:{instances:["crowdloan"]},democracy:{instances:["democracy"]},elections:{instances:["phragmenElection","electionsPhragmen","elections","council"],withDetect:!0},imOnline:{instances:["imOnline"]},membership:{instances:["membership"]},parachains:{instances:["parachains","registrar"]},session:{instances:["session"]},society:{instances:["society"]},staking:{instances:["staking"]},technicalCommittee:{instances:["technicalCommittee"],withDetect:!0},treasury:{instances:["treasury"]}};function $y(e,t,r){const n=Object.keys(t.query),a=t.runtimeVersion.specName.toString();return Object.keys(r).filter(e=>!Zy[e]||Zy[e].instances.some(e=>n.includes(e))||Zy[e].withDetect&&Zy[e].instances.some(e=>(t.registry.getModuleInstances(a,e)||[]).some(e=>n.includes(e)))).reduce((n,a)=>{const i=r[a];return n[a]=Object.entries(i).reduce((r,[n,a])=>(r[n]=a(e,t),r),{}),n},{})}function eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const rb={};Object.keys(a).filter(e=>0!==Object.keys(a[e].rpc||{}).length).forEach(e=>{rb[e]={},Object.entries(a[e].rpc).forEach(([t,r])=>{const n=!!r.pubsub,a=r.aliasSection||e;rb[a]||(rb[a]={}),rb[a][t]=tb(tb({},r),{},{isSubscription:n,jsonrpc:`${a}_${t}`,method:t,section:a})})});var nb=rb;function ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ib(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ab(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ab(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const sb=Object(C.a)("rpc-core"),ob={fallback:void 0,modifier:{isOptional:!0},type:{asMap:{linked:{isTrue:!1}},isMap:!1}};function cb(e,{params:t,type:r},n){const a=t.map(({isOptional:e,name:t,type:r})=>`${t}${e?"?":""}: ${r}`).join(", ");sb.error(`${e}(${a}): ${r}:: ${n.message}`)}function ub(e){return["0x3a636f6465"].includes(e.toHex())}var lb=Object(P.a)("instanceId"),db=Object(P.a)("registryDefault"),hb=Object(P.a)("getBlockRegistry"),pb=Object(P.a)("storageCache");class fb{constructor(e,t,r,n={}){Object.defineProperty(this,lb,{writable:!0,value:void 0}),Object.defineProperty(this,db,{writable:!0,value:void 0}),Object.defineProperty(this,hb,{writable:!0,value:void 0}),Object.defineProperty(this,pb,{writable:!0,value:new Map}),this.mapping=new Map,this.provider=void 0,this.sections=[],Object(D.a)(r&&Object(At.a)(r.send),"Expected Provider to API create"),Object(O.a)(this,lb)[lb]=e,Object(O.a)(this,db)[db]=t,this.provider=r;const a=Object.keys(nb);this.sections.push(...a),this.addUserInterfaces(n)}get isConnected(){return this.provider.isConnected}connect(){return this.provider.connect()}disconnect(){return this.provider.disconnect()}setRegistrySwap(e){Object(O.a)(this,hb)[hb]=qh(e,{getInstanceId:()=>Object(O.a)(this,lb)[lb]})}addUserInterfaces(e){this.sections.push(...Object.keys(e).filter(e=>!this.sections.includes(e))),this.sections.forEach(t=>{var r;this[r=t]||(this[r]={});const n=this[t];Object.entries(ib(ib({},this._createInterface(t,nb[t]||{})),this._createInterface(t,e[t]||{}))).forEach(([e,t])=>{n[e]||(n[e]=t)})})}_createInterface(e,t){return Object.entries(t).filter(([t,{endpoint:r}])=>!this.mapping.has(r||`${e}_${t}`)).reduce((r,[n,{endpoint:a}])=>{const i=t[n],s=!!i.pubsub,o=a||`${e}_${n}`;return this.mapping.set(o,ib(ib({},i),{},{isSubscription:s,jsonrpc:o,method:n,section:e})),r[n]=s?this._createMethodSubscribe(e,n,i):this._createMethodSend(e,n,i),r},{})}_memomize(e,t){const r={getInstanceId:()=>Object(O.a)(this,lb)[lb]},n=qh(e(!0),r);return n.raw=qh(e(!1),r),n.meta=t,n}_formatResult(e,t,r,n,a,i,s){return e?this._formatOutput(t,r,n,a,i,s):s}_createMethodSend(e,t,r){const n=r.endpoint||`${e}_${t}`,a=r.params.findIndex(({isHistoric:e})=>e);let i=null;const s=async(e,i)=>{const s=-1===a?null:i[a],{registry:o}=e&&s&&Object(O.a)(this,hb)[hb]?await Object(O.a)(this,hb)[hb](Object(Tt.a)(s)):{registry:Object(O.a)(this,db)[db]},c=this._formatInputs(o,null,r,i),u=await this.provider.send(n,c.map(e=>e.toJSON()));return this._formatResult(e,o,s,t,r,c,u)};return i=this._memomize(e=>(...n)=>{const o=e&&-1!==a&&!!n[a];return new ut(a=>(s(e,n).then(e=>{a.next(e),a.complete()}).catch(e=>{cb(t,r,e),a.error(e),a.complete()}),()=>{var e;null===(e=i)||void 0===e||e.unmemoize(...n)})).pipe(Kh(1),o?op():zh())},r),i}_createSubscriber({paramsJson:e,subName:t,subType:r,update:n},a){return new Promise((i,s)=>{this.provider.subscribe(r,t,e,n).then(i).catch(e=>{a(e),s(e)})})}_createMethodSubscribe(e,t,r){const[n,a,i]=r.pubsub,s=`${e}_${a}`,o=`${e}_${i}`,c=`${e}_${n}`;let u=null;return u=this._memomize(e=>(...n)=>new ut(a=>{let i=Promise.resolve(null);const l=Object(O.a)(this,db)[db],d=e=>{cb(t,r,e),a.error(e)};try{const o=this._formatInputs(l,null,r,n),u=o.map(e=>e.toJSON()),h=(n,i)=>{if(n)cb(t,r,n);else try{a.next(this._formatResult(e,l,null,t,r,o,i))}catch(n){a.error(n)}};i=this._createSubscriber({paramsJson:u,subName:s,subType:c,update:h},d)}catch(e){d(e)}return()=>{var e;null===(e=u)||void 0===e||e.unmemoize(...n),i.then(e=>Object(j.a)(e)?Promise.resolve(!1):this.provider.unsubscribe(c,o,e)).catch(e=>cb(t,r,e))}}).pipe(hp()),r),u}_formatInputs(e,t,r,n){const a=r.params.filter(({isOptional:e})=>!e).length,i=a===r.params.length?"":` (${r.params.length-a} optional)`;return Object(D.a)(n.length>=a&&n.length<=r.params.length,()=>`Expected ${r.params.length} parameters${i}, ${n.length} found instead`),n.map((n,a)=>e.createTypeUnsafe(r.params[a].type,[n],{blockHash:t}))}_formatOutput(e,t,r,n,a,i){if("StorageData"===n.type){const r=a[0];return this._formatStorageData(e,t,r,i)}if("StorageChangeSet"===n.type){const t=a[0];return t?this._formatStorageSet(e,i.block,t,i.changes):e.createType("StorageChangeSet",i)}if("Vec<StorageChangeSet>"===n.type){const t=i.map(({block:t,changes:r})=>[e.createType("Hash",t),this._formatStorageSet(e,t,a[0],r)]);return"queryStorageAt"===r?t[0][1]:t}return e.createTypeUnsafe(n.type,[i],{blockHash:t})}_formatStorageData(e,t,r,n){const a=Object(j.a)(n),i=a?null:ub(r)?n:Object(Tt.a)(n);return this._newType(e,t,r,i,a)}_formatStorageSet(e,t,r,n){const a=1!==r.length;return r.reduce((r,i,s)=>(r.push(this._formatStorageSetEntry(e,t,i,n,a,s)),r),[])}_formatStorageSetEntry(e,t,r,n,a,i){const s=r.toHex(),o=n.find(([e])=>e===s),c=Object(T.a)(o)?a&&Object(O.a)(this,pb)[pb].get(s)||null:o[1],u=Object(j.a)(c),l=u||ub(r)?c:Object(Tt.a)(c);return Object(O.a)(this,pb)[pb].set(s,c),this._newType(e,t,r,l,u,i)}_newType(e,t,r,n,a,i=-1){const s=r.outputType||"Raw",o=r.meta||ob,c=-1===i?"":` entry ${i}:`;try{return e.createTypeUnsafe(s,[a?o.fallback?Object(Ir.a)(o.fallback.toHex()):void 0:o.modifier.isOptional?e.createTypeUnsafe(s,[n],{blockHash:t,isPedantic:!0}):n],{blockHash:t,isOptional:o.modifier.isOptional,isPedantic:!o.modifier.isOptional})}catch(e){throw new Error(`Unable to decode storage ${r.section||"unknown"}.${r.method||"unknown"}:${c}: ${e.message}`)}}}function mb(e){return e?e.charAt(0).toLowerCase()+e.slice(1):""}var gb=r(62),yb=r(645),bb=r.n(yb);function vb(e,t){return function(e,t){return bb.a.h64(Object(Tt.a)(e).buffer,t)}(e,t).toString(16)}function _b(e,t){return new un.a(vb(e,t),16)}function wb(e,t=64,r=!1){const n=Math.ceil(t/64),a=Object(Tt.a)(e);if(Object(gb.i)()&&!r)return Object(gb.r)(a,n);const i=new Uint8Array(Math.ceil(t/8));for(let e=0;e<n;e++)i.set(_b(a,e).toArray("le",8),8*e);return i}const xb=e=>wb(e,128),kb={Blake2_128:e=>Object(ur.a)(e,128),Blake2_128Concat:e=>Object(Rr.a)(Object(ur.a)(e,128),Object(Tt.a)(e)),Blake2_256:e=>Object(ur.a)(e,256),Identity:e=>Object(Tt.a)(e),Twox128:e=>wb(e,128),Twox256:e=>wb(e,256),Twox64Concat:e=>Object(Rr.a)(wb(e,64),Object(Tt.a)(e))};function Sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ob(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sb(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pb(e,t,r,n,a){return Object(Rr.a)(wb(t.prefix,128),wb(t.method,128),...r.map((t,r)=>{return(i=n[r],kb[i.type]||xb)(e.createType(e.createLookupType(t),a[r]).toU8a());var i}))}function Eb(e){return!Object(T.a)(e)}function Ab(e,t,r,n,a){const{method:i,section:s}=t;return Object(D.a)(Array.isArray(a),()=>`Call to ${Xt(s||"unknown")}.${Xt(i||"unknown")} needs ${r.length} arguments`),Object(D.a)(a.filter(Eb).length===r.length,()=>`Call to ${Xt(s||"unknown")}.${Xt(i||"unknown")} needs ${r.length} arguments, found [${a.join(", ")}]`),Object(hn.a)(Pb(e,t,r,n,a))}function Cb(e,t,r){const{meta:{type:n}}=t,a=function({meta:e,method:t,prefix:r,section:n},a){const i=a;return i.meta=e,i.method=mb(t),i.prefix=r,i.section=n,i.toJSON=()=>Ob(Ob({},e.toJSON()),{},{storage:{method:t,prefix:r,section:n}}),i}(t,(...a)=>{if(n.isPlain)return r.skipHashing?Object(hn.a)(Object(Tt.a)(r.key)):Ab(e,t,[],[],[]);const{hashers:i,key:s}=n.asMap;return 1===i.length?Ab(e,t,[s],i,a):Ab(e,t,e.lookup.getSiType(s).def.asTuple.map(e=>e),i,a)});return n.isMap&&function(e,t,r){const{meta:{type:n},method:a,section:i}=t;r.iterKey=function(e,{meta:{docs:t,name:r,type:n},section:a},{method:i},s){const o=e.createLookupType(n.asMap.key);return s.meta=e.createType("StorageEntryMetadataLatest",{docs:t,fallback:e.createType("Bytes"),modifier:e.createType("StorageEntryModifierLatest",1),name:r,type:e.createType("StorageEntryTypeLatest",o,0)}),(...t)=>e.createType("StorageKey",s(...t),{method:i,section:a})}(e,t,r,(...r)=>{if(Object(D.a)(0===r.length||n.isMap&&r.length<n.asMap.hashers.length,()=>`Iteration ${Xt(i||"unknown")}.${Xt(a||"unknown")} needs arguments to be at least one less than the full arguments, found [${r.join(", ")}]`),r.length&&n.isMap){const{hashers:a,key:i}=n.asMap,s=1===a.length?[i]:[...e.lookup.getSiType(i).def.asTuple.map(e=>e)],o=[...a];return new Sr(e,Pb(e,t,s.slice(0,r.length),o.slice(0,r.length),r))}return new Sr(e,Pb(e,t,[],[],[]))})}(e,t,a),a.keyPrefix=(...e)=>a.iterKey&&a.iterKey(...e)||Dd(a())[1],a}function Tb(e,t){const r=t.toLowerCase();return e.lookup.types.find(e=>e.type.def.isPrimitive&&e.type.def.asPrimitive.toString().toLowerCase()===r||e.type.def.isHistoricMetaCompat&&e.type.def.asHistoricMetaCompat.toString().toLowerCase()===r)}function Db(e,t){let r=Tb(e,t);if(!r&&"Bytes"===t){const n=Tb(e,"u8");n&&(r=e.lookup.types.find(e=>e.type.def.isSequence&&e.type.def.asSequence.type.eq(n.id)||e.type.def.isHistoricMetaCompat&&e.type.def.asHistoricMetaCompat.eq(t)))}return r||console.warn(`Unable to map ${t} to a lookup index`),r}function jb({method:e,prefix:t,section:r},n,{docs:a,type:i}){return s=>{var o;return Cb(s,{meta:s.createType("StorageEntryMetadataLatest",{docs:s.createType("Vec<Text>",[a]),modifier:s.createType("StorageEntryModifierLatest","Required"),name:s.createType("Text",e),toJSON:()=>n,type:s.createType("StorageEntryTypeLatest",{Plain:(null===(o=Db(s,i))||void 0===o?void 0:o.id)||0})}),method:e,prefix:t,section:r},{key:n,skipHashing:!0})}}function Mb(e,t,r){return jb({method:e,prefix:"Substrate",section:"substrate"},t,r)}const Ib={changesTrieConfig:Mb("changesTrieConfig",":changes_trie",{docs:" Changes trie configuration is stored under this key.",type:"u32"}),childStorageKeyPrefix:Mb("childStorageKeyPrefix",":child_storage:",{docs:" Prefix of child storage keys.",type:"u32"}),code:Mb("code",":code",{docs:" Wasm code of the runtime.",type:"Bytes"}),extrinsicIndex:Mb("extrinsicIndex",":extrinsic_index",{docs:" Current extrinsic index (u32) is stored under this key.",type:"u32"}),heapPages:Mb("heapPages",":heappages",{docs:" Number of wasm linear memory pages required for execution of the runtime.",type:"u64"})};function Rb(e,{pallets:t},r){const n=function(e){const t={},r=Object.entries(Ib);for(let n=0;n<r.length;n++)t[r[n][0]]=r[n][1](e);return{substrate:t}}(e);for(let r=0;r<t.length;r++){const{name:a,storage:i}=t[r];if(i.isSome){const t=Xt(a),{items:r,prefix:s}=i.unwrap(),o=s.toString(),c={palletVersion:jb({method:"palletVersion",prefix:o,section:t},Pb(e,{method:":__STORAGE_VERSION__:",prefix:a.toString()},[],[],[]),{docs:"Returns the current pallet version from storage",type:"u16"})(e)};for(let n=0;n<r.length;n++){const a=r[n],i=a.name.toString();c[mb(i)]=Cb(e,{meta:a,method:i,prefix:o,section:t},{})}n[t]=c}}return n}function Bb(e,t){const r=Math.ceil(e.length/t),n=Array(r);for(let a=0;a<r;a++){const r=a*t;n[a]=e.slice(r,r+t)}return n}function Nb(e,t){return Ot((function(r,n){var a=0;r.subscribe(new kt(n,(function(r){return e.call(t,r,a++)&&n.next(r)})))}))}function Fb(e){return Ot((function(t,r){var n=!1;t.subscribe(new kt(r,(function(e){n=!0,r.next(e)}),(function(){n||r.next(e),r.complete()})))}))}function qb(e){return void 0===e&&(e=Lb),Ot((function(t,r){var n=!1;t.subscribe(new kt(r,(function(e){n=!0,r.next(e)}),(function(){return n?r.complete():r.error(e())})))}))}function Lb(){return new Mt}function Hb(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?Nb((function(t,r){return e(t,r,n)})):ot,Ph(1),r?Fb(t):qb((function(){return new Mt})))}}function Ub(e){return Wt((function(){return e}))}function zb(e){return Object(At.a)(e.sign)}const Vb=Object(C.a)("api/util");function Gb(e,{block:{extrinsics:t,header:r}},n,a){const i=e.toHex(),s=t.map(e=>e.hash.toHex()),o=s.indexOf(i);if(-1!==o)return n.filter(({phase:e})=>e.isApplyExtrinsic&&e.asApplyExtrinsic.eqn(o));a.isInBlock&&Vb.warn(`block ${r.hash.toHex()}: Unable to find extrinsic ${i} inside ${s.join(", ")}`)}const Wb=e=>e;function Kb(e,t,r,n){return e.filter(({event:e})=>t===e.section&&r.includes(e.method)).map(e=>n(e))}class Yb{constructor({dispatchError:e,dispatchInfo:t,events:r,internalError:n,status:a}){this.dispatchError=void 0,this.dispatchInfo=void 0,this.internalError=void 0,this.events=void 0,this.status=void 0,this.dispatchError=e||function(e=[]){return Kb(e,"system",["ExtrinsicFailed"],({event:{data:e}})=>e[0])[0]}(r),this.dispatchInfo=t||function(e=[]){return Kb(e,"system",["ExtrinsicFailed","ExtrinsicSuccess"],({event:{data:e,method:t}})=>"ExtrinsicSuccess"===t?e[0]:e[1])[0]}(r),this.events=r||[],this.internalError=n,this.status=a}get isCompleted(){return this.isError||this.status.isInBlock||this.status.isFinalized}get isError(){return this.status.isDropped||this.status.isFinalityTimeout||this.status.isInvalid||this.status.isUsurped}get isFinalized(){return this.status.isFinalized}get isInBlock(){return this.status.isInBlock}get isWarning(){return this.status.isRetracted}filterRecords(e,t){return Kb(this.events,e,Array.isArray(t)?t:[t],Wb)}findRecord(e,t){return this.filterRecords(e,t)[0]}toHuman(e){var t,r,n;return{dispatchError:null===(t=this.dispatchError)||void 0===t?void 0:t.toHuman(),dispatchInfo:null===(r=this.dispatchInfo)||void 0===r?void 0:r.toHuman(),events:this.events.map(t=>t.toHuman(e)),internalError:null===(n=this.internalError)||void 0===n?void 0:n.message.toString(),status:this.status.toHuman(e)}}}function Xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xb(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Qb=e=>e;function Zb(e,t,r){const n=function({api:e,apiType:t,decorateMethod:r}){const n=e.registry.createClass("Extrinsic");var a=Object(P.a)("ignoreStatusCb"),i=Object(P.a)("transformResult"),s=Object(P.a)("makeEraOptions"),o=Object(P.a)("makeSignOptions"),c=Object(P.a)("makeSignAndSendOptions"),u=Object(P.a)("observeSign"),l=Object(P.a)("observeStatus"),d=Object(P.a)("observeSend"),h=Object(P.a)("observeSubscribe"),p=Object(P.a)("optionsOrNonce"),f=Object(P.a)("signViaSigner"),m=Object(P.a)("updateSigner");return class extends n{constructor(r,n){super(r,n,{version:e.extrinsicType}),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,i,{writable:!0,value:Qb}),Object.defineProperty(this,s,{writable:!0,value:(e,{header:t,mortalLength:r,nonce:n})=>t?Object(O.a)(this,o)[o](e,{blockHash:t.hash,era:this.registry.createType("ExtrinsicEra",{current:t.number,period:e.era||r}),nonce:n}):(Object(q.a)(e.era)&&(delete e.era,delete e.blockHash),Object(O.a)(this,o)[o](e,{nonce:n}))}),Object.defineProperty(this,o,{writable:!0,value:(t,r)=>Jb(Jb(Jb({blockHash:e.genesisHash,genesisHash:e.genesisHash},t),r),{},{runtimeVersion:e.runtimeVersion,signedExtensions:e.registry.signedExtensions,version:e.extrinsicType})}),Object.defineProperty(this,c,{writable:!0,value:(e,t)=>{let r={};return Object(At.a)(e)?t=e:r=Jb({},e),[r,t]}}),Object.defineProperty(this,u,{writable:!0,value:(t,r)=>{const n=zb(t)?t.address:t.toString(),a=Object(O.a)(this,p)[p](r);let i;return e.derive.tx.signingInfo(n,a.nonce,a.era).pipe(Hb(),Sp(async e=>{const r=Object(O.a)(this,s)[s](a,e);zb(t)?this.sign(t,r):i=await Object(O.a)(this,f)[f](n,r,e.header)}),Ub(i))}}),Object.defineProperty(this,l,{writable:!0,value:(t,r)=>{if(!r.isFinalized&&!r.isInBlock)return Gt(Object(O.a)(this,i)[i](new Yb({status:r})));const n=r.isInBlock?r.asInBlock:r.asFinalized;return e.derive.tx.events(n).pipe(Wt(({block:e,events:n})=>Object(O.a)(this,i)[i](new Yb({events:Gb(t,e,n,r),status:r}))),Pt(e=>Gt(Object(O.a)(this,i)[i](new Yb({internalError:e,status:r})))))}}),Object.defineProperty(this,d,{writable:!0,value:(t=-1)=>e.rpc.author.submitExtrinsic(this).pipe(Et(e=>{Object(O.a)(this,m)[m](t,e)}))}),Object.defineProperty(this,h,{writable:!0,value:(t=-1)=>{const r=this.hash;return e.rpc.author.submitAndWatchExtrinsic(this).pipe(Rt(e=>Object(O.a)(this,l)[l](r,e)),Et(e=>{Object(O.a)(this,m)[m](t,e)}))}}),Object.defineProperty(this,p,{writable:!0,value:(e={})=>Object(Ea.a)(e)||Object(q.a)(e)?{nonce:e}:e}),Object.defineProperty(this,f,{writable:!0,value:async(t,r,n)=>{const a=r.signer||e.signer;Object(D.a)(a,"No signer specified, either via api.setSigner or via sign options. You possibly need to pass through an explicit keypair for the origin so it can be used for signing.");const i=this.registry.createType("SignerPayload",Jb(Jb({},r),{},{address:t,blockNumber:n?n.number:0,method:this.method}));let s;if(a.signPayload)s=await a.signPayload(i.toPayload());else{if(!a.signRaw)throw new Error("Invalid signer interface, it should implement either signPayload or signRaw (or both)");s=await a.signRaw(i.toRaw())}return super.addSignature(t,s.signature,i.toPayload()),s.id}}),Object.defineProperty(this,m,{writable:!0,value:(t,r)=>{-1!==t&&e.signer&&e.signer.update&&e.signer.update(t,r)}}),Object(O.a)(this,a)[a]="rxjs"===t}dryRun(t,n){return Object(R.a)(n)||Object(or.a)(n)?r(()=>e.rpc.system.dryRun(this.toHex(),n)):r(()=>Object(O.a)(this,u)[u](t,n).pipe(Rt(()=>e.rpc.system.dryRun(this.toHex()))))()}paymentInfo(t,n){if(Object(R.a)(n)||Object(or.a)(n))return r(()=>e.rpc.payment.queryInfo(this.toHex(),n));const[a]=Object(O.a)(this,c)[c](n),i=zb(t)?t.address:t.toString();return r(()=>e.derive.tx.signingInfo(i,a.nonce,a.era).pipe(Hb(),Rt(t=>{const r=Object(O.a)(this,s)[s](a,t),n=Object(O.a)(this,o)[o](r,{});return this.signFake(i,n),e.rpc.payment.queryInfo(this.toHex())})))()}send(t){const n=e.hasSubscriptions&&(Object(O.a)(this,a)[a]||!!t);return r(n?Object(O.a)(this,h)[h]:Object(O.a)(this,d)[d])(t)}sign(e,t){return super.sign(e,Object(O.a)(this,o)[o](Object(O.a)(this,p)[p](t),{})),this}signAsync(e,t){return r(()=>Object(O.a)(this,u)[u](e,t).pipe(Ub(this)))()}signAndSend(t,n,i){const[s,o]=Object(O.a)(this,c)[c](n,i),l=e.hasSubscriptions&&(Object(O.a)(this,a)[a]||!!o);return r(()=>Object(O.a)(this,u)[u](t,s).pipe(Rt(e=>l?Object(O.a)(this,h)[h](e):Object(O.a)(this,d)[d](e))))(o)}withResultTransform(e){return Object(O.a)(this,i)[i]=e,this}}}({api:t,apiType:e,decorateMethod:r});return e=>new n(t.registry,e)}const $b=Object(C.a)("api/augment");function ev(e,t,r=[]){return t.length?` ${t.length} ${e}${r.length?" and":""}`:""}function tv(e,t){return t.length?`\n\t${e.padStart(7)}: ${t.sort().join(", ")}`:""}function rv(e,t,[r,n]){(r.length||n.length)&&$b.warn(`api.${e}: Found${ev("added",r,n)}${ev("removed",n)} ${t}:${tv("added",r)}${tv("removed",n)}`)}function nv(e,t){return e.filter(e=>!t.includes(e))}function av(e,t){const r=Object.keys(e),n=(a=Object.keys(t),i=r,a.filter(e=>i.includes(e)));var a,i;const s=[];for(let r=0;r<n.length;r++){const a=n[r],i=Object.keys(e[a]),o=Object.keys(t[a]);s.push(...o.filter(e=>!i.includes(e)).map(e=>`${a}.${e}`))}return s}function iv(e,t,r,n=!1){if(n){const e=Object.keys(r);for(let t=0;t<e.length;t++)delete r[e[t]]}e&&Object.keys(r).length&&(rv(e,"modules",function(e,t){const r=Object.keys(e),n=Object.keys(t);return[nv(r,n),nv(n,r)]}(t,r)),rv(e,"calls",function(e,t){return[av(t,e),av(e,t)]}(t,r)));const a=Object.keys(t);for(let e=0;e<a.length;e++){const n=a[e];r[n]||(r[n]={});const i=Object.keys(t[n]);for(let e=0;e<i.length;e++){const a=i[e];r[n][a]||(r[n][a]=t[n][a])}}return r}function sv(e){return Object.keys(e)}function ov(e,t){const r={},n=sv(e);for(let a=0;a<n.length;a++)r[n[a]]=t(e[n[a]]);return r}function cv(e,t){const r={},n=sv(e);for(let a=0;a<n.length;a++)r[n[a]]=ov(e[n[a]],t);return r}function uv({lookup:e},{method:t,section:r},n){return`${r}.${t}(${n.map(t=>e.getTypeDef(t).type).join(", ")})`}function lv(e,t,r){const n=r.filter(e=>!Object(T.a)(e));if(t.meta.type.isPlain)Object(D.a)(0===n.length,()=>`${uv(e,t,[])} does not take any arguments, ${n.length} found`);else{const{hashers:r,key:a}=t.meta.type.asMap,i=1===r.length?[a]:e.lookup.getSiType(a).def.asTuple.map(e=>e);Object(D.a)(n.length===i.length,()=>`${uv(e,t,i)} is a map, requiring ${i.length} arguments, ${n.length} found`)}return[t,n]}var dv=Object(P.a)("eventemitter");function hv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hv(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const fv=Object(C.a)("api/init");let mv=0;function gv(e,{method:t,section:r}){return Object(D.a)(e.rx.query[r]&&e.rx.query[r][t],()=>`query.${r}.${t} is not available in this version of the metadata`),e.rx.query[r][t]}var yv=Object(P.a)("instanceId"),bv=Object(P.a)("registry");function vv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vv(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const wv=Object(C.a)("api/init");function xv(e){return e.toString()}var kv=Object(P.a)("healthTimer"),Sv=Object(P.a)("registries"),Ov=Object(P.a)("updateSub"),Pv=Object(P.a)("waitingRegistries"),Ev=Object(P.a)("onProviderConnect"),Av=Object(P.a)("onProviderDisconnect"),Cv=Object(P.a)("onProviderError");function Tv(e){return Object(D.b)(e,"Api needs to be initialized before using, listen on 'ready'")}function Dv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dv(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class Mv extends class extends class extends class extends class{constructor(){Object.defineProperty(this,dv,{writable:!0,value:new A.a})}emit(e,...t){return Object(O.a)(this,dv)[dv].emit(e,...t)}on(e,t){return Object(O.a)(this,dv)[dv].on(e,t),this}off(e,t){return Object(O.a)(this,dv)[dv].removeListener(e,t),this}once(e,t){return Object(O.a)(this,dv)[dv].once(e,t),this}}{constructor(e,t,r){var n;super(),Object.defineProperty(this,yv,{writable:!0,value:void 0}),Object.defineProperty(this,bv,{writable:!0,value:void 0}),this.__phantom=new un.a(0),this._consts={},this._derive=void 0,this._errors={},this._events={},this._extrinsics=void 0,this._extrinsicType=4,this._genesisHash=void 0,this._isConnected=void 0,this._isReady=!1,this._options=void 0,this._query={},this._queryMulti=void 0,this._rpc=void 0,this._rpcCore=void 0,this._runtimeChain=void 0,this._runtimeMetadata=void 0,this._runtimeVersion=void 0,this._rx={consts:{},query:{},tx:{}},this._type=void 0,this._decorateMethod=void 0,this._rxDecorateMethod=e=>e,Object(O.a)(this,yv)[yv]=""+ ++mv,Object(O.a)(this,bv)[bv]=(null===(n=e.source)||void 0===n?void 0:n.registry)||e.registry||new ph,this._rx.queryAt=e=>Vt(this.at(e)).pipe(Wt(e=>e.rx.query)),this._rx.registry=Object(O.a)(this,bv)[bv];const a=e.source?e.source._rpcCore.provider.clone():e.provider||new ge;this._decorateMethod=r,this._options=e,this._type=t,this._rpcCore=new fb(Object(O.a)(this,yv)[yv],Object(O.a)(this,bv)[bv],a,this._options.rpc),this._isConnected=new Ih(this._rpcCore.provider.isConnected),this._rx.hasSubscriptions=this._rpcCore.provider.hasSubscriptions}get registry(){return Object(O.a)(this,bv)[bv]}createType(e,...t){return Object(O.a)(this,bv)[bv].createType(e,...t)}registerTypes(e){e&&Object(O.a)(this,bv)[bv].register(e)}get hasSubscriptions(){return this._rpcCore.provider.hasSubscriptions}get supportMulti(){return this._rpcCore.provider.hasSubscriptions||!!this._rpcCore.state.queryStorageAt}_createDecorated(e,t,r,n){n||(n={consts:{},errors:{},events:{},query:{},registry:e.registry,rx:{query:{}}}),e.decoratedMeta||(e.decoratedMeta=function(e,t){Object(D.a)(t instanceof Vl,"You need to pass a valid Metadata instance to Decorated");const r=t.asLatest,n=t.version;return{consts:lu(e,r),errors:ru(e,r,n),events:au(e,r,n),query:Rb(e,r),registry:e,tx:uu(e,r,n)}}(e.registry,e.metadata)),iv("consts",e.decoratedMeta.consts,n.consts,t),iv("errors",e.decoratedMeta.errors,n.errors,t),iv("events",e.decoratedMeta.events,n.events,t);const a=r?this._decorateStorageAt(e.decoratedMeta,this._decorateMethod,r):this._decorateStorage(e.decoratedMeta,this._decorateMethod),i=r?this._decorateStorageAt(e.decoratedMeta,this._rxDecorateMethod,r):this._decorateStorage(e.decoratedMeta,this._rxDecorateMethod);return iv("query",a,n.query,t),iv("query",i,n.rx.query,t),n.findCall=t=>Dt(e.registry,t),n.findError=t=>jt(e.registry,t),n.queryMulti=r?this._decorateMultiAt(n,this._decorateMethod,r):this._decorateMulti(this._decorateMethod),{decoratedApi:n,decoratedMeta:e.decoratedMeta}}_injectMetadata(e,t){!t&&e.decoratedApi||(e.decoratedApi={consts:{},errors:{},events:{},query:{},registry:e.registry,rx:{query:{}}});const{decoratedApi:r,decoratedMeta:n}=this._createDecorated(e,t,null,e.decoratedApi);this._consts=r.consts,this._errors=r.errors,this._events=r.events,this._query=r.query,this._rx.query=r.rx.query,t||!this._extrinsics?(this._extrinsics=this._decorateExtrinsics(n,this._decorateMethod),this._rx.tx=this._decorateExtrinsics(n,this._rxDecorateMethod)):(iv("tx",this._decorateExtrinsics(n,this._decorateMethod),this._extrinsics,!1),iv(null,this._decorateExtrinsics(n,this._rxDecorateMethod),this._rx.tx,!1)),iv(null,n.consts,this._rx.consts,t)}injectMetadata(e,t,r){this._injectMetadata({metadata:e,registry:r||Object(O.a)(this,bv)[bv],specName:Object(O.a)(this,bv)[bv].createType("Text"),specVersion:cr.i},t)}_decorateFunctionMeta(e,t){return t.meta=e.meta,t.method=e.method,t.section=e.section,t.toJSON=e.toJSON,e.callIndex&&(t.callIndex=e.callIndex),t}_filterRpc(e,t){0!==Object.keys(t).length&&(this._rpcCore.addUserInterfaces(t),this._decorateRpc(this._rpcCore,this._decorateMethod,this._rpc),this._decorateRpc(this._rpcCore,this._rxDecorateMethod,this._rx.rpc)),this._filterRpcMethods(e)}_filterRpcMethods(e){const t=0!==e.length,r=[...this._rpcCore.mapping.entries()],n=[];for(let e=0;e<r.length;e++){const[,{alias:t,endpoint:a,method:i,pubsub:s,section:o}]=r[e];n.push(`${o}_${i}`),s&&(n.push(`${o}_${s[1]}`),n.push(`${o}_${s[2]}`)),t&&n.push(...t),a&&n.push(a)}const a=e.filter(e=>!n.includes(e));a.length&&fv.warn("RPC methods not decorated: "+a.join(", "));for(let n=0;n<r.length;n++){const[a,{method:i,section:s}]=r[n];t&&!e.includes(a)&&"rpc_methods"!==a&&(delete this._rpc[s][i],delete this._rx.rpc[s][i])}}_decorateRpc(e,t,r={}){const n=r;for(let r=0;r<e.sections.length;r++){const a=e.sections[r];if(!n[a]){const r={};for(const[n,i]of Object.entries(e[a]))(this.hasSubscriptions||!n.startsWith("subscribe")&&!n.startsWith("unsubscribe"))&&(r[n]=t(i,{methodName:n}),r[n].raw=t(i.raw,{methodName:n}),r[n].meta=i.meta);n[a]=r}}return n}_decorateMulti(e){return e(e=>(this.hasSubscriptions?this._rpcCore.state.subscribeStorage:this._rpcCore.state.queryStorageAt)(e.map(e=>Array.isArray(e)?e[0].creator.meta.type.isPlain?[e[0].creator]:1===e[0].creator.meta.type.asMap.hashers.length?[e[0].creator,e.slice(1)]:[e[0].creator,...e.slice(1)]:[e.creator])))}_decorateMultiAt(e,t,r){return t(t=>this._rpcCore.state.queryStorageAt(t.map(t=>{if(Array.isArray(t)){const{creator:r}=gv(e,t[0].creator);return r.meta.type.isPlain?[r]:1===r.meta.type.asMap.hashers.length?[r,t.slice(1)]:[r,...t.slice(1)]}return[gv(e,t.creator).creator]}),r))}_decorateExtrinsics({tx:e},t){const r=Zb(this._type,this._rx,t);for(const[t,n]of Object.entries(e)){const e={};for(const[t,a]of Object.entries(n))e[t]=this._decorateExtrinsicEntry(a,r);r[t]=e}return r}_decorateExtrinsicEntry(e,t){const r=(...r)=>t(e(...r));return r.is=t=>e.is(t),this._decorateFunctionMeta(e,r)}_decorateStorage({query:e},t){const r={};for(const[n,a]of Object.entries(e)){const e={};for(const[r,n]of Object.entries(a))e[r]=this._decorateStorageEntry(n,t);r[n]=e}return r}_decorateStorageAt({query:e,registry:t},r,n){const a={};for(const[i,s]of Object.entries(e)){const e={};for(const[a,i]of Object.entries(s))e[a]=this._decorateStorageEntryAt(t,i,r,n);a[i]=e}return a}_decorateStorageEntry(e,t){const r=(t,r)=>lv(r||Object(O.a)(this,bv)[bv],e,t),n=t=>Vt(this.at(t)).pipe(Wt(t=>gv(t,e))),a=this._decorateStorageCall(e,t);return a.creator=e,a.at=t((e,...t)=>n(e).pipe(Rt(e=>e(...t)))),a.hash=t((...e)=>this._rpcCore.state.getStorageHash(r(e))),a.is=t=>t.section===e.section&&t.method===e.method,a.key=(...t)=>Object(Ct.a)(Dd(e(...t))[1]),a.keyPrefix=(...t)=>Object(Ct.a)(e.keyPrefix(...t)),a.range=t((e,...t)=>this._decorateStorageRange(a,t,e)),a.size=t((...e)=>this._rpcCore.state.getStorageSize(r(e))),a.sizeAt=t((e,...t)=>n(e).pipe(Rt(n=>this._rpcCore.state.getStorageSize(r(t,n.creator.meta.registry),e)))),e.iterKey&&e.meta.type.isMap&&(a.entries=t(pp(Object(O.a)(this,yv)[yv],(...t)=>this._retrieveMapEntries(e,null,t))),a.entriesAt=t(pp(Object(O.a)(this,yv)[yv],(e,...t)=>n(e).pipe(Rt(r=>this._retrieveMapEntries(r.creator,e,t))))),a.entriesPaged=t(pp(Object(O.a)(this,yv)[yv],t=>this._retrieveMapEntriesPaged(e,t))),a.keys=t(pp(Object(O.a)(this,yv)[yv],(...t)=>this._retrieveMapKeys(e,null,t))),a.keysAt=t(pp(Object(O.a)(this,yv)[yv],(e,...t)=>n(e).pipe(Rt(r=>this._retrieveMapKeys(r.creator,e,t))))),a.keysPaged=t(pp(Object(O.a)(this,yv)[yv],t=>this._retrieveMapKeysPaged(e,t)))),this.supportMulti&&e.meta.type.isMap&&(a.multi=t(t=>1===e.meta.type.asMap.hashers.length?this._retrieveMulti(t.map(t=>[e,[t]])):this._retrieveMulti(t.map(t=>[e,t])))),this._decorateFunctionMeta(e,a)}_decorateStorageEntryAt(e,t,r,n){const a=r=>lv(e,t,r),i=r((...e)=>this._rpcCore.state.getStorage(a(e),n));return i.creator=t,i.hash=r((...e)=>this._rpcCore.state.getStorageHash(a(e),n)),i.is=e=>e.section===t.section&&e.method===t.method,i.key=(...e)=>Object(Ct.a)(Dd(t(t.meta.type.isPlain?void 0:e))[1]),i.keyPrefix=(...e)=>Object(Ct.a)(t.keyPrefix(...e)),i.size=r((...e)=>this._rpcCore.state.getStorageSize(a(e),n)),t.iterKey&&t.meta.type.isMap&&(i.entries=r(pp(Object(O.a)(this,yv)[yv],(...e)=>this._retrieveMapEntries(t,n,e))),i.keys=r(pp(Object(O.a)(this,yv)[yv],(...e)=>this._retrieveMapKeys(t,n,e)))),this._decorateFunctionMeta(t,i)}_decorateStorageCall(e,t){return t((...t)=>this.hasSubscriptions?this._rpcCore.state.subscribeStorage([lv(Object(O.a)(this,bv)[bv],e,t)]).pipe(Wt(([e])=>e)):this._rpcCore.state.getStorage(lv(Object(O.a)(this,bv)[bv],e,t)),{methodName:e.method,overrideNoSub:(...t)=>this._rpcCore.state.getStorage(lv(Object(O.a)(this,bv)[bv],e,t))})}_decorateStorageRange(e,t,r){const n=eo(Object(O.a)(this,bv)[bv],e.creator.meta.type,e.creator.meta.modifier.isOptional);return this._rpcCore.state.queryStorage([e.key(...t)],...r).pipe(Wt(e=>e.map(([e,[t]])=>[e,this.createType(n,t.isSome?t.unwrap().toHex():void 0)])))}_retrieveMulti(e){if(!e.length)return Gt([]);const t=this.hasSubscriptions?this._rpcCore.state.subscribeStorage:this._rpcCore.state.queryStorageAt;return kh(Bb(e,250).map(e=>t(e))).pipe(Wt(Nf))}_retrieveMapKeys({iterKey:e,meta:t,method:r,section:n},a,i){Object(D.a)(e&&t.type.isMap,"keys can only be retrieved on maps");const s=e(...i).toHex(),o=new Ih(s),c=a?e=>this._rpcCore.state.getKeysPaged(s,1e3,e,a):e=>this._rpcCore.state.getKeysPaged(s,1e3,e),u=e=>e.setMeta(t,n,r);return o.pipe(Rt(c),Wt(e=>e.map(u)),Et(e=>{setTimeout(()=>{1e3===e.length?o.next(e[999].toHex()):o.complete()},0)}),Nh(),Wt(Nf))}_retrieveMapKeysPaged({iterKey:e,meta:t,method:r,section:n},a){Object(D.a)(e&&t.type.isMap,"keys can only be retrieved on maps");const i=e(...a.args).toHex(),s=e=>e.setMeta(t,n,r);return this._rpcCore.state.getKeysPaged(i,a.pageSize,a.startKey||i).pipe(Wt(e=>e.map(s)))}_retrieveMapEntries(e,t,r){const n=t?e=>this._rpcCore.state.queryStorageAt(e,t):e=>this._rpcCore.state.queryStorageAt(e);return this._retrieveMapKeys(e,t,r).pipe(Rt(e=>e.length?kh(Bb(e,250).map(n)).pipe(Wt(t=>Nf(t).map((t,r)=>[e[r],t]))):Gt([])))}_retrieveMapEntriesPaged(e,t){return this._retrieveMapKeysPaged(e,t).pipe(Rt(e=>e.length?this._rpcCore.state.queryStorageAt(e).pipe(Wt(t=>t.map((t,r)=>[e[r],t]))):Gt([])))}_decorateDeriveRx(e){var t,r,n,a;const i=null===(t=this._runtimeVersion)||void 0===t?void 0:t.specName.toString(),s=pv(pv({},this._options.derives),(null===(r=this._options.typesBundle)||void 0===r||null===(n=r.spec)||void 0===n||null===(a=n[i||""])||void 0===a?void 0:a.derives)||{});return cv(function(e,t,r={}){return Jy(Jy({},$y(e,t,Qy)),$y(e,t,r))}(Object(O.a)(this,yv)[yv],this._rx,s),e)}_decorateDerive(e){return cv(this._rx.derive,e)}}{constructor(e,t,r){super(e,t,r),Object.defineProperty(this,kv,{writable:!0,value:null}),Object.defineProperty(this,Sv,{writable:!0,value:[]}),Object.defineProperty(this,Ov,{writable:!0,value:null}),Object.defineProperty(this,Pv,{writable:!0,value:{}}),Object.defineProperty(this,Ev,{writable:!0,value:async()=>{this._isConnected.next(!0),this.emit("connected");try{const[e,t]=await Promise.all([this._loadMeta(),!1===this._options.initWasm?Promise.resolve(!0):Object(fh.a)()]);this._subscribeHealth(),e&&!this._isReady&&t&&(this._isReady=!0,this.emit("ready",this))}catch(e){const t=new Error("FATAL: Unable to initialize the API: "+e.message);wv.error(t),this.emit("error",t)}}}),Object.defineProperty(this,Av,{writable:!0,value:()=>{this._isConnected.next(!1),this._unsubscribeHealth(),this.emit("disconnected")}}),Object.defineProperty(this,Cv,{writable:!0,value:e=>{this.emit("error",e)}}),this.registry.setKnownTypes(e),e.source?Object(O.a)(this,Sv)[Sv]=Object(O.a)(e.source,Sv)[Sv]:this.registerTypes(e.types),this._rpc=this._decorateRpc(this._rpcCore,this._decorateMethod),this._rx.rpc=this._decorateRpc(this._rpcCore,this._rxDecorateMethod),this.supportMulti&&(this._queryMulti=this._decorateMulti(this._decorateMethod),this._rx.queryMulti=this._decorateMulti(this._rxDecorateMethod)),this._rx.signer=e.signer,this._rpcCore.setRegistrySwap(e=>this.getBlockRegistry(e)),this.hasSubscriptions?(this._rpcCore.provider.on("disconnected",Object(O.a)(this,Av)[Av]),this._rpcCore.provider.on("error",Object(O.a)(this,Cv)[Cv]),this._rpcCore.provider.on("connected",Object(O.a)(this,Ev)[Ev])):wv.warn("Api will be available in a limited mode since the provider does not support subscriptions"),this._rpcCore.provider.isConnected&&Object(O.a)(this,Ev)[Ev]()}_initRegistry(e,t,r,n,a){e.setChainProperties(a||this.registry.getChainProperties()),e.setKnownTypes(this._options),e.register(function({knownTypes:e},t,r,n){var a,i,s,o,c,u,l,d;const h=t.toString(),p=r.toString(),f=Object(Jt.a)(n).toNumber();return cl(cl(cl(cl(cl(cl(cl({},ul(tl[p],f)),ul(xu[h],f)),ul(null===(a=e.typesBundle)||void 0===a||null===(i=a.spec)||void 0===i||null===(s=i[p])||void 0===s?void 0:s.types,f)),ul(null===(o=e.typesBundle)||void 0===o||null===(c=o.chain)||void 0===c||null===(u=c[h])||void 0===u?void 0:u.types,f)),(null===(l=e.typesSpec)||void 0===l?void 0:l[p])||{}),(null===(d=e.typesChain)||void 0===d?void 0:d[h])||{}),e.types||{})}(e,t,r.specName,r.specVersion)),e.setHasher(function({knownTypes:e},t,r){var n,a,i,s,o,c;const u=t.toString(),l=r.toString();return e.hasher||(null===(n=e.typesBundle)||void 0===n||null===(a=n.chain)||void 0===a||null===(i=a[u])||void 0===i?void 0:i.hasher)||(null===(s=e.typesBundle)||void 0===s||null===(o=s.spec)||void 0===o||null===(c=o[l])||void 0===c?void 0:c.hasher)||null}(e,t,r.specName)),e.knownTypes.typesBundle&&(e.knownTypes.typesAlias=function({knownTypes:e},t,r){var n,a,i,s,o,c;const u=t.toString(),l=r.toString();return cl(cl(cl({},(null===(n=e.typesBundle)||void 0===n||null===(a=n.spec)||void 0===a||null===(i=a[l])||void 0===i?void 0:i.alias)||{}),(null===(s=e.typesBundle)||void 0===s||null===(o=s.chain)||void 0===o||null===(c=o[u])||void 0===c?void 0:c.alias)||{}),e.typesAlias||{})}(e,t,r.specName)),e.setMetadata(n,void 0,_v(_v({},function({knownTypes:e},t,r){var n,a,i,s,o,c;const u=t.toString(),l=r.toString();return cl(cl({},(null===(n=e.typesBundle)||void 0===n||null===(a=n.spec)||void 0===a||null===(i=a[l])||void 0===i?void 0:i.signedExtensions)||{}),(null===(s=e.typesBundle)||void 0===s||null===(o=s.chain)||void 0===o||null===(c=o[u])||void 0===c?void 0:c.signedExtensions)||{})}(e,t,r.specName)),this._options.signedExtensions||{}))}_getDefaultRegistry(){const e=Object(O.a)(this,Sv)[Sv].find(({isDefault:e})=>e);return Object(D.a)(e,"Initialization error, cannot find the default registry"),e}async at(e,t){const r=Object(Tt.a)(e),n=await this.getBlockRegistry(r,t);return this._createDecorated(n,!0,r).decoratedApi}_getBlockRegistryViaVersion(e,t){if(t){const r=Object(O.a)(this,Sv)[Sv].find(({specName:e,specVersion:r})=>e.eq(t.specName)&&r.eq(t.specVersion));if(r)return r.lastBlockHash=e,r}return null}async _getBlockRegistry(e){Object(D.a)(this._genesisHash&&this._runtimeVersion,"Cannot retrieve data on an uninitialized chain");const t=this.registry.createType("HeaderPartial",this._genesisHash.eq(e)?{number:cr.i,parentHash:this._genesisHash}:await It(this._rpcCore.chain.getHeader.raw(e)));Object(D.a)(!t.parentHash.isEmpty,"Unable to retrieve header and parent from supplied hash");const[r,n]=function(e,t){const r=sl.find(t=>e.eq(t.genesisHash));return r?[r.versions.reduce((e,r)=>t.gt(r.blockNumber)?r:e,void 0),r.versions.find(e=>t.lte(e.blockNumber))]:[void 0,void 0]}(this._genesisHash,t.number),a=this.registry.createType("RuntimeVersionPartial",r&&(n||r.specVersion.eq(this._runtimeVersion.specVersion))?{specName:this._runtimeVersion.specName,specVersion:r.specVersion}:await It(this._rpcCore.state.getRuntimeVersion.raw(t.parentHash))),i=this._getBlockRegistryViaVersion(e,a);if(i)return i;const s=new ph(e),o=new Vl(s,await It(this._rpcCore.state.getMetadata.raw(t.parentHash)));this._initRegistry(s,this._runtimeChain,a,o);const c={lastBlockHash:e,metadata:o,registry:s,specName:a.specName,specVersion:a.specVersion};return Object(O.a)(this,Sv)[Sv].push(c),c}async getBlockRegistry(e,t){const r=Object(O.a)(this,Sv)[Sv].find(({lastBlockHash:t})=>t&&Object(zd.a)(t,e));if(r)return r;const n=this._getBlockRegistryViaVersion(e,t);if(n)return n;const a=Object(Ct.a)(e);let i=Object(O.a)(this,Pv)[Pv][a];return Object(T.a)(i)&&(i=this._getBlockRegistry(e),Object(O.a)(this,Pv)[Pv][a]=i,i.then(()=>{delete Object(O.a)(this,Pv)[Pv][a]}).catch(()=>{})),i}async _loadMeta(){var e;return!!this._isReady||(this._unsubscribeUpdates(),[this._genesisHash,this._runtimeMetadata]=null!==(e=this._options.source)&&void 0!==e&&e._isReady?await this._metaFromSource(this._options.source):await this._metaFromChain(this._options.metadata),this._initFromMeta(this._runtimeMetadata))}async _metaFromSource(e){this._extrinsicType=e.extrinsicVersion,this._runtimeChain=e.runtimeChain,this._runtimeVersion=e.runtimeVersion;const t=Object.keys(e.rpc),r=[];for(let n=0;n<t.length;n++){const a=t[n],i=Object.keys(e.rpc[a]);for(let e=0;e<i.length;e++)r.push(`${a}_${i[e]}`)}return this._filterRpc(r,ll(this.registry,e.runtimeChain,e.runtimeVersion.specName)),[e.genesisHash,e.runtimeMetadata]}_detectCapabilities(e,t){return It(Th(this._rx,t)).then(r=>{Object.keys(r).length&&(e.register(r),wv.debug(()=>`Capabilities detected${t?` (${Object(Ct.a)(Object(Tt.a)(t))})`:""}: ${F(r)}`))}).catch(void 0),!0}_subscribeUpdates(){!Object(O.a)(this,Ov)[Ov]&&this.hasSubscriptions&&(Object(O.a)(this,Ov)[Ov]=this._rpcCore.state.subscribeRuntimeVersion().pipe(Rt(e=>{var t;return null!==(t=this._runtimeVersion)&&void 0!==t&&t.specVersion.eq(e.specVersion)?Gt(!1):this._rpcCore.state.getMetadata().pipe(Wt(t=>{wv.log(`Runtime version updated to spec=${e.specVersion.toString()}, tx=${e.transactionVersion.toString()}`),this._runtimeMetadata=t,this._runtimeVersion=e,this._rx.runtimeVersion=e;const r=this._getDefaultRegistry();return r.metadata=t,r.specVersion=e.specVersion,this._initRegistry(r.registry.init(),this._runtimeChain,e,t),this._injectMetadata(r,!1),this._detectCapabilities(r.registry)}))})).subscribe())}async _metaFromChain(e){const[t,r,n,a,i,s]=await Promise.all([It(this._rpcCore.chain.getBlockHash(0)),It(this._rpcCore.state.getRuntimeVersion()),It(this._rpcCore.system.chain()),It(this._rpcCore.system.properties()),It(this._rpcCore.rpc.methods()),e?Promise.resolve(null):It(this._rpcCore.state.getMetadata())]);this._runtimeChain=n,this._runtimeVersion=r,this._rx.runtimeVersion=r;const o=`${t.toHex()||"0x"}-${r.specVersion.toString()}`,c=s||(e&&e[o]?new Vl(this.registry,e[o]):await It(this._rpcCore.state.getMetadata()));return this._initRegistry(this.registry,n,r,c,a),this._filterRpc(i.methods.map(xv),ll(this.registry,n,r.specName)),this._subscribeUpdates(),Object(O.a)(this,Sv)[Sv].length||Object(O.a)(this,Sv)[Sv].push({isDefault:!0,metadata:c,registry:this.registry,specName:r.specName,specVersion:r.specVersion}),c.getUniqTypes(this._options.throwOnUnknown||!1),[t,c]}_initFromMeta(e){return this._extrinsicType=e.asLatest.extrinsic.version.toNumber(),this._rx.extrinsicType=this._extrinsicType,this._rx.genesisHash=this._genesisHash,this._rx.runtimeVersion=this._runtimeVersion,this._injectMetadata(this._getDefaultRegistry(),!0),this._rx.derive=this._decorateDeriveRx(this._rxDecorateMethod),this._derive=this._decorateDerive(this._decorateMethod),this._detectCapabilities(this.registry),!0}_subscribeHealth(){Object(O.a)(this,kv)[kv]=this.hasSubscriptions?setInterval(()=>{It(this._rpcCore.system.health()).catch(()=>{})},1e4):null}_unsubscribeHealth(){Object(O.a)(this,kv)[kv]&&(clearInterval(Object(O.a)(this,kv)[kv]),Object(O.a)(this,kv)[kv]=null)}_unsubscribeUpdates(){Object(O.a)(this,Ov)[Ov]&&(Object(O.a)(this,Ov)[Ov].unsubscribe(),Object(O.a)(this,Ov)[Ov]=null)}_unsubscribe(){this._unsubscribeHealth(),this._unsubscribeUpdates()}}{get consts(){return Tv(this._consts)}get derive(){return Tv(this._derive)}get errors(){return Tv(this._errors)}get events(){return Tv(this._events)}get extrinsicVersion(){return this._extrinsicType}get genesisHash(){return Tv(this._genesisHash)}get isConnected(){return this._isConnected.getValue()}get libraryInfo(){return`${Pe.a.name} v${Pe.a.version}`}get query(){return Tv(this._query)}get queryMulti(){return Tv(this._queryMulti)}get rpc(){return Tv(this._rpc)}get runtimeChain(){return Tv(this._runtimeChain)}get runtimeMetadata(){return Tv(this._runtimeMetadata)}get runtimeVersion(){return Tv(this._runtimeVersion)}get rx(){return Tv(this._rx)}get type(){return this._type}get tx(){return Tv(this._extrinsics)}findCall(e){return Dt(this.registry,e)}findError(e){return jt(this.registry,e)}}{constructor(e={},t,r){super(e,t,r)}connect(){return this._rpcCore.connect()}disconnect(){return this._unsubscribe(),this._rpcCore.disconnect()}setSigner(e){this._rx.signer=e}async sign(e,t,{signer:r}={}){if(Object(R.a)(e)){const n=r||this._rx.signer;return Object(D.a)(null==n?void 0:n.signRaw,"No signer exists with a signRaw interface. You possibly need to pass through an explicit keypair for the origin so it can be used for signing."),(await n.signRaw(jv(jv({type:"bytes"},t),{},{address:e}))).signature}return Object(Ct.a)(e.sign(Object(Tt.a)(t.data)))}}var Iv=Object(P.a)("allHasFired"),Rv=Object(P.a)("callback"),Bv=Object(P.a)("fired"),Nv=Object(P.a)("fns"),Fv=Object(P.a)("isActive"),qv=Object(P.a)("results"),Lv=Object(P.a)("subscriptions");class Hv{constructor(e,t){Object.defineProperty(this,Iv,{writable:!0,value:!1}),Object.defineProperty(this,Rv,{writable:!0,value:void 0}),Object.defineProperty(this,Bv,{writable:!0,value:[]}),Object.defineProperty(this,Nv,{writable:!0,value:[]}),Object.defineProperty(this,Fv,{writable:!0,value:!0}),Object.defineProperty(this,qv,{writable:!0,value:[]}),Object.defineProperty(this,Lv,{writable:!0,value:[]}),Object(O.a)(this,Rv)[Rv]=t,Object(O.a)(this,Lv)[Lv]=e.map(async(e,t)=>{const[r,...n]=Array.isArray(e)?e:[e];return Object(O.a)(this,Bv)[Bv].push(!1),Object(O.a)(this,Nv)[Nv].push(r),r(...n,this._createCallback(t))})}_allHasFired(){var e;return(e=Object(O.a)(this,Iv))[Iv]||(e[Iv]=0===Object(O.a)(this,Bv)[Bv].filter(e=>!e).length),Object(O.a)(this,Iv)[Iv]}_createCallback(e){return t=>{Object(O.a)(this,Bv)[Bv][e]=!0,Object(O.a)(this,qv)[qv][e]=t,this._triggerUpdate()}}_triggerUpdate(){if(Object(O.a)(this,Fv)[Fv]&&Object(At.a)(Object(O.a)(this,Rv)[Rv])&&this._allHasFired())try{Object(O.a)(this,Rv)[Rv](Object(O.a)(this,qv)[qv])}catch(e){}}unsubscribe(){Object(O.a)(this,Fv)[Fv]&&(Object(O.a)(this,Fv)[Fv]=!1,Object(O.a)(this,Lv)[Lv].forEach(async e=>{try{const t=await e;Object(At.a)(t)&&t()}catch(e){}}))}}function Uv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uv(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vv(e,t){let r=!1;return{reject:e=>(r||(r=!0,t(e)),dt),resolve:t=>{r||(r=!0,e(t))}}}function Gv(e,t){const r=t&&t.methodName&&t.methodName.includes("subscribe");return function(...n){const[a,i]=function(e,t){let r;const n=e.slice();return e.length&&Object(At.a)(e[e.length-1])&&(r=n.pop()),Object(D.a)(!t||Object(At.a)(r),"Expected a callback to be passed with subscriptions"),[n,r]}(n,!!r);return i?function(e,t,r){return new Promise((n,a)=>{const i=Vv(n,a),s=e(...t).pipe(Pt(e=>i.reject(e)),Et(()=>i.resolve(()=>s.unsubscribe()))).subscribe(e=>{setTimeout(()=>r(e),0)})})}(e,a,i):function(e,t){return new Promise((r,n)=>{const a=Vv(r,n),i=e(...t).pipe(Pt(e=>a.reject(e))).subscribe(e=>{a.resolve(e),setTimeout(()=>i.unsubscribe(),0)})})}((null==t?void 0:t.overrideNoSub)||e,a)}}var Wv=Object(P.a)("isReadyPromise"),Kv=Object(P.a)("isReadyOrErrorPromise");class Yv extends Mv{static create(e){const t=new Yv(e);return e&&e.throwOnConnect?t.isReadyOrError:(t.isReadyOrError.catch(()=>{}),t.isReady)}constructor(e){super(e,"promise",Gv),Object.defineProperty(this,Wv,{writable:!0,value:void 0}),Object.defineProperty(this,Kv,{writable:!0,value:void 0}),Object(O.a)(this,Wv)[Wv]=new Promise(e=>{super.once("ready",()=>e(this))}),Object(O.a)(this,Kv)[Kv]=new Promise((e,t)=>{const r=Vv(e,t);super.once("ready",()=>r.resolve(this)),super.once("error",e=>r.reject(e))})}get isReady(){return Object(O.a)(this,Wv)[Wv]}get isReadyOrError(){return Object(O.a)(this,Kv)[Kv]}clone(){return new Yv(zv(zv({},this._options),{},{source:this}))}async combineLatest(e,t){const r=new Hv(e,t);return()=>{r.unsubscribe()}}}function Xv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xv(Object(r),!0).forEach((function(t){Object(S.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qv(e){return e}var Zv=Object(P.a)("isReadyRx");class $v extends Mv{static create(e){return new $v(e).isReady}constructor(e){super(e,"rxjs",Qv),Object.defineProperty(this,Zv,{writable:!0,value:void 0}),Object(O.a)(this,Zv)[Zv]=Vt(new Promise(e=>{super.on("ready",()=>e(this))}))}get isReady(){return Object(O.a)(this,Zv)[Zv]}clone(){return new $v(Jv(Jv({},this._options),{},{source:this}))}}},function(e,t,r){"use strict";r.r(t),r.d(t,"hash",(function(){return p})),r.d(t,"deriveKey",(function(){return f})),r.d(t,"keyedHash",(function(){return m})),r.d(t,"BrowserHasher",(function(){return w})),r.d(t,"createHash",(function(){return x})),r.d(t,"createKeyed",(function(){return k})),r.d(t,"defaultHashLength",(function(){return n})),r.d(t,"inputToArray",(function(){return a})),r.d(t,"maxHashBytes",(function(){return g})),r.d(t,"BaseHashReader",(function(){return y})),r.d(t,"BaseHash",(function(){return b})),r.d(t,"using",(function(){return v}));const n=32,a=e=>e instanceof Uint8Array?e:new Uint8Array(e),i=new TextDecoder,s={base64:e=>btoa(String.fromCharCode(...e)),hex:e=>{let t="";for(const r of e)r<16&&(t+="0"),t+=r.toString(16);return t},utf8:e=>i.decode(e)},o=e=>{const t=s[e];if(!t)throw new Error("Unknown encoding "+e);return t};class c extends Uint8Array{equals(e){if(!(e instanceof Uint8Array))return!1;if(e.length!==this.length)return!1;let t=0;for(let r=0;r<this.length;r++)t|=this[r]^e[r];return 0===t}toString(e="hex"){return o(e)(this)}}let u;const l=()=>{if(!u)throw new Error("BLAKE3 webassembly not loaded. Please import the module via `blake3/browser` or `blake3/browser-async`");return u},d=new TextEncoder,h=e=>a("string"==typeof e?d.encode(e):e);function p(e,{length:t=n}={}){const r=new c(t);return l().hash(h(e),r),r}function f(e,t,{length:r=n}={}){const a=l().create_derive(e);a.update(h(t));const i=new c(r);return a.digest(i),i}function m(e,t,{length:r=n}={}){if(32!==e.length)throw new Error("key provided to keyedHash must be 32 bytes, got "+e.length);const a=l().create_keyed(e);a.update(h(t));const i=new c(r);return a.digest(i),i}const g=BigInt("18446744073709551615");class y{constructor(e){this.pos=BigInt(0),this.reader=e}get position(){return this.pos}set position(e){var t;if("bigint"!=typeof e)throw new Error(`Got a ${typeof e} set in to reader.position, expected a bigint`);this.boundsCheck(e),this.pos=e,null===(t=this.reader)||void 0===t||t.set_position(e)}readInto(e){if(!this.reader)throw new Error("Cannot read from a hash after it was disposed");const t=this.pos+BigInt(e.length);this.boundsCheck(t),this.reader.fill(e),this.position=t}read(e){const t=this.alloc(e);return this.readInto(t),t}dispose(){var e,t;null===(t=null===(e=this.reader)||void 0===e?void 0:e.free)||void 0===t||t.call(e),this.reader=void 0}boundsCheck(e){if(e>g)throw new RangeError(`Cannot read past ${g} bytes in BLAKE3 hashes`);if(e<BigInt(0))throw new RangeError("Cannot read to a negative position")}}class b{constructor(e,t,r){this.alloc=t,this.getReader=r,this.hash=e}update(e){if(!this.hash)throw new Error("Cannot continue updating hashing after dispose() has been called");return this.hash.update(a(e)),this}digest({length:e=n,dispose:t=!0}={}){if(!this.hash)throw new Error("Cannot call digest() after dipose() has been called");const r=this.alloc(e);return this.hash.digest(r),t&&this.dispose(),r}reader({dispose:e=!0}={}){if(!this.hash)throw new Error("Cannot call reader() after dipose() has been called");const t=this.getReader(this.hash.reader());return e&&this.dispose(),t}dispose(){var e;null===(e=this.hash)||void 0===e||e.free(),this.hash=void 0}}const v=(e,t)=>{let r;try{r=t(e)}catch(t){throw e.dispose(),t}return"object"==typeof(n=r)&&n&&"then"in n?r.then(t=>(e.dispose(),t),t=>{throw e.dispose(),t}):(e.dispose(),r);var n};class _ extends y{toString(e="hex"){return this.toArray().toString(e)}toArray(){return this.position=BigInt(0),this.read(n)}alloc(e){return new c(e)}}class w extends b{update(e){return super.update(h(e))}digest(e,t){let r,n;e&&"object"==typeof e?(r=e,n=void 0):(r=t,n=e);const a=super.digest(r);return n?o(n)(a):a}}const x=()=>new w(l().create_hasher(),e=>new c(e),e=>new _(e)),k=e=>new w(l().create_keyed(e),e=>new c(e),e=>new _(e))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n={name:"@polkadot/util",version:"7.7.1"}},function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return l}));const n={bifrost:["0x9f28c6a68e0fc9646eff64935684f6eeeece527e37bbe1f213d22caa1d9d6bed"],centrifuge:["0x67dddf2673b69e5f875f6f25277495834398eafd67f492e09f3f3345e003d1b5"],"dock-mainnet":["0xf73467c6544aa68df2ee546b135f955c46b90fa627e9b5d7935f41061bb8a5a9"],edgeware:["0x742a2ca70c2fda6cee4f8df98d64c4c670a052d9568058982dad9d5a7a135c5b"],equilibrium:["0x6f1a800de3daff7f5e037ddf66ab22ce03ab91874debeddb1086f5f7dbd48925"],genshiro:["0x9b8cefc0eb5c568b527998bdd76c184e2b76ae561be76e4667072230217ea243"],hydradx:["0xd2a620c27ec5cbc5621ff9a522689895074f7cca0d08e7134a7804e1a3ba86fc","0x10af6e84234477d84dc572bac0789813b254aa490767ed06fb9591191d1073f9","0x3d75507dd46301767e601265791da1d9cb47b6ebc94e87347b635e5bf58bd047","0x0ed32bfcab4a83517fac88f2aa7cbc2f88d3ab93be9a12b6188a036bf8a943c2"],karura:["0xbaf5aabe40646d11f0ee8abbdc64f4a4b7674925cba08e4a05ff9ebed6e2126b"],kulupu:["0xf7a99d3cb92853d00d5275c971c132c074636256583fee53b3bbe60d7b8769ba"],kusama:["0xb0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","0xe3777fa922cafbff200cadeaea1a76bd7898ad5b89f7848999058b50e715f636","0x3fd7b9eb6a00376e5be61f01abb429ffb0b104be05eaff4d458da48fcd425baf"],"nodle-chain":["0xa3d114c2b8d0627c1aa9b134eafcf7d05ca561fdc19fb388bb9457f81809fb23"],plasm:["0x3e86364d4b4894021cb2a0390bcf2feb5517d5292f2de2bb9404227e908b0b8b"],polkadot:["0x91b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3"],polymesh:["0x9deeb940c92ae02111c3bd5baca89970384f4c9849f02a1b2e53e66414d30f9f"],stafi:["0x290a4149f09ea0e402c74c1c7e96ae4239588577fe78932f94f5404c68243d80"],statemine:["0x48239ef607d7928874027a43a67689209727dfb3d3dc5e5b03a39bdc2eda771a"],subsocial:["0x0bd72c1c305172e1275278aaeb3f161e02eccb7a819e63f62d47bd53a28189f8"]},a={centrifuge:"polkadot",kusama:"polkadot",polkadot:"polkadot",statemine:"polkadot",statemint:"polkadot",westmint:"polkadot"},i={centrifuge:747,"dock-mainnet":594,edgeware:523,equilibrium:99999997,genshiro:99999996,kusama:434,"nodle-chain":1003,polkadot:354,polymesh:595,statemine:434},s={"":!0,"cess-testnet":!0,"dock-testnet":!0,jupiter:!0,"mathchain-testnet":!0,"zero-alphaville":!0},o=[0,2,42],c=["testnet"];const u=[{decimals:[10],displayName:"Polkadot Relay Chain",network:"polkadot",prefix:0,standardAccount:"*25519",symbols:["DOT"],website:"https://polkadot.network"},{decimals:null,displayName:"Bare 32-bit Schnorr/Ristretto (S/R 25519) public key.",network:"BareSr25519",prefix:1,standardAccount:"Sr25519",symbols:null,website:null},{decimals:[12],displayName:"Kusama Relay Chain",network:"kusama",prefix:2,standardAccount:"*25519",symbols:["KSM"],website:"https://kusama.network"},{decimals:null,displayName:"Bare 32-bit Ed25519 public key.",network:"BareEd25519",prefix:3,standardAccount:"Ed25519",symbols:null,website:null},{decimals:null,displayName:"Katal Chain",network:"katalchain",prefix:4,standardAccount:"*25519",symbols:null,website:null},{decimals:[15],displayName:"Plasm Network",network:"plasm",prefix:5,standardAccount:"*25519",symbols:["PLM"],website:"https://plasmnet.io"},{decimals:[12],displayName:"Bifrost",network:"bifrost",prefix:6,standardAccount:"*25519",symbols:["BNC"],website:"https://bifrost.finance/"},{decimals:[18],displayName:"Edgeware",network:"edgeware",prefix:7,standardAccount:"*25519",symbols:["EDG"],website:"https://edgewa.re"},{decimals:[12],displayName:"Karura",network:"karura",prefix:8,standardAccount:"*25519",symbols:["KAR"],website:"https://karura.network/"},{decimals:[18],displayName:"Laminar Reynolds Canary",network:"reynolds",prefix:9,standardAccount:"*25519",symbols:["REY"],website:"http://laminar.network/"},{decimals:[12],displayName:"Acala",network:"acala",prefix:10,standardAccount:"*25519",symbols:["ACA"],website:"https://acala.network/"},{decimals:[18],displayName:"Laminar",network:"laminar",prefix:11,standardAccount:"*25519",symbols:["LAMI"],website:"http://laminar.network/"},{decimals:[6],displayName:"Polymesh",network:"polymesh",prefix:12,standardAccount:"*25519",symbols:["POLYX"],website:"https://polymath.network/"},{decimals:[12],displayName:"Integritee",network:"integritee",prefix:13,standardAccount:"*25519",symbols:["TEER"],website:"https://integritee.network"},{decimals:[0],displayName:"Totem",network:"totem",prefix:14,standardAccount:"*25519",symbols:["XTX"],website:"https://totemaccounting.com"},{decimals:[12],displayName:"Synesthesia",network:"synesthesia",prefix:15,standardAccount:"*25519",symbols:["SYN"],website:"https://synesthesia.network/"},{decimals:[12],displayName:"Kulupu",network:"kulupu",prefix:16,standardAccount:"*25519",symbols:["KLP"],website:"https://kulupu.network/"},{decimals:null,displayName:"Dark Mainnet",network:"dark",prefix:17,standardAccount:"*25519",symbols:null,website:null},{decimals:[9,9],displayName:"Darwinia Network",network:"darwinia",prefix:18,standardAccount:"*25519",symbols:["RING","KTON"],website:"https://darwinia.network/"},{decimals:[12],displayName:"GeekCash",network:"geek",prefix:19,standardAccount:"*25519",symbols:["GEEK"],website:"https://geekcash.org"},{decimals:[12],displayName:"Stafi",network:"stafi",prefix:20,standardAccount:"*25519",symbols:["FIS"],website:"https://stafi.io"},{decimals:[6],displayName:"Dock Testnet",network:"dock-testnet",prefix:21,standardAccount:"*25519",symbols:["DCK"],website:"https://dock.io"},{decimals:[6],displayName:"Dock Mainnet",network:"dock-mainnet",prefix:22,standardAccount:"*25519",symbols:["DCK"],website:"https://dock.io"},{decimals:null,displayName:"ShiftNrg",network:"shift",prefix:23,standardAccount:"*25519",symbols:null,website:null},{decimals:[18],displayName:"ZERO",network:"zero",prefix:24,standardAccount:"*25519",symbols:["PLAY"],website:"https://zero.io"},{decimals:[18],displayName:"ZERO Alphaville",network:"zero-alphaville",prefix:25,standardAccount:"*25519",symbols:["PLAY"],website:"https://zero.io"},{decimals:[10],displayName:"Jupiter",network:"jupiter",prefix:26,standardAccount:"*25519",symbols:["jDOT"],website:"https://jupiter.patract.io"},{decimals:null,displayName:"Subsocial",network:"subsocial",prefix:28,standardAccount:"*25519",symbols:null,website:null},{decimals:[18],displayName:"Dhiway CORD Network",network:"cord",prefix:29,standardAccount:"*25519",symbols:["DCU"],website:"https://dhiway.com/"},{decimals:[12],displayName:"Phala Network",network:"phala",prefix:30,standardAccount:"*25519",symbols:["PHA"],website:"https://phala.network"},{decimals:[12],displayName:"Litentry Network",network:"litentry",prefix:31,standardAccount:"*25519",symbols:["LIT"],website:"https://litentry.com/"},{decimals:[9],displayName:"Robonomics",network:"robonomics",prefix:32,standardAccount:"*25519",symbols:["XRT"],website:"https://robonomics.network"},{decimals:null,displayName:"DataHighway",network:"datahighway",prefix:33,standardAccount:"*25519",symbols:null,website:null},{decimals:[12],displayName:"Ares Protocol",network:"ares",prefix:34,standardAccount:"*25519",symbols:["ARES"],website:"https://www.aresprotocol.com/"},{decimals:[15],displayName:"Valiu Liquidity Network",network:"vln",prefix:35,standardAccount:"*25519",symbols:["USDv"],website:"https://valiu.com/"},{decimals:[18],displayName:"Centrifuge Chain",network:"centrifuge",prefix:36,standardAccount:"*25519",symbols:["CFG"],website:"https://centrifuge.io/"},{decimals:[18],displayName:"Nodle Chain",network:"nodle",prefix:37,standardAccount:"*25519",symbols:["NODL"],website:"https://nodle.io/"},{decimals:[18],displayName:"KILT Chain",network:"kilt",prefix:38,standardAccount:"*25519",symbols:["KILT"],website:"https://kilt.io/"},{decimals:[18],displayName:"MathChain mainnet",network:"mathchain",prefix:39,standardAccount:"*25519",symbols:["MATH"],website:"https://mathwallet.org"},{decimals:[18],displayName:"MathChain testnet",network:"mathchain-testnet",prefix:40,standardAccount:"*25519",symbols:["MATH"],website:"https://mathwallet.org"},{decimals:null,displayName:"Polimec Chain",network:"poli",prefix:41,standardAccount:"*25519",symbols:null,website:"https://polimec.io/"},{decimals:null,displayName:"Substrate",network:"substrate",prefix:42,standardAccount:"*25519",symbols:null,website:"https://substrate.io/"},{decimals:null,displayName:"Bare 32-bit ECDSA SECP-256k1 public key.",network:"BareSecp256k1",prefix:43,standardAccount:"secp256k1",symbols:null,website:null},{decimals:[8],displayName:"ChainX",network:"chainx",prefix:44,standardAccount:"*25519",symbols:["PCX"],website:"https://chainx.org/"},{decimals:[12,12],displayName:"UniArts Network",network:"uniarts",prefix:45,standardAccount:"*25519",symbols:["UART","UINK"],website:"https://uniarts.me"},{decimals:null,displayName:"This prefix is reserved.",network:"reserved46",prefix:46,standardAccount:null,symbols:null,website:null},{decimals:null,displayName:"This prefix is reserved.",network:"reserved47",prefix:47,standardAccount:null,symbols:null,website:null},{decimals:[12],displayName:"Neatcoin Mainnet",network:"neatcoin",prefix:48,standardAccount:"*25519",symbols:["NEAT"],website:"https://neatcoin.org"},{decimals:[12],displayName:"Picasso",network:"picasso",prefix:49,standardAccount:"*25519",symbols:["PICA"],website:"https://picasso.composable.finance"},{decimals:[12],displayName:"Composable",network:"composable",prefix:50,standardAccount:"*25519",symbols:["LAYR"],website:"https://composable.finance"},{decimals:[12],displayName:"HydraDX",network:"hydradx",prefix:63,standardAccount:"*25519",symbols:["HDX"],website:"https://hydradx.io"},{decimals:[18],displayName:"AvN Mainnet",network:"aventus",prefix:65,standardAccount:"*25519",symbols:["AVT"],website:"https://aventus.io"},{decimals:[12],displayName:"Crust Network",network:"crust",prefix:66,standardAccount:"*25519",symbols:["CRU"],website:"https://crust.network"},{decimals:[0,9,9,9,9,9,9,9],displayName:"Equilibrium Network",network:"equilibrium",prefix:67,standardAccount:"*25519",symbols:["Unknown","USD","EQ","ETH","BTC","EOS","DOT","CRV"],website:"https://equilibrium.io"},{decimals:[18],displayName:"SORA Network",network:"sora",prefix:69,standardAccount:"*25519",symbols:["XOR"],website:"https://sora.org"},{decimals:[10],displayName:"Zeitgeist",network:"zeitgeist",prefix:73,standardAccount:"*25519",symbols:["ZTG"],website:"https://zeitgeist.pm"},{decimals:[12],displayName:"Manta network",network:"manta",prefix:77,standardAccount:"*25519",symbols:["MA"],website:"https://manta.network"},{decimals:[12],displayName:"Calamari: Manta Canary Network",network:"calamari",prefix:78,standardAccount:"*25519",symbols:["KMA"],website:"https://manta.network"},{decimals:[12],displayName:"Polkadex Mainnet",network:"polkadex",prefix:88,standardAccount:"*25519",symbols:["PDEX"],website:"https://polkadex.trade"},{decimals:[18],displayName:"PolkaSmith Canary Network",network:"polkasmith",prefix:98,standardAccount:"*25519",symbols:["PKS"],website:"https://polkafoundry.com"},{decimals:[18],displayName:"PolkaFoundry Network",network:"polkafoundry",prefix:99,standardAccount:"*25519",symbols:["PKF"],website:"https://polkafoundry.com"},{decimals:[18],displayName:"OriginTrail Parachain",network:"origintrail-parachain",prefix:101,standardAccount:"secp256k1",symbols:["TRAC"],website:"https://origintrail.io"},{decimals:[12],displayName:"Heiko",network:"heiko",prefix:110,standardAccount:"*25519",symbols:["HKO"],website:"https://parallel.fi/"},{decimals:null,displayName:"Integritee Incognito",network:"integritee-incognito",prefix:113,standardAccount:"*25519",symbols:null,website:"https://integritee.network"},{decimals:[18],displayName:"Clover Finance",network:"clover",prefix:128,standardAccount:"*25519",symbols:["CLV"],website:"https://clover.finance"},{decimals:[18],displayName:"Altair",network:"altair",prefix:136,standardAccount:"*25519",symbols:["AIR"],website:"https://centrifuge.io/"},{decimals:[12],displayName:"Parallel",network:"parallel",prefix:172,standardAccount:"*25519",symbols:["PARA"],website:"https://parallel.fi/"},{decimals:[18],displayName:"Social Network",network:"social-network",prefix:252,standardAccount:"*25519",symbols:["NET"],website:"https://social.network"},{decimals:[15],displayName:"QUARTZ by UNIQUE",network:"quartz_mainnet",prefix:255,standardAccount:"*25519",symbols:["QTZ"],website:"https://unique.network"},{decimals:[18],displayName:"Moonbeam",network:"moonbeam",prefix:1284,standardAccount:"secp256k1",symbols:["GLMR"],website:"https://moonbeam.network"},{decimals:[18],displayName:"Moonriver",network:"moonriver",prefix:1285,standardAccount:"secp256k1",symbols:["MOVR"],website:"https://moonbeam.network"},{decimals:[12],displayName:"Basilisk",network:"basilisk",prefix:10041,standardAccount:"*25519",symbols:["BSX"],website:"https://bsx.fi"},{decimals:[12],displayName:"CESS Testnet",network:"cess-testnet",prefix:10042,standardAccount:"*25519",symbols:["TCESS"],website:"https://cess.cloud"},{decimals:[12],displayName:"CESS",network:"cess",prefix:10043,standardAccount:"*25519",symbols:["CESS"],website:"https://cess.cloud"},{decimals:[18],displayName:"Automata ContextFree",network:"contextfree",prefix:11820,standardAccount:"*25519",symbols:["CTX"],website:"https://ata.network"}].map((function(e){const t=e.network||"",r=t.replace(/_/g,"-").split("-"),o=e;return o.slip44=i[t],o.hasLedgerSupport=!!o.slip44,o.genesisHash=n[t]||[],o.icon=a[t]||"substrate",o.isTestnet=!!s[t]||c.includes(r[r.length-1]),o.isIgnored=o.isTestnet||!(e.standardAccount&&e.decimals&&e.symbols)&&42!==e.prefix,o})).filter((function(e){return!e.isIgnored&&!!e.network})).sort((function(e,t){const r=o.includes(e.prefix),n=o.includes(t.prefix);return r===n?0:r?-1:n?1:e.displayName.localeCompare(t.displayName)})),l=u.filter((function({genesisHash:e,prefix:t}){return!!e.length||42===t}))},,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return new Uint8Array(e||[])}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));const n=new(r(648).a)("utf-8");function a(e){return null!=e&&e.length?n.decode(e):""}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return b}));var n=r(637),a=r(636),i=r(183),s=r(74),o=r(635),c=r(192),u=r(78),l=r(16);const d={debug:"log",error:"error",log:"log",warn:"warn"};function h(e){return Array.isArray(e)?e.map(h):Object(a.a)(e)?e.toString():Object(c.a)(e)||Object(i.a)(e)?Object(u.a)(Object(l.a)(e)):function(e){if(e&&Object(o.a)(e)&&e.constructor===Object){const t={};for(const r of Object.keys(e))t[r]=h(e[r]);return t}return e}(e)}function p(e,t,r,a=-1){if(1===r.length&&Object(s.a)(r[0])){const n=r[0]();return p(e,t,Array.isArray(n)?n:[n],a)}var i;console[d[e]](Object(n.a)(new Date),t,...r.map(h).map((i=a,e=>{if(i<=0)return e;const t=""+e;return t.length<i?e:t.substr(0,i)+" ..."})))}function f(){}function m(e,t){return!!e&&("*"===e||t===e||e.endsWith("*")&&t.startsWith(e.slice(0,-1)))}function g(e,t){return!!e&&e.startsWith("-")&&(t===e.slice(1)||e.endsWith("*")&&t.startsWith(e.slice(1,-1)))}function y(e,t){let r=!1;for(const n of e)m(n,t)?r=!0:g(n,t)&&(r=!1);return r}function b(t){const r=(t.toUpperCase()+":").padStart(16),[n,a]=function(t){const r=("object"==typeof e?e:{}).env||{},n=parseInt(r.DEBUG_MAX||"-1",10);return[y((r.DEBUG||"").toLowerCase().split(","),t),isNaN(n)?-1:n]}(t.toLowerCase());return{debug:n?(...e)=>p("debug",r,e,a):f,error:(...e)=>p("error",r,e),log:(...e)=>p("log",r,e),noop:f,warn:(...e)=>p("warn",r,e)}}}).call(this,r(19))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(16),a=r(25),i=r(62),s=r(189);function o(e){const t=Object(n.a)(e);return Object(a.a)(32===t.length,()=>"Expected a seed matching 32 bytes, found "+t.length),Object(s.a)(Object(i.o)(t))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(187),a=r(78);function i(e,t={isLe:!0,isNegative:!1}){return Object(n.a)(Object(a.a)(e),t)}},function(e,t,r){"use strict";(function(e){function n(t){return e.from(t||[])}r.d(t,"a",(function(){return n}))}).call(this,r(11).Buffer)},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(16),a=r(25),i=r(78),s=r(651),o=r(370);function c(e){if(!e)return"0x";const t=Object(n.a)(e);Object(a.a)([20,32,33,65].includes(t.length),"Invalid address or publicKey passed");const r=Object(i.a)(([33,65].includes((c=t).length)&&(c=Object(s.a)(Object(o.a)(c))),c.slice(-20)),-1,!1);var c;const u=Object(i.a)(Object(s.a)(r),-1,!1);let l="";for(let e=0;e<40;e++)l=`${l}${parseInt(u[e],16)>7?r[e].toUpperCase():r[e]}`;return"0x"+l}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(112),a=r(641);function i(e){return Object(n.a)(Object(a.a)(e.length),e)}},function(e,t,r){"use strict";function n(e){return null===e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(62);function a(){return Object(n.u)().then(()=>!0).catch(e=>(console.error("Unable to initialize @polkadot/util-crypto",e),!1))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));var n=r(1308),a=r(136),i=r(25),s=r(192),o=r(112),c=r(75);const u=Object(n.a)(Object(a.a)("Secp256k1HDKD"));function l(e,t){return(r,{chainCode:n,isHard:a})=>(Object(i.a)(a,"A soft key was found in the path and is not supported"),e(t(r.secretKey.subarray(0,32),n)))}const d=l(r(638).a,(function(e,t){return Object(i.a)(Object(s.a)(t)&&32===t.length,"Invalid chainCode passed to derive"),Object(c.a)(Object(o.a)(u,e,t),256)})),h=Object(n.a)(Object(a.a)("Ed25519HDKD"));const p=l(r(639).a,(function(e,t){return Object(i.a)(Object(s.a)(t)&&32===t.length,"Invalid chainCode passed to derive"),Object(c.a)(Object(o.a)(h,e,t))}));var f=r(62),m=r(189);function g(e){return(t,r)=>(Object(i.a)(Object(s.a)(r)&&32===r.length,"Invalid chainCode passed to derive"),Object(m.a)(e(function({publicKey:e,secretKey:t}){return Object(o.a)(t,e).slice()}(t),r)))}const y=g(f.m),b=g(f.n);const v={ecdsa:d,ed25519:p,ethereum:d,sr25519:function(e,{chainCode:t,isSoft:r}){return r?b(e,t):y(e,t)}};function _(e,t,r){const n=v[r];let a=e;for(const e of t)a=n(a,e);return a}},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(25),a=r(112),i=r(16),s=r(110);var o=r(191),c=r(77),u=r(184);function l(e,t=c.a.prefix){const r=Object(o.a)(e);Object(n.a)(t>=0&&t<=16383&&![46,47].includes(t),"Out of range ss58Format specified"),Object(n.a)(c.a.allowedDecodedLengths.includes(r.length),()=>"Expected a valid key to convert, with length "+c.a.allowedDecodedLengths.join(", "));const l=Object(a.a)(t<64?[t]:[(252&t)>>2|64,t>>8|(3&t)<<6],r);return function(e,t){const r=s.b.encode(Object(i.a)(e));return t?"z"+r:r}(Object(a.a)(l,Object(u.a)(l).subarray(0,[32,33].includes(r.length)?2:1)))}}]);